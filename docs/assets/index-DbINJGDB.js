var m5e=Object.defineProperty;var v5e=(t,e,r)=>e in t?m5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var K=(t,e,r)=>v5e(t,typeof e!="symbol"?e+"":e,r);function y5e(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HP={exports:{}},ev={},qP={exports:{}},hr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cz;function w5e(){if(Cz)return hr;Cz=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),A=Symbol.iterator;function d(z){return z===null||typeof z!="object"?null:(z=A&&z[A]||z["@@iterator"],typeof z=="function"?z:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(z,V,X){this.props=z,this.context=V,this.refs=g,this.updater=X||f}m.prototype.isReactComponent={},m.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},m.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function w(){}w.prototype=m.prototype;function b(z,V,X){this.props=z,this.context=V,this.refs=g,this.updater=X||f}var C=b.prototype=new w;C.constructor=b,p(C,m.prototype),C.isPureReactComponent=!0;var S=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function T(z,V,X){var ee,J={},le=null,de=null;if(V!=null)for(ee in V.ref!==void 0&&(de=V.ref),V.key!==void 0&&(le=""+V.key),V)x.call(V,ee)&&!B.hasOwnProperty(ee)&&(J[ee]=V[ee]);var oe=arguments.length-2;if(oe===1)J.children=X;else if(1<oe){for(var re=Array(oe),se=0;se<oe;se++)re[se]=arguments[se+2];J.children=re}if(z&&z.defaultProps)for(ee in oe=z.defaultProps,oe)J[ee]===void 0&&(J[ee]=oe[ee]);return{$$typeof:t,type:z,key:le,ref:de,props:J,_owner:_.current}}function R(z,V){return{$$typeof:t,type:z.type,key:V,ref:z.ref,props:z.props,_owner:z._owner}}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function M(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(X){return V[X]})}var U=/\/+/g;function F(z,V){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):V.toString(36)}function j(z,V,X,ee,J){var le=typeof z;(le==="undefined"||le==="boolean")&&(z=null);var de=!1;if(z===null)de=!0;else switch(le){case"string":case"number":de=!0;break;case"object":switch(z.$$typeof){case t:case e:de=!0}}if(de)return de=z,J=J(de),z=ee===""?"."+F(de,0):ee,S(J)?(X="",z!=null&&(X=z.replace(U,"$&/")+"/"),j(J,V,X,"",function(se){return se})):J!=null&&(P(J)&&(J=R(J,X+(!J.key||de&&de.key===J.key?"":(""+J.key).replace(U,"$&/")+"/")+z)),V.push(J)),1;if(de=0,ee=ee===""?".":ee+":",S(z))for(var oe=0;oe<z.length;oe++){le=z[oe];var re=ee+F(le,oe);de+=j(le,V,X,re,J)}else if(re=d(z),typeof re=="function")for(z=re.call(z),oe=0;!(le=z.next()).done;)le=le.value,re=ee+F(le,oe++),de+=j(le,V,X,re,J);else if(le==="object")throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return de}function L(z,V,X){if(z==null)return z;var ee=[],J=0;return j(z,ee,"","",function(le){return V.call(X,le,J++)}),ee}function $(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(X){(z._status===0||z._status===-1)&&(z._status=1,z._result=X)},function(X){(z._status===0||z._status===-1)&&(z._status=2,z._result=X)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var Q={current:null},H={transition:null},q={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:H,ReactCurrentOwner:_};function Y(){throw Error("act(...) is not supported in production builds of React.")}return hr.Children={map:L,forEach:function(z,V,X){L(z,function(){V.apply(this,arguments)},X)},count:function(z){var V=0;return L(z,function(){V++}),V},toArray:function(z){return L(z,function(V){return V})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},hr.Component=m,hr.Fragment=r,hr.Profiler=i,hr.PureComponent=b,hr.StrictMode=n,hr.Suspense=l,hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,hr.act=Y,hr.cloneElement=function(z,V,X){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ee=p({},z.props),J=z.key,le=z.ref,de=z._owner;if(V!=null){if(V.ref!==void 0&&(le=V.ref,de=_.current),V.key!==void 0&&(J=""+V.key),z.type&&z.type.defaultProps)var oe=z.type.defaultProps;for(re in V)x.call(V,re)&&!B.hasOwnProperty(re)&&(ee[re]=V[re]===void 0&&oe!==void 0?oe[re]:V[re])}var re=arguments.length-2;if(re===1)ee.children=X;else if(1<re){oe=Array(re);for(var se=0;se<re;se++)oe[se]=arguments[se+2];ee.children=oe}return{$$typeof:t,type:z.type,key:J,ref:le,props:ee,_owner:de}},hr.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},hr.createElement=T,hr.createFactory=function(z){var V=T.bind(null,z);return V.type=z,V},hr.createRef=function(){return{current:null}},hr.forwardRef=function(z){return{$$typeof:s,render:z}},hr.isValidElement=P,hr.lazy=function(z){return{$$typeof:c,_payload:{_status:-1,_result:z},_init:$}},hr.memo=function(z,V){return{$$typeof:u,type:z,compare:V===void 0?null:V}},hr.startTransition=function(z){var V=H.transition;H.transition={};try{z()}finally{H.transition=V}},hr.unstable_act=Y,hr.useCallback=function(z,V){return Q.current.useCallback(z,V)},hr.useContext=function(z){return Q.current.useContext(z)},hr.useDebugValue=function(){},hr.useDeferredValue=function(z){return Q.current.useDeferredValue(z)},hr.useEffect=function(z,V){return Q.current.useEffect(z,V)},hr.useId=function(){return Q.current.useId()},hr.useImperativeHandle=function(z,V,X){return Q.current.useImperativeHandle(z,V,X)},hr.useInsertionEffect=function(z,V){return Q.current.useInsertionEffect(z,V)},hr.useLayoutEffect=function(z,V){return Q.current.useLayoutEffect(z,V)},hr.useMemo=function(z,V){return Q.current.useMemo(z,V)},hr.useReducer=function(z,V,X){return Q.current.useReducer(z,V,X)},hr.useRef=function(z){return Q.current.useRef(z)},hr.useState=function(z){return Q.current.useState(z)},hr.useSyncExternalStore=function(z,V,X){return Q.current.useSyncExternalStore(z,V,X)},hr.useTransition=function(){return Q.current.useTransition()},hr.version="18.3.1",hr}var _z;function dH(){return _z||(_z=1,qP.exports=w5e()),qP.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ez;function b5e(){if(Ez)return ev;Ez=1;var t=dH(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var c,A={},d=null,f=null;u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),l.ref!==void 0&&(f=l.ref);for(c in l)n.call(l,c)&&!a.hasOwnProperty(c)&&(A[c]=l[c]);if(s&&s.defaultProps)for(c in l=s.defaultProps,l)A[c]===void 0&&(A[c]=l[c]);return{$$typeof:e,type:s,key:d,ref:f,props:A,_owner:i.current}}return ev.Fragment=r,ev.jsx=o,ev.jsxs=o,ev}var Iz;function S5e(){return Iz||(Iz=1,HP.exports=b5e()),HP.exports}var y=S5e(),I=dH();const ce=kr(I),h1=y5e({__proto__:null,default:ce},[I]);var GS={},KP={exports:{}},Bo={},zP={exports:{}},WP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bz;function x5e(){return Bz||(Bz=1,function(t){function e(H,q){var Y=H.length;H.push(q);e:for(;0<Y;){var z=Y-1>>>1,V=H[z];if(0<i(V,q))H[z]=q,H[Y]=V,Y=z;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var q=H[0],Y=H.pop();if(Y!==q){H[0]=Y;e:for(var z=0,V=H.length,X=V>>>1;z<X;){var ee=2*(z+1)-1,J=H[ee],le=ee+1,de=H[le];if(0>i(J,Y))le<V&&0>i(de,J)?(H[z]=de,H[le]=Y,z=le):(H[z]=J,H[ee]=Y,z=ee);else if(le<V&&0>i(de,Y))H[z]=de,H[le]=Y,z=le;else break e}}return q}function i(H,q){var Y=H.sortIndex-q.sortIndex;return Y!==0?Y:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,A=null,d=3,f=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=H)n(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=r(u)}}function S(H){if(g=!1,C(H),!p)if(r(l)!==null)p=!0,$(x);else{var q=r(u);q!==null&&Q(S,q.startTime-H)}}function x(H,q){p=!1,g&&(g=!1,w(T),T=-1),f=!0;var Y=d;try{for(C(q),A=r(l);A!==null&&(!(A.expirationTime>q)||H&&!M());){var z=A.callback;if(typeof z=="function"){A.callback=null,d=A.priorityLevel;var V=z(A.expirationTime<=q);q=t.unstable_now(),typeof V=="function"?A.callback=V:A===r(l)&&n(l),C(q)}else n(l);A=r(l)}if(A!==null)var X=!0;else{var ee=r(u);ee!==null&&Q(S,ee.startTime-q),X=!1}return X}finally{A=null,d=Y,f=!1}}var _=!1,B=null,T=-1,R=5,P=-1;function M(){return!(t.unstable_now()-P<R)}function U(){if(B!==null){var H=t.unstable_now();P=H;var q=!0;try{q=B(!0,H)}finally{q?F():(_=!1,B=null)}}else _=!1}var F;if(typeof b=="function")F=function(){b(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,L=j.port2;j.port1.onmessage=U,F=function(){L.postMessage(null)}}else F=function(){m(U,0)};function $(H){B=H,_||(_=!0,F())}function Q(H,q){T=m(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,$(x))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var Y=d;d=q;try{return H()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=d;d=H;try{return q()}finally{d=Y}},t.unstable_scheduleCallback=function(H,q,Y){var z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?z+Y:z):Y=z,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Y+V,H={id:c++,callback:q,priorityLevel:H,startTime:Y,expirationTime:V,sortIndex:-1},Y>z?(H.sortIndex=Y,e(u,H),r(l)===null&&H===r(u)&&(g?(w(T),T=-1):g=!0,Q(S,Y-z))):(H.sortIndex=V,e(l,H),p||f||(p=!0,$(x))),H},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(H){var q=d;return function(){var Y=d;d=q;try{return H.apply(this,arguments)}finally{d=Y}}}}(WP)),WP}var Pz;function C5e(){return Pz||(Pz=1,zP.exports=x5e()),zP.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tz;function _5e(){if(Tz)return Bo;Tz=1;var t=dH(),e=C5e();function r(h){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+h,E=1;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+h+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(h,v){o(h,v),o(h+"Capture",v)}function o(h,v){for(i[h]=v,h=0;h<v.length;h++)n.add(v[h])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},A={};function d(h){return l.call(A,h)?!0:l.call(c,h)?!1:u.test(h)?A[h]=!0:(c[h]=!0,!1)}function f(h,v,E,O){if(E!==null&&E.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return O?!1:E!==null?!E.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function p(h,v,E,O){if(v===null||typeof v>"u"||f(h,v,E,O))return!0;if(O)return!1;if(E!==null)switch(E.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function g(h,v,E,O,D,N,W){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=O,this.attributeNamespace=D,this.mustUseProperty=E,this.propertyName=h,this.type=v,this.sanitizeURL=N,this.removeEmptyString=W}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){m[h]=new g(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var v=h[0];m[v]=new g(v,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){m[h]=new g(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){m[h]=new g(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){m[h]=new g(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){m[h]=new g(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){m[h]=new g(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){m[h]=new g(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){m[h]=new g(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function b(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var v=h.replace(w,b);m[v]=new g(v,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var v=h.replace(w,b);m[v]=new g(v,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var v=h.replace(w,b);m[v]=new g(v,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){m[h]=new g(h,1,!1,h.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){m[h]=new g(h,1,!1,h.toLowerCase(),null,!0,!0)});function C(h,v,E,O){var D=m.hasOwnProperty(v)?m[v]:null;(D!==null?D.type!==0:O||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(p(v,E,D,O)&&(E=null),O||D===null?d(v)&&(E===null?h.removeAttribute(v):h.setAttribute(v,""+E)):D.mustUseProperty?h[D.propertyName]=E===null?D.type===3?!1:"":E:(v=D.attributeName,O=D.attributeNamespace,E===null?h.removeAttribute(v):(D=D.type,E=D===3||D===4&&E===!0?"":""+E,O?h.setAttributeNS(O,v,E):h.setAttribute(v,E))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),H=Symbol.iterator;function q(h){return h===null||typeof h!="object"?null:(h=H&&h[H]||h["@@iterator"],typeof h=="function"?h:null)}var Y=Object.assign,z;function V(h){if(z===void 0)try{throw Error()}catch(E){var v=E.stack.trim().match(/\n( *(at )?)/);z=v&&v[1]||""}return`
`+z+h}var X=!1;function ee(h,v){if(!h||X)return"";X=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(_e){var O=_e}Reflect.construct(h,[],v)}else{try{v.call()}catch(_e){O=_e}h.call(v.prototype)}else{try{throw Error()}catch(_e){O=_e}h()}}catch(_e){if(_e&&O&&typeof _e.stack=="string"){for(var D=_e.stack.split(`
`),N=O.stack.split(`
`),W=D.length-1,ne=N.length-1;1<=W&&0<=ne&&D[W]!==N[ne];)ne--;for(;1<=W&&0<=ne;W--,ne--)if(D[W]!==N[ne]){if(W!==1||ne!==1)do if(W--,ne--,0>ne||D[W]!==N[ne]){var ue=`
`+D[W].replace(" at new "," at ");return h.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",h.displayName)),ue}while(1<=W&&0<=ne);break}}}finally{X=!1,Error.prepareStackTrace=E}return(h=h?h.displayName||h.name:"")?V(h):""}function J(h){switch(h.tag){case 5:return V(h.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return h=ee(h.type,!1),h;case 11:return h=ee(h.type.render,!1),h;case 1:return h=ee(h.type,!0),h;default:return""}}function le(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case B:return"Fragment";case _:return"Portal";case R:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case M:return(h.displayName||"Context")+".Consumer";case P:return(h._context.displayName||"Context")+".Provider";case U:var v=h.render;return h=h.displayName,h||(h=v.displayName||v.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case L:return v=h.displayName||null,v!==null?v:le(h.type)||"Memo";case $:v=h._payload,h=h._init;try{return le(h(v))}catch{}}return null}function de(h){var v=h.type;switch(h.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=v.render,h=h.displayName||h.name||"",v.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(v);case 8:return v===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function oe(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function re(h){var v=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function se(h){var v=re(h)?"checked":"value",E=Object.getOwnPropertyDescriptor(h.constructor.prototype,v),O=""+h[v];if(!h.hasOwnProperty(v)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var D=E.get,N=E.set;return Object.defineProperty(h,v,{configurable:!0,get:function(){return D.call(this)},set:function(W){O=""+W,N.call(this,W)}}),Object.defineProperty(h,v,{enumerable:E.enumerable}),{getValue:function(){return O},setValue:function(W){O=""+W},stopTracking:function(){h._valueTracker=null,delete h[v]}}}}function he(h){h._valueTracker||(h._valueTracker=se(h))}function ae(h){if(!h)return!1;var v=h._valueTracker;if(!v)return!0;var E=v.getValue(),O="";return h&&(O=re(h)?h.checked?"true":"false":h.value),h=O,h!==E?(v.setValue(h),!0):!1}function Ee(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Oe(h,v){var E=v.checked;return Y({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??h._wrapperState.initialChecked})}function Ne(h,v){var E=v.defaultValue==null?"":v.defaultValue,O=v.checked!=null?v.checked:v.defaultChecked;E=oe(v.value!=null?v.value:E),h._wrapperState={initialChecked:O,initialValue:E,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function De(h,v){v=v.checked,v!=null&&C(h,"checked",v,!1)}function Le(h,v){De(h,v);var E=oe(v.value),O=v.type;if(E!=null)O==="number"?(E===0&&h.value===""||h.value!=E)&&(h.value=""+E):h.value!==""+E&&(h.value=""+E);else if(O==="submit"||O==="reset"){h.removeAttribute("value");return}v.hasOwnProperty("value")?ut(h,v.type,E):v.hasOwnProperty("defaultValue")&&ut(h,v.type,oe(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(h.defaultChecked=!!v.defaultChecked)}function st(h,v,E){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var O=v.type;if(!(O!=="submit"&&O!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+h._wrapperState.initialValue,E||v===h.value||(h.value=v),h.defaultValue=v}E=h.name,E!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,E!==""&&(h.name=E)}function ut(h,v,E){(v!=="number"||Ee(h.ownerDocument)!==h)&&(E==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+E&&(h.defaultValue=""+E))}var it=Array.isArray;function Ie(h,v,E,O){if(h=h.options,v){v={};for(var D=0;D<E.length;D++)v["$"+E[D]]=!0;for(E=0;E<h.length;E++)D=v.hasOwnProperty("$"+h[E].value),h[E].selected!==D&&(h[E].selected=D),D&&O&&(h[E].defaultSelected=!0)}else{for(E=""+oe(E),v=null,D=0;D<h.length;D++){if(h[D].value===E){h[D].selected=!0,O&&(h[D].defaultSelected=!0);return}v!==null||h[D].disabled||(v=h[D])}v!==null&&(v.selected=!0)}}function be(h,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},v,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Be(h,v){var E=v.value;if(E==null){if(E=v.children,v=v.defaultValue,E!=null){if(v!=null)throw Error(r(92));if(it(E)){if(1<E.length)throw Error(r(93));E=E[0]}v=E}v==null&&(v=""),E=v}h._wrapperState={initialValue:oe(E)}}function tt(h,v){var E=oe(v.value),O=oe(v.defaultValue);E!=null&&(E=""+E,E!==h.value&&(h.value=E),v.defaultValue==null&&h.defaultValue!==E&&(h.defaultValue=E)),O!=null&&(h.defaultValue=""+O)}function ct(h){var v=h.textContent;v===h._wrapperState.initialValue&&v!==""&&v!==null&&(h.value=v)}function ot(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(h,v){return h==null||h==="http://www.w3.org/1999/xhtml"?ot(v):h==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var kt,Nt=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,E,O,D){MSApp.execUnsafeLocalFunction(function(){return h(v,E,O,D)})}:h}(function(h,v){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=v;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=kt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;v.firstChild;)h.appendChild(v.firstChild)}});function Z(h,v){if(v){var E=h.firstChild;if(E&&E===h.lastChild&&E.nodeType===3){E.nodeValue=v;return}}h.textContent=v}var ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];Object.keys(ie).forEach(function(h){me.forEach(function(v){v=v+h.charAt(0).toUpperCase()+h.substring(1),ie[v]=ie[h]})});function Te(h,v,E){return v==null||typeof v=="boolean"||v===""?"":E||typeof v!="number"||v===0||ie.hasOwnProperty(h)&&ie[h]?(""+v).trim():v+"px"}function qe(h,v){h=h.style;for(var E in v)if(v.hasOwnProperty(E)){var O=E.indexOf("--")===0,D=Te(E,v[E],O);E==="float"&&(E="cssFloat"),O?h.setProperty(E,D):h[E]=D}}var pe=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rt(h,v){if(v){if(pe[h]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function _t(h,v){if(h.indexOf("-")===-1)return typeof v.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fe=null;function Ge(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Xe=null,et=null,Tt=null;function ir(h){if(h=Lm(h)){if(typeof Xe!="function")throw Error(r(280));var v=h.stateNode;v&&(v=uS(v),Xe(h.stateNode,h.type,v))}}function Er(h){et?Tt?Tt.push(h):Tt=[h]:et=h}function Lr(){if(et){var h=et,v=Tt;if(Tt=et=null,ir(h),v)for(h=0;h<v.length;h++)ir(v[h])}}function ln(h,v){return h(v)}function qn(){}var Si=!1;function hA(h,v,E){if(Si)return h(v,E);Si=!0;try{return ln(h,v,E)}finally{Si=!1,(et!==null||Tt!==null)&&(qn(),Lr())}}function nu(h,v){var E=h.stateNode;if(E===null)return null;var O=uS(E);if(O===null)return null;E=O[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(h=h.type,O=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!O;break e;default:h=!1}if(h)return null;if(E&&typeof E!="function")throw Error(r(231,v,typeof E));return E}var sc=!1;if(s)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){sc=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{sc=!1}function bo(h,v,E,O,D,N,W,ne,ue){var _e=Array.prototype.slice.call(arguments,3);try{v.apply(E,_e)}catch(We){this.onError(We)}}var cl=!1,Ca=null,Jn=!1,lc=null,iu={onError:function(h){cl=!0,Ca=h}};function Oi(h,v,E,O,D,N,W,ne,ue){cl=!1,Ca=null,bo.apply(iu,arguments)}function _a(h,v,E,O,D,N,W,ne,ue){if(Oi.apply(this,arguments),cl){if(cl){var _e=Ca;cl=!1,Ca=null}else throw Error(r(198));Jn||(Jn=!0,lc=_e)}}function Is(h){var v=h,E=h;if(h.alternate)for(;v.return;)v=v.return;else{h=v;do v=h,(v.flags&4098)!==0&&(E=v.return),h=v.return;while(h)}return v.tag===3?E:null}function to(h){if(h.tag===13){var v=h.memoizedState;if(v===null&&(h=h.alternate,h!==null&&(v=h.memoizedState)),v!==null)return v.dehydrated}return null}function xe(h){if(Is(h)!==h)throw Error(r(188))}function Ye(h){var v=h.alternate;if(!v){if(v=Is(h),v===null)throw Error(r(188));return v!==h?null:h}for(var E=h,O=v;;){var D=E.return;if(D===null)break;var N=D.alternate;if(N===null){if(O=D.return,O!==null){E=O;continue}break}if(D.child===N.child){for(N=D.child;N;){if(N===E)return xe(D),h;if(N===O)return xe(D),v;N=N.sibling}throw Error(r(188))}if(E.return!==O.return)E=D,O=N;else{for(var W=!1,ne=D.child;ne;){if(ne===E){W=!0,E=D,O=N;break}if(ne===O){W=!0,O=D,E=N;break}ne=ne.sibling}if(!W){for(ne=N.child;ne;){if(ne===E){W=!0,E=N,O=D;break}if(ne===O){W=!0,O=N,E=D;break}ne=ne.sibling}if(!W)throw Error(r(189))}}if(E.alternate!==O)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?h:v}function Pe(h){return h=Ye(h),h!==null?ge(h):null}function ge(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var v=ge(h);if(v!==null)return v;h=h.sibling}return null}var He=e.unstable_scheduleCallback,Dt=e.unstable_cancelCallback,St=e.unstable_shouldYield,Cn=e.unstable_requestPaint,ar=e.unstable_now,oi=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,Ke=e.unstable_UserBlockingPriority,_n=e.unstable_NormalPriority,Go=e.unstable_LowPriority,ro=e.unstable_IdlePriority,uc=null,no=null;function qd(h){if(no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(uc,h,void 0,(h.current.flags&128)===128)}catch{}}var Vo=Math.clz32?Math.clz32:Eh,hB=Math.log,pB=Math.LN2;function Eh(h){return h>>>=0,h===0?32:31-(hB(h)/pB|0)|0}var Ih=64,au=4194304;function pA(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Kd(h,v){var E=h.pendingLanes;if(E===0)return 0;var O=0,D=h.suspendedLanes,N=h.pingedLanes,W=E&268435455;if(W!==0){var ne=W&~D;ne!==0?O=pA(ne):(N&=W,N!==0&&(O=pA(N)))}else W=E&~D,W!==0?O=pA(W):N!==0&&(O=pA(N));if(O===0)return 0;if(v!==0&&v!==O&&(v&D)===0&&(D=O&-O,N=v&-v,D>=N||D===16&&(N&4194240)!==0))return v;if((O&4)!==0&&(O|=E&16),v=h.entangledLanes,v!==0)for(h=h.entanglements,v&=O;0<v;)E=31-Vo(v),D=1<<E,O|=h[E],v&=~D;return O}function gB(h,v){switch(h){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mB(h,v){for(var E=h.suspendedLanes,O=h.pingedLanes,D=h.expirationTimes,N=h.pendingLanes;0<N;){var W=31-Vo(N),ne=1<<W,ue=D[W];ue===-1?((ne&E)===0||(ne&O)!==0)&&(D[W]=gB(ne,v)):ue<=v&&(h.expiredLanes|=ne),N&=~ne}}function xm(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Vb(){var h=Ih;return Ih<<=1,(Ih&4194240)===0&&(Ih=64),h}function Bh(h){for(var v=[],E=0;31>E;E++)v.push(h);return v}function zd(h,v,E){h.pendingLanes|=v,v!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,v=31-Vo(v),h[v]=E}function vB(h,v){var E=h.pendingLanes&~v;h.pendingLanes=v,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=v,h.mutableReadLanes&=v,h.entangledLanes&=v,v=h.entanglements;var O=h.eventTimes;for(h=h.expirationTimes;0<E;){var D=31-Vo(E),N=1<<D;v[D]=0,O[D]=-1,h[D]=-1,E&=~N}}function Ph(h,v){var E=h.entangledLanes|=v;for(h=h.entanglements;E;){var O=31-Vo(E),D=1<<O;D&v|h[O]&v&&(h[O]|=v),E&=~D}}var Tr=0;function cc(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Yb,Cm,Al,Xb,Jb,_m=!1,Th=[],ou=null,Ea=null,dl=null,Wd=new Map,su=new Map,lu=[],Em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zb(h,v){switch(h){case"focusin":case"focusout":ou=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":Wd.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(v.pointerId)}}function gA(h,v,E,O,D,N){return h===null||h.nativeEvent!==N?(h={blockedOn:v,domEventName:E,eventSystemFlags:O,nativeEvent:N,targetContainers:[D]},v!==null&&(v=Lm(v),v!==null&&Cm(v)),h):(h.eventSystemFlags|=O,v=h.targetContainers,D!==null&&v.indexOf(D)===-1&&v.push(D),h)}function eS(h,v,E,O,D){switch(v){case"focusin":return ou=gA(ou,h,v,E,O,D),!0;case"dragenter":return Ea=gA(Ea,h,v,E,O,D),!0;case"mouseover":return dl=gA(dl,h,v,E,O,D),!0;case"pointerover":var N=D.pointerId;return Wd.set(N,gA(Wd.get(N)||null,h,v,E,O,D)),!0;case"gotpointercapture":return N=D.pointerId,su.set(N,gA(su.get(N)||null,h,v,E,O,D)),!0}return!1}function Im(h){var v=Yd(h.target);if(v!==null){var E=Is(v);if(E!==null){if(v=E.tag,v===13){if(v=to(E),v!==null){h.blockedOn=v,Jb(h.priority,function(){Al(E)});return}}else if(v===3&&E.stateNode.current.memoizedState.isDehydrated){h.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}h.blockedOn=null}function uu(h){if(h.blockedOn!==null)return!1;for(var v=h.targetContainers;0<v.length;){var E=pn(h.domEventName,h.eventSystemFlags,v[0],h.nativeEvent);if(E===null){E=h.nativeEvent;var O=new E.constructor(E.type,E);Fe=O,E.target.dispatchEvent(O),Fe=null}else return v=Lm(E),v!==null&&Cm(v),h.blockedOn=E,!1;v.shift()}return!0}function Bm(h,v,E){uu(h)&&E.delete(v)}function yB(){_m=!1,ou!==null&&uu(ou)&&(ou=null),Ea!==null&&uu(Ea)&&(Ea=null),dl!==null&&uu(dl)&&(dl=null),Wd.forEach(Bm),su.forEach(Bm)}function Gd(h,v){h.blockedOn===v&&(h.blockedOn=null,_m||(_m=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yB)))}function Vd(h){function v(D){return Gd(D,h)}if(0<Th.length){Gd(Th[0],h);for(var E=1;E<Th.length;E++){var O=Th[E];O.blockedOn===h&&(O.blockedOn=null)}}for(ou!==null&&Gd(ou,h),Ea!==null&&Gd(Ea,h),dl!==null&&Gd(dl,h),Wd.forEach(v),su.forEach(v),E=0;E<lu.length;E++)O=lu[E],O.blockedOn===h&&(O.blockedOn=null);for(;0<lu.length&&(E=lu[0],E.blockedOn===null);)Im(E),E.blockedOn===null&&lu.shift()}var te=S.ReactCurrentBatchConfig,fe=!0;function Qe(h,v,E,O){var D=Tr,N=te.transition;te.transition=null;try{Tr=1,Yr(h,v,E,O)}finally{Tr=D,te.transition=N}}function bt(h,v,E,O){var D=Tr,N=te.transition;te.transition=null;try{Tr=4,Yr(h,v,E,O)}finally{Tr=D,te.transition=N}}function Yr(h,v,E,O){if(fe){var D=pn(h,v,E,O);if(D===null)MB(h,v,O,tr,E),Zb(h,O);else if(eS(D,h,v,E,O))O.stopPropagation();else if(Zb(h,O),v&4&&-1<Em.indexOf(h)){for(;D!==null;){var N=Lm(D);if(N!==null&&Yb(N),N=pn(h,v,E,O),N===null&&MB(h,v,O,tr,E),N===D)break;D=N}D!==null&&O.stopPropagation()}else MB(h,v,O,null,E)}}var tr=null;function pn(h,v,E,O){if(tr=null,h=Ge(O),h=Yd(h),h!==null)if(v=Is(h),v===null)h=null;else if(E=v.tag,E===13){if(h=to(v),h!==null)return h;h=null}else if(E===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;h=null}else v!==h&&(h=null);return tr=h,null}function si(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oi()){case Hi:return 1;case Ke:return 4;case _n:case Go:return 16;case ro:return 536870912;default:return 16}default:return 16}}var gn=null,un=null,qi=null;function So(){if(qi)return qi;var h,v=un,E=v.length,O,D="value"in gn?gn.value:gn.textContent,N=D.length;for(h=0;h<E&&v[h]===D[h];h++);var W=E-h;for(O=1;O<=W&&v[E-O]===D[N-O];O++);return qi=D.slice(h,1<O?1-O:void 0)}function li(h){var v=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&v===13&&(h=13)):h=v,h===10&&(h=13),32<=h||h===13?h:0}function na(){return!0}function io(){return!1}function Zn(h){function v(E,O,D,N,W){this._reactName=E,this._targetInst=D,this.type=O,this.nativeEvent=N,this.target=W,this.currentTarget=null;for(var ne in h)h.hasOwnProperty(ne)&&(E=h[ne],this[ne]=E?E(N):N[ne]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?na:io,this.isPropagationStopped=io,this}return Y(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),v}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Zn(Ia),mA=Y({},Ia,{view:0,detail:0}),Oh=Zn(mA),vA,wB,Pm,tS=Y({},mA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SB,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Pm&&(Pm&&h.type==="mousemove"?(vA=h.screenX-Pm.screenX,wB=h.screenY-Pm.screenY):wB=vA=0,Pm=h),vA)},movementY:function(h){return"movementY"in h?h.movementY:wB}}),fK=Zn(tS),zHe=Y({},tS,{dataTransfer:0}),WHe=Zn(zHe),GHe=Y({},mA,{relatedTarget:0}),bB=Zn(GHe),VHe=Y({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),YHe=Zn(VHe),XHe=Y({},Ia,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),JHe=Zn(XHe),ZHe=Y({},Ia,{data:0}),hK=Zn(ZHe),e3e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t3e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r3e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n3e(h){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(h):(h=r3e[h])?!!v[h]:!1}function SB(){return n3e}var i3e=Y({},mA,{key:function(h){if(h.key){var v=e3e[h.key]||h.key;if(v!=="Unidentified")return v}return h.type==="keypress"?(h=li(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?t3e[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SB,charCode:function(h){return h.type==="keypress"?li(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?li(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),a3e=Zn(i3e),o3e=Y({},tS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pK=Zn(o3e),s3e=Y({},mA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SB}),l3e=Zn(s3e),u3e=Y({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),c3e=Zn(u3e),A3e=Y({},tS,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),d3e=Zn(A3e),f3e=[9,13,27,32],xB=s&&"CompositionEvent"in window,Tm=null;s&&"documentMode"in document&&(Tm=document.documentMode);var h3e=s&&"TextEvent"in window&&!Tm,gK=s&&(!xB||Tm&&8<Tm&&11>=Tm),mK=" ",vK=!1;function yK(h,v){switch(h){case"keyup":return f3e.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wK(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Rh=!1;function p3e(h,v){switch(h){case"compositionend":return wK(v);case"keypress":return v.which!==32?null:(vK=!0,mK);case"textInput":return h=v.data,h===mK&&vK?null:h;default:return null}}function g3e(h,v){if(Rh)return h==="compositionend"||!xB&&yK(h,v)?(h=So(),qi=un=gn=null,Rh=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return gK&&v.locale!=="ko"?null:v.data;default:return null}}var m3e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bK(h){var v=h&&h.nodeName&&h.nodeName.toLowerCase();return v==="input"?!!m3e[h.type]:v==="textarea"}function SK(h,v,E,O){Er(O),v=oS(v,"onChange"),0<v.length&&(E=new fl("onChange","change",null,E,O),h.push({event:E,listeners:v}))}var Om=null,Rm=null;function v3e(h){NK(h,0)}function rS(h){var v=Dh(h);if(ae(v))return h}function y3e(h,v){if(h==="change")return v}var xK=!1;if(s){var CB;if(s){var _B="oninput"in document;if(!_B){var CK=document.createElement("div");CK.setAttribute("oninput","return;"),_B=typeof CK.oninput=="function"}CB=_B}else CB=!1;xK=CB&&(!document.documentMode||9<document.documentMode)}function _K(){Om&&(Om.detachEvent("onpropertychange",EK),Rm=Om=null)}function EK(h){if(h.propertyName==="value"&&rS(Rm)){var v=[];SK(v,Rm,h,Ge(h)),hA(v3e,v)}}function w3e(h,v,E){h==="focusin"?(_K(),Om=v,Rm=E,Om.attachEvent("onpropertychange",EK)):h==="focusout"&&_K()}function b3e(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return rS(Rm)}function S3e(h,v){if(h==="click")return rS(v)}function x3e(h,v){if(h==="input"||h==="change")return rS(v)}function C3e(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var hl=typeof Object.is=="function"?Object.is:C3e;function Mm(h,v){if(hl(h,v))return!0;if(typeof h!="object"||h===null||typeof v!="object"||v===null)return!1;var E=Object.keys(h),O=Object.keys(v);if(E.length!==O.length)return!1;for(O=0;O<E.length;O++){var D=E[O];if(!l.call(v,D)||!hl(h[D],v[D]))return!1}return!0}function IK(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function BK(h,v){var E=IK(h);h=0;for(var O;E;){if(E.nodeType===3){if(O=h+E.textContent.length,h<=v&&O>=v)return{node:E,offset:v-h};h=O}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=IK(E)}}function PK(h,v){return h&&v?h===v?!0:h&&h.nodeType===3?!1:v&&v.nodeType===3?PK(h,v.parentNode):"contains"in h?h.contains(v):h.compareDocumentPosition?!!(h.compareDocumentPosition(v)&16):!1:!1}function TK(){for(var h=window,v=Ee();v instanceof h.HTMLIFrameElement;){try{var E=typeof v.contentWindow.location.href=="string"}catch{E=!1}if(E)h=v.contentWindow;else break;v=Ee(h.document)}return v}function EB(h){var v=h&&h.nodeName&&h.nodeName.toLowerCase();return v&&(v==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||v==="textarea"||h.contentEditable==="true")}function _3e(h){var v=TK(),E=h.focusedElem,O=h.selectionRange;if(v!==E&&E&&E.ownerDocument&&PK(E.ownerDocument.documentElement,E)){if(O!==null&&EB(E)){if(v=O.start,h=O.end,h===void 0&&(h=v),"selectionStart"in E)E.selectionStart=v,E.selectionEnd=Math.min(h,E.value.length);else if(h=(v=E.ownerDocument||document)&&v.defaultView||window,h.getSelection){h=h.getSelection();var D=E.textContent.length,N=Math.min(O.start,D);O=O.end===void 0?N:Math.min(O.end,D),!h.extend&&N>O&&(D=O,O=N,N=D),D=BK(E,N);var W=BK(E,O);D&&W&&(h.rangeCount!==1||h.anchorNode!==D.node||h.anchorOffset!==D.offset||h.focusNode!==W.node||h.focusOffset!==W.offset)&&(v=v.createRange(),v.setStart(D.node,D.offset),h.removeAllRanges(),N>O?(h.addRange(v),h.extend(W.node,W.offset)):(v.setEnd(W.node,W.offset),h.addRange(v)))}}for(v=[],h=E;h=h.parentNode;)h.nodeType===1&&v.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<v.length;E++)h=v[E],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var E3e=s&&"documentMode"in document&&11>=document.documentMode,Mh=null,IB=null,Fm=null,BB=!1;function OK(h,v,E){var O=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;BB||Mh==null||Mh!==Ee(O)||(O=Mh,"selectionStart"in O&&EB(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),Fm&&Mm(Fm,O)||(Fm=O,O=oS(IB,"onSelect"),0<O.length&&(v=new fl("onSelect","select",null,v,E),h.push({event:v,listeners:O}),v.target=Mh)))}function nS(h,v){var E={};return E[h.toLowerCase()]=v.toLowerCase(),E["Webkit"+h]="webkit"+v,E["Moz"+h]="moz"+v,E}var Fh={animationend:nS("Animation","AnimationEnd"),animationiteration:nS("Animation","AnimationIteration"),animationstart:nS("Animation","AnimationStart"),transitionend:nS("Transition","TransitionEnd")},PB={},RK={};s&&(RK=document.createElement("div").style,"AnimationEvent"in window||(delete Fh.animationend.animation,delete Fh.animationiteration.animation,delete Fh.animationstart.animation),"TransitionEvent"in window||delete Fh.transitionend.transition);function iS(h){if(PB[h])return PB[h];if(!Fh[h])return h;var v=Fh[h],E;for(E in v)if(v.hasOwnProperty(E)&&E in RK)return PB[h]=v[E];return h}var MK=iS("animationend"),FK=iS("animationiteration"),kK=iS("animationstart"),UK=iS("transitionend"),DK=new Map,jK="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yA(h,v){DK.set(h,v),a(v,[h])}for(var TB=0;TB<jK.length;TB++){var OB=jK[TB],I3e=OB.toLowerCase(),B3e=OB[0].toUpperCase()+OB.slice(1);yA(I3e,"on"+B3e)}yA(MK,"onAnimationEnd"),yA(FK,"onAnimationIteration"),yA(kK,"onAnimationStart"),yA("dblclick","onDoubleClick"),yA("focusin","onFocus"),yA("focusout","onBlur"),yA(UK,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var km="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P3e=new Set("cancel close invalid load scroll toggle".split(" ").concat(km));function LK(h,v,E){var O=h.type||"unknown-event";h.currentTarget=E,_a(O,v,void 0,h),h.currentTarget=null}function NK(h,v){v=(v&4)!==0;for(var E=0;E<h.length;E++){var O=h[E],D=O.event;O=O.listeners;e:{var N=void 0;if(v)for(var W=O.length-1;0<=W;W--){var ne=O[W],ue=ne.instance,_e=ne.currentTarget;if(ne=ne.listener,ue!==N&&D.isPropagationStopped())break e;LK(D,ne,_e),N=ue}else for(W=0;W<O.length;W++){if(ne=O[W],ue=ne.instance,_e=ne.currentTarget,ne=ne.listener,ue!==N&&D.isPropagationStopped())break e;LK(D,ne,_e),N=ue}}}if(Jn)throw h=lc,Jn=!1,lc=null,h}function En(h,v){var E=v[LB];E===void 0&&(E=v[LB]=new Set);var O=h+"__bubble";E.has(O)||($K(v,h,2,!1),E.add(O))}function RB(h,v,E){var O=0;v&&(O|=4),$K(E,h,O,v)}var aS="_reactListening"+Math.random().toString(36).slice(2);function Um(h){if(!h[aS]){h[aS]=!0,n.forEach(function(E){E!=="selectionchange"&&(P3e.has(E)||RB(E,!1,h),RB(E,!0,h))});var v=h.nodeType===9?h:h.ownerDocument;v===null||v[aS]||(v[aS]=!0,RB("selectionchange",!1,v))}}function $K(h,v,E,O){switch(si(v)){case 1:var D=Qe;break;case 4:D=bt;break;default:D=Yr}E=D.bind(null,v,E,h),D=void 0,!sc||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(D=!0),O?D!==void 0?h.addEventListener(v,E,{capture:!0,passive:D}):h.addEventListener(v,E,!0):D!==void 0?h.addEventListener(v,E,{passive:D}):h.addEventListener(v,E,!1)}function MB(h,v,E,O,D){var N=O;if((v&1)===0&&(v&2)===0&&O!==null)e:for(;;){if(O===null)return;var W=O.tag;if(W===3||W===4){var ne=O.stateNode.containerInfo;if(ne===D||ne.nodeType===8&&ne.parentNode===D)break;if(W===4)for(W=O.return;W!==null;){var ue=W.tag;if((ue===3||ue===4)&&(ue=W.stateNode.containerInfo,ue===D||ue.nodeType===8&&ue.parentNode===D))return;W=W.return}for(;ne!==null;){if(W=Yd(ne),W===null)return;if(ue=W.tag,ue===5||ue===6){O=N=W;continue e}ne=ne.parentNode}}O=O.return}hA(function(){var _e=N,We=Ge(E),Je=[];e:{var ze=DK.get(h);if(ze!==void 0){var vt=fl,Bt=h;switch(h){case"keypress":if(li(E)===0)break e;case"keydown":case"keyup":vt=a3e;break;case"focusin":Bt="focus",vt=bB;break;case"focusout":Bt="blur",vt=bB;break;case"beforeblur":case"afterblur":vt=bB;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=fK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=WHe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=l3e;break;case MK:case FK:case kK:vt=YHe;break;case UK:vt=c3e;break;case"scroll":vt=Oh;break;case"wheel":vt=d3e;break;case"copy":case"cut":case"paste":vt=JHe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=pK}var Ot=(v&4)!==0,ui=!Ot&&h==="scroll",ve=Ot?ze!==null?ze+"Capture":null:ze;Ot=[];for(var Ae=_e,Se;Ae!==null;){Se=Ae;var at=Se.stateNode;if(Se.tag===5&&at!==null&&(Se=at,ve!==null&&(at=nu(Ae,ve),at!=null&&Ot.push(Dm(Ae,at,Se)))),ui)break;Ae=Ae.return}0<Ot.length&&(ze=new vt(ze,Bt,null,E,We),Je.push({event:ze,listeners:Ot}))}}if((v&7)===0){e:{if(ze=h==="mouseover"||h==="pointerover",vt=h==="mouseout"||h==="pointerout",ze&&E!==Fe&&(Bt=E.relatedTarget||E.fromElement)&&(Yd(Bt)||Bt[Ac]))break e;if((vt||ze)&&(ze=We.window===We?We:(ze=We.ownerDocument)?ze.defaultView||ze.parentWindow:window,vt?(Bt=E.relatedTarget||E.toElement,vt=_e,Bt=Bt?Yd(Bt):null,Bt!==null&&(ui=Is(Bt),Bt!==ui||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(vt=null,Bt=_e),vt!==Bt)){if(Ot=fK,at="onMouseLeave",ve="onMouseEnter",Ae="mouse",(h==="pointerout"||h==="pointerover")&&(Ot=pK,at="onPointerLeave",ve="onPointerEnter",Ae="pointer"),ui=vt==null?ze:Dh(vt),Se=Bt==null?ze:Dh(Bt),ze=new Ot(at,Ae+"leave",vt,E,We),ze.target=ui,ze.relatedTarget=Se,at=null,Yd(We)===_e&&(Ot=new Ot(ve,Ae+"enter",Bt,E,We),Ot.target=Se,Ot.relatedTarget=ui,at=Ot),ui=at,vt&&Bt)t:{for(Ot=vt,ve=Bt,Ae=0,Se=Ot;Se;Se=kh(Se))Ae++;for(Se=0,at=ve;at;at=kh(at))Se++;for(;0<Ae-Se;)Ot=kh(Ot),Ae--;for(;0<Se-Ae;)ve=kh(ve),Se--;for(;Ae--;){if(Ot===ve||ve!==null&&Ot===ve.alternate)break t;Ot=kh(Ot),ve=kh(ve)}Ot=null}else Ot=null;vt!==null&&QK(Je,ze,vt,Ot,!1),Bt!==null&&ui!==null&&QK(Je,ui,Bt,Ot,!0)}}e:{if(ze=_e?Dh(_e):window,vt=ze.nodeName&&ze.nodeName.toLowerCase(),vt==="select"||vt==="input"&&ze.type==="file")var Rt=y3e;else if(bK(ze))if(xK)Rt=x3e;else{Rt=b3e;var $t=w3e}else(vt=ze.nodeName)&&vt.toLowerCase()==="input"&&(ze.type==="checkbox"||ze.type==="radio")&&(Rt=S3e);if(Rt&&(Rt=Rt(h,_e))){SK(Je,Rt,E,We);break e}$t&&$t(h,ze,_e),h==="focusout"&&($t=ze._wrapperState)&&$t.controlled&&ze.type==="number"&&ut(ze,"number",ze.value)}switch($t=_e?Dh(_e):window,h){case"focusin":(bK($t)||$t.contentEditable==="true")&&(Mh=$t,IB=_e,Fm=null);break;case"focusout":Fm=IB=Mh=null;break;case"mousedown":BB=!0;break;case"contextmenu":case"mouseup":case"dragend":BB=!1,OK(Je,E,We);break;case"selectionchange":if(E3e)break;case"keydown":case"keyup":OK(Je,E,We)}var Qt;if(xB)e:{switch(h){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else Rh?yK(h,E)&&(Jt="onCompositionEnd"):h==="keydown"&&E.keyCode===229&&(Jt="onCompositionStart");Jt&&(gK&&E.locale!=="ko"&&(Rh||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&Rh&&(Qt=So()):(gn=We,un="value"in gn?gn.value:gn.textContent,Rh=!0)),$t=oS(_e,Jt),0<$t.length&&(Jt=new hK(Jt,h,null,E,We),Je.push({event:Jt,listeners:$t}),Qt?Jt.data=Qt:(Qt=wK(E),Qt!==null&&(Jt.data=Qt)))),(Qt=h3e?p3e(h,E):g3e(h,E))&&(_e=oS(_e,"onBeforeInput"),0<_e.length&&(We=new hK("onBeforeInput","beforeinput",null,E,We),Je.push({event:We,listeners:_e}),We.data=Qt))}NK(Je,v)})}function Dm(h,v,E){return{instance:h,listener:v,currentTarget:E}}function oS(h,v){for(var E=v+"Capture",O=[];h!==null;){var D=h,N=D.stateNode;D.tag===5&&N!==null&&(D=N,N=nu(h,E),N!=null&&O.unshift(Dm(h,N,D)),N=nu(h,v),N!=null&&O.push(Dm(h,N,D))),h=h.return}return O}function kh(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function QK(h,v,E,O,D){for(var N=v._reactName,W=[];E!==null&&E!==O;){var ne=E,ue=ne.alternate,_e=ne.stateNode;if(ue!==null&&ue===O)break;ne.tag===5&&_e!==null&&(ne=_e,D?(ue=nu(E,N),ue!=null&&W.unshift(Dm(E,ue,ne))):D||(ue=nu(E,N),ue!=null&&W.push(Dm(E,ue,ne)))),E=E.return}W.length!==0&&h.push({event:v,listeners:W})}var T3e=/\r\n?/g,O3e=/\u0000|\uFFFD/g;function HK(h){return(typeof h=="string"?h:""+h).replace(T3e,`
`).replace(O3e,"")}function sS(h,v,E){if(v=HK(v),HK(h)!==v&&E)throw Error(r(425))}function lS(){}var FB=null,kB=null;function UB(h,v){return h==="textarea"||h==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var DB=typeof setTimeout=="function"?setTimeout:void 0,R3e=typeof clearTimeout=="function"?clearTimeout:void 0,qK=typeof Promise=="function"?Promise:void 0,M3e=typeof queueMicrotask=="function"?queueMicrotask:typeof qK<"u"?function(h){return qK.resolve(null).then(h).catch(F3e)}:DB;function F3e(h){setTimeout(function(){throw h})}function jB(h,v){var E=v,O=0;do{var D=E.nextSibling;if(h.removeChild(E),D&&D.nodeType===8)if(E=D.data,E==="/$"){if(O===0){h.removeChild(D),Vd(v);return}O--}else E!=="$"&&E!=="$?"&&E!=="$!"||O++;E=D}while(E);Vd(v)}function wA(h){for(;h!=null;h=h.nextSibling){var v=h.nodeType;if(v===1||v===3)break;if(v===8){if(v=h.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return h}function KK(h){h=h.previousSibling;for(var v=0;h;){if(h.nodeType===8){var E=h.data;if(E==="$"||E==="$!"||E==="$?"){if(v===0)return h;v--}else E==="/$"&&v++}h=h.previousSibling}return null}var Uh=Math.random().toString(36).slice(2),cu="__reactFiber$"+Uh,jm="__reactProps$"+Uh,Ac="__reactContainer$"+Uh,LB="__reactEvents$"+Uh,k3e="__reactListeners$"+Uh,U3e="__reactHandles$"+Uh;function Yd(h){var v=h[cu];if(v)return v;for(var E=h.parentNode;E;){if(v=E[Ac]||E[cu]){if(E=v.alternate,v.child!==null||E!==null&&E.child!==null)for(h=KK(h);h!==null;){if(E=h[cu])return E;h=KK(h)}return v}h=E,E=h.parentNode}return null}function Lm(h){return h=h[cu]||h[Ac],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Dh(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function uS(h){return h[jm]||null}var NB=[],jh=-1;function bA(h){return{current:h}}function In(h){0>jh||(h.current=NB[jh],NB[jh]=null,jh--)}function mn(h,v){jh++,NB[jh]=h.current,h.current=v}var SA={},Ba=bA(SA),xo=bA(!1),Xd=SA;function Lh(h,v){var E=h.type.contextTypes;if(!E)return SA;var O=h.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===v)return O.__reactInternalMemoizedMaskedChildContext;var D={},N;for(N in E)D[N]=v[N];return O&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=v,h.__reactInternalMemoizedMaskedChildContext=D),D}function Co(h){return h=h.childContextTypes,h!=null}function cS(){In(xo),In(Ba)}function zK(h,v,E){if(Ba.current!==SA)throw Error(r(168));mn(Ba,v),mn(xo,E)}function WK(h,v,E){var O=h.stateNode;if(v=v.childContextTypes,typeof O.getChildContext!="function")return E;O=O.getChildContext();for(var D in O)if(!(D in v))throw Error(r(108,de(h)||"Unknown",D));return Y({},E,O)}function AS(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||SA,Xd=Ba.current,mn(Ba,h),mn(xo,xo.current),!0}function GK(h,v,E){var O=h.stateNode;if(!O)throw Error(r(169));E?(h=WK(h,v,Xd),O.__reactInternalMemoizedMergedChildContext=h,In(xo),In(Ba),mn(Ba,h)):In(xo),mn(xo,E)}var dc=null,dS=!1,$B=!1;function VK(h){dc===null?dc=[h]:dc.push(h)}function D3e(h){dS=!0,VK(h)}function xA(){if(!$B&&dc!==null){$B=!0;var h=0,v=Tr;try{var E=dc;for(Tr=1;h<E.length;h++){var O=E[h];do O=O(!0);while(O!==null)}dc=null,dS=!1}catch(D){throw dc!==null&&(dc=dc.slice(h+1)),He(Hi,xA),D}finally{Tr=v,$B=!1}}return null}var Nh=[],$h=0,fS=null,hS=0,Bs=[],Ps=0,Jd=null,fc=1,hc="";function Zd(h,v){Nh[$h++]=hS,Nh[$h++]=fS,fS=h,hS=v}function YK(h,v,E){Bs[Ps++]=fc,Bs[Ps++]=hc,Bs[Ps++]=Jd,Jd=h;var O=fc;h=hc;var D=32-Vo(O)-1;O&=~(1<<D),E+=1;var N=32-Vo(v)+D;if(30<N){var W=D-D%5;N=(O&(1<<W)-1).toString(32),O>>=W,D-=W,fc=1<<32-Vo(v)+D|E<<D|O,hc=N+h}else fc=1<<N|E<<D|O,hc=h}function QB(h){h.return!==null&&(Zd(h,1),YK(h,1,0))}function HB(h){for(;h===fS;)fS=Nh[--$h],Nh[$h]=null,hS=Nh[--$h],Nh[$h]=null;for(;h===Jd;)Jd=Bs[--Ps],Bs[Ps]=null,hc=Bs[--Ps],Bs[Ps]=null,fc=Bs[--Ps],Bs[Ps]=null}var Yo=null,Xo=null,kn=!1,pl=null;function XK(h,v){var E=Ms(5,null,null,0);E.elementType="DELETED",E.stateNode=v,E.return=h,v=h.deletions,v===null?(h.deletions=[E],h.flags|=16):v.push(E)}function JK(h,v){switch(h.tag){case 5:var E=h.type;return v=v.nodeType!==1||E.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(h.stateNode=v,Yo=h,Xo=wA(v.firstChild),!0):!1;case 6:return v=h.pendingProps===""||v.nodeType!==3?null:v,v!==null?(h.stateNode=v,Yo=h,Xo=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(E=Jd!==null?{id:fc,overflow:hc}:null,h.memoizedState={dehydrated:v,treeContext:E,retryLane:1073741824},E=Ms(18,null,null,0),E.stateNode=v,E.return=h,h.child=E,Yo=h,Xo=null,!0):!1;default:return!1}}function qB(h){return(h.mode&1)!==0&&(h.flags&128)===0}function KB(h){if(kn){var v=Xo;if(v){var E=v;if(!JK(h,v)){if(qB(h))throw Error(r(418));v=wA(E.nextSibling);var O=Yo;v&&JK(h,v)?XK(O,E):(h.flags=h.flags&-4097|2,kn=!1,Yo=h)}}else{if(qB(h))throw Error(r(418));h.flags=h.flags&-4097|2,kn=!1,Yo=h}}}function ZK(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Yo=h}function pS(h){if(h!==Yo)return!1;if(!kn)return ZK(h),kn=!0,!1;var v;if((v=h.tag!==3)&&!(v=h.tag!==5)&&(v=h.type,v=v!=="head"&&v!=="body"&&!UB(h.type,h.memoizedProps)),v&&(v=Xo)){if(qB(h))throw e8(),Error(r(418));for(;v;)XK(h,v),v=wA(v.nextSibling)}if(ZK(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,v=0;h;){if(h.nodeType===8){var E=h.data;if(E==="/$"){if(v===0){Xo=wA(h.nextSibling);break e}v--}else E!=="$"&&E!=="$!"&&E!=="$?"||v++}h=h.nextSibling}Xo=null}}else Xo=Yo?wA(h.stateNode.nextSibling):null;return!0}function e8(){for(var h=Xo;h;)h=wA(h.nextSibling)}function Qh(){Xo=Yo=null,kn=!1}function zB(h){pl===null?pl=[h]:pl.push(h)}var j3e=S.ReactCurrentBatchConfig;function Nm(h,v,E){if(h=E.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(r(309));var O=E.stateNode}if(!O)throw Error(r(147,h));var D=O,N=""+h;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===N?v.ref:(v=function(W){var ne=D.refs;W===null?delete ne[N]:ne[N]=W},v._stringRef=N,v)}if(typeof h!="string")throw Error(r(284));if(!E._owner)throw Error(r(290,h))}return h}function gS(h,v){throw h=Object.prototype.toString.call(v),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":h))}function t8(h){var v=h._init;return v(h._payload)}function r8(h){function v(ve,Ae){if(h){var Se=ve.deletions;Se===null?(ve.deletions=[Ae],ve.flags|=16):Se.push(Ae)}}function E(ve,Ae){if(!h)return null;for(;Ae!==null;)v(ve,Ae),Ae=Ae.sibling;return null}function O(ve,Ae){for(ve=new Map;Ae!==null;)Ae.key!==null?ve.set(Ae.key,Ae):ve.set(Ae.index,Ae),Ae=Ae.sibling;return ve}function D(ve,Ae){return ve=OA(ve,Ae),ve.index=0,ve.sibling=null,ve}function N(ve,Ae,Se){return ve.index=Se,h?(Se=ve.alternate,Se!==null?(Se=Se.index,Se<Ae?(ve.flags|=2,Ae):Se):(ve.flags|=2,Ae)):(ve.flags|=1048576,Ae)}function W(ve){return h&&ve.alternate===null&&(ve.flags|=2),ve}function ne(ve,Ae,Se,at){return Ae===null||Ae.tag!==6?(Ae=DP(Se,ve.mode,at),Ae.return=ve,Ae):(Ae=D(Ae,Se),Ae.return=ve,Ae)}function ue(ve,Ae,Se,at){var Rt=Se.type;return Rt===B?We(ve,Ae,Se.props.children,at,Se.key):Ae!==null&&(Ae.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===$&&t8(Rt)===Ae.type)?(at=D(Ae,Se.props),at.ref=Nm(ve,Ae,Se),at.return=ve,at):(at=NS(Se.type,Se.key,Se.props,null,ve.mode,at),at.ref=Nm(ve,Ae,Se),at.return=ve,at)}function _e(ve,Ae,Se,at){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Se.containerInfo||Ae.stateNode.implementation!==Se.implementation?(Ae=jP(Se,ve.mode,at),Ae.return=ve,Ae):(Ae=D(Ae,Se.children||[]),Ae.return=ve,Ae)}function We(ve,Ae,Se,at,Rt){return Ae===null||Ae.tag!==7?(Ae=lf(Se,ve.mode,at,Rt),Ae.return=ve,Ae):(Ae=D(Ae,Se),Ae.return=ve,Ae)}function Je(ve,Ae,Se){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=DP(""+Ae,ve.mode,Se),Ae.return=ve,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case x:return Se=NS(Ae.type,Ae.key,Ae.props,null,ve.mode,Se),Se.ref=Nm(ve,null,Ae),Se.return=ve,Se;case _:return Ae=jP(Ae,ve.mode,Se),Ae.return=ve,Ae;case $:var at=Ae._init;return Je(ve,at(Ae._payload),Se)}if(it(Ae)||q(Ae))return Ae=lf(Ae,ve.mode,Se,null),Ae.return=ve,Ae;gS(ve,Ae)}return null}function ze(ve,Ae,Se,at){var Rt=Ae!==null?Ae.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Rt!==null?null:ne(ve,Ae,""+Se,at);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case x:return Se.key===Rt?ue(ve,Ae,Se,at):null;case _:return Se.key===Rt?_e(ve,Ae,Se,at):null;case $:return Rt=Se._init,ze(ve,Ae,Rt(Se._payload),at)}if(it(Se)||q(Se))return Rt!==null?null:We(ve,Ae,Se,at,null);gS(ve,Se)}return null}function vt(ve,Ae,Se,at,Rt){if(typeof at=="string"&&at!==""||typeof at=="number")return ve=ve.get(Se)||null,ne(Ae,ve,""+at,Rt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case x:return ve=ve.get(at.key===null?Se:at.key)||null,ue(Ae,ve,at,Rt);case _:return ve=ve.get(at.key===null?Se:at.key)||null,_e(Ae,ve,at,Rt);case $:var $t=at._init;return vt(ve,Ae,Se,$t(at._payload),Rt)}if(it(at)||q(at))return ve=ve.get(Se)||null,We(Ae,ve,at,Rt,null);gS(Ae,at)}return null}function Bt(ve,Ae,Se,at){for(var Rt=null,$t=null,Qt=Ae,Jt=Ae=0,Wi=null;Qt!==null&&Jt<Se.length;Jt++){Qt.index>Jt?(Wi=Qt,Qt=null):Wi=Qt.sibling;var Ur=ze(ve,Qt,Se[Jt],at);if(Ur===null){Qt===null&&(Qt=Wi);break}h&&Qt&&Ur.alternate===null&&v(ve,Qt),Ae=N(Ur,Ae,Jt),$t===null?Rt=Ur:$t.sibling=Ur,$t=Ur,Qt=Wi}if(Jt===Se.length)return E(ve,Qt),kn&&Zd(ve,Jt),Rt;if(Qt===null){for(;Jt<Se.length;Jt++)Qt=Je(ve,Se[Jt],at),Qt!==null&&(Ae=N(Qt,Ae,Jt),$t===null?Rt=Qt:$t.sibling=Qt,$t=Qt);return kn&&Zd(ve,Jt),Rt}for(Qt=O(ve,Qt);Jt<Se.length;Jt++)Wi=vt(Qt,ve,Jt,Se[Jt],at),Wi!==null&&(h&&Wi.alternate!==null&&Qt.delete(Wi.key===null?Jt:Wi.key),Ae=N(Wi,Ae,Jt),$t===null?Rt=Wi:$t.sibling=Wi,$t=Wi);return h&&Qt.forEach(function(RA){return v(ve,RA)}),kn&&Zd(ve,Jt),Rt}function Ot(ve,Ae,Se,at){var Rt=q(Se);if(typeof Rt!="function")throw Error(r(150));if(Se=Rt.call(Se),Se==null)throw Error(r(151));for(var $t=Rt=null,Qt=Ae,Jt=Ae=0,Wi=null,Ur=Se.next();Qt!==null&&!Ur.done;Jt++,Ur=Se.next()){Qt.index>Jt?(Wi=Qt,Qt=null):Wi=Qt.sibling;var RA=ze(ve,Qt,Ur.value,at);if(RA===null){Qt===null&&(Qt=Wi);break}h&&Qt&&RA.alternate===null&&v(ve,Qt),Ae=N(RA,Ae,Jt),$t===null?Rt=RA:$t.sibling=RA,$t=RA,Qt=Wi}if(Ur.done)return E(ve,Qt),kn&&Zd(ve,Jt),Rt;if(Qt===null){for(;!Ur.done;Jt++,Ur=Se.next())Ur=Je(ve,Ur.value,at),Ur!==null&&(Ae=N(Ur,Ae,Jt),$t===null?Rt=Ur:$t.sibling=Ur,$t=Ur);return kn&&Zd(ve,Jt),Rt}for(Qt=O(ve,Qt);!Ur.done;Jt++,Ur=Se.next())Ur=vt(Qt,ve,Jt,Ur.value,at),Ur!==null&&(h&&Ur.alternate!==null&&Qt.delete(Ur.key===null?Jt:Ur.key),Ae=N(Ur,Ae,Jt),$t===null?Rt=Ur:$t.sibling=Ur,$t=Ur);return h&&Qt.forEach(function(g5e){return v(ve,g5e)}),kn&&Zd(ve,Jt),Rt}function ui(ve,Ae,Se,at){if(typeof Se=="object"&&Se!==null&&Se.type===B&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case x:e:{for(var Rt=Se.key,$t=Ae;$t!==null;){if($t.key===Rt){if(Rt=Se.type,Rt===B){if($t.tag===7){E(ve,$t.sibling),Ae=D($t,Se.props.children),Ae.return=ve,ve=Ae;break e}}else if($t.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===$&&t8(Rt)===$t.type){E(ve,$t.sibling),Ae=D($t,Se.props),Ae.ref=Nm(ve,$t,Se),Ae.return=ve,ve=Ae;break e}E(ve,$t);break}else v(ve,$t);$t=$t.sibling}Se.type===B?(Ae=lf(Se.props.children,ve.mode,at,Se.key),Ae.return=ve,ve=Ae):(at=NS(Se.type,Se.key,Se.props,null,ve.mode,at),at.ref=Nm(ve,Ae,Se),at.return=ve,ve=at)}return W(ve);case _:e:{for($t=Se.key;Ae!==null;){if(Ae.key===$t)if(Ae.tag===4&&Ae.stateNode.containerInfo===Se.containerInfo&&Ae.stateNode.implementation===Se.implementation){E(ve,Ae.sibling),Ae=D(Ae,Se.children||[]),Ae.return=ve,ve=Ae;break e}else{E(ve,Ae);break}else v(ve,Ae);Ae=Ae.sibling}Ae=jP(Se,ve.mode,at),Ae.return=ve,ve=Ae}return W(ve);case $:return $t=Se._init,ui(ve,Ae,$t(Se._payload),at)}if(it(Se))return Bt(ve,Ae,Se,at);if(q(Se))return Ot(ve,Ae,Se,at);gS(ve,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,Ae!==null&&Ae.tag===6?(E(ve,Ae.sibling),Ae=D(Ae,Se),Ae.return=ve,ve=Ae):(E(ve,Ae),Ae=DP(Se,ve.mode,at),Ae.return=ve,ve=Ae),W(ve)):E(ve,Ae)}return ui}var Hh=r8(!0),n8=r8(!1),mS=bA(null),vS=null,qh=null,WB=null;function GB(){WB=qh=vS=null}function VB(h){var v=mS.current;In(mS),h._currentValue=v}function YB(h,v,E){for(;h!==null;){var O=h.alternate;if((h.childLanes&v)!==v?(h.childLanes|=v,O!==null&&(O.childLanes|=v)):O!==null&&(O.childLanes&v)!==v&&(O.childLanes|=v),h===E)break;h=h.return}}function Kh(h,v){vS=h,WB=qh=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&v)!==0&&(_o=!0),h.firstContext=null)}function Ts(h){var v=h._currentValue;if(WB!==h)if(h={context:h,memoizedValue:v,next:null},qh===null){if(vS===null)throw Error(r(308));qh=h,vS.dependencies={lanes:0,firstContext:h}}else qh=qh.next=h;return v}var ef=null;function XB(h){ef===null?ef=[h]:ef.push(h)}function i8(h,v,E,O){var D=v.interleaved;return D===null?(E.next=E,XB(v)):(E.next=D.next,D.next=E),v.interleaved=E,pc(h,O)}function pc(h,v){h.lanes|=v;var E=h.alternate;for(E!==null&&(E.lanes|=v),E=h,h=h.return;h!==null;)h.childLanes|=v,E=h.alternate,E!==null&&(E.childLanes|=v),E=h,h=h.return;return E.tag===3?E.stateNode:null}var CA=!1;function JB(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a8(h,v){h=h.updateQueue,v.updateQueue===h&&(v.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function gc(h,v){return{eventTime:h,lane:v,tag:0,payload:null,callback:null,next:null}}function _A(h,v,E){var O=h.updateQueue;if(O===null)return null;if(O=O.shared,(Mr&2)!==0){var D=O.pending;return D===null?v.next=v:(v.next=D.next,D.next=v),O.pending=v,pc(h,E)}return D=O.interleaved,D===null?(v.next=v,XB(O)):(v.next=D.next,D.next=v),O.interleaved=v,pc(h,E)}function yS(h,v,E){if(v=v.updateQueue,v!==null&&(v=v.shared,(E&4194240)!==0)){var O=v.lanes;O&=h.pendingLanes,E|=O,v.lanes=E,Ph(h,E)}}function o8(h,v){var E=h.updateQueue,O=h.alternate;if(O!==null&&(O=O.updateQueue,E===O)){var D=null,N=null;if(E=E.firstBaseUpdate,E!==null){do{var W={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};N===null?D=N=W:N=N.next=W,E=E.next}while(E!==null);N===null?D=N=v:N=N.next=v}else D=N=v;E={baseState:O.baseState,firstBaseUpdate:D,lastBaseUpdate:N,shared:O.shared,effects:O.effects},h.updateQueue=E;return}h=E.lastBaseUpdate,h===null?E.firstBaseUpdate=v:h.next=v,E.lastBaseUpdate=v}function wS(h,v,E,O){var D=h.updateQueue;CA=!1;var N=D.firstBaseUpdate,W=D.lastBaseUpdate,ne=D.shared.pending;if(ne!==null){D.shared.pending=null;var ue=ne,_e=ue.next;ue.next=null,W===null?N=_e:W.next=_e,W=ue;var We=h.alternate;We!==null&&(We=We.updateQueue,ne=We.lastBaseUpdate,ne!==W&&(ne===null?We.firstBaseUpdate=_e:ne.next=_e,We.lastBaseUpdate=ue))}if(N!==null){var Je=D.baseState;W=0,We=_e=ue=null,ne=N;do{var ze=ne.lane,vt=ne.eventTime;if((O&ze)===ze){We!==null&&(We=We.next={eventTime:vt,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var Bt=h,Ot=ne;switch(ze=v,vt=E,Ot.tag){case 1:if(Bt=Ot.payload,typeof Bt=="function"){Je=Bt.call(vt,Je,ze);break e}Je=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Ot.payload,ze=typeof Bt=="function"?Bt.call(vt,Je,ze):Bt,ze==null)break e;Je=Y({},Je,ze);break e;case 2:CA=!0}}ne.callback!==null&&ne.lane!==0&&(h.flags|=64,ze=D.effects,ze===null?D.effects=[ne]:ze.push(ne))}else vt={eventTime:vt,lane:ze,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},We===null?(_e=We=vt,ue=Je):We=We.next=vt,W|=ze;if(ne=ne.next,ne===null){if(ne=D.shared.pending,ne===null)break;ze=ne,ne=ze.next,ze.next=null,D.lastBaseUpdate=ze,D.shared.pending=null}}while(!0);if(We===null&&(ue=Je),D.baseState=ue,D.firstBaseUpdate=_e,D.lastBaseUpdate=We,v=D.shared.interleaved,v!==null){D=v;do W|=D.lane,D=D.next;while(D!==v)}else N===null&&(D.shared.lanes=0);nf|=W,h.lanes=W,h.memoizedState=Je}}function s8(h,v,E){if(h=v.effects,v.effects=null,h!==null)for(v=0;v<h.length;v++){var O=h[v],D=O.callback;if(D!==null){if(O.callback=null,O=E,typeof D!="function")throw Error(r(191,D));D.call(O)}}}var $m={},Au=bA($m),Qm=bA($m),Hm=bA($m);function tf(h){if(h===$m)throw Error(r(174));return h}function ZB(h,v){switch(mn(Hm,v),mn(Qm,h),mn(Au,$m),h=v.nodeType,h){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:$e(null,"");break;default:h=h===8?v.parentNode:v,v=h.namespaceURI||null,h=h.tagName,v=$e(v,h)}In(Au),mn(Au,v)}function zh(){In(Au),In(Qm),In(Hm)}function l8(h){tf(Hm.current);var v=tf(Au.current),E=$e(v,h.type);v!==E&&(mn(Qm,h),mn(Au,E))}function eP(h){Qm.current===h&&(In(Au),In(Qm))}var Kn=bA(0);function bS(h){for(var v=h;v!==null;){if(v.tag===13){var E=v.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var tP=[];function rP(){for(var h=0;h<tP.length;h++)tP[h]._workInProgressVersionPrimary=null;tP.length=0}var SS=S.ReactCurrentDispatcher,nP=S.ReactCurrentBatchConfig,rf=0,zn=null,Ri=null,Ki=null,xS=!1,qm=!1,Km=0,L3e=0;function Pa(){throw Error(r(321))}function iP(h,v){if(v===null)return!1;for(var E=0;E<v.length&&E<h.length;E++)if(!hl(h[E],v[E]))return!1;return!0}function aP(h,v,E,O,D,N){if(rf=N,zn=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,SS.current=h===null||h.memoizedState===null?H3e:q3e,h=E(O,D),qm){N=0;do{if(qm=!1,Km=0,25<=N)throw Error(r(301));N+=1,Ki=Ri=null,v.updateQueue=null,SS.current=K3e,h=E(O,D)}while(qm)}if(SS.current=ES,v=Ri!==null&&Ri.next!==null,rf=0,Ki=Ri=zn=null,xS=!1,v)throw Error(r(300));return h}function oP(){var h=Km!==0;return Km=0,h}function du(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ki===null?zn.memoizedState=Ki=h:Ki=Ki.next=h,Ki}function Os(){if(Ri===null){var h=zn.alternate;h=h!==null?h.memoizedState:null}else h=Ri.next;var v=Ki===null?zn.memoizedState:Ki.next;if(v!==null)Ki=v,Ri=h;else{if(h===null)throw Error(r(310));Ri=h,h={memoizedState:Ri.memoizedState,baseState:Ri.baseState,baseQueue:Ri.baseQueue,queue:Ri.queue,next:null},Ki===null?zn.memoizedState=Ki=h:Ki=Ki.next=h}return Ki}function zm(h,v){return typeof v=="function"?v(h):v}function sP(h){var v=Os(),E=v.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=h;var O=Ri,D=O.baseQueue,N=E.pending;if(N!==null){if(D!==null){var W=D.next;D.next=N.next,N.next=W}O.baseQueue=D=N,E.pending=null}if(D!==null){N=D.next,O=O.baseState;var ne=W=null,ue=null,_e=N;do{var We=_e.lane;if((rf&We)===We)ue!==null&&(ue=ue.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),O=_e.hasEagerState?_e.eagerState:h(O,_e.action);else{var Je={lane:We,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ue===null?(ne=ue=Je,W=O):ue=ue.next=Je,zn.lanes|=We,nf|=We}_e=_e.next}while(_e!==null&&_e!==N);ue===null?W=O:ue.next=ne,hl(O,v.memoizedState)||(_o=!0),v.memoizedState=O,v.baseState=W,v.baseQueue=ue,E.lastRenderedState=O}if(h=E.interleaved,h!==null){D=h;do N=D.lane,zn.lanes|=N,nf|=N,D=D.next;while(D!==h)}else D===null&&(E.lanes=0);return[v.memoizedState,E.dispatch]}function lP(h){var v=Os(),E=v.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=h;var O=E.dispatch,D=E.pending,N=v.memoizedState;if(D!==null){E.pending=null;var W=D=D.next;do N=h(N,W.action),W=W.next;while(W!==D);hl(N,v.memoizedState)||(_o=!0),v.memoizedState=N,v.baseQueue===null&&(v.baseState=N),E.lastRenderedState=N}return[N,O]}function u8(){}function c8(h,v){var E=zn,O=Os(),D=v(),N=!hl(O.memoizedState,D);if(N&&(O.memoizedState=D,_o=!0),O=O.queue,uP(f8.bind(null,E,O,h),[h]),O.getSnapshot!==v||N||Ki!==null&&Ki.memoizedState.tag&1){if(E.flags|=2048,Wm(9,d8.bind(null,E,O,D,v),void 0,null),zi===null)throw Error(r(349));(rf&30)!==0||A8(E,v,D)}return D}function A8(h,v,E){h.flags|=16384,h={getSnapshot:v,value:E},v=zn.updateQueue,v===null?(v={lastEffect:null,stores:null},zn.updateQueue=v,v.stores=[h]):(E=v.stores,E===null?v.stores=[h]:E.push(h))}function d8(h,v,E,O){v.value=E,v.getSnapshot=O,h8(v)&&p8(h)}function f8(h,v,E){return E(function(){h8(v)&&p8(h)})}function h8(h){var v=h.getSnapshot;h=h.value;try{var E=v();return!hl(h,E)}catch{return!0}}function p8(h){var v=pc(h,1);v!==null&&yl(v,h,1,-1)}function g8(h){var v=du();return typeof h=="function"&&(h=h()),v.memoizedState=v.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:h},v.queue=h,h=h.dispatch=Q3e.bind(null,zn,h),[v.memoizedState,h]}function Wm(h,v,E,O){return h={tag:h,create:v,destroy:E,deps:O,next:null},v=zn.updateQueue,v===null?(v={lastEffect:null,stores:null},zn.updateQueue=v,v.lastEffect=h.next=h):(E=v.lastEffect,E===null?v.lastEffect=h.next=h:(O=E.next,E.next=h,h.next=O,v.lastEffect=h)),h}function m8(){return Os().memoizedState}function CS(h,v,E,O){var D=du();zn.flags|=h,D.memoizedState=Wm(1|v,E,void 0,O===void 0?null:O)}function _S(h,v,E,O){var D=Os();O=O===void 0?null:O;var N=void 0;if(Ri!==null){var W=Ri.memoizedState;if(N=W.destroy,O!==null&&iP(O,W.deps)){D.memoizedState=Wm(v,E,N,O);return}}zn.flags|=h,D.memoizedState=Wm(1|v,E,N,O)}function v8(h,v){return CS(8390656,8,h,v)}function uP(h,v){return _S(2048,8,h,v)}function y8(h,v){return _S(4,2,h,v)}function w8(h,v){return _S(4,4,h,v)}function b8(h,v){if(typeof v=="function")return h=h(),v(h),function(){v(null)};if(v!=null)return h=h(),v.current=h,function(){v.current=null}}function S8(h,v,E){return E=E!=null?E.concat([h]):null,_S(4,4,b8.bind(null,v,h),E)}function cP(){}function x8(h,v){var E=Os();v=v===void 0?null:v;var O=E.memoizedState;return O!==null&&v!==null&&iP(v,O[1])?O[0]:(E.memoizedState=[h,v],h)}function C8(h,v){var E=Os();v=v===void 0?null:v;var O=E.memoizedState;return O!==null&&v!==null&&iP(v,O[1])?O[0]:(h=h(),E.memoizedState=[h,v],h)}function _8(h,v,E){return(rf&21)===0?(h.baseState&&(h.baseState=!1,_o=!0),h.memoizedState=E):(hl(E,v)||(E=Vb(),zn.lanes|=E,nf|=E,h.baseState=!0),v)}function N3e(h,v){var E=Tr;Tr=E!==0&&4>E?E:4,h(!0);var O=nP.transition;nP.transition={};try{h(!1),v()}finally{Tr=E,nP.transition=O}}function E8(){return Os().memoizedState}function $3e(h,v,E){var O=PA(h);if(E={lane:O,action:E,hasEagerState:!1,eagerState:null,next:null},I8(h))B8(v,E);else if(E=i8(h,v,E,O),E!==null){var D=oo();yl(E,h,O,D),P8(E,v,O)}}function Q3e(h,v,E){var O=PA(h),D={lane:O,action:E,hasEagerState:!1,eagerState:null,next:null};if(I8(h))B8(v,D);else{var N=h.alternate;if(h.lanes===0&&(N===null||N.lanes===0)&&(N=v.lastRenderedReducer,N!==null))try{var W=v.lastRenderedState,ne=N(W,E);if(D.hasEagerState=!0,D.eagerState=ne,hl(ne,W)){var ue=v.interleaved;ue===null?(D.next=D,XB(v)):(D.next=ue.next,ue.next=D),v.interleaved=D;return}}catch{}finally{}E=i8(h,v,D,O),E!==null&&(D=oo(),yl(E,h,O,D),P8(E,v,O))}}function I8(h){var v=h.alternate;return h===zn||v!==null&&v===zn}function B8(h,v){qm=xS=!0;var E=h.pending;E===null?v.next=v:(v.next=E.next,E.next=v),h.pending=v}function P8(h,v,E){if((E&4194240)!==0){var O=v.lanes;O&=h.pendingLanes,E|=O,v.lanes=E,Ph(h,E)}}var ES={readContext:Ts,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useInsertionEffect:Pa,useLayoutEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useMutableSource:Pa,useSyncExternalStore:Pa,useId:Pa,unstable_isNewReconciler:!1},H3e={readContext:Ts,useCallback:function(h,v){return du().memoizedState=[h,v===void 0?null:v],h},useContext:Ts,useEffect:v8,useImperativeHandle:function(h,v,E){return E=E!=null?E.concat([h]):null,CS(4194308,4,b8.bind(null,v,h),E)},useLayoutEffect:function(h,v){return CS(4194308,4,h,v)},useInsertionEffect:function(h,v){return CS(4,2,h,v)},useMemo:function(h,v){var E=du();return v=v===void 0?null:v,h=h(),E.memoizedState=[h,v],h},useReducer:function(h,v,E){var O=du();return v=E!==void 0?E(v):v,O.memoizedState=O.baseState=v,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:v},O.queue=h,h=h.dispatch=$3e.bind(null,zn,h),[O.memoizedState,h]},useRef:function(h){var v=du();return h={current:h},v.memoizedState=h},useState:g8,useDebugValue:cP,useDeferredValue:function(h){return du().memoizedState=h},useTransition:function(){var h=g8(!1),v=h[0];return h=N3e.bind(null,h[1]),du().memoizedState=h,[v,h]},useMutableSource:function(){},useSyncExternalStore:function(h,v,E){var O=zn,D=du();if(kn){if(E===void 0)throw Error(r(407));E=E()}else{if(E=v(),zi===null)throw Error(r(349));(rf&30)!==0||A8(O,v,E)}D.memoizedState=E;var N={value:E,getSnapshot:v};return D.queue=N,v8(f8.bind(null,O,N,h),[h]),O.flags|=2048,Wm(9,d8.bind(null,O,N,E,v),void 0,null),E},useId:function(){var h=du(),v=zi.identifierPrefix;if(kn){var E=hc,O=fc;E=(O&~(1<<32-Vo(O)-1)).toString(32)+E,v=":"+v+"R"+E,E=Km++,0<E&&(v+="H"+E.toString(32)),v+=":"}else E=L3e++,v=":"+v+"r"+E.toString(32)+":";return h.memoizedState=v},unstable_isNewReconciler:!1},q3e={readContext:Ts,useCallback:x8,useContext:Ts,useEffect:uP,useImperativeHandle:S8,useInsertionEffect:y8,useLayoutEffect:w8,useMemo:C8,useReducer:sP,useRef:m8,useState:function(){return sP(zm)},useDebugValue:cP,useDeferredValue:function(h){var v=Os();return _8(v,Ri.memoizedState,h)},useTransition:function(){var h=sP(zm)[0],v=Os().memoizedState;return[h,v]},useMutableSource:u8,useSyncExternalStore:c8,useId:E8,unstable_isNewReconciler:!1},K3e={readContext:Ts,useCallback:x8,useContext:Ts,useEffect:uP,useImperativeHandle:S8,useInsertionEffect:y8,useLayoutEffect:w8,useMemo:C8,useReducer:lP,useRef:m8,useState:function(){return lP(zm)},useDebugValue:cP,useDeferredValue:function(h){var v=Os();return Ri===null?v.memoizedState=h:_8(v,Ri.memoizedState,h)},useTransition:function(){var h=lP(zm)[0],v=Os().memoizedState;return[h,v]},useMutableSource:u8,useSyncExternalStore:c8,useId:E8,unstable_isNewReconciler:!1};function gl(h,v){if(h&&h.defaultProps){v=Y({},v),h=h.defaultProps;for(var E in h)v[E]===void 0&&(v[E]=h[E]);return v}return v}function AP(h,v,E,O){v=h.memoizedState,E=E(O,v),E=E==null?v:Y({},v,E),h.memoizedState=E,h.lanes===0&&(h.updateQueue.baseState=E)}var IS={isMounted:function(h){return(h=h._reactInternals)?Is(h)===h:!1},enqueueSetState:function(h,v,E){h=h._reactInternals;var O=oo(),D=PA(h),N=gc(O,D);N.payload=v,E!=null&&(N.callback=E),v=_A(h,N,D),v!==null&&(yl(v,h,D,O),yS(v,h,D))},enqueueReplaceState:function(h,v,E){h=h._reactInternals;var O=oo(),D=PA(h),N=gc(O,D);N.tag=1,N.payload=v,E!=null&&(N.callback=E),v=_A(h,N,D),v!==null&&(yl(v,h,D,O),yS(v,h,D))},enqueueForceUpdate:function(h,v){h=h._reactInternals;var E=oo(),O=PA(h),D=gc(E,O);D.tag=2,v!=null&&(D.callback=v),v=_A(h,D,O),v!==null&&(yl(v,h,O,E),yS(v,h,O))}};function T8(h,v,E,O,D,N,W){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(O,N,W):v.prototype&&v.prototype.isPureReactComponent?!Mm(E,O)||!Mm(D,N):!0}function O8(h,v,E){var O=!1,D=SA,N=v.contextType;return typeof N=="object"&&N!==null?N=Ts(N):(D=Co(v)?Xd:Ba.current,O=v.contextTypes,N=(O=O!=null)?Lh(h,D):SA),v=new v(E,N),h.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=IS,h.stateNode=v,v._reactInternals=h,O&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=D,h.__reactInternalMemoizedMaskedChildContext=N),v}function R8(h,v,E,O){h=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(E,O),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(E,O),v.state!==h&&IS.enqueueReplaceState(v,v.state,null)}function dP(h,v,E,O){var D=h.stateNode;D.props=E,D.state=h.memoizedState,D.refs={},JB(h);var N=v.contextType;typeof N=="object"&&N!==null?D.context=Ts(N):(N=Co(v)?Xd:Ba.current,D.context=Lh(h,N)),D.state=h.memoizedState,N=v.getDerivedStateFromProps,typeof N=="function"&&(AP(h,v,N,E),D.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(v=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),v!==D.state&&IS.enqueueReplaceState(D,D.state,null),wS(h,E,D,O),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308)}function Wh(h,v){try{var E="",O=v;do E+=J(O),O=O.return;while(O);var D=E}catch(N){D=`
Error generating stack: `+N.message+`
`+N.stack}return{value:h,source:v,stack:D,digest:null}}function fP(h,v,E){return{value:h,source:null,stack:E??null,digest:v??null}}function hP(h,v){try{console.error(v.value)}catch(E){setTimeout(function(){throw E})}}var z3e=typeof WeakMap=="function"?WeakMap:Map;function M8(h,v,E){E=gc(-1,E),E.tag=3,E.payload={element:null};var O=v.value;return E.callback=function(){FS||(FS=!0,PP=O),hP(h,v)},E}function F8(h,v,E){E=gc(-1,E),E.tag=3;var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var D=v.value;E.payload=function(){return O(D)},E.callback=function(){hP(h,v)}}var N=h.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(E.callback=function(){hP(h,v),typeof O!="function"&&(IA===null?IA=new Set([this]):IA.add(this));var W=v.stack;this.componentDidCatch(v.value,{componentStack:W!==null?W:""})}),E}function k8(h,v,E){var O=h.pingCache;if(O===null){O=h.pingCache=new z3e;var D=new Set;O.set(v,D)}else D=O.get(v),D===void 0&&(D=new Set,O.set(v,D));D.has(E)||(D.add(E),h=o5e.bind(null,h,v,E),v.then(h,h))}function U8(h){do{var v;if((v=h.tag===13)&&(v=h.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return h;h=h.return}while(h!==null);return null}function D8(h,v,E,O,D){return(h.mode&1)===0?(h===v?h.flags|=65536:(h.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(v=gc(-1,1),v.tag=2,_A(E,v,1))),E.lanes|=1),h):(h.flags|=65536,h.lanes=D,h)}var W3e=S.ReactCurrentOwner,_o=!1;function ao(h,v,E,O){v.child=h===null?n8(v,null,E,O):Hh(v,h.child,E,O)}function j8(h,v,E,O,D){E=E.render;var N=v.ref;return Kh(v,D),O=aP(h,v,E,O,N,D),E=oP(),h!==null&&!_o?(v.updateQueue=h.updateQueue,v.flags&=-2053,h.lanes&=~D,mc(h,v,D)):(kn&&E&&QB(v),v.flags|=1,ao(h,v,O,D),v.child)}function L8(h,v,E,O,D){if(h===null){var N=E.type;return typeof N=="function"&&!UP(N)&&N.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(v.tag=15,v.type=N,N8(h,v,N,O,D)):(h=NS(E.type,null,O,v,v.mode,D),h.ref=v.ref,h.return=v,v.child=h)}if(N=h.child,(h.lanes&D)===0){var W=N.memoizedProps;if(E=E.compare,E=E!==null?E:Mm,E(W,O)&&h.ref===v.ref)return mc(h,v,D)}return v.flags|=1,h=OA(N,O),h.ref=v.ref,h.return=v,v.child=h}function N8(h,v,E,O,D){if(h!==null){var N=h.memoizedProps;if(Mm(N,O)&&h.ref===v.ref)if(_o=!1,v.pendingProps=O=N,(h.lanes&D)!==0)(h.flags&131072)!==0&&(_o=!0);else return v.lanes=h.lanes,mc(h,v,D)}return pP(h,v,E,O,D)}function $8(h,v,E){var O=v.pendingProps,D=O.children,N=h!==null?h.memoizedState:null;if(O.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(Vh,Jo),Jo|=E;else{if((E&1073741824)===0)return h=N!==null?N.baseLanes|E:E,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:h,cachePool:null,transitions:null},v.updateQueue=null,mn(Vh,Jo),Jo|=h,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},O=N!==null?N.baseLanes:E,mn(Vh,Jo),Jo|=O}else N!==null?(O=N.baseLanes|E,v.memoizedState=null):O=E,mn(Vh,Jo),Jo|=O;return ao(h,v,D,E),v.child}function Q8(h,v){var E=v.ref;(h===null&&E!==null||h!==null&&h.ref!==E)&&(v.flags|=512,v.flags|=2097152)}function pP(h,v,E,O,D){var N=Co(E)?Xd:Ba.current;return N=Lh(v,N),Kh(v,D),E=aP(h,v,E,O,N,D),O=oP(),h!==null&&!_o?(v.updateQueue=h.updateQueue,v.flags&=-2053,h.lanes&=~D,mc(h,v,D)):(kn&&O&&QB(v),v.flags|=1,ao(h,v,E,D),v.child)}function H8(h,v,E,O,D){if(Co(E)){var N=!0;AS(v)}else N=!1;if(Kh(v,D),v.stateNode===null)PS(h,v),O8(v,E,O),dP(v,E,O,D),O=!0;else if(h===null){var W=v.stateNode,ne=v.memoizedProps;W.props=ne;var ue=W.context,_e=E.contextType;typeof _e=="object"&&_e!==null?_e=Ts(_e):(_e=Co(E)?Xd:Ba.current,_e=Lh(v,_e));var We=E.getDerivedStateFromProps,Je=typeof We=="function"||typeof W.getSnapshotBeforeUpdate=="function";Je||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ne!==O||ue!==_e)&&R8(v,W,O,_e),CA=!1;var ze=v.memoizedState;W.state=ze,wS(v,O,W,D),ue=v.memoizedState,ne!==O||ze!==ue||xo.current||CA?(typeof We=="function"&&(AP(v,E,We,O),ue=v.memoizedState),(ne=CA||T8(v,E,ne,O,ze,ue,_e))?(Je||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(v.flags|=4194308)):(typeof W.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=O,v.memoizedState=ue),W.props=O,W.state=ue,W.context=_e,O=ne):(typeof W.componentDidMount=="function"&&(v.flags|=4194308),O=!1)}else{W=v.stateNode,a8(h,v),ne=v.memoizedProps,_e=v.type===v.elementType?ne:gl(v.type,ne),W.props=_e,Je=v.pendingProps,ze=W.context,ue=E.contextType,typeof ue=="object"&&ue!==null?ue=Ts(ue):(ue=Co(E)?Xd:Ba.current,ue=Lh(v,ue));var vt=E.getDerivedStateFromProps;(We=typeof vt=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ne!==Je||ze!==ue)&&R8(v,W,O,ue),CA=!1,ze=v.memoizedState,W.state=ze,wS(v,O,W,D);var Bt=v.memoizedState;ne!==Je||ze!==Bt||xo.current||CA?(typeof vt=="function"&&(AP(v,E,vt,O),Bt=v.memoizedState),(_e=CA||T8(v,E,_e,O,ze,Bt,ue)||!1)?(We||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(O,Bt,ue),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(O,Bt,ue)),typeof W.componentDidUpdate=="function"&&(v.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof W.componentDidUpdate!="function"||ne===h.memoizedProps&&ze===h.memoizedState||(v.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&ze===h.memoizedState||(v.flags|=1024),v.memoizedProps=O,v.memoizedState=Bt),W.props=O,W.state=Bt,W.context=ue,O=_e):(typeof W.componentDidUpdate!="function"||ne===h.memoizedProps&&ze===h.memoizedState||(v.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&ze===h.memoizedState||(v.flags|=1024),O=!1)}return gP(h,v,E,O,N,D)}function gP(h,v,E,O,D,N){Q8(h,v);var W=(v.flags&128)!==0;if(!O&&!W)return D&&GK(v,E,!1),mc(h,v,N);O=v.stateNode,W3e.current=v;var ne=W&&typeof E.getDerivedStateFromError!="function"?null:O.render();return v.flags|=1,h!==null&&W?(v.child=Hh(v,h.child,null,N),v.child=Hh(v,null,ne,N)):ao(h,v,ne,N),v.memoizedState=O.state,D&&GK(v,E,!0),v.child}function q8(h){var v=h.stateNode;v.pendingContext?zK(h,v.pendingContext,v.pendingContext!==v.context):v.context&&zK(h,v.context,!1),ZB(h,v.containerInfo)}function K8(h,v,E,O,D){return Qh(),zB(D),v.flags|=256,ao(h,v,E,O),v.child}var mP={dehydrated:null,treeContext:null,retryLane:0};function vP(h){return{baseLanes:h,cachePool:null,transitions:null}}function z8(h,v,E){var O=v.pendingProps,D=Kn.current,N=!1,W=(v.flags&128)!==0,ne;if((ne=W)||(ne=h!==null&&h.memoizedState===null?!1:(D&2)!==0),ne?(N=!0,v.flags&=-129):(h===null||h.memoizedState!==null)&&(D|=1),mn(Kn,D&1),h===null)return KB(v),h=v.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((v.mode&1)===0?v.lanes=1:h.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(W=O.children,h=O.fallback,N?(O=v.mode,N=v.child,W={mode:"hidden",children:W},(O&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=W):N=$S(W,O,0,null),h=lf(h,O,E,null),N.return=v,h.return=v,N.sibling=h,v.child=N,v.child.memoizedState=vP(E),v.memoizedState=mP,h):yP(v,W));if(D=h.memoizedState,D!==null&&(ne=D.dehydrated,ne!==null))return G3e(h,v,W,O,ne,D,E);if(N){N=O.fallback,W=v.mode,D=h.child,ne=D.sibling;var ue={mode:"hidden",children:O.children};return(W&1)===0&&v.child!==D?(O=v.child,O.childLanes=0,O.pendingProps=ue,v.deletions=null):(O=OA(D,ue),O.subtreeFlags=D.subtreeFlags&14680064),ne!==null?N=OA(ne,N):(N=lf(N,W,E,null),N.flags|=2),N.return=v,O.return=v,O.sibling=N,v.child=O,O=N,N=v.child,W=h.child.memoizedState,W=W===null?vP(E):{baseLanes:W.baseLanes|E,cachePool:null,transitions:W.transitions},N.memoizedState=W,N.childLanes=h.childLanes&~E,v.memoizedState=mP,O}return N=h.child,h=N.sibling,O=OA(N,{mode:"visible",children:O.children}),(v.mode&1)===0&&(O.lanes=E),O.return=v,O.sibling=null,h!==null&&(E=v.deletions,E===null?(v.deletions=[h],v.flags|=16):E.push(h)),v.child=O,v.memoizedState=null,O}function yP(h,v){return v=$S({mode:"visible",children:v},h.mode,0,null),v.return=h,h.child=v}function BS(h,v,E,O){return O!==null&&zB(O),Hh(v,h.child,null,E),h=yP(v,v.pendingProps.children),h.flags|=2,v.memoizedState=null,h}function G3e(h,v,E,O,D,N,W){if(E)return v.flags&256?(v.flags&=-257,O=fP(Error(r(422))),BS(h,v,W,O)):v.memoizedState!==null?(v.child=h.child,v.flags|=128,null):(N=O.fallback,D=v.mode,O=$S({mode:"visible",children:O.children},D,0,null),N=lf(N,D,W,null),N.flags|=2,O.return=v,N.return=v,O.sibling=N,v.child=O,(v.mode&1)!==0&&Hh(v,h.child,null,W),v.child.memoizedState=vP(W),v.memoizedState=mP,N);if((v.mode&1)===0)return BS(h,v,W,null);if(D.data==="$!"){if(O=D.nextSibling&&D.nextSibling.dataset,O)var ne=O.dgst;return O=ne,N=Error(r(419)),O=fP(N,O,void 0),BS(h,v,W,O)}if(ne=(W&h.childLanes)!==0,_o||ne){if(O=zi,O!==null){switch(W&-W){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(O.suspendedLanes|W))!==0?0:D,D!==0&&D!==N.retryLane&&(N.retryLane=D,pc(h,D),yl(O,h,D,-1))}return kP(),O=fP(Error(r(421))),BS(h,v,W,O)}return D.data==="$?"?(v.flags|=128,v.child=h.child,v=s5e.bind(null,h),D._reactRetry=v,null):(h=N.treeContext,Xo=wA(D.nextSibling),Yo=v,kn=!0,pl=null,h!==null&&(Bs[Ps++]=fc,Bs[Ps++]=hc,Bs[Ps++]=Jd,fc=h.id,hc=h.overflow,Jd=v),v=yP(v,O.children),v.flags|=4096,v)}function W8(h,v,E){h.lanes|=v;var O=h.alternate;O!==null&&(O.lanes|=v),YB(h.return,v,E)}function wP(h,v,E,O,D){var N=h.memoizedState;N===null?h.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:O,tail:E,tailMode:D}:(N.isBackwards=v,N.rendering=null,N.renderingStartTime=0,N.last=O,N.tail=E,N.tailMode=D)}function G8(h,v,E){var O=v.pendingProps,D=O.revealOrder,N=O.tail;if(ao(h,v,O.children,E),O=Kn.current,(O&2)!==0)O=O&1|2,v.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=v.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&W8(h,E,v);else if(h.tag===19)W8(h,E,v);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===v)break e;for(;h.sibling===null;){if(h.return===null||h.return===v)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}O&=1}if(mn(Kn,O),(v.mode&1)===0)v.memoizedState=null;else switch(D){case"forwards":for(E=v.child,D=null;E!==null;)h=E.alternate,h!==null&&bS(h)===null&&(D=E),E=E.sibling;E=D,E===null?(D=v.child,v.child=null):(D=E.sibling,E.sibling=null),wP(v,!1,D,E,N);break;case"backwards":for(E=null,D=v.child,v.child=null;D!==null;){if(h=D.alternate,h!==null&&bS(h)===null){v.child=D;break}h=D.sibling,D.sibling=E,E=D,D=h}wP(v,!0,E,null,N);break;case"together":wP(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function PS(h,v){(v.mode&1)===0&&h!==null&&(h.alternate=null,v.alternate=null,v.flags|=2)}function mc(h,v,E){if(h!==null&&(v.dependencies=h.dependencies),nf|=v.lanes,(E&v.childLanes)===0)return null;if(h!==null&&v.child!==h.child)throw Error(r(153));if(v.child!==null){for(h=v.child,E=OA(h,h.pendingProps),v.child=E,E.return=v;h.sibling!==null;)h=h.sibling,E=E.sibling=OA(h,h.pendingProps),E.return=v;E.sibling=null}return v.child}function V3e(h,v,E){switch(v.tag){case 3:q8(v),Qh();break;case 5:l8(v);break;case 1:Co(v.type)&&AS(v);break;case 4:ZB(v,v.stateNode.containerInfo);break;case 10:var O=v.type._context,D=v.memoizedProps.value;mn(mS,O._currentValue),O._currentValue=D;break;case 13:if(O=v.memoizedState,O!==null)return O.dehydrated!==null?(mn(Kn,Kn.current&1),v.flags|=128,null):(E&v.child.childLanes)!==0?z8(h,v,E):(mn(Kn,Kn.current&1),h=mc(h,v,E),h!==null?h.sibling:null);mn(Kn,Kn.current&1);break;case 19:if(O=(E&v.childLanes)!==0,(h.flags&128)!==0){if(O)return G8(h,v,E);v.flags|=128}if(D=v.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),mn(Kn,Kn.current),O)break;return null;case 22:case 23:return v.lanes=0,$8(h,v,E)}return mc(h,v,E)}var V8,bP,Y8,X8;V8=function(h,v){for(var E=v.child;E!==null;){if(E.tag===5||E.tag===6)h.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===v)break;for(;E.sibling===null;){if(E.return===null||E.return===v)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},bP=function(){},Y8=function(h,v,E,O){var D=h.memoizedProps;if(D!==O){h=v.stateNode,tf(Au.current);var N=null;switch(E){case"input":D=Oe(h,D),O=Oe(h,O),N=[];break;case"select":D=Y({},D,{value:void 0}),O=Y({},O,{value:void 0}),N=[];break;case"textarea":D=be(h,D),O=be(h,O),N=[];break;default:typeof D.onClick!="function"&&typeof O.onClick=="function"&&(h.onclick=lS)}rt(E,O);var W;E=null;for(_e in D)if(!O.hasOwnProperty(_e)&&D.hasOwnProperty(_e)&&D[_e]!=null)if(_e==="style"){var ne=D[_e];for(W in ne)ne.hasOwnProperty(W)&&(E||(E={}),E[W]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?N||(N=[]):(N=N||[]).push(_e,null));for(_e in O){var ue=O[_e];if(ne=D!=null?D[_e]:void 0,O.hasOwnProperty(_e)&&ue!==ne&&(ue!=null||ne!=null))if(_e==="style")if(ne){for(W in ne)!ne.hasOwnProperty(W)||ue&&ue.hasOwnProperty(W)||(E||(E={}),E[W]="");for(W in ue)ue.hasOwnProperty(W)&&ne[W]!==ue[W]&&(E||(E={}),E[W]=ue[W])}else E||(N||(N=[]),N.push(_e,E)),E=ue;else _e==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ne=ne?ne.__html:void 0,ue!=null&&ne!==ue&&(N=N||[]).push(_e,ue)):_e==="children"?typeof ue!="string"&&typeof ue!="number"||(N=N||[]).push(_e,""+ue):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(ue!=null&&_e==="onScroll"&&En("scroll",h),N||ne===ue||(N=[])):(N=N||[]).push(_e,ue))}E&&(N=N||[]).push("style",E);var _e=N;(v.updateQueue=_e)&&(v.flags|=4)}},X8=function(h,v,E,O){E!==O&&(v.flags|=4)};function Gm(h,v){if(!kn)switch(h.tailMode){case"hidden":v=h.tail;for(var E=null;v!==null;)v.alternate!==null&&(E=v),v=v.sibling;E===null?h.tail=null:E.sibling=null;break;case"collapsed":E=h.tail;for(var O=null;E!==null;)E.alternate!==null&&(O=E),E=E.sibling;O===null?v||h.tail===null?h.tail=null:h.tail.sibling=null:O.sibling=null}}function Ta(h){var v=h.alternate!==null&&h.alternate.child===h.child,E=0,O=0;if(v)for(var D=h.child;D!==null;)E|=D.lanes|D.childLanes,O|=D.subtreeFlags&14680064,O|=D.flags&14680064,D.return=h,D=D.sibling;else for(D=h.child;D!==null;)E|=D.lanes|D.childLanes,O|=D.subtreeFlags,O|=D.flags,D.return=h,D=D.sibling;return h.subtreeFlags|=O,h.childLanes=E,v}function Y3e(h,v,E){var O=v.pendingProps;switch(HB(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ta(v),null;case 1:return Co(v.type)&&cS(),Ta(v),null;case 3:return O=v.stateNode,zh(),In(xo),In(Ba),rP(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(h===null||h.child===null)&&(pS(v)?v.flags|=4:h===null||h.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,pl!==null&&(RP(pl),pl=null))),bP(h,v),Ta(v),null;case 5:eP(v);var D=tf(Hm.current);if(E=v.type,h!==null&&v.stateNode!=null)Y8(h,v,E,O,D),h.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!O){if(v.stateNode===null)throw Error(r(166));return Ta(v),null}if(h=tf(Au.current),pS(v)){O=v.stateNode,E=v.type;var N=v.memoizedProps;switch(O[cu]=v,O[jm]=N,h=(v.mode&1)!==0,E){case"dialog":En("cancel",O),En("close",O);break;case"iframe":case"object":case"embed":En("load",O);break;case"video":case"audio":for(D=0;D<km.length;D++)En(km[D],O);break;case"source":En("error",O);break;case"img":case"image":case"link":En("error",O),En("load",O);break;case"details":En("toggle",O);break;case"input":Ne(O,N),En("invalid",O);break;case"select":O._wrapperState={wasMultiple:!!N.multiple},En("invalid",O);break;case"textarea":Be(O,N),En("invalid",O)}rt(E,N),D=null;for(var W in N)if(N.hasOwnProperty(W)){var ne=N[W];W==="children"?typeof ne=="string"?O.textContent!==ne&&(N.suppressHydrationWarning!==!0&&sS(O.textContent,ne,h),D=["children",ne]):typeof ne=="number"&&O.textContent!==""+ne&&(N.suppressHydrationWarning!==!0&&sS(O.textContent,ne,h),D=["children",""+ne]):i.hasOwnProperty(W)&&ne!=null&&W==="onScroll"&&En("scroll",O)}switch(E){case"input":he(O),st(O,N,!0);break;case"textarea":he(O),ct(O);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(O.onclick=lS)}O=D,v.updateQueue=O,O!==null&&(v.flags|=4)}else{W=D.nodeType===9?D:D.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ot(E)),h==="http://www.w3.org/1999/xhtml"?E==="script"?(h=W.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof O.is=="string"?h=W.createElement(E,{is:O.is}):(h=W.createElement(E),E==="select"&&(W=h,O.multiple?W.multiple=!0:O.size&&(W.size=O.size))):h=W.createElementNS(h,E),h[cu]=v,h[jm]=O,V8(h,v,!1,!1),v.stateNode=h;e:{switch(W=_t(E,O),E){case"dialog":En("cancel",h),En("close",h),D=O;break;case"iframe":case"object":case"embed":En("load",h),D=O;break;case"video":case"audio":for(D=0;D<km.length;D++)En(km[D],h);D=O;break;case"source":En("error",h),D=O;break;case"img":case"image":case"link":En("error",h),En("load",h),D=O;break;case"details":En("toggle",h),D=O;break;case"input":Ne(h,O),D=Oe(h,O),En("invalid",h);break;case"option":D=O;break;case"select":h._wrapperState={wasMultiple:!!O.multiple},D=Y({},O,{value:void 0}),En("invalid",h);break;case"textarea":Be(h,O),D=be(h,O),En("invalid",h);break;default:D=O}rt(E,D),ne=D;for(N in ne)if(ne.hasOwnProperty(N)){var ue=ne[N];N==="style"?qe(h,ue):N==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&Nt(h,ue)):N==="children"?typeof ue=="string"?(E!=="textarea"||ue!=="")&&Z(h,ue):typeof ue=="number"&&Z(h,""+ue):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?ue!=null&&N==="onScroll"&&En("scroll",h):ue!=null&&C(h,N,ue,W))}switch(E){case"input":he(h),st(h,O,!1);break;case"textarea":he(h),ct(h);break;case"option":O.value!=null&&h.setAttribute("value",""+oe(O.value));break;case"select":h.multiple=!!O.multiple,N=O.value,N!=null?Ie(h,!!O.multiple,N,!1):O.defaultValue!=null&&Ie(h,!!O.multiple,O.defaultValue,!0);break;default:typeof D.onClick=="function"&&(h.onclick=lS)}switch(E){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}}O&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Ta(v),null;case 6:if(h&&v.stateNode!=null)X8(h,v,h.memoizedProps,O);else{if(typeof O!="string"&&v.stateNode===null)throw Error(r(166));if(E=tf(Hm.current),tf(Au.current),pS(v)){if(O=v.stateNode,E=v.memoizedProps,O[cu]=v,(N=O.nodeValue!==E)&&(h=Yo,h!==null))switch(h.tag){case 3:sS(O.nodeValue,E,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&sS(O.nodeValue,E,(h.mode&1)!==0)}N&&(v.flags|=4)}else O=(E.nodeType===9?E:E.ownerDocument).createTextNode(O),O[cu]=v,v.stateNode=O}return Ta(v),null;case 13:if(In(Kn),O=v.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(kn&&Xo!==null&&(v.mode&1)!==0&&(v.flags&128)===0)e8(),Qh(),v.flags|=98560,N=!1;else if(N=pS(v),O!==null&&O.dehydrated!==null){if(h===null){if(!N)throw Error(r(318));if(N=v.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[cu]=v}else Qh(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Ta(v),N=!1}else pl!==null&&(RP(pl),pl=null),N=!0;if(!N)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=E,v):(O=O!==null,O!==(h!==null&&h.memoizedState!==null)&&O&&(v.child.flags|=8192,(v.mode&1)!==0&&(h===null||(Kn.current&1)!==0?Mi===0&&(Mi=3):kP())),v.updateQueue!==null&&(v.flags|=4),Ta(v),null);case 4:return zh(),bP(h,v),h===null&&Um(v.stateNode.containerInfo),Ta(v),null;case 10:return VB(v.type._context),Ta(v),null;case 17:return Co(v.type)&&cS(),Ta(v),null;case 19:if(In(Kn),N=v.memoizedState,N===null)return Ta(v),null;if(O=(v.flags&128)!==0,W=N.rendering,W===null)if(O)Gm(N,!1);else{if(Mi!==0||h!==null&&(h.flags&128)!==0)for(h=v.child;h!==null;){if(W=bS(h),W!==null){for(v.flags|=128,Gm(N,!1),O=W.updateQueue,O!==null&&(v.updateQueue=O,v.flags|=4),v.subtreeFlags=0,O=E,E=v.child;E!==null;)N=E,h=O,N.flags&=14680066,W=N.alternate,W===null?(N.childLanes=0,N.lanes=h,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=W.childLanes,N.lanes=W.lanes,N.child=W.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=W.memoizedProps,N.memoizedState=W.memoizedState,N.updateQueue=W.updateQueue,N.type=W.type,h=W.dependencies,N.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),E=E.sibling;return mn(Kn,Kn.current&1|2),v.child}h=h.sibling}N.tail!==null&&ar()>Yh&&(v.flags|=128,O=!0,Gm(N,!1),v.lanes=4194304)}else{if(!O)if(h=bS(W),h!==null){if(v.flags|=128,O=!0,E=h.updateQueue,E!==null&&(v.updateQueue=E,v.flags|=4),Gm(N,!0),N.tail===null&&N.tailMode==="hidden"&&!W.alternate&&!kn)return Ta(v),null}else 2*ar()-N.renderingStartTime>Yh&&E!==1073741824&&(v.flags|=128,O=!0,Gm(N,!1),v.lanes=4194304);N.isBackwards?(W.sibling=v.child,v.child=W):(E=N.last,E!==null?E.sibling=W:v.child=W,N.last=W)}return N.tail!==null?(v=N.tail,N.rendering=v,N.tail=v.sibling,N.renderingStartTime=ar(),v.sibling=null,E=Kn.current,mn(Kn,O?E&1|2:E&1),v):(Ta(v),null);case 22:case 23:return FP(),O=v.memoizedState!==null,h!==null&&h.memoizedState!==null!==O&&(v.flags|=8192),O&&(v.mode&1)!==0?(Jo&1073741824)!==0&&(Ta(v),v.subtreeFlags&6&&(v.flags|=8192)):Ta(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function X3e(h,v){switch(HB(v),v.tag){case 1:return Co(v.type)&&cS(),h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 3:return zh(),In(xo),In(Ba),rP(),h=v.flags,(h&65536)!==0&&(h&128)===0?(v.flags=h&-65537|128,v):null;case 5:return eP(v),null;case 13:if(In(Kn),h=v.memoizedState,h!==null&&h.dehydrated!==null){if(v.alternate===null)throw Error(r(340));Qh()}return h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 19:return In(Kn),null;case 4:return zh(),null;case 10:return VB(v.type._context),null;case 22:case 23:return FP(),null;case 24:return null;default:return null}}var TS=!1,Oa=!1,J3e=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Gh(h,v){var E=h.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(O){ei(h,v,O)}else E.current=null}function SP(h,v,E){try{E()}catch(O){ei(h,v,O)}}var J8=!1;function Z3e(h,v){if(FB=fe,h=TK(),EB(h)){if("selectionStart"in h)var E={start:h.selectionStart,end:h.selectionEnd};else e:{E=(E=h.ownerDocument)&&E.defaultView||window;var O=E.getSelection&&E.getSelection();if(O&&O.rangeCount!==0){E=O.anchorNode;var D=O.anchorOffset,N=O.focusNode;O=O.focusOffset;try{E.nodeType,N.nodeType}catch{E=null;break e}var W=0,ne=-1,ue=-1,_e=0,We=0,Je=h,ze=null;t:for(;;){for(var vt;Je!==E||D!==0&&Je.nodeType!==3||(ne=W+D),Je!==N||O!==0&&Je.nodeType!==3||(ue=W+O),Je.nodeType===3&&(W+=Je.nodeValue.length),(vt=Je.firstChild)!==null;)ze=Je,Je=vt;for(;;){if(Je===h)break t;if(ze===E&&++_e===D&&(ne=W),ze===N&&++We===O&&(ue=W),(vt=Je.nextSibling)!==null)break;Je=ze,ze=Je.parentNode}Je=vt}E=ne===-1||ue===-1?null:{start:ne,end:ue}}else E=null}E=E||{start:0,end:0}}else E=null;for(kB={focusedElem:h,selectionRange:E},fe=!1,xt=v;xt!==null;)if(v=xt,h=v.child,(v.subtreeFlags&1028)!==0&&h!==null)h.return=v,xt=h;else for(;xt!==null;){v=xt;try{var Bt=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var Ot=Bt.memoizedProps,ui=Bt.memoizedState,ve=v.stateNode,Ae=ve.getSnapshotBeforeUpdate(v.elementType===v.type?Ot:gl(v.type,Ot),ui);ve.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var Se=v.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(at){ei(v,v.return,at)}if(h=v.sibling,h!==null){h.return=v.return,xt=h;break}xt=v.return}return Bt=J8,J8=!1,Bt}function Vm(h,v,E){var O=v.updateQueue;if(O=O!==null?O.lastEffect:null,O!==null){var D=O=O.next;do{if((D.tag&h)===h){var N=D.destroy;D.destroy=void 0,N!==void 0&&SP(v,E,N)}D=D.next}while(D!==O)}}function OS(h,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var E=v=v.next;do{if((E.tag&h)===h){var O=E.create;E.destroy=O()}E=E.next}while(E!==v)}}function xP(h){var v=h.ref;if(v!==null){var E=h.stateNode;switch(h.tag){case 5:h=E;break;default:h=E}typeof v=="function"?v(h):v.current=h}}function Z8(h){var v=h.alternate;v!==null&&(h.alternate=null,Z8(v)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(v=h.stateNode,v!==null&&(delete v[cu],delete v[jm],delete v[LB],delete v[k3e],delete v[U3e])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function ez(h){return h.tag===5||h.tag===3||h.tag===4}function tz(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||ez(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function CP(h,v,E){var O=h.tag;if(O===5||O===6)h=h.stateNode,v?E.nodeType===8?E.parentNode.insertBefore(h,v):E.insertBefore(h,v):(E.nodeType===8?(v=E.parentNode,v.insertBefore(h,E)):(v=E,v.appendChild(h)),E=E._reactRootContainer,E!=null||v.onclick!==null||(v.onclick=lS));else if(O!==4&&(h=h.child,h!==null))for(CP(h,v,E),h=h.sibling;h!==null;)CP(h,v,E),h=h.sibling}function _P(h,v,E){var O=h.tag;if(O===5||O===6)h=h.stateNode,v?E.insertBefore(h,v):E.appendChild(h);else if(O!==4&&(h=h.child,h!==null))for(_P(h,v,E),h=h.sibling;h!==null;)_P(h,v,E),h=h.sibling}var ia=null,ml=!1;function EA(h,v,E){for(E=E.child;E!==null;)rz(h,v,E),E=E.sibling}function rz(h,v,E){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(uc,E)}catch{}switch(E.tag){case 5:Oa||Gh(E,v);case 6:var O=ia,D=ml;ia=null,EA(h,v,E),ia=O,ml=D,ia!==null&&(ml?(h=ia,E=E.stateNode,h.nodeType===8?h.parentNode.removeChild(E):h.removeChild(E)):ia.removeChild(E.stateNode));break;case 18:ia!==null&&(ml?(h=ia,E=E.stateNode,h.nodeType===8?jB(h.parentNode,E):h.nodeType===1&&jB(h,E),Vd(h)):jB(ia,E.stateNode));break;case 4:O=ia,D=ml,ia=E.stateNode.containerInfo,ml=!0,EA(h,v,E),ia=O,ml=D;break;case 0:case 11:case 14:case 15:if(!Oa&&(O=E.updateQueue,O!==null&&(O=O.lastEffect,O!==null))){D=O=O.next;do{var N=D,W=N.destroy;N=N.tag,W!==void 0&&((N&2)!==0||(N&4)!==0)&&SP(E,v,W),D=D.next}while(D!==O)}EA(h,v,E);break;case 1:if(!Oa&&(Gh(E,v),O=E.stateNode,typeof O.componentWillUnmount=="function"))try{O.props=E.memoizedProps,O.state=E.memoizedState,O.componentWillUnmount()}catch(ne){ei(E,v,ne)}EA(h,v,E);break;case 21:EA(h,v,E);break;case 22:E.mode&1?(Oa=(O=Oa)||E.memoizedState!==null,EA(h,v,E),Oa=O):EA(h,v,E);break;default:EA(h,v,E)}}function nz(h){var v=h.updateQueue;if(v!==null){h.updateQueue=null;var E=h.stateNode;E===null&&(E=h.stateNode=new J3e),v.forEach(function(O){var D=l5e.bind(null,h,O);E.has(O)||(E.add(O),O.then(D,D))})}}function vl(h,v){var E=v.deletions;if(E!==null)for(var O=0;O<E.length;O++){var D=E[O];try{var N=h,W=v,ne=W;e:for(;ne!==null;){switch(ne.tag){case 5:ia=ne.stateNode,ml=!1;break e;case 3:ia=ne.stateNode.containerInfo,ml=!0;break e;case 4:ia=ne.stateNode.containerInfo,ml=!0;break e}ne=ne.return}if(ia===null)throw Error(r(160));rz(N,W,D),ia=null,ml=!1;var ue=D.alternate;ue!==null&&(ue.return=null),D.return=null}catch(_e){ei(D,v,_e)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)iz(v,h),v=v.sibling}function iz(h,v){var E=h.alternate,O=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(vl(v,h),fu(h),O&4){try{Vm(3,h,h.return),OS(3,h)}catch(Ot){ei(h,h.return,Ot)}try{Vm(5,h,h.return)}catch(Ot){ei(h,h.return,Ot)}}break;case 1:vl(v,h),fu(h),O&512&&E!==null&&Gh(E,E.return);break;case 5:if(vl(v,h),fu(h),O&512&&E!==null&&Gh(E,E.return),h.flags&32){var D=h.stateNode;try{Z(D,"")}catch(Ot){ei(h,h.return,Ot)}}if(O&4&&(D=h.stateNode,D!=null)){var N=h.memoizedProps,W=E!==null?E.memoizedProps:N,ne=h.type,ue=h.updateQueue;if(h.updateQueue=null,ue!==null)try{ne==="input"&&N.type==="radio"&&N.name!=null&&De(D,N),_t(ne,W);var _e=_t(ne,N);for(W=0;W<ue.length;W+=2){var We=ue[W],Je=ue[W+1];We==="style"?qe(D,Je):We==="dangerouslySetInnerHTML"?Nt(D,Je):We==="children"?Z(D,Je):C(D,We,Je,_e)}switch(ne){case"input":Le(D,N);break;case"textarea":tt(D,N);break;case"select":var ze=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!N.multiple;var vt=N.value;vt!=null?Ie(D,!!N.multiple,vt,!1):ze!==!!N.multiple&&(N.defaultValue!=null?Ie(D,!!N.multiple,N.defaultValue,!0):Ie(D,!!N.multiple,N.multiple?[]:"",!1))}D[jm]=N}catch(Ot){ei(h,h.return,Ot)}}break;case 6:if(vl(v,h),fu(h),O&4){if(h.stateNode===null)throw Error(r(162));D=h.stateNode,N=h.memoizedProps;try{D.nodeValue=N}catch(Ot){ei(h,h.return,Ot)}}break;case 3:if(vl(v,h),fu(h),O&4&&E!==null&&E.memoizedState.isDehydrated)try{Vd(v.containerInfo)}catch(Ot){ei(h,h.return,Ot)}break;case 4:vl(v,h),fu(h);break;case 13:vl(v,h),fu(h),D=h.child,D.flags&8192&&(N=D.memoizedState!==null,D.stateNode.isHidden=N,!N||D.alternate!==null&&D.alternate.memoizedState!==null||(BP=ar())),O&4&&nz(h);break;case 22:if(We=E!==null&&E.memoizedState!==null,h.mode&1?(Oa=(_e=Oa)||We,vl(v,h),Oa=_e):vl(v,h),fu(h),O&8192){if(_e=h.memoizedState!==null,(h.stateNode.isHidden=_e)&&!We&&(h.mode&1)!==0)for(xt=h,We=h.child;We!==null;){for(Je=xt=We;xt!==null;){switch(ze=xt,vt=ze.child,ze.tag){case 0:case 11:case 14:case 15:Vm(4,ze,ze.return);break;case 1:Gh(ze,ze.return);var Bt=ze.stateNode;if(typeof Bt.componentWillUnmount=="function"){O=ze,E=ze.return;try{v=O,Bt.props=v.memoizedProps,Bt.state=v.memoizedState,Bt.componentWillUnmount()}catch(Ot){ei(O,E,Ot)}}break;case 5:Gh(ze,ze.return);break;case 22:if(ze.memoizedState!==null){sz(Je);continue}}vt!==null?(vt.return=ze,xt=vt):sz(Je)}We=We.sibling}e:for(We=null,Je=h;;){if(Je.tag===5){if(We===null){We=Je;try{D=Je.stateNode,_e?(N=D.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(ne=Je.stateNode,ue=Je.memoizedProps.style,W=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ne.style.display=Te("display",W))}catch(Ot){ei(h,h.return,Ot)}}}else if(Je.tag===6){if(We===null)try{Je.stateNode.nodeValue=_e?"":Je.memoizedProps}catch(Ot){ei(h,h.return,Ot)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===h)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===h)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===h)break e;We===Je&&(We=null),Je=Je.return}We===Je&&(We=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:vl(v,h),fu(h),O&4&&nz(h);break;case 21:break;default:vl(v,h),fu(h)}}function fu(h){var v=h.flags;if(v&2){try{e:{for(var E=h.return;E!==null;){if(ez(E)){var O=E;break e}E=E.return}throw Error(r(160))}switch(O.tag){case 5:var D=O.stateNode;O.flags&32&&(Z(D,""),O.flags&=-33);var N=tz(h);_P(h,N,D);break;case 3:case 4:var W=O.stateNode.containerInfo,ne=tz(h);CP(h,ne,W);break;default:throw Error(r(161))}}catch(ue){ei(h,h.return,ue)}h.flags&=-3}v&4096&&(h.flags&=-4097)}function e5e(h,v,E){xt=h,az(h)}function az(h,v,E){for(var O=(h.mode&1)!==0;xt!==null;){var D=xt,N=D.child;if(D.tag===22&&O){var W=D.memoizedState!==null||TS;if(!W){var ne=D.alternate,ue=ne!==null&&ne.memoizedState!==null||Oa;ne=TS;var _e=Oa;if(TS=W,(Oa=ue)&&!_e)for(xt=D;xt!==null;)W=xt,ue=W.child,W.tag===22&&W.memoizedState!==null?lz(D):ue!==null?(ue.return=W,xt=ue):lz(D);for(;N!==null;)xt=N,az(N),N=N.sibling;xt=D,TS=ne,Oa=_e}oz(h)}else(D.subtreeFlags&8772)!==0&&N!==null?(N.return=D,xt=N):oz(h)}}function oz(h){for(;xt!==null;){var v=xt;if((v.flags&8772)!==0){var E=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:Oa||OS(5,v);break;case 1:var O=v.stateNode;if(v.flags&4&&!Oa)if(E===null)O.componentDidMount();else{var D=v.elementType===v.type?E.memoizedProps:gl(v.type,E.memoizedProps);O.componentDidUpdate(D,E.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var N=v.updateQueue;N!==null&&s8(v,N,O);break;case 3:var W=v.updateQueue;if(W!==null){if(E=null,v.child!==null)switch(v.child.tag){case 5:E=v.child.stateNode;break;case 1:E=v.child.stateNode}s8(v,W,E)}break;case 5:var ne=v.stateNode;if(E===null&&v.flags&4){E=ne;var ue=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&E.focus();break;case"img":ue.src&&(E.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var _e=v.alternate;if(_e!==null){var We=_e.memoizedState;if(We!==null){var Je=We.dehydrated;Je!==null&&Vd(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Oa||v.flags&512&&xP(v)}catch(ze){ei(v,v.return,ze)}}if(v===h){xt=null;break}if(E=v.sibling,E!==null){E.return=v.return,xt=E;break}xt=v.return}}function sz(h){for(;xt!==null;){var v=xt;if(v===h){xt=null;break}var E=v.sibling;if(E!==null){E.return=v.return,xt=E;break}xt=v.return}}function lz(h){for(;xt!==null;){var v=xt;try{switch(v.tag){case 0:case 11:case 15:var E=v.return;try{OS(4,v)}catch(ue){ei(v,E,ue)}break;case 1:var O=v.stateNode;if(typeof O.componentDidMount=="function"){var D=v.return;try{O.componentDidMount()}catch(ue){ei(v,D,ue)}}var N=v.return;try{xP(v)}catch(ue){ei(v,N,ue)}break;case 5:var W=v.return;try{xP(v)}catch(ue){ei(v,W,ue)}}}catch(ue){ei(v,v.return,ue)}if(v===h){xt=null;break}var ne=v.sibling;if(ne!==null){ne.return=v.return,xt=ne;break}xt=v.return}}var t5e=Math.ceil,RS=S.ReactCurrentDispatcher,EP=S.ReactCurrentOwner,Rs=S.ReactCurrentBatchConfig,Mr=0,zi=null,xi=null,aa=0,Jo=0,Vh=bA(0),Mi=0,Ym=null,nf=0,MS=0,IP=0,Xm=null,Eo=null,BP=0,Yh=1/0,vc=null,FS=!1,PP=null,IA=null,kS=!1,BA=null,US=0,Jm=0,TP=null,DS=-1,jS=0;function oo(){return(Mr&6)!==0?ar():DS!==-1?DS:DS=ar()}function PA(h){return(h.mode&1)===0?1:(Mr&2)!==0&&aa!==0?aa&-aa:j3e.transition!==null?(jS===0&&(jS=Vb()),jS):(h=Tr,h!==0||(h=window.event,h=h===void 0?16:si(h.type)),h)}function yl(h,v,E,O){if(50<Jm)throw Jm=0,TP=null,Error(r(185));zd(h,E,O),((Mr&2)===0||h!==zi)&&(h===zi&&((Mr&2)===0&&(MS|=E),Mi===4&&TA(h,aa)),Io(h,O),E===1&&Mr===0&&(v.mode&1)===0&&(Yh=ar()+500,dS&&xA()))}function Io(h,v){var E=h.callbackNode;mB(h,v);var O=Kd(h,h===zi?aa:0);if(O===0)E!==null&&Dt(E),h.callbackNode=null,h.callbackPriority=0;else if(v=O&-O,h.callbackPriority!==v){if(E!=null&&Dt(E),v===1)h.tag===0?D3e(cz.bind(null,h)):VK(cz.bind(null,h)),M3e(function(){(Mr&6)===0&&xA()}),E=null;else{switch(cc(O)){case 1:E=Hi;break;case 4:E=Ke;break;case 16:E=_n;break;case 536870912:E=ro;break;default:E=_n}E=vz(E,uz.bind(null,h))}h.callbackPriority=v,h.callbackNode=E}}function uz(h,v){if(DS=-1,jS=0,(Mr&6)!==0)throw Error(r(327));var E=h.callbackNode;if(Xh()&&h.callbackNode!==E)return null;var O=Kd(h,h===zi?aa:0);if(O===0)return null;if((O&30)!==0||(O&h.expiredLanes)!==0||v)v=LS(h,O);else{v=O;var D=Mr;Mr|=2;var N=dz();(zi!==h||aa!==v)&&(vc=null,Yh=ar()+500,of(h,v));do try{i5e();break}catch(ne){Az(h,ne)}while(!0);GB(),RS.current=N,Mr=D,xi!==null?v=0:(zi=null,aa=0,v=Mi)}if(v!==0){if(v===2&&(D=xm(h),D!==0&&(O=D,v=OP(h,D))),v===1)throw E=Ym,of(h,0),TA(h,O),Io(h,ar()),E;if(v===6)TA(h,O);else{if(D=h.current.alternate,(O&30)===0&&!r5e(D)&&(v=LS(h,O),v===2&&(N=xm(h),N!==0&&(O=N,v=OP(h,N))),v===1))throw E=Ym,of(h,0),TA(h,O),Io(h,ar()),E;switch(h.finishedWork=D,h.finishedLanes=O,v){case 0:case 1:throw Error(r(345));case 2:sf(h,Eo,vc);break;case 3:if(TA(h,O),(O&130023424)===O&&(v=BP+500-ar(),10<v)){if(Kd(h,0)!==0)break;if(D=h.suspendedLanes,(D&O)!==O){oo(),h.pingedLanes|=h.suspendedLanes&D;break}h.timeoutHandle=DB(sf.bind(null,h,Eo,vc),v);break}sf(h,Eo,vc);break;case 4:if(TA(h,O),(O&4194240)===O)break;for(v=h.eventTimes,D=-1;0<O;){var W=31-Vo(O);N=1<<W,W=v[W],W>D&&(D=W),O&=~N}if(O=D,O=ar()-O,O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3e3>O?3e3:4320>O?4320:1960*t5e(O/1960))-O,10<O){h.timeoutHandle=DB(sf.bind(null,h,Eo,vc),O);break}sf(h,Eo,vc);break;case 5:sf(h,Eo,vc);break;default:throw Error(r(329))}}}return Io(h,ar()),h.callbackNode===E?uz.bind(null,h):null}function OP(h,v){var E=Xm;return h.current.memoizedState.isDehydrated&&(of(h,v).flags|=256),h=LS(h,v),h!==2&&(v=Eo,Eo=E,v!==null&&RP(v)),h}function RP(h){Eo===null?Eo=h:Eo.push.apply(Eo,h)}function r5e(h){for(var v=h;;){if(v.flags&16384){var E=v.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var O=0;O<E.length;O++){var D=E[O],N=D.getSnapshot;D=D.value;try{if(!hl(N(),D))return!1}catch{return!1}}}if(E=v.child,v.subtreeFlags&16384&&E!==null)E.return=v,v=E;else{if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function TA(h,v){for(v&=~IP,v&=~MS,h.suspendedLanes|=v,h.pingedLanes&=~v,h=h.expirationTimes;0<v;){var E=31-Vo(v),O=1<<E;h[E]=-1,v&=~O}}function cz(h){if((Mr&6)!==0)throw Error(r(327));Xh();var v=Kd(h,0);if((v&1)===0)return Io(h,ar()),null;var E=LS(h,v);if(h.tag!==0&&E===2){var O=xm(h);O!==0&&(v=O,E=OP(h,O))}if(E===1)throw E=Ym,of(h,0),TA(h,v),Io(h,ar()),E;if(E===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=v,sf(h,Eo,vc),Io(h,ar()),null}function MP(h,v){var E=Mr;Mr|=1;try{return h(v)}finally{Mr=E,Mr===0&&(Yh=ar()+500,dS&&xA())}}function af(h){BA!==null&&BA.tag===0&&(Mr&6)===0&&Xh();var v=Mr;Mr|=1;var E=Rs.transition,O=Tr;try{if(Rs.transition=null,Tr=1,h)return h()}finally{Tr=O,Rs.transition=E,Mr=v,(Mr&6)===0&&xA()}}function FP(){Jo=Vh.current,In(Vh)}function of(h,v){h.finishedWork=null,h.finishedLanes=0;var E=h.timeoutHandle;if(E!==-1&&(h.timeoutHandle=-1,R3e(E)),xi!==null)for(E=xi.return;E!==null;){var O=E;switch(HB(O),O.tag){case 1:O=O.type.childContextTypes,O!=null&&cS();break;case 3:zh(),In(xo),In(Ba),rP();break;case 5:eP(O);break;case 4:zh();break;case 13:In(Kn);break;case 19:In(Kn);break;case 10:VB(O.type._context);break;case 22:case 23:FP()}E=E.return}if(zi=h,xi=h=OA(h.current,null),aa=Jo=v,Mi=0,Ym=null,IP=MS=nf=0,Eo=Xm=null,ef!==null){for(v=0;v<ef.length;v++)if(E=ef[v],O=E.interleaved,O!==null){E.interleaved=null;var D=O.next,N=E.pending;if(N!==null){var W=N.next;N.next=D,O.next=W}E.pending=O}ef=null}return h}function Az(h,v){do{var E=xi;try{if(GB(),SS.current=ES,xS){for(var O=zn.memoizedState;O!==null;){var D=O.queue;D!==null&&(D.pending=null),O=O.next}xS=!1}if(rf=0,Ki=Ri=zn=null,qm=!1,Km=0,EP.current=null,E===null||E.return===null){Mi=1,Ym=v,xi=null;break}e:{var N=h,W=E.return,ne=E,ue=v;if(v=aa,ne.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var _e=ue,We=ne,Je=We.tag;if((We.mode&1)===0&&(Je===0||Je===11||Je===15)){var ze=We.alternate;ze?(We.updateQueue=ze.updateQueue,We.memoizedState=ze.memoizedState,We.lanes=ze.lanes):(We.updateQueue=null,We.memoizedState=null)}var vt=U8(W);if(vt!==null){vt.flags&=-257,D8(vt,W,ne,N,v),vt.mode&1&&k8(N,_e,v),v=vt,ue=_e;var Bt=v.updateQueue;if(Bt===null){var Ot=new Set;Ot.add(ue),v.updateQueue=Ot}else Bt.add(ue);break e}else{if((v&1)===0){k8(N,_e,v),kP();break e}ue=Error(r(426))}}else if(kn&&ne.mode&1){var ui=U8(W);if(ui!==null){(ui.flags&65536)===0&&(ui.flags|=256),D8(ui,W,ne,N,v),zB(Wh(ue,ne));break e}}N=ue=Wh(ue,ne),Mi!==4&&(Mi=2),Xm===null?Xm=[N]:Xm.push(N),N=W;do{switch(N.tag){case 3:N.flags|=65536,v&=-v,N.lanes|=v;var ve=M8(N,ue,v);o8(N,ve);break e;case 1:ne=ue;var Ae=N.type,Se=N.stateNode;if((N.flags&128)===0&&(typeof Ae.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(IA===null||!IA.has(Se)))){N.flags|=65536,v&=-v,N.lanes|=v;var at=F8(N,ne,v);o8(N,at);break e}}N=N.return}while(N!==null)}hz(E)}catch(Rt){v=Rt,xi===E&&E!==null&&(xi=E=E.return);continue}break}while(!0)}function dz(){var h=RS.current;return RS.current=ES,h===null?ES:h}function kP(){(Mi===0||Mi===3||Mi===2)&&(Mi=4),zi===null||(nf&268435455)===0&&(MS&268435455)===0||TA(zi,aa)}function LS(h,v){var E=Mr;Mr|=2;var O=dz();(zi!==h||aa!==v)&&(vc=null,of(h,v));do try{n5e();break}catch(D){Az(h,D)}while(!0);if(GB(),Mr=E,RS.current=O,xi!==null)throw Error(r(261));return zi=null,aa=0,Mi}function n5e(){for(;xi!==null;)fz(xi)}function i5e(){for(;xi!==null&&!St();)fz(xi)}function fz(h){var v=mz(h.alternate,h,Jo);h.memoizedProps=h.pendingProps,v===null?hz(h):xi=v,EP.current=null}function hz(h){var v=h;do{var E=v.alternate;if(h=v.return,(v.flags&32768)===0){if(E=Y3e(E,v,Jo),E!==null){xi=E;return}}else{if(E=X3e(E,v),E!==null){E.flags&=32767,xi=E;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Mi=6,xi=null;return}}if(v=v.sibling,v!==null){xi=v;return}xi=v=h}while(v!==null);Mi===0&&(Mi=5)}function sf(h,v,E){var O=Tr,D=Rs.transition;try{Rs.transition=null,Tr=1,a5e(h,v,E,O)}finally{Rs.transition=D,Tr=O}return null}function a5e(h,v,E,O){do Xh();while(BA!==null);if((Mr&6)!==0)throw Error(r(327));E=h.finishedWork;var D=h.finishedLanes;if(E===null)return null;if(h.finishedWork=null,h.finishedLanes=0,E===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var N=E.lanes|E.childLanes;if(vB(h,N),h===zi&&(xi=zi=null,aa=0),(E.subtreeFlags&2064)===0&&(E.flags&2064)===0||kS||(kS=!0,vz(_n,function(){return Xh(),null})),N=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||N){N=Rs.transition,Rs.transition=null;var W=Tr;Tr=1;var ne=Mr;Mr|=4,EP.current=null,Z3e(h,E),iz(E,h),_3e(kB),fe=!!FB,kB=FB=null,h.current=E,e5e(E),Cn(),Mr=ne,Tr=W,Rs.transition=N}else h.current=E;if(kS&&(kS=!1,BA=h,US=D),N=h.pendingLanes,N===0&&(IA=null),qd(E.stateNode),Io(h,ar()),v!==null)for(O=h.onRecoverableError,E=0;E<v.length;E++)D=v[E],O(D.value,{componentStack:D.stack,digest:D.digest});if(FS)throw FS=!1,h=PP,PP=null,h;return(US&1)!==0&&h.tag!==0&&Xh(),N=h.pendingLanes,(N&1)!==0?h===TP?Jm++:(Jm=0,TP=h):Jm=0,xA(),null}function Xh(){if(BA!==null){var h=cc(US),v=Rs.transition,E=Tr;try{if(Rs.transition=null,Tr=16>h?16:h,BA===null)var O=!1;else{if(h=BA,BA=null,US=0,(Mr&6)!==0)throw Error(r(331));var D=Mr;for(Mr|=4,xt=h.current;xt!==null;){var N=xt,W=N.child;if((xt.flags&16)!==0){var ne=N.deletions;if(ne!==null){for(var ue=0;ue<ne.length;ue++){var _e=ne[ue];for(xt=_e;xt!==null;){var We=xt;switch(We.tag){case 0:case 11:case 15:Vm(8,We,N)}var Je=We.child;if(Je!==null)Je.return=We,xt=Je;else for(;xt!==null;){We=xt;var ze=We.sibling,vt=We.return;if(Z8(We),We===_e){xt=null;break}if(ze!==null){ze.return=vt,xt=ze;break}xt=vt}}}var Bt=N.alternate;if(Bt!==null){var Ot=Bt.child;if(Ot!==null){Bt.child=null;do{var ui=Ot.sibling;Ot.sibling=null,Ot=ui}while(Ot!==null)}}xt=N}}if((N.subtreeFlags&2064)!==0&&W!==null)W.return=N,xt=W;else e:for(;xt!==null;){if(N=xt,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Vm(9,N,N.return)}var ve=N.sibling;if(ve!==null){ve.return=N.return,xt=ve;break e}xt=N.return}}var Ae=h.current;for(xt=Ae;xt!==null;){W=xt;var Se=W.child;if((W.subtreeFlags&2064)!==0&&Se!==null)Se.return=W,xt=Se;else e:for(W=Ae;xt!==null;){if(ne=xt,(ne.flags&2048)!==0)try{switch(ne.tag){case 0:case 11:case 15:OS(9,ne)}}catch(Rt){ei(ne,ne.return,Rt)}if(ne===W){xt=null;break e}var at=ne.sibling;if(at!==null){at.return=ne.return,xt=at;break e}xt=ne.return}}if(Mr=D,xA(),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(uc,h)}catch{}O=!0}return O}finally{Tr=E,Rs.transition=v}}return!1}function pz(h,v,E){v=Wh(E,v),v=M8(h,v,1),h=_A(h,v,1),v=oo(),h!==null&&(zd(h,1,v),Io(h,v))}function ei(h,v,E){if(h.tag===3)pz(h,h,E);else for(;v!==null;){if(v.tag===3){pz(v,h,E);break}else if(v.tag===1){var O=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(IA===null||!IA.has(O))){h=Wh(E,h),h=F8(v,h,1),v=_A(v,h,1),h=oo(),v!==null&&(zd(v,1,h),Io(v,h));break}}v=v.return}}function o5e(h,v,E){var O=h.pingCache;O!==null&&O.delete(v),v=oo(),h.pingedLanes|=h.suspendedLanes&E,zi===h&&(aa&E)===E&&(Mi===4||Mi===3&&(aa&130023424)===aa&&500>ar()-BP?of(h,0):IP|=E),Io(h,v)}function gz(h,v){v===0&&((h.mode&1)===0?v=1:(v=au,au<<=1,(au&130023424)===0&&(au=4194304)));var E=oo();h=pc(h,v),h!==null&&(zd(h,v,E),Io(h,E))}function s5e(h){var v=h.memoizedState,E=0;v!==null&&(E=v.retryLane),gz(h,E)}function l5e(h,v){var E=0;switch(h.tag){case 13:var O=h.stateNode,D=h.memoizedState;D!==null&&(E=D.retryLane);break;case 19:O=h.stateNode;break;default:throw Error(r(314))}O!==null&&O.delete(v),gz(h,E)}var mz;mz=function(h,v,E){if(h!==null)if(h.memoizedProps!==v.pendingProps||xo.current)_o=!0;else{if((h.lanes&E)===0&&(v.flags&128)===0)return _o=!1,V3e(h,v,E);_o=(h.flags&131072)!==0}else _o=!1,kn&&(v.flags&1048576)!==0&&YK(v,hS,v.index);switch(v.lanes=0,v.tag){case 2:var O=v.type;PS(h,v),h=v.pendingProps;var D=Lh(v,Ba.current);Kh(v,E),D=aP(null,v,O,h,D,E);var N=oP();return v.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Co(O)?(N=!0,AS(v)):N=!1,v.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,JB(v),D.updater=IS,v.stateNode=D,D._reactInternals=v,dP(v,O,h,E),v=gP(null,v,O,!0,N,E)):(v.tag=0,kn&&N&&QB(v),ao(null,v,D,E),v=v.child),v;case 16:O=v.elementType;e:{switch(PS(h,v),h=v.pendingProps,D=O._init,O=D(O._payload),v.type=O,D=v.tag=c5e(O),h=gl(O,h),D){case 0:v=pP(null,v,O,h,E);break e;case 1:v=H8(null,v,O,h,E);break e;case 11:v=j8(null,v,O,h,E);break e;case 14:v=L8(null,v,O,gl(O.type,h),E);break e}throw Error(r(306,O,""))}return v;case 0:return O=v.type,D=v.pendingProps,D=v.elementType===O?D:gl(O,D),pP(h,v,O,D,E);case 1:return O=v.type,D=v.pendingProps,D=v.elementType===O?D:gl(O,D),H8(h,v,O,D,E);case 3:e:{if(q8(v),h===null)throw Error(r(387));O=v.pendingProps,N=v.memoizedState,D=N.element,a8(h,v),wS(v,O,null,E);var W=v.memoizedState;if(O=W.element,N.isDehydrated)if(N={element:O,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},v.updateQueue.baseState=N,v.memoizedState=N,v.flags&256){D=Wh(Error(r(423)),v),v=K8(h,v,O,E,D);break e}else if(O!==D){D=Wh(Error(r(424)),v),v=K8(h,v,O,E,D);break e}else for(Xo=wA(v.stateNode.containerInfo.firstChild),Yo=v,kn=!0,pl=null,E=n8(v,null,O,E),v.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Qh(),O===D){v=mc(h,v,E);break e}ao(h,v,O,E)}v=v.child}return v;case 5:return l8(v),h===null&&KB(v),O=v.type,D=v.pendingProps,N=h!==null?h.memoizedProps:null,W=D.children,UB(O,D)?W=null:N!==null&&UB(O,N)&&(v.flags|=32),Q8(h,v),ao(h,v,W,E),v.child;case 6:return h===null&&KB(v),null;case 13:return z8(h,v,E);case 4:return ZB(v,v.stateNode.containerInfo),O=v.pendingProps,h===null?v.child=Hh(v,null,O,E):ao(h,v,O,E),v.child;case 11:return O=v.type,D=v.pendingProps,D=v.elementType===O?D:gl(O,D),j8(h,v,O,D,E);case 7:return ao(h,v,v.pendingProps,E),v.child;case 8:return ao(h,v,v.pendingProps.children,E),v.child;case 12:return ao(h,v,v.pendingProps.children,E),v.child;case 10:e:{if(O=v.type._context,D=v.pendingProps,N=v.memoizedProps,W=D.value,mn(mS,O._currentValue),O._currentValue=W,N!==null)if(hl(N.value,W)){if(N.children===D.children&&!xo.current){v=mc(h,v,E);break e}}else for(N=v.child,N!==null&&(N.return=v);N!==null;){var ne=N.dependencies;if(ne!==null){W=N.child;for(var ue=ne.firstContext;ue!==null;){if(ue.context===O){if(N.tag===1){ue=gc(-1,E&-E),ue.tag=2;var _e=N.updateQueue;if(_e!==null){_e=_e.shared;var We=_e.pending;We===null?ue.next=ue:(ue.next=We.next,We.next=ue),_e.pending=ue}}N.lanes|=E,ue=N.alternate,ue!==null&&(ue.lanes|=E),YB(N.return,E,v),ne.lanes|=E;break}ue=ue.next}}else if(N.tag===10)W=N.type===v.type?null:N.child;else if(N.tag===18){if(W=N.return,W===null)throw Error(r(341));W.lanes|=E,ne=W.alternate,ne!==null&&(ne.lanes|=E),YB(W,E,v),W=N.sibling}else W=N.child;if(W!==null)W.return=N;else for(W=N;W!==null;){if(W===v){W=null;break}if(N=W.sibling,N!==null){N.return=W.return,W=N;break}W=W.return}N=W}ao(h,v,D.children,E),v=v.child}return v;case 9:return D=v.type,O=v.pendingProps.children,Kh(v,E),D=Ts(D),O=O(D),v.flags|=1,ao(h,v,O,E),v.child;case 14:return O=v.type,D=gl(O,v.pendingProps),D=gl(O.type,D),L8(h,v,O,D,E);case 15:return N8(h,v,v.type,v.pendingProps,E);case 17:return O=v.type,D=v.pendingProps,D=v.elementType===O?D:gl(O,D),PS(h,v),v.tag=1,Co(O)?(h=!0,AS(v)):h=!1,Kh(v,E),O8(v,O,D),dP(v,O,D,E),gP(null,v,O,!0,h,E);case 19:return G8(h,v,E);case 22:return $8(h,v,E)}throw Error(r(156,v.tag))};function vz(h,v){return He(h,v)}function u5e(h,v,E,O){this.tag=h,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(h,v,E,O){return new u5e(h,v,E,O)}function UP(h){return h=h.prototype,!(!h||!h.isReactComponent)}function c5e(h){if(typeof h=="function")return UP(h)?1:0;if(h!=null){if(h=h.$$typeof,h===U)return 11;if(h===L)return 14}return 2}function OA(h,v){var E=h.alternate;return E===null?(E=Ms(h.tag,v,h.key,h.mode),E.elementType=h.elementType,E.type=h.type,E.stateNode=h.stateNode,E.alternate=h,h.alternate=E):(E.pendingProps=v,E.type=h.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=h.flags&14680064,E.childLanes=h.childLanes,E.lanes=h.lanes,E.child=h.child,E.memoizedProps=h.memoizedProps,E.memoizedState=h.memoizedState,E.updateQueue=h.updateQueue,v=h.dependencies,E.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},E.sibling=h.sibling,E.index=h.index,E.ref=h.ref,E}function NS(h,v,E,O,D,N){var W=2;if(O=h,typeof h=="function")UP(h)&&(W=1);else if(typeof h=="string")W=5;else e:switch(h){case B:return lf(E.children,D,N,v);case T:W=8,D|=8;break;case R:return h=Ms(12,E,v,D|2),h.elementType=R,h.lanes=N,h;case F:return h=Ms(13,E,v,D),h.elementType=F,h.lanes=N,h;case j:return h=Ms(19,E,v,D),h.elementType=j,h.lanes=N,h;case Q:return $S(E,D,N,v);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case P:W=10;break e;case M:W=9;break e;case U:W=11;break e;case L:W=14;break e;case $:W=16,O=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return v=Ms(W,E,v,D),v.elementType=h,v.type=O,v.lanes=N,v}function lf(h,v,E,O){return h=Ms(7,h,O,v),h.lanes=E,h}function $S(h,v,E,O){return h=Ms(22,h,O,v),h.elementType=Q,h.lanes=E,h.stateNode={isHidden:!1},h}function DP(h,v,E){return h=Ms(6,h,null,v),h.lanes=E,h}function jP(h,v,E){return v=Ms(4,h.children!==null?h.children:[],h.key,v),v.lanes=E,v.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},v}function A5e(h,v,E,O,D){this.tag=v,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.identifierPrefix=O,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function LP(h,v,E,O,D,N,W,ne,ue){return h=new A5e(h,v,E,ne,ue),v===1?(v=1,N===!0&&(v|=8)):v=0,N=Ms(3,null,null,v),h.current=N,N.stateNode=h,N.memoizedState={element:O,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},JB(N),h}function d5e(h,v,E){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:O==null?null:""+O,children:h,containerInfo:v,implementation:E}}function yz(h){if(!h)return SA;h=h._reactInternals;e:{if(Is(h)!==h||h.tag!==1)throw Error(r(170));var v=h;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Co(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(h.tag===1){var E=h.type;if(Co(E))return WK(h,E,v)}return v}function wz(h,v,E,O,D,N,W,ne,ue){return h=LP(E,O,!0,h,D,N,W,ne,ue),h.context=yz(null),E=h.current,O=oo(),D=PA(E),N=gc(O,D),N.callback=v??null,_A(E,N,D),h.current.lanes=D,zd(h,D,O),Io(h,O),h}function QS(h,v,E,O){var D=v.current,N=oo(),W=PA(D);return E=yz(E),v.context===null?v.context=E:v.pendingContext=E,v=gc(N,W),v.payload={element:h},O=O===void 0?null:O,O!==null&&(v.callback=O),h=_A(D,v,W),h!==null&&(yl(h,D,W,N),yS(h,D,W)),W}function HS(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function bz(h,v){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var E=h.retryLane;h.retryLane=E!==0&&E<v?E:v}}function NP(h,v){bz(h,v),(h=h.alternate)&&bz(h,v)}var Sz=typeof reportError=="function"?reportError:function(h){console.error(h)};function $P(h){this._internalRoot=h}qS.prototype.render=$P.prototype.render=function(h){var v=this._internalRoot;if(v===null)throw Error(r(409));QS(h,v,null,null)},qS.prototype.unmount=$P.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var v=h.containerInfo;af(function(){QS(null,h,null,null)}),v[Ac]=null}};function qS(h){this._internalRoot=h}qS.prototype.unstable_scheduleHydration=function(h){if(h){var v=Xb();h={blockedOn:null,target:h,priority:v};for(var E=0;E<lu.length&&v!==0&&v<lu[E].priority;E++);lu.splice(E,0,h),E===0&&Im(h)}};function QP(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function KS(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function xz(){}function f5e(h,v,E,O,D){if(D){if(typeof O=="function"){var N=O;O=function(){var _e=HS(W);N.call(_e)}}var W=wz(v,O,h,0,null,!1,!1,"",xz);return h._reactRootContainer=W,h[Ac]=W.current,Um(h.nodeType===8?h.parentNode:h),af(),W}for(;D=h.lastChild;)h.removeChild(D);if(typeof O=="function"){var ne=O;O=function(){var _e=HS(ue);ne.call(_e)}}var ue=LP(h,0,!1,null,null,!1,!1,"",xz);return h._reactRootContainer=ue,h[Ac]=ue.current,Um(h.nodeType===8?h.parentNode:h),af(function(){QS(v,ue,E,O)}),ue}function zS(h,v,E,O,D){var N=E._reactRootContainer;if(N){var W=N;if(typeof D=="function"){var ne=D;D=function(){var ue=HS(W);ne.call(ue)}}QS(v,W,h,D)}else W=f5e(E,v,h,D,O);return HS(W)}Yb=function(h){switch(h.tag){case 3:var v=h.stateNode;if(v.current.memoizedState.isDehydrated){var E=pA(v.pendingLanes);E!==0&&(Ph(v,E|1),Io(v,ar()),(Mr&6)===0&&(Yh=ar()+500,xA()))}break;case 13:af(function(){var O=pc(h,1);if(O!==null){var D=oo();yl(O,h,1,D)}}),NP(h,1)}},Cm=function(h){if(h.tag===13){var v=pc(h,134217728);if(v!==null){var E=oo();yl(v,h,134217728,E)}NP(h,134217728)}},Al=function(h){if(h.tag===13){var v=PA(h),E=pc(h,v);if(E!==null){var O=oo();yl(E,h,v,O)}NP(h,v)}},Xb=function(){return Tr},Jb=function(h,v){var E=Tr;try{return Tr=h,v()}finally{Tr=E}},Xe=function(h,v,E){switch(v){case"input":if(Le(h,E),v=E.name,E.type==="radio"&&v!=null){for(E=h;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<E.length;v++){var O=E[v];if(O!==h&&O.form===h.form){var D=uS(O);if(!D)throw Error(r(90));ae(O),Le(O,D)}}}break;case"textarea":tt(h,E);break;case"select":v=E.value,v!=null&&Ie(h,!!E.multiple,v,!1)}},ln=MP,qn=af;var h5e={usingClientEntryPoint:!1,Events:[Lm,Dh,uS,Er,Lr,MP]},Zm={findFiberByHostInstance:Yd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p5e={bundleType:Zm.bundleType,version:Zm.version,rendererPackageName:Zm.rendererPackageName,rendererConfig:Zm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Pe(h),h===null?null:h.stateNode},findFiberByHostInstance:Zm.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var WS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!WS.isDisabled&&WS.supportsFiber)try{uc=WS.inject(p5e),no=WS}catch{}}return Bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h5e,Bo.createPortal=function(h,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QP(v))throw Error(r(200));return d5e(h,v,null,E)},Bo.createRoot=function(h,v){if(!QP(h))throw Error(r(299));var E=!1,O="",D=Sz;return v!=null&&(v.unstable_strictMode===!0&&(E=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onRecoverableError!==void 0&&(D=v.onRecoverableError)),v=LP(h,1,!1,null,null,E,!1,O,D),h[Ac]=v.current,Um(h.nodeType===8?h.parentNode:h),new $P(v)},Bo.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var v=h._reactInternals;if(v===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=Pe(v),h=h===null?null:h.stateNode,h},Bo.flushSync=function(h){return af(h)},Bo.hydrate=function(h,v,E){if(!KS(v))throw Error(r(200));return zS(null,h,v,!0,E)},Bo.hydrateRoot=function(h,v,E){if(!QP(h))throw Error(r(405));var O=E!=null&&E.hydratedSources||null,D=!1,N="",W=Sz;if(E!=null&&(E.unstable_strictMode===!0&&(D=!0),E.identifierPrefix!==void 0&&(N=E.identifierPrefix),E.onRecoverableError!==void 0&&(W=E.onRecoverableError)),v=wz(v,null,h,1,E??null,D,!1,N,W),h[Ac]=v.current,Um(h),O)for(h=0;h<O.length;h++)E=O[h],D=E._getVersion,D=D(E._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[E,D]:v.mutableSourceEagerHydrationData.push(E,D);return new qS(v)},Bo.render=function(h,v,E){if(!KS(v))throw Error(r(200));return zS(null,h,v,!1,E)},Bo.unmountComponentAtNode=function(h){if(!KS(h))throw Error(r(40));return h._reactRootContainer?(af(function(){zS(null,null,h,!1,function(){h._reactRootContainer=null,h[Ac]=null})}),!0):!1},Bo.unstable_batchedUpdates=MP,Bo.unstable_renderSubtreeIntoContainer=function(h,v,E,O){if(!KS(E))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return zS(h,v,E,!1,O)},Bo.version="18.3.1-next-f1338f8080-20240426",Bo}var Oz;function oEe(){if(Oz)return KP.exports;Oz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),KP.exports=_5e(),KP.exports}var Rz;function E5e(){if(Rz)return GS;Rz=1;var t=oEe();return GS.createRoot=t.createRoot,GS.hydrateRoot=t.hydrateRoot,GS}var sEe=E5e(),tv={},Mz;function I5e(){if(Mz)return tv;Mz=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.parse=o,tv.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function o(d,f){const p=new a,g=d.length;if(g<2)return p;const m=(f==null?void 0:f.decode)||c;let w=0;do{const b=d.indexOf("=",w);if(b===-1)break;const C=d.indexOf(";",w),S=C===-1?g:C;if(b>S){w=d.lastIndexOf(";",b-1)+1;continue}const x=s(d,w,b),_=l(d,b,x),B=d.slice(x,_);if(p[B]===void 0){let T=s(d,b+1,S),R=l(d,S,T);const P=m(d.slice(T,R));p[B]=P}w=S+1}while(w<g);return p}function s(d,f,p){do{const g=d.charCodeAt(f);if(g!==32&&g!==9)return f}while(++f<p);return p}function l(d,f,p){for(;f>p;){const g=d.charCodeAt(--f);if(g!==32&&g!==9)return f+1}return p}function u(d,f,p){const g=(p==null?void 0:p.encode)||encodeURIComponent;if(!t.test(d))throw new TypeError(`argument name is invalid: ${d}`);const m=g(f);if(!e.test(m))throw new TypeError(`argument val is invalid: ${f}`);let w=d+"="+m;if(!p)return w;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);w+="; Max-Age="+p.maxAge}if(p.domain){if(!r.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);w+="; Domain="+p.domain}if(p.path){if(!n.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);w+="; Path="+p.path}if(p.expires){if(!A(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);w+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(w+="; HttpOnly"),p.secure&&(w+="; Secure"),p.partitioned&&(w+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return w}function c(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function A(d){return i.call(d)==="[object Date]"}return tv}I5e();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fz="popstate";function B5e(t={}){function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return XN("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Py(i)}return T5e(e,r,null,t)}function Qn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P5e(){return Math.random().toString(36).substring(2,10)}function kz(t,e){return{usr:t.state,key:t.key,idx:e}}function XN(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ug(e):e,state:r,key:e&&e.key||n||P5e()}}function Py({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ug(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function T5e(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function A(){s="POP";let m=c(),w=m==null?null:m-u;u=m,l&&l({action:s,location:g.location,delta:w})}function d(m,w){s="PUSH";let b=XN(g.location,m,w);u=c()+1;let C=kz(b,u),S=g.createHref(b);try{o.pushState(C,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function f(m,w){s="REPLACE";let b=XN(g.location,m,w);u=c();let C=kz(b,u),S=g.createHref(b);o.replaceState(C,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function p(m){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof m=="string"?m:Py(m);return b=b.replace(/ $/,"%20"),Qn(w,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,w)}let g={get action(){return s},get location(){return t(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Fz,A),l=m,()=>{i.removeEventListener(Fz,A),l=null}},createHref(m){return e(i,m)},createURL:p,encodeLocation(m){let w=p(m);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:f,go(m){return o.go(m)}};return g}function lEe(t,e,r="/"){return O5e(t,e,r,!1)}function O5e(t,e,r,n){let i=typeof e=="string"?Ug(e):e,a=ld(i.pathname||"/",r);if(a==null)return null;let o=uEe(t);R5e(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=H5e(a);s=$5e(o[l],u,n)}return s}function uEe(t,e=[],r=[],n=""){let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Qn(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=Uc([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(Qn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),uEe(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:L5e(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of cEe(a.path))i(a,o,l)}),e}function cEe(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=cEe(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function R5e(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:N5e(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var M5e=/^:[\w-]+$/,F5e=3,k5e=2,U5e=1,D5e=10,j5e=-2,Uz=t=>t==="*";function L5e(t,e){let r=t.split("/"),n=r.length;return r.some(Uz)&&(n+=j5e),e&&(n+=k5e),r.filter(i=>!Uz(i)).reduce((i,a)=>i+(M5e.test(a)?F5e:a===""?U5e:D5e),n)}function N5e(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function $5e(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",A=p1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!A&&u&&r&&!n[n.length-1].route.index&&(A=p1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!A)return null;Object.assign(i,A.params),o.push({params:i,pathname:Uc([a,A.pathname]),pathnameBase:W5e(Uc([a,A.pathnameBase])),route:d}),A.pathnameBase!=="/"&&(a=Uc([a,A.pathnameBase]))}return o}function p1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Q5e(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:A},d)=>{if(c==="*"){let p=s[d]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const f=s[d];return A&&!f?u[c]=void 0:u[c]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Q5e(t,e=!1,r=!0){Dl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function H5e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ld(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function q5e(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ug(t):t;return{pathname:r?r.startsWith("/")?r:K5e(r,e):e,search:G5e(n),hash:V5e(i)}}function K5e(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function GP(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z5e(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function fH(t){let e=z5e(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function hH(t,e,r,n=!1){let i;typeof t=="string"?i=Ug(t):(i={...t},Qn(!i.pathname||!i.pathname.includes("?"),GP("?","pathname","search",i)),Qn(!i.pathname||!i.pathname.includes("#"),GP("#","pathname","hash",i)),Qn(!i.search||!i.search.includes("#"),GP("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let A=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),A-=1;i.pathname=d.join("/")}s=A>=0?e[A]:"/"}let l=q5e(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Uc=t=>t.join("/").replace(/\/\/+/g,"/"),W5e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G5e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V5e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Y5e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AEe=["POST","PUT","PATCH","DELETE"];new Set(AEe);var X5e=["GET",...AEe];new Set(X5e);var Dg=I.createContext(null);Dg.displayName="DataRouter";var f_=I.createContext(null);f_.displayName="DataRouterState";var dEe=I.createContext({isTransitioning:!1});dEe.displayName="ViewTransition";var J5e=I.createContext(new Map);J5e.displayName="Fetchers";var Z5e=I.createContext(null);Z5e.displayName="Await";var Ql=I.createContext(null);Ql.displayName="Navigation";var jw=I.createContext(null);jw.displayName="Location";var Hl=I.createContext({outlet:null,matches:[],isDataRoute:!1});Hl.displayName="Route";var pH=I.createContext(null);pH.displayName="RouteError";function eqe(t,{relative:e}={}){Qn(jg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=I.useContext(Ql),{hash:i,pathname:a,search:o}=Lw(t,{relative:e}),s=a;return r!=="/"&&(s=a==="/"?r:Uc([r,a])),n.createHref({pathname:s,search:o,hash:i})}function jg(){return I.useContext(jw)!=null}function wd(){return Qn(jg(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(jw).location}var fEe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hEe(t){I.useContext(Ql).static||I.useLayoutEffect(t)}function th(){let{isDataRoute:t}=I.useContext(Hl);return t?pqe():tqe()}function tqe(){Qn(jg(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Dg),{basename:e,navigator:r}=I.useContext(Ql),{matches:n}=I.useContext(Hl),{pathname:i}=wd(),a=JSON.stringify(fH(n)),o=I.useRef(!1);return hEe(()=>{o.current=!0}),I.useCallback((l,u={})=>{if(Dl(o.current,fEe),!o.current)return;if(typeof l=="number"){r.go(l);return}let c=hH(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Uc([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,a,i,t])}var rqe=I.createContext(null);function nqe(t){let e=I.useContext(Hl).outlet;return e&&I.createElement(rqe.Provider,{value:t},e)}function Lw(t,{relative:e}={}){let{matches:r}=I.useContext(Hl),{pathname:n}=wd(),i=JSON.stringify(fH(r));return I.useMemo(()=>hH(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function iqe(t,e){return pEe(t,e)}function pEe(t,e,r,n){var b;Qn(jg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=I.useContext(Ql),{matches:o}=I.useContext(Hl),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",A=s&&s.route;{let C=A&&A.path||"";gEe(u,!A||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let d=wd(),f;if(e){let C=typeof e=="string"?Ug(e):e;Qn(c==="/"||((b=C.pathname)==null?void 0:b.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${C.pathname}" was given in the \`location\` prop.`),f=C}else f=d;let p=f.pathname||"/",g=p;if(c!=="/"){let C=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let m=!a&&r&&r.matches&&r.matches.length>0?r.matches:lEe(t,{pathname:g});Dl(A||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Dl(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=uqe(m&&m.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Uc([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Uc([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,r,n);return e&&w?I.createElement(jw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},w):w}function aqe(){let t=hqe(),e=Y5e(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:i},r):null,o)}var oqe=I.createElement(aqe,null),sqe=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Hl.Provider,{value:this.props.routeContext},I.createElement(pH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lqe({routeContext:t,match:e,children:r}){let n=I.useContext(Dg);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Hl.Provider,{value:t},r)}function uqe(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let l=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Qn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,s=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(s=l),u.route.id){let{loaderData:c,errors:A}=r,d=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!A||A[u.route.id]===void 0);if(u.route.lazy||d){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let A,d=!1,f=null,p=null;r&&(A=a&&u.route.id?a[u.route.id]:void 0,f=u.route.errorElement||oqe,o&&(s<0&&c===0?(gEe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):s===c&&(d=!0,p=u.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,c+1)),m=()=>{let w;return A?w=f:d?w=p:u.route.Component?w=I.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=l,I.createElement(lqe,{match:u,routeContext:{outlet:l,matches:g,isDataRoute:r!=null},children:w})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?I.createElement(sqe,{location:r.location,revalidation:r.revalidation,component:f,error:A,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}function gH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cqe(t){let e=I.useContext(Dg);return Qn(e,gH(t)),e}function Aqe(t){let e=I.useContext(f_);return Qn(e,gH(t)),e}function dqe(t){let e=I.useContext(Hl);return Qn(e,gH(t)),e}function mH(t){let e=dqe(t),r=e.matches[e.matches.length-1];return Qn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function fqe(){return mH("useRouteId")}function hqe(){var n;let t=I.useContext(pH),e=Aqe("useRouteError"),r=mH("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function pqe(){let{router:t}=cqe("useNavigate"),e=mH("useNavigate"),r=I.useRef(!1);return hEe(()=>{r.current=!0}),I.useCallback(async(i,a={})=>{Dl(r.current,fEe),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Dz={};function gEe(t,e,r){!e&&!Dz[t]&&(Dz[t]=!0,Dl(!1,r))}I.memo(gqe);function gqe({routes:t,future:e,state:r}){return pEe(t,void 0,r,e)}function mqe({to:t,replace:e,state:r,relative:n}){Qn(jg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(Ql);Dl(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=I.useContext(Hl),{pathname:o}=wd(),s=th(),l=hH(t,fH(a),o,n==="path"),u=JSON.stringify(l);return I.useEffect(()=>{s(JSON.parse(u),{replace:e,state:r,relative:n})},[s,u,n,e,r]),null}function vqe(t){return nqe(t.context)}function Sl(t){Qn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yqe({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Qn(!jg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=I.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=Ug(r));let{pathname:l="/",search:u="",hash:c="",state:A=null,key:d="default"}=r,f=I.useMemo(()=>{let p=ld(l,o);return p==null?null:{location:{pathname:p,search:u,hash:c,state:A,key:d},navigationType:n}},[o,l,u,c,A,d,n]);return Dl(f!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:I.createElement(Ql.Provider,{value:s},I.createElement(jw.Provider,{children:e,value:f}))}function wqe({children:t,location:e}){return iqe(JN(t),e)}function JN(t,e=[]){let r=[];return I.Children.forEach(t,(n,i)=>{if(!I.isValidElement(n))return;let a=[...e,i];if(n.type===I.Fragment){r.push.apply(r,JN(n.props.children,a));return}Qn(n.type===Sl,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=JN(n.props.children,a)),r.push(o)}),r}var bx="get",Sx="application/x-www-form-urlencoded";function h_(t){return t!=null&&typeof t.tagName=="string"}function bqe(t){return h_(t)&&t.tagName.toLowerCase()==="button"}function Sqe(t){return h_(t)&&t.tagName.toLowerCase()==="form"}function xqe(t){return h_(t)&&t.tagName.toLowerCase()==="input"}function Cqe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _qe(t,e){return t.button===0&&(!e||e==="_self")&&!Cqe(t)}var VS=null;function Eqe(){if(VS===null)try{new FormData(document.createElement("form"),0),VS=!1}catch{VS=!0}return VS}var Iqe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function VP(t){return t!=null&&!Iqe.has(t)?(Dl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sx}"`),null):t}function Bqe(t,e){let r,n,i,a,o;if(Sqe(t)){let s=t.getAttribute("action");n=s?ld(s,e):null,r=t.getAttribute("method")||bx,i=VP(t.getAttribute("enctype"))||Sx,a=new FormData(t)}else if(bqe(t)||xqe(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||s.getAttribute("action");if(n=l?ld(l,e):null,r=t.getAttribute("formmethod")||s.getAttribute("method")||bx,i=VP(t.getAttribute("formenctype"))||VP(s.getAttribute("enctype"))||Sx,a=new FormData(s,t),!Eqe()){let{name:u,type:c,value:A}=t;if(c==="image"){let d=u?`${u}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else u&&a.append(u,A)}}else{if(h_(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=bx,n=null,i=Sx,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}function vH(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Pqe(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tqe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Oqe(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await Pqe(a,r);return o.links?o.links():[]}return[]}));return kqe(n.flat(1).filter(Tqe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jz(t,e,r,n,i,a){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,s=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,u)=>o(l,u)||s(l,u)):a==="data"?e.filter((l,u)=>{var A;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Rqe(t,e){return Mqe(t.map(r=>{let n=e.routes[r.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Mqe(t){return[...new Set(t)]}function Fqe(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function kqe(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(Fqe(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function Uqe(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Dqe(){let t=I.useContext(Dg);return vH(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jqe(){let t=I.useContext(f_);return vH(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yH=I.createContext(void 0);yH.displayName="FrameworkContext";function mEe(){let t=I.useContext(yH);return vH(t,"You must render this element inside a <HydratedRouter> element"),t}function Lqe(t,e){let r=I.useContext(yH),[n,i]=I.useState(!1),[a,o]=I.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:A}=e,d=I.useRef(null);I.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=w=>{w.forEach(b=>{o(b.isIntersecting)})},m=new IntersectionObserver(g,{threshold:.5});return d.current&&m.observe(d.current),()=>{m.disconnect()}}},[t]),I.useEffect(()=>{if(n){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[n]);let f=()=>{i(!0)},p=()=>{i(!1),o(!1)};return r?t!=="intent"?[a,d,{}]:[a,d,{onFocus:rv(s,f),onBlur:rv(l,p),onMouseEnter:rv(u,f),onMouseLeave:rv(c,p),onTouchStart:rv(A,f)}]:[!1,d,{}]}function rv(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Nqe({page:t,...e}){let{router:r}=Dqe(),n=I.useMemo(()=>lEe(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?I.createElement(Qqe,{page:t,matches:n,...e}):null}function $qe(t){let{manifest:e,routeModules:r}=mEe(),[n,i]=I.useState([]);return I.useEffect(()=>{let a=!1;return Oqe(t,e,r).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,r]),n}function Qqe({page:t,matches:e,...r}){let n=wd(),{manifest:i,routeModules:a}=mEe(),{loaderData:o,matches:s}=jqe(),l=I.useMemo(()=>jz(t,e,s,i,n,"data"),[t,e,s,i,n]),u=I.useMemo(()=>jz(t,e,s,i,n,"assets"),[t,e,s,i,n]),c=I.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let f=new Set,p=!1;if(e.forEach(m=>{var b;let w=i.routes[m.route.id];!w||!w.hasLoader||(!l.some(C=>C.route.id===m.route.id)&&m.route.id in o&&((b=a[m.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?p=!0:f.add(m.route.id))}),f.size===0)return[];let g=Uqe(t);return p&&f.size>0&&g.searchParams.set("_routes",e.filter(m=>f.has(m.route.id)).map(m=>m.route.id).join(",")),[g.pathname+g.search]},[o,n,i,l,e,t,a]),A=I.useMemo(()=>Rqe(u,i),[u,i]),d=$qe(u);return I.createElement(I.Fragment,null,c.map(f=>I.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),A.map(f=>I.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),d.map(({key:f,link:p})=>I.createElement("link",{key:f,...p})))}function Hqe(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var vEe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vEe&&(window.__reactRouterVersion="7.1.5")}catch{}function qqe({basename:t,children:e,window:r}){let n=I.useRef();n.current==null&&(n.current=B5e({window:r,v5Compat:!0}));let i=n.current,[a,o]=I.useState({action:i.action,location:i.location}),s=I.useCallback(l=>{I.startTransition(()=>o(l))},[o]);return I.useLayoutEffect(()=>i.listen(s),[i,s]),I.createElement(yqe,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var yEe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wEe=I.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:A,...d},f){let{basename:p}=I.useContext(Ql),g=typeof u=="string"&&yEe.test(u),m,w=!1;if(typeof u=="string"&&g&&(m=u,vEe))try{let R=new URL(window.location.href),P=u.startsWith("//")?new URL(R.protocol+u):new URL(u),M=ld(P.pathname,p);P.origin===R.origin&&M!=null?u=M+P.search+P.hash:w=!0}catch{Dl(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=eqe(u,{relative:i}),[C,S,x]=Lqe(n,d),_=Gqe(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:A});function B(R){e&&e(R),R.defaultPrevented||_(R)}let T=I.createElement("a",{...d,...x,href:m||b,onClick:w||a?e:B,ref:Hqe(f,S),target:l,"data-discover":!g&&r==="render"?"true":void 0});return C&&!g?I.createElement(I.Fragment,null,T,I.createElement(Nqe,{page:b})):T});wEe.displayName="Link";var Kqe=I.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...u},c){let A=Lw(o,{relative:u.relative}),d=wd(),f=I.useContext(f_),{navigator:p,basename:g}=I.useContext(Ql),m=f!=null&&Zqe(A)&&s===!0,w=p.encodeLocation?p.encodeLocation(A).pathname:A.pathname,b=d.pathname,C=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(b=b.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&g&&(C=ld(C,g)||C);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let x=b===w||!i&&b.startsWith(w)&&b.charAt(S)==="/",_=C!=null&&(C===w||!i&&C.startsWith(w)&&C.charAt(w.length)==="/"),B={isActive:x,isPending:_,isTransitioning:m},T=x?e:void 0,R;typeof n=="function"?R=n(B):R=[n,x?"active":null,_?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(B):a;return I.createElement(wEe,{...u,"aria-current":T,className:R,ref:c,style:P,to:o,viewTransition:s},typeof l=="function"?l(B):l)});Kqe.displayName="NavLink";var zqe=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:o=bx,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:A,...d},f)=>{let p=Xqe(),g=Jqe(s,{relative:u}),m=o.toLowerCase()==="get"?"get":"post",w=typeof s=="string"&&yEe.test(s),b=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let S=C.nativeEvent.submitter,x=(S==null?void 0:S.getAttribute("formmethod"))||o;p(S||C.currentTarget,{fetcherKey:e,method:x,navigate:r,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:A})};return I.createElement("form",{ref:f,method:m,action:g,onSubmit:n?l:b,...d,"data-discover":!w&&t==="render"?"true":void 0})});zqe.displayName="Form";function Wqe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bEe(t){let e=I.useContext(Dg);return Qn(e,Wqe(t)),e}function Gqe(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=th(),l=wd(),u=Lw(t,{relative:a});return I.useCallback(c=>{if(_qe(c,e)){c.preventDefault();let A=r!==void 0?r:Py(l)===Py(u);s(t,{replace:A,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,u,r,n,e,t,i,a,o])}var Vqe=0,Yqe=()=>`__${String(++Vqe)}__`;function Xqe(){let{router:t}=bEe("useSubmit"),{basename:e}=I.useContext(Ql),r=fqe();return I.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:l,body:u}=Bqe(n,e);if(i.navigate===!1){let c=i.fetcherKey||Yqe();await t.fetch(c,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function Jqe(t,{relative:e}={}){let{basename:r}=I.useContext(Ql),n=I.useContext(Hl);Qn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Lw(t||".",{relative:e})},o=wd();if(t==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(A=>A).forEach(A=>s.append("index",A));let c=s.toString();a.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Uc([r,a.pathname])),Py(a)}function Zqe(t,e={}){let r=I.useContext(dEe);Qn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=bEe("useViewTransitionState"),i=Lw(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=ld(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ld(r.nextLocation.pathname,n)||r.nextLocation.pathname;return p1(i.pathname,o)!=null||p1(i.pathname,a)!=null}new TextEncoder;var rh=oEe();const jv=kr(rh),SEe=I.createContext(void 0),e6e=({children:t})=>{const[e,r]=I.useState(!1),n=(a,o)=>[{username:"isacep",password:"!pass!"},{username:"patricep",password:"patric1967!"}].find(u=>u.username===a&&u.password===o)?(r(!0),!0):!1,i=()=>{r(!1)};return y.jsx(SEe.Provider,{value:{isAuthenticated:e,login:n,logout:i},children:t})},wH=()=>{const t=I.useContext(SEe);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},t6e=()=>{const{isAuthenticated:t}=wH();return t?y.jsx(vqe,{}):y.jsx(mqe,{to:"/login",replace:!0})},Ty={black:"#000",white:"#fff"},Jh={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zh={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ep={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},tp={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},rp={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},nv={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},r6e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Kc(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}const Ou="$$material";function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(null,arguments)}function n6e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function i6e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var a6e=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(i6e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=n6e(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Ra="-ms-",m1="-moz-",Nr="-webkit-",xEe="comm",bH="rule",SH="decl",o6e="@import",CEe="@keyframes",s6e="@layer",l6e=Math.abs,p_=String.fromCharCode,u6e=Object.assign;function c6e(t,e){return ca(t,0)^45?(((e<<2^ca(t,0))<<2^ca(t,1))<<2^ca(t,2))<<2^ca(t,3):0}function _Ee(t){return t.trim()}function A6e(t,e){return(t=e.exec(t))?t[0]:t}function $r(t,e,r){return t.replace(e,r)}function ZN(t,e){return t.indexOf(e)}function ca(t,e){return t.charCodeAt(e)|0}function Oy(t,e,r){return t.slice(e,r)}function bu(t){return t.length}function xH(t){return t.length}function YS(t,e){return e.push(t),t}function d6e(t,e){return t.map(e).join("")}var g_=1,rg=1,EEe=0,$o=0,Ii=0,Lg="";function m_(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:g_,column:rg,length:o,return:""}}function iv(t,e){return u6e(m_("",null,null,"",null,null,0),t,{length:-t.length},e)}function f6e(){return Ii}function h6e(){return Ii=$o>0?ca(Lg,--$o):0,rg--,Ii===10&&(rg=1,g_--),Ii}function us(){return Ii=$o<EEe?ca(Lg,$o++):0,rg++,Ii===10&&(rg=1,g_++),Ii}function Ru(){return ca(Lg,$o)}function xx(){return $o}function Nw(t,e){return Oy(Lg,t,e)}function Ry(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IEe(t){return g_=rg=1,EEe=bu(Lg=t),$o=0,[]}function BEe(t){return Lg="",t}function Cx(t){return _Ee(Nw($o-1,e$(t===91?t+2:t===40?t+1:t)))}function p6e(t){for(;(Ii=Ru())&&Ii<33;)us();return Ry(t)>2||Ry(Ii)>3?"":" "}function g6e(t,e){for(;--e&&us()&&!(Ii<48||Ii>102||Ii>57&&Ii<65||Ii>70&&Ii<97););return Nw(t,xx()+(e<6&&Ru()==32&&us()==32))}function e$(t){for(;us();)switch(Ii){case t:return $o;case 34:case 39:t!==34&&t!==39&&e$(Ii);break;case 40:t===41&&e$(t);break;case 92:us();break}return $o}function m6e(t,e){for(;us()&&t+Ii!==57;)if(t+Ii===84&&Ru()===47)break;return"/*"+Nw(e,$o-1)+"*"+p_(t===47?t:us())}function v6e(t){for(;!Ry(Ru());)us();return Nw(t,$o)}function y6e(t){return BEe(_x("",null,null,null,[""],t=IEe(t),0,[0],t))}function _x(t,e,r,n,i,a,o,s,l){for(var u=0,c=0,A=o,d=0,f=0,p=0,g=1,m=1,w=1,b=0,C="",S=i,x=a,_=n,B=C;m;)switch(p=b,b=us()){case 40:if(p!=108&&ca(B,A-1)==58){ZN(B+=$r(Cx(b),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:B+=Cx(b);break;case 9:case 10:case 13:case 32:B+=p6e(p);break;case 92:B+=g6e(xx()-1,7);continue;case 47:switch(Ru()){case 42:case 47:YS(w6e(m6e(us(),xx()),e,r),l);break;default:B+="/"}break;case 123*g:s[u++]=bu(B)*w;case 125*g:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+c:w==-1&&(B=$r(B,/\f/g,"")),f>0&&bu(B)-A&&YS(f>32?Nz(B+";",n,r,A-1):Nz($r(B," ","")+";",n,r,A-2),l);break;case 59:B+=";";default:if(YS(_=Lz(B,e,r,u,c,i,s,C,S=[],x=[],A),a),b===123)if(c===0)_x(B,e,_,_,S,a,A,s,x);else switch(d===99&&ca(B,3)===110?100:d){case 100:case 108:case 109:case 115:_x(t,_,_,n&&YS(Lz(t,_,_,0,0,i,s,C,i,S=[],A),x),i,x,A,s,n?S:x);break;default:_x(B,_,_,_,[""],x,0,s,x)}}u=c=f=0,g=w=1,C=B="",A=o;break;case 58:A=1+bu(B),f=p;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&h6e()==125)continue}switch(B+=p_(b),b*g){case 38:w=c>0?1:(B+="\f",-1);break;case 44:s[u++]=(bu(B)-1)*w,w=1;break;case 64:Ru()===45&&(B+=Cx(us())),d=Ru(),c=A=bu(C=B+=v6e(xx())),b++;break;case 45:p===45&&bu(B)==2&&(g=0)}}return a}function Lz(t,e,r,n,i,a,o,s,l,u,c){for(var A=i-1,d=i===0?a:[""],f=xH(d),p=0,g=0,m=0;p<n;++p)for(var w=0,b=Oy(t,A+1,A=l6e(g=o[p])),C=t;w<f;++w)(C=_Ee(g>0?d[w]+" "+b:$r(b,/&\f/g,d[w])))&&(l[m++]=C);return m_(t,e,r,i===0?bH:s,l,u,c)}function w6e(t,e,r){return m_(t,e,r,xEe,p_(f6e()),Oy(t,2,-2),0)}function Nz(t,e,r,n){return m_(t,e,r,SH,Oy(t,0,n),Oy(t,n+1,-1),n)}function Qp(t,e){for(var r="",n=xH(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function b6e(t,e,r,n){switch(t.type){case s6e:if(t.children.length)break;case o6e:case SH:return t.return=t.return||t.value;case xEe:return"";case CEe:return t.return=t.value+"{"+Qp(t.children,n)+"}";case bH:t.value=t.props.join(",")}return bu(r=Qp(t.children,n))?t.return=t.value+"{"+r+"}":""}function S6e(t){var e=xH(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function x6e(t){return function(e){e.root||(e=e.return)&&t(e)}}function PEe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var C6e=function(e,r,n){for(var i=0,a=0;i=a,a=Ru(),i===38&&a===12&&(r[n]=1),!Ry(a);)us();return Nw(e,$o)},_6e=function(e,r){var n=-1,i=44;do switch(Ry(i)){case 0:i===38&&Ru()===12&&(r[n]=1),e[n]+=C6e($o-1,r,n);break;case 2:e[n]+=Cx(i);break;case 4:if(i===44){e[++n]=Ru()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=p_(i)}while(i=us());return e},E6e=function(e,r){return BEe(_6e(IEe(e),r))},$z=new WeakMap,I6e=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!$z.get(n))&&!i){$z.set(e,!0);for(var a=[],o=E6e(r,a),s=n.props,l=0,u=0;l<o.length;l++)for(var c=0;c<s.length;c++,u++)e.props[u]=a[l]?o[l].replace(/&\f/g,s[c]):s[c]+" "+o[l]}}},B6e=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function TEe(t,e){switch(c6e(t,e)){case 5103:return Nr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Nr+t+m1+t+Ra+t+t;case 6828:case 4268:return Nr+t+Ra+t+t;case 6165:return Nr+t+Ra+"flex-"+t+t;case 5187:return Nr+t+$r(t,/(\w+).+(:[^]+)/,Nr+"box-$1$2"+Ra+"flex-$1$2")+t;case 5443:return Nr+t+Ra+"flex-item-"+$r(t,/flex-|-self/,"")+t;case 4675:return Nr+t+Ra+"flex-line-pack"+$r(t,/align-content|flex-|-self/,"")+t;case 5548:return Nr+t+Ra+$r(t,"shrink","negative")+t;case 5292:return Nr+t+Ra+$r(t,"basis","preferred-size")+t;case 6060:return Nr+"box-"+$r(t,"-grow","")+Nr+t+Ra+$r(t,"grow","positive")+t;case 4554:return Nr+$r(t,/([^-])(transform)/g,"$1"+Nr+"$2")+t;case 6187:return $r($r($r(t,/(zoom-|grab)/,Nr+"$1"),/(image-set)/,Nr+"$1"),t,"")+t;case 5495:case 3959:return $r(t,/(image-set\([^]*)/,Nr+"$1$`$1");case 4968:return $r($r(t,/(.+:)(flex-)?(.*)/,Nr+"box-pack:$3"+Ra+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nr+t+t;case 4095:case 3583:case 4068:case 2532:return $r(t,/(.+)-inline(.+)/,Nr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bu(t)-1-e>6)switch(ca(t,e+1)){case 109:if(ca(t,e+4)!==45)break;case 102:return $r(t,/(.+:)(.+)-([^]+)/,"$1"+Nr+"$2-$3$1"+m1+(ca(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ZN(t,"stretch")?TEe($r(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ca(t,e+1)!==115)break;case 6444:switch(ca(t,bu(t)-3-(~ZN(t,"!important")&&10))){case 107:return $r(t,":",":"+Nr)+t;case 101:return $r(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nr+(ca(t,14)===45?"inline-":"")+"box$3$1"+Nr+"$2$3$1"+Ra+"$2box$3")+t}break;case 5936:switch(ca(t,e+11)){case 114:return Nr+t+Ra+$r(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Nr+t+Ra+$r(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Nr+t+Ra+$r(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Nr+t+Ra+t+t}return t}var P6e=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case SH:e.return=TEe(e.value,e.length);break;case CEe:return Qp([iv(e,{value:$r(e.value,"@","@"+Nr)})],i);case bH:if(e.length)return d6e(e.props,function(a){switch(A6e(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qp([iv(e,{props:[$r(a,/:(read-\w+)/,":"+m1+"$1")]})],i);case"::placeholder":return Qp([iv(e,{props:[$r(a,/:(plac\w+)/,":"+Nr+"input-$1")]}),iv(e,{props:[$r(a,/:(plac\w+)/,":"+m1+"$1")]}),iv(e,{props:[$r(a,/:(plac\w+)/,Ra+"input-$1")]})],i)}return""})}},T6e=[P6e],O6e=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||T6e,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),w=1;w<m.length;w++)a[m[w]]=!0;s.push(g)});var l,u=[I6e,B6e];{var c,A=[b6e,x6e(function(g){c.insert(g)})],d=S6e(u.concat(i,A)),f=function(m){return Qp(y6e(m),d)};l=function(m,w,b,C){c=b,f(m?m+"{"+w.styles+"}":w.styles),C&&(p.inserted[w.name]=!0)}}var p={key:r,sheet:new a6e({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return p.sheet.hydrate(s),p},YP={exports:{}},Hr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qz;function R6e(){if(Qz)return Hr;Qz=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,A=t?Symbol.for("react.suspense"):60113,d=t?Symbol.for("react.suspense_list"):60120,f=t?Symbol.for("react.memo"):60115,p=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,m=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function C(x){if(typeof x=="object"&&x!==null){var _=x.$$typeof;switch(_){case e:switch(x=x.type,x){case l:case u:case n:case a:case i:case A:return x;default:switch(x=x&&x.$$typeof,x){case s:case c:case p:case f:case o:return x;default:return _}}case r:return _}}}function S(x){return C(x)===u}return Hr.AsyncMode=l,Hr.ConcurrentMode=u,Hr.ContextConsumer=s,Hr.ContextProvider=o,Hr.Element=e,Hr.ForwardRef=c,Hr.Fragment=n,Hr.Lazy=p,Hr.Memo=f,Hr.Portal=r,Hr.Profiler=a,Hr.StrictMode=i,Hr.Suspense=A,Hr.isAsyncMode=function(x){return S(x)||C(x)===l},Hr.isConcurrentMode=S,Hr.isContextConsumer=function(x){return C(x)===s},Hr.isContextProvider=function(x){return C(x)===o},Hr.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},Hr.isForwardRef=function(x){return C(x)===c},Hr.isFragment=function(x){return C(x)===n},Hr.isLazy=function(x){return C(x)===p},Hr.isMemo=function(x){return C(x)===f},Hr.isPortal=function(x){return C(x)===r},Hr.isProfiler=function(x){return C(x)===a},Hr.isStrictMode=function(x){return C(x)===i},Hr.isSuspense=function(x){return C(x)===A},Hr.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===u||x===a||x===i||x===A||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===o||x.$$typeof===s||x.$$typeof===c||x.$$typeof===m||x.$$typeof===w||x.$$typeof===b||x.$$typeof===g)},Hr.typeOf=C,Hr}var Hz;function M6e(){return Hz||(Hz=1,YP.exports=R6e()),YP.exports}var XP,qz;function F6e(){if(qz)return XP;qz=1;var t=M6e(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=n,a[t.Memo]=i;function o(p){return t.isMemo(p)?i:a[p.$$typeof]||e}var s=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,A=Object.getPrototypeOf,d=Object.prototype;function f(p,g,m){if(typeof g!="string"){if(d){var w=A(g);w&&w!==d&&f(p,w,m)}var b=l(g);u&&(b=b.concat(u(g)));for(var C=o(p),S=o(g),x=0;x<b.length;++x){var _=b[x];if(!r[_]&&!(m&&m[_])&&!(S&&S[_])&&!(C&&C[_])){var B=c(g,_);try{s(p,_,B)}catch{}}}}return p}return XP=f,XP}F6e();var k6e=!0;function OEe(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var CH=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||k6e===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},_H=function(e,r,n){CH(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function U6e(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var D6e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},j6e=/[A-Z]|^ms/g,L6e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,REe=function(e){return e.charCodeAt(1)===45},Kz=function(e){return e!=null&&typeof e!="boolean"},JP=PEe(function(t){return REe(t)?t:t.replace(j6e,"-$&").toLowerCase()}),zz=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(L6e,function(n,i,a){return Su={name:i,styles:a,next:Su},i})}return D6e[e]!==1&&!REe(e)&&typeof r=="number"&&r!==0?r+"px":r};function My(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return Su={name:i.name,styles:i.styles,next:Su},i.name;var a=r;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Su={name:o.name,styles:o.styles,next:Su},o=o.next;var s=a.styles+";";return s}return N6e(t,e,r)}case"function":{if(t!==void 0){var l=Su,u=r(t);return Su=l,My(t,e,u)}break}}var c=r;if(e==null)return c;var A=e[c];return A!==void 0?A:c}function N6e(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=My(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object"){var s=o;e!=null&&e[s]!==void 0?n+=a+"{"+e[s]+"}":Kz(s)&&(n+=JP(a)+":"+zz(a,s)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)Kz(o[l])&&(n+=JP(a)+":"+zz(a,o[l])+";");else{var u=My(t,e,o);switch(a){case"animation":case"animationName":{n+=JP(a)+":"+u+";";break}default:n+=a+"{"+u+"}"}}}return n}var Wz=/label:\s*([^\s;{]+)\s*(;|$)/g,Su;function $w(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";Su=void 0;var a=t[0];if(a==null||a.raw===void 0)n=!1,i+=My(r,e,a);else{var o=a;i+=o[0]}for(var s=1;s<t.length;s++)if(i+=My(r,e,t[s]),n){var l=a;i+=l[s]}Wz.lastIndex=0;for(var u="",c;(c=Wz.exec(i))!==null;)u+="-"+c[1];var A=U6e(i)+u;return{name:A,styles:i,next:Su}}var $6e=function(e){return e()},MEe=h1.useInsertionEffect?h1.useInsertionEffect:!1,FEe=MEe||$6e,Gz=MEe||I.useLayoutEffect,kEe=I.createContext(typeof HTMLElement<"u"?O6e({key:"css"}):null);kEe.Provider;var EH=function(e){return I.forwardRef(function(r,n){var i=I.useContext(kEe);return e(r,i,n)})},Qw=I.createContext({}),IH={}.hasOwnProperty,t$="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Q6e=function(e,r){var n={};for(var i in r)IH.call(r,i)&&(n[i]=r[i]);return n[t$]=e,n},H6e=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return CH(r,n,i),FEe(function(){return _H(r,n,i)}),null},q6e=EH(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[t$],a=[n],o="";typeof t.className=="string"?o=OEe(e.registered,a,t.className):t.className!=null&&(o=t.className+" ");var s=$w(a,void 0,I.useContext(Qw));o+=e.key+"-"+s.name;var l={};for(var u in t)IH.call(t,u)&&u!=="css"&&u!==t$&&(l[u]=t[u]);return l.className=o,r&&(l.ref=r),I.createElement(I.Fragment,null,I.createElement(H6e,{cache:e,serialized:s,isStringTag:typeof i=="string"}),I.createElement(i,l))}),K6e=q6e,z6e=function(e,r){var n=arguments;if(r==null||!IH.call(r,"css"))return I.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=K6e,a[1]=Q6e(e,r);for(var o=2;o<i;o++)a[o]=n[o];return I.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(z6e);var W6e=EH(function(t,e){var r=t.styles,n=$w([r],void 0,I.useContext(Qw)),i=I.useRef();return Gz(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",a),o.hydrate([l])),i.current=[o,s],function(){o.flush()}},[e]),Gz(function(){var a=i.current,o=a[0],s=a[1];if(s){a[1]=!1;return}if(n.next!==void 0&&_H(e,n.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null});function BH(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return $w(e)}function Hw(){var t=BH.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var G6e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,V6e=PEe(function(t){return G6e.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Y6e=V6e,X6e=function(e){return e!=="theme"},Vz=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Y6e:X6e},Yz=function(e,r,n){var i;if(r){var a=r.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},J6e=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return CH(r,n,i),FEe(function(){return _H(r,n,i)}),null},Z6e=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,a,o;r!==void 0&&(a=r.label,o=r.target);var s=Yz(e,r,n),l=s||Vz(i),u=!l("as");return function(){var c=arguments,A=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&A.push("label:"+a+";"),c[0]==null||c[0].raw===void 0)A.push.apply(A,c);else{var d=c[0];A.push(d[0]);for(var f=c.length,p=1;p<f;p++)A.push(c[p],d[p])}var g=EH(function(m,w,b){var C=u&&m.as||i,S="",x=[],_=m;if(m.theme==null){_={};for(var B in m)_[B]=m[B];_.theme=I.useContext(Qw)}typeof m.className=="string"?S=OEe(w.registered,x,m.className):m.className!=null&&(S=m.className+" ");var T=$w(A.concat(x),w.registered,_);S+=w.key+"-"+T.name,o!==void 0&&(S+=" "+o);var R=u&&s===void 0?Vz(C):l,P={};for(var M in m)u&&M==="as"||R(M)&&(P[M]=m[M]);return P.className=S,b&&(P.ref=b),I.createElement(I.Fragment,null,I.createElement(J6e,{cache:w,serialized:T,isStringTag:typeof C=="string"}),I.createElement(C,P))});return g.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=A,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,w){var b=t(m,g1({},r,w,{shouldForwardProp:Yz(g,w,!0)}));return b.apply(void 0,A)},g}},eKe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],r$=Z6e.bind(null);eKe.forEach(function(t){r$[t]=r$(t)});var ZP={exports:{}},eT,Xz;function tKe(){if(Xz)return eT;Xz=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return eT=t,eT}var tT,Jz;function rKe(){if(Jz)return tT;Jz=1;var t=tKe();function e(){}function r(){}return r.resetWarningCache=e,tT=function(){function n(o,s,l,u,c,A){if(A!==t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},tT}var Zz;function nKe(){return Zz||(Zz=1,ZP.exports=rKe()()),ZP.exports}var iKe=nKe();const qr=kr(iKe);function aKe(t){return t==null||Object.keys(t).length===0}function UEe(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(aKe(i)?r:i):e;return y.jsx(W6e,{styles:n})}/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function DEe(t,e){return r$(t,e)}function oKe(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const eW=[];function tW(t){return eW[0]=t,$w(eW)}var rT={exports:{}},Jr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rW;function sKe(){if(rW)return Jr;rW=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),d=Symbol.for("react.offscreen"),f=Symbol.for("react.client.reference");function p(g){if(typeof g=="object"&&g!==null){var m=g.$$typeof;switch(m){case t:switch(g=g.type,g){case r:case i:case n:case l:case u:return g;default:switch(g=g&&g.$$typeof,g){case o:case s:case A:case c:return g;case a:return g;default:return m}}case e:return m}}}return Jr.ContextConsumer=a,Jr.ContextProvider=o,Jr.Element=t,Jr.ForwardRef=s,Jr.Fragment=r,Jr.Lazy=A,Jr.Memo=c,Jr.Portal=e,Jr.Profiler=i,Jr.StrictMode=n,Jr.Suspense=l,Jr.SuspenseList=u,Jr.isContextConsumer=function(g){return p(g)===a},Jr.isContextProvider=function(g){return p(g)===o},Jr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},Jr.isForwardRef=function(g){return p(g)===s},Jr.isFragment=function(g){return p(g)===r},Jr.isLazy=function(g){return p(g)===A},Jr.isMemo=function(g){return p(g)===c},Jr.isPortal=function(g){return p(g)===e},Jr.isProfiler=function(g){return p(g)===i},Jr.isStrictMode=function(g){return p(g)===n},Jr.isSuspense=function(g){return p(g)===l},Jr.isSuspenseList=function(g){return p(g)===u},Jr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===l||g===u||g===d||typeof g=="object"&&g!==null&&(g.$$typeof===A||g.$$typeof===c||g.$$typeof===o||g.$$typeof===a||g.$$typeof===s||g.$$typeof===f||g.getModuleId!==void 0)},Jr.typeOf=p,Jr}var nW;function lKe(){return nW||(nW=1,rT.exports=sKe()),rT.exports}var jEe=lKe();function xu(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function LEe(t){if(I.isValidElement(t)||jEe.isValidElementType(t)||!xu(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=LEe(t[r])}),e}function za(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return xu(t)&&xu(e)&&Object.keys(e).forEach(i=>{I.isValidElement(e[i])||jEe.isValidElementType(e[i])?n[i]=e[i]:xu(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&xu(t[i])?n[i]=za(t[i],e[i],r):r.clone?n[i]=xu(e[i])?LEe(e[i]):e[i]:n[i]=e[i]}),n}const uKe=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function cKe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,a=uKe(e),o=Object.keys(a);function s(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${r})`}function l(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-n/100}${r})`}function u(d,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${r}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-n/100}${r})`}function c(d){return o.indexOf(d)+1<o.length?u(d,o[o.indexOf(d)+1]):s(d)}function A(d){const f=o.indexOf(d);return f===0?s(o[1]):f===o.length-1?l(o[f]):u(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:s,down:l,between:u,only:c,not:A,unit:r,...i}}function AKe(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{var o,s;const a=/min-width:\s*([0-9.]+)/;return+(((o=n.match(a))==null?void 0:o[1])||0)-+(((s=i.match(a))==null?void 0:s[1])||0)});return r.length?r.reduce((n,i)=>{const a=e[i];return delete n[i],n[i]=a,n},{...e}):e}function dKe(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function fKe(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,a=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(a)}function hKe(t){const e=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function r(a,o){a.up=(...s)=>e(t.breakpoints.up(...s),o),a.down=(...s)=>e(t.breakpoints.down(...s),o),a.between=(...s)=>e(t.breakpoints.between(...s),o),a.only=(...s)=>e(t.breakpoints.only(...s),o),a.not=(...s)=>{const l=e(t.breakpoints.not(...s),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},i=a=>(r(n,a),n);return r(i),{...t,containerQueries:i}}const pKe={borderRadius:4};function ly(t,e){return e?za(t,e,{clone:!1}):t}const v_={xs:0,sm:600,md:900,lg:1200,xl:1536},iW={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${v_[t]}px)`},gKe={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:v_[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function Zs(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const a=n.breakpoints||iW;return e.reduce((o,s,l)=>(o[a.up(a.keys[l])]=r(e[l]),o),{})}if(typeof e=="object"){const a=n.breakpoints||iW;return Object.keys(e).reduce((o,s)=>{if(dKe(a.keys,s)){const l=fKe(n.containerQueries?n:gKe,s);l&&(o[l]=r(e[s],s))}else if(Object.keys(a.values||v_).includes(s)){const l=a.up(s);o[l]=r(e[s],s)}else{const l=s;o[l]=e[l]}return o},{})}return r(e)}function mKe(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,i)=>{const a=t.up(i);return n[a]={},n},{}))||{}}function vKe(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function yKe(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,a)=>{a<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function y_({values:t,breakpoints:e,base:r}){const n=r||yKe(t,e),i=Object.keys(n);if(i.length===0)return t;let a;return i.reduce((o,s,l)=>(Array.isArray(t)?(o[s]=t[l]!=null?t[l]:t[a],a=l):typeof t=="object"?(o[s]=t[s]!=null?t[s]:t[a],a=s):o[s]=t,o),{})}function Gt(t){if(typeof t!="string")throw new Error(Kc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function w_(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function v1(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=w_(t,r)||n,e&&(i=e(i,n,t)),i}function vi(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,a=o=>{if(o[e]==null)return null;const s=o[e],l=o.theme,u=w_(l,n)||{};return Zs(o,s,A=>{let d=v1(u,i,A);return A===d&&typeof A=="string"&&(d=v1(u,i,`${e}${A==="default"?"":Gt(A)}`,A)),r===!1?d:{[r]:d}})};return a.propTypes={},a.filterProps=[e],a}function wKe(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const bKe={m:"margin",p:"padding"},SKe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aW={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},xKe=wKe(t=>{if(t.length>2)if(aW[t])t=aW[t];else return[t];const[e,r]=t.split(""),n=bKe[e],i=SKe[r]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),PH=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],TH=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...PH,...TH];function qw(t,e,r,n){const i=w_(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),s=i[o];return a>=0?s:typeof s=="number"?-s:`-${s}`}:typeof i=="function"?i:()=>{}}function OH(t){return qw(t,"spacing",8)}function Kw(t,e){return typeof e=="string"||e==null?e:t(e)}function CKe(t,e){return r=>t.reduce((n,i)=>(n[i]=Kw(e,r),n),{})}function _Ke(t,e,r,n){if(!e.includes(r))return null;const i=xKe(r),a=CKe(i,n),o=t[r];return Zs(t,o,a)}function NEe(t,e){const r=OH(t.theme);return Object.keys(t).map(n=>_Ke(t,e,n,r)).reduce(ly,{})}function ti(t){return NEe(t,PH)}ti.propTypes={};ti.filterProps=PH;function ri(t){return NEe(t,TH)}ri.propTypes={};ri.filterProps=TH;function $Ee(t=8,e=OH({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function b_(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),r=n=>Object.keys(n).reduce((i,a)=>e[a]?ly(i,e[a](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Ns(t){return typeof t!="number"?t:`${t}px solid`}function nl(t,e){return vi({prop:t,themeKey:"borders",transform:e})}const EKe=nl("border",Ns),IKe=nl("borderTop",Ns),BKe=nl("borderRight",Ns),PKe=nl("borderBottom",Ns),TKe=nl("borderLeft",Ns),OKe=nl("borderColor"),RKe=nl("borderTopColor"),MKe=nl("borderRightColor"),FKe=nl("borderBottomColor"),kKe=nl("borderLeftColor"),UKe=nl("outline",Ns),DKe=nl("outlineColor"),S_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=qw(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Kw(e,n)});return Zs(t,t.borderRadius,r)}return null};S_.propTypes={};S_.filterProps=["borderRadius"];b_(EKe,IKe,BKe,PKe,TKe,OKe,RKe,MKe,FKe,kKe,S_,UKe,DKe);const x_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=qw(t.theme,"spacing",8),r=n=>({gap:Kw(e,n)});return Zs(t,t.gap,r)}return null};x_.propTypes={};x_.filterProps=["gap"];const C_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=qw(t.theme,"spacing",8),r=n=>({columnGap:Kw(e,n)});return Zs(t,t.columnGap,r)}return null};C_.propTypes={};C_.filterProps=["columnGap"];const __=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=qw(t.theme,"spacing",8),r=n=>({rowGap:Kw(e,n)});return Zs(t,t.rowGap,r)}return null};__.propTypes={};__.filterProps=["rowGap"];const jKe=vi({prop:"gridColumn"}),LKe=vi({prop:"gridRow"}),NKe=vi({prop:"gridAutoFlow"}),$Ke=vi({prop:"gridAutoColumns"}),QKe=vi({prop:"gridAutoRows"}),HKe=vi({prop:"gridTemplateColumns"}),qKe=vi({prop:"gridTemplateRows"}),KKe=vi({prop:"gridTemplateAreas"}),zKe=vi({prop:"gridArea"});b_(x_,C_,__,jKe,LKe,NKe,$Ke,QKe,HKe,qKe,KKe,zKe);function Hp(t,e){return e==="grey"?e:t}const WKe=vi({prop:"color",themeKey:"palette",transform:Hp}),GKe=vi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Hp}),VKe=vi({prop:"backgroundColor",themeKey:"palette",transform:Hp});b_(WKe,GKe,VKe);function is(t){return t<=1&&t!==0?`${t*100}%`:t}const YKe=vi({prop:"width",transform:is}),RH=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var i,a,o,s,l;const n=((o=(a=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:a.values)==null?void 0:o[r])||v_[r];return n?((l=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:is(r)}};return Zs(t,t.maxWidth,e)}return null};RH.filterProps=["maxWidth"];const XKe=vi({prop:"minWidth",transform:is}),JKe=vi({prop:"height",transform:is}),ZKe=vi({prop:"maxHeight",transform:is}),e8e=vi({prop:"minHeight",transform:is});vi({prop:"size",cssProperty:"width",transform:is});vi({prop:"size",cssProperty:"height",transform:is});const t8e=vi({prop:"boxSizing"});b_(YKe,RH,XKe,JKe,ZKe,e8e,t8e);const zw={border:{themeKey:"borders",transform:Ns},borderTop:{themeKey:"borders",transform:Ns},borderRight:{themeKey:"borders",transform:Ns},borderBottom:{themeKey:"borders",transform:Ns},borderLeft:{themeKey:"borders",transform:Ns},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ns},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S_},color:{themeKey:"palette",transform:Hp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Hp},backgroundColor:{themeKey:"palette",transform:Hp},p:{style:ri},pt:{style:ri},pr:{style:ri},pb:{style:ri},pl:{style:ri},px:{style:ri},py:{style:ri},padding:{style:ri},paddingTop:{style:ri},paddingRight:{style:ri},paddingBottom:{style:ri},paddingLeft:{style:ri},paddingX:{style:ri},paddingY:{style:ri},paddingInline:{style:ri},paddingInlineStart:{style:ri},paddingInlineEnd:{style:ri},paddingBlock:{style:ri},paddingBlockStart:{style:ri},paddingBlockEnd:{style:ri},m:{style:ti},mt:{style:ti},mr:{style:ti},mb:{style:ti},ml:{style:ti},mx:{style:ti},my:{style:ti},margin:{style:ti},marginTop:{style:ti},marginRight:{style:ti},marginBottom:{style:ti},marginLeft:{style:ti},marginX:{style:ti},marginY:{style:ti},marginInline:{style:ti},marginInlineStart:{style:ti},marginInlineEnd:{style:ti},marginBlock:{style:ti},marginBlockStart:{style:ti},marginBlockEnd:{style:ti},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x_},rowGap:{style:__},columnGap:{style:C_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:is},maxWidth:{style:RH},minWidth:{transform:is},height:{transform:is},maxHeight:{transform:is},minHeight:{transform:is},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function r8e(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function n8e(t,e){return typeof t=="function"?t(e):t}function i8e(){function t(r,n,i,a){const o={[r]:n,theme:i},s=a[r];if(!s)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:c,style:A}=s;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const d=w_(i,u)||{};return A?A(o):Zs(o,n,p=>{let g=v1(d,c,p);return p===g&&typeof p=="string"&&(g=v1(d,c,`${r}${p==="default"?"":Gt(p)}`,p)),l===!1?g:{[l]:g}})}function e(r){const{sx:n,theme:i={}}=r||{};if(!n)return null;const a=i.unstable_sxConfig??zw;function o(s){let l=s;if(typeof s=="function")l=s(i);else if(typeof s!="object")return s;if(!l)return null;const u=mKe(i.breakpoints),c=Object.keys(u);let A=u;return Object.keys(l).forEach(d=>{const f=n8e(l[d],i);if(f!=null)if(typeof f=="object")if(a[d])A=ly(A,t(d,f,i,a));else{const p=Zs({theme:i},f,g=>({[d]:g}));r8e(p,f)?A[d]=e({sx:f,theme:i}):A=ly(A,p)}else A=ly(A,t(d,f,i,a))}),AKe(i,vKe(c,A))}return Array.isArray(n)?n.map(o):o(n)}return e}const ud=i8e();ud.filterProps=["sx"];function a8e(t,e){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[t])||typeof r.getColorSchemeSelector!="function")return{};let i=r.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return r.palette.mode===t?e:{}}function E_(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:a={},...o}=t,s=cKe(r),l=$Ee(i);let u=za({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...pKe,...a}},o);return u=hKe(u),u.applyStyles=a8e,u=e.reduce((c,A)=>za(c,A),u),u.unstable_sxConfig={...zw,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(A){return ud({sx:A,theme:this})},u}function o8e(t){return Object.keys(t).length===0}function QEe(t=null){const e=I.useContext(Qw);return!e||o8e(e)?t:e}const s8e=E_();function I_(t=s8e){return QEe(t)}function l8e({styles:t,themeId:e,defaultTheme:r={}}){const n=I_(r),i=typeof t=="function"?t(e&&n[e]||n):t;return y.jsx(UEe,{styles:i})}const u8e=t=>{var n;const e={systemProps:{},otherProps:{}},r=((n=t==null?void 0:t.theme)==null?void 0:n.unstable_sxConfig)??zw;return Object.keys(t).forEach(i=>{r[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function MH(t){const{sx:e,...r}=t,{systemProps:n,otherProps:i}=u8e(r);let a;return Array.isArray(e)?a=[n,...e]:typeof e=="function"?a=(...o)=>{const s=e(...o);return xu(s)?{...n,...s}:n}:a={...n,...e},{...i,sx:a}}const oW=t=>t,c8e=()=>{let t=oW;return{configure(e){t=e},generate(e){return t(e)},reset(){t=oW}}},HEe=c8e();function qEe(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=qEe(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function dt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=qEe(t))&&(n&&(n+=" "),n+=e);return n}function A8e(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,a=DEe("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(ud);return I.forwardRef(function(l,u){const c=I_(r),{className:A,component:d="div",...f}=MH(l);return y.jsx(a,{as:d,ref:u,className:dt(A,i?i(n):n),theme:e&&c[e]||c,...f})})}const d8e={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Cr(t,e,r="Mui"){const n=d8e[e];return n?`${r}-${n}`:`${HEe.generate(t)}-${e}`}function vr(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Cr(t,i,r)}),n}function KEe(t){const{variants:e,...r}=t,n={variants:e,style:tW(r),isProcessed:!0};return n.style===r||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=tW(i.style))}),n}const f8e=E_();function nT(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function h8e(t){return t?(e,r)=>r[t]:null}function p8e(t,e,r){t.theme=m8e(t.theme)?r:t.theme[e]||t.theme}function Ex(t,e){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(n=>Ex(t,n));if(Array.isArray(r==null?void 0:r.variants)){let n;if(r.isProcessed)n=r.style;else{const{variants:i,...a}=r;n=a}return zEe(t,r.variants,[n])}return r!=null&&r.isProcessed?r.style:r}function zEe(t,e,r=[]){var i;let n;e:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(n))continue}else for(const s in o.props)if(t[s]!==o.props[s]&&((i=t.ownerState)==null?void 0:i[s])!==o.props[s])continue e;typeof o.style=="function"?(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),r.push(o.style(n))):r.push(o.style)}return r}function WEe(t={}){const{themeId:e,defaultTheme:r=f8e,rootShouldForwardProp:n=nT,slotShouldForwardProp:i=nT}=t;function a(s){p8e(s,e,r)}return(s,l={})=>{oKe(s,x=>x.filter(_=>_!==ud));const{name:u,slot:c,skipVariantsResolver:A,skipSx:d,overridesResolver:f=h8e(y8e(c)),...p}=l,g=A!==void 0?A:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let w=nT;c==="Root"||c==="root"?w=n:c?w=i:v8e(s)&&(w=void 0);const b=DEe(s,{shouldForwardProp:w,label:g8e(),...p}),C=x=>{if(typeof x=="function"&&x.__emotion_real!==x)return function(B){return Ex(B,x)};if(xu(x)){const _=KEe(x);return _.variants?function(T){return Ex(T,_)}:_.style}return x},S=(...x)=>{const _=[],B=x.map(C),T=[];if(_.push(a),u&&f&&T.push(function(U){var $,Q;const j=(Q=($=U.theme.components)==null?void 0:$[u])==null?void 0:Q.styleOverrides;if(!j)return null;const L={};for(const H in j)L[H]=Ex(U,j[H]);return f(U,L)}),u&&!g&&T.push(function(U){var L,$;const F=U.theme,j=($=(L=F==null?void 0:F.components)==null?void 0:L[u])==null?void 0:$.variants;return j?zEe(U,j):null}),m||T.push(ud),Array.isArray(B[0])){const M=B.shift(),U=new Array(_.length).fill(""),F=new Array(T.length).fill("");let j;j=[...U,...M,...F],j.raw=[...U,...M.raw,...F],_.unshift(j)}const R=[..._,...B,...T],P=b(...R);return s.muiName&&(P.muiName=s.muiName),P};return b.withConfig&&(S.withConfig=b.withConfig),S}}function g8e(t,e){return void 0}function m8e(t){for(const e in t)return!1;return!0}function v8e(t){return typeof t=="string"&&t.charCodeAt(0)>96}function y8e(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const w8e=WEe();function ng(t,e){const r={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=n;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const a=t[i],o=e[i];if(!o)r[i]=a||{};else if(!a)r[i]=o;else{r[i]={...o};for(const s in a)if(Object.prototype.hasOwnProperty.call(a,s)){const l=s;r[i][l]=ng(a[l],o[l])}}}else r[i]===void 0&&(r[i]=t[i])}return r}function b8e(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:ng(e.components[r].defaultProps,n)}function S8e({props:t,name:e,defaultTheme:r,themeId:n}){let i=I_(r);return n&&(i=i[n]||i),b8e({theme:i,name:e,props:t})}const zc=typeof window<"u"?I.useLayoutEffect:I.useEffect;function x8e(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function FH(t,e=0,r=1){return x8e(t,e,r)}function C8e(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function cd(t){if(t.type)return t;if(t.charAt(0)==="#")return cd(C8e(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Kc(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Kc(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:r,values:n,colorSpace:i}}const _8e=t=>{const e=cd(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},Lv=(t,e)=>{try{return _8e(t)}catch{return t}};function B_(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,a)=>a<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function GEe(t){t=cd(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,a=n*Math.min(i,1-i),o=(u,c=(u+r/30)%12)=>i-a*Math.max(Math.min(c-3,9-c,1),-1);let s="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(s+="a",l.push(e[3])),B_({type:s,values:l})}function n$(t){t=cd(t);let e=t.type==="hsl"||t.type==="hsla"?cd(GEe(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function E8e(t,e){const r=n$(t),n=n$(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Ei(t,e){return t=cd(t),e=FH(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,B_(t)}function XS(t,e,r){try{return Ei(t,e)}catch{return t}}function kH(t,e){if(t=cd(t),e=FH(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return B_(t)}function cn(t,e,r){try{return kH(t,e)}catch{return t}}function UH(t,e){if(t=cd(t),e=FH(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return B_(t)}function An(t,e,r){try{return UH(t,e)}catch{return t}}function I8e(t,e=.15){return n$(t)>.5?kH(t,e):UH(t,e)}function JS(t,e,r){try{return I8e(t,e)}catch{return t}}function sW(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function VEe(t,e=166){let r;function n(...i){const a=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(a,e)}return n.clear=()=>{clearTimeout(r)},n}function Ix(t,e){var r,n,i;return I.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(n=(r=t.type)==null?void 0:r._payload)==null?void 0:n.value)==null?void 0:i.muiName))!==-1}function jl(t){return t&&t.ownerDocument||document}function Wc(t){return jl(t).defaultView||window}function i$(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let lW=0;function B8e(t){const[e,r]=I.useState(t),n=t||e;return I.useEffect(()=>{e==null&&(lW+=1,r(`mui-${lW}`))},[e]),n}const P8e={...h1},uW=P8e.useId;function DH(t){if(uW!==void 0){const e=uW();return t??e}return B8e(t)}function cW({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=I.useRef(t!==void 0),[a,o]=I.useState(e),s=i?t:a,l=I.useCallback(u=>{i||o(u)},[]);return[s,l]}function qp(t){const e=I.useRef(t);return zc(()=>{e.current=t}),I.useRef((...r)=>(0,e.current)(...r)).current}function Zi(...t){return I.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{i$(r,e)})},t)}const AW={};function YEe(t,e){const r=I.useRef(AW);return r.current===AW&&(r.current=t(e)),r}const T8e=[];function O8e(t){I.useEffect(t,T8e)}class jH{constructor(){K(this,"currentId",null);K(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});K(this,"disposeEffect",()=>this.clear)}static create(){return new jH}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function XEe(){const t=YEe(jH.create).current;return O8e(t.disposeEffect),t}function dW(t){try{return t.matches(":focus-visible")}catch{}return!1}function JEe(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function R8e(t){return I.Children.toArray(t).filter(e=>I.isValidElement(e))}function _r(t,e,r=void 0){const n={};for(const i in t){const a=t[i];let o="",s=!0;for(let l=0;l<a.length;l+=1){const u=a[l];u&&(o+=(s===!0?"":" ")+e(u),s=!1,r&&r[u]&&(o+=" "+r[u]))}n[i]=o}return n}function M8e(t){return typeof t=="string"}function ZEe(t,e,r){return t===void 0||M8e(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function eIe(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function fW(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function tIe(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:a}=t;if(!e){const f=dt(r==null?void 0:r.className,a,i==null?void 0:i.className,n==null?void 0:n.className),p={...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},g={...r,...i,...n};return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=eIe({...i,...n}),s=fW(n),l=fW(i),u=e(o),c=dt(u==null?void 0:u.className,r==null?void 0:r.className,a,i==null?void 0:i.className,n==null?void 0:n.className),A={...u==null?void 0:u.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},d={...u,...r,...l,...s};return c.length>0&&(d.className=c),Object.keys(A).length>0&&(d.style=A),{props:d,internalRef:u.ref}}function rIe(t,e,r){return typeof t=="function"?t(e,r):t}function hW(t){var A;const{elementType:e,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...a}=t,o=i?{}:rIe(r,n),{props:s,internalRef:l}=tIe({...a,externalSlotProps:o}),u=Zi(l,o==null?void 0:o.ref,(A=t.additionalProps)==null?void 0:A.ref);return ZEe(e,{...s,ref:u},n)}function Ww(t){var e;return parseInt(I.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const nIe=I.createContext(null);function LH(){return I.useContext(nIe)}const F8e=typeof Symbol=="function"&&Symbol.for,k8e=F8e?Symbol.for("mui.nested"):"__THEME_NESTED__";function U8e(t,e){return typeof e=="function"?e(t):{...t,...e}}function D8e(t){const{children:e,theme:r}=t,n=LH(),i=I.useMemo(()=>{const a=n===null?{...r}:U8e(n,r);return a!=null&&(a[k8e]=n!==null),a},[r,n]);return y.jsx(nIe.Provider,{value:i,children:e})}const iIe=I.createContext();function j8e({value:t,...e}){return y.jsx(iIe.Provider,{value:t??!0,...e})}const L8e=()=>I.useContext(iIe)??!1,aIe=I.createContext(void 0);function N8e({value:t,children:e}){return y.jsx(aIe.Provider,{value:t,children:e})}function $8e(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const i=e.components[r];return i.defaultProps?ng(i.defaultProps,n):!i.styleOverrides&&!i.variants?ng(i,n):n}function Q8e({props:t,name:e}){const r=I.useContext(aIe);return $8e({props:t,name:e,theme:{components:r}})}const pW={};function gW(t,e,r,n=!1){return I.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const a=r(i),o=t?{...e,[t]:a}:a;return n?()=>o:o}return t?{...e,[t]:r}:{...e,...r}},[t,e,r,n])}function oIe(t){const{children:e,theme:r,themeId:n}=t,i=QEe(pW),a=LH()||pW,o=gW(n,i,r),s=gW(n,a,r,!0),l=(n?o[n]:o).direction==="rtl";return y.jsx(D8e,{theme:s,children:y.jsx(Qw.Provider,{value:o,children:y.jsx(j8e,{value:l,children:y.jsx(N8e,{value:n?o[n].components:o.components,children:e})})})})}const mW={theme:void 0};function H8e(t){let e,r;return function(i){let a=e;return(a===void 0||i.theme!==r)&&(mW.theme=i.theme,a=KEe(t(mW)),e=a,r=i.theme),a}}const NH="mode",$H="color-scheme",q8e="data-color-scheme";function K8e(t){const{defaultMode:e="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=NH,colorSchemeStorageKey:a=$H,attribute:o=q8e,colorSchemeNode:s="document.documentElement",nonce:l}=t;let u="",c=o;if(o==="class"&&(c=".%s"),o==="data"&&(c="[data-%s]"),c.startsWith(".")){const d=c.substring(1);u+=`${s}.classList.remove('${d}'.replace('%s', light), '${d}'.replace('%s', dark));
      ${s}.classList.add('${d}'.replace('%s', colorScheme));`}const A=c.match(/\[([^\]]+)\]/);if(A){const[d,f]=A[1].split("=");f||(u+=`${s}.removeAttribute('${d}'.replace('%s', light));
      ${s}.removeAttribute('${d}'.replace('%s', dark));`),u+=`
      ${s}.setAttribute('${d}'.replace('%s', colorScheme), ${f?`${f}.replace('%s', colorScheme)`:'""'});`}else u+=`${s}.setAttribute('${c}', colorScheme);`;return y.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${a}-dark') || '${n}';
  const light = localStorage.getItem('${a}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function vW(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function sIe(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function z8e(t){return sIe(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function iT(t,e){if(typeof window>"u")return;let r;try{r=localStorage.getItem(t)||void 0,r||localStorage.setItem(t,e)}catch{}return r||e}function W8e(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:a=NH,colorSchemeStorageKey:o=$H,storageWindow:s=typeof window>"u"?void 0:window,noSsr:l=!1}=t,u=i.join(","),c=i.length>1,[A,d]=I.useState(()=>{const S=iT(a,e),x=iT(`${o}-light`,r),_=iT(`${o}-dark`,n);return{mode:S,systemMode:vW(S),lightColorScheme:x,darkColorScheme:_}}),[f,p]=I.useState(l||!c);I.useEffect(()=>{p(!0)},[]);const g=z8e(A),m=I.useCallback(S=>{d(x=>{if(S===x.mode)return x;const _=S??e;try{localStorage.setItem(a,_)}catch{}return{...x,mode:_,systemMode:vW(_)}})},[a,e]),w=I.useCallback(S=>{S?typeof S=="string"?S&&!u.includes(S)?console.error(`\`${S}\` does not exist in \`theme.colorSchemes\`.`):d(x=>{const _={...x};return sIe(x,B=>{try{localStorage.setItem(`${o}-${B}`,S)}catch{}B==="light"&&(_.lightColorScheme=S),B==="dark"&&(_.darkColorScheme=S)}),_}):d(x=>{const _={...x},B=S.light===null?r:S.light,T=S.dark===null?n:S.dark;if(B)if(!u.includes(B))console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`);else{_.lightColorScheme=B;try{localStorage.setItem(`${o}-light`,B)}catch{}}if(T)if(!u.includes(T))console.error(`\`${T}\` does not exist in \`theme.colorSchemes\`.`);else{_.darkColorScheme=T;try{localStorage.setItem(`${o}-dark`,T)}catch{}}return _}):d(x=>{try{localStorage.setItem(`${o}-light`,r),localStorage.setItem(`${o}-dark`,n)}catch{}return{...x,lightColorScheme:r,darkColorScheme:n}})},[u,o,r,n]),b=I.useCallback(S=>{A.mode==="system"&&d(x=>{const _=S!=null&&S.matches?"dark":"light";return x.systemMode===_?x:{...x,systemMode:_}})},[A.mode]),C=I.useRef(b);return C.current=b,I.useEffect(()=>{if(typeof window.matchMedia!="function"||!c)return;const S=(..._)=>C.current(..._),x=window.matchMedia("(prefers-color-scheme: dark)");return x.addListener(S),S(x),()=>{x.removeListener(S)}},[c]),I.useEffect(()=>{if(s&&c){const S=x=>{const _=x.newValue;typeof x.key=="string"&&x.key.startsWith(o)&&(!_||u.match(_))&&(x.key.endsWith("light")&&w({light:_}),x.key.endsWith("dark")&&w({dark:_})),x.key===a&&(!_||["light","dark","system"].includes(_))&&m(_||e)};return s.addEventListener("storage",S),()=>{s.removeEventListener("storage",S)}}},[w,m,a,o,u,e,s,c]),{...A,mode:f?A.mode:void 0,systemMode:f?A.systemMode:void 0,colorScheme:f?g:void 0,setMode:m,setColorScheme:w}}const G8e="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function V8e(t){const{themeId:e,theme:r={},modeStorageKey:n=NH,colorSchemeStorageKey:i=$H,disableTransitionOnChange:a=!1,defaultColorScheme:o,resolveTheme:s}=t,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=I.createContext(void 0),c=()=>I.useContext(u)||l,A={},d={};function f(w){var Be,tt,ct,ot;const{children:b,theme:C,modeStorageKey:S=n,colorSchemeStorageKey:x=i,disableTransitionOnChange:_=a,storageWindow:B=typeof window>"u"?void 0:window,documentNode:T=typeof document>"u"?void 0:document,colorSchemeNode:R=typeof document>"u"?void 0:document.documentElement,disableNestedContext:P=!1,disableStyleSheetGeneration:M=!1,defaultMode:U="system",noSsr:F}=w,j=I.useRef(!1),L=LH(),$=I.useContext(u),Q=!!$&&!P,H=I.useMemo(()=>C||(typeof r=="function"?r():r),[C]),q=H[e],Y=q||H,{colorSchemes:z=A,components:V=d,cssVarPrefix:X}=Y,ee=Object.keys(z).filter($e=>!!z[$e]).join(","),J=I.useMemo(()=>ee.split(","),[ee]),le=typeof o=="string"?o:o.light,de=typeof o=="string"?o:o.dark,oe=z[le]&&z[de]?U:((tt=(Be=z[Y.defaultColorScheme])==null?void 0:Be.palette)==null?void 0:tt.mode)||((ct=Y.palette)==null?void 0:ct.mode),{mode:re,setMode:se,systemMode:he,lightColorScheme:ae,darkColorScheme:Ee,colorScheme:Oe,setColorScheme:Ne}=W8e({supportedColorSchemes:J,defaultLightColorScheme:le,defaultDarkColorScheme:de,modeStorageKey:S,colorSchemeStorageKey:x,defaultMode:oe,storageWindow:B,noSsr:F});let De=re,Le=Oe;Q&&(De=$.mode,Le=$.colorScheme);const st=I.useMemo(()=>{var Z;const $e=Le||Y.defaultColorScheme,kt=((Z=Y.generateThemeVars)==null?void 0:Z.call(Y))||Y.vars,Nt={...Y,components:V,colorSchemes:z,cssVarPrefix:X,vars:kt};if(typeof Nt.generateSpacing=="function"&&(Nt.spacing=Nt.generateSpacing()),$e){const ie=z[$e];ie&&typeof ie=="object"&&Object.keys(ie).forEach(me=>{ie[me]&&typeof ie[me]=="object"?Nt[me]={...Nt[me],...ie[me]}:Nt[me]=ie[me]})}return s?s(Nt):Nt},[Y,Le,V,z,X]),ut=Y.colorSchemeSelector;zc(()=>{if(Le&&R&&ut&&ut!=="media"){const $e=ut;let kt=ut;if($e==="class"&&(kt=".%s"),$e==="data"&&(kt="[data-%s]"),$e!=null&&$e.startsWith("data-")&&!$e.includes("%s")&&(kt=`[${$e}="%s"]`),kt.startsWith("."))R.classList.remove(...J.map(Nt=>kt.substring(1).replace("%s",Nt))),R.classList.add(kt.substring(1).replace("%s",Le));else{const Nt=kt.replace("%s",Le).match(/\[([^\]]+)\]/);if(Nt){const[Z,ie]=Nt[1].split("=");ie||J.forEach(me=>{R.removeAttribute(Z.replace(Le,me))}),R.setAttribute(Z,ie?ie.replace(/"|'/g,""):"")}else R.setAttribute(kt,Le)}}},[Le,ut,R,J]),I.useEffect(()=>{let $e;if(_&&j.current&&T){const kt=T.createElement("style");kt.appendChild(T.createTextNode(G8e)),T.head.appendChild(kt),window.getComputedStyle(T.body),$e=setTimeout(()=>{T.head.removeChild(kt)},1)}return()=>{clearTimeout($e)}},[Le,_,T]),I.useEffect(()=>(j.current=!0,()=>{j.current=!1}),[]);const it=I.useMemo(()=>({allColorSchemes:J,colorScheme:Le,darkColorScheme:Ee,lightColorScheme:ae,mode:De,setColorScheme:Ne,setMode:se,systemMode:he}),[J,Le,Ee,ae,De,Ne,se,he,st.colorSchemeSelector]);let Ie=!0;(M||Y.cssVariables===!1||Q&&(L==null?void 0:L.cssVarPrefix)===X)&&(Ie=!1);const be=y.jsxs(I.Fragment,{children:[y.jsx(oIe,{themeId:q?e:void 0,theme:st,children:b}),Ie&&y.jsx(UEe,{styles:((ot=st.generateStyleSheets)==null?void 0:ot.call(st))||[]})]});return Q?be:y.jsx(u.Provider,{value:it,children:be})}const p=typeof o=="string"?o:o.light,g=typeof o=="string"?o:o.dark;return{CssVarsProvider:f,useColorScheme:c,getInitColorSchemeScript:w=>K8e({colorSchemeStorageKey:i,defaultLightColorScheme:p,defaultDarkColorScheme:g,modeStorageKey:n,...w})}}function Y8e(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const yW=(t,e,r,n=[])=>{let i=t;e.forEach((a,o)=>{o===e.length-1?Array.isArray(i)?i[Number(a)]=r:i&&typeof i=="object"&&(i[a]=r):i&&typeof i=="object"&&(i[a]||(i[a]=n.includes(a)?[]:{}),i=i[a])})},X8e=(t,e,r)=>{function n(i,a=[],o=[]){Object.entries(i).forEach(([s,l])=>{(!r||!r([...a,s]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...a,s],Array.isArray(l)?[...o,s]:o):e([...a,s],l,o))})}n(t)},J8e=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function aT(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},a={},o={};return X8e(t,(s,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(s,l))){const c=`--${r?`${r}-`:""}${s.join("-")}`,A=J8e(s,l);Object.assign(i,{[c]:A}),yW(a,s,`var(${c})`,u),yW(o,s,`var(${c}, ${A})`,u)}},s=>s[0]==="vars"),{css:i,vars:a,varsWithDefaults:o}}function Z8e(t,e={}){const{getSelector:r=m,disableCssColorScheme:n,colorSchemeSelector:i}=e,{colorSchemes:a={},components:o,defaultColorScheme:s="light",...l}=t,{vars:u,css:c,varsWithDefaults:A}=aT(l,e);let d=A;const f={},{[s]:p,...g}=a;if(Object.entries(g||{}).forEach(([C,S])=>{const{vars:x,css:_,varsWithDefaults:B}=aT(S,e);d=za(d,B),f[C]={css:_,vars:x}}),p){const{css:C,vars:S,varsWithDefaults:x}=aT(p,e);d=za(d,x),f[s]={css:C,vars:S}}function m(C,S){var _,B;let x=i;if(i==="class"&&(x=".%s"),i==="data"&&(x="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(x=`[${i}="%s"]`),C){if(x==="media")return t.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((B=(_=a[C])==null?void 0:_.palette)==null?void 0:B.mode)||C})`]:{":root":S}};if(x)return t.defaultColorScheme===C?`:root, ${x.replace("%s",String(C))}`:x.replace("%s",String(C))}return":root"}return{vars:d,generateThemeVars:()=>{let C={...u};return Object.entries(f).forEach(([,{vars:S}])=>{C=za(C,S)}),C},generateStyleSheets:()=>{var T,R;const C=[],S=t.defaultColorScheme||"light";function x(P,M){Object.keys(M).length&&C.push(typeof P=="string"?{[P]:{...M}}:P)}x(r(void 0,{...c}),c);const{[S]:_,...B}=f;if(_){const{css:P}=_,M=(R=(T=a[S])==null?void 0:T.palette)==null?void 0:R.mode,U=!n&&M?{colorScheme:M,...P}:{...P};x(r(S,{...U}),U)}return Object.entries(B).forEach(([P,{css:M}])=>{var j,L;const U=(L=(j=a[P])==null?void 0:j.palette)==null?void 0:L.mode,F=!n&&U?{colorScheme:U,...M}:{...M};x(r(P,{...F}),F)}),C}}}function eze(t){return function(r){return t==="media"?`@media (prefers-color-scheme: ${r})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${r}"] &`:t==="class"?`.${r} &`:t==="data"?`[data-${r}] &`:`${t.replace("%s",r)} &`:"&"}}const tze=E_(),rze=w8e("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`maxWidth${Gt(String(r.maxWidth))}`],r.fixed&&e.fixed,r.disableGutters&&e.disableGutters]}}),nze=t=>S8e({props:t,name:"MuiContainer",defaultTheme:tze}),ize=(t,e)=>{const r=l=>Cr(e,l),{classes:n,fixed:i,disableGutters:a,maxWidth:o}=t,s={root:["root",o&&`maxWidth${Gt(String(o))}`,i&&"fixed",a&&"disableGutters"]};return _r(s,r,n)};function aze(t={}){const{createStyledComponent:e=rze,useThemeProps:r=nze,componentName:n="MuiContainer"}=t,i=e(({theme:o,ownerState:s})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!s.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:s})=>s.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const c=u,A=o.breakpoints.values[c];return A!==0&&(l[o.breakpoints.up(c)]={maxWidth:`${A}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:s})=>({...s.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...s.maxWidth&&s.maxWidth!=="xs"&&{[o.breakpoints.up(s.maxWidth)]:{maxWidth:`${o.breakpoints.values[s.maxWidth]}${o.breakpoints.unit}`}}}));return I.forwardRef(function(s,l){const u=r(s),{className:c,component:A="div",disableGutters:d=!1,fixed:f=!1,maxWidth:p="lg",classes:g,...m}=u,w={...u,component:A,disableGutters:d,fixed:f,maxWidth:p},b=ize(w,n);return y.jsx(i,{as:A,ownerState:w,className:dt(b.root,c),ref:l,...m})})}function lIe(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ty.white,default:Ty.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const oze=lIe();function uIe(){return{text:{primary:Ty.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ty.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const wW=uIe();function bW(t,e,r,n){const i=n.light||n,a=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=UH(t.main,i):e==="dark"&&(t.dark=kH(t.main,a)))}function sze(t="light"){return t==="dark"?{main:ep[200],light:ep[50],dark:ep[400]}:{main:ep[700],light:ep[400],dark:ep[800]}}function lze(t="light"){return t==="dark"?{main:Zh[200],light:Zh[50],dark:Zh[400]}:{main:Zh[500],light:Zh[300],dark:Zh[700]}}function uze(t="light"){return t==="dark"?{main:Jh[500],light:Jh[300],dark:Jh[700]}:{main:Jh[700],light:Jh[400],dark:Jh[800]}}function cze(t="light"){return t==="dark"?{main:tp[400],light:tp[300],dark:tp[700]}:{main:tp[700],light:tp[500],dark:tp[900]}}function Aze(t="light"){return t==="dark"?{main:rp[400],light:rp[300],dark:rp[700]}:{main:rp[800],light:rp[500],dark:rp[900]}}function dze(t="light"){return t==="dark"?{main:nv[400],light:nv[300],dark:nv[700]}:{main:"#ed6c02",light:nv[500],dark:nv[900]}}function QH(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,...i}=t,a=t.primary||sze(e),o=t.secondary||lze(e),s=t.error||uze(e),l=t.info||cze(e),u=t.success||Aze(e),c=t.warning||dze(e);function A(g){return E8e(g,wW.text.primary)>=r?wW.text.primary:oze.text.primary}const d=({color:g,name:m,mainShade:w=500,lightShade:b=300,darkShade:C=700})=>{if(g={...g},!g.main&&g[w]&&(g.main=g[w]),!g.hasOwnProperty("main"))throw new Error(Kc(11,m?` (${m})`:"",w));if(typeof g.main!="string")throw new Error(Kc(12,m?` (${m})`:"",JSON.stringify(g.main)));return bW(g,"light",b,n),bW(g,"dark",C,n),g.contrastText||(g.contrastText=A(g.main)),g};let f;return e==="light"?f=lIe():e==="dark"&&(f=uIe()),za({common:{...Ty},mode:e,primary:d({color:a,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:s,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:r6e,contrastThreshold:r,getContrastText:A,augmentColor:d,tonalOffset:n,...f},i)}function fze(t){const e={};return Object.entries(t).forEach(n=>{const[i,a]=n;typeof a=="object"&&(e[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function hze(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function pze(t){return Math.round(t*1e5)/1e5}const SW={textTransform:"uppercase"},xW='"Roboto", "Helvetica", "Arial", sans-serif';function cIe(t,e){const{fontFamily:r=xW,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:s=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...A}=typeof e=="function"?e(t):e,d=n/14,f=c||(m=>`${m/l*d}rem`),p=(m,w,b,C,S)=>({fontFamily:r,fontWeight:m,fontSize:f(w),lineHeight:b,...r===xW?{letterSpacing:`${pze(C/w)}em`}:{},...S,...u}),g={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(a,48,1.167,0),h4:p(a,34,1.235,.25),h5:p(a,24,1.334,0),h6:p(o,20,1.6,.15),subtitle1:p(a,16,1.75,.15),subtitle2:p(o,14,1.57,.1),body1:p(a,16,1.5,.15),body2:p(a,14,1.43,.15),button:p(o,14,1.75,.4,SW),caption:p(a,12,1.66,.4),overline:p(a,12,2.66,1,SW),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return za({htmlFontSize:l,pxToRem:f,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:s,...g},A,{clone:!1})}const gze=.2,mze=.14,vze=.12;function Un(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${gze})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${mze})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${vze})`].join(",")}const yze=["none",Un(0,2,1,-1,0,1,1,0,0,1,3,0),Un(0,3,1,-2,0,2,2,0,0,1,5,0),Un(0,3,3,-2,0,3,4,0,0,1,8,0),Un(0,2,4,-1,0,4,5,0,0,1,10,0),Un(0,3,5,-1,0,5,8,0,0,1,14,0),Un(0,3,5,-1,0,6,10,0,0,1,18,0),Un(0,4,5,-2,0,7,10,1,0,2,16,1),Un(0,5,5,-3,0,8,10,1,0,3,14,2),Un(0,5,6,-3,0,9,12,1,0,3,16,2),Un(0,6,6,-3,0,10,14,1,0,4,18,3),Un(0,6,7,-4,0,11,15,1,0,4,20,3),Un(0,7,8,-4,0,12,17,2,0,5,22,4),Un(0,7,8,-4,0,13,19,2,0,5,24,4),Un(0,7,9,-4,0,14,21,2,0,5,26,4),Un(0,8,9,-5,0,15,22,2,0,6,28,5),Un(0,8,10,-5,0,16,24,2,0,6,30,5),Un(0,8,11,-5,0,17,26,2,0,6,32,5),Un(0,9,11,-5,0,18,28,2,0,7,34,6),Un(0,9,12,-6,0,19,29,2,0,7,36,6),Un(0,10,13,-6,0,20,31,3,0,8,38,7),Un(0,10,13,-6,0,21,33,3,0,8,40,7),Un(0,10,14,-6,0,22,35,3,0,8,42,7),Un(0,11,14,-7,0,23,36,3,0,9,44,8),Un(0,11,15,-7,0,24,38,3,0,9,46,8)],wze={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},bze={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CW(t){return`${Math.round(t)}ms`}function Sze(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function xze(t){const e={...wze,...t.easing},r={...bze,...t.duration};return{getAutoHeightDuration:Sze,create:(i=["all"],a={})=>{const{duration:o=r.standard,easing:s=e.easeInOut,delay:l=0,...u}=a;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:CW(o)} ${s} ${typeof l=="string"?l:CW(l)}`).join(",")},...t,easing:e,duration:r}}const Cze={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function _ze(t){return xu(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function AIe(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let a=0;a<i.length;a++){const[o,s]=i[a];!_ze(s)||o.startsWith("unstable_")?delete n[o]:xu(s)&&(n[o]={...s},r(n[o]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function a$(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:a={},transitions:o={},typography:s={},shape:l,...u}=t;if(t.vars)throw new Error(Kc(20));const c=QH(a),A=E_(t);let d=za(A,{mixins:hze(A.breakpoints,n),palette:c,shadows:yze.slice(),typography:cIe(c,s),transitions:xze(o),zIndex:{...Cze}});return d=za(d,u),d=e.reduce((f,p)=>za(f,p),d),d.unstable_sxConfig={...zw,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(p){return ud({sx:p,theme:this})},d.toRuntimeSource=AIe,d}function o$(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Eze=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=o$(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function dIe(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function fIe(t){return t==="dark"?Eze:[]}function Ize(t){const{palette:e={mode:"light"},opacity:r,overlays:n,...i}=t,a=QH(e);return{palette:a,opacity:{...dIe(a.mode),...r},overlays:n||fIe(a.mode),...i}}function Bze(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Pze=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Tze=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return Pze(t.cssVarPrefix).forEach(s=>{o[s]=r[s],delete r[s]}),a==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:o}}:a?{[a.replace("%s",e)]:o,[`${n}, ${a.replace("%s",e)}`]:r}:{[n]:{...r,...o}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(a)return a.replace("%s",String(e))}return n};function Oze(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function Re(t,e,r){!t[e]&&r&&(t[e]=r)}function Nv(t){return typeof t!="string"||!t.startsWith("hsl")?t:GEe(t)}function yc(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Lv(Nv(t[e])))}function Rze(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const hu=t=>{try{return t()}catch{}},Mze=(t="mui")=>Y8e(t);function oT(t,e,r,n){if(!e)return;e=e===!0?{}:e;const i=n==="dark"?"dark":"light";if(!r){t[n]=Ize({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:a,...o}=a$({...r,palette:{mode:i,...e==null?void 0:e.palette}});return t[n]={...e,palette:a,opacity:{...dIe(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||fIe(i)},o}function Fze(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=Bze,colorSchemeSelector:s=r.light&&r.dark?"media":void 0,rootSelector:l=":root",...u}=t,c=Object.keys(r)[0],A=n||(r.light&&c!=="light"?"light":c),d=Mze(a),{[A]:f,light:p,dark:g,...m}=r,w={...m};let b=f;if((A==="dark"&&!("dark"in r)||A==="light"&&!("light"in r))&&(b=!0),!b)throw new Error(Kc(21,A));const C=oT(w,b,u,A);p&&!w.light&&oT(w,p,void 0,"light"),g&&!w.dark&&oT(w,g,void 0,"dark");let S={defaultColorScheme:A,...C,cssVarPrefix:a,colorSchemeSelector:s,rootSelector:l,getCssVar:d,colorSchemes:w,font:{...fze(C.typography),...C.font},spacing:Rze(u.spacing)};Object.keys(S.colorSchemes).forEach(R=>{const P=S.colorSchemes[R].palette,M=U=>{const F=U.split("-"),j=F[1],L=F[2];return d(U,P[j][L])};if(P.mode==="light"&&(Re(P.common,"background","#fff"),Re(P.common,"onBackground","#000")),P.mode==="dark"&&(Re(P.common,"background","#000"),Re(P.common,"onBackground","#fff")),Oze(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){Re(P.Alert,"errorColor",cn(P.error.light,.6)),Re(P.Alert,"infoColor",cn(P.info.light,.6)),Re(P.Alert,"successColor",cn(P.success.light,.6)),Re(P.Alert,"warningColor",cn(P.warning.light,.6)),Re(P.Alert,"errorFilledBg",M("palette-error-main")),Re(P.Alert,"infoFilledBg",M("palette-info-main")),Re(P.Alert,"successFilledBg",M("palette-success-main")),Re(P.Alert,"warningFilledBg",M("palette-warning-main")),Re(P.Alert,"errorFilledColor",hu(()=>P.getContrastText(P.error.main))),Re(P.Alert,"infoFilledColor",hu(()=>P.getContrastText(P.info.main))),Re(P.Alert,"successFilledColor",hu(()=>P.getContrastText(P.success.main))),Re(P.Alert,"warningFilledColor",hu(()=>P.getContrastText(P.warning.main))),Re(P.Alert,"errorStandardBg",An(P.error.light,.9)),Re(P.Alert,"infoStandardBg",An(P.info.light,.9)),Re(P.Alert,"successStandardBg",An(P.success.light,.9)),Re(P.Alert,"warningStandardBg",An(P.warning.light,.9)),Re(P.Alert,"errorIconColor",M("palette-error-main")),Re(P.Alert,"infoIconColor",M("palette-info-main")),Re(P.Alert,"successIconColor",M("palette-success-main")),Re(P.Alert,"warningIconColor",M("palette-warning-main")),Re(P.AppBar,"defaultBg",M("palette-grey-100")),Re(P.Avatar,"defaultBg",M("palette-grey-400")),Re(P.Button,"inheritContainedBg",M("palette-grey-300")),Re(P.Button,"inheritContainedHoverBg",M("palette-grey-A100")),Re(P.Chip,"defaultBorder",M("palette-grey-400")),Re(P.Chip,"defaultAvatarColor",M("palette-grey-700")),Re(P.Chip,"defaultIconColor",M("palette-grey-700")),Re(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Re(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Re(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Re(P.LinearProgress,"primaryBg",An(P.primary.main,.62)),Re(P.LinearProgress,"secondaryBg",An(P.secondary.main,.62)),Re(P.LinearProgress,"errorBg",An(P.error.main,.62)),Re(P.LinearProgress,"infoBg",An(P.info.main,.62)),Re(P.LinearProgress,"successBg",An(P.success.main,.62)),Re(P.LinearProgress,"warningBg",An(P.warning.main,.62)),Re(P.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),Re(P.Slider,"primaryTrack",An(P.primary.main,.62)),Re(P.Slider,"secondaryTrack",An(P.secondary.main,.62)),Re(P.Slider,"errorTrack",An(P.error.main,.62)),Re(P.Slider,"infoTrack",An(P.info.main,.62)),Re(P.Slider,"successTrack",An(P.success.main,.62)),Re(P.Slider,"warningTrack",An(P.warning.main,.62));const U=JS(P.background.default,.8);Re(P.SnackbarContent,"bg",U),Re(P.SnackbarContent,"color",hu(()=>P.getContrastText(U))),Re(P.SpeedDialAction,"fabHoverBg",JS(P.background.paper,.15)),Re(P.StepConnector,"border",M("palette-grey-400")),Re(P.StepContent,"border",M("palette-grey-400")),Re(P.Switch,"defaultColor",M("palette-common-white")),Re(P.Switch,"defaultDisabledColor",M("palette-grey-100")),Re(P.Switch,"primaryDisabledColor",An(P.primary.main,.62)),Re(P.Switch,"secondaryDisabledColor",An(P.secondary.main,.62)),Re(P.Switch,"errorDisabledColor",An(P.error.main,.62)),Re(P.Switch,"infoDisabledColor",An(P.info.main,.62)),Re(P.Switch,"successDisabledColor",An(P.success.main,.62)),Re(P.Switch,"warningDisabledColor",An(P.warning.main,.62)),Re(P.TableCell,"border",An(XS(P.divider,1),.88)),Re(P.Tooltip,"bg",XS(P.grey[700],.92))}if(P.mode==="dark"){Re(P.Alert,"errorColor",An(P.error.light,.6)),Re(P.Alert,"infoColor",An(P.info.light,.6)),Re(P.Alert,"successColor",An(P.success.light,.6)),Re(P.Alert,"warningColor",An(P.warning.light,.6)),Re(P.Alert,"errorFilledBg",M("palette-error-dark")),Re(P.Alert,"infoFilledBg",M("palette-info-dark")),Re(P.Alert,"successFilledBg",M("palette-success-dark")),Re(P.Alert,"warningFilledBg",M("palette-warning-dark")),Re(P.Alert,"errorFilledColor",hu(()=>P.getContrastText(P.error.dark))),Re(P.Alert,"infoFilledColor",hu(()=>P.getContrastText(P.info.dark))),Re(P.Alert,"successFilledColor",hu(()=>P.getContrastText(P.success.dark))),Re(P.Alert,"warningFilledColor",hu(()=>P.getContrastText(P.warning.dark))),Re(P.Alert,"errorStandardBg",cn(P.error.light,.9)),Re(P.Alert,"infoStandardBg",cn(P.info.light,.9)),Re(P.Alert,"successStandardBg",cn(P.success.light,.9)),Re(P.Alert,"warningStandardBg",cn(P.warning.light,.9)),Re(P.Alert,"errorIconColor",M("palette-error-main")),Re(P.Alert,"infoIconColor",M("palette-info-main")),Re(P.Alert,"successIconColor",M("palette-success-main")),Re(P.Alert,"warningIconColor",M("palette-warning-main")),Re(P.AppBar,"defaultBg",M("palette-grey-900")),Re(P.AppBar,"darkBg",M("palette-background-paper")),Re(P.AppBar,"darkColor",M("palette-text-primary")),Re(P.Avatar,"defaultBg",M("palette-grey-600")),Re(P.Button,"inheritContainedBg",M("palette-grey-800")),Re(P.Button,"inheritContainedHoverBg",M("palette-grey-700")),Re(P.Chip,"defaultBorder",M("palette-grey-700")),Re(P.Chip,"defaultAvatarColor",M("palette-grey-300")),Re(P.Chip,"defaultIconColor",M("palette-grey-300")),Re(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Re(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Re(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Re(P.LinearProgress,"primaryBg",cn(P.primary.main,.5)),Re(P.LinearProgress,"secondaryBg",cn(P.secondary.main,.5)),Re(P.LinearProgress,"errorBg",cn(P.error.main,.5)),Re(P.LinearProgress,"infoBg",cn(P.info.main,.5)),Re(P.LinearProgress,"successBg",cn(P.success.main,.5)),Re(P.LinearProgress,"warningBg",cn(P.warning.main,.5)),Re(P.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),Re(P.Slider,"primaryTrack",cn(P.primary.main,.5)),Re(P.Slider,"secondaryTrack",cn(P.secondary.main,.5)),Re(P.Slider,"errorTrack",cn(P.error.main,.5)),Re(P.Slider,"infoTrack",cn(P.info.main,.5)),Re(P.Slider,"successTrack",cn(P.success.main,.5)),Re(P.Slider,"warningTrack",cn(P.warning.main,.5));const U=JS(P.background.default,.98);Re(P.SnackbarContent,"bg",U),Re(P.SnackbarContent,"color",hu(()=>P.getContrastText(U))),Re(P.SpeedDialAction,"fabHoverBg",JS(P.background.paper,.15)),Re(P.StepConnector,"border",M("palette-grey-600")),Re(P.StepContent,"border",M("palette-grey-600")),Re(P.Switch,"defaultColor",M("palette-grey-300")),Re(P.Switch,"defaultDisabledColor",M("palette-grey-600")),Re(P.Switch,"primaryDisabledColor",cn(P.primary.main,.55)),Re(P.Switch,"secondaryDisabledColor",cn(P.secondary.main,.55)),Re(P.Switch,"errorDisabledColor",cn(P.error.main,.55)),Re(P.Switch,"infoDisabledColor",cn(P.info.main,.55)),Re(P.Switch,"successDisabledColor",cn(P.success.main,.55)),Re(P.Switch,"warningDisabledColor",cn(P.warning.main,.55)),Re(P.TableCell,"border",cn(XS(P.divider,1),.68)),Re(P.Tooltip,"bg",XS(P.grey[700],.92))}yc(P.background,"default"),yc(P.background,"paper"),yc(P.common,"background"),yc(P.common,"onBackground"),yc(P,"divider"),Object.keys(P).forEach(U=>{const F=P[U];U!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&Re(P[U],"mainChannel",Lv(Nv(F.main))),F.light&&Re(P[U],"lightChannel",Lv(Nv(F.light))),F.dark&&Re(P[U],"darkChannel",Lv(Nv(F.dark))),F.contrastText&&Re(P[U],"contrastTextChannel",Lv(Nv(F.contrastText))),U==="text"&&(yc(P[U],"primary"),yc(P[U],"secondary")),U==="action"&&(F.active&&yc(P[U],"active"),F.selected&&yc(P[U],"selected")))})}),S=e.reduce((R,P)=>za(R,P),S);const x={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:Tze(S)},{vars:_,generateThemeVars:B,generateStyleSheets:T}=Z8e(S,x);return S.vars=_,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([R,P])=>{S[R]=P}),S.generateThemeVars=B,S.generateStyleSheets=T,S.generateSpacing=function(){return $Ee(u.spacing,OH(this))},S.getColorSchemeSelector=eze(s),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=o,S.unstable_sxConfig={...zw,...u==null?void 0:u.unstable_sxConfig},S.unstable_sx=function(P){return ud({sx:P,theme:this})},S.toRuntimeSource=AIe,S}function _W(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:QH({...r===!0?{}:r.palette,mode:e})})}function P_(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:a=r==null?void 0:r.mode,...o}=t,s=a||"light",l=i==null?void 0:i[s],u={...i,...r?{[s]:{...typeof l!="boolean"&&l,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return a$(t,...e);let c=r;"palette"in t||u[s]&&(u[s]!==!0?c=u[s].palette:s==="dark"&&(c={mode:"dark"}));const A=a$({...t,palette:c},...e);return A.defaultColorScheme=s,A.colorSchemes=u,A.palette.mode==="light"&&(A.colorSchemes.light={...u.light!==!0&&u.light,palette:A.palette},_W(A,"dark",u.dark)),A.palette.mode==="dark"&&(A.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:A.palette},_W(A,"light",u.light)),A}return!r&&!("light"in u)&&s==="light"&&(u.light=!0),Fze({...o,colorSchemes:u,defaultColorScheme:s,...typeof n!="boolean"&&n},...e)}const HH=P_();function Ng(){const t=I_(HH);return t[Ou]||t}function hIe(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const il=t=>hIe(t)&&t!=="classes",It=WEe({themeId:Ou,defaultTheme:HH,rootShouldForwardProp:il});function EW({theme:t,...e}){const r=Ou in t?t[Ou]:void 0;return y.jsx(oIe,{...e,themeId:r?Ou:void 0,theme:r||t})}const ZS={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:kze,useColorScheme:P3t,getInitColorSchemeScript:T3t}=V8e({themeId:Ou,theme:()=>P_({cssVariables:!0}),colorSchemeStorageKey:ZS.colorSchemeStorageKey,modeStorageKey:ZS.modeStorageKey,defaultColorScheme:{light:ZS.defaultLightColorScheme,dark:ZS.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:cIe(t.palette,t.typography)};return e.unstable_sx=function(n){return ud({sx:n,theme:this})},e}}),Uze=kze;function Dze({theme:t,...e}){return typeof t=="function"?y.jsx(EW,{theme:t,...e}):"colorSchemes"in(Ou in t?t[Ou]:t)?y.jsx(Uze,{theme:t,...e}):y.jsx(EW,{theme:t,...e})}function jze(t){return y.jsx(l8e,{...t,defaultTheme:HH,themeId:Ou})}function Lze(t){return function(r){return y.jsx(jze,{styles:typeof t=="function"?n=>t({theme:n,...r}):t})}}function Nze(){return MH}const on=H8e;function Pr(t){return Q8e(t)}function $ze(t){return Cr("MuiSvgIcon",t)}vr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Qze=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${Gt(e)}`,`fontSize${Gt(r)}`]};return _r(i,$ze,n)},Hze=It("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${Gt(r.color)}`],e[`fontSize${Gt(r.fontSize)}`]]}})(on(({theme:t})=>{var e,r,n,i,a,o,s,l,u,c,A,d,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(n=(r=(t.vars??t).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:g=>!g.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((c=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,g])=>g&&g.main).map(([g])=>{var m,w;return{props:{color:g},style:{color:(w=(m=(t.vars??t).palette)==null?void 0:m[g])==null?void 0:w.main}}}),{props:{color:"action"},style:{color:(d=(A=(t.vars??t).palette)==null?void 0:A.action)==null?void 0:d.active}},{props:{color:"disabled"},style:{color:(p=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),s$=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiSvgIcon"}),{children:i,className:a,color:o="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:A,viewBox:d="0 0 24 24",...f}=n,p=I.isValidElement(i)&&i.type==="svg",g={...n,color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:d,hasSvgAsChild:p},m={};c||(m.viewBox=d);const w=Qze(g);return y.jsxs(Hze,{as:s,className:dt(w.root,a),focusable:"false",color:u,"aria-hidden":A?void 0:!0,role:A?"img":void 0,ref:r,...m,...f,...p&&i.props,ownerState:g,children:[p?i.props.children:i,A?y.jsx("title",{children:A}):null]})});s$.muiName="SvgIcon";function qze(t,e){function r(n,i){return y.jsx(s$,{"data-testid":`${e}Icon`,ref:i,...n,children:t})}return r.muiName=s$.muiName,I.memo(I.forwardRef(r))}function pIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function l$(t,e){return l$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},l$(t,e)}function gIe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l$(t,e)}const IW={disabled:!1},y1=ce.createContext(null);var Kze=function(e){return e.scrollTop},$v="unmounted",hf="exited",pf="entering",Sp="entered",u$="exiting",Wu=function(t){gIe(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var o=i,s=o&&!o.isMounting?n.enter:n.appear,l;return a.appearStatus=null,n.in?s?(l=hf,a.appearStatus=pf):l=Sp:n.unmountOnExit||n.mountOnEnter?l=$v:l=hf,a.state={status:l},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===$v?{status:hf}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==pf&&o!==Sp&&(a=pf):(o===pf||o===Sp)&&(a=u$)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,o,s;return a=o=s=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,s=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:s}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===pf){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:jv.findDOMNode(this);o&&Kze(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hf&&this.setState({status:$v})},r.performEnter=function(i){var a=this,o=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[jv.findDOMNode(this),s],u=l[0],c=l[1],A=this.getTimeouts(),d=s?A.appear:A.enter;if(!i&&!o||IW.disabled){this.safeSetState({status:Sp},function(){a.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:pf},function(){a.props.onEntering(u,c),a.onTransitionEnd(d,function(){a.safeSetState({status:Sp},function(){a.props.onEntered(u,c)})})})},r.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),s=this.props.nodeRef?void 0:jv.findDOMNode(this);if(!a||IW.disabled){this.safeSetState({status:hf},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:u$},function(){i.props.onExiting(s),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:hf},function(){i.props.onExited(s)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(s){o&&(o=!1,a.nextCallback=null,i(s))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:jv.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!o||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===$v)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=pIe(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ce.createElement(y1.Provider,{value:null},typeof o=="function"?o(i,s):ce.cloneElement(ce.Children.only(o),s))},e}(ce.Component);Wu.contextType=y1;Wu.propTypes={};function np(){}Wu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:np,onEntering:np,onEntered:np,onExit:np,onExiting:np,onExited:np};Wu.UNMOUNTED=$v;Wu.EXITED=hf;Wu.ENTERING=pf;Wu.ENTERED=Sp;Wu.EXITING=u$;function zze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qH(t,e){var r=function(a){return e&&I.isValidElement(a)?e(a):a},n=Object.create(null);return t&&I.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Wze(t,e){t=t||{},e=e||{};function r(c){return c in e?e[c]:t[c]}var n=Object.create(null),i=[];for(var a in t)a in e?i.length&&(n[a]=i,i=[]):i.push(a);var o,s={};for(var l in e){if(n[l])for(o=0;o<n[l].length;o++){var u=n[l][o];s[n[l][o]]=r(u)}s[l]=r(l)}for(o=0;o<i.length;o++)s[i[o]]=r(i[o]);return s}function bf(t,e,r){return r[e]!=null?r[e]:t.props[e]}function Gze(t,e){return qH(t.children,function(r){return I.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:bf(r,"appear",t),enter:bf(r,"enter",t),exit:bf(r,"exit",t)})})}function Vze(t,e,r){var n=qH(t.children),i=Wze(e,n);return Object.keys(i).forEach(function(a){var o=i[a];if(I.isValidElement(o)){var s=a in e,l=a in n,u=e[a],c=I.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[a]=I.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:bf(o,"exit",t),enter:bf(o,"enter",t)}):!l&&s&&!c?i[a]=I.cloneElement(o,{in:!1}):l&&s&&I.isValidElement(u)&&(i[a]=I.cloneElement(o,{onExited:r.bind(null,o),in:u.props.in,exit:bf(o,"exit",t),enter:bf(o,"enter",t)}))}}),i}var Yze=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Xze={component:"div",childFactory:function(e){return e}},KH=function(t){gIe(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var o=a.handleExited.bind(zze(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var o=a.children,s=a.handleExited,l=a.firstRender;return{children:l?Gze(i,s):Vze(i,o,s),firstRender:!1}},r.handleExited=function(i,a){var o=qH(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(s){var l=g1({},s.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,a=i.component,o=i.childFactory,s=pIe(i,["component","childFactory"]),l=this.state.contextValue,u=Yze(this.state.children).map(o);return delete s.appear,delete s.enter,delete s.exit,a===null?ce.createElement(y1.Provider,{value:l},u):ce.createElement(y1.Provider,{value:l},ce.createElement(a,s,u))},e}(ce.Component);KH.propTypes={};KH.defaultProps=Xze;const mIe=t=>t.scrollTop;function w1(t,e){const{timeout:r,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}function Jze(t){return Cr("MuiPaper",t)}vr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Zze=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,a={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return _r(a,Jze,i)},eWe=It("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(on(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Vs=I.forwardRef(function(e,r){var f;const n=Pr({props:e,name:"MuiPaper"}),i=Ng(),{className:a,component:o="div",elevation:s=1,square:l=!1,variant:u="elevation",...c}=n,A={...n,component:o,elevation:s,square:l,variant:u},d=Zze(A);return y.jsx(eWe,{as:o,ownerState:A,className:dt(d.root,a),ref:r,...c,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[s],...i.vars&&{"--Paper-overlay":(f=i.vars.overlays)==null?void 0:f[s]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ei("#fff",o$(s))}, ${Ei("#fff",o$(s))})`}},...c.style}})});function as(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:a,internalForwardedProps:o,shouldForwardComponentProp:s=!1,...l}=e,{component:u,slots:c={[t]:void 0},slotProps:A={[t]:void 0},...d}=a,f=c[t]||n,p=rIe(A[t],i),{props:{component:g,...m},internalRef:w}=tIe({className:r,...l,externalForwardedProps:t==="root"?d:void 0,externalSlotProps:p}),b=Zi(w,p==null?void 0:p.ref,e.ref),C=t==="root"?g||u:g,S=ZEe(f,{...t==="root"&&!u&&!c[t]&&o,...t!=="root"&&!c[t]&&o,...m,...C&&!s&&{as:C},...C&&s&&{component:C},ref:b},i);return[f,S]}class b1{constructor(){K(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new b1}static use(){const e=YEe(b1.create).current,[r,n]=I.useState(!1);return e.shouldMount=r,e.setShouldMount=n,I.useEffect(e.mountEffect,[r]),e}mount(){return this.mounted||(this.mounted=rWe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...e)})}stop(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...e)})}pulsate(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...e)})}}function tWe(){return b1.use()}function rWe(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function nWe(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:a,rippleSize:o,in:s,onExited:l,timeout:u}=t,[c,A]=I.useState(!1),d=dt(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f={width:o,height:o,top:-(o/2)+a,left:-(o/2)+i},p=dt(r.child,c&&r.childLeaving,n&&r.childPulsate);return!s&&!c&&A(!0),I.useEffect(()=>{if(!s&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,s,u]),y.jsx("span",{className:d,style:f,children:y.jsx("span",{className:p})})}const Ds=vr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),c$=550,iWe=80,aWe=Hw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,oWe=Hw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,sWe=Hw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,lWe=It("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),uWe=It(nWe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ds.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${aWe};
    animation-duration: ${c$}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ds.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ds.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ds.childLeaving} {
    opacity: 0;
    animation-name: ${oWe};
    animation-duration: ${c$}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ds.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${sWe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,cWe=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:o,...s}=n,[l,u]=I.useState([]),c=I.useRef(0),A=I.useRef(null);I.useEffect(()=>{A.current&&(A.current(),A.current=null)},[l]);const d=I.useRef(!1),f=XEe(),p=I.useRef(null),g=I.useRef(null),m=I.useCallback(S=>{const{pulsate:x,rippleX:_,rippleY:B,rippleSize:T,cb:R}=S;u(P=>[...P,y.jsx(uWe,{classes:{ripple:dt(a.ripple,Ds.ripple),rippleVisible:dt(a.rippleVisible,Ds.rippleVisible),ripplePulsate:dt(a.ripplePulsate,Ds.ripplePulsate),child:dt(a.child,Ds.child),childLeaving:dt(a.childLeaving,Ds.childLeaving),childPulsate:dt(a.childPulsate,Ds.childPulsate)},timeout:c$,pulsate:x,rippleX:_,rippleY:B,rippleSize:T},c.current)]),c.current+=1,A.current=R},[a]),w=I.useCallback((S={},x={},_=()=>{})=>{const{pulsate:B=!1,center:T=i||x.pulsate,fakeElement:R=!1}=x;if((S==null?void 0:S.type)==="mousedown"&&d.current){d.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(d.current=!0);const P=R?null:g.current,M=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,F,j;if(T||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)U=Math.round(M.width/2),F=Math.round(M.height/2);else{const{clientX:L,clientY:$}=S.touches&&S.touches.length>0?S.touches[0]:S;U=Math.round(L-M.left),F=Math.round($-M.top)}if(T)j=Math.sqrt((2*M.width**2+M.height**2)/3),j%2===0&&(j+=1);else{const L=Math.max(Math.abs((P?P.clientWidth:0)-U),U)*2+2,$=Math.max(Math.abs((P?P.clientHeight:0)-F),F)*2+2;j=Math.sqrt(L**2+$**2)}S!=null&&S.touches?p.current===null&&(p.current=()=>{m({pulsate:B,rippleX:U,rippleY:F,rippleSize:j,cb:_})},f.start(iWe,()=>{p.current&&(p.current(),p.current=null)})):m({pulsate:B,rippleX:U,rippleY:F,rippleSize:j,cb:_})},[i,m,f]),b=I.useCallback(()=>{w({},{pulsate:!0})},[w]),C=I.useCallback((S,x)=>{if(f.clear(),(S==null?void 0:S.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{C(S,x)});return}p.current=null,u(_=>_.length>0?_.slice(1):_),A.current=x},[f]);return I.useImperativeHandle(r,()=>({pulsate:b,start:w,stop:C}),[b,w,C]),y.jsx(lWe,{className:dt(Ds.root,a.root,o),ref:g,...s,children:y.jsx(KH,{component:null,exit:!0,children:l})})});function AWe(t){return Cr("MuiButtonBase",t)}const dWe=vr("MuiButtonBase",["root","disabled","focusVisible"]),fWe=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,o=_r({root:["root",e&&"disabled",r&&"focusVisible"]},AWe,i);return r&&n&&(o.root+=` ${n}`),o},hWe=It("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dWe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zH=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:o,className:s,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:A=!1,focusRipple:d=!1,focusVisibleClassName:f,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:w,onDragLeave:b,onFocus:C,onFocusVisible:S,onKeyDown:x,onKeyUp:_,onMouseDown:B,onMouseLeave:T,onMouseUp:R,onTouchEnd:P,onTouchMove:M,onTouchStart:U,tabIndex:F=0,TouchRippleProps:j,touchRippleRef:L,type:$,...Q}=n,H=I.useRef(null),q=tWe(),Y=Zi(q.ref,L),[z,V]=I.useState(!1);u&&z&&V(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),H.current.focus()}}),[]);const X=q.shouldMount&&!c&&!u;I.useEffect(()=>{z&&d&&!c&&q.pulsate()},[c,d,z,q]);const ee=wc(q,"start",B,A),J=wc(q,"stop",w,A),le=wc(q,"stop",b,A),de=wc(q,"stop",R,A),oe=wc(q,"stop",be=>{z&&be.preventDefault(),T&&T(be)},A),re=wc(q,"start",U,A),se=wc(q,"stop",P,A),he=wc(q,"stop",M,A),ae=wc(q,"stop",be=>{dW(be.target)||V(!1),g&&g(be)},!1),Ee=qp(be=>{H.current||(H.current=be.currentTarget),dW(be.target)&&(V(!0),S&&S(be)),C&&C(be)}),Oe=()=>{const be=H.current;return l&&l!=="button"&&!(be.tagName==="A"&&be.href)},Ne=qp(be=>{d&&!be.repeat&&z&&be.key===" "&&q.stop(be,()=>{q.start(be)}),be.target===be.currentTarget&&Oe()&&be.key===" "&&be.preventDefault(),x&&x(be),be.target===be.currentTarget&&Oe()&&be.key==="Enter"&&!u&&(be.preventDefault(),m&&m(be))}),De=qp(be=>{d&&be.key===" "&&z&&!be.defaultPrevented&&q.stop(be,()=>{q.pulsate(be)}),_&&_(be),m&&be.target===be.currentTarget&&Oe()&&be.key===" "&&!be.defaultPrevented&&m(be)});let Le=l;Le==="button"&&(Q.href||Q.to)&&(Le=p);const st={};Le==="button"?(st.type=$===void 0?"button":$,st.disabled=u):(!Q.href&&!Q.to&&(st.role="button"),u&&(st["aria-disabled"]=u));const ut=Zi(r,H),it={...n,centerRipple:a,component:l,disabled:u,disableRipple:c,disableTouchRipple:A,focusRipple:d,tabIndex:F,focusVisible:z},Ie=fWe(it);return y.jsxs(hWe,{as:Le,className:dt(Ie.root,s),ownerState:it,onBlur:ae,onClick:m,onContextMenu:J,onFocus:Ee,onKeyDown:Ne,onKeyUp:De,onMouseDown:ee,onMouseLeave:oe,onMouseUp:de,onDragLeave:le,onTouchEnd:se,onTouchMove:he,onTouchStart:re,ref:ut,tabIndex:u?-1:F,type:$,...st,...Q,children:[o,X?y.jsx(cWe,{ref:Y,center:a,...j}):null]})});function wc(t,e,r,n=!1){return qp(i=>(r&&r(i),n||t[e](i),!0))}function pWe(t){return typeof t.main=="string"}function gWe(t,e=[]){if(!pWe(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function tA(t=[]){return([,e])=>e&&gWe(e,t)}function mWe(t){return Cr("MuiCircularProgress",t)}vr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const MA=44,A$=Hw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,d$=Hw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,vWe=typeof A$!="string"?BH`
        animation: ${A$} 1.4s linear infinite;
      `:null,yWe=typeof d$!="string"?BH`
        animation: ${d$} 1.4s ease-in-out infinite;
      `:null,wWe=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,a={root:["root",r,`color${Gt(n)}`],svg:["svg"],circle:["circle",`circle${Gt(r)}`,i&&"circleDisableShrink"]};return _r(a,mWe,e)},bWe=It("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${Gt(r.color)}`]]}})(on(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:vWe||{animation:`${A$} 1.4s linear infinite`}},...Object.entries(t.palette).filter(tA()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),SWe=It("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),xWe=It("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${Gt(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(on(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:yWe||{animation:`${d$} 1.4s ease-in-out infinite`}}]}))),CWe=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiCircularProgress"}),{className:i,color:a="primary",disableShrink:o=!1,size:s=40,style:l,thickness:u=3.6,value:c=0,variant:A="indeterminate",...d}=n,f={...n,color:a,disableShrink:o,size:s,thickness:u,value:c,variant:A},p=wWe(f),g={},m={},w={};if(A==="determinate"){const b=2*Math.PI*((MA-u)/2);g.strokeDasharray=b.toFixed(3),w["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*b).toFixed(3)}px`,m.transform="rotate(-90deg)"}return y.jsx(bWe,{className:dt(p.root,i),style:{width:s,height:s,...m,...l},ownerState:f,ref:r,role:"progressbar",...w,...d,children:y.jsx(SWe,{className:p.svg,ownerState:f,viewBox:`${MA/2} ${MA/2} ${MA} ${MA}`,children:y.jsx(xWe,{className:p.circle,style:g,ownerState:f,cx:MA,cy:MA,r:(MA-u)/2,fill:"none",strokeWidth:u})})})});function _We(t){return Cr("MuiTypography",t)}const BW=vr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),EWe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},IWe=Nze(),BWe=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:a,classes:o}=t,s={root:["root",a,t.align!=="inherit"&&`align${Gt(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return _r(s,_We,o)},PWe=It("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${Gt(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(on(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(t.palette).filter(tA()).map(([r])=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${Gt(r)}`},style:{color:(t.vars||t).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),PW={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},er=I.forwardRef(function(e,r){const{color:n,...i}=Pr({props:e,name:"MuiTypography"}),a=!EWe[n],o=IWe({...i,...a&&{color:n}}),{align:s="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:A=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=PW,...g}=o,m={...o,align:s,color:n,className:l,component:u,gutterBottom:c,noWrap:A,paragraph:d,variant:f,variantMapping:p},w=u||(d?"p":p[f]||PW[f])||"span",b=BWe(m);return y.jsx(PWe,{as:w,ref:r,className:dt(b.root,l),...g,ownerState:m,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...g.style}})});function TWe(t){return Cr("MuiAppBar",t)}vr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const OWe=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${Gt(e)}`,`position${Gt(r)}`]};return _r(i,TWe,n)},TW=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,RWe=It(Vs,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Gt(r.position)}`],e[`color${Gt(r.color)}`]]}})(on(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(tA(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?TW(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?TW(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),MWe=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:o=!1,position:s="fixed",...l}=n,u={...n,color:a,position:s,enableColorOnDark:o},c=OWe(u);return y.jsx(RWe,{square:!0,component:"header",ownerState:u,elevation:4,className:dt(c.root,i,s==="fixed"&&"mui-fixed"),ref:r,...l})});function FWe(t){return typeof t=="function"?t():t}const kWe=I.forwardRef(function(e,r){const{children:n,container:i,disablePortal:a=!1}=e,[o,s]=I.useState(null),l=Zi(I.isValidElement(n)?Ww(n):null,r);if(zc(()=>{a||s(FWe(i)||document.body)},[i,a]),zc(()=>{if(o&&!a)return i$(r,o),()=>{i$(r,null)}},[r,o,a]),a){if(I.isValidElement(n)){const u={ref:l};return I.cloneElement(n,u)}return n}return o&&rh.createPortal(n,o)});function e0(t){return parseInt(t,10)||0}const UWe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function DWe(t){for(const e in t)return!1;return!0}function jWe(t){return DWe(t)||t.outerHeightStyle===0&&!t.overflowing}const LWe=I.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:a=1,style:o,value:s,...l}=e,{current:u}=I.useRef(s!=null),c=I.useRef(null),A=Zi(r,c),d=I.useRef(null),f=I.useRef(null),p=I.useCallback(()=>{const b=c.current,C=f.current;if(!b||!C)return;const x=Wc(b).getComputedStyle(b);if(x.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=x.width,C.value=b.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const _=x.boxSizing,B=e0(x.paddingBottom)+e0(x.paddingTop),T=e0(x.borderBottomWidth)+e0(x.borderTopWidth),R=C.scrollHeight;C.value="x";const P=C.scrollHeight;let M=R;a&&(M=Math.max(Number(a)*P,M)),i&&(M=Math.min(Number(i)*P,M)),M=Math.max(M,P);const U=M+(_==="border-box"?B+T:0),F=Math.abs(M-R)<=1;return{outerHeightStyle:U,overflowing:F}},[i,a,e.placeholder]),g=I.useCallback(()=>{const b=c.current,C=p();if(!b||!C||jWe(C))return;const S=C.outerHeightStyle;d.current!==S&&(d.current=S,b.style.height=`${S}px`),b.style.overflow=C.overflowing?"hidden":""},[p]),m=I.useRef(-1);zc(()=>{const b=VEe(()=>g()),C=c==null?void 0:c.current;if(!C)return;const S=Wc(C);S.addEventListener("resize",b);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(()=>{x.unobserve(C),cancelAnimationFrame(m.current),g(),m.current=requestAnimationFrame(()=>{x.observe(C)})}),x.observe(C)),()=>{b.clear(),cancelAnimationFrame(m.current),S.removeEventListener("resize",b),x&&x.disconnect()}},[p,g]),zc(()=>{g()});const w=b=>{u||g(),n&&n(b)};return y.jsxs(I.Fragment,{children:[y.jsx("textarea",{value:s,onChange:w,ref:A,rows:a,style:o,...l}),y.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:{...UWe.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Fy(t){return typeof t=="string"}function $g({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const WH=I.createContext(void 0);function Qg(){return I.useContext(WH)}function OW(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function S1(t,e=!1){return t&&(OW(t.value)&&t.value!==""||e&&OW(t.defaultValue)&&t.defaultValue!=="")}function NWe(t){return t.startAdornment}function $We(t){return Cr("MuiInputBase",t)}const ig=vr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var RW;const T_=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${Gt(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},O_=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},QWe=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:a,focused:o,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:A,size:d,startAdornment:f,type:p}=t,g={root:["root",`color${Gt(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",s&&"formControl",d&&d!=="medium"&&`size${Gt(d)}`,c&&"multiline",f&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel",A&&"readOnly"],input:["input",n&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",d==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",a&&"inputAdornedEnd",A&&"readOnly"]};return _r(g,$We,e)},R_=It("div",{name:"MuiInputBase",slot:"Root",overridesResolver:T_})(on(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ig.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),M_=It("input",{name:"MuiInputBase",slot:"Input",overridesResolver:O_})(on(({theme:t})=>{const e=t.palette.mode==="light",r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ig.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${ig.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),MW=Lze({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),GH=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:o,className:s,color:l,components:u={},componentsProps:c={},defaultValue:A,disabled:d,disableInjectingGlobalStyles:f,endAdornment:p,error:g,fullWidth:m=!1,id:w,inputComponent:b="input",inputProps:C={},inputRef:S,margin:x,maxRows:_,minRows:B,multiline:T=!1,name:R,onBlur:P,onChange:M,onClick:U,onFocus:F,onKeyDown:j,onKeyUp:L,placeholder:$,readOnly:Q,renderSuffix:H,rows:q,size:Y,slotProps:z={},slots:V={},startAdornment:X,type:ee="text",value:J,...le}=n,de=C.value!=null?C.value:J,{current:oe}=I.useRef(de!=null),re=I.useRef(),se=I.useCallback(ie=>{},[]),he=Zi(re,S,C.ref,se),[ae,Ee]=I.useState(!1),Oe=Qg(),Ne=$g({props:n,muiFormControl:Oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ne.focused=Oe?Oe.focused:ae,I.useEffect(()=>{!Oe&&d&&ae&&(Ee(!1),P&&P())},[Oe,d,ae,P]);const De=Oe&&Oe.onFilled,Le=Oe&&Oe.onEmpty,st=I.useCallback(ie=>{S1(ie)?De&&De():Le&&Le()},[De,Le]);zc(()=>{oe&&st({value:de})},[de,st,oe]);const ut=ie=>{F&&F(ie),C.onFocus&&C.onFocus(ie),Oe&&Oe.onFocus?Oe.onFocus(ie):Ee(!0)},it=ie=>{P&&P(ie),C.onBlur&&C.onBlur(ie),Oe&&Oe.onBlur?Oe.onBlur(ie):Ee(!1)},Ie=(ie,...me)=>{if(!oe){const Te=ie.target||re.current;if(Te==null)throw new Error(Kc(1));st({value:Te.value})}C.onChange&&C.onChange(ie,...me),M&&M(ie,...me)};I.useEffect(()=>{st(re.current)},[]);const be=ie=>{re.current&&ie.currentTarget===ie.target&&re.current.focus(),U&&U(ie)};let Be=b,tt=C;T&&Be==="input"&&(q?tt={type:void 0,minRows:q,maxRows:q,...tt}:tt={type:void 0,maxRows:_,minRows:B,...tt},Be=LWe);const ct=ie=>{st(ie.animationName==="mui-auto-fill-cancel"?re.current:{value:"x"})};I.useEffect(()=>{Oe&&Oe.setAdornedStart(!!X)},[Oe,X]);const ot={...n,color:Ne.color||"primary",disabled:Ne.disabled,endAdornment:p,error:Ne.error,focused:Ne.focused,formControl:Oe,fullWidth:m,hiddenLabel:Ne.hiddenLabel,multiline:T,size:Ne.size,startAdornment:X,type:ee},$e=QWe(ot),kt=V.root||u.Root||R_,Nt=z.root||c.root||{},Z=V.input||u.Input||M_;return tt={...tt,...z.input??c.input},y.jsxs(I.Fragment,{children:[!f&&typeof MW=="function"&&(RW||(RW=y.jsx(MW,{}))),y.jsxs(kt,{...Nt,ref:r,onClick:be,...le,...!Fy(kt)&&{ownerState:{...ot,...Nt.ownerState}},className:dt($e.root,Nt.className,s,Q&&"MuiInputBase-readOnly"),children:[X,y.jsx(WH.Provider,{value:null,children:y.jsx(Z,{"aria-invalid":Ne.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:A,disabled:Ne.disabled,id:w,onAnimationStart:ct,name:R,placeholder:$,readOnly:Q,required:Ne.required,rows:q,value:de,onKeyDown:j,onKeyUp:L,type:ee,...tt,...!Fy(Z)&&{as:Be,ownerState:{...ot,...tt.ownerState}},ref:he,className:dt($e.input,tt.className,Q&&"MuiInputBase-readOnly"),onBlur:it,onChange:Ie,onFocus:ut})}),p,H?H({...Ne,startAdornment:X}):null]})]})});function HWe(t){return Cr("MuiInput",t)}const av={...ig,...vr("MuiInput",["root","underline","input"])};function qWe(t){return Cr("MuiOutlinedInput",t)}const pu={...ig,...vr("MuiOutlinedInput",["root","notchedOutline","input"])};function KWe(t){return Cr("MuiFilledInput",t)}const uf={...ig,...vr("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},zWe=qze(y.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),WWe={entering:{opacity:1},entered:{opacity:1}},vIe=I.forwardRef(function(e,r){const n=Ng(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:s,easing:l,in:u,onEnter:c,onEntered:A,onEntering:d,onExit:f,onExited:p,onExiting:g,style:m,timeout:w=i,TransitionComponent:b=Wu,...C}=e,S=I.useRef(null),x=Zi(S,Ww(s),r),_=j=>L=>{if(j){const $=S.current;L===void 0?j($):j($,L)}},B=_(d),T=_((j,L)=>{mIe(j);const $=w1({style:m,timeout:w,easing:l},{mode:"enter"});j.style.webkitTransition=n.transitions.create("opacity",$),j.style.transition=n.transitions.create("opacity",$),c&&c(j,L)}),R=_(A),P=_(g),M=_(j=>{const L=w1({style:m,timeout:w,easing:l},{mode:"exit"});j.style.webkitTransition=n.transitions.create("opacity",L),j.style.transition=n.transitions.create("opacity",L),f&&f(j)}),U=_(p),F=j=>{a&&a(S.current,j)};return y.jsx(b,{appear:o,in:u,nodeRef:S,onEnter:T,onEntered:R,onEntering:B,onExit:M,onExited:U,onExiting:P,addEndListener:F,timeout:w,...C,children:(j,{ownerState:L,...$})=>I.cloneElement(s,{style:{opacity:0,visibility:j==="exited"&&!u?"hidden":void 0,...WWe[j],...m,...s.props.style},ref:x,...$})})});function GWe(t){return Cr("MuiBackdrop",t)}vr("MuiBackdrop",["root","invisible"]);const VWe=t=>{const{classes:e,invisible:r}=t;return _r({root:["root",r&&"invisible"]},GWe,e)},YWe=It("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),yIe=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiBackdrop"}),{children:i,className:a,component:o="div",invisible:s=!1,open:l,components:u={},componentsProps:c={},slotProps:A={},slots:d={},TransitionComponent:f,transitionDuration:p,...g}=n,m={...n,component:o,invisible:s},w=VWe(m),b={transition:f,root:u.Root,...d},C={...c,...A},S={slots:b,slotProps:C},[x,_]=as("root",{elementType:YWe,externalForwardedProps:S,className:dt(w.root,a),ownerState:m}),[B,T]=as("transition",{elementType:vIe,externalForwardedProps:S,ownerState:m});return y.jsx(B,{in:l,timeout:p,...g,...T,children:y.jsx(x,{"aria-hidden":!0,..._,classes:w,ref:r,children:i})})}),XWe=vr("MuiBox",["root"]),JWe=P_(),ii=A8e({themeId:Ou,defaultTheme:JWe,defaultClassName:XWe.root,generateClassName:HEe.generate});function ZWe(t){return Cr("MuiButton",t)}const cf=vr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),e9e=I.createContext({}),t9e=I.createContext(void 0),r9e=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:a,loading:o,loadingPosition:s,classes:l}=t,u={root:["root",o&&"loading",a,`${a}${Gt(e)}`,`size${Gt(i)}`,`${a}Size${Gt(i)}`,`color${Gt(e)}`,r&&"disableElevation",n&&"fullWidth",o&&`loadingPosition${Gt(s)}`],startIcon:["icon","startIcon",`iconSize${Gt(i)}`],endIcon:["icon","endIcon",`iconSize${Gt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=_r(u,ZWe,l);return{...l,...c}},wIe=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],n9e=It(zH,{shouldForwardProp:t=>il(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${Gt(r.color)}`],e[`size${Gt(r.size)}`],e[`${r.variant}Size${Gt(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth,r.loading&&e.loading]}})(on(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],r=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${cf.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${cf.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${cf.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${cf.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(tA()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:Ei(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ei(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ei(t.palette[n].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ei(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ei(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cf.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${cf.loading}`]:{color:"transparent"}}}]}})),i9e=It("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,r.loading&&e.startIconLoadingStart,e[`iconSize${Gt(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...wIe]})),a9e=It("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,r.loading&&e.endIconLoadingEnd,e[`iconSize${Gt(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...wIe]})),o9e=It("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),FW=It("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Tl=I.forwardRef(function(e,r){const n=I.useContext(e9e),i=I.useContext(t9e),a=ng(n,e),o=Pr({props:a,name:"MuiButton"}),{children:s,color:l="primary",component:u="button",className:c,disabled:A=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:m=!1,id:w,loading:b=null,loadingIndicator:C,loadingPosition:S="center",size:x="medium",startIcon:_,type:B,variant:T="text",...R}=o,P=DH(w),M=C??y.jsx(CWe,{"aria-labelledby":P,color:"inherit",size:16}),U={...o,color:l,component:u,disabled:A,disableElevation:d,disableFocusRipple:f,fullWidth:m,loading:b,loadingIndicator:M,loadingPosition:S,size:x,type:B,variant:T},F=r9e(U),j=(_||b&&S==="start")&&y.jsx(i9e,{className:F.startIcon,ownerState:U,children:_||y.jsx(FW,{className:F.loadingIconPlaceholder,ownerState:U})}),L=(p||b&&S==="end")&&y.jsx(a9e,{className:F.endIcon,ownerState:U,children:p||y.jsx(FW,{className:F.loadingIconPlaceholder,ownerState:U})}),$=i||"",Q=typeof b=="boolean"?y.jsx("span",{className:F.loadingWrapper,style:{display:"contents"},children:b&&y.jsx(o9e,{className:F.loadingIndicator,ownerState:U,children:M})}):null;return y.jsxs(n9e,{ownerState:U,className:dt(n.className,F.root,c,$),component:u,disabled:A||b,focusRipple:!f,focusVisibleClassName:dt(F.focusVisible,g),ref:r,type:B,id:P,...R,classes:F,children:[j,S!=="end"&&Q,s,S==="end"&&Q,L]})});function s9e(t){return Cr("MuiCard",t)}vr("MuiCard",["root"]);const l9e=t=>{const{classes:e}=t;return _r({root:["root"]},s9e,e)},u9e=It(Vs,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),Gw=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiCard"}),{className:i,raised:a=!1,...o}=n,s={...n,raised:a},l=l9e(s);return y.jsx(u9e,{className:dt(l.root,i),elevation:a?8:void 0,ref:r,ownerState:s,...o})});function c9e(t){return Cr("MuiCardContent",t)}vr("MuiCardContent",["root"]);const A9e=t=>{const{classes:e}=t;return _r({root:["root"]},c9e,e)},d9e=It("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),Vw=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiCardContent"}),{className:i,component:a="div",...o}=n,s={...n,component:a},l=A9e(s);return y.jsx(d9e,{as:a,className:dt(l.root,i),ownerState:s,ref:r,...o})}),Hg=aze({createStyledComponent:It("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`maxWidth${Gt(String(r.maxWidth))}`],r.fixed&&e.fixed,r.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Pr({props:t,name:"MuiContainer"})});function f9e(t){const e=jl(t);return e.body===t?Wc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function uy(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function kW(t){return parseInt(Wc(t).getComputedStyle(t).paddingRight,10)||0}function h9e(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function UW(t,e,r,n,i){const a=[e,r,...n];[].forEach.call(t.children,o=>{const s=!a.includes(o),l=!h9e(o);s&&l&&uy(o,i)})}function sT(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function p9e(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(f9e(n)){const o=JEe(Wc(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${kW(n)+o}px`;const s=jl(n).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${kW(l)+o}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=jl(n).body;else{const o=n.parentElement,s=Wc(n);a=(o==null?void 0:o.nodeName)==="HTML"&&s.getComputedStyle(o).overflowY==="scroll"?o:n}r.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{r.forEach(({value:a,el:o,property:s})=>{a?o.style.setProperty(s,a):o.style.removeProperty(s)})}}function g9e(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class m9e{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&uy(e.modalRef,!1);const i=g9e(r);UW(r,e.mount,e.modalRef,i,!0);const a=sT(this.containers,o=>o.container===r);return a!==-1?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=sT(this.containers,a=>a.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=p9e(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=sT(this.containers,o=>o.modals.includes(e)),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&uy(e.modalRef,r),UW(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&uy(o.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const v9e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function y9e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function w9e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function b9e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||w9e(t))}function S9e(t){const e=[],r=[];return Array.from(t.querySelectorAll(v9e)).forEach((n,i)=>{const a=y9e(n);a===-1||!b9e(n)||(a===0?e.push(n):r.push({documentOrder:i,tabIndex:a,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function x9e(){return!0}function C9e(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:a=S9e,isEnabled:o=x9e,open:s}=t,l=I.useRef(!1),u=I.useRef(null),c=I.useRef(null),A=I.useRef(null),d=I.useRef(null),f=I.useRef(!1),p=I.useRef(null),g=Zi(Ww(e),p),m=I.useRef(null);I.useEffect(()=>{!s||!p.current||(f.current=!r)},[r,s]),I.useEffect(()=>{if(!s||!p.current)return;const C=jl(p.current);return p.current.contains(C.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(A.current&&A.current.focus&&(l.current=!0,A.current.focus()),A.current=null)}},[s]),I.useEffect(()=>{if(!s||!p.current)return;const C=jl(p.current),S=B=>{m.current=B,!(n||!o()||B.key!=="Tab")&&C.activeElement===p.current&&B.shiftKey&&(l.current=!0,c.current&&c.current.focus())},x=()=>{var R,P;const B=p.current;if(B===null)return;if(!C.hasFocus()||!o()||l.current){l.current=!1;return}if(B.contains(C.activeElement)||n&&C.activeElement!==u.current&&C.activeElement!==c.current)return;if(C.activeElement!==d.current)d.current=null;else if(d.current!==null)return;if(!f.current)return;let T=[];if((C.activeElement===u.current||C.activeElement===c.current)&&(T=a(p.current)),T.length>0){const M=!!((R=m.current)!=null&&R.shiftKey&&((P=m.current)==null?void 0:P.key)==="Tab"),U=T[0],F=T[T.length-1];typeof U!="string"&&typeof F!="string"&&(M?F.focus():U.focus())}else B.focus()};C.addEventListener("focusin",x),C.addEventListener("keydown",S,!0);const _=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&x()},50);return()=>{clearInterval(_),C.removeEventListener("focusin",x),C.removeEventListener("keydown",S,!0)}},[r,n,i,o,s,a]);const w=C=>{A.current===null&&(A.current=C.relatedTarget),f.current=!0,d.current=C.target;const S=e.props.onFocus;S&&S(C)},b=C=>{A.current===null&&(A.current=C.relatedTarget),f.current=!0};return y.jsxs(I.Fragment,{children:[y.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:u,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:g,onFocus:w}),y.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:c,"data-testid":"sentinelEnd"})]})}function _9e(t){return typeof t=="function"?t():t}function E9e(t){return t?t.props.hasOwnProperty("in"):!1}const DW=()=>{},t0=new m9e;function I9e(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:o,children:s,onClose:l,open:u,rootRef:c}=t,A=I.useRef({}),d=I.useRef(null),f=I.useRef(null),p=Zi(f,c),[g,m]=I.useState(!u),w=E9e(s);let b=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(b=!1);const C=()=>jl(d.current),S=()=>(A.current.modalRef=f.current,A.current.mount=d.current,A.current),x=()=>{t0.mount(S(),{disableScrollLock:n}),f.current&&(f.current.scrollTop=0)},_=qp(()=>{const L=_9e(e)||C().body;t0.add(S(),L),f.current&&x()}),B=()=>t0.isTopModal(S()),T=qp(L=>{d.current=L,L&&(u&&B()?x():f.current&&uy(f.current,b))}),R=I.useCallback(()=>{t0.remove(S(),b)},[b]);I.useEffect(()=>()=>{R()},[R]),I.useEffect(()=>{u?_():(!w||!i)&&R()},[u,R,w,i,_]);const P=L=>$=>{var Q;(Q=L.onKeyDown)==null||Q.call(L,$),!($.key!=="Escape"||$.which===229||!B())&&(r||($.stopPropagation(),l&&l($,"escapeKeyDown")))},M=L=>$=>{var Q;(Q=L.onClick)==null||Q.call(L,$),$.target===$.currentTarget&&l&&l($,"backdropClick")};return{getRootProps:(L={})=>{const $=eIe(t);delete $.onTransitionEnter,delete $.onTransitionExited;const Q={...$,...L};return{role:"presentation",...Q,onKeyDown:P(Q),ref:p}},getBackdropProps:(L={})=>{const $=L;return{"aria-hidden":!0,...$,onClick:M($),open:u}},getTransitionProps:()=>{const L=()=>{m(!1),a&&a()},$=()=>{m(!0),o&&o(),i&&R()};return{onEnter:sW(L,(s==null?void 0:s.props.onEnter)??DW),onExited:sW($,(s==null?void 0:s.props.onExited)??DW)}},rootRef:p,portalRef:T,isTopModal:B,exited:g,hasTransition:w}}function B9e(t){return Cr("MuiModal",t)}vr("MuiModal",["root","hidden","backdrop"]);const P9e=t=>{const{open:e,exited:r,classes:n}=t;return _r({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},B9e,n)},T9e=It("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(on(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),O9e=It(yIe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),bIe=I.forwardRef(function(e,r){const n=Pr({name:"MuiModal",props:e}),{BackdropComponent:i=O9e,BackdropProps:a,classes:o,className:s,closeAfterTransition:l=!1,children:u,container:c,component:A,components:d={},componentsProps:f={},disableAutoFocus:p=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:m=!1,disablePortal:w=!1,disableRestoreFocus:b=!1,disableScrollLock:C=!1,hideBackdrop:S=!1,keepMounted:x=!1,onBackdropClick:_,onClose:B,onTransitionEnter:T,onTransitionExited:R,open:P,slotProps:M={},slots:U={},theme:F,...j}=n,L={...n,closeAfterTransition:l,disableAutoFocus:p,disableEnforceFocus:g,disableEscapeKeyDown:m,disablePortal:w,disableRestoreFocus:b,disableScrollLock:C,hideBackdrop:S,keepMounted:x},{getRootProps:$,getBackdropProps:Q,getTransitionProps:H,portalRef:q,isTopModal:Y,exited:z,hasTransition:V}=I9e({...L,rootRef:r}),X={...L,exited:z},ee=P9e(X),J={};if(u.props.tabIndex===void 0&&(J.tabIndex="-1"),V){const{onEnter:ae,onExited:Ee}=H();J.onEnter=ae,J.onExited=Ee}const le={...j,slots:{root:d.Root,backdrop:d.Backdrop,...U},slotProps:{...f,...M}},[de,oe]=as("root",{elementType:T9e,externalForwardedProps:le,getSlotProps:$,additionalProps:{ref:r,as:A},ownerState:X,className:dt(s,ee==null?void 0:ee.root,!X.open&&X.exited&&(ee==null?void 0:ee.hidden))}),[re,se]=as("backdrop",{elementType:i,externalForwardedProps:le,additionalProps:a,getSlotProps:ae=>Q({...ae,onClick:Ee=>{_&&_(Ee),ae!=null&&ae.onClick&&ae.onClick(Ee)}}),className:dt(a==null?void 0:a.className,ee==null?void 0:ee.backdrop),ownerState:X}),he=Zi(a==null?void 0:a.ref,se.ref);return!x&&!P&&(!V||z)?null:y.jsx(kWe,{ref:q,container:c,disablePortal:w,children:y.jsxs(de,{...oe,children:[!S&&i?y.jsx(re,{...se,ref:he}):null,y.jsx(C9e,{disableEnforceFocus:g,disableAutoFocus:p,disableRestoreFocus:b,isEnabled:Y,open:P,children:I.cloneElement(u,J)})]})})});function R9e(t){return Cr("MuiDivider",t)}const jW=vr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),M9e=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:a,orientation:o,textAlign:s,variant:l}=t;return _r({root:["root",e&&"absolute",l,a&&"light",o==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&o==="vertical"&&"withChildrenVertical",s==="right"&&o!=="vertical"&&"textAlignRight",s==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},R9e,n)},F9e=It("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(on(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Ei(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),k9e=It("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(on(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),ky=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiDivider"}),{absolute:i=!1,children:a,className:o,orientation:s="horizontal",component:l=a||s==="vertical"?"div":"hr",flexItem:u=!1,light:c=!1,role:A=l!=="hr"?"separator":void 0,textAlign:d="center",variant:f="fullWidth",...p}=n,g={...n,absolute:i,component:l,flexItem:u,light:c,orientation:s,role:A,textAlign:d,variant:f},m=M9e(g);return y.jsx(F9e,{as:l,className:dt(m.root,o),role:A,ref:r,ownerState:g,"aria-orientation":A==="separator"&&(l!=="hr"||s==="vertical")?s:void 0,...p,children:a?y.jsx(k9e,{className:m.wrapper,ownerState:g,children:a}):null})});ky&&(ky.muiSkipListHighlight=!0);const U9e=t=>{const{classes:e,disableUnderline:r,startAdornment:n,endAdornment:i,size:a,hiddenLabel:o,multiline:s}=t,l={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",a==="small"&&`size${Gt(a)}`,o&&"hiddenLabel",s&&"multiline"],input:["input"]},u=_r(l,KWe,e);return{...e,...u}},D9e=It(R_,{shouldForwardProp:t=>il(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...T_(t,e),!r.disableUnderline&&e.underline]}})(on(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${uf.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${uf.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${uf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${uf.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${uf.disabled}, .${uf.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${uf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(tA()).map(([o])=>{var s;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(s=(t.vars||t).palette[o])==null?void 0:s.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:s})=>o.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),j9e=It(M_,{name:"MuiFilledInput",slot:"Input",overridesResolver:O_})(on(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),VH=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:a={},componentsProps:o,fullWidth:s=!1,hiddenLabel:l,inputComponent:u="input",multiline:c=!1,slotProps:A,slots:d={},type:f="text",...p}=n,g={...n,disableUnderline:i,fullWidth:s,inputComponent:u,multiline:c,type:f},m=U9e(n),w={root:{ownerState:g},input:{ownerState:g}},b=A??o?za(w,A??o):w,C=d.root??a.Root??D9e,S=d.input??a.Input??j9e;return y.jsx(GH,{slots:{root:C,input:S},slotProps:b,fullWidth:s,inputComponent:u,multiline:c,ref:r,type:f,...p,classes:m})});VH.muiName="Input";function L9e(t){return Cr("MuiFormControl",t)}vr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const N9e=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${Gt(r)}`,n&&"fullWidth"]};return _r(i,L9e,e)},$9e=It("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`margin${Gt(r.margin)}`],r.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Q9e=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiFormControl"}),{children:i,className:a,color:o="primary",component:s="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:A=!1,hiddenLabel:d=!1,margin:f="none",required:p=!1,size:g="medium",variant:m="outlined",...w}=n,b={...n,color:o,component:s,disabled:l,error:u,fullWidth:A,hiddenLabel:d,margin:f,required:p,size:g,variant:m},C=N9e(b),[S,x]=I.useState(()=>{let L=!1;return i&&I.Children.forEach(i,$=>{if(!Ix($,["Input","Select"]))return;const Q=Ix($,["Select"])?$.props.input:$;Q&&NWe(Q.props)&&(L=!0)}),L}),[_,B]=I.useState(()=>{let L=!1;return i&&I.Children.forEach(i,$=>{Ix($,["Input","Select"])&&(S1($.props,!0)||S1($.props.inputProps,!0))&&(L=!0)}),L}),[T,R]=I.useState(!1);l&&T&&R(!1);const P=c!==void 0&&!l?c:T;let M;I.useRef(!1);const U=I.useCallback(()=>{B(!0)},[]),F=I.useCallback(()=>{B(!1)},[]),j=I.useMemo(()=>({adornedStart:S,setAdornedStart:x,color:o,disabled:l,error:u,filled:_,focused:P,fullWidth:A,hiddenLabel:d,size:g,onBlur:()=>{R(!1)},onFocus:()=>{R(!0)},onEmpty:F,onFilled:U,registerEffect:M,required:p,variant:m}),[S,o,l,u,_,P,A,d,M,F,U,p,g,m]);return y.jsx(WH.Provider,{value:j,children:y.jsx($9e,{as:s,ownerState:b,className:dt(C.root,a),ref:r,...w,children:i})})});function H9e(t){return Cr("MuiFormHelperText",t)}const LW=vr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var NW;const q9e=t=>{const{classes:e,contained:r,size:n,disabled:i,error:a,filled:o,focused:s,required:l}=t,u={root:["root",i&&"disabled",a&&"error",n&&`size${Gt(n)}`,r&&"contained",s&&"focused",o&&"filled",l&&"required"]};return _r(u,H9e,e)},K9e=It("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${Gt(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(on(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${LW.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${LW.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),z9e=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiFormHelperText"}),{children:i,className:a,component:o="p",disabled:s,error:l,filled:u,focused:c,margin:A,required:d,variant:f,...p}=n,g=Qg(),m=$g({props:n,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),w={...n,component:o,contained:m.variant==="filled"||m.variant==="outlined",variant:m.variant,size:m.size,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required};delete w.ownerState;const b=q9e(w);return y.jsx(K9e,{as:o,className:dt(b.root,a),ref:r,...p,ownerState:w,children:i===" "?NW||(NW=y.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function W9e(t){return Cr("MuiFormLabel",t)}const cy=vr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),G9e=t=>{const{classes:e,color:r,focused:n,disabled:i,error:a,filled:o,required:s}=t,l={root:["root",`color${Gt(r)}`,i&&"disabled",a&&"error",o&&"filled",n&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return _r(l,W9e,e)},V9e=It("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled]}})(on(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(tA()).map(([e])=>({props:{color:e},style:{[`&.${cy.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${cy.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${cy.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Y9e=It("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(on(({theme:t})=>({[`&.${cy.error}`]:{color:(t.vars||t).palette.error.main}}))),X9e=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiFormLabel"}),{children:i,className:a,color:o,component:s="label",disabled:l,error:u,filled:c,focused:A,required:d,...f}=n,p=Qg(),g=$g({props:n,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),m={...n,color:g.color||"primary",component:s,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required},w=G9e(m);return y.jsxs(V9e,{as:s,ownerState:m,className:dt(w.root,a),ref:r,...f,children:[i,g.required&&y.jsxs(Y9e,{ownerState:m,"aria-hidden":!0,className:w.asterisk,children:["","*"]})]})}),$W=I.createContext();function J9e(t){return Cr("MuiGrid",t)}const Z9e=[0,1,2,3,4,5,6,7,8,9,10],eGe=["column-reverse","column","row-reverse","row"],tGe=["nowrap","wrap-reverse","wrap"],ov=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Uy=vr("MuiGrid",["root","container","item","zeroMinWidth",...Z9e.map(t=>`spacing-xs-${t}`),...eGe.map(t=>`direction-xs-${t}`),...tGe.map(t=>`wrap-xs-${t}`),...ov.map(t=>`grid-xs-${t}`),...ov.map(t=>`grid-sm-${t}`),...ov.map(t=>`grid-md-${t}`),...ov.map(t=>`grid-lg-${t}`),...ov.map(t=>`grid-xl-${t}`)]);function rGe({theme:t,ownerState:e}){let r;return t.breakpoints.keys.reduce((n,i)=>{let a={};if(e[i]&&(r=e[i]),!r)return n;if(r===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=y_({values:e.columns,breakpoints:t.breakpoints.values}),s=typeof o=="object"?o[i]:o;if(s==null)return n;const l=`${Math.round(r/s*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const c=t.spacing(e.columnSpacing);if(c!=="0px"){const A=`calc(${l} + ${c})`;u={flexBasis:A,maxWidth:A}}}a={flexBasis:l,flexGrow:0,maxWidth:l,...u}}return t.breakpoints.values[i]===0?Object.assign(n,a):n[t.breakpoints.up(i)]=a,n},{})}function nGe({theme:t,ownerState:e}){const r=y_({values:e.direction,breakpoints:t.breakpoints.values});return Zs({theme:t},r,n=>{const i={flexDirection:n};return n.startsWith("column")&&(i[`& > .${Uy.item}`]={maxWidth:"none"}),i})}function SIe({breakpoints:t,values:e}){let r="";Object.keys(e).forEach(i=>{r===""&&e[i]!==0&&(r=i)});const n=Object.keys(t).sort((i,a)=>t[i]-t[a]);return n.slice(0,n.indexOf(r))}function iGe({theme:t,ownerState:e}){const{container:r,rowSpacing:n}=e;let i={};if(r&&n!==0){const a=y_({values:n,breakpoints:t.breakpoints.values});let o;typeof a=="object"&&(o=SIe({breakpoints:t.breakpoints.values,values:a})),i=Zs({theme:t},a,(s,l)=>{const u=t.spacing(s);return u!=="0px"?{marginTop:`calc(-1 * ${u})`,[`& > .${Uy.item}`]:{paddingTop:u}}:o!=null&&o.includes(l)?{}:{marginTop:0,[`& > .${Uy.item}`]:{paddingTop:0}}})}return i}function aGe({theme:t,ownerState:e}){const{container:r,columnSpacing:n}=e;let i={};if(r&&n!==0){const a=y_({values:n,breakpoints:t.breakpoints.values});let o;typeof a=="object"&&(o=SIe({breakpoints:t.breakpoints.values,values:a})),i=Zs({theme:t},a,(s,l)=>{const u=t.spacing(s);if(u!=="0px"){const c=`calc(-1 * ${u})`;return{width:`calc(100% + ${u})`,marginLeft:c,[`& > .${Uy.item}`]:{paddingLeft:u}}}return o!=null&&o.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Uy.item}`]:{paddingLeft:0}}})}return i}function oGe(t,e,r={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[r[`spacing-xs-${String(t)}`]];const n=[];return e.forEach(i=>{const a=t[i];Number(a)>0&&n.push(r[`spacing-${i}-${String(a)}`])}),n}const sGe=It("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{container:n,direction:i,item:a,spacing:o,wrap:s,zeroMinWidth:l,breakpoints:u}=r;let c=[];n&&(c=oGe(o,u,e));const A=[];return u.forEach(d=>{const f=r[d];f&&A.push(e[`grid-${d}-${String(f)}`])}),[e.root,n&&e.container,a&&e.item,l&&e.zeroMinWidth,...c,i!=="row"&&e[`direction-xs-${String(i)}`],s!=="wrap"&&e[`wrap-xs-${String(s)}`],...A]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),nGe,iGe,aGe,rGe);function lGe(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const r=[];return e.forEach(n=>{const i=t[n];if(Number(i)>0){const a=`spacing-${n}-${String(i)}`;r.push(a)}}),r}const uGe=t=>{const{classes:e,container:r,direction:n,item:i,spacing:a,wrap:o,zeroMinWidth:s,breakpoints:l}=t;let u=[];r&&(u=lGe(a,l));const c=[];l.forEach(d=>{const f=t[d];f&&c.push(`grid-${d}-${String(f)}`)});const A={root:["root",r&&"container",i&&"item",s&&"zeroMinWidth",...u,n!=="row"&&`direction-xs-${String(n)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...c]};return _r(A,J9e,e)},Zt=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiGrid"}),{breakpoints:i}=Ng(),a=MH(n),{className:o,columns:s,columnSpacing:l,component:u="div",container:c=!1,direction:A="row",item:d=!1,rowSpacing:f,spacing:p=0,wrap:g="wrap",zeroMinWidth:m=!1,...w}=a,b=f||p,C=l||p,S=I.useContext($W),x=c?s||12:S,_={},B={...w};i.keys.forEach(P=>{w[P]!=null&&(_[P]=w[P],delete B[P])});const T={...a,columns:x,container:c,direction:A,item:d,rowSpacing:b,columnSpacing:C,wrap:g,zeroMinWidth:m,spacing:p,..._,breakpoints:i.keys},R=uGe(T);return y.jsx($W.Provider,{value:x,children:y.jsx(sGe,{ownerState:T,className:dt(R.root,o),as:u,ref:r,...B})})});function f$(t){return`scale(${t}, ${t**2})`}const cGe={entering:{opacity:1,transform:f$(1)},entered:{opacity:1,transform:"none"}},lT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),h$=I.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:a,easing:o,in:s,onEnter:l,onEntered:u,onEntering:c,onExit:A,onExited:d,onExiting:f,style:p,timeout:g="auto",TransitionComponent:m=Wu,...w}=e,b=XEe(),C=I.useRef(),S=Ng(),x=I.useRef(null),_=Zi(x,Ww(a),r),B=L=>$=>{if(L){const Q=x.current;$===void 0?L(Q):L(Q,$)}},T=B(c),R=B((L,$)=>{mIe(L);const{duration:Q,delay:H,easing:q}=w1({style:p,timeout:g,easing:o},{mode:"enter"});let Y;g==="auto"?(Y=S.transitions.getAutoHeightDuration(L.clientHeight),C.current=Y):Y=Q,L.style.transition=[S.transitions.create("opacity",{duration:Y,delay:H}),S.transitions.create("transform",{duration:lT?Y:Y*.666,delay:H,easing:q})].join(","),l&&l(L,$)}),P=B(u),M=B(f),U=B(L=>{const{duration:$,delay:Q,easing:H}=w1({style:p,timeout:g,easing:o},{mode:"exit"});let q;g==="auto"?(q=S.transitions.getAutoHeightDuration(L.clientHeight),C.current=q):q=$,L.style.transition=[S.transitions.create("opacity",{duration:q,delay:Q}),S.transitions.create("transform",{duration:lT?q:q*.666,delay:lT?Q:Q||q*.333,easing:H})].join(","),L.style.opacity=0,L.style.transform=f$(.75),A&&A(L)}),F=B(d),j=L=>{g==="auto"&&b.start(C.current||0,L),n&&n(x.current,L)};return y.jsx(m,{appear:i,in:s,nodeRef:x,onEnter:R,onEntered:P,onEntering:T,onExit:U,onExited:F,onExiting:M,addEndListener:j,timeout:g==="auto"?null:g,...w,children:(L,{ownerState:$,...Q})=>I.cloneElement(a,{style:{opacity:0,transform:f$(.75),visibility:L==="exited"&&!s?"hidden":void 0,...cGe[L],...p,...a.props.style},ref:_,...Q})})});h$&&(h$.muiSupportAuto=!0);const AGe=t=>{const{classes:e,disableUnderline:r}=t,i=_r({root:["root",!r&&"underline"],input:["input"]},HWe,e);return{...e,...i}},dGe=It(R_,{shouldForwardProp:t=>il(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...T_(t,e),!r.disableUnderline&&e.underline]}})(on(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${av.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${av.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${av.disabled}, .${av.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${av.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(tA()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}))]}})),fGe=It(M_,{name:"MuiInput",slot:"Input",overridesResolver:O_})({}),YH=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:a={},componentsProps:o,fullWidth:s=!1,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:A={},type:d="text",...f}=n,p=AGe(n),m={root:{ownerState:{disableUnderline:i}}},w=c??o?za(c??o,m):m,b=A.root??a.Root??dGe,C=A.input??a.Input??fGe;return y.jsx(GH,{slots:{root:b,input:C},slotProps:w,fullWidth:s,inputComponent:l,multiline:u,ref:r,type:d,...f,classes:p})});YH.muiName="Input";function hGe(t){return Cr("MuiInputLabel",t)}vr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const pGe=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:a,variant:o,required:s}=t,l={root:["root",r&&"formControl",!a&&"animated",i&&"shrink",n&&n!=="normal"&&`size${Gt(n)}`,o],asterisk:[s&&"asterisk"]},u=_r(l,hGe,e);return{...e,...u}},gGe=It(X9e,{shouldForwardProp:t=>il(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${cy.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(on(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:r,size:n})=>e==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),mGe=I.forwardRef(function(e,r){const n=Pr({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:a,shrink:o,variant:s,className:l,...u}=n,c=Qg();let A=o;typeof A>"u"&&c&&(A=c.filled||c.focused||c.adornedStart);const d=$g({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),f={...n,disableAnimation:i,formControl:c,shrink:A,size:d.size,variant:d.variant,required:d.required,focused:d.focused},p=pGe(f);return y.jsx(gGe,{"data-shrink":A,ref:r,className:dt(p.root,l),...u,ownerState:f,classes:p})}),ZA=I.createContext({});function vGe(t){return Cr("MuiList",t)}vr("MuiList",["root","padding","dense","subheader"]);const yGe=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return _r({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},vGe,e)},wGe=It("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),x1=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiList"}),{children:i,className:a,component:o="ul",dense:s=!1,disablePadding:l=!1,subheader:u,...c}=n,A=I.useMemo(()=>({dense:s}),[s]),d={...n,component:o,dense:s,disablePadding:l},f=yGe(d);return y.jsx(ZA.Provider,{value:A,children:y.jsxs(wGe,{as:o,className:dt(f.root,a),ref:r,ownerState:d,...c,children:[u,i]})})});function bGe(t){return Cr("MuiListItem",t)}vr("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const SGe=vr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function xGe(t){return Cr("MuiListItemSecondaryAction",t)}vr("MuiListItemSecondaryAction",["root","disableGutters"]);const CGe=t=>{const{disableGutters:e,classes:r}=t;return _r({root:["root",e&&"disableGutters"]},xGe,r)},_Ge=It("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),xIe=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...a}=n,o=I.useContext(ZA),s={...n,disableGutters:o.disableGutters},l=CGe(s);return y.jsx(_Ge,{className:dt(l.root,i),ownerState:s,ref:r,...a})});xIe.muiName="ListItemSecondaryAction";const EGe=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.hasSecondaryAction&&e.secondaryAction]},IGe=t=>{const{alignItems:e,classes:r,dense:n,disableGutters:i,disablePadding:a,divider:o,hasSecondaryAction:s}=t;return _r({root:["root",n&&"dense",!i&&"gutters",!a&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"]},bGe,r)},BGe=It("div",{name:"MuiListItem",slot:"Root",overridesResolver:EGe})(on(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${SGe.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),PGe=It("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),xp=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiListItem"}),{alignItems:i="center",children:a,className:o,component:s,components:l={},componentsProps:u={},ContainerComponent:c="li",ContainerProps:{className:A,...d}={},dense:f=!1,disableGutters:p=!1,disablePadding:g=!1,divider:m=!1,secondaryAction:w,slotProps:b={},slots:C={},...S}=n,x=I.useContext(ZA),_=I.useMemo(()=>({dense:f||x.dense||!1,alignItems:i,disableGutters:p}),[i,x.dense,f,p]),B=I.useRef(null),T=I.Children.toArray(a),R=T.length&&Ix(T[T.length-1],["ListItemSecondaryAction"]),P={...n,alignItems:i,dense:_.dense,disableGutters:p,disablePadding:g,divider:m,hasSecondaryAction:R},M=IGe(P),U=Zi(B,r),F=C.root||l.Root||BGe,j=b.root||u.root||{},L={className:dt(M.root,j.className,o),...S};let $=s||"li";return R?($=!L.component&&!s?"div":$,c==="li"&&($==="li"?$="div":L.component==="li"&&(L.component="div")),y.jsx(ZA.Provider,{value:_,children:y.jsxs(PGe,{as:c,className:dt(M.container,A),ref:U,ownerState:P,...d,children:[y.jsx(F,{...j,...!Fy(F)&&{as:$,ownerState:{...P,...j.ownerState}},...L,children:T}),T.pop()]})})):y.jsx(ZA.Provider,{value:_,children:y.jsxs(F,{...j,as:$,ref:U,...!Fy(F)&&{ownerState:{...P,...j.ownerState}},...L,children:[T,w&&y.jsx(xIe,{children:w})]})})}),QW=vr("MuiListItemIcon",["root","alignItemsFlexStart"]);function TGe(t){return Cr("MuiListItemText",t)}const Op=vr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),OGe=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:a}=t;return _r({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},TGe,e)},RGe=It("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Op.primary}`]:e.primary},{[`& .${Op.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${BW.root}:where(& .${Op.primary})`]:{display:"block"},[`.${BW.root}:where(& .${Op.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Cp=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:A,slots:d={},slotProps:f={},...p}=n,{dense:g}=I.useContext(ZA);let m=l??i,w=c;const b={...n,disableTypography:o,inset:s,primary:!!m,secondary:!!w,dense:g},C=OGe(b),S={slots:d,slotProps:{primary:u,secondary:A,...f}},[x,_]=as("primary",{className:C.primary,elementType:er,externalForwardedProps:S,ownerState:b}),[B,T]=as("secondary",{className:C.secondary,elementType:er,externalForwardedProps:S,ownerState:b});return m!=null&&m.type!==er&&!o&&(m=y.jsx(x,{variant:g?"body2":"body1",component:_!=null&&_.variant?void 0:"span",..._,children:m})),w!=null&&w.type!==er&&!o&&(w=y.jsx(B,{variant:"body2",color:"textSecondary",...T,children:w})),y.jsxs(RGe,{className:dt(C.root,a),ownerState:b,ref:r,...p,children:[m,w]})});function uT(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function HW(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function CIe(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.startsWith(e.keys.join(""))}function sv(t,e,r,n,i,a){let o=!1,s=i(t,e,e?r:!1);for(;s;){if(s===t.firstChild){if(o)return!1;o=!0}const l=n?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!CIe(s,a)||l)s=i(t,s,r);else return s.focus(),!0}return!1}const MGe=I.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:a=!1,children:o,className:s,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:A="selectedMenu",...d}=e,f=I.useRef(null),p=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});zc(()=>{i&&f.current.focus()},[i]),I.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(C,{direction:S})=>{const x=!f.current.style.width;if(C.clientHeight<f.current.clientHeight&&x){const _=`${JEe(Wc(C))}px`;f.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=_,f.current.style.width=`calc(100% + ${_})`}return f.current}}),[]);const g=C=>{const S=f.current,x=C.key;if(C.ctrlKey||C.metaKey||C.altKey){c&&c(C);return}const B=jl(S).activeElement;if(x==="ArrowDown")C.preventDefault(),sv(S,B,u,l,uT);else if(x==="ArrowUp")C.preventDefault(),sv(S,B,u,l,HW);else if(x==="Home")C.preventDefault(),sv(S,null,u,l,uT);else if(x==="End")C.preventDefault(),sv(S,null,u,l,HW);else if(x.length===1){const T=p.current,R=x.toLowerCase(),P=performance.now();T.keys.length>0&&(P-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&R!==T.keys[0]&&(T.repeating=!1)),T.lastTime=P,T.keys.push(R);const M=B&&!T.repeating&&CIe(B,T);T.previousKeyMatched&&(M||sv(S,B,!1,l,uT,T))?C.preventDefault():T.previousKeyMatched=!1}c&&c(C)},m=Zi(f,r);let w=-1;I.Children.forEach(o,(C,S)=>{if(!I.isValidElement(C)){w===S&&(w+=1,w>=o.length&&(w=-1));return}C.props.disabled||(A==="selectedMenu"&&C.props.selected||w===-1)&&(w=S),w===S&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(w+=1,w>=o.length&&(w=-1))});const b=I.Children.map(o,(C,S)=>{if(S===w){const x={};return a&&(x.autoFocus=!0),C.props.tabIndex===void 0&&A==="selectedMenu"&&(x.tabIndex=0),I.cloneElement(C,x)}return C});return y.jsx(x1,{role:"menu",ref:m,className:s,onKeyDown:g,tabIndex:i?0:-1,...d,children:b})});function FGe(t){return Cr("MuiPopover",t)}vr("MuiPopover",["root","paper"]);function qW(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function KW(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function zW(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function cT(t){return typeof t=="function"?t():t}const kGe=t=>{const{classes:e}=t;return _r({root:["root"],paper:["paper"]},FGe,e)},UGe=It(bIe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_Ie=It(Vs,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),DGe=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiPopover"}),{action:i,anchorEl:a,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:l="anchorEl",children:u,className:c,container:A,elevation:d=8,marginThreshold:f=16,open:p,PaperProps:g={},slots:m={},slotProps:w={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:C=h$,transitionDuration:S="auto",TransitionProps:{onEntering:x,..._}={},disableScrollLock:B=!1,...T}=n,R=(w==null?void 0:w.paper)??g,P=I.useRef(),M={...n,anchorOrigin:o,anchorReference:l,elevation:d,marginThreshold:f,externalPaperSlotProps:R,transformOrigin:b,TransitionComponent:C,transitionDuration:S,TransitionProps:_},U=kGe(M),F=I.useCallback(()=>{if(l==="anchorPosition")return s;const se=cT(a),ae=(se&&se.nodeType===1?se:jl(P.current).body).getBoundingClientRect();return{top:ae.top+qW(ae,o.vertical),left:ae.left+KW(ae,o.horizontal)}},[a,o.horizontal,o.vertical,s,l]),j=I.useCallback(se=>({vertical:qW(se,b.vertical),horizontal:KW(se,b.horizontal)}),[b.horizontal,b.vertical]),L=I.useCallback(se=>{const he={width:se.offsetWidth,height:se.offsetHeight},ae=j(he);if(l==="none")return{top:null,left:null,transformOrigin:zW(ae)};const Ee=F();let Oe=Ee.top-ae.vertical,Ne=Ee.left-ae.horizontal;const De=Oe+he.height,Le=Ne+he.width,st=Wc(cT(a)),ut=st.innerHeight-f,it=st.innerWidth-f;if(f!==null&&Oe<f){const Ie=Oe-f;Oe-=Ie,ae.vertical+=Ie}else if(f!==null&&De>ut){const Ie=De-ut;Oe-=Ie,ae.vertical+=Ie}if(f!==null&&Ne<f){const Ie=Ne-f;Ne-=Ie,ae.horizontal+=Ie}else if(Le>it){const Ie=Le-it;Ne-=Ie,ae.horizontal+=Ie}return{top:`${Math.round(Oe)}px`,left:`${Math.round(Ne)}px`,transformOrigin:zW(ae)}},[a,l,F,j,f]),[$,Q]=I.useState(p),H=I.useCallback(()=>{const se=P.current;if(!se)return;const he=L(se);he.top!==null&&se.style.setProperty("top",he.top),he.left!==null&&(se.style.left=he.left),se.style.transformOrigin=he.transformOrigin,Q(!0)},[L]);I.useEffect(()=>(B&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[a,B,H]);const q=(se,he)=>{x&&x(se,he),H()},Y=()=>{Q(!1)};I.useEffect(()=>{p&&H()}),I.useImperativeHandle(i,()=>p?{updatePosition:()=>{H()}}:null,[p,H]),I.useEffect(()=>{if(!p)return;const se=VEe(()=>{H()}),he=Wc(a);return he.addEventListener("resize",se),()=>{se.clear(),he.removeEventListener("resize",se)}},[a,p,H]);let z=S;S==="auto"&&!C.muiSupportAuto&&(z=void 0);const V=A||(a?jl(cT(a)).body:void 0),X={slots:m,slotProps:{...w,paper:R}},[ee,J]=as("paper",{elementType:_Ie,externalForwardedProps:X,additionalProps:{elevation:d,className:dt(U.paper,R==null?void 0:R.className),style:$?R.style:{...R.style,opacity:0}},ownerState:M}),[le,{slotProps:de,...oe}]=as("root",{elementType:UGe,externalForwardedProps:X,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:V,open:p},ownerState:M,className:dt(U.root,c)}),re=Zi(P,J.ref);return y.jsx(le,{...oe,...!Fy(le)&&{slotProps:de,disableScrollLock:B},...T,ref:r,children:y.jsx(C,{appear:!0,in:p,onEntering:q,onExited:Y,timeout:z,..._,children:y.jsx(ee,{...J,ref:re,children:u})})})});function jGe(t){return Cr("MuiMenu",t)}vr("MuiMenu",["root","paper","list"]);const LGe={vertical:"top",horizontal:"right"},NGe={vertical:"top",horizontal:"left"},$Ge=t=>{const{classes:e}=t;return _r({root:["root"],paper:["paper"],list:["list"]},jGe,e)},QGe=It(DGe,{shouldForwardProp:t=>il(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),HGe=It(_Ie,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),qGe=It(MGe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),EIe=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:a,className:o,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:A={},PopoverClasses:d,transitionDuration:f="auto",TransitionProps:{onEntering:p,...g}={},variant:m="selectedMenu",slots:w={},slotProps:b={},...C}=n,S=L8e(),x={...n,autoFocus:i,disableAutoFocusItem:s,MenuListProps:l,onEntering:p,PaperProps:A,transitionDuration:f,TransitionProps:g,variant:m},_=$Ge(x),B=i&&!s&&c,T=I.useRef(null),R=($,Q)=>{T.current&&T.current.adjustStyleForScrollbar($,{direction:S?"rtl":"ltr"}),p&&p($,Q)},P=$=>{$.key==="Tab"&&($.preventDefault(),u&&u($,"tabKeyDown"))};let M=-1;I.Children.map(a,($,Q)=>{I.isValidElement($)&&($.props.disabled||(m==="selectedMenu"&&$.props.selected||M===-1)&&(M=Q))});const U=w.paper??HGe,F=b.paper??A,j=hW({elementType:w.root,externalSlotProps:b.root,ownerState:x,className:[_.root,o]}),L=hW({elementType:U,externalSlotProps:F,ownerState:x,className:_.paper});return y.jsx(QGe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?LGe:NGe,slots:{paper:U,root:w.root},slotProps:{root:j,paper:L},open:c,ref:r,transitionDuration:f,TransitionProps:{onEntering:R,...g},ownerState:x,...C,classes:d,children:y.jsx(qGe,{onKeyDown:P,actions:T,autoFocus:i&&(M===-1||s),autoFocusItem:B,variant:m,...l,className:dt(_.list,l.className),children:a})})});function KGe(t){return Cr("MuiMenuItem",t)}const lv=vr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),zGe=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},WGe=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:a,classes:o}=t,l=_r({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",a&&"selected"]},KGe,o);return{...o,...l}},GGe=It(zH,{shouldForwardProp:t=>il(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:zGe})(on(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${lv.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ei(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${lv.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ei(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${lv.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ei(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ei(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${lv.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${lv.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${jW.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${jW.inset}`]:{marginLeft:52},[`& .${Op.root}`]:{marginTop:0,marginBottom:0},[`& .${Op.inset}`]:{paddingLeft:36},[`& .${QW.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${QW.root} svg`]:{fontSize:"1.25rem"}}}]}))),VGe=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:o=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:A,className:d,...f}=n,p=I.useContext(ZA),g=I.useMemo(()=>({dense:o||p.dense||!1,disableGutters:l}),[p.dense,o,l]),m=I.useRef(null);zc(()=>{i&&m.current&&m.current.focus()},[i]);const w={...n,dense:g.dense,divider:s,disableGutters:l},b=WGe(n),C=Zi(m,r);let S;return n.disabled||(S=A!==void 0?A:-1),y.jsx(ZA.Provider,{value:g,children:y.jsx(GGe,{ref:C,role:c,tabIndex:S,component:a,focusVisibleClassName:dt(b.focusVisible,u),className:dt(b.root,d),...f,ownerState:w,classes:b})})});function YGe(t){return Cr("MuiNativeSelect",t)}const XH=vr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),XGe=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:a,error:o}=t,s={select:["select",r,n&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Gt(r)}`,a&&"iconOpen",n&&"disabled"]};return _r(s,YGe,e)},IIe=It("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${XH.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),JGe=It(IIe,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:il,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${XH.multiple}`]:e.multiple}]}})({}),BIe=It("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${XH.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),ZGe=It(BIe,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Gt(r.variant)}`],r.open&&e.iconOpen]}})({}),e7e=I.forwardRef(function(e,r){const{className:n,disabled:i,error:a,IconComponent:o,inputRef:s,variant:l="standard",...u}=e,c={...e,disabled:i,variant:l,error:a},A=XGe(c);return y.jsxs(I.Fragment,{children:[y.jsx(JGe,{ownerState:c,className:dt(A.select,n),disabled:i,ref:s||r,...u}),e.multiple?null:y.jsx(ZGe,{as:o,ownerState:c,className:A.icon})]})});var WW;const t7e=It("fieldset",{shouldForwardProp:il})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),r7e=It("legend",{shouldForwardProp:il})(on(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function n7e(t){const{children:e,classes:r,className:n,label:i,notched:a,...o}=t,s=i!=null&&i!=="",l={...t,notched:a,withLabel:s};return y.jsx(t7e,{"aria-hidden":!0,className:n,ownerState:l,...o,children:y.jsx(r7e,{ownerState:l,children:s?y.jsx("span",{children:i}):WW||(WW=y.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const i7e=t=>{const{classes:e}=t,n=_r({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},qWe,e);return{...e,...n}},a7e=It(R_,{shouldForwardProp:t=>il(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:T_})(on(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${pu.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${pu.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${pu.focused} .${pu.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(tA()).map(([r])=>({props:{color:r},style:{[`&.${pu.focused} .${pu.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}})),{props:{},style:{[`&.${pu.error} .${pu.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${pu.disabled} .${pu.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),o7e=It(n7e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(on(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),s7e=It(M_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:O_})(on(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),JH=I.forwardRef(function(e,r){var n;const i=Pr({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:o=!1,inputComponent:s="input",label:l,multiline:u=!1,notched:c,slots:A={},type:d="text",...f}=i,p=i7e(i),g=Qg(),m=$g({props:i,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...i,color:m.color||"primary",disabled:m.disabled,error:m.error,focused:m.focused,formControl:g,fullWidth:o,hiddenLabel:m.hiddenLabel,multiline:u,size:m.size,type:d},b=A.root??a.Root??a7e,C=A.input??a.Input??s7e;return y.jsx(GH,{slots:{root:b,input:C},renderSuffix:S=>y.jsx(o7e,{ownerState:w,className:p.notchedOutline,label:l!=null&&l!==""&&m.required?n||(n=y.jsxs(I.Fragment,{children:[l,"","*"]})):l,notched:typeof c<"u"?c:!!(S.startAdornment||S.filled||S.focused)}),fullWidth:o,inputComponent:s,multiline:u,ref:r,type:d,...f,classes:{...p,notchedOutline:null}})});JH.muiName="Input";function PIe(t){return Cr("MuiSelect",t)}const uv=vr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var GW;const l7e=It(IIe,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${uv.select}`]:e.select},{[`&.${uv.select}`]:e[r.variant]},{[`&.${uv.error}`]:e.error},{[`&.${uv.multiple}`]:e.multiple}]}})({[`&.${uv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),u7e=It(BIe,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Gt(r.variant)}`],r.open&&e.iconOpen]}})({}),c7e=It("input",{shouldForwardProp:t=>hIe(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function VW(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function A7e(t){return t==null||typeof t=="string"&&!t.trim()}const d7e=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:a,error:o}=t,s={select:["select",r,n&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Gt(r)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return _r(s,PIe,e)},f7e=I.forwardRef(function(e,r){var qe;const{"aria-describedby":n,"aria-label":i,autoFocus:a,autoWidth:o,children:s,className:l,defaultOpen:u,defaultValue:c,disabled:A,displayEmpty:d,error:f=!1,IconComponent:p,inputRef:g,labelId:m,MenuProps:w={},multiple:b,name:C,onBlur:S,onChange:x,onClose:_,onFocus:B,onOpen:T,open:R,readOnly:P,renderValue:M,required:U,SelectDisplayProps:F={},tabIndex:j,type:L,value:$,variant:Q="standard",...H}=e,[q,Y]=cW({controlled:$,default:c,name:"Select"}),[z,V]=cW({controlled:R,default:u,name:"Select"}),X=I.useRef(null),ee=I.useRef(null),[J,le]=I.useState(null),{current:de}=I.useRef(R!=null),[oe,re]=I.useState(),se=Zi(r,g),he=I.useCallback(pe=>{ee.current=pe,pe&&le(pe)},[]),ae=J==null?void 0:J.parentNode;I.useImperativeHandle(se,()=>({focus:()=>{ee.current.focus()},node:X.current,value:q}),[q]),I.useEffect(()=>{u&&z&&J&&!de&&(re(o?null:ae.clientWidth),ee.current.focus())},[J,o]),I.useEffect(()=>{a&&ee.current.focus()},[a]),I.useEffect(()=>{if(!m)return;const pe=jl(ee.current).getElementById(m);if(pe){const rt=()=>{getSelection().isCollapsed&&ee.current.focus()};return pe.addEventListener("click",rt),()=>{pe.removeEventListener("click",rt)}}},[m]);const Ee=(pe,rt)=>{pe?T&&T(rt):_&&_(rt),de||(re(o?null:ae.clientWidth),V(pe))},Oe=pe=>{pe.button===0&&(pe.preventDefault(),ee.current.focus(),Ee(!0,pe))},Ne=pe=>{Ee(!1,pe)},De=I.Children.toArray(s),Le=pe=>{const rt=De.find(_t=>_t.props.value===pe.target.value);rt!==void 0&&(Y(rt.props.value),x&&x(pe,rt))},st=pe=>rt=>{let _t;if(rt.currentTarget.hasAttribute("tabindex")){if(b){_t=Array.isArray(q)?q.slice():[];const Fe=q.indexOf(pe.props.value);Fe===-1?_t.push(pe.props.value):_t.splice(Fe,1)}else _t=pe.props.value;if(pe.props.onClick&&pe.props.onClick(rt),q!==_t&&(Y(_t),x)){const Fe=rt.nativeEvent||rt,Ge=new Fe.constructor(Fe.type,Fe);Object.defineProperty(Ge,"target",{writable:!0,value:{value:_t,name:C}}),x(Ge,pe)}b||Ee(!1,rt)}},ut=pe=>{P||[" ","ArrowUp","ArrowDown","Enter"].includes(pe.key)&&(pe.preventDefault(),Ee(!0,pe))},it=J!==null&&z,Ie=pe=>{!it&&S&&(Object.defineProperty(pe,"target",{writable:!0,value:{value:q,name:C}}),S(pe))};delete H["aria-invalid"];let be,Be;const tt=[];let ct=!1;(S1({value:q})||d)&&(M?be=M(q):ct=!0);const ot=De.map(pe=>{if(!I.isValidElement(pe))return null;let rt;if(b){if(!Array.isArray(q))throw new Error(Kc(2));rt=q.some(_t=>VW(_t,pe.props.value)),rt&&ct&&tt.push(pe.props.children)}else rt=VW(q,pe.props.value),rt&&ct&&(Be=pe.props.children);return I.cloneElement(pe,{"aria-selected":rt?"true":"false",onClick:st(pe),onKeyUp:_t=>{_t.key===" "&&_t.preventDefault(),pe.props.onKeyUp&&pe.props.onKeyUp(_t)},role:"option",selected:rt,value:void 0,"data-value":pe.props.value})});ct&&(b?tt.length===0?be=null:be=tt.reduce((pe,rt,_t)=>(pe.push(rt),_t<tt.length-1&&pe.push(", "),pe),[]):be=Be);let $e=oe;!o&&de&&J&&($e=ae.clientWidth);let kt;typeof j<"u"?kt=j:kt=A?null:0;const Nt=F.id||(C?`mui-component-select-${C}`:void 0),Z={...e,variant:Q,value:q,open:it,error:f},ie=d7e(Z),me={...w.PaperProps,...(qe=w.slotProps)==null?void 0:qe.paper},Te=DH();return y.jsxs(I.Fragment,{children:[y.jsx(l7e,{as:"div",ref:he,tabIndex:kt,role:"combobox","aria-controls":it?Te:void 0,"aria-disabled":A?"true":void 0,"aria-expanded":it?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,Nt].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":U?"true":void 0,"aria-invalid":f?"true":void 0,onKeyDown:ut,onMouseDown:A||P?null:Oe,onBlur:Ie,onFocus:B,...F,ownerState:Z,className:dt(F.className,ie.select,l),id:Nt,children:A7e(be)?GW||(GW=y.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):be}),y.jsx(c7e,{"aria-invalid":f,value:Array.isArray(q)?q.join(","):q,name:C,ref:X,"aria-hidden":!0,onChange:Le,tabIndex:-1,disabled:A,className:ie.nativeInput,autoFocus:a,required:U,...H,ownerState:Z}),y.jsx(u7e,{as:p,className:ie.icon,ownerState:Z}),y.jsx(EIe,{id:`menu-${C||""}`,anchorEl:ae,open:it,onClose:Ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,MenuListProps:{"aria-labelledby":m,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Te,...w.MenuListProps},slotProps:{...w.slotProps,paper:{...me,style:{minWidth:$e,...me!=null?me.style:null}}},children:ot})]})}),h7e=t=>{const{classes:e}=t,n=_r({root:["root"]},PIe,e);return{...e,...n}},ZH={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>il(t)&&t!=="variant",slot:"Root"},p7e=It(YH,ZH)(""),g7e=It(JH,ZH)(""),m7e=It(VH,ZH)(""),TIe=I.forwardRef(function(e,r){const n=Pr({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:a,classes:o={},className:s,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=zWe,id:A,input:d,inputProps:f,label:p,labelId:g,MenuProps:m,multiple:w=!1,native:b=!1,onClose:C,onOpen:S,open:x,renderValue:_,SelectDisplayProps:B,variant:T="outlined",...R}=n,P=b?e7e:f7e,M=Qg(),U=$g({props:n,muiFormControl:M,states:["variant","error"]}),F=U.variant||T,j={...n,variant:F,classes:o},L=h7e(j),{root:$,...Q}=L,H=d||{standard:y.jsx(p7e,{ownerState:j}),outlined:y.jsx(g7e,{label:p,ownerState:j}),filled:y.jsx(m7e,{ownerState:j})}[F],q=Zi(r,Ww(H));return y.jsx(I.Fragment,{children:I.cloneElement(H,{inputComponent:P,inputProps:{children:a,error:U.error,IconComponent:c,variant:F,type:void 0,multiple:w,...b?{id:A}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:m,onClose:C,onOpen:S,open:x,renderValue:_,SelectDisplayProps:{id:A,...B}},...f,classes:f?za(Q,f.classes):Q,...d?d.props.inputProps:{}},...(w&&b||u)&&F==="outlined"?{notched:!0}:{},ref:q,className:dt(H.props.className,s,L.root),...!d&&{variant:F},...R})})});TIe.muiName="Select";function v7e(t){return Cr("MuiToolbar",t)}vr("MuiToolbar",["root","gutters","regular","dense"]);const y7e=t=>{const{classes:e,disableGutters:r,variant:n}=t;return _r({root:["root",!r&&"gutters",n]},v7e,e)},w7e=It("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(on(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),b7e=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:o=!1,variant:s="regular",...l}=n,u={...n,component:a,disableGutters:o,variant:s},c=y7e(u);return y.jsx(w7e,{as:a,className:dt(c.root,i),ref:r,ownerState:u,...l})});function S7e(t){return Cr("MuiTextField",t)}vr("MuiTextField",["root"]);const x7e={standard:YH,filled:VH,outlined:JH},C7e=t=>{const{classes:e}=t;return _r({root:["root"]},S7e,e)},_7e=It(Q9e,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Nn=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:a=!1,children:o,className:s,color:l="primary",defaultValue:u,disabled:c=!1,error:A=!1,FormHelperTextProps:d,fullWidth:f=!1,helperText:p,id:g,InputLabelProps:m,inputProps:w,InputProps:b,inputRef:C,label:S,maxRows:x,minRows:_,multiline:B=!1,name:T,onBlur:R,onChange:P,onFocus:M,placeholder:U,required:F=!1,rows:j,select:L=!1,SelectProps:$,slots:Q={},slotProps:H={},type:q,value:Y,variant:z="outlined",...V}=n,X={...n,autoFocus:a,color:l,disabled:c,error:A,fullWidth:f,multiline:B,required:F,select:L,variant:z},ee=C7e(X),J=DH(g),le=p&&J?`${J}-helper-text`:void 0,de=S&&J?`${J}-label`:void 0,oe=x7e[z],re={slots:Q,slotProps:{input:b,inputLabel:m,htmlInput:w,formHelperText:d,select:$,...H}},se={},he=re.slotProps.inputLabel;z==="outlined"&&(he&&typeof he.shrink<"u"&&(se.notched=he.shrink),se.label=S),L&&((!$||!$.native)&&(se.id=void 0),se["aria-describedby"]=void 0);const[ae,Ee]=as("input",{elementType:oe,externalForwardedProps:re,additionalProps:se,ownerState:X}),[Oe,Ne]=as("inputLabel",{elementType:mGe,externalForwardedProps:re,ownerState:X}),[De,Le]=as("htmlInput",{elementType:"input",externalForwardedProps:re,ownerState:X}),[st,ut]=as("formHelperText",{elementType:z9e,externalForwardedProps:re,ownerState:X}),[it,Ie]=as("select",{elementType:TIe,externalForwardedProps:re,ownerState:X}),be=y.jsx(ae,{"aria-describedby":le,autoComplete:i,autoFocus:a,defaultValue:u,fullWidth:f,multiline:B,name:T,rows:j,maxRows:x,minRows:_,type:q,value:Y,id:J,inputRef:C,onBlur:R,onChange:P,onFocus:M,placeholder:U,inputProps:Le,slots:{input:Q.htmlInput?De:void 0},...Ee});return y.jsxs(_7e,{className:dt(ee.root,s),disabled:c,error:A,fullWidth:f,ref:r,required:F,color:l,variant:z,ownerState:X,...V,children:[S!=null&&S!==""&&y.jsx(Oe,{htmlFor:J,id:de,...Ne,children:S}),L?y.jsx(it,{"aria-describedby":le,id:J,labelId:de,value:Y,input:be,...Ie,children:o}):be,p&&y.jsx(st,{id:le,...ut,children:p})]})});function E7e(t){return Cr("MuiToggleButton",t)}const Sf=vr("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),OIe=I.createContext({}),RIe=I.createContext(void 0);function I7e(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const B7e=t=>{const{classes:e,fullWidth:r,selected:n,disabled:i,size:a,color:o}=t,s={root:["root",n&&"selected",i&&"disabled",r&&"fullWidth",`size${Gt(a)}`,o]};return _r(s,E7e,e)},P7e=It(zH,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`size${Gt(r.size)}`]]}})(on(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${Sf.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ei(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Sf.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ei(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ei(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:Ei(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(tA()).map(([e])=>({props:{color:e},style:{[`&.${Sf.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ei(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ei(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ei(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),YW=I.forwardRef(function(e,r){const{value:n,...i}=I.useContext(OIe),a=I.useContext(RIe),o=ng({...i,selected:I7e(e.value,n)},e),s=Pr({props:o,name:"MuiToggleButton"}),{children:l,className:u,color:c="standard",disabled:A=!1,disableFocusRipple:d=!1,fullWidth:f=!1,onChange:p,onClick:g,selected:m,size:w="medium",value:b,...C}=s,S={...s,color:c,disabled:A,disableFocusRipple:d,fullWidth:f,size:w},x=B7e(S),_=T=>{g&&(g(T,b),T.defaultPrevented)||p&&p(T,b)},B=a||"";return y.jsx(P7e,{className:dt(i.className,x.root,u,B),disabled:A,focusRipple:!d,ref:r,onClick:_,onChange:p,value:b,ownerState:S,"aria-pressed":m,...C,children:l})});function T7e(t){return Cr("MuiToggleButtonGroup",t)}const Bn=vr("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),O7e=t=>{const{classes:e,orientation:r,fullWidth:n,disabled:i}=t,a={root:["root",r,n&&"fullWidth"],grouped:["grouped",`grouped${Gt(r)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return _r(a,T7e,e)},R7e=It("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Bn.grouped}`]:e.grouped},{[`& .${Bn.grouped}`]:e[`grouped${Gt(r.orientation)}`]},{[`& .${Bn.firstButton}`]:e.firstButton},{[`& .${Bn.lastButton}`]:e.lastButton},{[`& .${Bn.middleButton}`]:e.middleButton},e.root,r.orientation==="vertical"&&e.vertical,r.fullWidth&&e.fullWidth]}})(on(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Bn.grouped}`]:{[`&.${Bn.selected} + .${Bn.grouped}.${Bn.selected}`]:{borderTop:0,marginTop:0}},[`& .${Bn.firstButton},& .${Bn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Bn.lastButton},& .${Bn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Bn.lastButton}.${Sf.disabled},& .${Bn.middleButton}.${Sf.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Bn.grouped}`]:{[`&.${Bn.selected} + .${Bn.grouped}.${Bn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Bn.firstButton},& .${Bn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Bn.lastButton},& .${Bn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Bn.lastButton}.${Sf.disabled},& .${Bn.middleButton}.${Sf.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),M7e=I.forwardRef(function(e,r){const n=Pr({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:a,color:o="standard",disabled:s=!1,exclusive:l=!1,fullWidth:u=!1,onChange:c,orientation:A="horizontal",size:d="medium",value:f,...p}=n,g={...n,disabled:s,fullWidth:u,orientation:A,size:d},m=O7e(g),w=I.useCallback((B,T)=>{if(!c)return;const R=f&&f.indexOf(T);let P;f&&R>=0?(P=f.slice(),P.splice(R,1)):P=f?f.concat(T):[T],c(B,P)},[c,f]),b=I.useCallback((B,T)=>{c&&c(B,f===T?null:T)},[c,f]),C=I.useMemo(()=>({className:m.grouped,onChange:l?b:w,value:f,size:d,fullWidth:u,color:o,disabled:s}),[m.grouped,l,b,w,f,d,u,o,s]),S=R8e(i),x=S.length,_=B=>{const T=B===0,R=B===x-1;return T&&R?"":T?m.firstButton:R?m.lastButton:m.middleButton};return y.jsx(R7e,{role:"group",className:dt(m.root,a),ref:r,ownerState:g,...p,children:y.jsx(OIe.Provider,{value:C,children:S.map((B,T)=>y.jsx(RIe.Provider,{value:_(T),children:B},T))})})}),MIe="/ITM8/assets/logo-O-evLHni.png",F7e=()=>{const t=th(),{logout:e}=wH(),[r,n]=ce.useState(null),i=!!r,a=[{label:"Pipeline Tool",path:"/PipelinePage"},{label:"Rowers Overview",path:"/RowersPage"},{label:"Rowers Chart",path:"/RowersChartPage"},{label:"Sales Tool",path:"/SalestoolPage"},{label:"Win Room",path:"/WinRoomPage"},{label:"Canvas",path:"/CanvasPage"}],o=l=>{n(l.currentTarget)},s=()=>{n(null)};return y.jsx(MWe,{position:"fixed",sx:{backgroundColor:"white",boxShadow:"none",position:"relative",borderBottom:"3px solid rgb(95,37,159)",paddingBottom:"5px"},children:y.jsxs(b7e,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"},children:[y.jsx(ii,{sx:{display:"flex",alignItems:"center"},children:y.jsx("img",{src:MIe,alt:"Logo",style:{height:40,marginRight:16}})}),y.jsx(er,{variant:"h4",component:"div",sx:{color:"rgb(95,37,159)",position:"absolute",left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap"},children:"Sales Opportunity Analyzer"}),y.jsxs(ii,{sx:{display:"flex",gap:1},children:[y.jsx(Tl,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:()=>t("/"),children:"HomePage"}),y.jsx(Tl,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:o,children:"Tools"}),y.jsx(EIe,{anchorEl:r,open:i,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:a.map(l=>y.jsx(VGe,{onClick:()=>{t(l.path),s()},children:l.label},l.path))}),y.jsx(Tl,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:()=>t("/information"),children:"Information"}),y.jsx(Tl,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:()=>{e(),t("/login")},children:"Logout"})]})]})})},qg=({title:t,children:e})=>y.jsxs(Hg,{maxWidth:"lg",sx:{mt:"10px",mb:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[y.jsx(er,{variant:"h4",sx:{mb:3,color:"rgb(95,37,159)"},children:t}),y.jsx(ii,{children:e})]}),k7e=()=>{const t=th(),e=[{title:"Pipeline Tool",path:"/PipelinePage"},{title:"Rowers Overview",path:"/RowersPage"},{title:"Rowers Chart",path:"/RowersChartPage"},{title:"Sales Tool",path:"/SalestoolPage"},{title:"Win Room",path:"/WinRoomPage"},{title:"Canvas",path:"/CanvasPage"}];return y.jsx(qg,{title:"Home Page",children:y.jsx(Hg,{sx:{marginTop:4},children:y.jsx(Zt,{container:!0,spacing:4,children:e.map((r,n)=>y.jsx(Zt,{item:!0,xs:12,sm:6,md:4,children:y.jsxs(Vs,{elevation:3,sx:{padding:2},children:[y.jsx(er,{variant:"h6",gutterBottom:!0,children:r.title}),y.jsxs(Tl,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:()=>t(r.path),children:["Go to ",r.title]})]})},n))})})})},AT=t=>t.toLocaleString("en-US").replace(/,/g," "),U7e=()=>{const[t,e]=I.useState(Number(localStorage.getItem("budget"))||0),[r,n]=I.useState(Number(localStorage.getItem("sellCycleLength"))||0),[i,a]=I.useState(Number(localStorage.getItem("avgOpportunitySize"))||0),[o,s]=I.useState(Number(localStorage.getItem("monthsLeft"))||0),[l,u]=I.useState(Number(localStorage.getItem("yearToDateAttainment"))||0),[c,A]=I.useState(Number(localStorage.getItem("identifyRevenue"))||0),[d,f]=I.useState(Number(localStorage.getItem("qualifyRevenue"))||0),[p,g]=I.useState(Number(localStorage.getItem("validateRevenue"))||0),[m,w]=I.useState(Number(localStorage.getItem("proveRevenue"))||0),[b,C]=I.useState(Number(localStorage.getItem("presentRevenue"))||0),[S,x]=I.useState(Number(localStorage.getItem("closeRevenue"))||0);I.useEffect(()=>{localStorage.setItem("budget",String(t)),localStorage.setItem("sellCycleLength",String(r)),localStorage.setItem("avgOpportunitySize",String(i)),localStorage.setItem("monthsLeft",String(o)),localStorage.setItem("yearToDateAttainment",String(l)),localStorage.setItem("identifyRevenue",String(c)),localStorage.setItem("qualifyRevenue",String(d)),localStorage.setItem("validateRevenue",String(p)),localStorage.setItem("proveRevenue",String(m)),localStorage.setItem("presentRevenue",String(b)),localStorage.setItem("closeRevenue",String(S))},[t,r,i,o,l,c,d,p,m,b,S]);const _=(U,F)=>U*(F/100),B=_(c,10)+_(d,25)+_(p,50)+_(m,75)+_(b,90)+_(S,100),T=r!==0?B/r*o:0,R=t-T-l,P=i!==0?R/i*10:0,M=(U,F)=>{const j=U.target.value.replace(/\s/g,""),L=Number(j)||0;F(L)};return y.jsx(qg,{title:"Pipeline Volume Assessment Tool",children:y.jsx(ii,{sx:{pl:4,pr:4,justifyContent:"center",display:"flex",flexDirection:"row",position:"relative"},children:y.jsxs(Zt,{container:!0,spacing:4,justifyContent:"center",display:"flex",flexDirection:"row",children:[y.jsx(Zt,{item:!0,xs:12,md:4,children:y.jsxs(Vs,{elevation:3,sx:{p:4,pb:6},children:[y.jsx(er,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Pipeline Metrics"}),[{label:"Budget (SEK)",value:t,setValue:e},{label:"Average Sell Cycle Length (months)",value:r,setValue:n},{label:"Average Size of Opportunities",value:i,setValue:a},{label:"Months Left in the Year",value:o,setValue:s},{label:"Year-to-Date Attainment",value:l,setValue:u}].map((U,F)=>y.jsx(Nn,{fullWidth:!0,label:U.label,type:"text",value:U.value?AT(U.value):"",onChange:j=>M(j,U.setValue),inputProps:{inputMode:"numeric",pattern:"[0-9]*",step:1},sx:{mb:3,fontSize:"1.2rem"}},F))]})}),y.jsx(Zt,{item:!0,xs:12,md:8,children:y.jsxs(Vs,{elevation:3,sx:{p:2},children:[y.jsx(er,{variant:"h5",gutterBottom:!0,children:"Revenue in Pipeline Sections"}),y.jsxs(Zt,{container:!0,spacing:3,children:[y.jsx(Zt,{item:!0,xs:12,md:4,children:[{label:"IDENTIFY",value:c,setValue:A,percentage:10},{label:"QUALIFY",value:d,setValue:f,percentage:25},{label:"VALIDATE",value:p,setValue:g,percentage:50}].map((U,F)=>y.jsxs(ii,{sx:{mb:3},children:[y.jsx(er,{variant:"subtitle1",sx:{fontSize:"1.1rem"},children:U.label}),y.jsx(Nn,{fullWidth:!0,label:"Revenue",type:"text",value:U.value?AT(U.value):"",onChange:j=>M(j,U.setValue),inputProps:{inputMode:"numeric",pattern:"[0-9]*",step:1},sx:{mb:1,fontSize:"1.1rem"}}),y.jsxs(er,{variant:"body2",sx:{mt:1,fontSize:"1.1rem"},children:["Yield:"," ",_(U.value,U.percentage).toLocaleString("en-US").replace(/,/g," ")," ","SEK (",U.percentage,"%)"]})]},F))}),y.jsx(Zt,{item:!0,xs:12,md:4,children:[{label:"PROVE",value:m,setValue:w,percentage:75},{label:"PRESENT",value:b,setValue:C,percentage:90},{label:"CLOSE",value:S,setValue:x,percentage:100}].map((U,F)=>y.jsxs(ii,{sx:{mb:3},children:[y.jsx(er,{variant:"subtitle1",sx:{fontSize:"1.1rem"},children:U.label}),y.jsx(Nn,{fullWidth:!0,label:"Revenue",type:"text",value:U.value?AT(U.value):"",onChange:j=>M(j,U.setValue),inputProps:{inputMode:"numeric",pattern:"[0-9]*",step:1},sx:{mb:1,fontSize:"1.1rem"}}),y.jsxs(er,{variant:"body2",sx:{mt:1,fontSize:"1.1rem"},children:["Yield:"," ",_(U.value,U.percentage).toLocaleString("en-US").replace(/,/g," ")," ","SEK (",U.percentage,"%)"]})]},F))})]})]})}),y.jsx(Zt,{item:!0,xs:12,children:y.jsxs(Vs,{elevation:3,sx:{p:4},children:[y.jsx(er,{variant:"h5",gutterBottom:!0,children:"Results"}),[{label:"Total Yield in the Pipeline",value:B,unit:"SEK"},{label:"Projected Yield for the Year",value:T,unit:"SEK"},{label:"Gap",value:R,unit:"SEK"},{label:"Additional Leads Required to Close the Gap",value:Math.ceil(P),unit:"PCS"}].map((U,F)=>y.jsx(Gw,{sx:{mb:2,p:2,minHeight:"70px"},children:y.jsxs(Vw,{sx:{p:1},children:[y.jsx(er,{variant:"subtitle2",sx:{fontSize:"1.1rem"},children:U.label}),y.jsxs(er,{variant:"h5",sx:{fontWeight:""},children:[U.value.toLocaleString("en-US").replace(/,/g," ")," ",U.unit]})]})},F))]})})]})})})},D7e=()=>{const t=Ng(),e=th(),[r,n]=I.useState(null),i=[{letter:"R",title:"Roadblock",description:"How well do you understand the customer's Pain and the obstacles or hindrances that are preventing the customer from achieving their goals or growing their business?",color:t.palette.primary.main,titleDescription:"Roadblock - Assessing Customer Pain or Critical Business Issues",steps:["1: No clear pain or critical issue identified; customer shows no urgency to adress problems.","2: A minor issue is identified, but it is not critical or driving change.","3: A problem exists, but it is not clearly articulated or widely recognized by stakeholders.","4: A clear and significant pain is recognized by the customer, but they are not exploring solutions.","5: A well-defined and urgent problem exists, and solving it is a priority for the customer."]},{letter:"O",title:"Ownership",description:"Who in the customer's organization has responsibility for solving the problem (PAIN) and how engaged are they in driving the solution forward?",color:t.palette.secondary.main,titleDescription:"Ownership - Who Owns the Problem and the Solution",steps:["1: No clear owner of the problem or decision-making process is identified.","2: Ownership is unclear or split across multiple individuals with conflicting priorities.","3: A stakeholder (sponsor) owns the problem but has limited authority or influence.","4: A strong champion with authority acknowledges the problem and is engaged in discussions to fix it.","5: A decision-maker or executive sponsor acknowledges the problem and is actively driving the decision."]},{letter:"W",title:"Win Likelihood",description:"How likely are you to win the deal, considering your position against competitors and internal support?",color:t.palette.success.main,titleDescription:"Win Likelihood - Likelihood of Winning the Opportunity",steps:["1: Very low likelihood of winning; significant misalignment with customer needs or preferences.","2: Low likelihood; the solution partially meets customer needs, but competitors are favored.","3: Moderate likelihood; solution meets needs, but differentiation or engagement is weak.","4: High likelihood; strong alignment with customer needs, and the value is clearly understood.","5: Very high likelihood; solution is a perfect fit, and customer shows strong buying intent."]},{letter:"E",title:"Economic value",description:"How compelling is the economic case for your solution (ROI, cost savings, value generation)?",color:t.palette.warning.main,titleDescription:"Economic value - Assessing the Financial Impact or ROI",steps:["1: The economic value is unclear or has not been discussed with the customer.","2: The solution may provide value, but there is no concrete calculation of impact.","3: The economic value is somewhat understood, but the customer perceives it as marginal or unclear.","4: The financial impact is well-articulated, with solid impact/ROI/cost savings that resonate with the customer.","The economic value is compelling, with a clearly quantified and substantial impact that is a key driver of the customer's decision."]},{letter:"R",title:"Risk",description:"How well are you managing the risks associated with the deal (internal objections, competition, budget)?",color:t.palette.error.main,titleDescription:"Risk Management - Assessing Risks to the Opportunity",steps:["1: Significant risks exist that are likely to derail the opportunity.","2: Several risks exist, but there is no clear plan to address them.","3: Moderate risks exist, and some mitigation strategies are in place.","4: Low risks, the customer and salesperson have identified and addressed most issues.","5: Minimal or no risks; the customer sees the solution as low-risk and high-reward. "]},{letter:"S",title:"Stakeholders",description:"How well are you aligned with key stakeholders (decision-makers, influencers, champions)?",color:t.palette.info.main,titleDescription:"Stakeholders - Engaging the Right People",steps:["1: No engagement with key stakeholders; limited visibility into the buying group.","2: Limited engagement; key stakeholders are not fully aligned or involved.","3: Partial engagement; some key stakeholders are involved, but alignment is unclear.","4: Strong engagement with most stakeholders; alignment is mostly in place.","5: Full engagement with all key stakeholders, with strong alignment and buy-in."]}],a=s=>{n(s)},o=()=>{n(null)};return y.jsx(qg,{title:"ROWERS Opportunity Qualification Framework",children:y.jsxs(ii,{width:"100%",sx:{p:3},children:[y.jsx(Zt,{container:!0,spacing:3,justifyContent:"center",children:i.map((s,l)=>y.jsxs(Zt,{item:!0,xs:12,sm:6,md:4,lg:3,margin:"5px",children:[" ",y.jsx(Gw,{onClick:()=>a(s),sx:{height:"100%",display:"flex",flexDirection:"column",borderLeft:`6px solid ${s.color}`,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.03)"}},children:y.jsxs(Vw,{children:[y.jsx(er,{variant:"h2",sx:{color:s.color,fontWeight:"bold",mb:2},children:s.letter}),y.jsx(er,{variant:"h6",sx:{mb:2},children:s.title}),y.jsxs(er,{variant:"body1",children:[s.description.substring(0,100),"..."]})]})})]},l))}),y.jsx(bIe,{open:!!r,onClose:o,closeAfterTransition:!0,BackdropComponent:yIe,BackdropProps:{timeout:500,sx:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:y.jsx(vIe,{in:!!r,children:y.jsx(Vs,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"900px",p:5,borderRadius:4,boxShadow:t.shadows[5],backgroundColor:"white"},children:r&&y.jsxs(y.Fragment,{children:[y.jsxs(ii,{children:[y.jsx(er,{variant:"h2",sx:{color:r.color,fontWeight:"bold",mb:2},children:r.letter}),y.jsx(er,{variant:"h5",sx:{mb:2},children:r.title}),y.jsx(er,{variant:"body1",sx:{mb:4},children:r.description})]}),y.jsx(ky,{sx:{my:2}}),y.jsxs(ii,{children:[y.jsx(er,{variant:"h5",sx:{fontWeight:"bold",mb:2},children:r.titleDescription}),y.jsx(x1,{children:r.steps.map((s,l)=>y.jsx(xp,{children:y.jsx(Cp,{primary:s})},l))})]})]})})})}),y.jsx(ii,{sx:{display:"flex",justifyContent:"center",mt:8},children:y.jsx(Tl,{variant:"contained",onClick:()=>e("/RowersChartPage"),sx:{fontSize:"1.2rem",padding:"10px 20px"},children:"View ROWERS Chart"})})]})})};var dT,XW;function Qo(){if(XW)return dT;XW=1;var t=Array.isArray;return dT=t,dT}var fT,JW;function FIe(){if(JW)return fT;JW=1;var t=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi;return fT=t,fT}var hT,ZW;function Gu(){if(ZW)return hT;ZW=1;var t=FIe(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return hT=r,hT}var pT,e9;function Yw(){if(e9)return pT;e9=1;var t=Gu(),e=t.Symbol;return pT=e,pT}var gT,t9;function j7e(){if(t9)return gT;t9=1;var t=Yw(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=n.call(o);return u&&(s?o[i]=l:delete o[i]),c}return gT=a,gT}var mT,r9;function L7e(){if(r9)return mT;r9=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return mT=r,mT}var vT,n9;function rA(){if(n9)return vT;n9=1;var t=Yw(),e=j7e(),r=L7e(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):r(s)}return vT=o,vT}var yT,i9;function nA(){if(i9)return yT;i9=1;function t(e){return e!=null&&typeof e=="object"}return yT=t,yT}var wT,a9;function Kg(){if(a9)return wT;a9=1;var t=rA(),e=nA(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return wT=n,wT}var bT,o9;function e3(){if(o9)return bT;o9=1;var t=Qo(),e=Kg(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return bT=i,bT}var ST,s9;function bd(){if(s9)return ST;s9=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return ST=t,ST}var xT,l9;function t3(){if(l9)return xT;l9=1;var t=rA(),e=bd(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==n||l==i||l==r||l==a}return xT=o,xT}var CT,u9;function N7e(){if(u9)return CT;u9=1;var t=Gu(),e=t["__core-js_shared__"];return CT=e,CT}var _T,c9;function $7e(){if(c9)return _T;c9=1;var t=N7e(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return _T=r,_T}var ET,A9;function kIe(){if(A9)return ET;A9=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ET=r,ET}var IT,d9;function Q7e(){if(d9)return IT;d9=1;var t=t3(),e=$7e(),r=bd(),n=kIe(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function A(d){if(!r(d)||e(d))return!1;var f=t(d)?c:a;return f.test(n(d))}return IT=A,IT}var BT,f9;function H7e(){if(f9)return BT;f9=1;function t(e,r){return e==null?void 0:e[r]}return BT=t,BT}var PT,h9;function nh(){if(h9)return PT;h9=1;var t=Q7e(),e=H7e();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return PT=r,PT}var TT,p9;function F_(){if(p9)return TT;p9=1;var t=nh(),e=t(Object,"create");return TT=e,TT}var OT,g9;function q7e(){if(g9)return OT;g9=1;var t=F_();function e(){this.__data__=t?t(null):{},this.size=0}return OT=e,OT}var RT,m9;function K7e(){if(m9)return RT;m9=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return RT=t,RT}var MT,v9;function z7e(){if(v9)return MT;v9=1;var t=F_(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return MT=i,MT}var FT,y9;function W7e(){if(y9)return FT;y9=1;var t=F_(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return FT=n,FT}var kT,w9;function G7e(){if(w9)return kT;w9=1;var t=F_(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return kT=r,kT}var UT,b9;function V7e(){if(b9)return UT;b9=1;var t=q7e(),e=K7e(),r=z7e(),n=W7e(),i=G7e();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,UT=a,UT}var DT,S9;function Y7e(){if(S9)return DT;S9=1;function t(){this.__data__=[],this.size=0}return DT=t,DT}var jT,x9;function r3(){if(x9)return jT;x9=1;function t(e,r){return e===r||e!==e&&r!==r}return jT=t,jT}var LT,C9;function k_(){if(C9)return LT;C9=1;var t=r3();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return LT=e,LT}var NT,_9;function X7e(){if(_9)return NT;_9=1;var t=k_(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return NT=n,NT}var $T,E9;function J7e(){if(E9)return $T;E9=1;var t=k_();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return $T=e,$T}var QT,I9;function Z7e(){if(I9)return QT;I9=1;var t=k_();function e(r){return t(this.__data__,r)>-1}return QT=e,QT}var HT,B9;function eVe(){if(B9)return HT;B9=1;var t=k_();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return HT=e,HT}var qT,P9;function U_(){if(P9)return qT;P9=1;var t=Y7e(),e=X7e(),r=J7e(),n=Z7e(),i=eVe();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,qT=a,qT}var KT,T9;function n3(){if(T9)return KT;T9=1;var t=nh(),e=Gu(),r=t(e,"Map");return KT=r,KT}var zT,O9;function tVe(){if(O9)return zT;O9=1;var t=V7e(),e=U_(),r=n3();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return zT=n,zT}var WT,R9;function rVe(){if(R9)return WT;R9=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return WT=t,WT}var GT,M9;function D_(){if(M9)return GT;M9=1;var t=rVe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return GT=e,GT}var VT,F9;function nVe(){if(F9)return VT;F9=1;var t=D_();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return VT=e,VT}var YT,k9;function iVe(){if(k9)return YT;k9=1;var t=D_();function e(r){return t(this,r).get(r)}return YT=e,YT}var XT,U9;function aVe(){if(U9)return XT;U9=1;var t=D_();function e(r){return t(this,r).has(r)}return XT=e,XT}var JT,D9;function oVe(){if(D9)return JT;D9=1;var t=D_();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return JT=e,JT}var ZT,j9;function i3(){if(j9)return ZT;j9=1;var t=tVe(),e=nVe(),r=iVe(),n=aVe(),i=oVe();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ZT=a,ZT}var eO,L9;function UIe(){if(L9)return eO;L9=1;var t=i3(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,eO=r,eO}var tO,N9;function sVe(){if(N9)return tO;N9=1;var t=UIe(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return tO=r,tO}var rO,$9;function lVe(){if($9)return rO;$9=1;var t=sVe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,u){a.push(l?u.replace(r,"$1"):s||o)}),a});return rO=n,rO}var nO,Q9;function a3(){if(Q9)return nO;Q9=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return nO=t,nO}var iO,H9;function uVe(){if(H9)return iO;H9=1;var t=Yw(),e=a3(),r=Qo(),n=Kg(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return e(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return iO=o,iO}var aO,q9;function DIe(){if(q9)return aO;q9=1;var t=uVe();function e(r){return r==null?"":t(r)}return aO=e,aO}var oO,K9;function jIe(){if(K9)return oO;K9=1;var t=Qo(),e=e3(),r=lVe(),n=DIe();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return oO=i,oO}var sO,z9;function j_(){if(z9)return sO;z9=1;var t=Kg();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return sO=e,sO}var lO,W9;function o3(){if(W9)return lO;W9=1;var t=jIe(),e=j_();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return lO=r,lO}var uO,G9;function LIe(){if(G9)return uO;G9=1;var t=o3();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return uO=e,uO}var cVe=LIe();const Ys=kr(cVe);var cO,V9;function AVe(){if(V9)return cO;V9=1;function t(e){return e==null}return cO=t,cO}var dVe=AVe();const Gr=kr(dVe);var AO,Y9;function fVe(){if(Y9)return AO;Y9=1;var t=rA(),e=Qo(),r=nA(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return AO=i,AO}var hVe=fVe();const Xw=kr(hVe);var pVe=t3();const Ir=kr(pVe);var gVe=bd();const zg=kr(gVe);var dO={exports:{}},Kr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X9;function mVe(){if(X9)return Kr;X9=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),p;p=Symbol.for("react.module.reference");function g(m){if(typeof m=="object"&&m!==null){var w=m.$$typeof;switch(w){case t:switch(m=m.type,m){case r:case i:case n:case u:case c:return m;default:switch(m=m&&m.$$typeof,m){case s:case o:case l:case d:case A:case a:return m;default:return w}}case e:return w}}}return Kr.ContextConsumer=o,Kr.ContextProvider=a,Kr.Element=t,Kr.ForwardRef=l,Kr.Fragment=r,Kr.Lazy=d,Kr.Memo=A,Kr.Portal=e,Kr.Profiler=i,Kr.StrictMode=n,Kr.Suspense=u,Kr.SuspenseList=c,Kr.isAsyncMode=function(){return!1},Kr.isConcurrentMode=function(){return!1},Kr.isContextConsumer=function(m){return g(m)===o},Kr.isContextProvider=function(m){return g(m)===a},Kr.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===t},Kr.isForwardRef=function(m){return g(m)===l},Kr.isFragment=function(m){return g(m)===r},Kr.isLazy=function(m){return g(m)===d},Kr.isMemo=function(m){return g(m)===A},Kr.isPortal=function(m){return g(m)===e},Kr.isProfiler=function(m){return g(m)===i},Kr.isStrictMode=function(m){return g(m)===n},Kr.isSuspense=function(m){return g(m)===u},Kr.isSuspenseList=function(m){return g(m)===c},Kr.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===r||m===i||m===n||m===u||m===c||m===f||typeof m=="object"&&m!==null&&(m.$$typeof===d||m.$$typeof===A||m.$$typeof===a||m.$$typeof===o||m.$$typeof===l||m.$$typeof===p||m.getModuleId!==void 0)},Kr.typeOf=g,Kr}var J9;function vVe(){return J9||(J9=1,dO.exports=mVe()),dO.exports}var yVe=vVe(),fO,Z9;function NIe(){if(Z9)return fO;Z9=1;var t=rA(),e=nA(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return fO=n,fO}var hO,eG;function wVe(){if(eG)return hO;eG=1;var t=NIe();function e(r){return t(r)&&r!=+r}return hO=e,hO}var bVe=wVe();const Jw=kr(bVe);var SVe=NIe();const xVe=kr(SVe);var Ol=function(e){return e===0?0:e>0?1:-1},xf=function(e){return Xw(e)&&e.indexOf("%")===e.length-1},yt=function(e){return xVe(e)&&!Jw(e)},Ui=function(e){return yt(e)||Xw(e)},CVe=0,L_=function(e){var r=++CVe;return"".concat(e||"").concat(r)},Nf=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(e)&&!Xw(e))return n;var a;if(xf(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Jw(a)&&(a=n),i&&a>r&&(a=r),a},_p=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},_Ve=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ip=function(e,r){return yt(e)&&yt(r)?function(n){return e+n*(r-e)}:function(){return r}};function p$(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ys(n,e))===r})}function Kp(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function g$(t){"@babel/helpers - typeof";return g$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g$(t)}var EVe=["viewBox","children"],IVe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tG=["points","pathLength"],pO={svg:EVe,polygon:tG,polyline:tG},s3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],C1=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(I.isValidElement(e)&&(n=e.props),!zg(n))return null;var i={};return Object.keys(n).forEach(function(a){s3.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},BVe=function(e,r,n){return function(i){return e(r,n,i),null}},_1=function(e,r,n){if(!zg(e)||g$(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];s3.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=BVe(o,r,n))}),i},PVe=["children"],TVe=["children"];function rG(t,e){if(t==null)return{};var r=OVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nG={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Dc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iG=null,gO=null,l3=function t(e){if(e===iG&&Array.isArray(gO))return gO;var r=[];return I.Children.forEach(e,function(n){Gr(n)||(yVe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),gO=r,iG=e,r};function Fl(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Dc(i)}):n=[Dc(e)],l3(t).forEach(function(i){var a=Ys(i,"type.displayName")||Ys(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function rs(t,e){var r=Fl(t,e);return r[0]}var aG=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!yt(n)||n<=0||!yt(i)||i<=0)},RVe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],MVe=function(e){return e&&e.type&&Xw(e.type)&&RVe.indexOf(e.type)>=0},FVe=function(e,r,n,i){var a,o=(a=pO==null?void 0:pO[i])!==null&&a!==void 0?a:[];return!Ir(e)&&(i&&o.includes(r)||IVe.includes(r))||n&&s3.includes(r)},Wr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(I.isValidElement(e)&&(i=e.props),!zg(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;FVe((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},m$=function t(e,r){if(e===r)return!0;var n=I.Children.count(e);if(n!==I.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oG(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!oG(a,o))return!1}return!0},oG=function(e,r){if(Gr(e)&&Gr(r))return!0;if(!Gr(e)&&!Gr(r)){var n=e.props||{},i=n.children,a=rG(n,PVe),o=r.props||{},s=o.children,l=rG(o,TVe);return i&&s?Kp(a,l)&&m$(i,s):!i&&!s?Kp(a,l):!1}return!1},sG=function(e,r){var n=[],i={};return l3(e).forEach(function(a,o){if(MVe(a))n.push(a);else if(a){var s=Dc(a.type),l=r[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var A=u(a,s,o);n.push(A),i[s]=!0}}}),n},kVe=function(e){var r=e&&e.type;return r&&nG[r]?nG[r]:null},UVe=function(e,r){return l3(r).indexOf(e)},DVe=["children","width","height","viewBox","className","style","title","desc"];function v$(){return v$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v$.apply(this,arguments)}function jVe(t,e){if(t==null)return{};var r=LVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function y$(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=jVe(t,DVe),c=i||{width:r,height:n,x:0,y:0},A=dt("recharts-surface",a);return ce.createElement("svg",v$({},Wr(u,!0,"svg"),{className:A,width:r,height:n,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),ce.createElement("title",null,s),ce.createElement("desc",null,l),e)}var NVe=["children","className"];function w$(){return w$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w$.apply(this,arguments)}function $Ve(t,e){if(t==null)return{};var r=QVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Yi=ce.forwardRef(function(t,e){var r=t.children,n=t.className,i=$Ve(t,NVe),a=dt("recharts-layer",n);return ce.createElement("g",w$({className:a},Wr(i,!0),{ref:e}),r)}),Pf=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},mO,lG;function HVe(){if(lG)return mO;lG=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return mO=t,mO}var vO,uG;function qVe(){if(uG)return vO;uG=1;var t=HVe();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return vO=e,vO}var yO,cG;function $Ie(){if(cG)return yO;cG=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function l(u){return s.test(u)}return yO=l,yO}var wO,AG;function KVe(){if(AG)return wO;AG=1;function t(e){return e.split("")}return wO=t,wO}var bO,dG;function zVe(){if(dG)return bO;dG=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",c="[^"+t+"]",A="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",p=u+"?",g="["+a+"]?",m="(?:"+f+"(?:"+[c,A,d].join("|")+")"+g+p+")*",w=g+p+m,b="(?:"+[c+s+"?",s,A,d,o].join("|")+")",C=RegExp(l+"(?="+l+")|"+b+w,"g");function S(x){return x.match(C)||[]}return bO=S,bO}var SO,fG;function WVe(){if(fG)return SO;fG=1;var t=KVe(),e=$Ie(),r=zVe();function n(i){return e(i)?r(i):t(i)}return SO=n,SO}var xO,hG;function GVe(){if(hG)return xO;hG=1;var t=qVe(),e=$Ie(),r=WVe(),n=DIe();function i(a){return function(o){o=n(o);var s=e(o)?r(o):void 0,l=s?s[0]:o.charAt(0),u=s?t(s,1).join(""):o.slice(1);return l[a]()+u}}return xO=i,xO}var CO,pG;function VVe(){if(pG)return CO;pG=1;var t=GVe(),e=t("toUpperCase");return CO=e,CO}var YVe=VVe();const N_=kr(YVe);function yn(t){return function(){return t}}const QIe=Math.cos,E1=Math.sin,ql=Math.sqrt,I1=Math.PI,$_=2*I1,b$=Math.PI,S$=2*b$,gf=1e-6,XVe=S$-gf;function HIe(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function JVe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return HIe;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class ZVe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?HIe:JVe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,c=o-e,A=s-r,d=c*c+A*A;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>gf)if(!(Math.abs(A*l-u*c)>gf)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,p=i-s,g=l*l+u*u,m=f*f+p*p,w=Math.sqrt(g),b=Math.sqrt(d),C=a*Math.tan((b$-Math.acos((g+d-m)/(2*w*b)))/2),S=C/b,x=C/w;Math.abs(S-1)>gf&&this._append`L${e+S*c},${r+S*A}`,this._append`A${a},${a},0,0,${+(A*f>c*p)},${this._x1=e+x*l},${this._y1=r+x*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,c=r+l,A=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>gf||Math.abs(this._y1-c)>gf)&&this._append`L${u},${c}`,n&&(d<0&&(d=d%S$+S$),d>XVe?this._append`A${n},${n},0,1,${A},${e-s},${r-l}A${n},${n},0,1,${A},${this._x1=u},${this._y1=c}`:d>gf&&this._append`A${n},${n},0,${+(d>=b$)},${A},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function u3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new ZVe(e)}function c3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qIe(t){this._context=t}qIe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Q_(t){return new qIe(t)}function KIe(t){return t[0]}function zIe(t){return t[1]}function WIe(t,e){var r=yn(!0),n=null,i=Q_,a=null,o=u3(s);t=typeof t=="function"?t:t===void 0?KIe:yn(t),e=typeof e=="function"?e:e===void 0?zIe:yn(e);function s(l){var u,c=(l=c3(l)).length,A,d=!1,f;for(n==null&&(a=i(f=o())),u=0;u<=c;++u)!(u<c&&r(A=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(A,u,l),+e(A,u,l));if(f)return a=null,f+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:yn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:yn(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:yn(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function r0(t,e,r){var n=null,i=yn(!0),a=null,o=Q_,s=null,l=u3(u);t=typeof t=="function"?t:t===void 0?KIe:yn(+t),e=typeof e=="function"?e:yn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?zIe:yn(+r);function u(A){var d,f,p,g=(A=c3(A)).length,m,w=!1,b,C=new Array(g),S=new Array(g);for(a==null&&(s=o(b=l())),d=0;d<=g;++d){if(!(d<g&&i(m=A[d],d,A))===w)if(w=!w)f=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=f;--p)s.point(C[p],S[p]);s.lineEnd(),s.areaEnd()}w&&(C[d]=+t(m,d,A),S[d]=+e(m,d,A),s.point(n?+n(m,d,A):C[d],r?+r(m,d,A):S[d]))}if(b)return s=null,b+""||null}function c(){return WIe().defined(i).curve(o).context(a)}return u.x=function(A){return arguments.length?(t=typeof A=="function"?A:yn(+A),n=null,u):t},u.x0=function(A){return arguments.length?(t=typeof A=="function"?A:yn(+A),u):t},u.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:yn(+A),u):n},u.y=function(A){return arguments.length?(e=typeof A=="function"?A:yn(+A),r=null,u):e},u.y0=function(A){return arguments.length?(e=typeof A=="function"?A:yn(+A),u):e},u.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:yn(+A),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(A){return arguments.length?(i=typeof A=="function"?A:yn(!!A),u):i},u.curve=function(A){return arguments.length?(o=A,a!=null&&(s=o(a)),u):o},u.context=function(A){return arguments.length?(A==null?a=s=null:s=o(a=A),u):a},u}class GIe{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function eYe(t){return new GIe(t,!0)}function tYe(t){return new GIe(t,!1)}const A3={draw(t,e){const r=ql(e/I1);t.moveTo(r,0),t.arc(0,0,r,0,$_)}},rYe={draw(t,e){const r=ql(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},VIe=ql(1/3),nYe=VIe*2,iYe={draw(t,e){const r=ql(e/nYe),n=r*VIe;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},aYe={draw(t,e){const r=ql(e),n=-r/2;t.rect(n,n,r,r)}},oYe=.8908130915292852,YIe=E1(I1/10)/E1(7*I1/10),sYe=E1($_/10)*YIe,lYe=-QIe($_/10)*YIe,uYe={draw(t,e){const r=ql(e*oYe),n=sYe*r,i=lYe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=$_*a/5,s=QIe(o),l=E1(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},_O=ql(3),cYe={draw(t,e){const r=-ql(e/(_O*3));t.moveTo(0,r*2),t.lineTo(-_O*r,-r),t.lineTo(_O*r,-r),t.closePath()}},Fs=-.5,ks=ql(3)/2,x$=1/ql(12),AYe=(x$/2+1)*3,dYe={draw(t,e){const r=ql(e/AYe),n=r/2,i=r*x$,a=n,o=r*x$+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Fs*n-ks*i,ks*n+Fs*i),t.lineTo(Fs*a-ks*o,ks*a+Fs*o),t.lineTo(Fs*s-ks*l,ks*s+Fs*l),t.lineTo(Fs*n+ks*i,Fs*i-ks*n),t.lineTo(Fs*a+ks*o,Fs*o-ks*a),t.lineTo(Fs*s+ks*l,Fs*l-ks*s),t.closePath()}};function fYe(t,e){let r=null,n=u3(i);t=typeof t=="function"?t:yn(t||A3),e=typeof e=="function"?e:yn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:yn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:yn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function B1(){}function P1(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function XIe(t){this._context=t}XIe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:P1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:P1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hYe(t){return new XIe(t)}function JIe(t){this._context=t}JIe.prototype={areaStart:B1,areaEnd:B1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:P1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pYe(t){return new JIe(t)}function ZIe(t){this._context=t}ZIe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:P1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gYe(t){return new ZIe(t)}function eBe(t){this._context=t}eBe.prototype={areaStart:B1,areaEnd:B1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mYe(t){return new eBe(t)}function gG(t){return t<0?-1:1}function mG(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(gG(a)+gG(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function vG(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function EO(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function T1(t){this._context=t}T1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:EO(this,this._t0,vG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,EO(this,vG(this,r=mG(this,t,e)),r);break;default:EO(this,this._t0,r=mG(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function tBe(t){this._context=new rBe(t)}(tBe.prototype=Object.create(T1.prototype)).point=function(t,e){T1.prototype.point.call(this,e,t)};function rBe(t){this._context=t}rBe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function vYe(t){return new T1(t)}function yYe(t){return new tBe(t)}function nBe(t){this._context=t}nBe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=yG(t),i=yG(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yG(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function wYe(t){return new nBe(t)}function H_(t,e){this._context=t,this._t=e}H_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function bYe(t){return new H_(t,.5)}function SYe(t){return new H_(t,0)}function xYe(t){return new H_(t,1)}function ag(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function C$(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function CYe(t,e){return t[e]}function _Ye(t){const e=[];return e.key=t,e}function EYe(){var t=yn([]),e=C$,r=ag,n=CYe;function i(a){var o=Array.from(t.apply(this,arguments),_Ye),s,l=o.length,u=-1,c;for(const A of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(A,o[s].key,u,a)]).data=A;for(s=0,c=c3(e(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:yn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:yn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?C$:typeof a=="function"?a:yn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??ag,i):r},i}function IYe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}ag(t,e)}}function BYe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ag(t,e)}}function PYe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],A=c[n][1]||0,d=c[n-1][1]||0,f=(A-d)/2,p=0;p<s;++p){var g=t[e[p]],m=g[n][1]||0,w=g[n-1][1]||0;f+=m-w}l+=A,u+=f*A}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,ag(t,e)}}function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}var TYe=["type","size","sizeType"];function _$(){return _$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_$.apply(this,arguments)}function wG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wG(Object(r),!0).forEach(function(n){OYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OYe(t,e,r){return e=RYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RYe(t){var e=MYe(t,"string");return Dy(e)=="symbol"?e:e+""}function MYe(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FYe(t,e){if(t==null)return{};var r=kYe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kYe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var iBe={symbolCircle:A3,symbolCross:rYe,symbolDiamond:iYe,symbolSquare:aYe,symbolStar:uYe,symbolTriangle:cYe,symbolWye:dYe},UYe=Math.PI/180,DYe=function(e){var r="symbol".concat(N_(e));return iBe[r]||A3},jYe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*UYe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},LYe=function(e,r){iBe["symbol".concat(N_(e))]=r},d3=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=FYe(e,TYe),u=bG(bG({},l),{},{type:n,size:a,sizeType:s}),c=function(){var m=DYe(n),w=fYe().type(m).size(jYe(a,s,n));return w()},A=u.className,d=u.cx,f=u.cy,p=Wr(u,!0);return d===+d&&f===+f&&a===+a?ce.createElement("path",_$({},p,{className:dt("recharts-symbols",A),transform:"translate(".concat(d,", ").concat(f,")"),d:c()})):null};d3.registerSymbol=LYe;function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function E$(){return E$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E$.apply(this,arguments)}function SG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NYe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SG(Object(r),!0).forEach(function(n){jy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oBe(n.key),n)}}function HYe(t,e,r){return QYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qYe(t,e,r){return e=O1(e),KYe(t,aBe()?Reflect.construct(e,r||[],O1(t).constructor):e.apply(t,r))}function KYe(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zYe(t)}function zYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aBe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aBe=function(){return!!t})()}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(t)}function WYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I$(t,e)}function I$(t,e){return I$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I$(t,e)}function jy(t,e,r){return e=oBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oBe(t){var e=GYe(t,"string");return og(e)=="symbol"?e:e+""}function GYe(t,e){if(og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wl=32,f3=function(t){function e(){return $Ye(this,e),qYe(this,e,arguments)}return WYe(e,t),HYe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=wl/2,o=wl/6,s=wl/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:wl,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(wl,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ce.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(wl/8,"h").concat(wl,"v").concat(wl*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(n.legendIcon)){var u=NYe({},n);return delete u.legendIcon,ce.cloneElement(n.legendIcon,u)}return ce.createElement(d3,{fill:l,cx:a,cy:a,size:wl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:wl,height:wl},A={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,p){var g=f.formatter||l,m=dt(jy(jy({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",f.inactive));if(f.type==="none")return null;var w=Ir(f.value)?null:f.value;Pf(!Ir(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?u:f.color;return ce.createElement("li",E$({className:m,style:A,key:"legend-item-".concat(p)},_1(n.props,f,p)),ce.createElement(y$,{width:o,height:o,viewBox:c,style:d},n.renderIcon(f)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(w,f,p):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(I.PureComponent);jy(f3,"displayName","Legend");jy(f3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var IO,xG;function VYe(){if(xG)return IO;xG=1;var t=U_();function e(){this.__data__=new t,this.size=0}return IO=e,IO}var BO,CG;function YYe(){if(CG)return BO;CG=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return BO=t,BO}var PO,_G;function XYe(){if(_G)return PO;_G=1;function t(e){return this.__data__.get(e)}return PO=t,PO}var TO,EG;function JYe(){if(EG)return TO;EG=1;function t(e){return this.__data__.has(e)}return TO=t,TO}var OO,IG;function ZYe(){if(IG)return OO;IG=1;var t=U_(),e=n3(),r=i3(),n=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return OO=i,OO}var RO,BG;function sBe(){if(BG)return RO;BG=1;var t=U_(),e=VYe(),r=YYe(),n=XYe(),i=JYe(),a=ZYe();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,RO=o,RO}var MO,PG;function eXe(){if(PG)return MO;PG=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return MO=e,MO}var FO,TG;function tXe(){if(TG)return FO;TG=1;function t(e){return this.__data__.has(e)}return FO=t,FO}var kO,OG;function lBe(){if(OG)return kO;OG=1;var t=i3(),e=eXe(),r=tXe();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,kO=n,kO}var UO,RG;function uBe(){if(RG)return UO;RG=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return UO=t,UO}var DO,MG;function cBe(){if(MG)return DO;MG=1;function t(e,r){return e.has(r)}return DO=t,DO}var jO,FG;function ABe(){if(FG)return jO;FG=1;var t=lBe(),e=uBe(),r=cBe(),n=1,i=2;function a(o,s,l,u,c,A){var d=l&n,f=o.length,p=s.length;if(f!=p&&!(d&&p>f))return!1;var g=A.get(o),m=A.get(s);if(g&&m)return g==s&&m==o;var w=-1,b=!0,C=l&i?new t:void 0;for(A.set(o,s),A.set(s,o);++w<f;){var S=o[w],x=s[w];if(u)var _=d?u(x,S,w,s,o,A):u(S,x,w,o,s,A);if(_!==void 0){if(_)continue;b=!1;break}if(C){if(!e(s,function(B,T){if(!r(C,T)&&(S===B||c(S,B,l,u,A)))return C.push(T)})){b=!1;break}}else if(!(S===x||c(S,x,l,u,A))){b=!1;break}}return A.delete(o),A.delete(s),b}return jO=a,jO}var LO,kG;function rXe(){if(kG)return LO;kG=1;var t=Gu(),e=t.Uint8Array;return LO=e,LO}var NO,UG;function nXe(){if(UG)return NO;UG=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return NO=t,NO}var $O,DG;function h3(){if(DG)return $O;DG=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return $O=t,$O}var QO,jG;function iXe(){if(jG)return QO;jG=1;var t=Yw(),e=rXe(),r=r3(),n=ABe(),i=nXe(),a=h3(),o=1,s=2,l="[object Boolean]",u="[object Date]",c="[object Error]",A="[object Map]",d="[object Number]",f="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",w="[object ArrayBuffer]",b="[object DataView]",C=t?t.prototype:void 0,S=C?C.valueOf:void 0;function x(_,B,T,R,P,M,U){switch(T){case b:if(_.byteLength!=B.byteLength||_.byteOffset!=B.byteOffset)return!1;_=_.buffer,B=B.buffer;case w:return!(_.byteLength!=B.byteLength||!M(new e(_),new e(B)));case l:case u:case d:return r(+_,+B);case c:return _.name==B.name&&_.message==B.message;case f:case g:return _==B+"";case A:var F=i;case p:var j=R&o;if(F||(F=a),_.size!=B.size&&!j)return!1;var L=U.get(_);if(L)return L==B;R|=s,U.set(_,B);var $=n(F(_),F(B),R,P,M,U);return U.delete(_),$;case m:if(S)return S.call(_)==S.call(B)}return!1}return QO=x,QO}var HO,LG;function dBe(){if(LG)return HO;LG=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return HO=t,HO}var qO,NG;function aXe(){if(NG)return qO;NG=1;var t=dBe(),e=Qo();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return qO=r,qO}var KO,$G;function oXe(){if($G)return KO;$G=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var s=e[n];r(s,n,e)&&(o[a++]=s)}return o}return KO=t,KO}var zO,QG;function sXe(){if(QG)return zO;QG=1;function t(){return[]}return zO=t,zO}var WO,HG;function lXe(){if(HG)return WO;HG=1;var t=oXe(),e=sXe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return n.call(o,s)}))}:e;return WO=a,WO}var GO,qG;function uXe(){if(qG)return GO;qG=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return GO=t,GO}var VO,KG;function cXe(){if(KG)return VO;KG=1;var t=rA(),e=nA(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return VO=n,VO}var YO,zG;function p3(){if(zG)return YO;zG=1;var t=cXe(),e=nA(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return YO=a,YO}var Qv={exports:{}},XO,WG;function AXe(){if(WG)return XO;WG=1;function t(){return!1}return XO=t,XO}Qv.exports;var GG;function fBe(){return GG||(GG=1,function(t,e){var r=Gu(),n=AXe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u}(Qv,Qv.exports)),Qv.exports}var JO,VG;function g3(){if(VG)return JO;VG=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return JO=r,JO}var ZO,YG;function m3(){if(YG)return ZO;YG=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return ZO=e,ZO}var eR,XG;function dXe(){if(XG)return eR;XG=1;var t=rA(),e=m3(),r=nA(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",A="[object Object]",d="[object RegExp]",f="[object Set]",p="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",w="[object DataView]",b="[object Float32Array]",C="[object Float64Array]",S="[object Int8Array]",x="[object Int16Array]",_="[object Int32Array]",B="[object Uint8Array]",T="[object Uint8ClampedArray]",R="[object Uint16Array]",P="[object Uint32Array]",M={};M[b]=M[C]=M[S]=M[x]=M[_]=M[B]=M[T]=M[R]=M[P]=!0,M[n]=M[i]=M[m]=M[a]=M[w]=M[o]=M[s]=M[l]=M[u]=M[c]=M[A]=M[d]=M[f]=M[p]=M[g]=!1;function U(F){return r(F)&&e(F.length)&&!!M[t(F)]}return eR=U,eR}var tR,JG;function hBe(){if(JG)return tR;JG=1;function t(e){return function(r){return e(r)}}return tR=t,tR}var Hv={exports:{}};Hv.exports;var ZG;function fXe(){return ZG||(ZG=1,function(t,e){var r=FIe(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s}(Hv,Hv.exports)),Hv.exports}var rR,e7;function pBe(){if(e7)return rR;e7=1;var t=dXe(),e=hBe(),r=fXe(),n=r&&r.isTypedArray,i=n?e(n):t;return rR=i,rR}var nR,t7;function hXe(){if(t7)return nR;t7=1;var t=uXe(),e=p3(),r=Qo(),n=fBe(),i=g3(),a=pBe(),o=Object.prototype,s=o.hasOwnProperty;function l(u,c){var A=r(u),d=!A&&e(u),f=!A&&!d&&n(u),p=!A&&!d&&!f&&a(u),g=A||d||f||p,m=g?t(u.length,String):[],w=m.length;for(var b in u)(c||s.call(u,b))&&!(g&&(b=="length"||f&&(b=="offset"||b=="parent")||p&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,w)))&&m.push(b);return m}return nR=l,nR}var iR,r7;function pXe(){if(r7)return iR;r7=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return iR=e,iR}var aR,n7;function gBe(){if(n7)return aR;n7=1;function t(e,r){return function(n){return e(r(n))}}return aR=t,aR}var oR,i7;function gXe(){if(i7)return oR;i7=1;var t=gBe(),e=t(Object.keys,Object);return oR=e,oR}var sR,a7;function mXe(){if(a7)return sR;a7=1;var t=pXe(),e=gXe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return sR=i,sR}var lR,o7;function Zw(){if(o7)return lR;o7=1;var t=t3(),e=m3();function r(n){return n!=null&&e(n.length)&&!t(n)}return lR=r,lR}var uR,s7;function q_(){if(s7)return uR;s7=1;var t=hXe(),e=mXe(),r=Zw();function n(i){return r(i)?t(i):e(i)}return uR=n,uR}var cR,l7;function vXe(){if(l7)return cR;l7=1;var t=aXe(),e=lXe(),r=q_();function n(i){return t(i,r,e)}return cR=n,cR}var AR,u7;function yXe(){if(u7)return AR;u7=1;var t=vXe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,u,c){var A=s&e,d=t(a),f=d.length,p=t(o),g=p.length;if(f!=g&&!A)return!1;for(var m=f;m--;){var w=d[m];if(!(A?w in o:n.call(o,w)))return!1}var b=c.get(a),C=c.get(o);if(b&&C)return b==o&&C==a;var S=!0;c.set(a,o),c.set(o,a);for(var x=A;++m<f;){w=d[m];var _=a[w],B=o[w];if(l)var T=A?l(B,_,w,o,a,c):l(_,B,w,a,o,c);if(!(T===void 0?_===B||u(_,B,s,l,c):T)){S=!1;break}x||(x=w=="constructor")}if(S&&!x){var R=a.constructor,P=o.constructor;R!=P&&"constructor"in a&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof P=="function"&&P instanceof P)&&(S=!1)}return c.delete(a),c.delete(o),S}return AR=i,AR}var dR,c7;function wXe(){if(c7)return dR;c7=1;var t=nh(),e=Gu(),r=t(e,"DataView");return dR=r,dR}var fR,A7;function bXe(){if(A7)return fR;A7=1;var t=nh(),e=Gu(),r=t(e,"Promise");return fR=r,fR}var hR,d7;function mBe(){if(d7)return hR;d7=1;var t=nh(),e=Gu(),r=t(e,"Set");return hR=r,hR}var pR,f7;function SXe(){if(f7)return pR;f7=1;var t=nh(),e=Gu(),r=t(e,"WeakMap");return pR=r,pR}var gR,h7;function xXe(){if(h7)return gR;h7=1;var t=wXe(),e=n3(),r=bXe(),n=mBe(),i=SXe(),a=rA(),o=kIe(),s="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",A="[object WeakMap]",d="[object DataView]",f=o(t),p=o(e),g=o(r),m=o(n),w=o(i),b=a;return(t&&b(new t(new ArrayBuffer(1)))!=d||e&&b(new e)!=s||r&&b(r.resolve())!=u||n&&b(new n)!=c||i&&b(new i)!=A)&&(b=function(C){var S=a(C),x=S==l?C.constructor:void 0,_=x?o(x):"";if(_)switch(_){case f:return d;case p:return s;case g:return u;case m:return c;case w:return A}return S}),gR=b,gR}var mR,p7;function CXe(){if(p7)return mR;p7=1;var t=sBe(),e=ABe(),r=iXe(),n=yXe(),i=xXe(),a=Qo(),o=fBe(),s=pBe(),l=1,u="[object Arguments]",c="[object Array]",A="[object Object]",d=Object.prototype,f=d.hasOwnProperty;function p(g,m,w,b,C,S){var x=a(g),_=a(m),B=x?c:i(g),T=_?c:i(m);B=B==u?A:B,T=T==u?A:T;var R=B==A,P=T==A,M=B==T;if(M&&o(g)){if(!o(m))return!1;x=!0,R=!1}if(M&&!R)return S||(S=new t),x||s(g)?e(g,m,w,b,C,S):r(g,m,B,w,b,C,S);if(!(w&l)){var U=R&&f.call(g,"__wrapped__"),F=P&&f.call(m,"__wrapped__");if(U||F){var j=U?g.value():g,L=F?m.value():m;return S||(S=new t),C(j,L,w,b,S)}}return M?(S||(S=new t),n(g,m,w,b,C,S)):!1}return mR=p,mR}var vR,g7;function v3(){if(g7)return vR;g7=1;var t=CXe(),e=nA();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,s)}return vR=r,vR}var yR,m7;function _Xe(){if(m7)return yR;m7=1;var t=sBe(),e=v3(),r=1,n=2;function i(a,o,s,l){var u=s.length,c=u,A=!l;if(a==null)return!c;for(a=Object(a);u--;){var d=s[u];if(A&&d[2]?d[1]!==a[d[0]]:!(d[0]in a))return!1}for(;++u<c;){d=s[u];var f=d[0],p=a[f],g=d[1];if(A&&d[2]){if(p===void 0&&!(f in a))return!1}else{var m=new t;if(l)var w=l(p,g,f,a,o,m);if(!(w===void 0?e(g,p,r|n,l,m):w))return!1}}return!0}return yR=i,yR}var wR,v7;function vBe(){if(v7)return wR;v7=1;var t=bd();function e(r){return r===r&&!t(r)}return wR=e,wR}var bR,y7;function EXe(){if(y7)return bR;y7=1;var t=vBe(),e=q_();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,t(s)]}return i}return bR=r,bR}var SR,w7;function yBe(){if(w7)return SR;w7=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return SR=t,SR}var xR,b7;function IXe(){if(b7)return xR;b7=1;var t=_Xe(),e=EXe(),r=yBe();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return xR=n,xR}var CR,S7;function BXe(){if(S7)return CR;S7=1;function t(e,r){return e!=null&&r in Object(e)}return CR=t,CR}var _R,x7;function PXe(){if(x7)return _R;x7=1;var t=jIe(),e=p3(),r=Qo(),n=g3(),i=m3(),a=j_();function o(s,l,u){l=t(l,s);for(var c=-1,A=l.length,d=!1;++c<A;){var f=a(l[c]);if(!(d=s!=null&&u(s,f)))break;s=s[f]}return d||++c!=A?d:(A=s==null?0:s.length,!!A&&i(A)&&n(f,A)&&(r(s)||e(s)))}return _R=o,_R}var ER,C7;function TXe(){if(C7)return ER;C7=1;var t=BXe(),e=PXe();function r(n,i){return n!=null&&e(n,i,t)}return ER=r,ER}var IR,_7;function OXe(){if(_7)return IR;_7=1;var t=v3(),e=LIe(),r=TXe(),n=e3(),i=vBe(),a=yBe(),o=j_(),s=1,l=2;function u(c,A){return n(c)&&i(A)?a(o(c),A):function(d){var f=e(d,c);return f===void 0&&f===A?r(d,c):t(A,f,s|l)}}return IR=u,IR}var BR,E7;function Wg(){if(E7)return BR;E7=1;function t(e){return e}return BR=t,BR}var PR,I7;function RXe(){if(I7)return PR;I7=1;function t(e){return function(r){return r==null?void 0:r[e]}}return PR=t,PR}var TR,B7;function MXe(){if(B7)return TR;B7=1;var t=o3();function e(r){return function(n){return t(n,r)}}return TR=e,TR}var OR,P7;function FXe(){if(P7)return OR;P7=1;var t=RXe(),e=MXe(),r=e3(),n=j_();function i(a){return r(a)?t(n(a)):e(a)}return OR=i,OR}var RR,T7;function Sd(){if(T7)return RR;T7=1;var t=IXe(),e=OXe(),r=Wg(),n=Qo(),i=FXe();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return RR=a,RR}var MR,O7;function wBe(){if(O7)return MR;O7=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return MR=t,MR}var FR,R7;function kXe(){if(R7)return FR;R7=1;function t(e){return e!==e}return FR=t,FR}var kR,M7;function UXe(){if(M7)return kR;M7=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return kR=t,kR}var UR,F7;function DXe(){if(F7)return UR;F7=1;var t=wBe(),e=kXe(),r=UXe();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return UR=n,UR}var DR,k7;function jXe(){if(k7)return DR;k7=1;var t=DXe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return DR=e,DR}var jR,U7;function LXe(){if(U7)return jR;U7=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return jR=t,jR}var LR,D7;function NXe(){if(D7)return LR;D7=1;function t(){}return LR=t,LR}var NR,j7;function $Xe(){if(j7)return NR;j7=1;var t=mBe(),e=NXe(),r=h3(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return NR=i,NR}var $R,L7;function QXe(){if(L7)return $R;L7=1;var t=lBe(),e=jXe(),r=LXe(),n=cBe(),i=$Xe(),a=h3(),o=200;function s(l,u,c){var A=-1,d=e,f=l.length,p=!0,g=[],m=g;if(c)p=!1,d=r;else if(f>=o){var w=u?null:i(l);if(w)return a(w);p=!1,d=n,m=new t}else m=u?[]:g;e:for(;++A<f;){var b=l[A],C=u?u(b):b;if(b=c||b!==0?b:0,p&&C===C){for(var S=m.length;S--;)if(m[S]===C)continue e;u&&m.push(C),g.push(b)}else d(m,C,c)||(m!==g&&m.push(C),g.push(b))}return g}return $R=s,$R}var QR,N7;function HXe(){if(N7)return QR;N7=1;var t=Sd(),e=QXe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return QR=r,QR}var qXe=HXe();const $7=kr(qXe);function bBe(t,e,r){return e===!0?$7(t,r):Ir(e)?$7(t,e):t}function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}var KXe=["ref"];function Q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(r),!0).forEach(function(n){K_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xBe(n.key),n)}}function WXe(t,e,r){return H7(t.prototype,e),H7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GXe(t,e,r){return e=R1(e),VXe(t,SBe()?Reflect.construct(e,r,R1(t).constructor):e.apply(t,r))}function VXe(t,e){if(e&&(sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YXe(t)}function YXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SBe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SBe=function(){return!!t})()}function R1(t){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(t)}function XXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B$(t,e)}function B$(t,e){return B$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B$(t,e)}function K_(t,e,r){return e=xBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xBe(t){var e=JXe(t,"string");return sg(e)=="symbol"?e:e+""}function JXe(t,e){if(sg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZXe(t,e){if(t==null)return{};var r=eJe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tJe(t){return t.value}function rJe(t,e){if(ce.isValidElement(t))return ce.cloneElement(t,e);if(typeof t=="function")return ce.createElement(t,e);e.ref;var r=ZXe(e,KXe);return ce.createElement(f3,r)}var q7=1,Tf=function(t){function e(){var r;zXe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=GXe(this,e,[].concat(i)),K_(r,"lastBoundingBox",{width:-1,height:-1}),r}return XXe(e,t),WXe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>q7||Math.abs(i.height-this.lastBoundingBox.height)>q7)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,A,d;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();A={left:((u||0)-f.width)/2}}else A=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var p=this.getBBoxSnapshot();d={top:((c||0)-p.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return bc(bc({},A),d)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,A=bc(bc({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ce.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:function(f){n.wrapperNode=f}},rJe(a,bc(bc({},this.props),{},{payload:bBe(c,u,tJe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=bc(bc({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&yt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(I.PureComponent);K_(Tf,"displayName","Legend");K_(Tf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var HR,K7;function nJe(){if(K7)return HR;K7=1;var t=Yw(),e=p3(),r=Qo(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return HR=i,HR}var qR,z7;function CBe(){if(z7)return qR;z7=1;var t=dBe(),e=nJe();function r(n,i,a,o,s){var l=-1,u=n.length;for(a||(a=e),s||(s=[]);++l<u;){var c=n[l];i>0&&a(c)?i>1?r(c,i-1,a,o,s):t(s,c):o||(s[s.length]=c)}return s}return qR=r,qR}var KR,W7;function iJe(){if(W7)return KR;W7=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var u=s[e?l:++a];if(n(o[u],u,o)===!1)break}return r}}return KR=t,KR}var zR,G7;function aJe(){if(G7)return zR;G7=1;var t=iJe(),e=t();return zR=e,zR}var WR,V7;function _Be(){if(V7)return WR;V7=1;var t=aJe(),e=q_();function r(n,i){return n&&t(n,i,e)}return WR=r,WR}var GR,Y7;function oJe(){if(Y7)return GR;Y7=1;var t=Zw();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return GR=e,GR}var VR,X7;function y3(){if(X7)return VR;X7=1;var t=_Be(),e=oJe(),r=e(t);return VR=r,VR}var YR,J7;function EBe(){if(J7)return YR;J7=1;var t=y3(),e=Zw();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(s,l,u){o[++a]=i(s,l,u)}),o}return YR=r,YR}var XR,Z7;function sJe(){if(Z7)return XR;Z7=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return XR=t,XR}var JR,eV;function lJe(){if(eV)return JR;eV=1;var t=Kg();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=t(r),l=n!==void 0,u=n===null,c=n===n,A=t(n);if(!u&&!A&&!s&&r>n||s&&l&&c&&!u&&!A||a&&l&&c||!i&&c||!o)return 1;if(!a&&!s&&!A&&r<n||A&&i&&o&&!a&&!s||u&&i&&o||!l&&o||!c)return-1}return 0}return JR=e,JR}var ZR,tV;function uJe(){if(tV)return ZR;tV=1;var t=lJe();function e(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,u=i.length;++a<l;){var c=t(o[a],s[a]);if(c){if(a>=u)return c;var A=i[a];return c*(A=="desc"?-1:1)}}return r.index-n.index}return ZR=e,ZR}var e2,rV;function cJe(){if(rV)return e2;rV=1;var t=a3(),e=o3(),r=Sd(),n=EBe(),i=sJe(),a=hBe(),o=uJe(),s=Wg(),l=Qo();function u(c,A,d){A.length?A=t(A,function(g){return l(g)?function(m){return e(m,g.length===1?g[0]:g)}:g}):A=[s];var f=-1;A=t(A,a(r));var p=n(c,function(g,m,w){var b=t(A,function(C){return C(g)});return{criteria:b,index:++f,value:g}});return i(p,function(g,m){return o(g,m,d)})}return e2=u,e2}var t2,nV;function AJe(){if(nV)return t2;nV=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return t2=t,t2}var r2,iV;function dJe(){if(iV)return r2;iV=1;var t=AJe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=o[s];return c[i]=a(u),t(n,this,c)}}return r2=r,r2}var n2,aV;function fJe(){if(aV)return n2;aV=1;function t(e){return function(){return e}}return n2=t,n2}var i2,oV;function IBe(){if(oV)return i2;oV=1;var t=nh(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return i2=e,i2}var a2,sV;function hJe(){if(sV)return a2;sV=1;var t=fJe(),e=IBe(),r=Wg(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return a2=n,a2}var o2,lV;function pJe(){if(lV)return o2;lV=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return o2=n,o2}var s2,uV;function gJe(){if(uV)return s2;uV=1;var t=hJe(),e=pJe(),r=e(t);return s2=r,s2}var l2,cV;function mJe(){if(cV)return l2;cV=1;var t=Wg(),e=dJe(),r=gJe();function n(i,a){return r(e(i,a,t),i+"")}return l2=n,l2}var u2,AV;function z_(){if(AV)return u2;AV=1;var t=r3(),e=Zw(),r=g3(),n=bd();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?e(s)&&r(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return u2=i,u2}var c2,dV;function vJe(){if(dV)return c2;dV=1;var t=CBe(),e=cJe(),r=mJe(),n=z_(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return c2=i,c2}var yJe=vJe();const w3=kr(yJe);function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function P$(){return P$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P$.apply(this,arguments)}function wJe(t,e){return CJe(t)||xJe(t,e)||SJe(t,e)||bJe()}function bJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SJe(t,e){if(t){if(typeof t=="string")return fV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fV(t,e)}}function fV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xJe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function CJe(t){if(Array.isArray(t))return t}function hV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(r),!0).forEach(function(n){_Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Je(t,e,r){return e=EJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EJe(t){var e=IJe(t,"string");return Ly(e)=="symbol"?e:e+""}function IJe(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJe(t){return Array.isArray(t)&&Ui(t[0])&&Ui(t[1])?t.join(" ~ "):t}var PJe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,A=e.formatter,d=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,g=e.label,m=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,C=function(){if(c&&c.length){var U={padding:0,margin:0},F=(d?w3(c,d):c).map(function(j,L){if(j.type==="none")return null;var $=A2({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},s),Q=j.formatter||A||BJe,H=j.value,q=j.name,Y=H,z=q;if(Y!=null&&z!=null){var V=Q(H,q,j,L,c);if(Array.isArray(V)){var X=wJe(V,2);Y=X[0],z=X[1]}else Y=V}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:$},Ui(z)?ce.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Ui(z)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},Y),ce.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:U},F)}return null},S=A2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=A2({margin:0},u),_=!Gr(g),B=_?g:"",T=dt("recharts-default-tooltip",f),R=dt("recharts-tooltip-label",p);_&&m&&c!==void 0&&c!==null&&(B=m(g,c));var P=b?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",P$({className:T,style:S},P),ce.createElement("p",{className:R,style:x},ce.isValidElement(B)?B:"".concat(B)),C())};function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function n0(t,e,r){return e=TJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TJe(t){var e=OJe(t,"string");return Ny(e)=="symbol"?e:e+""}function OJe(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cv="recharts-tooltip-wrapper",RJe={visibility:"hidden"};function MJe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return dt(cv,n0(n0(n0(n0({},"".concat(cv,"-right"),yt(r)&&e&&yt(e.x)&&r>=e.x),"".concat(cv,"-left"),yt(r)&&e&&yt(e.x)&&r<e.x),"".concat(cv,"-bottom"),yt(n)&&e&&yt(e.y)&&n>=e.y),"".concat(cv,"-top"),yt(n)&&e&&yt(e.y)&&n<e.y))}function pV(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&yt(a[n]))return a[n];var c=r[n]-s-i,A=r[n]+i;if(e[n])return o[n]?c:A;if(o[n]){var d=c,f=l[n];return d<f?Math.max(A,l[n]):Math.max(c,l[n])}var p=A+s,g=l[n]+u;return p>g?Math.max(c,l[n]):Math.max(A,l[n])}function FJe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function kJe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,A;return o.height>0&&o.width>0&&r?(c=pV({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),A=pV({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=FJe({translateX:c,translateY:A,useTranslate3d:s})):u=RJe,{cssProperties:u,cssClasses:MJe({translateX:c,translateY:A,coordinate:r})}}function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function gV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(r),!0).forEach(function(n){O$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DJe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PBe(n.key),n)}}function jJe(t,e,r){return DJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LJe(t,e,r){return e=M1(e),NJe(t,BBe()?Reflect.construct(e,r,M1(t).constructor):e.apply(t,r))}function NJe(t,e){if(e&&(lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Je(t)}function $Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BBe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BBe=function(){return!!t})()}function M1(t){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M1(t)}function QJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T$(t,e)}function T$(t,e){return T$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T$(t,e)}function O$(t,e,r){return e=PBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PBe(t){var e=HJe(t,"string");return lg(e)=="symbol"?e:e+""}function HJe(t,e){if(lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vV=1,qJe=function(t){function e(){var r;UJe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=LJe(this,e,[].concat(i)),O$(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),O$(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return QJe(e,t),jJe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>vV||Math.abs(n.height-this.state.lastBoundingBox.height)>vV)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,A=i.hasPayload,d=i.isAnimationActive,f=i.offset,p=i.position,g=i.reverseDirection,m=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,C=kJe({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:w}),S=C.cssClasses,x=C.cssProperties,_=mV(mV({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&A?"visible":"hidden",position:"absolute",top:0,left:0},b);return ce.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(T){n.wrapperNode=T}},u)}}])}(I.PureComponent),KJe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ed={isSsr:KJe(),get:function(e){return ed[e]},set:function(e,r){if(typeof e=="string")ed[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){ed[i]=e[i]})}}};function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function yV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(r),!0).forEach(function(n){b3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WJe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OBe(n.key),n)}}function GJe(t,e,r){return WJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VJe(t,e,r){return e=F1(e),YJe(t,TBe()?Reflect.construct(e,r||[],F1(t).constructor):e.apply(t,r))}function YJe(t,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XJe(t)}function XJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TBe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TBe=function(){return!!t})()}function F1(t){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(t)}function JJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R$(t,e)}function R$(t,e){return R$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R$(t,e)}function b3(t,e,r){return e=OBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OBe(t){var e=ZJe(t,"string");return ug(e)=="symbol"?e:e+""}function ZJe(t,e){if(ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eZe(t){return t.dataKey}function tZe(t,e){return ce.isValidElement(t)?ce.cloneElement(t,e):typeof t=="function"?ce.createElement(t,e):ce.createElement(PJe,e)}var Cl=function(t){function e(){return zJe(this,e),VJe(this,e,arguments)}return JJe(e,t),GJe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,A=i.filterNull,d=i.isAnimationActive,f=i.offset,p=i.payload,g=i.payloadUniqBy,m=i.position,w=i.reverseDirection,b=i.useTranslate3d,C=i.viewBox,S=i.wrapperStyle,x=p??[];A&&x.length&&(x=bBe(p.filter(function(B){return B.value!=null&&(B.hide!==!0||n.props.includeHidden)}),g,eZe));var _=x.length>0;return ce.createElement(qJe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:c,hasPayload:_,offset:f,position:m,reverseDirection:w,useTranslate3d:b,viewBox:C,wrapperStyle:S},tZe(u,wV(wV({},this.props),{},{payload:x})))}}])}(I.PureComponent);b3(Cl,"displayName","Tooltip");b3(Cl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ed.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var d2,bV;function rZe(){if(bV)return d2;bV=1;var t=Gu(),e=function(){return t.Date.now()};return d2=e,d2}var f2,SV;function nZe(){if(SV)return f2;SV=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return f2=e,f2}var h2,xV;function iZe(){if(xV)return h2;xV=1;var t=nZe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return h2=r,h2}var p2,CV;function RBe(){if(CV)return p2;CV=1;var t=iZe(),e=bd(),r=Kg(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=e(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=t(u);var A=a.test(u);return A||o.test(u)?s(u.slice(2),A?2:8):i.test(u)?n:+u}return p2=l,p2}var g2,_V;function aZe(){if(_V)return g2;_V=1;var t=bd(),e=rZe(),r=RBe(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var c,A,d,f,p,g,m=0,w=!1,b=!1,C=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(w=!!u.leading,b="maxWait"in u,d=b?i(r(u.maxWait)||0,l):d,C="trailing"in u?!!u.trailing:C);function S(F){var j=c,L=A;return c=A=void 0,m=F,f=s.apply(L,j),f}function x(F){return m=F,p=setTimeout(T,l),w?S(F):f}function _(F){var j=F-g,L=F-m,$=l-j;return b?a($,d-L):$}function B(F){var j=F-g,L=F-m;return g===void 0||j>=l||j<0||b&&L>=d}function T(){var F=e();if(B(F))return R(F);p=setTimeout(T,_(F))}function R(F){return p=void 0,C&&c?S(F):(c=A=void 0,f)}function P(){p!==void 0&&clearTimeout(p),m=0,c=g=A=p=void 0}function M(){return p===void 0?f:R(e())}function U(){var F=e(),j=B(F);if(c=arguments,A=this,g=F,j){if(p===void 0)return x(g);if(b)return clearTimeout(p),p=setTimeout(T,l),S(g)}return p===void 0&&(p=setTimeout(T,l)),f}return U.cancel=P,U.flush=M,U}return g2=o,g2}var m2,EV;function oZe(){if(EV)return m2;EV=1;var t=aZe(),e=bd(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),t(i,a,{leading:s,maxWait:a,trailing:l})}return m2=n,m2}var sZe=oZe();const MBe=kr(sZe);function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function IV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IV(Object(r),!0).forEach(function(n){lZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lZe(t,e,r){return e=uZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uZe(t){var e=cZe(t,"string");return $y(e)=="symbol"?e:e+""}function cZe(t,e){if($y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AZe(t,e){return pZe(t)||hZe(t,e)||fZe(t,e)||dZe()}function dZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZe(t,e){if(t){if(typeof t=="string")return BV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BV(t,e)}}function BV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function pZe(t){if(Array.isArray(t))return t}var FBe=I.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,A=t.minHeight,d=t.maxHeight,f=t.children,p=t.debounce,g=p===void 0?0:p,m=t.id,w=t.className,b=t.onResize,C=t.style,S=C===void 0?{}:C,x=I.useRef(null),_=I.useRef();_.current=b,I.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var B=I.useState({containerWidth:i.width,containerHeight:i.height}),T=AZe(B,2),R=T[0],P=T[1],M=I.useCallback(function(F,j){P(function(L){var $=Math.round(F),Q=Math.round(j);return L.containerWidth===$&&L.containerHeight===Q?L:{containerWidth:$,containerHeight:Q}})},[]);I.useEffect(function(){var F=function(q){var Y,z=q[0].contentRect,V=z.width,X=z.height;M(V,X),(Y=_.current)===null||Y===void 0||Y.call(_,V,X)};g>0&&(F=MBe(F,g,{trailing:!0,leading:!1}));var j=new ResizeObserver(F),L=x.current.getBoundingClientRect(),$=L.width,Q=L.height;return M($,Q),j.observe(x.current),function(){j.disconnect()}},[M,g]);var U=I.useMemo(function(){var F=R.containerWidth,j=R.containerHeight;if(F<0||j<0)return null;Pf(xf(o)||xf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Pf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=xf(o)?F:o,$=xf(l)?j:l;r&&r>0&&(L?$=L/r:$&&(L=$*r),d&&$>d&&($=d)),Pf(L>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,$,o,l,c,A,r);var Q=!Array.isArray(f)&&Dc(f.type).endsWith("Chart");return ce.Children.map(f,function(H){return ce.isValidElement(H)?I.cloneElement(H,i0({width:L,height:$},Q?{style:i0({height:"100%",width:"100%",maxHeight:$,maxWidth:L},H.props.style)}:{})):H})},[r,f,l,d,A,c,R,o]);return ce.createElement("div",{id:m?"".concat(m):void 0,className:dt("recharts-responsive-container",w),style:i0(i0({},S),{},{width:o,height:l,minWidth:c,minHeight:A,maxHeight:d}),ref:x},U)}),kBe=function(e){return null};kBe.displayName="Cell";function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function PV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(r),!0).forEach(function(n){gZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gZe(t,e,r){return e=mZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mZe(t){var e=vZe(t,"string");return Qy(e)=="symbol"?e:e+""}function vZe(t,e){if(Qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ap={widthCache:{},cacheCount:0},yZe=2e3,wZe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TV="recharts_measurement_span";function bZe(t){var e=M$({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ay=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ed.isSsr)return{width:0,height:0};var n=bZe(r),i=JSON.stringify({text:e,copyStyle:n});if(ap.widthCache[i])return ap.widthCache[i];try{var a=document.getElementById(TV);a||(a=document.createElement("span"),a.setAttribute("id",TV),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=M$(M$({},wZe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return ap.widthCache[i]=l,++ap.cacheCount>yZe&&(ap.cacheCount=0,ap.widthCache={}),l}catch{return{width:0,height:0}}},SZe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function k1(t,e){return EZe(t)||_Ze(t,e)||CZe(t,e)||xZe()}function xZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CZe(t,e){if(t){if(typeof t=="string")return OV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OV(t,e)}}function OV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Ze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function EZe(t){if(Array.isArray(t))return t}function IZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PZe(n.key),n)}}function BZe(t,e,r){return RV(t.prototype,e),RV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PZe(t){var e=TZe(t,"string");return Hy(e)=="symbol"?e:e+""}function TZe(t,e){if(Hy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OZe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RZe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UBe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MZe=Object.keys(UBe),Rp="NaN";function FZe(t,e){return t*UBe[e]}var a0=function(){function t(e,r){IZe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!OZe.test(r)&&(this.num=NaN,this.unit=""),MZe.includes(r)&&(this.num=FZe(e,r),this.unit="px")}return BZe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=RZe.exec(r))!==null&&n!==void 0?n:[],a=k1(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function DBe(t){if(t.includes(Rp))return Rp;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=MV.exec(e))!==null&&r!==void 0?r:[],i=k1(n,4),a=i[1],o=i[2],s=i[3],l=a0.parse(a??""),u=a0.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Rp;e=e.replace(MV,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var A,d=(A=FV.exec(e))!==null&&A!==void 0?A:[],f=k1(d,4),p=f[1],g=f[2],m=f[3],w=a0.parse(p??""),b=a0.parse(m??""),C=g==="+"?w.add(b):w.subtract(b);if(C.isNaN())return Rp;e=e.replace(FV,C.toString())}return e}var kV=/\(([^()]*)\)/;function kZe(t){for(var e=t;e.includes("(");){var r=kV.exec(e),n=k1(r,2),i=n[1];e=e.replace(kV,DBe(i))}return e}function UZe(t){var e=t.replace(/\s+/g,"");return e=kZe(e),e=DBe(e),e}function DZe(t){try{return UZe(t)}catch{return Rp}}function v2(t){var e=DZe(t.slice(5,-1));return e===Rp?"":e}var jZe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LZe=["dx","dy","angle","className","breakAll"];function F$(){return F$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F$.apply(this,arguments)}function UV(t,e){if(t==null)return{};var r=NZe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NZe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DV(t,e){return qZe(t)||HZe(t,e)||QZe(t,e)||$Ze()}function $Ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QZe(t,e){if(t){if(typeof t=="string")return jV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jV(t,e)}}function jV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qZe(t){if(Array.isArray(t))return t}var jBe=/[ \f\n\r\t\v\u2028\u2029]+/,LBe=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Gr(r)||(n?a=r.toString().split(""):a=r.toString().split(jBe));var o=a.map(function(l){return{word:l,width:Ay(l,i).width}}),s=n?0:Ay("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},KZe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=yt(o),A=s,d=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function($,Q){var H=Q.word,q=Q.width,Y=$[$.length-1];if(Y&&(i==null||a||Y.width+q+n<Number(i)))Y.words.push(H),Y.width+=q+n;else{var z={words:[H],width:q};$.push(z)}return $},[])},f=d(r),p=function(L){return L.reduce(function($,Q){return $.width>Q.width?$:Q})};if(!c)return f;for(var g="",m=function(L){var $=A.slice(0,L),Q=LBe({breakAll:u,style:l,children:$+g}).wordsWithComputedWidth,H=d(Q),q=H.length>o||p(H).width>Number(i);return[q,H]},w=0,b=A.length-1,C=0,S;w<=b&&C<=A.length-1;){var x=Math.floor((w+b)/2),_=x-1,B=m(_),T=DV(B,2),R=T[0],P=T[1],M=m(x),U=DV(M,1),F=U[0];if(!R&&!F&&(w=x+1),R&&F&&(b=x-1),!R&&F){S=P;break}C++}return S||f},LV=function(e){var r=Gr(e)?[]:e.toString().split(jBe);return[{words:r}]},zZe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!ed.isSsr){var l,u,c=LBe({breakAll:o,children:i,style:a});if(c){var A=c.wordsWithComputedWidth,d=c.spaceWidth;l=A,u=d}else return LV(i);return KZe({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return LV(i)},NV="#808080",U1=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,A=c===void 0?!1:c,d=e.textAnchor,f=d===void 0?"start":d,p=e.verticalAnchor,g=p===void 0?"end":p,m=e.fill,w=m===void 0?NV:m,b=UV(e,jZe),C=I.useMemo(function(){return zZe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:A,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,A,b.style,b.width]),S=b.dx,x=b.dy,_=b.angle,B=b.className,T=b.breakAll,R=UV(b,LZe);if(!Ui(n)||!Ui(a))return null;var P=n+(yt(S)?S:0),M=a+(yt(x)?x:0),U;switch(g){case"start":U=v2("calc(".concat(u,")"));break;case"middle":U=v2("calc(".concat((C.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:U=v2("calc(".concat(C.length-1," * -").concat(s,")"));break}var F=[];if(A){var j=C[0].width,L=b.width;F.push("scale(".concat((yt(L)?L/j:1)/j,")"))}return _&&F.push("rotate(".concat(_,", ").concat(P,", ").concat(M,")")),F.length&&(R.transform=F.join(" ")),ce.createElement("text",F$({},Wr(R,!0),{x:P,y:M,className:dt("recharts-text",B),textAnchor:f,fill:w.includes("url")?NV:w}),C.map(function($,Q){var H=$.words.join(T?"":" ");return ce.createElement("tspan",{x:P,dy:Q===0?U:s,key:"".concat(H,"-").concat(Q)},H)}))};function td(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WZe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S3(t){let e,r,n;t.length!==2?(e=td,r=(s,l)=>td(t(s),l),n=(s,l)=>t(s)-l):(e=t===td||t===WZe?t:GZe,r=t,n=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const A=u+c>>>1;r(s[A],l)<0?u=A+1:c=A}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const A=u+c>>>1;r(s[A],l)<=0?u=A+1:c=A}while(u<c)}return u}function o(s,l,u=0,c=s.length){const A=i(s,l,u,c-1);return A>u&&n(s[A-1],l)>-n(s[A],l)?A-1:A}return{left:i,center:o,right:a}}function GZe(){return 0}function NBe(t){return t===null?NaN:+t}function*VZe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const YZe=S3(td),eb=YZe.right;S3(NBe).center;class $V extends Map{constructor(e,r=ZZe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(QV(this,e))}has(e){return super.has(QV(this,e))}set(e,r){return super.set(XZe(this,e),r)}delete(e){return super.delete(JZe(this,e))}}function QV({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function XZe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function JZe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ZZe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eet(t=td){if(t===td)return $Be;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function $Be(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tet=Math.sqrt(50),ret=Math.sqrt(10),net=Math.sqrt(2);function D1(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=tet?10:a>=ret?5:a>=net?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?D1(t,e,r*2):[s,l,u]}function k$(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?D1(e,t,r):D1(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function U$(t,e,r){return e=+e,t=+t,r=+r,D1(t,e,r)[2]}function D$(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?U$(e,t,r):U$(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function HV(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qV(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QBe(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?$Be:eet(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,c=Math.log(l),A=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*A*(l-A)/l)*(u-l/2<0?-1:1),f=Math.max(r,Math.floor(e-u*A/l+d)),p=Math.min(n,Math.floor(e+(l-u)*A/l+d));QBe(t,e,f,p,i)}const a=t[e];let o=r,s=n;for(Av(t,r,e),i(t[n],a)>0&&Av(t,r,n);o<s;){for(Av(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Av(t,r,s):(++s,Av(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Av(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function iet(t,e,r){if(t=Float64Array.from(VZe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return qV(t);if(e>=1)return HV(t);var n,i=(n-1)*e,a=Math.floor(i),o=HV(QBe(t,a).subarray(0,a+1)),s=qV(t.subarray(a+1));return o+(s-o)*(i-a)}}function aet(t,e,r=NBe){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function oet(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function al(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function iA(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const j$=Symbol("implicit");function x3(){var t=new $V,e=[],r=[],n=j$;function i(a){let o=t.get(a);if(o===void 0){if(n!==j$)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new $V;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return x3(e,r).unknown(n)},al.apply(i,arguments),i}function qy(){var t=x3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function A(){var d=e().length,f=i<n,p=f?i:n,g=f?n:i;a=(g-p)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),p+=(g-p-a*(d-l))*c,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var m=oet(d).map(function(w){return p+a*w});return r(f?m.reverse():m)}return t.domain=function(d){return arguments.length?(e(d),A()):e()},t.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,A()):[n,i]},t.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,s=!0,A()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(d){return arguments.length?(s=!!d,A()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),A()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),A()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,A()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),A()):c},t.copy=function(){return qy(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},al.apply(A(),arguments)}function HBe(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return HBe(e())},t}function dy(){return HBe(qy.apply(null,arguments).paddingInner(1))}function C3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function qBe(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function tb(){}var Ky=.7,j1=1/Ky,zp="\\s*([+-]?\\d+)\\s*",zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",set=/^#([0-9a-f]{3,8})$/,uet=new RegExp(`^rgb\\(${zp},${zp},${zp}\\)$`),cet=new RegExp(`^rgb\\(${Mu},${Mu},${Mu}\\)$`),Aet=new RegExp(`^rgba\\(${zp},${zp},${zp},${zy}\\)$`),det=new RegExp(`^rgba\\(${Mu},${Mu},${Mu},${zy}\\)$`),fet=new RegExp(`^hsl\\(${zy},${Mu},${Mu}\\)$`),het=new RegExp(`^hsla\\(${zy},${Mu},${Mu},${zy}\\)$`),KV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};C3(tb,Wy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zV,formatHex:zV,formatHex8:pet,formatHsl:get,formatRgb:WV,toString:WV});function zV(){return this.rgb().formatHex()}function pet(){return this.rgb().formatHex8()}function get(){return KBe(this).formatHsl()}function WV(){return this.rgb().formatRgb()}function Wy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=set.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?GV(e):r===3?new jo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?o0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?o0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uet.exec(t))?new jo(e[1],e[2],e[3],1):(e=cet.exec(t))?new jo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Aet.exec(t))?o0(e[1],e[2],e[3],e[4]):(e=det.exec(t))?o0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fet.exec(t))?XV(e[1],e[2]/100,e[3]/100,1):(e=het.exec(t))?XV(e[1],e[2]/100,e[3]/100,e[4]):KV.hasOwnProperty(t)?GV(KV[t]):t==="transparent"?new jo(NaN,NaN,NaN,0):null}function GV(t){return new jo(t>>16&255,t>>8&255,t&255,1)}function o0(t,e,r,n){return n<=0&&(t=e=r=NaN),new jo(t,e,r,n)}function met(t){return t instanceof tb||(t=Wy(t)),t?(t=t.rgb(),new jo(t.r,t.g,t.b,t.opacity)):new jo}function L$(t,e,r,n){return arguments.length===1?met(t):new jo(t,e,r,n??1)}function jo(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}C3(jo,L$,qBe(tb,{brighter(t){return t=t==null?j1:Math.pow(j1,t),new jo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ky:Math.pow(Ky,t),new jo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jo(Of(this.r),Of(this.g),Of(this.b),L1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VV,formatHex:VV,formatHex8:vet,formatRgb:YV,toString:YV}));function VV(){return`#${Cf(this.r)}${Cf(this.g)}${Cf(this.b)}`}function vet(){return`#${Cf(this.r)}${Cf(this.g)}${Cf(this.b)}${Cf((isNaN(this.opacity)?1:this.opacity)*255)}`}function YV(){const t=L1(this.opacity);return`${t===1?"rgb(":"rgba("}${Of(this.r)}, ${Of(this.g)}, ${Of(this.b)}${t===1?")":`, ${t})`}`}function L1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Of(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cf(t){return t=Of(t),(t<16?"0":"")+t.toString(16)}function XV(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Pl(t,e,r,n)}function KBe(t){if(t instanceof Pl)return new Pl(t.h,t.s,t.l,t.opacity);if(t instanceof tb||(t=Wy(t)),!t)return new Pl;if(t instanceof Pl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Pl(o,s,l,t.opacity)}function yet(t,e,r,n){return arguments.length===1?KBe(t):new Pl(t,e,r,n??1)}function Pl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}C3(Pl,yet,qBe(tb,{brighter(t){return t=t==null?j1:Math.pow(j1,t),new Pl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ky:Math.pow(Ky,t),new Pl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new jo(y2(t>=240?t-240:t+120,i,n),y2(t,i,n),y2(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Pl(JV(this.h),s0(this.s),s0(this.l),L1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=L1(this.opacity);return`${t===1?"hsl(":"hsla("}${JV(this.h)}, ${s0(this.s)*100}%, ${s0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JV(t){return t=(t||0)%360,t<0?t+360:t}function s0(t){return Math.max(0,Math.min(1,t||0))}function y2(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const _3=t=>()=>t;function wet(t,e){return function(r){return t+r*e}}function bet(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function xet(t){return(t=+t)==1?zBe:function(e,r){return r-e?bet(e,r,t):_3(isNaN(e)?r:e)}}function zBe(t,e){var r=e-t;return r?wet(t,r):_3(isNaN(t)?e:t)}const ZV=function t(e){var r=xet(e);function n(i,a){var o=r((i=L$(i)).r,(a=L$(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=zBe(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function Cet(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function _et(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Eet(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Gg(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Iet(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function N1(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Bet(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Gg(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var N$=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w2=new RegExp(N$.source,"g");function Pet(t){return function(){return t}}function Tet(t){return function(e){return t(e)+""}}function Oet(t,e){var r=N$.lastIndex=w2.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=N$.exec(t))&&(i=w2.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:N1(n,i)})),r=w2.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Tet(l[0].x):Pet(e):(e=l.length,function(u){for(var c=0,A;c<e;++c)s[(A=l[c]).i]=A.x(u);return s.join("")})}function Gg(t,e){var r=typeof e,n;return e==null||r==="boolean"?_3(e):(r==="number"?N1:r==="string"?(n=Wy(e))?(e=n,ZV):Oet:e instanceof Wy?ZV:e instanceof Date?Iet:_et(e)?Cet:Array.isArray(e)?Eet:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bet:N1)(t,e)}function E3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Ret(t,e){e===void 0&&(e=t,t=Gg);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Met(t){return function(){return t}}function $1(t){return+t}var eY=[0,1];function fo(t){return t}function $$(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Met(isNaN(e)?NaN:.5)}function Fet(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ket(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=$$(i,n),a=r(o,a)):(n=$$(n,i),a=r(a,o)),function(s){return a(n(s))}}function Uet(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=$$(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=eb(t,s,1,n)-1;return a[l](i[l](s))}}function rb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function W_(){var t=eY,e=eY,r=Gg,n,i,a,o=fo,s,l,u;function c(){var d=Math.min(t.length,e.length);return o!==fo&&(o=Fet(t[0],t[d-1])),s=d>2?Uet:ket,l=u=null,A}function A(d){return d==null||isNaN(d=+d)?a:(l||(l=s(t.map(n),e,r)))(n(o(d)))}return A.invert=function(d){return o(i((u||(u=s(e,t.map(n),N1)))(d)))},A.domain=function(d){return arguments.length?(t=Array.from(d,$1),c()):t.slice()},A.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},A.rangeRound=function(d){return e=Array.from(d),r=E3,c()},A.clamp=function(d){return arguments.length?(o=d?!0:fo,c()):o!==fo},A.interpolate=function(d){return arguments.length?(r=d,c()):r},A.unknown=function(d){return arguments.length?(a=d,A):a},function(d,f){return n=d,i=f,c()}}function I3(){return W_()(fo,fo)}function Det(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Q1(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function cg(t){return t=Q1(Math.abs(t)),t?t[1]:NaN}function jet(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Let(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Net=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gy(t){if(!(e=Net.exec(t)))throw new Error("invalid format: "+t);var e;return new B3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gy.prototype=B3.prototype;function B3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}B3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $et(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var WBe;function Qet(t,e){var r=Q1(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(WBe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Q1(t,Math.max(0,e+a-1))[0]}function tY(t,e){var r=Q1(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const rY={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Det,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tY(t*100,e),r:tY,s:Qet,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nY(t){return t}var iY=Array.prototype.map,aY=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Het(t){var e=t.grouping===void 0||t.thousands===void 0?nY:jet(iY.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?nY:Let(iY.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(A){A=Gy(A);var d=A.fill,f=A.align,p=A.sign,g=A.symbol,m=A.zero,w=A.width,b=A.comma,C=A.precision,S=A.trim,x=A.type;x==="n"?(b=!0,x="g"):rY[x]||(C===void 0&&(C=12),S=!0,x="g"),(m||d==="0"&&f==="=")&&(m=!0,d="0",f="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",B=g==="$"?n:/[%p]/.test(x)?o:"",T=rY[x],R=/[defgprs%]/.test(x);C=C===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(M){var U=_,F=B,j,L,$;if(x==="c")F=T(M)+F,M="";else{M=+M;var Q=M<0||1/M<0;if(M=isNaN(M)?l:T(Math.abs(M),C),S&&(M=$et(M)),Q&&+M==0&&p!=="+"&&(Q=!1),U=(Q?p==="("?p:s:p==="-"||p==="("?"":p)+U,F=(x==="s"?aY[8+WBe/3]:"")+F+(Q&&p==="("?")":""),R){for(j=-1,L=M.length;++j<L;)if($=M.charCodeAt(j),48>$||$>57){F=($===46?i+M.slice(j+1):M.slice(j))+F,M=M.slice(0,j);break}}}b&&!m&&(M=e(M,1/0));var H=U.length+M.length+F.length,q=H<w?new Array(w-H+1).join(d):"";switch(b&&m&&(M=e(q+M,q.length?w-F.length:1/0),q=""),f){case"<":M=U+M+F+q;break;case"=":M=U+q+M+F;break;case"^":M=q.slice(0,H=q.length>>1)+U+M+F+q.slice(H);break;default:M=q+U+M+F;break}return a(M)}return P.toString=function(){return A+""},P}function c(A,d){var f=u((A=Gy(A),A.type="f",A)),p=Math.max(-8,Math.min(8,Math.floor(cg(d)/3)))*3,g=Math.pow(10,-p),m=aY[8+p/3];return function(w){return f(g*w)+m}}return{format:u,formatPrefix:c}}var l0,P3,GBe;qet({thousands:",",grouping:[3],currency:["$",""]});function qet(t){return l0=Het(t),P3=l0.format,GBe=l0.formatPrefix,l0}function Ket(t){return Math.max(0,-cg(Math.abs(t)))}function zet(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cg(e)/3)))*3-cg(Math.abs(t)))}function Wet(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cg(e)-cg(t))+1}function VBe(t,e,r,n){var i=D$(t,e,r),a;switch(n=Gy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=zet(i,o))&&(n.precision=a),GBe(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Wet(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Ket(i))&&(n.precision=a-(n.type==="%")*2);break}}return P3(n)}function xd(t){var e=t.domain;return t.ticks=function(r){var n=e();return k$(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return VBe(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=U$(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function H1(){var t=I3();return t.copy=function(){return rb(t,H1())},al.apply(t,arguments),xd(t)}function YBe(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,$1),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return YBe(t).unknown(e)},t=arguments.length?Array.from(t,$1):[0,1],xd(r)}function XBe(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function oY(t){return Math.log(t)}function sY(t){return Math.exp(t)}function Get(t){return-Math.log(-t)}function Vet(t){return-Math.exp(-t)}function Yet(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xet(t){return t===10?Yet:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jet(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lY(t){return(e,r)=>-t(-e,r)}function T3(t){const e=t(oY,sY),r=e.domain;let n=10,i,a;function o(){return i=Jet(n),a=Xet(n),r()[0]<0?(i=lY(i),a=lY(a),t(Get,Vet)):t(oY,sY),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const A=c<u;A&&([u,c]=[c,u]);let d=i(u),f=i(c),p,g;const m=s==null?10:+s;let w=[];if(!(n%1)&&f-d<m){if(d=Math.floor(d),f=Math.ceil(f),u>0){for(;d<=f;++d)for(p=1;p<n;++p)if(g=d<0?p/a(-d):p*a(d),!(g<u)){if(g>c)break;w.push(g)}}else for(;d<=f;++d)for(p=n-1;p>=1;--p)if(g=d>0?p/a(-d):p*a(d),!(g<u)){if(g>c)break;w.push(g)}w.length*2<m&&(w=k$(u,c,m))}else w=k$(d,f,Math.min(f-d,m)).map(a);return A?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Gy(l)).precision==null&&(l.trim=!0),l=P3(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return c=>{let A=c/a(Math.round(i(c)));return A*n<n-.5&&(A*=n),A<=u?l(c):""}},e.nice=()=>r(XBe(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function JBe(){const t=T3(W_()).domain([1,10]);return t.copy=()=>rb(t,JBe()).base(t.base()),al.apply(t,arguments),t}function uY(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cY(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function O3(t){var e=1,r=t(uY(e),cY(e));return r.constant=function(n){return arguments.length?t(uY(e=+n),cY(e)):e},xd(r)}function ZBe(){var t=O3(W_());return t.copy=function(){return rb(t,ZBe()).constant(t.constant())},al.apply(t,arguments)}function AY(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zet(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ett(t){return t<0?-t*t:t*t}function R3(t){var e=t(fo,fo),r=1;function n(){return r===1?t(fo,fo):r===.5?t(Zet,ett):t(AY(r),AY(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},xd(e)}function M3(){var t=R3(W_());return t.copy=function(){return rb(t,M3()).exponent(t.exponent())},al.apply(t,arguments),t}function ttt(){return M3.apply(null,arguments).exponent(.5)}function dY(t){return Math.sign(t)*t*t}function rtt(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ePe(){var t=I3(),e=[0,1],r=!1,n;function i(a){var o=rtt(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(dY(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,$1)).map(dY)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ePe(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},al.apply(i,arguments),xd(i)}function tPe(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=aet(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[eb(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(td),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return tPe().domain(t).range(e).unknown(n)},al.apply(a,arguments)}function rPe(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[eb(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return rPe().domain([t,e]).range(i).unknown(a)},al.apply(xd(o),arguments)}function nPe(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[eb(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nPe().domain(t).range(e).unknown(r)},al.apply(i,arguments)}const b2=new Date,S2=new Date;function Di(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Di(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(b2.setTime(+a),S2.setTime(+o),t(b2),t(S2),Math.floor(r(b2,S2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const q1=Di(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);q1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Di(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):q1);q1.range;const Rc=1e3,Hs=Rc*60,Mc=Hs*60,Gc=Mc*24,F3=Gc*7,fY=Gc*30,x2=Gc*365,_f=Di(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Rc)},(t,e)=>(e-t)/Rc,t=>t.getUTCSeconds());_f.range;const k3=Di(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rc)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getMinutes());k3.range;const U3=Di(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getUTCMinutes());U3.range;const D3=Di(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rc-t.getMinutes()*Hs)},(t,e)=>{t.setTime(+t+e*Mc)},(t,e)=>(e-t)/Mc,t=>t.getHours());D3.range;const j3=Di(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Mc)},(t,e)=>(e-t)/Mc,t=>t.getUTCHours());j3.range;const nb=Di(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hs)/Gc,t=>t.getDate()-1);nb.range;const G_=Di(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gc,t=>t.getUTCDate()-1);G_.range;const iPe=Di(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gc,t=>Math.floor(t/Gc));iPe.range;function ih(t){return Di(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Hs)/F3)}const V_=ih(0),K1=ih(1),ntt=ih(2),itt=ih(3),Ag=ih(4),att=ih(5),ott=ih(6);V_.range;K1.range;ntt.range;itt.range;Ag.range;att.range;ott.range;function ah(t){return Di(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/F3)}const Y_=ah(0),z1=ah(1),stt=ah(2),ltt=ah(3),dg=ah(4),utt=ah(5),ctt=ah(6);Y_.range;z1.range;stt.range;ltt.range;dg.range;utt.range;ctt.range;const L3=Di(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());L3.range;const N3=Di(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());N3.range;const Vc=Di(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Di(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Vc.range;const Yc=Di(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Di(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Yc.range;function aPe(t,e,r,n,i,a){const o=[[_f,1,Rc],[_f,5,5*Rc],[_f,15,15*Rc],[_f,30,30*Rc],[a,1,Hs],[a,5,5*Hs],[a,15,15*Hs],[a,30,30*Hs],[i,1,Mc],[i,3,3*Mc],[i,6,6*Mc],[i,12,12*Mc],[n,1,Gc],[n,2,2*Gc],[r,1,F3],[e,1,fY],[e,3,3*fY],[t,1,x2]];function s(u,c,A){const d=c<u;d&&([u,c]=[c,u]);const f=A&&typeof A.range=="function"?A:l(u,c,A),p=f?f.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,A){const d=Math.abs(c-u)/A,f=S3(([,,m])=>m).right(o,d);if(f===o.length)return t.every(D$(u/x2,c/x2,A));if(f===0)return q1.every(Math.max(D$(u,c,A),1));const[p,g]=o[d/o[f-1][2]<o[f][2]/d?f-1:f];return p.every(g)}return[s,l]}const[Att,dtt]=aPe(Yc,N3,Y_,iPe,j3,U3),[ftt,htt]=aPe(Vc,L3,V_,nb,D3,k3);function C2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dv(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ptt(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=fv(i),c=hv(i),A=fv(a),d=hv(a),f=fv(o),p=hv(o),g=fv(s),m=hv(s),w=fv(l),b=hv(l),C={a:Q,A:H,b:q,B:Y,c:null,d:yY,e:yY,f:jtt,g:Gtt,G:Ytt,H:ktt,I:Utt,j:Dtt,L:oPe,m:Ltt,M:Ntt,p:z,q:V,Q:SY,s:xY,S:$tt,u:Qtt,U:Htt,V:qtt,w:Ktt,W:ztt,x:null,X:null,y:Wtt,Y:Vtt,Z:Xtt,"%":bY},S={a:X,A:ee,b:J,B:le,c:null,d:wY,e:wY,f:trt,g:Art,G:frt,H:Jtt,I:Ztt,j:ert,L:lPe,m:rrt,M:nrt,p:de,q:oe,Q:SY,s:xY,S:irt,u:art,U:ort,V:srt,w:lrt,W:urt,x:null,X:null,y:crt,Y:drt,Z:hrt,"%":bY},x={a:P,A:M,b:U,B:F,c:j,d:mY,e:mY,f:Ott,g:gY,G:pY,H:vY,I:vY,j:Itt,L:Ttt,m:Ett,M:Btt,p:R,q:_tt,Q:Mtt,s:Ftt,S:Ptt,u:wtt,U:btt,V:Stt,w:ytt,W:xtt,x:L,X:$,y:gY,Y:pY,Z:Ctt,"%":Rtt};C.x=_(r,C),C.X=_(n,C),C.c=_(e,C),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(re,se){return function(he){var ae=[],Ee=-1,Oe=0,Ne=re.length,De,Le,st;for(he instanceof Date||(he=new Date(+he));++Ee<Ne;)re.charCodeAt(Ee)===37&&(ae.push(re.slice(Oe,Ee)),(Le=hY[De=re.charAt(++Ee)])!=null?De=re.charAt(++Ee):Le=De==="e"?" ":"0",(st=se[De])&&(De=st(he,Le)),ae.push(De),Oe=Ee+1);return ae.push(re.slice(Oe,Ee)),ae.join("")}}function B(re,se){return function(he){var ae=dv(1900,void 0,1),Ee=T(ae,re,he+="",0),Oe,Ne;if(Ee!=he.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(se&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Oe=_2(dv(ae.y,0,1)),Ne=Oe.getUTCDay(),Oe=Ne>4||Ne===0?z1.ceil(Oe):z1(Oe),Oe=G_.offset(Oe,(ae.V-1)*7),ae.y=Oe.getUTCFullYear(),ae.m=Oe.getUTCMonth(),ae.d=Oe.getUTCDate()+(ae.w+6)%7):(Oe=C2(dv(ae.y,0,1)),Ne=Oe.getDay(),Oe=Ne>4||Ne===0?K1.ceil(Oe):K1(Oe),Oe=nb.offset(Oe,(ae.V-1)*7),ae.y=Oe.getFullYear(),ae.m=Oe.getMonth(),ae.d=Oe.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Ne="Z"in ae?_2(dv(ae.y,0,1)).getUTCDay():C2(dv(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Ne+5)%7:ae.w+ae.U*7-(Ne+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,_2(ae)):C2(ae)}}function T(re,se,he,ae){for(var Ee=0,Oe=se.length,Ne=he.length,De,Le;Ee<Oe;){if(ae>=Ne)return-1;if(De=se.charCodeAt(Ee++),De===37){if(De=se.charAt(Ee++),Le=x[De in hY?se.charAt(Ee++):De],!Le||(ae=Le(re,he,ae))<0)return-1}else if(De!=he.charCodeAt(ae++))return-1}return ae}function R(re,se,he){var ae=u.exec(se.slice(he));return ae?(re.p=c.get(ae[0].toLowerCase()),he+ae[0].length):-1}function P(re,se,he){var ae=f.exec(se.slice(he));return ae?(re.w=p.get(ae[0].toLowerCase()),he+ae[0].length):-1}function M(re,se,he){var ae=A.exec(se.slice(he));return ae?(re.w=d.get(ae[0].toLowerCase()),he+ae[0].length):-1}function U(re,se,he){var ae=w.exec(se.slice(he));return ae?(re.m=b.get(ae[0].toLowerCase()),he+ae[0].length):-1}function F(re,se,he){var ae=g.exec(se.slice(he));return ae?(re.m=m.get(ae[0].toLowerCase()),he+ae[0].length):-1}function j(re,se,he){return T(re,e,se,he)}function L(re,se,he){return T(re,r,se,he)}function $(re,se,he){return T(re,n,se,he)}function Q(re){return o[re.getDay()]}function H(re){return a[re.getDay()]}function q(re){return l[re.getMonth()]}function Y(re){return s[re.getMonth()]}function z(re){return i[+(re.getHours()>=12)]}function V(re){return 1+~~(re.getMonth()/3)}function X(re){return o[re.getUTCDay()]}function ee(re){return a[re.getUTCDay()]}function J(re){return l[re.getUTCMonth()]}function le(re){return s[re.getUTCMonth()]}function de(re){return i[+(re.getUTCHours()>=12)]}function oe(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var se=_(re+="",C);return se.toString=function(){return re},se},parse:function(re){var se=B(re+="",!1);return se.toString=function(){return re},se},utcFormat:function(re){var se=_(re+="",S);return se.toString=function(){return re},se},utcParse:function(re){var se=B(re+="",!0);return se.toString=function(){return re},se}}}var hY={"-":"",_:" ",0:"0"},ea=/^\s*\d+/,gtt=/^%/,mtt=/[\\^$*+?|[\]().{}]/g;function jr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function vtt(t){return t.replace(mtt,"\\$&")}function fv(t){return new RegExp("^(?:"+t.map(vtt).join("|")+")","i")}function hv(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ytt(t,e,r){var n=ea.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function wtt(t,e,r){var n=ea.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function btt(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Stt(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function xtt(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function pY(t,e,r){var n=ea.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function gY(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ctt(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _tt(t,e,r){var n=ea.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Ett(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function mY(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Itt(t,e,r){var n=ea.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function vY(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Btt(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Ptt(t,e,r){var n=ea.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Ttt(t,e,r){var n=ea.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Ott(t,e,r){var n=ea.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rtt(t,e,r){var n=gtt.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Mtt(t,e,r){var n=ea.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Ftt(t,e,r){var n=ea.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function yY(t,e){return jr(t.getDate(),e,2)}function ktt(t,e){return jr(t.getHours(),e,2)}function Utt(t,e){return jr(t.getHours()%12||12,e,2)}function Dtt(t,e){return jr(1+nb.count(Vc(t),t),e,3)}function oPe(t,e){return jr(t.getMilliseconds(),e,3)}function jtt(t,e){return oPe(t,e)+"000"}function Ltt(t,e){return jr(t.getMonth()+1,e,2)}function Ntt(t,e){return jr(t.getMinutes(),e,2)}function $tt(t,e){return jr(t.getSeconds(),e,2)}function Qtt(t){var e=t.getDay();return e===0?7:e}function Htt(t,e){return jr(V_.count(Vc(t)-1,t),e,2)}function sPe(t){var e=t.getDay();return e>=4||e===0?Ag(t):Ag.ceil(t)}function qtt(t,e){return t=sPe(t),jr(Ag.count(Vc(t),t)+(Vc(t).getDay()===4),e,2)}function Ktt(t){return t.getDay()}function ztt(t,e){return jr(K1.count(Vc(t)-1,t),e,2)}function Wtt(t,e){return jr(t.getFullYear()%100,e,2)}function Gtt(t,e){return t=sPe(t),jr(t.getFullYear()%100,e,2)}function Vtt(t,e){return jr(t.getFullYear()%1e4,e,4)}function Ytt(t,e){var r=t.getDay();return t=r>=4||r===0?Ag(t):Ag.ceil(t),jr(t.getFullYear()%1e4,e,4)}function Xtt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jr(e/60|0,"0",2)+jr(e%60,"0",2)}function wY(t,e){return jr(t.getUTCDate(),e,2)}function Jtt(t,e){return jr(t.getUTCHours(),e,2)}function Ztt(t,e){return jr(t.getUTCHours()%12||12,e,2)}function ert(t,e){return jr(1+G_.count(Yc(t),t),e,3)}function lPe(t,e){return jr(t.getUTCMilliseconds(),e,3)}function trt(t,e){return lPe(t,e)+"000"}function rrt(t,e){return jr(t.getUTCMonth()+1,e,2)}function nrt(t,e){return jr(t.getUTCMinutes(),e,2)}function irt(t,e){return jr(t.getUTCSeconds(),e,2)}function art(t){var e=t.getUTCDay();return e===0?7:e}function ort(t,e){return jr(Y_.count(Yc(t)-1,t),e,2)}function uPe(t){var e=t.getUTCDay();return e>=4||e===0?dg(t):dg.ceil(t)}function srt(t,e){return t=uPe(t),jr(dg.count(Yc(t),t)+(Yc(t).getUTCDay()===4),e,2)}function lrt(t){return t.getUTCDay()}function urt(t,e){return jr(z1.count(Yc(t)-1,t),e,2)}function crt(t,e){return jr(t.getUTCFullYear()%100,e,2)}function Art(t,e){return t=uPe(t),jr(t.getUTCFullYear()%100,e,2)}function drt(t,e){return jr(t.getUTCFullYear()%1e4,e,4)}function frt(t,e){var r=t.getUTCDay();return t=r>=4||r===0?dg(t):dg.ceil(t),jr(t.getUTCFullYear()%1e4,e,4)}function hrt(){return"+0000"}function bY(){return"%"}function SY(t){return+t}function xY(t){return Math.floor(+t/1e3)}var op,cPe,APe;prt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function prt(t){return op=ptt(t),cPe=op.format,op.parse,APe=op.utcFormat,op.utcParse,op}function grt(t){return new Date(t)}function mrt(t){return t instanceof Date?+t:+new Date(+t)}function $3(t,e,r,n,i,a,o,s,l,u){var c=I3(),A=c.invert,d=c.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),w=u("%a %d"),b=u("%b %d"),C=u("%B"),S=u("%Y");function x(_){return(l(_)<_?f:s(_)<_?p:o(_)<_?g:a(_)<_?m:n(_)<_?i(_)<_?w:b:r(_)<_?C:S)(_)}return c.invert=function(_){return new Date(A(_))},c.domain=function(_){return arguments.length?d(Array.from(_,mrt)):d().map(grt)},c.ticks=function(_){var B=d();return t(B[0],B[B.length-1],_??10)},c.tickFormat=function(_,B){return B==null?x:u(B)},c.nice=function(_){var B=d();return(!_||typeof _.range!="function")&&(_=e(B[0],B[B.length-1],_??10)),_?d(XBe(B,_)):c},c.copy=function(){return rb(c,$3(t,e,r,n,i,a,o,s,l,u))},c}function vrt(){return al.apply($3(ftt,htt,Vc,L3,V_,nb,D3,k3,_f,cPe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yrt(){return al.apply($3(Att,dtt,Yc,N3,Y_,G_,j3,U3,_f,APe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X_(){var t=0,e=1,r,n,i,a,o=fo,s=!1,l;function u(A){return A==null||isNaN(A=+A)?l:o(i===0?.5:(A=(a(A)-r)*i,s?Math.max(0,Math.min(1,A)):A))}u.domain=function(A){return arguments.length?([t,e]=A,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(A){return arguments.length?(s=!!A,u):s},u.interpolator=function(A){return arguments.length?(o=A,u):o};function c(A){return function(d){var f,p;return arguments.length?([f,p]=d,o=A(f,p),u):[o(0),o(1)]}}return u.range=c(Gg),u.rangeRound=c(E3),u.unknown=function(A){return arguments.length?(l=A,u):l},function(A){return a=A,r=A(t),n=A(e),i=r===n?0:1/(n-r),u}}function Cd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dPe(){var t=xd(X_()(fo));return t.copy=function(){return Cd(t,dPe())},iA.apply(t,arguments)}function fPe(){var t=T3(X_()).domain([1,10]);return t.copy=function(){return Cd(t,fPe()).base(t.base())},iA.apply(t,arguments)}function hPe(){var t=O3(X_());return t.copy=function(){return Cd(t,hPe()).constant(t.constant())},iA.apply(t,arguments)}function Q3(){var t=R3(X_());return t.copy=function(){return Cd(t,Q3()).exponent(t.exponent())},iA.apply(t,arguments)}function wrt(){return Q3.apply(null,arguments).exponent(.5)}function pPe(){var t=[],e=fo;function r(n){if(n!=null&&!isNaN(n=+n))return e((eb(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(td),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>iet(t,a/n))},r.copy=function(){return pPe(e).domain(t)},iA.apply(r,arguments)}function J_(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=fo,c,A=!1,d;function f(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(n*g<n*a?s:l),u(A?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e,r]=g,i=c(t=+t),a=c(e=+e),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,f):[t,e,r]},f.clamp=function(g){return arguments.length?(A=!!g,f):A},f.interpolator=function(g){return arguments.length?(u=g,f):u};function p(g){return function(m){var w,b,C;return arguments.length?([w,b,C]=m,u=Ret(g,[w,b,C]),f):[u(0),u(.5),u(1)]}}return f.range=p(Gg),f.rangeRound=p(E3),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return c=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,f}}function gPe(){var t=xd(J_()(fo));return t.copy=function(){return Cd(t,gPe())},iA.apply(t,arguments)}function mPe(){var t=T3(J_()).domain([.1,1,10]);return t.copy=function(){return Cd(t,mPe()).base(t.base())},iA.apply(t,arguments)}function vPe(){var t=O3(J_());return t.copy=function(){return Cd(t,vPe()).constant(t.constant())},iA.apply(t,arguments)}function H3(){var t=R3(J_());return t.copy=function(){return Cd(t,H3()).exponent(t.exponent())},iA.apply(t,arguments)}function brt(){return H3.apply(null,arguments).exponent(.5)}const CY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qy,scaleDiverging:gPe,scaleDivergingLog:mPe,scaleDivergingPow:H3,scaleDivergingSqrt:brt,scaleDivergingSymlog:vPe,scaleIdentity:YBe,scaleImplicit:j$,scaleLinear:H1,scaleLog:JBe,scaleOrdinal:x3,scalePoint:dy,scalePow:M3,scaleQuantile:tPe,scaleQuantize:rPe,scaleRadial:ePe,scaleSequential:dPe,scaleSequentialLog:fPe,scaleSequentialPow:Q3,scaleSequentialQuantile:pPe,scaleSequentialSqrt:wrt,scaleSequentialSymlog:hPe,scaleSqrt:ttt,scaleSymlog:ZBe,scaleThreshold:nPe,scaleTime:vrt,scaleUtc:yrt,tickFormat:VBe},Symbol.toStringTag,{value:"Module"}));var E2,_Y;function yPe(){if(_Y)return E2;_Y=1;var t=Kg();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,c=s}return c}return E2=e,E2}var I2,EY;function Srt(){if(EY)return I2;EY=1;function t(e,r){return e>r}return I2=t,I2}var B2,IY;function xrt(){if(IY)return B2;IY=1;var t=yPe(),e=Srt(),r=Wg();function n(i){return i&&i.length?t(i,r,e):void 0}return B2=n,B2}var Crt=xrt();const Z_=kr(Crt);var P2,BY;function _rt(){if(BY)return P2;BY=1;function t(e,r){return e<r}return P2=t,P2}var T2,PY;function Ert(){if(PY)return T2;PY=1;var t=yPe(),e=_rt(),r=Wg();function n(i){return i&&i.length?t(i,r,e):void 0}return T2=n,T2}var Irt=Ert();const eE=kr(Irt);var O2,TY;function Brt(){if(TY)return O2;TY=1;var t=a3(),e=Sd(),r=EBe(),n=Qo();function i(a,o){var s=n(a)?t:r;return s(a,e(o,3))}return O2=i,O2}var R2,OY;function Prt(){if(OY)return R2;OY=1;var t=CBe(),e=Brt();function r(n,i){return t(e(n,i),1)}return R2=r,R2}var Trt=Prt();const Ort=kr(Trt);var M2,RY;function Rrt(){if(RY)return M2;RY=1;var t=v3();function e(r,n){return t(r,n)}return M2=e,M2}var Mrt=Rrt();const q3=kr(Mrt);var Vg=1e9,Frt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},z3,$n=!0,el="[DecimalError] ",Rf=el+"Invalid argument: ",K3=el+"Exponent out of range: ",Yg=Math.floor,mf=Math.pow,krt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,os,Vi=1e7,Tn=7,wPe=9007199254740991,W1=Yg(wPe/Tn),Ct={};Ct.absoluteValue=Ct.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ct.comparedTo=Ct.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ct.decimalPlaces=Ct.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Tn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ct.dividedBy=Ct.div=function(t){return jc(this,new this.constructor(t))};Ct.dividedToIntegerBy=Ct.idiv=function(t){var e=this,r=e.constructor;return dn(jc(e,new r(t),0,1),r.precision)};Ct.equals=Ct.eq=function(t){return!this.cmp(t)};Ct.exponent=function(){return Ti(this)};Ct.greaterThan=Ct.gt=function(t){return this.cmp(t)>0};Ct.greaterThanOrEqualTo=Ct.gte=function(t){return this.cmp(t)>=0};Ct.isInteger=Ct.isint=function(){return this.e>this.d.length-2};Ct.isNegative=Ct.isneg=function(){return this.s<0};Ct.isPositive=Ct.ispos=function(){return this.s>0};Ct.isZero=function(){return this.s===0};Ct.lessThan=Ct.lt=function(t){return this.cmp(t)<0};Ct.lessThanOrEqualTo=Ct.lte=function(t){return this.cmp(t)<1};Ct.logarithm=Ct.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(os))throw Error(el+"NaN");if(r.s<1)throw Error(el+(r.s?"NaN":"-Infinity"));return r.eq(os)?new n(0):($n=!1,e=jc(Vy(r,a),Vy(t,a),a),$n=!0,dn(e,i))};Ct.minus=Ct.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xPe(e,t):bPe(e,(t.s=-t.s,t))};Ct.modulo=Ct.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(el+"NaN");return r.s?($n=!1,e=jc(r,t,0,1).times(t),$n=!0,r.minus(e)):dn(new n(r),i)};Ct.naturalExponential=Ct.exp=function(){return SPe(this)};Ct.naturalLogarithm=Ct.ln=function(){return Vy(this)};Ct.negated=Ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ct.plus=Ct.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bPe(e,t):xPe(e,(t.s=-t.s,t))};Ct.precision=Ct.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rf+t);if(e=Ti(i)+1,n=i.d.length-1,r=n*Tn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ct.squareRoot=Ct.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(el+"NaN")}for(t=Ti(s),$n=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Eu(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(jc(s,a,o+2)).times(.5),Eu(a.d).slice(0,o)===(e=Eu(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(dn(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return $n=!0,dn(n,r)};Ct.times=Ct.mul=function(t){var e,r,n,i,a,o,s,l,u,c=this,A=c.constructor,d=c.d,f=(t=new A(t)).d;if(!c.s||!t.s)return new A(0);for(t.s*=c.s,r=c.e+t.e,l=d.length,u=f.length,l<u&&(a=d,d=f,f=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+f[n]*d[i-n-1]+e,a[i--]=s%Vi|0,e=s/Vi|0;a[i]=(a[i]+e)%Vi|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,$n?dn(t,A.precision):t};Ct.toDecimalPlaces=Ct.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Du(t,0,Vg),e===void 0?e=n.rounding:Du(e,0,8),dn(r,t+Ti(r)+1,e))};Ct.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=$f(n,!0):(Du(t,0,Vg),e===void 0?e=i.rounding:Du(e,0,8),n=dn(new i(n),t+1,e),r=$f(n,!0,t+1)),r};Ct.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?$f(i):(Du(t,0,Vg),e===void 0?e=a.rounding:Du(e,0,8),n=dn(new a(i),t+Ti(i)+1,e),r=$f(n.abs(),!1,t+Ti(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ct.toInteger=Ct.toint=function(){var t=this,e=t.constructor;return dn(new e(t),Ti(t)+1,e.rounding)};Ct.toNumber=function(){return+this};Ct.toPower=Ct.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(os);if(s=new l(s),!s.s){if(t.s<1)throw Error(el+"Infinity");return s}if(s.eq(os))return s;if(n=l.precision,t.eq(os))return dn(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=c<0?-c:c)<=wPe){for(i=new l(os),e=Math.ceil(n/Tn+4),$n=!1;r%2&&(i=i.times(s),FY(i.d,e)),r=Yg(r/2),r!==0;)s=s.times(s),FY(s.d,e);return $n=!0,t.s<0?new l(os).div(i):dn(i,n)}}else if(a<0)throw Error(el+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,$n=!1,i=t.times(Vy(s,n+u)),$n=!0,i=SPe(i),i.s=a,i};Ct.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ti(i),n=$f(i,r<=a.toExpNeg||r>=a.toExpPos)):(Du(t,1,Vg),e===void 0?e=a.rounding:Du(e,0,8),i=dn(new a(i),t,e),r=Ti(i),n=$f(i,t<=r||r<=a.toExpNeg,t)),n};Ct.toSignificantDigits=Ct.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Du(t,1,Vg),e===void 0?e=n.rounding:Du(e,0,8)),dn(new n(r),t,e)};Ct.toString=Ct.valueOf=Ct.val=Ct.toJSON=Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ti(t),r=t.constructor;return $f(t,e<=r.toExpNeg||e>=r.toExpPos)};function bPe(t,e){var r,n,i,a,o,s,l,u,c=t.constructor,A=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),$n?dn(e,A):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(A/Tn),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Vi|0,l[a]%=Vi;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,$n?dn(e,A):e}function Du(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Rf+t)}function Eu(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Tn-n.length,r&&(a+=QA(r)),a+=n;o=t[e],n=o+"",r=Tn-n.length,r&&(a+=QA(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var jc=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Vi|0,o=a/Vi|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Vi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,A,d,f,p,g,m,w,b,C,S,x,_,B,T,R=n.constructor,P=n.s==i.s?1:-1,M=n.d,U=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(el+"Division by zero");for(l=n.e-i.e,B=U.length,x=M.length,f=new R(P),p=f.d=[],u=0;U[u]==(M[u]||0);)++u;if(U[u]>(M[u]||0)&&--l,a==null?b=a=R.precision:o?b=a+(Ti(n)-Ti(i))+1:b=a,b<0)return new R(0);if(b=b/Tn+2|0,u=0,B==1)for(c=0,U=U[0],b++;(u<x||c)&&b--;u++)C=c*Vi+(M[u]||0),p[u]=C/U|0,c=C%U|0;else{for(c=Vi/(U[0]+1)|0,c>1&&(U=t(U,c),M=t(M,c),B=U.length,x=M.length),S=B,g=M.slice(0,B),m=g.length;m<B;)g[m++]=0;T=U.slice(),T.unshift(0),_=U[0],U[1]>=Vi/2&&++_;do c=0,s=e(U,g,B,m),s<0?(w=g[0],B!=m&&(w=w*Vi+(g[1]||0)),c=w/_|0,c>1?(c>=Vi&&(c=Vi-1),A=t(U,c),d=A.length,m=g.length,s=e(A,g,d,m),s==1&&(c--,r(A,B<d?T:U,d))):(c==0&&(s=c=1),A=U.slice()),d=A.length,d<m&&A.unshift(0),r(g,A,m),s==-1&&(m=g.length,s=e(U,g,B,m),s<1&&(c++,r(g,B<m?T:U,m))),m=g.length):s===0&&(c++,g=[0]),p[u++]=c,s&&g[0]?g[m++]=M[S]||0:(g=[M[S]],m=1);while((S++<x||g[0]!==void 0)&&b--)}return p[0]||p.shift(),f.e=l,dn(f,o?a+Ti(f)+1:a)}}();function SPe(t,e){var r,n,i,a,o,s,l=0,u=0,c=t.constructor,A=c.precision;if(Ti(t)>16)throw Error(K3+Ti(t));if(!t.s)return new c(os);for(e==null?($n=!1,s=A):s=e,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(mf(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(os),c.precision=s;;){if(i=dn(i.times(t),s),r=r.times(++l),o=a.plus(jc(i,r,s)),Eu(o.d).slice(0,s)===Eu(a.d).slice(0,s)){for(;u--;)a=dn(a.times(a),s);return c.precision=A,e==null?($n=!0,dn(a,A)):a}a=o}}function Ti(t){for(var e=t.e*Tn,r=t.d[0];r>=10;r/=10)e++;return e}function F2(t,e,r){if(e>t.LN10.sd())throw $n=!0,r&&(t.precision=r),Error(el+"LN10 precision limit exceeded");return dn(new t(t.LN10),e)}function QA(t){for(var e="";t--;)e+="0";return e}function Vy(t,e){var r,n,i,a,o,s,l,u,c,A=1,d=10,f=t,p=f.d,g=f.constructor,m=g.precision;if(f.s<1)throw Error(el+(f.s?"NaN":"-Infinity"));if(f.eq(os))return new g(0);if(e==null?($n=!1,u=m):u=e,f.eq(10))return e==null&&($n=!0),F2(g,u);if(u+=d,g.precision=u,r=Eu(p),n=r.charAt(0),a=Ti(f),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=Eu(f.d),n=r.charAt(0),A++;a=Ti(f),n>1?(f=new g("0."+r),a++):f=new g(n+"."+r.slice(1))}else return l=F2(g,u+2,m).times(a+""),f=Vy(new g(n+"."+r.slice(1)),u-d).plus(l),g.precision=m,e==null?($n=!0,dn(f,m)):f;for(s=o=f=jc(f.minus(os),f.plus(os),u),c=dn(f.times(f),u),i=3;;){if(o=dn(o.times(c),u),l=s.plus(jc(o,new g(i),u)),Eu(l.d).slice(0,u)===Eu(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(F2(g,u+2,m).times(a+""))),s=jc(s,new g(A),u),g.precision=m,e==null?($n=!0,dn(s,m)):s;s=l,i+=2}}function MY(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Yg(r/Tn),t.d=[],n=(r+1)%Tn,r<0&&(n+=Tn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Tn;n<i;)t.d.push(+e.slice(n,n+=Tn));e=e.slice(n),n=Tn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),$n&&(t.e>W1||t.e<-W1))throw Error(K3+r)}else t.s=0,t.e=0,t.d=[0];return t}function dn(t,e,r){var n,i,a,o,s,l,u,c,A=t.d;for(o=1,a=A[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Tn,i=e,u=A[c=0];else{if(c=Math.ceil((n+1)/Tn),a=A.length,c>=a)return t;for(u=a=A[c],o=1;a>=10;a/=10)o++;n%=Tn,i=n-Tn+o}if(r!==void 0&&(a=mf(10,o-i-1),s=u/a%10|0,l=e<0||A[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/mf(10,o-i):0:A[c-1])%10&1||r==(t.s<0?8:7))),e<1||!A[0])return l?(a=Ti(t),A.length=1,e=e-a-1,A[0]=mf(10,(Tn-e%Tn)%Tn),t.e=Yg(-e/Tn)||0):(A.length=1,A[0]=t.e=t.s=0),t;if(n==0?(A.length=c,a=1,c--):(A.length=c+1,a=mf(10,Tn-n),A[c]=i>0?(u/mf(10,o-i)%mf(10,i)|0)*a:0),l)for(;;)if(c==0){(A[0]+=a)==Vi&&(A[0]=1,++t.e);break}else{if(A[c]+=a,A[c]!=Vi)break;A[c--]=0,a=1}for(n=A.length;A[--n]===0;)A.pop();if($n&&(t.e>W1||t.e<-W1))throw Error(K3+Ti(t));return t}function xPe(t,e){var r,n,i,a,o,s,l,u,c,A,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),$n?dn(e,f):e;if(l=t.d,A=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=A.length):(r=A,n=u,s=l.length),i=Math.max(Math.ceil(f/Tn),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=A.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=A[i]){c=l[i]<A[i];break}o=0}for(c&&(r=l,l=A,A=r,e.s=-e.s),s=l.length,i=A.length-s;i>0;--i)l[s++]=0;for(i=A.length;i>o;){if(l[--i]<A[i]){for(a=i;a&&l[--a]===0;)l[a]=Vi-1;--l[a],l[i]+=Vi}l[i]-=A[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,$n?dn(e,f):e):new d(0)}function $f(t,e,r){var n,i=Ti(t),a=Eu(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+QA(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+QA(-i-1)+a,r&&(n=r-o)>0&&(a+=QA(n))):i>=o?(a+=QA(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+QA(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=QA(n))),t.s<0?"-"+a:a}function FY(t,e){if(t.length>e)return t.length=e,!0}function CPe(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Rf+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return MY(o,a.toString())}else if(typeof a!="string")throw Error(Rf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,krt.test(a))MY(o,a);else throw Error(Rf+a)}if(i.prototype=Ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CPe,i.config=i.set=Urt,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Urt(t){if(!t||typeof t!="object")throw Error(el+"Object expected");var e,r,n,i=["precision",1,Vg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Yg(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Rf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rf+r+": "+n);return this}var z3=CPe(Frt);os=new z3(1);const Zr=z3;function Drt(t){return $rt(t)||Nrt(t)||Lrt(t)||jrt()}function jrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lrt(t,e){if(t){if(typeof t=="string")return Q$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q$(t,e)}}function Nrt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $rt(t){if(Array.isArray(t))return Q$(t)}function Q$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Qrt=function(e){return e},_Pe={"@@functional/placeholder":!0},EPe=function(e){return e===_Pe},kY=function(e){return function r(){return arguments.length===0||arguments.length===1&&EPe(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Hrt=function t(e,r){return e===1?r:kY(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==_Pe}).length;return o>=e?r.apply(void 0,i):t(e-o,kY(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(A){return EPe(A)?l.shift():A});return r.apply(void 0,Drt(c).concat(l))}))})},tE=function(e){return Hrt(e.length,e)},H$=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},qrt=tE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Krt=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Qrt;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},q$=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},IPe=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function zrt(t){var e;return t===0?e=1:e=Math.floor(new Zr(t).abs().log(10).toNumber())+1,e}function Wrt(t,e,r){for(var n=new Zr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Grt=tE(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Vrt=tE(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Yrt=tE(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const rE={rangeStep:Wrt,getDigitCount:zrt,interpolateNumber:Grt,uninterpolateNumber:Vrt,uninterpolateTruncation:Yrt};function K$(t){return Zrt(t)||Jrt(t)||BPe(t)||Xrt()}function Xrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jrt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Zrt(t){if(Array.isArray(t))return z$(t)}function Yy(t,e){return rnt(t)||tnt(t,e)||BPe(t,e)||ent()}function ent(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BPe(t,e){if(t){if(typeof t=="string")return z$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z$(t,e)}}function z$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tnt(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function rnt(t){if(Array.isArray(t))return t}function PPe(t){var e=Yy(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function TPe(t,e,r){if(t.lte(0))return new Zr(0);var n=rE.getDigitCount(t.toNumber()),i=new Zr(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Zr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Zr(Math.ceil(l))}function nnt(t,e,r){var n=1,i=new Zr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Zr(10).pow(rE.getDigitCount(t)-1),i=new Zr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Zr(Math.floor(t)))}else t===0?i=new Zr(Math.floor((e-1)/2)):r||(i=new Zr(Math.floor(t)));var o=Math.floor((e-1)/2),s=Krt(qrt(function(l){return i.add(new Zr(l-o).mul(n)).toNumber()}),H$);return s(0,e)}function OPe(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Zr(0),tickMin:new Zr(0),tickMax:new Zr(0)};var a=TPe(new Zr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Zr(0):(o=new Zr(t).add(e).div(2),o=o.sub(new Zr(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Zr(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?OPe(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Zr(s).mul(a)),tickMax:o.add(new Zr(l).mul(a))})}function int(t){var e=Yy(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=PPe([r,n]),l=Yy(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var A=c===1/0?[u].concat(K$(H$(0,i-1).map(function(){return 1/0}))):[].concat(K$(H$(0,i-1).map(function(){return-1/0})),[c]);return r>n?q$(A):A}if(u===c)return nnt(u,i,a);var d=OPe(u,c,o,a),f=d.step,p=d.tickMin,g=d.tickMax,m=rE.rangeStep(p,g.add(new Zr(.1).mul(f)),f);return r>n?q$(m):m}function ant(t,e){var r=Yy(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=PPe([n,i]),s=Yy(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(e,2),A=TPe(new Zr(u).sub(l).div(c-1),a,0),d=[].concat(K$(rE.rangeStep(new Zr(l),new Zr(u).sub(new Zr(.99).mul(A)),A)),[u]);return n>i?q$(d):d}var ont=IPe(int),snt=IPe(ant),lnt="Invariant failed";function Qf(t,e){throw new Error(lnt)}var unt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G1.apply(this,arguments)}function cnt(t,e){return hnt(t)||fnt(t,e)||dnt(t,e)||Ant()}function Ant(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dnt(t,e){if(t){if(typeof t=="string")return UY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UY(t,e)}}function UY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fnt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hnt(t){if(Array.isArray(t))return t}function pnt(t,e){if(t==null)return{};var r=gnt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gnt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vnt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FPe(n.key),n)}}function ynt(t,e,r){return vnt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wnt(t,e,r){return e=V1(e),bnt(t,RPe()?Reflect.construct(e,r||[],V1(t).constructor):e.apply(t,r))}function bnt(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Snt(t)}function Snt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RPe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RPe=function(){return!!t})()}function V1(t){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V1(t)}function xnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W$(t,e)}function W$(t,e){return W$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W$(t,e)}function MPe(t,e,r){return e=FPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FPe(t){var e=Cnt(t,"string");return fg(e)=="symbol"?e:e+""}function Cnt(t,e){if(fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nE=function(t){function e(){return mnt(this,e),wnt(this,e,arguments)}return xnt(e,t),ynt(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,A=n.yAxis,d=pnt(n,unt),f=Wr(d,!1);this.props.direction==="x"&&c.type!=="number"&&Qf();var p=l.map(function(g){var m=u(g,s),w=m.x,b=m.y,C=m.value,S=m.errorVal;if(!S)return null;var x=[],_,B;if(Array.isArray(S)){var T=cnt(S,2);_=T[0],B=T[1]}else _=B=S;if(a==="vertical"){var R=c.scale,P=b+i,M=P+o,U=P-o,F=R(C-_),j=R(C+B);x.push({x1:j,y1:M,x2:j,y2:U}),x.push({x1:F,y1:P,x2:j,y2:P}),x.push({x1:F,y1:M,x2:F,y2:U})}else if(a==="horizontal"){var L=A.scale,$=w+i,Q=$-o,H=$+o,q=L(C-_),Y=L(C+B);x.push({x1:Q,y1:Y,x2:H,y2:Y}),x.push({x1:$,y1:q,x2:$,y2:Y}),x.push({x1:Q,y1:q,x2:H,y2:q})}return ce.createElement(Yi,G1({className:"recharts-errorBar",key:"bar-".concat(x.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},f),x.map(function(z){return ce.createElement("line",G1({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return ce.createElement(Yi,{className:"recharts-errorBars"},p)}}])}(ce.Component);MPe(nE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MPe(nE,"displayName","ErrorBar");function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function DY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Af(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DY(Object(r),!0).forEach(function(n){_nt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _nt(t,e,r){return e=Ent(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ent(t){var e=Int(t,"string");return Xy(e)=="symbol"?e:e+""}function Int(t,e){if(Xy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kPe=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=rs(r,Tf);if(!o)return null;var s=Tf.defaultProps,l=s!==void 0?Af(Af({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(c,A){var d=A.item,f=A.props,p=f.sectors||f.data||[];return c.concat(p.map(function(g){return{type:o.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(c){var A=c.item,d=A.type.defaultProps,f=d!==void 0?Af(Af({},d),A.props):{},p=f.dataKey,g=f.name,m=f.legendType,w=f.hide;return{inactive:w,dataKey:p,type:l.iconType||m||"square",color:W3(A),value:g||p,payload:f}}),Af(Af(Af({},l),Tf.getWithHeight(o,i)),{},{payload:u,item:o})};function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function jY(t){return Ont(t)||Tnt(t)||Pnt(t)||Bnt()}function Bnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pnt(t,e){if(t){if(typeof t=="string")return G$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G$(t,e)}}function Tnt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ont(t){if(Array.isArray(t))return G$(t)}function G$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LY(Object(r),!0).forEach(function(n){Wp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wp(t,e,r){return e=Rnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rnt(t){var e=Mnt(t,"string");return Jy(e)=="symbol"?e:e+""}function Mnt(t,e){if(Jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ju(t,e,r){return Gr(t)||Gr(e)?r:Ui(e)?Ys(t,e,r):Ir(e)?e(t):r}function fy(t,e,r,n){var i=Ort(t,function(s){return ju(s,e)});if(r==="number"){var a=i.filter(function(s){return yt(s)||parseFloat(s)});return a.length?[eE(a),Z_(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Gr(s)}):i;return o.map(function(s){return Ui(s)||s instanceof Date?s:""})}var Fnt=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,A=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,f=void 0;if(Ol(A-c)!==Ol(d-A)){var p=[];if(Ol(d-A)===Ol(l[1]-l[0])){f=d;var g=A+l[1]-l[0];p[0]=Math.min(g,(g+c)/2),p[1]=Math.max(g,(g+c)/2)}else{f=c;var m=d+l[1]-l[0];p[0]=Math.min(A,(m+A)/2),p[1]=Math.max(A,(m+A)/2)}var w=[Math.min(A,(f+A)/2),Math.max(A,(f+A)/2)];if(e>w[0]&&e<=w[1]||e>=p[0]&&e<=p[1]){o=i[u].index;break}}else{var b=Math.min(c,d),C=Math.max(c,d);if(e>(b+A)/2&&e<=(C+A)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},W3=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ni(ni({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},knt=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,A=Object.keys(c),d=0,f=A.length;d<f;d++){var p=c[A[d]],g=p.items,m=p.cateAxisId,w=g.filter(function(B){return Dc(B.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,C=b!==void 0?ni(ni({},b),w[0].props):w[0].props,S=C.barSize,x=C[m];o[x]||(o[x]=[]);var _=Gr(S)?r:S;o[x].push({item:w[0],stackList:w.slice(1),barSize:Gr(_)?void 0:Nf(_,n,0)})}}return o},Unt=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Nf(r,i,0,!0),c,A=[];if(o[0].barSize===+o[0].barSize){var d=!1,f=i/l,p=o.reduce(function(S,x){return S+x.barSize||0},0);p+=(l-1)*u,p>=i&&(p-=(l-1)*u,u=0),p>=i&&f>0&&(d=!0,f*=.9,p=l*f);var g=(i-p)/2>>0,m={offset:g-u,size:0};c=o.reduce(function(S,x){var _={item:x.item,position:{offset:m.offset+m.size+u,size:d?f:x.barSize}},B=[].concat(jY(S),[_]);return m=B[B.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){B.push({item:T,position:m})}),B},A)}else{var w=Nf(n,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var b=(i-2*w-(l-1)*u)/l;b>1&&(b>>=0);var C=s===+s?Math.min(b,s):b;c=o.reduce(function(S,x,_){var B=[].concat(jY(S),[{item:x.item,position:{offset:w+(b+u)*_+(b-C)/2,size:C}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){B.push({item:T,position:B[B.length-1].position})}),B},A)}return c},Dnt=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=kPe({children:a,legendWidth:l});if(u){var c=i||{},A=c.width,d=c.height,f=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&f!=="center"&&yt(e[f]))return ni(ni({},e),{},Wp({},f,e[f]+(A||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&p!=="middle"&&yt(e[p]))return ni(ni({},e),{},Wp({},p,e[p]+(d||0)))}return e},jnt=function(e,r,n){return Gr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},UPe=function(e,r,n,i,a){var o=r.props.children,s=Fl(o,nE).filter(function(u){return jnt(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var A=ju(c,n);if(Gr(A))return u;var d=Array.isArray(A)?[eE(A),Z_(A)]:[A,A],f=l.reduce(function(p,g){var m=ju(c,g,0),w=d[0]-Math.abs(Array.isArray(m)?m[0]:m),b=d[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(w,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},Lnt=function(e,r,n,i,a){var o=r.map(function(s){return UPe(e,s,n,a,i)}).filter(function(s){return!Gr(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},DPe=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&UPe(e,l,u,i)||fy(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,A=u.length;c<A;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},jPe=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Ef=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ol(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(A){var d=a?a.indexOf(A):A;return{coordinate:i(d)+u,value:A,offset:u}});return c.filter(function(A){return!Jw(A.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(A,d){return{coordinate:i(A)+u,value:A,index:d,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(A){return{coordinate:i(A)+u,value:A,offset:u}}):i.domain().map(function(A,d){return{coordinate:i(A)+u,value:a?a[A]:A,index:d,offset:u}})},k2=new WeakMap,u0=function(e,r){if(typeof r!="function")return e;k2.has(e)||k2.set(e,new WeakMap);var n=k2.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Nnt=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:qy(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:H1(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:dy(),realScaleType:"point"}:a==="category"?{scale:qy(),realScaleType:"band"}:{scale:H1(),realScaleType:"linear"};if(Xw(i)){var l="scale".concat(N_(i));return{scale:(CY[l]||dy)(),realScaleType:CY[l]?l:"point"}}return Ir(i)?{scale:i}:{scale:dy(),realScaleType:"point"}},NY=1e-4,$nt=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-NY,o=Math.max(i[0],i[1])+NY,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},Qnt=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Hnt=function(e,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!yt(e[0])||e[0]<n)&&(a[0]=n),(!yt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},qnt=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Jw(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},Knt=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Jw(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},znt={sign:qnt,expand:IYe,none:ag,silhouette:BYe,wiggle:PYe,positive:Knt},Wnt=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=znt[n],o=EYe().keys(i).value(function(s,l){return+ju(s,l,0)}).order(C$).offset(a);return o(e)},Gnt=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(A,d){var f,p=(f=d.type)!==null&&f!==void 0&&f.defaultProps?ni(ni({},d.type.defaultProps),d.props):d.props,g=p.stackId,m=p.hide;if(m)return A;var w=p[n],b=A[w]||{hasStack:!1,stackGroups:{}};if(Ui(g)){var C=b.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(d),b.hasStack=!0,b.stackGroups[g]=C}else b.stackGroups[L_("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[d]};return ni(ni({},A),{},Wp({},w,b))},l),c={};return Object.keys(u).reduce(function(A,d){var f=u[d];if(f.hasStack){var p={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,m){var w=f.stackGroups[m];return ni(ni({},g),{},Wp({},m,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:Wnt(e,w.items,a)}))},p)}return ni(ni({},A),{},Wp({},d,f))},c)},Vnt=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=ont(u,a,s);return e.domain([eE(c),Z_(c)]),{niceTicks:c}}if(a&&i==="number"){var A=e.domain(),d=snt(A,a,s);return{niceTicks:d}}return null},$Y=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=ju(o,r.dataKey,r.domain[s]);return Gr(l)?null:r.scale(l)-a/2+i},Ynt=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Xnt=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ni(ni({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ui(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Jnt=function(e){return e.reduce(function(r,n){return[eE(n.concat([r[0]]).filter(yt)),Z_(n.concat([r[1]]).filter(yt))]},[1/0,-1/0])},LPe=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var A=Jnt(c.slice(r,n+1));return[Math.min(u[0],A[0]),Math.max(u[1],A[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},QY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V$=function(e,r,n){if(Ir(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(yt(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(QY.test(e[0])){var a=+QY.exec(e[0])[1];i[0]=r[0]-a}else Ir(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(yt(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(HY.test(e[1])){var o=+HY.exec(e[1])[1];i[1]=r[1]+o}else Ir(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Y1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=w3(r,function(A){return A.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},qY=function(e,r,n){return!e||!e.length||q3(e,Ys(n,"type.defaultProps.domain"))?r:e},NPe=function(e,r){var n=e.type.defaultProps?ni(ni({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return ni(ni({},Wr(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:W3(e),value:ju(r,i),type:l,payload:r,chartType:u,hide:c})};function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function KY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KY(Object(r),!0).forEach(function(n){Znt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Znt(t,e,r){return e=eit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eit(t){var e=tit(t,"string");return Zy(e)=="symbol"?e:e+""}function tit(t,e){if(Zy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X1=Math.PI/180,rit=function(e){return e*180/Math.PI},pa=function(e,r,n,i){return{x:e+Math.cos(-X1*i)*n,y:r+Math.sin(-X1*i)*n}},nit=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},iit=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=nit({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:rit(u),angleInRadian:u}},ait=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},oit=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},WY=function(e,r){var n=e.x,i=e.y,a=iit({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=ait(r),A=c.startAngle,d=c.endAngle,f=s,p;if(A<=d){for(;f>d;)f-=360;for(;f<A;)f+=360;p=f>=A&&f<=d}else{for(;f>A;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=A}return p?zY(zY({},r),{},{radius:o,angle:oit(f,r)}):null};function ew(t){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}var sit=["offset"];function lit(t){return dit(t)||Ait(t)||cit(t)||uit()}function uit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cit(t,e){if(t){if(typeof t=="string")return Y$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y$(t,e)}}function Ait(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dit(t){if(Array.isArray(t))return Y$(t)}function Y$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fit(t,e){if(t==null)return{};var r=hit(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GY(Object(r),!0).forEach(function(n){pit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pit(t,e,r){return e=git(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function git(t){var e=mit(t,"string");return ew(e)=="symbol"?e:e+""}function mit(t,e){if(ew(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(this,arguments)}var vit=function(e){var r=e.value,n=e.formatter,i=Gr(e.children)?r:e.children;return Ir(n)?n(i):i},yit=function(e,r){var n=Ol(r-e),i=Math.min(Math.abs(r-e),360);return n*i},wit=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,A=l.innerRadius,d=l.outerRadius,f=l.startAngle,p=l.endAngle,g=l.clockWise,m=(A+d)/2,w=yit(f,p),b=w>=0?1:-1,C,S;i==="insideStart"?(C=f+b*o,S=g):i==="insideEnd"?(C=p-b*o,S=!g):i==="end"&&(C=p+b*o,S=g),S=w<=0?S:!S;var x=pa(u,c,m,C),_=pa(u,c,m,C+(S?1:-1)*359),B="M".concat(x.x,",").concat(x.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),T=Gr(e.id)?L_("recharts-radial-line-"):e.id;return ce.createElement("text",tw({},n,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",s)}),ce.createElement("defs",null,ce.createElement("path",{id:T,d:B})),ce.createElement("textPath",{xlinkHref:"#".concat(T)},r))},bit=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,A=a.endAngle,d=(c+A)/2;if(i==="outside"){var f=pa(o,s,u+n,d),p=f.x,g=f.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=(l+u)/2,w=pa(o,s,m,d),b=w.x,C=w.y;return{x:b,y:C,textAnchor:"middle",verticalAnchor:"middle"}},Sit=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,c=o.height,A=c>=0?1:-1,d=A*i,f=A>0?"end":"start",p=A>0?"start":"end",g=u>=0?1:-1,m=g*i,w=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var C={x:s+u/2,y:l-A*i,textAnchor:"middle",verticalAnchor:f};return Fi(Fi({},C),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:p};return Fi(Fi({},S),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(a==="left"){var x={x:s-m,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Fi(Fi({},x),n?{width:Math.max(x.x-n.x,0),height:c}:{})}if(a==="right"){var _={x:s+u+m,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Fi(Fi({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:c}:{})}var B=n?{width:u,height:c}:{};return a==="insideLeft"?Fi({x:s+m,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},B):a==="insideRight"?Fi({x:s+u-m,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},B):a==="insideTop"?Fi({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:p},B):a==="insideBottom"?Fi({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:f},B):a==="insideTopLeft"?Fi({x:s+m,y:l+d,textAnchor:b,verticalAnchor:p},B):a==="insideTopRight"?Fi({x:s+u-m,y:l+d,textAnchor:w,verticalAnchor:p},B):a==="insideBottomLeft"?Fi({x:s+m,y:l+c-d,textAnchor:b,verticalAnchor:f},B):a==="insideBottomRight"?Fi({x:s+u-m,y:l+c-d,textAnchor:w,verticalAnchor:f},B):zg(a)&&(yt(a.x)||xf(a.x))&&(yt(a.y)||xf(a.y))?Fi({x:s+Nf(a.x,u),y:l+Nf(a.y,c),textAnchor:"end",verticalAnchor:"end"},B):Fi({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},B)},xit=function(e){return"cx"in e&&yt(e.cx)};function $a(t){var e=t.offset,r=e===void 0?5:e,n=fit(t,sit),i=Fi({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,A=c===void 0?"":c,d=i.textBreakAll;if(!a||Gr(s)&&Gr(l)&&!I.isValidElement(u)&&!Ir(u))return null;if(I.isValidElement(u))return I.cloneElement(u,i);var f;if(Ir(u)){if(f=I.createElement(u,i),I.isValidElement(f))return f}else f=vit(i);var p=xit(a),g=Wr(i,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wit(i,f,g);var m=p?bit(i):Sit(i);return ce.createElement(U1,tw({className:dt("recharts-label",A)},g,m,{breakAll:d}),f)}$a.displayName="Label";var $Pe=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,A=e.x,d=e.y,f=e.top,p=e.left,g=e.width,m=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(yt(g)&&yt(m)){if(yt(A)&&yt(d))return{x:A,y:d,width:g,height:m};if(yt(f)&&yt(p))return{x:f,y:p,width:g,height:m}}return yt(A)&&yt(d)?{x:A,y:d,width:0,height:0}:yt(r)&&yt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Cit=function(e,r){return e?e===!0?ce.createElement($a,{key:"label-implicit",viewBox:r}):Ui(e)?ce.createElement($a,{key:"label-implicit",viewBox:r,value:e}):I.isValidElement(e)?e.type===$a?I.cloneElement(e,{key:"label-implicit",viewBox:r}):ce.createElement($a,{key:"label-implicit",content:e,viewBox:r}):Ir(e)?ce.createElement($a,{key:"label-implicit",content:e,viewBox:r}):zg(e)?ce.createElement($a,tw({viewBox:r},e,{key:"label-implicit"})):null:null},_it=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=$Pe(e),o=Fl(i,$a).map(function(l,u){return I.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=Cit(e.label,r||a);return[s].concat(lit(o))};$a.parseViewBox=$Pe;$a.renderCallByParent=_it;var U2,VY;function Eit(){if(VY)return U2;VY=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return U2=t,U2}var Iit=Eit();const Bit=kr(Iit);function rw(t){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(t)}var Pit=["valueAccessor"],Tit=["data","dataKey","clockWise","id","textBreakAll"];function Oit(t){return kit(t)||Fit(t)||Mit(t)||Rit()}function Rit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mit(t,e){if(t){if(typeof t=="string")return X$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X$(t,e)}}function Fit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kit(t){if(Array.isArray(t))return X$(t)}function X$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J1.apply(this,arguments)}function YY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YY(Object(r),!0).forEach(function(n){Uit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uit(t,e,r){return e=Dit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dit(t){var e=jit(t,"string");return rw(e)=="symbol"?e:e+""}function jit(t,e){if(rw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JY(t,e){if(t==null)return{};var r=Lit(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nit=function(e){return Array.isArray(e.value)?Bit(e.value):e.value};function Mf(t){var e=t.valueAccessor,r=e===void 0?Nit:e,n=JY(t,Pit),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=JY(n,Tit);return!i||!i.length?null:ce.createElement(Yi,{className:"recharts-label-list"},i.map(function(c,A){var d=Gr(a)?r(c,A):ju(c&&c.payload,a),f=Gr(s)?{}:{id:"".concat(s,"-").concat(A)};return ce.createElement($a,J1({},Wr(c,!0),u,f,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:$a.parseViewBox(Gr(o)?c:XY(XY({},c),{},{clockWise:o})),key:"label-".concat(A),index:A}))}))}Mf.displayName="LabelList";function $it(t,e){return t?t===!0?ce.createElement(Mf,{key:"labelList-implicit",data:e}):ce.isValidElement(t)||Ir(t)?ce.createElement(Mf,{key:"labelList-implicit",data:e,content:t}):zg(t)?ce.createElement(Mf,J1({data:e},t,{key:"labelList-implicit"})):null:null}function Qit(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Fl(n,Mf).map(function(o,s){return I.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=$it(t.label,e);return[a].concat(Oit(i))}Mf.renderCallByParent=Qit;function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}function J$(){return J$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J$.apply(this,arguments)}function ZY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZY(Object(r),!0).forEach(function(n){Hit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hit(t,e,r){return e=qit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qit(t){var e=Kit(t,"string");return nw(e)=="symbol"?e:e+""}function Kit(t,e){if(nw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zit=function(e,r){var n=Ol(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},c0=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,A=Math.asin(l/c)/X1,d=u?a:a+o*A,f=pa(r,n,c,d),p=pa(r,n,i,d),g=u?a-o*A:a,m=pa(r,n,c*Math.cos(A*X1),g);return{center:f,circleTangency:p,lineTangency:m,theta:A}},QPe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=zit(o,s),u=o+l,c=pa(r,n,a,o),A=pa(r,n,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(i>0){var f=pa(r,n,i,o),p=pa(r,n,i,u);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(r,",").concat(n," Z");return d},Wit=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,A=Ol(c-u),d=c0({cx:r,cy:n,radius:a,angle:u,sign:A,cornerRadius:o,cornerIsExternal:l}),f=d.circleTangency,p=d.lineTangency,g=d.theta,m=c0({cx:r,cy:n,radius:a,angle:c,sign:-A,cornerRadius:o,cornerIsExternal:l}),w=m.circleTangency,b=m.lineTangency,C=m.theta,S=l?Math.abs(u-c):Math.abs(u-c)-g-C;if(S<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QPe({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var x="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(A<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var _=c0({cx:r,cy:n,radius:i,angle:u,sign:A,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),B=_.circleTangency,T=_.lineTangency,R=_.theta,P=c0({cx:r,cy:n,radius:i,angle:c,sign:-A,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),M=P.circleTangency,U=P.lineTangency,F=P.theta,j=l?Math.abs(u-c):Math.abs(u-c)-R-F;if(j<0&&o===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(A>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(T.x,",").concat(T.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},Git={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HPe=function(e){var r=eX(eX({},Git),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,A=r.endAngle,d=r.className;if(o<a||c===A)return null;var f=dt("recharts-sector",d),p=o-a,g=Nf(s,p,0,!0),m;return g>0&&Math.abs(c-A)<360?m=Wit({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:A}):m=QPe({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:A}),ce.createElement("path",J$({},Wr(r,!0),{className:f,d:m,role:"img"}))};function iw(t){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iw(t)}function Z$(){return Z$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z$.apply(this,arguments)}function tX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tX(Object(r),!0).forEach(function(n){Vit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vit(t,e,r){return e=Yit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yit(t){var e=Xit(t,"string");return iw(e)=="symbol"?e:e+""}function Xit(t,e){if(iw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nX={curveBasisClosed:pYe,curveBasisOpen:gYe,curveBasis:hYe,curveBumpX:eYe,curveBumpY:tYe,curveLinearClosed:mYe,curveLinear:Q_,curveMonotoneX:vYe,curveMonotoneY:yYe,curveNatural:wYe,curveStep:bYe,curveStepAfter:xYe,curveStepBefore:SYe},A0=function(e){return e.x===+e.x&&e.y===+e.y},pv=function(e){return e.x},gv=function(e){return e.y},Jit=function(e,r){if(Ir(e))return e;var n="curve".concat(N_(e));return(n==="curveMonotone"||n==="curveBump")&&r?nX["".concat(n).concat(r==="vertical"?"Y":"X")]:nX[n]||Q_},Zit=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Jit(n,s),A=u?a.filter(function(g){return A0(g)}):a,d;if(Array.isArray(o)){var f=u?o.filter(function(g){return A0(g)}):o,p=A.map(function(g,m){return rX(rX({},g),{},{base:f[m]})});return s==="vertical"?d=r0().y(gv).x1(pv).x0(function(g){return g.base.x}):d=r0().x(pv).y1(gv).y0(function(g){return g.base.y}),d.defined(A0).curve(c),d(p)}return s==="vertical"&&yt(o)?d=r0().y(gv).x1(pv).x0(o):yt(o)?d=r0().x(pv).y1(gv).y0(o):d=WIe().x(pv).y(gv),d.defined(A0).curve(c),d(A)},iX=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Zit(e):i;return ce.createElement("path",Z$({},Wr(e,!1),C1(e),{className:dt("recharts-curve",r),d:o,ref:a}))},eat=Object.getOwnPropertyNames,tat=Object.getOwnPropertySymbols,rat=Object.prototype.hasOwnProperty;function aX(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function d0(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function oX(t){return eat(t).concat(tat(t))}var nat=Object.hasOwn||function(t,e){return rat.call(t,e)};function oh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var iat="__v",aat="__o",oat="_owner",sX=Object.getOwnPropertyDescriptor,lX=Object.keys;function sat(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function lat(t,e){return oh(t.getTime(),e.getTime())}function uat(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function cat(t,e){return t===e}function uX(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,A=0;(s=u.next())&&!s.done;){if(i[A]){A++;continue}var d=o.value,f=s.value;if(r.equals(d[0],f[0],l,A,t,e,r)&&r.equals(d[1],f[1],d[0],f[0],t,e,r)){c=i[A]=!0;break}A++}if(!c)return!1;l++}return!0}var Aat=oh;function dat(t,e,r){var n=lX(t),i=n.length;if(lX(e).length!==i)return!1;for(;i-- >0;)if(!qPe(t,e,r,n[i]))return!1;return!0}function mv(t,e,r){var n=oX(t),i=n.length;if(oX(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!qPe(t,e,r,a)||(o=sX(t,a),s=sX(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function fat(t,e){return oh(t.valueOf(),e.valueOf())}function hat(t,e){return t.source===e.source&&t.flags===e.flags}function cX(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function pat(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function gat(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function qPe(t,e,r,n){return(n===oat||n===aat||n===iat)&&(t.$$typeof||e.$$typeof)?!0:nat(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var mat="[object Arguments]",vat="[object Boolean]",yat="[object Date]",wat="[object Error]",bat="[object Map]",Sat="[object Number]",xat="[object Object]",Cat="[object RegExp]",_at="[object Set]",Eat="[object String]",Iat="[object URL]",Bat=Array.isArray,AX=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dX=Object.assign,Pat=Object.prototype.toString.call.bind(Object.prototype.toString);function Tat(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,A=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(p,g,m){if(p===g)return!0;if(p==null||g==null)return!1;var w=typeof p;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?o(p,g,m):w==="function"?i(p,g,m):!1;var b=p.constructor;if(b!==g.constructor)return!1;if(b===Object)return s(p,g,m);if(Bat(p))return e(p,g,m);if(AX!=null&&AX(p))return A(p,g,m);if(b===Date)return r(p,g,m);if(b===RegExp)return u(p,g,m);if(b===Map)return a(p,g,m);if(b===Set)return c(p,g,m);var C=Pat(p);return C===yat?r(p,g,m):C===Cat?u(p,g,m):C===bat?a(p,g,m):C===_at?c(p,g,m):C===xat?typeof p.then!="function"&&typeof g.then!="function"&&s(p,g,m):C===Iat?d(p,g,m):C===wat?n(p,g,m):C===mat?s(p,g,m):C===vat||C===Sat||C===Eat?l(p,g,m):!1}}function Oat(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?mv:sat,areDatesEqual:lat,areErrorsEqual:uat,areFunctionsEqual:cat,areMapsEqual:n?aX(uX,mv):uX,areNumbersEqual:Aat,areObjectsEqual:n?mv:dat,arePrimitiveWrappersEqual:fat,areRegExpsEqual:hat,areSetsEqual:n?aX(cX,mv):cX,areTypedArraysEqual:n?mv:pat,areUrlsEqual:gat};if(r&&(i=dX({},i,r(i))),e){var a=d0(i.areArraysEqual),o=d0(i.areMapsEqual),s=d0(i.areObjectsEqual),l=d0(i.areSetsEqual);i=dX({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Rat(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function Mat(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var c=n(),A=c.cache,d=A===void 0?e?new WeakMap:void 0:A,f=c.meta;return r(l,u,{cache:d,equals:i,meta:f,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var Fat=_d();_d({strict:!0});_d({circular:!0});_d({circular:!0,strict:!0});_d({createInternalComparator:function(){return oh}});_d({strict:!0,createInternalComparator:function(){return oh}});_d({circular:!0,createInternalComparator:function(){return oh}});_d({circular:!0,createInternalComparator:function(){return oh},strict:!0});function _d(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Oat(t),l=Tat(s),u=n?n(l):Rat(l);return Mat({circular:r,comparator:l,createState:i,equals:u,strict:o})}function kat(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):kat(i)};requestAnimationFrame(n)}function eQ(t){"@babel/helpers - typeof";return eQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eQ(t)}function Uat(t){return Nat(t)||Lat(t)||jat(t)||Dat()}function Dat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jat(t,e){if(t){if(typeof t=="string")return hX(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hX(t,e)}}function hX(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nat(t){if(Array.isArray(t))return t}function $at(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Uat(o),l=s[0],u=s.slice(1);if(typeof l=="number"){fX(i.bind(null,u),l);return}i(l),fX(i.bind(null,u));return}eQ(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function aw(t){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(t)}function pX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pX(Object(r),!0).forEach(function(n){KPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KPe(t,e,r){return e=Qat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qat(t){var e=Hat(t,"string");return aw(e)==="symbol"?e:String(e)}function Hat(t,e){if(aw(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(aw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qat=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Kat=function(e){return e},zat=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},hy=function(e,r){return Object.keys(r).reduce(function(n,i){return gX(gX({},n),{},KPe({},i,e(i,r[i])))},{})},mX=function(e,r,n){return e.map(function(i){return"".concat(zat(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Wat(t,e){return Yat(t)||Vat(t,e)||zPe(t,e)||Gat()}function Gat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vat(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yat(t){if(Array.isArray(t))return t}function Xat(t){return eot(t)||Zat(t)||zPe(t)||Jat()}function Jat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zPe(t,e){if(t){if(typeof t=="string")return tQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tQ(t,e)}}function Zat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eot(t){if(Array.isArray(t))return tQ(t)}function tQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Z1=1e-4,WPe=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},GPe=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},vX=function(e,r){return function(n){var i=WPe(e,r);return GPe(i,n)}},tot=function(e,r){return function(n){var i=WPe(e,r),a=[].concat(Xat(i.map(function(o,s){return o*s}).slice(1)),[0]);return GPe(a,n)}},yX=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),c=Wat(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var A=vX(i,o),d=vX(a,s),f=tot(i,o),p=function(w){return w>1?1:w<0?0:w},g=function(w){for(var b=w>1?1:w,C=b,S=0;S<8;++S){var x=A(C)-b,_=f(C);if(Math.abs(x-b)<Z1||_<Z1)return d(C);C=p(C-x/_)}return d(C)};return g.isStepper=!1,g},rot=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,A,d){var f=-(c-A)*n,p=d*a,g=d+(f-p)*s/1e3,m=d*s/1e3+c;return Math.abs(m-A)<Z1&&Math.abs(g)<Z1?[A,0]:[m,g]};return l.isStepper=!0,l.dt=s,l},not=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yX(i);case"spring":return rot();default:if(i.split("(")[0]==="cubic-bezier")return yX(i)}return typeof i=="function"?i:null};function ow(t){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(t)}function wX(t){return oot(t)||aot(t)||VPe(t)||iot()}function iot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oot(t){if(Array.isArray(t))return nQ(t)}function bX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bX(Object(r),!0).forEach(function(n){rQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rQ(t,e,r){return e=sot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sot(t){var e=lot(t,"string");return ow(e)==="symbol"?e:String(e)}function lot(t,e){if(ow(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ow(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uot(t,e){return dot(t)||Aot(t,e)||VPe(t,e)||cot()}function cot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VPe(t,e){if(t){if(typeof t=="string")return nQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nQ(t,e)}}function nQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aot(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function dot(t){if(Array.isArray(t))return t}var eC=function(e,r,n){return e+(r-e)*n},iQ=function(e){var r=e.from,n=e.to;return r!==n},fot=function t(e,r,n){var i=hy(function(a,o){if(iQ(o)){var s=e(o.from,o.to,o.velocity),l=uot(s,2),u=l[0],c=l[1];return oa(oa({},o),{},{from:u,velocity:c})}return o},r);return n<1?hy(function(a,o){return iQ(o)?oa(oa({},o),{},{velocity:eC(o.velocity,i[a].velocity,n),from:eC(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const hot=function(t,e,r,n,i){var a=qat(t,e),o=a.reduce(function(m,w){return oa(oa({},m),{},rQ({},w,[t[w],e[w]]))},{}),s=a.reduce(function(m,w){return oa(oa({},m),{},rQ({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,A=function(){return null},d=function(){return hy(function(w,b){return b.from},s)},f=function(){return!Object.values(s).filter(iQ).length},p=function(w){u||(u=w);var b=w-u,C=b/r.dt;s=fot(r,s,C),i(oa(oa(oa({},t),e),d())),u=w,f()||(l=requestAnimationFrame(A))},g=function(w){c||(c=w);var b=(w-c)/n,C=hy(function(x,_){return eC.apply(void 0,wX(_).concat([r(b)]))},o);if(i(oa(oa(oa({},t),e),C)),b<1)l=requestAnimationFrame(A);else{var S=hy(function(x,_){return eC.apply(void 0,wX(_).concat([r(1)]))},o);i(oa(oa(oa({},t),e),S))}};return A=r.isStepper?p:g,function(){return requestAnimationFrame(A),function(){cancelAnimationFrame(l)}}};function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}var pot=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function got(t,e){if(t==null)return{};var r=mot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mot(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function D2(t){return bot(t)||wot(t)||yot(t)||vot()}function vot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yot(t,e){if(t){if(typeof t=="string")return aQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aQ(t,e)}}function wot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bot(t){if(Array.isArray(t))return aQ(t)}function aQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SX(Object(r),!0).forEach(function(n){qv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qv(t,e,r){return e=YPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YPe(n.key),n)}}function Cot(t,e,r){return xot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YPe(t){var e=_ot(t,"string");return hg(e)==="symbol"?e:String(e)}function _ot(t,e){if(hg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oQ(t,e)}function oQ(t,e){return oQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oQ(t,e)}function Iot(t){var e=Bot();return function(){var n=tC(t),i;if(e){var a=tC(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sQ(this,i)}}function sQ(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(t)}function lQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tC(t){return tC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tC(t)}var Ad=function(t){Eot(r,t);var e=Iot(r);function r(n,i){var a;Sot(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,A=o.steps,d=o.children,f=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(lQ(a)),a.changeStyle=a.changeStyle.bind(lQ(a)),!s||f<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:c}),sQ(a);if(A&&A.length)a.state={style:A[0].style};else if(u){if(typeof d=="function")return a.state={style:u},sQ(a);a.state={style:l?qv({},l,u):u}}else a.state={style:{}};return a}return Cot(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,A=a.from,d=this.state.style;if(s){if(!o){var f={style:l?qv({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(f);return}if(!(Fat(i.to,c)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?A:i.to;if(this.state&&d){var m={style:l?qv({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(m)}this.runAnimation(bl(bl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,A=i.onAnimationEnd,d=i.onAnimationStart,f=hot(o,s,not(u),l,this.changeStyle),p=function(){a.stopJSAnimation=f()};this.manager.start([d,c,p,l,A])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,A=u.duration,d=A===void 0?0:A,f=function(g,m,w){if(w===0)return g;var b=m.duration,C=m.easing,S=C===void 0?"ease":C,x=m.style,_=m.properties,B=m.onAnimationEnd,T=w>0?o[w-1]:m,R=_||Object.keys(x);if(typeof S=="function"||S==="spring")return[].concat(D2(g),[a.runJSAnimation.bind(a,{from:T.style,to:x,duration:b,easing:S}),b]);var P=mX(R,b,S),M=bl(bl(bl({},T.style),x),{},{transition:P});return[].concat(D2(g),[M,b,B]).filter(Kat)};return this.manager.start([l].concat(D2(o.reduce(f,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$at());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,A=i.onAnimationEnd,d=i.steps,f=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?qv({},s,l):l,m=mX(Object.keys(g),o,u);p.start([c,a,bl(bl({},g),{},{transition:m}),o,A])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=got(i,pot),u=I.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var A=function(f){var p=f.props,g=p.style,m=g===void 0?{}:g,w=p.className,b=I.cloneElement(f,bl(bl({},l),{},{style:bl(bl({},m),c),className:w}));return b};return u===1?A(I.Children.only(a)):ce.createElement("div",null,I.Children.map(a,function(d){return A(d)}))}}]),r}(I.PureComponent);Ad.displayName="Animate";Ad.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ad.propTypes={from:qr.oneOfType([qr.object,qr.string]),to:qr.oneOfType([qr.object,qr.string]),attributeName:qr.string,duration:qr.number,begin:qr.number,easing:qr.oneOfType([qr.string,qr.func]),steps:qr.arrayOf(qr.shape({duration:qr.number.isRequired,style:qr.object.isRequired,easing:qr.oneOfType([qr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qr.func]),properties:qr.arrayOf("string"),onAnimationEnd:qr.func})),children:qr.oneOfType([qr.node,qr.func]),isActive:qr.bool,canBegin:qr.bool,onAnimationEnd:qr.func,shouldReAnimate:qr.bool,onAnimationStart:qr.func,onAnimationReStart:qr.func};function sw(t){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(t)}function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rC.apply(this,arguments)}function Pot(t,e){return Mot(t)||Rot(t,e)||Oot(t,e)||Tot()}function Tot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oot(t,e){if(t){if(typeof t=="string")return xX(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xX(t,e)}}function xX(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rot(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mot(t){if(Array.isArray(t))return t}function CX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _X(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CX(Object(r),!0).forEach(function(n){Fot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fot(t,e,r){return e=kot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kot(t){var e=Uot(t,"string");return sw(e)=="symbol"?e:e+""}function Uot(t,e){if(sw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EX=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(o>0&&a instanceof Array){for(var A=[0,0,0,0],d=0,f=4;d<f;d++)A[d]=a[d]>o?o:a[d];c="M".concat(e,",").concat(r+s*A[0]),A[0]>0&&(c+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(u,",").concat(e+l*A[0],",").concat(r)),c+="L ".concat(e+n-l*A[1],",").concat(r),A[1]>0&&(c+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*A[1])),c+="L ".concat(e+n,",").concat(r+i-s*A[2]),A[2]>0&&(c+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(u,`,
        `).concat(e+n-l*A[2],",").concat(r+i)),c+="L ".concat(e+l*A[3],",").concat(r+i),A[3]>0&&(c+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*A[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);c="M ".concat(e,",").concat(r+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(r,`
            L `).concat(e+n-l*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*p,`
            L `).concat(e+n,",").concat(r+i-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-l*p,",").concat(r+i,`
            L `).concat(e+l*p,",").concat(r+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*p," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},Dot=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),A=Math.min(o,o+l),d=Math.max(o,o+l);return n>=u&&n<=c&&i>=A&&i<=d}return!1},jot={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G3=function(e){var r=_X(_X({},jot),e),n=I.useRef(),i=I.useState(-1),a=Pot(i,2),o=a[0],s=a[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,c=r.width,A=r.height,d=r.radius,f=r.className,p=r.animationEasing,g=r.animationDuration,m=r.animationBegin,w=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||A!==+A||c===0||A===0)return null;var C=dt("recharts-rectangle",f);return b?ce.createElement(Ad,{canBegin:o>0,from:{width:c,height:A,x:l,y:u},to:{width:c,height:A,x:l,y:u},duration:g,animationEasing:p,isActive:b},function(S){var x=S.width,_=S.height,B=S.x,T=S.y;return ce.createElement(Ad,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,isActive:w,easing:p},ce.createElement("path",rC({},Wr(r,!0),{className:C,d:EX(B,T,x,_,d),ref:n})))}):ce.createElement("path",rC({},Wr(r,!0),{className:C,d:EX(l,u,c,A,d)}))};function uQ(){return uQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uQ.apply(this,arguments)}var XPe=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=dt("recharts-dot",a);return r===+r&&n===+n&&i===+i?ce.createElement("circle",uQ({},Wr(e,!1),C1(e),{className:o,cx:r,cy:n,r:i})):null};function lw(t){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lw(t)}var Lot=["x","y","top","left","width","height","className"];function cQ(){return cQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cQ.apply(this,arguments)}function IX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Not(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IX(Object(r),!0).forEach(function(n){$ot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ot(t,e,r){return e=Qot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qot(t){var e=Hot(t,"string");return lw(e)=="symbol"?e:e+""}function Hot(t,e){if(lw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qot(t,e){if(t==null)return{};var r=Kot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kot(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zot=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Wot=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,A=c===void 0?0:c,d=e.height,f=d===void 0?0:d,p=e.className,g=qot(e,Lot),m=Not({x:n,y:a,top:s,left:u,width:A,height:f},g);return!yt(n)||!yt(a)||!yt(A)||!yt(f)||!yt(s)||!yt(u)?null:ce.createElement("path",cQ({},Wr(m,!0),{className:dt("recharts-cross",p),d:zot(n,a,A,f,s,u)}))},j2,BX;function Got(){if(BX)return j2;BX=1;var t=gBe(),e=t(Object.getPrototypeOf,Object);return j2=e,j2}var L2,PX;function Vot(){if(PX)return L2;PX=1;var t=rA(),e=Got(),r=nA(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function u(c){if(!r(c)||t(c)!=n)return!1;var A=e(c);if(A===null)return!0;var d=s.call(A,"constructor")&&A.constructor;return typeof d=="function"&&d instanceof d&&o.call(d)==l}return L2=u,L2}var Yot=Vot();const Xot=kr(Yot);var N2,TX;function Jot(){if(TX)return N2;TX=1;var t=rA(),e=nA(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return N2=n,N2}var Zot=Jot();const est=kr(Zot);function uw(t){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uw(t)}function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nC.apply(this,arguments)}function tst(t,e){return ast(t)||ist(t,e)||nst(t,e)||rst()}function rst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nst(t,e){if(t){if(typeof t=="string")return OX(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OX(t,e)}}function OX(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ist(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ast(t){if(Array.isArray(t))return t}function RX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RX(Object(r),!0).forEach(function(n){ost(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ost(t,e,r){return e=sst(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sst(t){var e=lst(t,"string");return uw(e)=="symbol"?e:e+""}function lst(t,e){if(uw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FX=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},ust={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cst=function(e){var r=MX(MX({},ust),e),n=I.useRef(),i=I.useState(-1),a=tst(i,2),o=a[0],s=a[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&s(C)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,A=r.lowerWidth,d=r.height,f=r.className,p=r.animationEasing,g=r.animationDuration,m=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||A!==+A||d!==+d||c===0&&A===0||d===0)return null;var b=dt("recharts-trapezoid",f);return w?ce.createElement(Ad,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:A,height:d,x:l,y:u},duration:g,animationEasing:p,isActive:w},function(C){var S=C.upperWidth,x=C.lowerWidth,_=C.height,B=C.x,T=C.y;return ce.createElement(Ad,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,easing:p},ce.createElement("path",nC({},Wr(r,!0),{className:b,d:FX(B,T,S,x,_),ref:n})))}):ce.createElement("g",null,ce.createElement("path",nC({},Wr(r,!0),{className:b,d:FX(l,u,c,A,d)})))},Ast=["option","shapeType","propTransformer","activeClassName","isActive"];function cw(t){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(t)}function dst(t,e){if(t==null)return{};var r=fst(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fst(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kX(Object(r),!0).forEach(function(n){hst(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hst(t,e,r){return e=pst(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pst(t){var e=gst(t,"string");return cw(e)=="symbol"?e:e+""}function gst(t,e){if(cw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mst(t,e){return iC(iC({},e),t)}function vst(t,e){return t==="symbols"}function UX(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ce.createElement(G3,r);case"trapezoid":return ce.createElement(cst,r);case"sector":return ce.createElement(HPe,r);case"symbols":if(vst(e))return ce.createElement(d3,r);break;default:return null}}function yst(t){return I.isValidElement(t)?t.props:t}function wst(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?mst:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=dst(t,Ast),u;if(I.isValidElement(e))u=I.cloneElement(e,iC(iC({},l),yst(e)));else if(Ir(e))u=e(l);else if(Xot(e)&&!est(e)){var c=i(e,l);u=ce.createElement(UX,{shapeType:r,elementProps:c})}else{var A=l;u=ce.createElement(UX,{shapeType:r,elementProps:A})}return s?ce.createElement(Yi,{className:o},u):u}function iE(t,e){return e!=null&&"trapezoids"in t.props}function aE(t,e){return e!=null&&"sectors"in t.props}function Aw(t,e){return e!=null&&"points"in t.props}function bst(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Sst(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function xst(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Cst(t,e){var r;return iE(t,e)?r=bst:aE(t,e)?r=Sst:Aw(t,e)&&(r=xst),r}function _st(t,e){var r;return iE(t,e)?r="trapezoids":aE(t,e)?r="sectors":Aw(t,e)&&(r="points"),r}function Est(t,e){if(iE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(aE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Aw(t,e)?e.payload:{}}function Ist(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=_st(r,e),a=Est(r,e),o=n.filter(function(l,u){var c=q3(a,l),A=r.props[i].filter(function(p){var g=Cst(r,e);return g(p,e)}),d=r.props[i].indexOf(A[A.length-1]),f=u===d;return c&&f}),s=n.indexOf(o[o.length-1]);return s}var $2,DX;function Bst(){if(DX)return $2;DX=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var s=-1,l=e(t((i-n)/(a||1)),0),u=Array(l);l--;)u[o?l:++s]=n,n+=a;return u}return $2=r,$2}var Q2,jX;function JPe(){if(jX)return Q2;jX=1;var t=RBe(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return Q2=n,Q2}var H2,LX;function Pst(){if(LX)return H2;LX=1;var t=Bst(),e=z_(),r=JPe();function n(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),t(a,o,s,i)}}return H2=n,H2}var q2,NX;function Tst(){if(NX)return q2;NX=1;var t=Pst(),e=t();return q2=e,q2}var Ost=Tst();const aC=kr(Ost);function dw(t){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(t)}function $X(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$X(Object(r),!0).forEach(function(n){ZPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$X(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZPe(t,e,r){return e=Rst(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rst(t){var e=Mst(t,"string");return dw(e)=="symbol"?e:e+""}function Mst(t,e){if(dw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fst=["Webkit","Moz","O","ms"],kst=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Fst.reduce(function(a,o){return QX(QX({},a),{},ZPe({},o+n,r))},{});return i[e]=r,i};function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oC.apply(this,arguments)}function HX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HX(Object(r),!0).forEach(function(n){ts(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ust(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tTe(n.key),n)}}function Dst(t,e,r){return qX(t.prototype,e),qX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jst(t,e,r){return e=sC(e),Lst(t,eTe()?Reflect.construct(e,r,sC(t).constructor):e.apply(t,r))}function Lst(t,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nst(t)}function Nst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eTe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eTe=function(){return!!t})()}function sC(t){return sC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sC(t)}function $st(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AQ(t,e)}function AQ(t,e){return AQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AQ(t,e)}function ts(t,e,r){return e=tTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tTe(t){var e=Qst(t,"string");return pg(e)=="symbol"?e:e+""}function Qst(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hst=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=dy().domain(aC(0,l)).range([a,a+o-s]),c=u.domain().map(function(A){return u(A)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},KX=function(e){return e.changedTouches&&!!e.changedTouches.length},gg=function(t){function e(r){var n;return Ust(this,e),n=jst(this,e,[r]),ts(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ts(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ts(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),ts(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ts(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ts(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ts(n,"handleSlideDragStart",function(i){var a=KX(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return $st(e,t),Dst(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,A=Math.min(i,a),d=Math.max(i,a),f=e.getIndexInRange(o,A),p=e.getIndexInRange(o,d);return{startIndex:f-f%l,endIndex:p===c?c:p-p%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=ju(a[n],s,n);return Ir(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,A=l.travellerWidth,d=l.startIndex,f=l.endIndex,p=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+c-A-s,u+c-A-o):g<0&&(g=Math.max(g,u-o,u-s));var m=this.getIndex({startX:o+g,endX:s+g});(m.startIndex!==d||m.endIndex!==f)&&p&&p(m),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=KX(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,A=c.x,d=c.width,f=c.travellerWidth,p=c.onChange,g=c.gap,m=c.data,w={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,A+d-f-u):b<0&&(b=Math.max(b,A-u)),w[o]=u+b;var C=this.getIndex(w),S=C.startIndex,x=C.endIndex,_=function(){var T=m.length-1;return o==="startX"&&(s>l?S%g===0:x%g===0)||s<l&&x===T||o==="endX"&&(s>l?x%g===0:S%g===0)||s>l&&x===T};this.setState(ts(ts({},o,u+b),"brushMoveStartX",n.pageX),function(){p&&_()&&p(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],A=s.indexOf(c);if(A!==-1){var d=A+n;if(!(d===-1||d>=s.length)){var f=s[d];i==="startX"&&f>=u||i==="endX"&&f<=l||this.setState(ts({},i,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return ce.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,c=n.padding,A=I.Children.only(u);return A?ce.cloneElement(A,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,A=l.height,d=l.traveller,f=l.ariaLabel,p=l.data,g=l.startIndex,m=l.endIndex,w=Math.max(n,this.props.x),b=K2(K2({},Wr(this.props,!1)),{},{x:w,y:u,width:c,height:A}),C=f||"Min value: ".concat((a=p[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=p[m])===null||o===void 0?void 0:o.name);return ce.createElement(Yi,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),s.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(n,i)+u,A=Math.max(Math.abs(i-n)-u,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:A,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,A=c.startX,d=c.endX,f=5,p={pointerEvents:"none",fill:u};return ce.createElement(Yi,{className:"recharts-brush-texts"},ce.createElement(U1,oC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(A,d)-f,y:o+s/2},p),this.getTextOfTick(i)),ce.createElement(U1,oC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(A,d)+l+f,y:o+s/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,c=n.height,A=n.alwaysShowText,d=this.state,f=d.startX,p=d.endX,g=d.isTextActive,m=d.isSlideMoving,w=d.isTravellerMoving,b=d.isTravellerFocused;if(!i||!i.length||!yt(s)||!yt(l)||!yt(u)||!yt(c)||u<=0||c<=0)return null;var C=dt("recharts-brush",a),S=ce.Children.count(o)===1,x=kst("userSelect","none");return ce.createElement(Yi,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,p),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(p,"endX"),(g||m||w||b||A)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),ce.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ce.isValidElement(n)?a=ce.cloneElement(n,i):Ir(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,A=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return K2({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Hst({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:A}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(I.PureComponent);ts(gg,"displayName","Brush");ts(gg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var z2,zX;function qst(){if(zX)return z2;zX=1;var t=y3();function e(r,n){var i;return t(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return z2=e,z2}var W2,WX;function Kst(){if(WX)return W2;WX=1;var t=uBe(),e=Sd(),r=qst(),n=Qo(),i=z_();function a(o,s,l){var u=n(o)?t:r;return l&&i(o,s,l)&&(s=void 0),u(o,e(s,3))}return W2=a,W2}var zst=Kst();const Wst=kr(zst);var Fu=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},G2,GX;function Gst(){if(GX)return G2;GX=1;var t=IBe();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return G2=e,G2}var V2,VX;function Vst(){if(VX)return V2;VX=1;var t=Gst(),e=_Be(),r=Sd();function n(i,a){var o={};return a=r(a,3),e(i,function(s,l,u){t(o,l,a(s,l,u))}),o}return V2=n,V2}var Yst=Vst();const Xst=kr(Yst);var Y2,YX;function Jst(){if(YX)return Y2;YX=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Y2=t,Y2}var X2,XX;function Zst(){if(XX)return X2;XX=1;var t=y3();function e(r,n){var i=!0;return t(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return X2=e,X2}var J2,JX;function elt(){if(JX)return J2;JX=1;var t=Jst(),e=Zst(),r=Sd(),n=Qo(),i=z_();function a(o,s,l){var u=n(o)?t:e;return l&&i(o,s,l)&&(s=void 0),u(o,r(s,3))}return J2=a,J2}var tlt=elt();const rlt=kr(tlt);var nlt=["x","y"];function fw(t){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fw(t)}function dQ(){return dQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dQ.apply(this,arguments)}function ZX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZX(Object(r),!0).forEach(function(n){ilt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ilt(t,e,r){return e=alt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function alt(t){var e=olt(t,"string");return fw(e)=="symbol"?e:e+""}function olt(t,e){if(fw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function slt(t,e){if(t==null)return{};var r=llt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function llt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ult(t,e){var r=t.x,n=t.y,i=slt(t,nlt),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),A="".concat(e.width||i.width),d=parseInt(A,10);return vv(vv(vv(vv(vv({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function eJ(t){return ce.createElement(wst,dQ({shapeType:"rectangle",propTransformer:ult,activeClassName:"recharts-active-bar"},t))}var clt=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||Qf(),r)}},Alt=["value","background"],rTe;function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function dlt(t,e){if(t==null)return{};var r=flt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function flt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lC(){return lC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lC.apply(this,arguments)}function tJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tJ(Object(r),!0).forEach(function(n){zA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iTe(n.key),n)}}function plt(t,e,r){return rJ(t.prototype,e),rJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function glt(t,e,r){return e=uC(e),mlt(t,nTe()?Reflect.construct(e,r,uC(t).constructor):e.apply(t,r))}function mlt(t,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vlt(t)}function vlt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nTe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nTe=function(){return!!t})()}function uC(t){return uC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uC(t)}function ylt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fQ(t,e)}function fQ(t,e){return fQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fQ(t,e)}function zA(t,e,r){return e=iTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iTe(t){var e=wlt(t,"string");return mg(e)=="symbol"?e:e+""}function wlt(t,e){if(mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ed=function(t){function e(){var r;hlt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=glt(this,e,[].concat(i)),zA(r,"state",{isAnimationFinished:!1}),zA(r,"id",L_("recharts-bar-")),zA(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),zA(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ylt(e,t),plt(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Wr(this.props,!1);return n&&n.map(function(A,d){var f=d===l,p=f?u:o,g=Ci(Ci(Ci({},c),A),{},{isActive:f,option:p,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ce.createElement(Yi,lC({className:"recharts-bar-rectangle"},_1(i.props,A,d),{key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value)}),ce.createElement(eJ,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,A=i.animationId,d=this.state.prevData;return ce.createElement(Ad,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,g=a.map(function(m,w){var b=d&&d[w];if(b){var C=ip(b.x,m.x),S=ip(b.y,m.y),x=ip(b.width,m.width),_=ip(b.height,m.height);return Ci(Ci({},m),{},{x:C(p),y:S(p),width:x(p),height:_(p)})}if(o==="horizontal"){var B=ip(0,m.height),T=B(p);return Ci(Ci({},m),{},{y:m.y+m.height-T,height:T})}var R=ip(0,m.width),P=R(p);return Ci(Ci({},m),{},{width:P})});return ce.createElement(Yi,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!q3(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Wr(this.props.background,!1);return a.map(function(u,c){u.value;var A=u.background,d=dlt(u,Alt);if(!A)return null;var f=Ci(Ci(Ci(Ci(Ci({},d),{},{fill:"#eee"},A),l),_1(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return ce.createElement(eJ,lC({key:"background-bar-".concat(c),option:n.props.background,isActive:c===s},f))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,A=Fl(c,nE);if(!A)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,f=function(m,w){var b=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:b,errorVal:ju(m,w)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ce.createElement(Yi,p,A.map(function(g){return ce.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,c=n.top,A=n.width,d=n.height,f=n.isAnimationActive,p=n.background,g=n.id;if(i||!a||!a.length)return null;var m=this.state.isAnimationFinished,w=dt("recharts-bar",o),b=s&&s.allowDataOverflow,C=l&&l.allowDataOverflow,S=b||C,x=Gr(g)?this.id:g;return ce.createElement(Yi,{className:w},b||C?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(x)},ce.createElement("rect",{x:b?u:u-A/2,y:C?c:c-d/2,width:b?A:A*2,height:C?d:d*2}))):null,ce.createElement(Yi,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!f||m)&&Mf.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(I.PureComponent);rTe=Ed;zA(Ed,"displayName","Bar");zA(Ed,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ed.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zA(Ed,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,A=t.displayedData,d=t.offset,f=Qnt(n,r);if(!f)return null;var p=e.layout,g=r.type.defaultProps,m=g!==void 0?Ci(Ci({},g),r.props):r.props,w=m.dataKey,b=m.children,C=m.minPointSize,S=p==="horizontal"?o:a,x=u?S.scale.domain():null,_=Ynt({numericAxis:S}),B=Fl(b,kBe),T=A.map(function(R,P){var M,U,F,j,L,$;u?M=Hnt(u[c+P],x):(M=ju(R,w),Array.isArray(M)||(M=[_,M]));var Q=clt(C,rTe.defaultProps.minPointSize)(M[1],P);if(p==="horizontal"){var H,q=[o.scale(M[0]),o.scale(M[1])],Y=q[0],z=q[1];U=$Y({axis:a,ticks:s,bandSize:i,offset:f.offset,entry:R,index:P}),F=(H=z??Y)!==null&&H!==void 0?H:void 0,j=f.size;var V=Y-z;if(L=Number.isNaN(V)?0:V,$={x:U,y:o.y,width:j,height:o.height},Math.abs(Q)>0&&Math.abs(L)<Math.abs(Q)){var X=Ol(L||Q)*(Math.abs(Q)-Math.abs(L));F-=X,L+=X}}else{var ee=[a.scale(M[0]),a.scale(M[1])],J=ee[0],le=ee[1];if(U=J,F=$Y({axis:o,ticks:l,bandSize:i,offset:f.offset,entry:R,index:P}),j=le-J,L=f.size,$={x:a.x,y:F,width:a.width,height:L},Math.abs(Q)>0&&Math.abs(j)<Math.abs(Q)){var de=Ol(j||Q)*(Math.abs(Q)-Math.abs(j));j+=de}}return Ci(Ci(Ci({},R),{},{x:U,y:F,width:j,height:L,value:u?M:M[1],payload:R,background:$},B[P]&&B[P].props),{},{tooltipPayload:[NPe(r,R)],tooltipPosition:{x:U+j/2,y:F+L/2}})});return Ci({data:T,layout:p},d)});function hw(t){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hw(t)}function blt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aTe(n.key),n)}}function Slt(t,e,r){return nJ(t.prototype,e),nJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _l(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iJ(Object(r),!0).forEach(function(n){oE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oE(t,e,r){return e=aTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aTe(t){var e=xlt(t,"string");return hw(e)=="symbol"?e:e+""}function xlt(t,e){if(hw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Clt=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(r),A={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},d=!!rs(u,Ed);return c.reduce(function(f,p){var g=r[p],m=g.orientation,w=g.domain,b=g.padding,C=b===void 0?{}:b,S=g.mirror,x=g.reversed,_="".concat(m).concat(S?"Mirror":""),B,T,R,P,M;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var U=w[1]-w[0],F=1/0,j=g.categoricalDomain.sort();if(j.forEach(function(ee,J){J>0&&(F=Math.min((ee||0)-(j[J-1]||0),F))}),Number.isFinite(F)){var L=F/U,$=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(B=L*$/2),g.padding==="no-gap"){var Q=Nf(e.barCategoryGap,L*$),H=L*$/2;B=H-Q-(H-Q)/$*Q}}}i==="xAxis"?T=[n.left+(C.left||0)+(B||0),n.left+n.width-(C.right||0)-(B||0)]:i==="yAxis"?T=l==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(B||0),n.top+n.height-(C.bottom||0)-(B||0)]:T=g.range,x&&(T=[T[1],T[0]]);var q=Nnt(g,a,d),Y=q.scale,z=q.realScaleType;Y.domain(w).range(T),$nt(Y);var V=Vnt(Y,_l(_l({},g),{},{realScaleType:z}));i==="xAxis"?(M=m==="top"&&!S||m==="bottom"&&S,R=n.left,P=A[_]-M*g.height):i==="yAxis"&&(M=m==="left"&&!S||m==="right"&&S,R=A[_]-M*g.width,P=n.top);var X=_l(_l(_l({},g),V),{},{realScaleType:z,x:R,y:P,scale:Y,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return X.bandSize=Y1(X,V),!g.hide&&i==="xAxis"?A[_]+=(M?-1:1)*X.height:g.hide||(A[_]+=(M?-1:1)*X.width),_l(_l({},f),{},oE({},p,X))},{})},oTe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},_lt=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return oTe({x:r,y:n},{x:i,y:a})},sTe=function(){function t(e){blt(this,t),this.scale=e}return Slt(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();oE(sTe,"EPS",1e-4);var V3=function(e){var r=Object.keys(e).reduce(function(n,i){return _l(_l({},n),{},oE({},i,sTe.create(e[i])))},{});return _l(_l({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Xst(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return rlt(i,function(a,o){return r[o].isInRange(a)})}})};function Elt(t){return(t%180+180)%180}var Ilt=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Elt(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Z2,aJ;function Blt(){if(aJ)return Z2;aJ=1;var t=Sd(),e=Zw(),r=q_();function n(i){return function(a,o,s){var l=Object(a);if(!e(a)){var u=t(o,3);a=r(a),o=function(A){return u(l[A],A,l)}}var c=i(a,o,s);return c>-1?l[u?a[c]:c]:void 0}}return Z2=n,Z2}var eM,oJ;function Plt(){if(oJ)return eM;oJ=1;var t=JPe();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return eM=e,eM}var tM,sJ;function Tlt(){if(sJ)return tM;sJ=1;var t=wBe(),e=Sd(),r=Plt(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var u=s==null?0:r(s);return u<0&&(u=n(l+u,0)),t(a,e(o,3),u)}return tM=i,tM}var rM,lJ;function Olt(){if(lJ)return rM;lJ=1;var t=Blt(),e=Tlt(),r=t(e);return rM=r,rM}Olt();var Rlt=UIe();const Mlt=kr(Rlt);var Flt=Mlt(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lTe=I.createContext(void 0),uTe=I.createContext(void 0),cTe=I.createContext(void 0),klt=I.createContext({}),ATe=I.createContext(void 0),dTe=I.createContext(0),fTe=I.createContext(0),uJ=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Flt(a);return ce.createElement(lTe.Provider,{value:n},ce.createElement(uTe.Provider,{value:i},ce.createElement(klt.Provider,{value:a},ce.createElement(cTe.Provider,{value:c},ce.createElement(ATe.Provider,{value:o},ce.createElement(dTe.Provider,{value:u},ce.createElement(fTe.Provider,{value:l},s)))))))},Ult=function(){return I.useContext(ATe)},hTe=function(e){var r=I.useContext(lTe);r==null&&Qf();var n=r[e];return n==null&&Qf(),n},pTe=function(e){var r=I.useContext(uTe);r==null&&Qf();var n=r[e];return n==null&&Qf(),n},Dlt=function(){var e=I.useContext(cTe);return e},gTe=function(){return I.useContext(fTe)},mTe=function(){return I.useContext(dTe)};function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function jlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Llt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yTe(n.key),n)}}function Nlt(t,e,r){return Llt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $lt(t,e,r){return e=cC(e),Qlt(t,vTe()?Reflect.construct(e,r||[],cC(t).constructor):e.apply(t,r))}function Qlt(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hlt(t)}function Hlt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vTe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vTe=function(){return!!t})()}function cC(t){return cC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cC(t)}function qlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hQ(t,e)}function hQ(t,e){return hQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hQ(t,e)}function cJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cJ(Object(r),!0).forEach(function(n){Y3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y3(t,e,r){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yTe(t){var e=Klt(t,"string");return vg(e)=="symbol"?e:e+""}function Klt(t,e){if(vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zlt(t,e){return Ylt(t)||Vlt(t,e)||Glt(t,e)||Wlt()}function Wlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Glt(t,e){if(t){if(typeof t=="string")return dJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dJ(t,e)}}function dJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vlt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ylt(t){if(Array.isArray(t))return t}function pQ(){return pQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pQ.apply(this,arguments)}var Xlt=function(e,r){var n;return ce.isValidElement(e)?n=ce.cloneElement(e,r):Ir(e)?n=e(r):n=ce.createElement("line",pQ({},r,{className:"recharts-reference-line-line"})),n},Jlt=function(e,r,n,i,a,o,s,l,u){var c=a.x,A=a.y,d=a.width,f=a.height;if(n){var p=u.y,g=e.y.apply(p,{position:o});if(Fu(u,"discard")&&!e.y.isInRange(g))return null;var m=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?m.reverse():m}if(r){var w=u.x,b=e.x.apply(w,{position:o});if(Fu(u,"discard")&&!e.x.isInRange(b))return null;var C=[{x:b,y:A+f},{x:b,y:A}];return s==="top"?C.reverse():C}if(i){var S=u.segment,x=S.map(function(_){return e.apply(_,{position:o})});return Fu(u,"discard")&&Wst(x,function(_){return!e.isInRange(_)})?null:x}return null};function Zlt(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Ult(),c=hTe(i),A=pTe(a),d=Dlt();if(!u||!d)return null;Pf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=V3({x:c.scale,y:A.scale}),p=Ui(e),g=Ui(r),m=n&&n.length===2,w=Jlt(f,p,g,m,d,t.position,c.orientation,A.orientation,t);if(!w)return null;var b=zlt(w,2),C=b[0],S=C.x,x=C.y,_=b[1],B=_.x,T=_.y,R=Fu(t,"hidden")?"url(#".concat(u,")"):void 0,P=AJ(AJ({clipPath:R},Wr(t,!0)),{},{x1:S,y1:x,x2:B,y2:T});return ce.createElement(Yi,{className:dt("recharts-reference-line",s)},Xlt(o,P),$a.renderCallByParent(t,_lt({x1:S,y1:x,x2:B,y2:T})))}var X3=function(t){function e(){return jlt(this,e),$lt(this,e,arguments)}return qlt(e,t),Nlt(e,[{key:"render",value:function(){return ce.createElement(Zlt,this.props)}}])}(ce.Component);Y3(X3,"displayName","ReferenceLine");Y3(X3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gQ(){return gQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gQ.apply(this,arguments)}function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function fJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fJ(Object(r),!0).forEach(function(n){sE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bTe(n.key),n)}}function rut(t,e,r){return tut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nut(t,e,r){return e=AC(e),iut(t,wTe()?Reflect.construct(e,r||[],AC(t).constructor):e.apply(t,r))}function iut(t,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aut(t)}function aut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wTe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wTe=function(){return!!t})()}function AC(t){return AC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AC(t)}function out(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mQ(t,e)}function mQ(t,e){return mQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mQ(t,e)}function sE(t,e,r){return e=bTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bTe(t){var e=sut(t,"string");return yg(e)=="symbol"?e:e+""}function sut(t,e){if(yg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lut=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=V3({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Fu(e,"discard")&&!o.isInRange(s)?null:s},lE=function(t){function e(){return eut(this,e),nut(this,e,arguments)}return out(e,t),rut(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=Ui(i),c=Ui(a);if(Pf(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var A=lut(this.props);if(!A)return null;var d=A.x,f=A.y,p=this.props,g=p.shape,m=p.className,w=Fu(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=hJ(hJ({clipPath:w},Wr(this.props,!0)),{},{cx:d,cy:f});return ce.createElement(Yi,{className:dt("recharts-reference-dot",m)},e.renderDot(g,b),$a.renderCallByParent(this.props,{x:d-o,y:f-o,width:2*o,height:2*o}))}}])}(ce.Component);sE(lE,"displayName","ReferenceDot");sE(lE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sE(lE,"renderDot",function(t,e){var r;return ce.isValidElement(t)?r=ce.cloneElement(t,e):Ir(t)?r=t(e):r=ce.createElement(XPe,gQ({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function vQ(){return vQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vQ.apply(this,arguments)}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function pJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pJ(Object(r),!0).forEach(function(n){uE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xTe(n.key),n)}}function Aut(t,e,r){return cut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dut(t,e,r){return e=dC(e),fut(t,STe()?Reflect.construct(e,r||[],dC(t).constructor):e.apply(t,r))}function fut(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hut(t)}function hut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function STe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(STe=function(){return!!t})()}function dC(t){return dC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dC(t)}function put(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yQ(t,e)}function yQ(t,e){return yQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yQ(t,e)}function uE(t,e,r){return e=xTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xTe(t){var e=gut(t,"string");return wg(e)=="symbol"?e:e+""}function gut(t,e){if(wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mut=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,A=a.yAxis;if(!c||!A)return null;var d=V3({x:c.scale,y:A.scale}),f={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(l,{position:"start"}):d.y.rangeMin},p={x:r?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Fu(a,"discard")&&(!d.isInRange(f)||!d.isInRange(p))?null:oTe(f,p)},cE=function(t){function e(){return uut(this,e),dut(this,e,arguments)}return put(e,t),Aut(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;Pf(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=Ui(i),d=Ui(a),f=Ui(o),p=Ui(s),g=this.props.shape;if(!A&&!d&&!f&&!p&&!g)return null;var m=mut(A,d,f,p,this.props);if(!m&&!g)return null;var w=Fu(this.props,"hidden")?"url(#".concat(c,")"):void 0;return ce.createElement(Yi,{className:dt("recharts-reference-area",l)},e.renderRect(g,gJ(gJ({clipPath:w},Wr(this.props,!0)),m)),$a.renderCallByParent(this.props,m))}}])}(ce.Component);uE(cE,"displayName","ReferenceArea");uE(cE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});uE(cE,"renderRect",function(t,e){var r;return ce.isValidElement(t)?r=ce.cloneElement(t,e):Ir(t)?r=t(e):r=ce.createElement(G3,vQ({},e,{className:"recharts-reference-area-rect"})),r});function CTe(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function vut(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Ilt(n,r)}function yut(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function fC(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function wut(t,e){return CTe(t,e+1)}function but(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,A=function(){var p=n==null?void 0:n[l];if(p===void 0)return{v:CTe(n,u)};var g=l,m,w=function(){return m===void 0&&(m=r(p,g)),m},b=p.coordinate,C=l===0||fC(t,b,w,c,s);C||(l=0,c=o,u+=1),C&&(c=b+t*(w()/2+i),l+=u)},d;u<=a.length;)if(d=A(),d)return d.v;return[]}function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}function mJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mJ(Object(r),!0).forEach(function(n){Sut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sut(t,e,r){return e=xut(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xut(t){var e=Cut(t,"string");return pw(e)=="symbol"?e:e+""}function Cut(t,e){if(pw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ut(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(d){var f=a[d],p,g=function(){return p===void 0&&(p=r(f,d)),p};if(d===o-1){var m=t*(f.coordinate+t*g()/2-l);a[d]=f=Da(Da({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate})}else a[d]=f=Da(Da({},f),{},{tickCoord:f.coordinate});var w=fC(t,f.tickCoord,g,s,l);w&&(l=f.tickCoord-t*(g()/2+i),a[d]=Da(Da({},f),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function Eut(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=n[s-1],A=r(c,s-1),d=t*(c.coordinate+t*A/2-u);o[s-1]=c=Da(Da({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var f=fC(t,c.tickCoord,function(){return A},l,u);f&&(u=c.tickCoord-t*(A/2+i),o[s-1]=Da(Da({},c),{},{isShow:!0}))}for(var p=a?s-1:s,g=function(b){var C=o[b],S,x=function(){return S===void 0&&(S=r(C,b)),S};if(b===0){var _=t*(C.coordinate-t*x()/2-l);o[b]=C=Da(Da({},C),{},{tickCoord:_<0?C.coordinate-_*t:C.coordinate})}else o[b]=C=Da(Da({},C),{},{tickCoord:C.coordinate});var B=fC(t,C.tickCoord,x,l,u);B&&(l=C.tickCoord+t*(x()/2+i),o[b]=Da(Da({},C),{},{isShow:!0}))},m=0;m<p;m++)g(m);return o}function Iut(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,A=t.angle;if(!i||!i.length||!n)return[];if(yt(l)||ed.isSsr)return wut(i,typeof l=="number"&&yt(l)?l:0);var d=[],f=s==="top"||s==="bottom"?"width":"height",p=c&&f==="width"?Ay(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(C,S){var x=Ir(u)?u(C.value,S):C.value;return f==="width"?vut(Ay(x,{fontSize:e,letterSpacing:r}),p,A):Ay(x,{fontSize:e,letterSpacing:r})[f]},m=i.length>=2?Ol(i[1].coordinate-i[0].coordinate):1,w=yut(a,m,f);return l==="equidistantPreserveStart"?but(m,w,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=Eut(m,w,g,i,o,l==="preserveStartEnd"):d=_ut(m,w,g,i,o),d.filter(function(b){return b.isShow}))}var But=["viewBox"],Put=["viewBox"],Tut=["ticks"];function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mp.apply(this,arguments)}function vJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function so(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vJ(Object(r),!0).forEach(function(n){J3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nM(t,e){if(t==null)return{};var r=Out(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Out(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ETe(n.key),n)}}function Mut(t,e,r){return yJ(t.prototype,e),yJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fut(t,e,r){return e=hC(e),kut(t,_Te()?Reflect.construct(e,r,hC(t).constructor):e.apply(t,r))}function kut(t,e){if(e&&(bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uut(t)}function Uut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Te=function(){return!!t})()}function hC(t){return hC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hC(t)}function Dut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wQ(t,e)}function wQ(t,e){return wQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wQ(t,e)}function J3(t,e,r){return e=ETe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ETe(t){var e=jut(t,"string");return bg(e)=="symbol"?e:e+""}function jut(t,e){if(bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AE=function(t){function e(r){var n;return Rut(this,e),n=Fut(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Dut(e,t),Mut(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=nM(n,But),s=this.props,l=s.viewBox,u=nM(s,Put);return!Kp(a,l)||!Kp(o,u)||!Kp(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,A=i.mirror,d=i.tickMargin,f,p,g,m,w,b,C=A?-1:1,S=n.tickSize||c,x=yt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=p=n.coordinate,m=o+ +!A*l,g=m-C*S,b=g-C*d,w=x;break;case"left":g=m=n.coordinate,p=a+ +!A*s,f=p-C*S,w=f-C*d,b=x;break;case"right":g=m=n.coordinate,p=a+ +A*s,f=p+C*S,w=f+C*d,b=x;break;default:f=p=n.coordinate,m=o+ +A*l,g=m+C*S,b=g+C*d,w=x;break}return{line:{x1:f,y1:g,x2:p,y2:m},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,A=so(so(so({},Wr(this.props,!1)),Wr(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);A=so(so({},A),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var f=+(l==="left"&&!u||l==="right"&&u);A=so(so({},A),{},{x1:i+f*o,y1:a,x2:i+f*o,y2:a+s})}return ce.createElement("line",Mp({},A,{className:dt("recharts-cartesian-axis-line",Ys(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,A=s.tickFormatter,d=s.unit,f=Iut(so(so({},this.props),{},{ticks:n}),i,a),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),m=Wr(this.props,!1),w=Wr(c,!1),b=so(so({},m),{},{fill:"none"},Wr(l,!1)),C=f.map(function(S,x){var _=o.getTickLineCoord(S),B=_.line,T=_.tick,R=so(so(so(so({textAnchor:p,verticalAnchor:g},m),{},{stroke:"none",fill:u},w),T),{},{index:x,payload:S,visibleTicksCount:f.length,tickFormatter:A});return ce.createElement(Yi,Mp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},_1(o.props,S,x)),l&&ce.createElement("line",Mp({},b,B,{className:dt("recharts-cartesian-axis-tick-line",Ys(l,"className"))})),c&&e.renderTickItem(c,R,"".concat(Ir(A)?A(S.value,x):S.value).concat(d||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var A=this.props,d=A.ticks,f=nM(A,Tut),p=d;return Ir(l)&&(p=d&&d.length>0?l(this.props):l(f)),o<=0||s<=0||!p||!p.length?null:ce.createElement(Yi,{className:dt("recharts-cartesian-axis",u),ref:function(m){n.layerReference=m}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),$a.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,i):Ir(n)?o=n(i):o=ce.createElement(U1,Mp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(I.Component);J3(AE,"displayName","CartesianAxis");J3(AE,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function Lut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PTe(n.key),n)}}function $ut(t,e,r){return Nut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qut(t,e,r){return e=pC(e),Hut(t,ITe()?Reflect.construct(e,r||[],pC(t).constructor):e.apply(t,r))}function Hut(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qut(t)}function qut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ITe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ITe=function(){return!!t})()}function pC(t){return pC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pC(t)}function Kut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bQ(t,e)}function bQ(t,e){return bQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bQ(t,e)}function BTe(t,e,r){return e=PTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PTe(t){var e=zut(t,"string");return Sg(e)=="symbol"?e:e+""}function zut(t,e){if(Sg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SQ(){return SQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SQ.apply(this,arguments)}function Wut(t){var e=t.xAxisId,r=gTe(),n=mTe(),i=hTe(e);return i==null?null:ce.createElement(AE,SQ({},i,{className:dt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ef(o,!0)}}))}var ib=function(t){function e(){return Lut(this,e),Qut(this,e,arguments)}return Kut(e,t),$ut(e,[{key:"render",value:function(){return ce.createElement(Wut,this.props)}}])}(ce.Component);BTe(ib,"displayName","XAxis");BTe(ib,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function Gut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RTe(n.key),n)}}function Yut(t,e,r){return Vut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xut(t,e,r){return e=gC(e),Jut(t,TTe()?Reflect.construct(e,r||[],gC(t).constructor):e.apply(t,r))}function Jut(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zut(t)}function Zut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TTe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TTe=function(){return!!t})()}function gC(t){return gC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gC(t)}function ect(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xQ(t,e)}function xQ(t,e){return xQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xQ(t,e)}function OTe(t,e,r){return e=RTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RTe(t){var e=tct(t,"string");return xg(e)=="symbol"?e:e+""}function tct(t,e){if(xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CQ(){return CQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CQ.apply(this,arguments)}var rct=function(e){var r=e.yAxisId,n=gTe(),i=mTe(),a=pTe(r);return a==null?null:ce.createElement(AE,CQ({},a,{className:dt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Ef(s,!0)}}))},ab=function(t){function e(){return Gut(this,e),Xut(this,e,arguments)}return ect(e,t),Yut(e,[{key:"render",value:function(){return ce.createElement(rct,this.props)}}])}(ce.Component);OTe(ab,"displayName","YAxis");OTe(ab,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function wJ(t){return oct(t)||act(t)||ict(t)||nct()}function nct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ict(t,e){if(t){if(typeof t=="string")return _Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _Q(t,e)}}function act(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oct(t){if(Array.isArray(t))return _Q(t)}function _Q(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var EQ=function(e,r,n,i,a){var o=Fl(e,X3),s=Fl(e,lE),l=[].concat(wJ(o),wJ(s)),u=Fl(e,cE),c="".concat(i,"Id"),A=i[0],d=r;if(l.length&&(d=l.reduce(function(g,m){if(m.props[c]===n&&Fu(m.props,"extendDomain")&&yt(m.props[A])){var w=m.props[A];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},d)),u.length){var f="".concat(A,"1"),p="".concat(A,"2");d=u.reduce(function(g,m){if(m.props[c]===n&&Fu(m.props,"extendDomain")&&yt(m.props[f])&&yt(m.props[p])){var w=m.props[f],b=m.props[p];return[Math.min(g[0],w,b),Math.max(g[1],w,b)]}return g},d)}return a&&a.length&&(d=a.reduce(function(g,m){return yt(m)?[Math.min(g[0],m),Math.max(g[1],m)]:g},d)),d},iM={exports:{}},bJ;function sct(){return bJ||(bJ=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,A,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,A||l,d),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,A;if(this._eventsCount===0)return u;for(A in c=this._events)e.call(c,A)&&u.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,A=this._events[c];if(!A)return[];if(A.fn)return[A.fn];for(var d=0,f=A.length,p=new Array(f);d<f;d++)p[d]=A[d].fn;return p},s.prototype.listenerCount=function(u){var c=r?r+u:u,A=this._events[c];return A?A.fn?1:A.length:0},s.prototype.emit=function(u,c,A,d,f,p){var g=r?r+u:u;if(!this._events[g])return!1;var m=this._events[g],w=arguments.length,b,C;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),w){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,A),!0;case 4:return m.fn.call(m.context,c,A,d),!0;case 5:return m.fn.call(m.context,c,A,d,f),!0;case 6:return m.fn.call(m.context,c,A,d,f,p),!0}for(C=1,b=new Array(w-1);C<w;C++)b[C-1]=arguments[C];m.fn.apply(m.context,b)}else{var S=m.length,x;for(C=0;C<S;C++)switch(m[C].once&&this.removeListener(u,m[C].fn,void 0,!0),w){case 1:m[C].fn.call(m[C].context);break;case 2:m[C].fn.call(m[C].context,c);break;case 3:m[C].fn.call(m[C].context,c,A);break;case 4:m[C].fn.call(m[C].context,c,A,d);break;default:if(!b)for(x=1,b=new Array(w-1);x<w;x++)b[x-1]=arguments[x];m[C].fn.apply(m[C].context,b)}}return!0},s.prototype.on=function(u,c,A){return a(this,u,c,A,!1)},s.prototype.once=function(u,c,A){return a(this,u,c,A,!0)},s.prototype.removeListener=function(u,c,A,d){var f=r?r+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!A||p.context===A)&&o(this,f);else{for(var g=0,m=[],w=p.length;g<w;g++)(p[g].fn!==c||d&&!p[g].once||A&&p[g].context!==A)&&m.push(p[g]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s}(iM)),iM.exports}var lct=sct();const MTe=kr(lct);var aM=new MTe,oM="recharts.syncMouseEvents";function gw(t){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(t)}function uct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FTe(n.key),n)}}function Act(t,e,r){return cct(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sM(t,e,r){return e=FTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FTe(t){var e=dct(t,"string");return gw(e)=="symbol"?e:e+""}function dct(t,e){if(gw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fct=function(){function t(){uct(this,t),sM(this,"activeIndex",0),sM(this,"coordinateList",[]),sM(this,"layout","horizontal")}return Act(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,c=r.offset,A=c===void 0?null:c,d=r.mouseHandlerCallback,f=d===void 0?null:d;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=A??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,A=a+l+u,d=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:A,pageY:d})}}}])}();function hct(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&yt(n)&&yt(i))return!0}return!1}function pct(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function kTe(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=pa(e,r,n,i),s=pa(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function gct(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,A=e.angle,d=pa(s,l,u,A),f=pa(s,l,c,A);n=d.x,i=d.y,a=f.x,o=f.y}else return kTe(e);return[{x:n,y:i},{x:a,y:o}]}function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}function SJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SJ(Object(r),!0).forEach(function(n){mct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mct(t,e,r){return e=vct(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vct(t){var e=yct(t,"string");return mw(e)=="symbol"?e:e+""}function yct(t,e){if(mw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wct(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,A=t.layout,d=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var p,g=iX;if(d==="ScatterChart")p=o,g=Wot;else if(d==="BarChart")p=pct(A,o,l,c),g=G3;else if(A==="radial"){var m=kTe(o),w=m.cx,b=m.cy,C=m.radius,S=m.startAngle,x=m.endAngle;p={cx:w,cy:b,startAngle:S,endAngle:x,innerRadius:C,outerRadius:C},g=HPe}else p={points:gct(A,o,l)},g=iX;var _=f0(f0(f0(f0({stroke:"#ccc",pointerEvents:"none"},l),p),Wr(f,!1)),{},{payload:s,payloadIndex:u,className:dt("recharts-tooltip-cursor",f.className)});return I.isValidElement(f)?I.cloneElement(f,_):I.createElement(g,_)}var bct=["item"],Sct=["children","className","width","height","style","compact","title","desc"];function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fp.apply(this,arguments)}function xJ(t,e){return _ct(t)||Cct(t,e)||DTe(t,e)||xct()}function xct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cct(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _ct(t){if(Array.isArray(t))return t}function CJ(t,e){if(t==null)return{};var r=Ect(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ect(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ict(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jTe(n.key),n)}}function Pct(t,e,r){return Bct(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tct(t,e,r){return e=mC(e),Oct(t,UTe()?Reflect.construct(e,r,mC(t).constructor):e.apply(t,r))}function Oct(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rct(t)}function Rct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UTe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UTe=function(){return!!t})()}function mC(t){return mC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mC(t)}function Mct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IQ(t,e)}function IQ(t,e){return IQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IQ(t,e)}function _g(t){return Uct(t)||kct(t)||DTe(t)||Fct()}function Fct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DTe(t,e){if(t){if(typeof t=="string")return BQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BQ(t,e)}}function kct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uct(t){if(Array.isArray(t))return BQ(t)}function BQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_J(Object(r),!0).forEach(function(n){Wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_J(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wt(t,e,r){return e=jTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jTe(t){var e=Dct(t,"string");return Cg(e)=="symbol"?e:e+""}function Dct(t,e){if(Cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jct={xAxis:["bottom","top"],yAxis:["left","right"]},Lct={width:"100%",height:"100%"},LTe={x:0,y:0};function h0(t){return t}var Nct=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},$ct=function(e,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Me(Me(Me({},i),pa(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Me(Me(Me({},i),pa(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return LTe},dE=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(_g(s),_g(u)):s},[]);return o.length>0?o:e&&e.length&&yt(i)&&yt(a)?e.slice(i,a+1):[]};function NTe(t){return t==="number"?[0,"auto"]:void 0}var PQ=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=dE(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var c,A=(c=u.props.data)!==null&&c!==void 0?c:r;A&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(A=A.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var f=A===void 0?s:A;d=p$(f,o.dataKey,i)}else d=A&&A[n]||s[n];return d?[].concat(_g(l),[NPe(u,d)]):l},[])},EJ=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=Nct(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Fnt(o,s,u,l);if(c>=0&&u){var A=u[c]&&u[c].value,d=PQ(e,r,c,A),f=$ct(n,s,c,a);return{activeTooltipIndex:c,activeLabel:A,activePayload:d,activeCoordinate:f}}return null},Qct=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,A=e.children,d=e.stackOffset,f=jPe(c,a);return n.reduce(function(p,g){var m,w=g.type.defaultProps!==void 0?Me(Me({},g.type.defaultProps),g.props):g.props,b=w.type,C=w.dataKey,S=w.allowDataOverflow,x=w.allowDuplicatedCategory,_=w.scale,B=w.ticks,T=w.includeHidden,R=w[o];if(p[R])return p;var P=dE(e.data,{graphicalItems:i.filter(function(V){var X,ee=o in V.props?V.props[o]:(X=V.type.defaultProps)===null||X===void 0?void 0:X[o];return ee===R}),dataStartIndex:l,dataEndIndex:u}),M=P.length,U,F,j;hct(w.domain,S,b)&&(U=V$(w.domain,null,S),f&&(b==="number"||_!=="auto")&&(j=fy(P,C,"category")));var L=NTe(b);if(!U||U.length===0){var $,Q=($=w.domain)!==null&&$!==void 0?$:L;if(C){if(U=fy(P,C,b),b==="category"&&f){var H=_Ve(U);x&&H?(F=U,U=aC(0,M)):x||(U=qY(Q,U,g).reduce(function(V,X){return V.indexOf(X)>=0?V:[].concat(_g(V),[X])},[]))}else if(b==="category")x?U=U.filter(function(V){return V!==""&&!Gr(V)}):U=qY(Q,U,g).reduce(function(V,X){return V.indexOf(X)>=0||X===""||Gr(X)?V:[].concat(_g(V),[X])},[]);else if(b==="number"){var q=Lnt(P,i.filter(function(V){var X,ee,J=o in V.props?V.props[o]:(X=V.type.defaultProps)===null||X===void 0?void 0:X[o],le="hide"in V.props?V.props.hide:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return J===R&&(T||!le)}),C,a,c);q&&(U=q)}f&&(b==="number"||_!=="auto")&&(j=fy(P,C,"category"))}else f?U=aC(0,M):s&&s[R]&&s[R].hasStack&&b==="number"?U=d==="expand"?[0,1]:LPe(s[R].stackGroups,l,u):U=DPe(P,i.filter(function(V){var X=o in V.props?V.props[o]:V.type.defaultProps[o],ee="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return X===R&&(T||!ee)}),b,c,!0);if(b==="number")U=EQ(A,U,R,a,B),Q&&(U=V$(Q,U,S));else if(b==="category"&&Q){var Y=Q,z=U.every(function(V){return Y.indexOf(V)>=0});z&&(U=Y)}}return Me(Me({},p),{},Wt({},R,Me(Me({},w),{},{axisType:a,domain:U,categoricalDomain:j,duplicateDomain:F,originalDomain:(m=w.domain)!==null&&m!==void 0?m:L,isCategorical:f,layout:c})))},{})},Hct=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,A=e.children,d=dE(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),f=d.length,p=jPe(c,a),g=-1;return n.reduce(function(m,w){var b=w.type.defaultProps!==void 0?Me(Me({},w.type.defaultProps),w.props):w.props,C=b[o],S=NTe("number");if(!m[C]){g++;var x;return p?x=aC(0,f):s&&s[C]&&s[C].hasStack?(x=LPe(s[C].stackGroups,l,u),x=EQ(A,x,C,a)):(x=V$(S,DPe(d,n.filter(function(_){var B,T,R=o in _.props?_.props[o]:(B=_.type.defaultProps)===null||B===void 0?void 0:B[o],P="hide"in _.props?_.props.hide:(T=_.type.defaultProps)===null||T===void 0?void 0:T.hide;return R===C&&!P}),"number",c),i.defaultProps.allowDataOverflow),x=EQ(A,x,C,a)),Me(Me({},m),{},Wt({},C,Me(Me({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ys(jct,"".concat(a,".").concat(g%2),null),domain:x,originalDomain:S,isCategorical:p,layout:c})))}return m},{})},qct=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.children,A="".concat(i,"Id"),d=Fl(c,a),f={};return d.length?f=Qct(e,{axes:d,graphicalItems:o,axisType:i,axisIdKey:A,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(f=Hct(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:A,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),f},Kct=function(e){var r=_p(e),n=Ef(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:w3(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Y1(r,n)}},IJ=function(e){var r=e.children,n=e.defaultShowTooltip,i=rs(r,gg),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},zct=function(e){return!e||!e.length?!1:e.some(function(r){var n=Dc(r&&r.type);return n&&n.indexOf("Bar")>=0})},BJ=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Wct=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,c=n.height,A=n.children,d=n.margin||{},f=rs(A,gg),p=rs(A,Tf),g=Object.keys(l).reduce(function(x,_){var B=l[_],T=B.orientation;return!B.mirror&&!B.hide?Me(Me({},x),{},Wt({},T,x[T]+B.width)):x},{left:d.left||0,right:d.right||0}),m=Object.keys(o).reduce(function(x,_){var B=o[_],T=B.orientation;return!B.mirror&&!B.hide?Me(Me({},x),{},Wt({},T,Ys(x,"".concat(T))+B.height)):x},{top:d.top||0,bottom:d.bottom||0}),w=Me(Me({},m),g),b=w.bottom;f&&(w.bottom+=f.props.height||gg.defaultProps.height),p&&r&&(w=Dnt(w,i,n,r));var C=u-w.left-w.right,S=c-w.top-w.bottom;return Me(Me({brushBottom:b},w),{},{width:Math.max(C,0),height:Math.max(S,0)})},Gct=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Vct=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,A=e.defaultProps,d=function(w,b){var C=b.graphicalItems,S=b.stackGroups,x=b.offset,_=b.updateId,B=b.dataStartIndex,T=b.dataEndIndex,R=w.barSize,P=w.layout,M=w.barGap,U=w.barCategoryGap,F=w.maxBarSize,j=BJ(P),L=j.numericAxisName,$=j.cateAxisName,Q=zct(C),H=[];return C.forEach(function(q,Y){var z=dE(w.data,{graphicalItems:[q],dataStartIndex:B,dataEndIndex:T}),V=q.type.defaultProps!==void 0?Me(Me({},q.type.defaultProps),q.props):q.props,X=V.dataKey,ee=V.maxBarSize,J=V["".concat(L,"Id")],le=V["".concat($,"Id")],de={},oe=l.reduce(function(Ie,be){var Be=b["".concat(be.axisType,"Map")],tt=V["".concat(be.axisType,"Id")];Be&&Be[tt]||be.axisType==="zAxis"||Qf();var ct=Be[tt];return Me(Me({},Ie),{},Wt(Wt({},be.axisType,ct),"".concat(be.axisType,"Ticks"),Ef(ct)))},de),re=oe[$],se=oe["".concat($,"Ticks")],he=S&&S[J]&&S[J].hasStack&&Xnt(q,S[J].stackGroups),ae=Dc(q.type).indexOf("Bar")>=0,Ee=Y1(re,se),Oe=[],Ne=Q&&knt({barSize:R,stackGroups:S,totalSize:Gct(oe,$)});if(ae){var De,Le,st=Gr(ee)?F:ee,ut=(De=(Le=Y1(re,se,!0))!==null&&Le!==void 0?Le:st)!==null&&De!==void 0?De:0;Oe=Unt({barGap:M,barCategoryGap:U,bandSize:ut!==Ee?ut:Ee,sizeList:Ne[le],maxBarSize:st}),ut!==Ee&&(Oe=Oe.map(function(Ie){return Me(Me({},Ie),{},{position:Me(Me({},Ie.position),{},{offset:Ie.position.offset-ut/2})})}))}var it=q&&q.type&&q.type.getComposedData;it&&H.push({props:Me(Me({},it(Me(Me({},oe),{},{displayedData:z,props:w,dataKey:X,item:q,bandSize:Ee,barPosition:Oe,offset:x,stackedData:he,layout:P,dataStartIndex:B,dataEndIndex:T}))),{},Wt(Wt(Wt({key:q.key||"item-".concat(Y)},L,oe[L]),$,oe[$]),"animationId",_)),childIndex:UVe(q,w.children),item:q})}),H},f=function(w,b){var C=w.props,S=w.dataStartIndex,x=w.dataEndIndex,_=w.updateId;if(!aG({props:C}))return null;var B=C.children,T=C.layout,R=C.stackOffset,P=C.data,M=C.reverseStackOrder,U=BJ(T),F=U.numericAxisName,j=U.cateAxisName,L=Fl(B,n),$=Gnt(P,L,"".concat(F,"Id"),"".concat(j,"Id"),R,M),Q=l.reduce(function(V,X){var ee="".concat(X.axisType,"Map");return Me(Me({},V),{},Wt({},ee,qct(C,Me(Me({},X),{},{graphicalItems:L,stackGroups:X.axisType===F&&$,dataStartIndex:S,dataEndIndex:x}))))},{}),H=Wct(Me(Me({},Q),{},{props:C,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(Q).forEach(function(V){Q[V]=c(C,Q[V],H,V.replace("Map",""),r)});var q=Q["".concat(j,"Map")],Y=Kct(q),z=d(C,Me(Me({},Q),{},{dataStartIndex:S,dataEndIndex:x,updateId:_,graphicalItems:L,stackGroups:$,offset:H}));return Me(Me({formattedGraphicalItems:z,graphicalItems:L,offset:H,stackGroups:$},Y),Q)},p=function(m){function w(b){var C,S,x;return Ict(this,w),x=Tct(this,w,[b]),Wt(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Wt(x,"accessibilityManager",new fct),Wt(x,"handleLegendBBoxUpdate",function(_){if(_){var B=x.state,T=B.dataStartIndex,R=B.dataEndIndex,P=B.updateId;x.setState(Me({legendBBox:_},f({props:x.props,dataStartIndex:T,dataEndIndex:R,updateId:P},Me(Me({},x.state),{},{legendBBox:_}))))}}),Wt(x,"handleReceiveSyncEvent",function(_,B,T){if(x.props.syncId===_){if(T===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(B)}}),Wt(x,"handleBrushChange",function(_){var B=_.startIndex,T=_.endIndex;if(B!==x.state.dataStartIndex||T!==x.state.dataEndIndex){var R=x.state.updateId;x.setState(function(){return Me({dataStartIndex:B,dataEndIndex:T},f({props:x.props,dataStartIndex:B,dataEndIndex:T,updateId:R},x.state))}),x.triggerSyncEvent({dataStartIndex:B,dataEndIndex:T})}}),Wt(x,"handleMouseEnter",function(_){var B=x.getMouseInfo(_);if(B){var T=Me(Me({},B),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var R=x.props.onMouseEnter;Ir(R)&&R(T,_)}}),Wt(x,"triggeredAfterMouseMove",function(_){var B=x.getMouseInfo(_),T=B?Me(Me({},B),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(T),x.triggerSyncEvent(T);var R=x.props.onMouseMove;Ir(R)&&R(T,_)}),Wt(x,"handleItemMouseEnter",function(_){x.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Wt(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Wt(x,"handleMouseMove",function(_){_.persist(),x.throttleTriggeredAfterMouseMove(_)}),Wt(x,"handleMouseLeave",function(_){x.throttleTriggeredAfterMouseMove.cancel();var B={isTooltipActive:!1};x.setState(B),x.triggerSyncEvent(B);var T=x.props.onMouseLeave;Ir(T)&&T(B,_)}),Wt(x,"handleOuterEvent",function(_){var B=kVe(_),T=Ys(x.props,"".concat(B));if(B&&Ir(T)){var R,P;/.*touch.*/i.test(B)?P=x.getMouseInfo(_.changedTouches[0]):P=x.getMouseInfo(_),T((R=P)!==null&&R!==void 0?R:{},_)}}),Wt(x,"handleClick",function(_){var B=x.getMouseInfo(_);if(B){var T=Me(Me({},B),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var R=x.props.onClick;Ir(R)&&R(T,_)}}),Wt(x,"handleMouseDown",function(_){var B=x.props.onMouseDown;if(Ir(B)){var T=x.getMouseInfo(_);B(T,_)}}),Wt(x,"handleMouseUp",function(_){var B=x.props.onMouseUp;if(Ir(B)){var T=x.getMouseInfo(_);B(T,_)}}),Wt(x,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Wt(x,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseDown(_.changedTouches[0])}),Wt(x,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseUp(_.changedTouches[0])}),Wt(x,"handleDoubleClick",function(_){var B=x.props.onDoubleClick;if(Ir(B)){var T=x.getMouseInfo(_);B(T,_)}}),Wt(x,"handleContextMenu",function(_){var B=x.props.onContextMenu;if(Ir(B)){var T=x.getMouseInfo(_);B(T,_)}}),Wt(x,"triggerSyncEvent",function(_){x.props.syncId!==void 0&&aM.emit(oM,x.props.syncId,_,x.eventEmitterSymbol)}),Wt(x,"applySyncEvent",function(_){var B=x.props,T=B.layout,R=B.syncMethod,P=x.state.updateId,M=_.dataStartIndex,U=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)x.setState(Me({dataStartIndex:M,dataEndIndex:U},f({props:x.props,dataStartIndex:M,dataEndIndex:U,updateId:P},x.state)));else if(_.activeTooltipIndex!==void 0){var F=_.chartX,j=_.chartY,L=_.activeTooltipIndex,$=x.state,Q=$.offset,H=$.tooltipTicks;if(!Q)return;if(typeof R=="function")L=R(H,_);else if(R==="value"){L=-1;for(var q=0;q<H.length;q++)if(H[q].value===_.activeLabel){L=q;break}}var Y=Me(Me({},Q),{},{x:Q.left,y:Q.top}),z=Math.min(F,Y.x+Y.width),V=Math.min(j,Y.y+Y.height),X=H[L]&&H[L].value,ee=PQ(x.state,x.props.data,L),J=H[L]?{x:T==="horizontal"?H[L].coordinate:z,y:T==="horizontal"?V:H[L].coordinate}:LTe;x.setState(Me(Me({},_),{},{activeLabel:X,activeCoordinate:J,activePayload:ee,activeTooltipIndex:L}))}else x.setState(_)}),Wt(x,"renderCursor",function(_){var B,T=x.state,R=T.isTooltipActive,P=T.activeCoordinate,M=T.activePayload,U=T.offset,F=T.activeTooltipIndex,j=T.tooltipAxisBandSize,L=x.getTooltipEventType(),$=(B=_.props.active)!==null&&B!==void 0?B:R,Q=x.props.layout,H=_.key||"_recharts-cursor";return ce.createElement(wct,{key:H,activeCoordinate:P,activePayload:M,activeTooltipIndex:F,chartName:r,element:_,isActive:$,layout:Q,offset:U,tooltipAxisBandSize:j,tooltipEventType:L})}),Wt(x,"renderPolarAxis",function(_,B,T){var R=Ys(_,"type.axisType"),P=Ys(x.state,"".concat(R,"Map")),M=_.type.defaultProps,U=M!==void 0?Me(Me({},M),_.props):_.props,F=P&&P[U["".concat(R,"Id")]];return I.cloneElement(_,Me(Me({},F),{},{className:dt(R,F.className),key:_.key||"".concat(B,"-").concat(T),ticks:Ef(F,!0)}))}),Wt(x,"renderPolarGrid",function(_){var B=_.props,T=B.radialLines,R=B.polarAngles,P=B.polarRadius,M=x.state,U=M.radiusAxisMap,F=M.angleAxisMap,j=_p(U),L=_p(F),$=L.cx,Q=L.cy,H=L.innerRadius,q=L.outerRadius;return I.cloneElement(_,{polarAngles:Array.isArray(R)?R:Ef(L,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(P)?P:Ef(j,!0).map(function(Y){return Y.coordinate}),cx:$,cy:Q,innerRadius:H,outerRadius:q,key:_.key||"polar-grid",radialLines:T})}),Wt(x,"renderLegend",function(){var _=x.state.formattedGraphicalItems,B=x.props,T=B.children,R=B.width,P=B.height,M=x.props.margin||{},U=R-(M.left||0)-(M.right||0),F=kPe({children:T,formattedGraphicalItems:_,legendWidth:U,legendContent:u});if(!F)return null;var j=F.item,L=CJ(F,bct);return I.cloneElement(j,Me(Me({},L),{},{chartWidth:R,chartHeight:P,margin:M,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Wt(x,"renderTooltip",function(){var _,B=x.props,T=B.children,R=B.accessibilityLayer,P=rs(T,Cl);if(!P)return null;var M=x.state,U=M.isTooltipActive,F=M.activeCoordinate,j=M.activePayload,L=M.activeLabel,$=M.offset,Q=(_=P.props.active)!==null&&_!==void 0?_:U;return I.cloneElement(P,{viewBox:Me(Me({},$),{},{x:$.left,y:$.top}),active:Q,label:L,payload:Q?j:[],coordinate:F,accessibilityLayer:R})}),Wt(x,"renderBrush",function(_){var B=x.props,T=B.margin,R=B.data,P=x.state,M=P.offset,U=P.dataStartIndex,F=P.dataEndIndex,j=P.updateId;return I.cloneElement(_,{key:_.key||"_recharts-brush",onChange:u0(x.handleBrushChange,_.props.onChange),data:R,x:yt(_.props.x)?_.props.x:M.left,y:yt(_.props.y)?_.props.y:M.top+M.height+M.brushBottom-(T.bottom||0),width:yt(_.props.width)?_.props.width:M.width,startIndex:U,endIndex:F,updateId:"brush-".concat(j)})}),Wt(x,"renderReferenceElement",function(_,B,T){if(!_)return null;var R=x,P=R.clipPathId,M=x.state,U=M.xAxisMap,F=M.yAxisMap,j=M.offset,L=_.type.defaultProps||{},$=_.props,Q=$.xAxisId,H=Q===void 0?L.xAxisId:Q,q=$.yAxisId,Y=q===void 0?L.yAxisId:q;return I.cloneElement(_,{key:_.key||"".concat(B,"-").concat(T),xAxis:U[H],yAxis:F[Y],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:P})}),Wt(x,"renderActivePoints",function(_){var B=_.item,T=_.activePoint,R=_.basePoint,P=_.childIndex,M=_.isRange,U=[],F=B.props.key,j=B.item.type.defaultProps!==void 0?Me(Me({},B.item.type.defaultProps),B.item.props):B.item.props,L=j.activeDot,$=j.dataKey,Q=Me(Me({index:P,dataKey:$,cx:T.x,cy:T.y,r:4,fill:W3(B.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Wr(L,!1)),C1(L));return U.push(w.renderActiveDot(L,Q,"".concat(F,"-activePoint-").concat(P))),R?U.push(w.renderActiveDot(L,Me(Me({},Q),{},{cx:R.x,cy:R.y}),"".concat(F,"-basePoint-").concat(P))):M&&U.push(null),U}),Wt(x,"renderGraphicChild",function(_,B,T){var R=x.filterFormatItem(_,B,T);if(!R)return null;var P=x.getTooltipEventType(),M=x.state,U=M.isTooltipActive,F=M.tooltipAxis,j=M.activeTooltipIndex,L=M.activeLabel,$=x.props.children,Q=rs($,Cl),H=R.props,q=H.points,Y=H.isRange,z=H.baseLine,V=R.item.type.defaultProps!==void 0?Me(Me({},R.item.type.defaultProps),R.item.props):R.item.props,X=V.activeDot,ee=V.hide,J=V.activeBar,le=V.activeShape,de=!!(!ee&&U&&Q&&(X||J||le)),oe={};P!=="axis"&&Q&&Q.props.trigger==="click"?oe={onClick:u0(x.handleItemMouseEnter,_.props.onClick)}:P!=="axis"&&(oe={onMouseLeave:u0(x.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:u0(x.handleItemMouseEnter,_.props.onMouseEnter)});var re=I.cloneElement(_,Me(Me({},R.props),oe));function se(be){return typeof F.dataKey=="function"?F.dataKey(be.payload):null}if(de)if(j>=0){var he,ae;if(F.dataKey&&!F.allowDuplicatedCategory){var Ee=typeof F.dataKey=="function"?se:"payload.".concat(F.dataKey.toString());he=p$(q,Ee,L),ae=Y&&z&&p$(z,Ee,L)}else he=q==null?void 0:q[j],ae=Y&&z&&z[j];if(le||J){var Oe=_.props.activeIndex!==void 0?_.props.activeIndex:j;return[I.cloneElement(_,Me(Me(Me({},R.props),oe),{},{activeIndex:Oe})),null,null]}if(!Gr(he))return[re].concat(_g(x.renderActivePoints({item:R,activePoint:he,basePoint:ae,childIndex:j,isRange:Y})))}else{var Ne,De=(Ne=x.getItemByXY(x.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:re},Le=De.graphicalItem,st=Le.item,ut=st===void 0?_:st,it=Le.childIndex,Ie=Me(Me(Me({},R.props),oe),{},{activeIndex:it});return[I.cloneElement(ut,Ie),null,null]}return Y?[re,null,null]:[re,null]}),Wt(x,"renderCustomized",function(_,B,T){return I.cloneElement(_,Me(Me({key:"recharts-customized-".concat(T)},x.props),x.state))}),Wt(x,"renderMap",{CartesianGrid:{handler:h0,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:h0},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:h0},YAxis:{handler:h0},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((C=b.id)!==null&&C!==void 0?C:L_("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=MBe(x.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return Mct(w,m),Pct(w,[{key:"componentDidMount",value:function(){var C,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,S=C.children,x=C.data,_=C.height,B=C.layout,T=rs(S,Cl);if(T){var R=T.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=PQ(this.state,x,R,P),U=this.state.tooltipTicks[R].coordinate,F=(this.state.offset.top+_)/2,j=B==="horizontal",L=j?{x:U,y:F}:{y:U,x:F},$=this.state.formattedGraphicalItems.find(function(H){var q=H.item;return q.type.name==="Scatter"});$&&(L=Me(Me({},L),$.props.points[R].tooltipPosition),M=$.props.points[R].tooltipPayload);var Q={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:P,activePayload:M,activeCoordinate:L};this.setState(Q),this.renderCursor(T),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var x,_;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(C){m$([rs(C.children,Cl)],[rs(this.props.children,Cl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=rs(this.props.children,Cl);if(C&&typeof C.props.shared=="boolean"){var S=C.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),_=SZe(x),B={chartX:Math.round(C.pageX-_.left),chartY:Math.round(C.pageY-_.top)},T=x.width/S.offsetWidth||1,R=this.inRange(B.chartX,B.chartY,T);if(!R)return null;var P=this.state,M=P.xAxisMap,U=P.yAxisMap,F=this.getTooltipEventType();if(F!=="axis"&&M&&U){var j=_p(M).scale,L=_p(U).scale,$=j&&j.invert?j.invert(B.chartX):null,Q=L&&L.invert?L.invert(B.chartY):null;return Me(Me({},B),{},{xValue:$,yValue:Q})}var H=EJ(this.state,this.props.data,this.props.layout,R);return H?Me(Me({},B),H):null}},{key:"inRange",value:function(C,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,B=C/x,T=S/x;if(_==="horizontal"||_==="vertical"){var R=this.state.offset,P=B>=R.left&&B<=R.left+R.width&&T>=R.top&&T<=R.top+R.height;return P?{x:B,y:T}:null}var M=this.state,U=M.angleAxisMap,F=M.radiusAxisMap;if(U&&F){var j=_p(U);return WY({x:B,y:T},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,S=this.getTooltipEventType(),x=rs(C,Cl),_={};x&&S==="axis"&&(x.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var B=C1(this.props,this.handleOuterEvent);return Me(Me({},B),_)}},{key:"addListener",value:function(){aM.on(oM,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){aM.removeListener(oM,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,S,x){for(var _=this.state.formattedGraphicalItems,B=0,T=_.length;B<T;B++){var R=_[B];if(R.item===C||R.props.key===C.key||S===Dc(R.item.type)&&x===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,S=this.state.offset,x=S.left,_=S.top,B=S.height,T=S.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:C},ce.createElement("rect",{x,y:_,height:B,width:T})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(S,x){var _=xJ(x,2),B=_[0],T=_[1];return Me(Me({},S),{},Wt({},B,T.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(S,x){var _=xJ(x,2),B=_[0],T=_[1];return Me(Me({},S),{},Wt({},B,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[C])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(C){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[C])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(C){var S=this.state,x=S.formattedGraphicalItems,_=S.activeItem;if(x&&x.length)for(var B=0,T=x.length;B<T;B++){var R=x[B],P=R.props,M=R.item,U=M.type.defaultProps!==void 0?Me(Me({},M.type.defaultProps),M.props):M.props,F=Dc(M.type);if(F==="Bar"){var j=(P.data||[]).find(function(H){return Dot(C,H)});if(j)return{graphicalItem:R,payload:j}}else if(F==="RadialBar"){var L=(P.data||[]).find(function(H){return WY(C,H)});if(L)return{graphicalItem:R,payload:L}}else if(iE(R,_)||aE(R,_)||Aw(R,_)){var $=Ist({graphicalItem:R,activeTooltipItem:_,itemData:U.data}),Q=U.activeIndex===void 0?$:U.activeIndex;return{graphicalItem:Me(Me({},R),{},{childIndex:Q}),payload:Aw(R,_)?U.data[$]:R.props.data[$]}}}return null}},{key:"render",value:function(){var C=this;if(!aG(this))return null;var S=this.props,x=S.children,_=S.className,B=S.width,T=S.height,R=S.style,P=S.compact,M=S.title,U=S.desc,F=CJ(S,Sct),j=Wr(F,!1);if(P)return ce.createElement(uJ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(y$,Fp({},j,{width:B,height:T,title:M,desc:U}),this.renderClipPath(),sG(x,this.renderMap)));if(this.props.accessibilityLayer){var L,$;j.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,j.role=($=this.props.role)!==null&&$!==void 0?$:"application",j.onKeyDown=function(H){C.accessibilityManager.keyboardEvent(H)},j.onFocus=function(){C.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return ce.createElement(uJ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",Fp({className:dt("recharts-wrapper",_),style:Me({position:"relative",cursor:"default",width:B,height:T},R)},Q,{ref:function(q){C.container=q}}),ce.createElement(y$,Fp({},j,{width:B,height:T,title:M,desc:U,style:Lct}),this.renderClipPath(),sG(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);Wt(p,"displayName",r),Wt(p,"defaultProps",Me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},A)),Wt(p,"getDerivedStateFromProps",function(m,w){var b=m.dataKey,C=m.data,S=m.children,x=m.width,_=m.height,B=m.layout,T=m.stackOffset,R=m.margin,P=w.dataStartIndex,M=w.dataEndIndex;if(w.updateId===void 0){var U=IJ(m);return Me(Me(Me({},U),{},{updateId:0},f(Me(Me({props:m},U),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:C,prevWidth:x,prevHeight:_,prevLayout:B,prevStackOffset:T,prevMargin:R,prevChildren:S})}if(b!==w.prevDataKey||C!==w.prevData||x!==w.prevWidth||_!==w.prevHeight||B!==w.prevLayout||T!==w.prevStackOffset||!Kp(R,w.prevMargin)){var F=IJ(m),j={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},L=Me(Me({},EJ(w,C,B)),{},{updateId:w.updateId+1}),$=Me(Me(Me({},F),j),L);return Me(Me(Me({},$),f(Me({props:m},$),w)),{},{prevDataKey:b,prevData:C,prevWidth:x,prevHeight:_,prevLayout:B,prevStackOffset:T,prevMargin:R,prevChildren:S})}if(!m$(S,w.prevChildren)){var Q,H,q,Y,z=rs(S,gg),V=z&&(Q=(H=z.props)===null||H===void 0?void 0:H.startIndex)!==null&&Q!==void 0?Q:P,X=z&&(q=(Y=z.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&q!==void 0?q:M,ee=V!==P||X!==M,J=!Gr(C),le=J&&!ee?w.updateId:w.updateId+1;return Me(Me({updateId:le},f(Me(Me({props:m},w),{},{updateId:le,dataStartIndex:V,dataEndIndex:X}),w)),{},{prevChildren:S,dataStartIndex:V,dataEndIndex:X})}return null}),Wt(p,"renderActiveDot",function(m,w,b){var C;return I.isValidElement(m)?C=I.cloneElement(m,w):Ir(m)?C=m(w):C=ce.createElement(XPe,w),ce.createElement(Yi,{className:"recharts-active-dot",key:b},C)});var g=I.forwardRef(function(w,b){return ce.createElement(p,Fp({},w,{ref:b}))});return g.displayName=p.displayName,g},$Te=Vct({chartName:"BarChart",GraphicalChild:Ed,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ib},{axisType:"yAxis",AxisComp:ab}],formatAxisMap:Clt});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TQ=function(t,e){return TQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},TQ(t,e)};function Kl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");TQ(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var OQ=function(){return OQ=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},OQ.apply(this,arguments)};function uo(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(A){o(A)}}function l(c){try{u(n.throw(c))}catch(A){o(A)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(t,[])).next())})}function Fa(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function p0(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}var Xc=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),fE=function(t,e){return Xc.fromClientRect(t,e.getBoundingClientRect())},Yct=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Xc(0,0,n,i)},hE=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},di=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},PJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xct=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g0=0;g0<PJ.length;g0++)Xct[PJ.charCodeAt(g0)]=g0;var TJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var m0=0;m0<TJ.length;m0++)Kv[TJ.charCodeAt(m0)]=m0;var Jct=function(t){var e=t.length*.75,r=t.length,n,i=0,a,o,s,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=Kv[t.charCodeAt(n)],o=Kv[t.charCodeAt(n+1)],s=Kv[t.charCodeAt(n+2)],l=Kv[t.charCodeAt(n+3)],c[i++]=a<<2|o>>4,c[i++]=(o&15)<<4|s>>2,c[i++]=(s&3)<<6|l&63;return u},Zct=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},eAt=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Ff=5,Z3=11,lM=2,tAt=Z3-Ff,QTe=65536>>Ff,rAt=1<<Ff,uM=rAt-1,nAt=1024>>Ff,iAt=QTe+nAt,aAt=iAt,oAt=32,sAt=aAt+oAt,lAt=65536>>Z3,uAt=1<<tAt,cAt=uAt-1,OJ=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},AAt=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},dAt=function(t,e){var r=Jct(t),n=Array.isArray(r)?eAt(r):new Uint32Array(r),i=Array.isArray(r)?Zct(r):new Uint16Array(r),a=24,o=OJ(i,a/2,n[4]/2),s=n[5]===2?OJ(i,(a+n[4])/2):AAt(n,Math.ceil((a+n[4])/4));return new fAt(n[0],n[1],n[2],n[3],o,s)},fAt=function(){function t(e,r,n,i,a,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Ff],r=(r<<lM)+(e&uM),this.data[r];if(e<=65535)return r=this.index[QTe+(e-55296>>Ff)],r=(r<<lM)+(e&uM),this.data[r];if(e<this.highStart)return r=sAt-lAt+(e>>Z3),r=this.index[r],r+=e>>Ff&cAt,r=this.index[r],r=(r<<lM)+(e&uM),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),RJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hAt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var v0=0;v0<RJ.length;v0++)hAt[RJ.charCodeAt(v0)]=v0;var pAt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",MJ=50,gAt=1,HTe=2,qTe=3,mAt=4,vAt=5,FJ=7,KTe=8,kJ=9,WA=10,RQ=11,UJ=12,MQ=13,yAt=14,zv=15,FQ=16,y0=17,yv=18,wAt=19,DJ=20,kQ=21,wv=22,cM=23,sp=24,Zo=25,Wv=26,Gv=27,lp=28,bAt=29,wf=30,SAt=31,w0=32,b0=33,UQ=34,DQ=35,jQ=36,vw=37,LQ=38,Bx=39,Px=40,AM=41,zTe=42,xAt=43,CAt=[9001,65288],WTe="!",xr="",S0="",NQ=dAt(pAt),Sc=[wf,jQ],$Q=[gAt,HTe,qTe,vAt],GTe=[WA,KTe],jJ=[Gv,Wv],_At=$Q.concat(GTe),LJ=[LQ,Bx,Px,UQ,DQ],EAt=[zv,MQ],IAt=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(a,o){var s=NQ.get(a);if(s>MJ?(i.push(!0),s-=MJ):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(FQ);if(s===mAt||s===RQ){if(o===0)return n.push(o),r.push(wf);var l=r[o-1];return _At.indexOf(l)===-1?(n.push(n[o-1]),r.push(l)):(n.push(o),r.push(wf))}if(n.push(o),s===SAt)return r.push(e==="strict"?kQ:vw);if(s===zTe||s===bAt)return r.push(wf);if(s===xAt)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(vw):r.push(wf);r.push(s)}),[n,r,i]},dM=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===e)return!0;if(o!==WA)break}if(i===WA)for(var a=r;a>0;){a--;var s=n[a];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var l=r;l<=n.length;){l++;var o=n[l];if(o===e)return!0;if(o!==WA)break}if(s!==WA)break}return!1},NJ=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===WA)r--;else return n}return 0},BAt=function(t,e,r,n,i){if(r[n]===0)return xr;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return xr;var o=a-1,s=a+1,l=e[a],u=o>=0?e[o]:0,c=e[s];if(l===HTe&&c===qTe)return xr;if($Q.indexOf(l)!==-1)return WTe;if($Q.indexOf(c)!==-1||GTe.indexOf(c)!==-1)return xr;if(NJ(a,e)===KTe)return S0;if(NQ.get(t[a])===RQ||(l===w0||l===b0)&&NQ.get(t[s])===RQ||l===FJ||c===FJ||l===kJ||[WA,MQ,zv].indexOf(l)===-1&&c===kJ||[y0,yv,wAt,sp,lp].indexOf(c)!==-1||NJ(a,e)===wv||dM(cM,wv,a,e)||dM([y0,yv],kQ,a,e)||dM(UJ,UJ,a,e))return xr;if(l===WA)return S0;if(l===cM||c===cM)return xr;if(c===FQ||l===FQ)return S0;if([MQ,zv,kQ].indexOf(c)!==-1||l===yAt||u===jQ&&EAt.indexOf(l)!==-1||l===lp&&c===jQ||c===DJ||Sc.indexOf(c)!==-1&&l===Zo||Sc.indexOf(l)!==-1&&c===Zo||l===Gv&&[vw,w0,b0].indexOf(c)!==-1||[vw,w0,b0].indexOf(l)!==-1&&c===Wv||Sc.indexOf(l)!==-1&&jJ.indexOf(c)!==-1||jJ.indexOf(l)!==-1&&Sc.indexOf(c)!==-1||[Gv,Wv].indexOf(l)!==-1&&(c===Zo||[wv,zv].indexOf(c)!==-1&&e[s+1]===Zo)||[wv,zv].indexOf(l)!==-1&&c===Zo||l===Zo&&[Zo,lp,sp].indexOf(c)!==-1)return xr;if([Zo,lp,sp,y0,yv].indexOf(c)!==-1)for(var A=a;A>=0;){var d=e[A];if(d===Zo)return xr;if([lp,sp].indexOf(d)!==-1)A--;else break}if([Gv,Wv].indexOf(c)!==-1)for(var A=[y0,yv].indexOf(l)!==-1?o:a;A>=0;){var d=e[A];if(d===Zo)return xr;if([lp,sp].indexOf(d)!==-1)A--;else break}if(LQ===l&&[LQ,Bx,UQ,DQ].indexOf(c)!==-1||[Bx,UQ].indexOf(l)!==-1&&[Bx,Px].indexOf(c)!==-1||[Px,DQ].indexOf(l)!==-1&&c===Px||LJ.indexOf(l)!==-1&&[DJ,Wv].indexOf(c)!==-1||LJ.indexOf(c)!==-1&&l===Gv||Sc.indexOf(l)!==-1&&Sc.indexOf(c)!==-1||l===sp&&Sc.indexOf(c)!==-1||Sc.concat(Zo).indexOf(l)!==-1&&c===wv&&CAt.indexOf(t[s])===-1||Sc.concat(Zo).indexOf(c)!==-1&&l===yv)return xr;if(l===AM&&c===AM){for(var f=r[a],p=1;f>0&&(f--,e[f]===AM);)p++;if(p%2!==0)return xr}return l===w0&&c===b0?xr:S0},PAt=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=IAt(t,e.lineBreak),n=r[0],i=r[1],a=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(s){return[Zo,wf,zTe].indexOf(s)!==-1?vw:s}));var o=e.wordBreak==="keep-all"?a.map(function(s,l){return s&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,i,o]},TAt=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===WTe,this.start=n,this.end=i}return t.prototype.slice=function(){return di.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),OAt=function(t,e){var r=hE(t),n=PAt(r,e),i=n[0],a=n[1],o=n[2],s=r.length,l=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var c=xr;u<s&&(c=BAt(r,a,i,++u,o))===xr;);if(c!==xr||u===s){var A=new TAt(r,c,l,u);return l=u,{value:A,done:!1}}return{done:!0,value:null}}}},RAt=1,MAt=2,ob=4,$J=8,vC=10,QJ=47,py=92,FAt=9,kAt=32,x0=34,bv=61,UAt=35,DAt=36,jAt=37,C0=39,_0=40,Sv=41,LAt=95,Ro=45,NAt=33,$At=60,QAt=62,HAt=64,qAt=91,KAt=93,zAt=61,WAt=123,E0=63,GAt=125,HJ=124,VAt=126,YAt=128,qJ=65533,fM=42,If=43,XAt=44,JAt=58,ZAt=59,yw=46,edt=0,tdt=8,rdt=11,ndt=14,idt=31,adt=127,gu=-1,VTe=48,YTe=97,XTe=101,odt=102,sdt=117,ldt=122,JTe=65,ZTe=69,eOe=70,udt=85,cdt=90,Na=function(t){return t>=VTe&&t<=57},Adt=function(t){return t>=55296&&t<=57343},up=function(t){return Na(t)||t>=JTe&&t<=eOe||t>=YTe&&t<=odt},ddt=function(t){return t>=YTe&&t<=ldt},fdt=function(t){return t>=JTe&&t<=cdt},hdt=function(t){return ddt(t)||fdt(t)},pdt=function(t){return t>=YAt},I0=function(t){return t===vC||t===FAt||t===kAt},yC=function(t){return hdt(t)||pdt(t)||t===LAt},KJ=function(t){return yC(t)||Na(t)||t===Ro},gdt=function(t){return t>=edt&&t<=tdt||t===rdt||t>=ndt&&t<=idt||t===adt},HA=function(t,e){return t!==py?!1:e!==vC},B0=function(t,e,r){return t===Ro?yC(e)||HA(e,r):yC(t)?!0:!!(t===py&&HA(t,e))},hM=function(t,e,r){return t===If||t===Ro?Na(e)?!0:e===yw&&Na(r):Na(t===yw?e:t)},mdt=function(t){var e=0,r=1;(t[e]===If||t[e]===Ro)&&(t[e]===Ro&&(r=-1),e++);for(var n=[];Na(t[e]);)n.push(t[e++]);var i=n.length?parseInt(di.apply(void 0,n),10):0;t[e]===yw&&e++;for(var a=[];Na(t[e]);)a.push(t[e++]);var o=a.length,s=o?parseInt(di.apply(void 0,a),10):0;(t[e]===ZTe||t[e]===XTe)&&e++;var l=1;(t[e]===If||t[e]===Ro)&&(t[e]===Ro&&(l=-1),e++);for(var u=[];Na(t[e]);)u.push(t[e++]);var c=u.length?parseInt(di.apply(void 0,u),10):0;return r*(i+s*Math.pow(10,-o))*Math.pow(10,l*c)},vdt={type:2},ydt={type:3},wdt={type:4},bdt={type:13},Sdt={type:8},xdt={type:21},Cdt={type:9},_dt={type:10},Edt={type:11},Idt={type:12},Bdt={type:14},P0={type:23},Pdt={type:1},Tdt={type:25},Odt={type:24},Rdt={type:26},Mdt={type:27},Fdt={type:28},kdt={type:29},Udt={type:31},QQ={type:32},tOe=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(hE(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==QQ;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case x0:return this.consumeStringToken(x0);case UAt:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(KJ(r)||HA(n,i)){var a=B0(r,n,i)?MAt:RAt,o=this.consumeName();return{type:5,value:o,flags:a}}break;case DAt:if(this.peekCodePoint(0)===bv)return this.consumeCodePoint(),bdt;break;case C0:return this.consumeStringToken(C0);case _0:return vdt;case Sv:return ydt;case fM:if(this.peekCodePoint(0)===bv)return this.consumeCodePoint(),Bdt;break;case If:if(hM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case XAt:return wdt;case Ro:var s=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(hM(s,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(B0(s,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ro&&u===QAt)return this.consumeCodePoint(),this.consumeCodePoint(),Odt;break;case yw:if(hM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case QJ:if(this.peekCodePoint(0)===fM)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===fM&&(c=this.consumeCodePoint(),c===QJ))return this.consumeToken();if(c===gu)return this.consumeToken()}break;case JAt:return Rdt;case ZAt:return Mdt;case $At:if(this.peekCodePoint(0)===NAt&&this.peekCodePoint(1)===Ro&&this.peekCodePoint(2)===Ro)return this.consumeCodePoint(),this.consumeCodePoint(),Tdt;break;case HAt:var A=this.peekCodePoint(0),d=this.peekCodePoint(1),f=this.peekCodePoint(2);if(B0(A,d,f)){var o=this.consumeName();return{type:7,value:o}}break;case qAt:return Fdt;case py:if(HA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case KAt:return kdt;case zAt:if(this.peekCodePoint(0)===bv)return this.consumeCodePoint(),Sdt;break;case WAt:return Edt;case GAt:return Idt;case sdt:case udt:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p===If&&(up(g)||g===E0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case HJ:if(this.peekCodePoint(0)===bv)return this.consumeCodePoint(),Cdt;if(this.peekCodePoint(0)===HJ)return this.consumeCodePoint(),xdt;break;case VAt:if(this.peekCodePoint(0)===bv)return this.consumeCodePoint(),_dt;break;case gu:return QQ}return I0(e)?(this.consumeWhiteSpace(),Udt):Na(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):yC(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:di(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();up(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===E0&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(di.apply(void 0,e.map(function(l){return l===E0?VTe:l})),16),a=parseInt(di.apply(void 0,e.map(function(l){return l===E0?eOe:l})),16);return{type:30,start:i,end:a}}var o=parseInt(di.apply(void 0,e),16);if(this.peekCodePoint(0)===Ro&&up(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var s=[];up(r)&&s.length<6;)s.push(r),r=this.consumeCodePoint();var a=parseInt(di.apply(void 0,s),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===_0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===_0?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===gu)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===C0||r===x0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===gu||this.peekCodePoint(0)===Sv)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),P0)}for(;;){var i=this.consumeCodePoint();if(i===gu||i===Sv)return{type:22,value:di.apply(void 0,e)};if(I0(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===gu||this.peekCodePoint(0)===Sv?(this.consumeCodePoint(),{type:22,value:di.apply(void 0,e)}):(this.consumeBadUrlRemnants(),P0);if(i===x0||i===C0||i===_0||gdt(i))return this.consumeBadUrlRemnants(),P0;if(i===py)if(HA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),P0;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;I0(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Sv||e===gu)return;HA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=di.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===gu||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===vC)return this._value.splice(0,n),Pdt;if(i===py){var a=this._value[n+1];a!==gu&&a!==void 0&&(a===vC?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):HA(i,a)&&(r+=this.consumeStringSlice(n),r+=di(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=ob,n=this.peekCodePoint(0);for((n===If||n===Ro)&&e.push(this.consumeCodePoint());Na(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===yw&&Na(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=$J;Na(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===ZTe||n===XTe)&&((i===If||i===Ro)&&Na(a)||Na(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=$J;Na(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[mdt(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(B0(i,a,o)){var s=this.consumeName();return{type:15,number:r,flags:n,unit:s}}return i===jAt?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(up(e)){for(var r=di(e);up(this.peekCodePoint(0))&&r.length<6;)r+=di(this.consumeCodePoint());I0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Adt(n)||n>1114111?qJ:n}return e===gu?qJ:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(KJ(r))e+=di(r);else if(HA(r,this.peekCodePoint(0)))e+=di(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),rOe=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new tOe;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||jdt(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?QQ:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),sb=function(t){return t.type===15},Xg=function(t){return t.type===17},rn=function(t){return t.type===20},Ddt=function(t){return t.type===0},HQ=function(t,e){return rn(t)&&t.value===e},nOe=function(t){return t.type!==31},Eg=function(t){return t.type!==31&&t.type!==4},Vu=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},jdt=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},dd=function(t){return t.type===17||t.type===15},Bi=function(t){return t.type===16||dd(t)},iOe=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ga={type:17,number:0,flags:ob},e5={type:16,number:50,flags:ob},GA={type:16,number:100,flags:ob},Vv=function(t,e,r){var n=t[0],i=t[1];return[wn(n,e),wn(typeof i<"u"?i:n,r)]},wn=function(t,e){if(t.type===16)return t.number/100*e;if(sb(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},aOe="deg",oOe="grad",sOe="rad",lOe="turn",pE={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case aOe:return Math.PI*e.number/180;case oOe:return Math.PI/200*e.number;case sOe:return e.number;case lOe:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},uOe=function(t){return t.type===15&&(t.unit===aOe||t.unit===oOe||t.unit===sOe||t.unit===lOe)},cOe=function(t){var e=t.filter(rn).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ga,ga];case"to top":case"bottom":return qs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ga,GA];case"to right":case"left":return qs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[GA,GA];case"to bottom":case"top":return qs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[GA,ga];case"to left":case"right":return qs(270)}return 0},qs=function(t){return Math.PI*t/180},rd={name:"color",parse:function(t,e){if(e.type===18){var r=Ldt[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return VA(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),o=e.value.substring(3,4);return VA(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return VA(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),o=e.value.substring(6,8);return VA(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(e.type===20){var s=Lc[e.value.toUpperCase()];if(typeof s<"u")return s}return Lc.TRANSPARENT}},nd=function(t){return(255&t)===0},Gi=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},VA=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},zJ=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},WJ=function(t,e){var r=e.filter(Eg);if(r.length===3){var n=r.map(zJ),i=n[0],a=n[1],o=n[2];return VA(i,a,o,1)}if(r.length===4){var s=r.map(zJ),i=s[0],a=s[1],o=s[2],l=s[3];return VA(i,a,o,l)}return 0};function pM(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var GJ=function(t,e){var r=e.filter(Eg),n=r[0],i=r[1],a=r[2],o=r[3],s=(n.type===17?qs(n.number):pE.parse(t,n))/(Math.PI*2),l=Bi(i)?i.number/100:0,u=Bi(a)?a.number/100:0,c=typeof o<"u"&&Bi(o)?wn(o,1):1;if(l===0)return VA(u*255,u*255,u*255,1);var A=u<=.5?u*(l+1):u+l-u*l,d=u*2-A,f=pM(d,A,s+1/3),p=pM(d,A,s),g=pM(d,A,s-1/3);return VA(f*255,p*255,g*255,c)},Ldt={hsl:GJ,hsla:GJ,rgb:WJ,rgba:WJ},gy=function(t,e){return rd.parse(t,rOe.create(e).parseComponentValue())},Lc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ndt={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(rn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$dt={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gE=function(t,e){var r=rd.parse(t,e[0]),n=e[1];return n&&Bi(n)?{color:r,stop:n}:{color:r,stop:null}},VJ=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=ga),n.stop===null&&(n.stop=GA);for(var i=[],a=0,o=0;o<t.length;o++){var s=t[o].stop;if(s!==null){var l=wn(s,e);l>a?i.push(l):i.push(a),a=l}else i.push(null)}for(var u=null,o=0;o<i.length;o++){var c=i[o];if(c===null)u===null&&(u=o);else if(u!==null){for(var A=o-u,d=i[u-1],f=(c-d)/(A+1),p=1;p<=A;p++)i[u+p-1]=f*p;u=null}}return t.map(function(g,m){var w=g.color;return{color:w,stop:Math.max(Math.min(1,i[m]/e),0)}})},Qdt=function(t,e,r){var n=e/2,i=r/2,a=wn(t[0],e)-n,o=i-wn(t[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},Hdt=function(t,e,r){var n=typeof t=="number"?t:Qdt(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),a=e/2,o=r/2,s=i/2,l=Math.sin(n-Math.PI/2)*s,u=Math.cos(n-Math.PI/2)*s;return[i,a-u,a+u,o-l,o+l]},xl=function(t,e){return Math.sqrt(t*t+e*e)},YJ=function(t,e,r,n,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(o,s){var l=s[0],u=s[1],c=xl(r-l,n-u);return(i?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:s,optimumDistance:c}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},qdt=function(t,e,r,n,i){var a=0,o=0;switch(t.size){case 0:t.shape===0?a=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)a=o=Math.min(xl(e,r),xl(e,r-i),xl(e-n,r),xl(e-n,r-i));else if(t.shape===1){var s=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=YJ(n,i,e,r,!0),u=l[0],c=l[1];a=xl(u-e,(c-r)/s),o=s*a}break;case 1:t.shape===0?a=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)a=o=Math.max(xl(e,r),xl(e,r-i),xl(e-n,r),xl(e-n,r-i));else if(t.shape===1){var s=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),A=YJ(n,i,e,r,!1),u=A[0],c=A[1];a=xl(u-e,(c-r)/s),o=s*a}break}return Array.isArray(t.size)&&(a=wn(t.size[0],n),o=t.size.length===2?wn(t.size[1],i):a),[a,o]},Kdt=function(t,e){var r=qs(180),n=[];return Vu(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){r=cOe(i);return}else if(uOe(o)){r=pE.parse(t,o);return}}var s=gE(t,i);n.push(s)}),{angle:r,stops:n,type:1}},T0=function(t,e){var r=qs(180),n=[];return Vu(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=cOe(i);return}else if(uOe(o)){r=(pE.parse(t,o)+qs(270))%qs(360);return}}var s=gE(t,i);n.push(s)}),{angle:r,stops:n,type:1}},zdt=function(t,e){var r=qs(180),n=[],i=1,a=0,o=3,s=[];return Vu(e).forEach(function(l,u){var c=l[0];if(u===0){if(rn(c)&&c.value==="linear"){i=1;return}else if(rn(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var A=rd.parse(t,c.values[0]);n.push({stop:ga,color:A})}else if(c.name==="to"){var A=rd.parse(t,c.values[0]);n.push({stop:GA,color:A})}else if(c.name==="color-stop"){var d=c.values.filter(Eg);if(d.length===2){var A=rd.parse(t,d[1]),f=d[0];Xg(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:A})}}}}),i===1?{angle:(r+qs(180))%qs(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:s,type:i}},AOe="closest-side",dOe="farthest-side",fOe="closest-corner",hOe="farthest-corner",pOe="circle",gOe="ellipse",mOe="cover",vOe="contain",Wdt=function(t,e){var r=0,n=3,i=[],a=[];return Vu(e).forEach(function(o,s){var l=!0;if(s===0){var u=!1;l=o.reduce(function(A,d){if(u)if(rn(d))switch(d.value){case"center":return a.push(e5),A;case"top":case"left":return a.push(ga),A;case"right":case"bottom":return a.push(GA),A}else(Bi(d)||dd(d))&&a.push(d);else if(rn(d))switch(d.value){case pOe:return r=0,!1;case gOe:return r=1,!1;case"at":return u=!0,!1;case AOe:return n=0,!1;case mOe:case dOe:return n=1,!1;case vOe:case fOe:return n=2,!1;case hOe:return n=3,!1}else if(dd(d)||Bi(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return A},l)}if(l){var c=gE(t,o);i.push(c)}}),{size:n,shape:r,stops:i,position:a,type:2}},O0=function(t,e){var r=0,n=3,i=[],a=[];return Vu(e).forEach(function(o,s){var l=!0;if(s===0?l=o.reduce(function(c,A){if(rn(A))switch(A.value){case"center":return a.push(e5),!1;case"top":case"left":return a.push(ga),!1;case"right":case"bottom":return a.push(GA),!1}else if(Bi(A)||dd(A))return a.push(A),!1;return c},l):s===1&&(l=o.reduce(function(c,A){if(rn(A))switch(A.value){case pOe:return r=0,!1;case gOe:return r=1,!1;case vOe:case AOe:return n=0,!1;case dOe:return n=1,!1;case fOe:return n=2,!1;case mOe:case hOe:return n=3,!1}else if(dd(A)||Bi(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return c},l)),l){var u=gE(t,o);i.push(u)}}),{size:n,shape:r,stops:i,position:a,type:2}},Gdt=function(t){return t.type===1},Vdt=function(t){return t.type===2},t5={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=yOe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Ydt(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!yOe[t.name])}var yOe={"linear-gradient":Kdt,"-moz-linear-gradient":T0,"-ms-linear-gradient":T0,"-o-linear-gradient":T0,"-webkit-linear-gradient":T0,"radial-gradient":Wdt,"-moz-radial-gradient":O0,"-ms-radial-gradient":O0,"-o-radial-gradient":O0,"-webkit-radial-gradient":O0,"-webkit-gradient":zdt},Xdt={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Eg(n)&&Ydt(n)}).map(function(n){return t5.parse(t,n)})}},Jdt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(rn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Zdt={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Vu(e).map(function(r){return r.filter(Bi)}).map(iOe)}},eft={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Vu(e).map(function(r){return r.filter(rn).map(function(n){return n.value}).join(" ")}).map(tft)}},tft=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Gp;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Gp||(Gp={}));var rft={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Vu(e).map(function(r){return r.filter(nft)})}},nft=function(t){return rn(t)||Bi(t)},mE=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ift=mE("top"),aft=mE("right"),oft=mE("bottom"),sft=mE("left"),vE=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return iOe(r.filter(Bi))}}},lft=vE("top-left"),uft=vE("top-right"),cft=vE("bottom-right"),Aft=vE("bottom-left"),yE=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},dft=yE("top"),fft=yE("right"),hft=yE("bottom"),pft=yE("left"),wE=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return sb(r)?r.number:0}}},gft=wE("top"),mft=wE("right"),vft=wE("bottom"),yft=wE("left"),wft={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},bft={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Sft={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(rn).reduce(function(r,n){return r|xft(n.value)},0)}},xft=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Cft={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},_ft={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},wC;(function(t){t.NORMAL="normal",t.STRICT="strict"})(wC||(wC={}));var Eft={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return wC.STRICT;case"normal":default:return wC.NORMAL}}},Ift={name:"line-height",initialValue:"normal",prefix:!1,type:4},XJ=function(t,e){return rn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Bi(t)?wn(t,e):e},Bft={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:t5.parse(t,e)}},Pft={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},qQ={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},bE=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Tft=bE("top"),Oft=bE("right"),Rft=bE("bottom"),Mft=bE("left"),Fft={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(rn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},kft={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},SE=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Uft=SE("top"),Dft=SE("right"),jft=SE("bottom"),Lft=SE("left"),Nft={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$ft={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Qft={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&HQ(e[0],"none")?[]:Vu(e).map(function(r){for(var n={color:Lc.TRANSPARENT,offsetX:ga,offsetY:ga,blur:ga},i=0,a=0;a<r.length;a++){var o=r[a];dd(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=rd.parse(t,o)}return n})}},Hft={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},qft={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=Wft[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Kft=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},zft=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],s=e[13];return e[14],e[15],e.length===16?[r,n,i,a,o,s]:null},Wft={matrix:Kft,matrix3d:zft},JJ={type:16,number:50,flags:ob},Gft=[JJ,JJ],Vft={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Bi);return r.length!==2?Gft:[r[0],r[1]]}},Yft={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},my;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(my||(my={}));var Xft={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return my.BREAK_ALL;case"keep-all":return my.KEEP_ALL;case"normal":default:return my.NORMAL}}},Jft={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Xg(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},wOe={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Zft={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Xg(e)?e.number:1}},eht={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tht={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(rn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},rht={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},nht={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},iht={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Xg(e))return e.number;if(rn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},aht={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(rn).map(function(r){return r.value})}},oht={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ki=function(t,e){return(t&e)!==0},sht={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},lht={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(nOe),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(o.type===20){var l=s&&Xg(s)?s.number:1;n.push({counter:o.value,increment:l})}}return n}},uht={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(nOe),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(rn(a)&&a.value!=="none"){var s=o&&Xg(o)?o.number:0;r.push({counter:a.value,reset:s})}}return r}},cht={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(sb).map(function(r){return wOe.parse(t,r)})}},Aht={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(Ddt);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;n.push({open:o,close:s})}return n}},ZJ=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},dht={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&HQ(e[0],"none")?[]:Vu(e).map(function(r){for(var n={color:255,offsetX:ga,offsetY:ga,blur:ga,spread:ga,inset:!1},i=0,a=0;a<r.length;a++){var o=r[a];HQ(o,"inset")?n.inset=!0:dd(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=rd.parse(t,o)}return n})}},fht={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(rn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},hht={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pht={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return sb(e)?e.number:0}},ght=function(){function t(e,r){var n,i;this.animationDuration=wt(e,cht,r.animationDuration),this.backgroundClip=wt(e,Ndt,r.backgroundClip),this.backgroundColor=wt(e,$dt,r.backgroundColor),this.backgroundImage=wt(e,Xdt,r.backgroundImage),this.backgroundOrigin=wt(e,Jdt,r.backgroundOrigin),this.backgroundPosition=wt(e,Zdt,r.backgroundPosition),this.backgroundRepeat=wt(e,eft,r.backgroundRepeat),this.backgroundSize=wt(e,rft,r.backgroundSize),this.borderTopColor=wt(e,ift,r.borderTopColor),this.borderRightColor=wt(e,aft,r.borderRightColor),this.borderBottomColor=wt(e,oft,r.borderBottomColor),this.borderLeftColor=wt(e,sft,r.borderLeftColor),this.borderTopLeftRadius=wt(e,lft,r.borderTopLeftRadius),this.borderTopRightRadius=wt(e,uft,r.borderTopRightRadius),this.borderBottomRightRadius=wt(e,cft,r.borderBottomRightRadius),this.borderBottomLeftRadius=wt(e,Aft,r.borderBottomLeftRadius),this.borderTopStyle=wt(e,dft,r.borderTopStyle),this.borderRightStyle=wt(e,fft,r.borderRightStyle),this.borderBottomStyle=wt(e,hft,r.borderBottomStyle),this.borderLeftStyle=wt(e,pft,r.borderLeftStyle),this.borderTopWidth=wt(e,gft,r.borderTopWidth),this.borderRightWidth=wt(e,mft,r.borderRightWidth),this.borderBottomWidth=wt(e,vft,r.borderBottomWidth),this.borderLeftWidth=wt(e,yft,r.borderLeftWidth),this.boxShadow=wt(e,dht,r.boxShadow),this.color=wt(e,wft,r.color),this.direction=wt(e,bft,r.direction),this.display=wt(e,Sft,r.display),this.float=wt(e,Cft,r.cssFloat),this.fontFamily=wt(e,rht,r.fontFamily),this.fontSize=wt(e,nht,r.fontSize),this.fontStyle=wt(e,oht,r.fontStyle),this.fontVariant=wt(e,aht,r.fontVariant),this.fontWeight=wt(e,iht,r.fontWeight),this.letterSpacing=wt(e,_ft,r.letterSpacing),this.lineBreak=wt(e,Eft,r.lineBreak),this.lineHeight=wt(e,Ift,r.lineHeight),this.listStyleImage=wt(e,Bft,r.listStyleImage),this.listStylePosition=wt(e,Pft,r.listStylePosition),this.listStyleType=wt(e,qQ,r.listStyleType),this.marginTop=wt(e,Tft,r.marginTop),this.marginRight=wt(e,Oft,r.marginRight),this.marginBottom=wt(e,Rft,r.marginBottom),this.marginLeft=wt(e,Mft,r.marginLeft),this.opacity=wt(e,Zft,r.opacity);var a=wt(e,Fft,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=wt(e,kft,r.overflowWrap),this.paddingTop=wt(e,Uft,r.paddingTop),this.paddingRight=wt(e,Dft,r.paddingRight),this.paddingBottom=wt(e,jft,r.paddingBottom),this.paddingLeft=wt(e,Lft,r.paddingLeft),this.paintOrder=wt(e,fht,r.paintOrder),this.position=wt(e,$ft,r.position),this.textAlign=wt(e,Nft,r.textAlign),this.textDecorationColor=wt(e,eht,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=wt(e,tht,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=wt(e,Qft,r.textShadow),this.textTransform=wt(e,Hft,r.textTransform),this.transform=wt(e,qft,r.transform),this.transformOrigin=wt(e,Vft,r.transformOrigin),this.visibility=wt(e,Yft,r.visibility),this.webkitTextStrokeColor=wt(e,hht,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=wt(e,pht,r.webkitTextStrokeWidth),this.wordBreak=wt(e,Xft,r.wordBreak),this.zIndex=wt(e,Jft,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return nd(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ki(this.display,4)||ki(this.display,33554432)||ki(this.display,268435456)||ki(this.display,536870912)||ki(this.display,67108864)||ki(this.display,134217728)},t}(),mht=function(){function t(e,r){this.content=wt(e,sht,r.content),this.quotes=wt(e,Aht,r.quotes)}return t}(),eZ=function(){function t(e,r){this.counterIncrement=wt(e,lht,r.counterIncrement),this.counterReset=wt(e,uht,r.counterReset)}return t}(),wt=function(t,e,r){var n=new tOe,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var a=new rOe(n.read());switch(e.type){case 2:var o=a.parseComponentValue();return e.parse(t,rn(o)?o.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return pE.parse(t,a.parseComponentValue());case"color":return rd.parse(t,a.parseComponentValue());case"image":return t5.parse(t,a.parseComponentValue());case"length":var s=a.parseComponentValue();return dd(s)?s:ga;case"length-percentage":var l=a.parseComponentValue();return Bi(l)?l:ga;case"time":return wOe.parse(t,a.parseComponentValue())}break}},vht="data-html2canvas-debug",yht=function(t){var e=t.getAttribute(vht);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},KQ=function(t,e){var r=yht(t);return r===1||e===r},Yu=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,KQ(r,3))debugger;this.styles=new ght(e,window.getComputedStyle(r,null)),GQ(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=fE(this.context,r),KQ(r,4)&&(this.flags|=16)}return t}(),wht="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var R0=0;R0<tZ.length;R0++)Yv[tZ.charCodeAt(R0)]=R0;var bht=function(t){var e=t.length*.75,r=t.length,n,i=0,a,o,s,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=Yv[t.charCodeAt(n)],o=Yv[t.charCodeAt(n+1)],s=Yv[t.charCodeAt(n+2)],l=Yv[t.charCodeAt(n+3)],c[i++]=a<<2|o>>4,c[i++]=(o&15)<<4|s>>2,c[i++]=(s&3)<<6|l&63;return u},Sht=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},xht=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},kf=5,r5=11,gM=2,Cht=r5-kf,bOe=65536>>kf,_ht=1<<kf,mM=_ht-1,Eht=1024>>kf,Iht=bOe+Eht,Bht=Iht,Pht=32,Tht=Bht+Pht,Oht=65536>>r5,Rht=1<<Cht,Mht=Rht-1,rZ=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Fht=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},kht=function(t,e){var r=bht(t),n=Array.isArray(r)?xht(r):new Uint32Array(r),i=Array.isArray(r)?Sht(r):new Uint16Array(r),a=24,o=rZ(i,a/2,n[4]/2),s=n[5]===2?rZ(i,(a+n[4])/2):Fht(n,Math.ceil((a+n[4])/4));return new Uht(n[0],n[1],n[2],n[3],o,s)},Uht=function(){function t(e,r,n,i,a,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>kf],r=(r<<gM)+(e&mM),this.data[r];if(e<=65535)return r=this.index[bOe+(e-55296>>kf)],r=(r<<gM)+(e&mM),this.data[r];if(e<this.highStart)return r=Tht-Oht+(e>>r5),r=this.index[r],r+=e>>kf&Mht,r=this.index[r],r=(r<<gM)+(e&mM),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),nZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dht=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var M0=0;M0<nZ.length;M0++)Dht[nZ.charCodeAt(M0)]=M0;var jht=1,vM=2,yM=3,iZ=4,aZ=5,Lht=7,oZ=8,wM=9,bM=10,sZ=11,lZ=12,uZ=13,cZ=14,SM=15,Nht=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},$ht=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},Qht=kht(wht),Us="",xM="",Hht=function(t){return Qht.get(t)},qht=function(t,e,r){var n=r-2,i=e[n],a=e[r-1],o=e[r];if(a===vM&&o===yM)return Us;if(a===vM||a===yM||a===iZ||o===vM||o===yM||o===iZ)return xM;if(a===oZ&&[oZ,wM,sZ,lZ].indexOf(o)!==-1||(a===sZ||a===wM)&&(o===wM||o===bM)||(a===lZ||a===bM)&&o===bM||o===uZ||o===aZ||o===Lht||a===jht)return Us;if(a===uZ&&o===cZ){for(;i===aZ;)i=e[--n];if(i===cZ)return Us}if(a===SM&&o===SM){for(var s=0;i===SM;)s++,i=e[--n];if(s%2===0)return Us}return xM},Kht=function(t){var e=Nht(t),r=e.length,n=0,i=0,a=e.map(Hht);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Us;n<r&&(o=qht(e,a,++n))===Us;);if(o!==Us||n===r){var s=$ht.apply(null,e.slice(i,n));return i=n,{value:s,done:!1}}return{done:!0,value:null}}}},zht=function(t){for(var e=Kht(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Wht=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(n),a===e)return!0}}return!1},Ght=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=hE(n.data).map(function(l){return di(l)}),a=0,o={},s=i.every(function(l,u){r.setStart(n,a),r.setEnd(n,a+l.length);var c=r.getBoundingClientRect();a+=l.length;var A=c.x>o.x||c.y>o.y;return o=c,u===0?!0:A});return t.body.removeChild(e),s},Vht=function(){return typeof new Image().crossOrigin<"u"},Yht=function(){return typeof new XMLHttpRequest().responseType=="string"},Xht=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},AZ=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Jht=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=e.toDataURL();i.src=a;var o=zQ(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),dZ(o).then(function(s){n.drawImage(s,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=r+"px",AZ(l)?dZ(zQ(r,r,0,0,u)):Promise.reject(!1)}).then(function(s){return n.drawImage(s,0,0),AZ(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},zQ=function(t,e,r,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",r.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},dZ=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},la={get SUPPORT_RANGE_BOUNDS(){var t=Wht(document);return Object.defineProperty(la,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=la.SUPPORT_RANGE_BOUNDS&&Ght(document);return Object.defineProperty(la,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Xht(document);return Object.defineProperty(la,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Jht(document):Promise.resolve(!1);return Object.defineProperty(la,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Vht();return Object.defineProperty(la,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Yht();return Object.defineProperty(la,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(la,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(la,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},vy=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Zht=function(t,e,r,n){var i=rpt(e,r),a=[],o=0;return i.forEach(function(s){if(r.textDecorationLine.length||s.trim().length>0)if(la.SUPPORT_RANGE_BOUNDS){var l=fZ(n,o,s.length).getClientRects();if(l.length>1){var u=n5(s),c=0;u.forEach(function(d){a.push(new vy(d,Xc.fromDOMRectList(t,fZ(n,c+o,d.length).getClientRects()))),c+=d.length})}else a.push(new vy(s,Xc.fromDOMRectList(t,l)))}else{var A=n.splitText(s.length);a.push(new vy(s,ept(t,n))),n=A}else la.SUPPORT_RANGE_BOUNDS||(n=n.splitText(s.length));o+=s.length}),a},ept=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var a=fE(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return Xc.EMPTY},fZ=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},n5=function(t){if(la.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return zht(t)},tpt=function(t,e){if(la.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return ipt(t,e)},rpt=function(t,e){return e.letterSpacing!==0?n5(t):tpt(t,e)},npt=[32,160,4961,65792,65793,4153,4241],ipt=function(t,e){for(var r=OAt(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,a=function(){if(i.value){var o=i.value.slice(),s=hE(o),l="";s.forEach(function(u){npt.indexOf(u)===-1?l+=di(u):(l.length&&n.push(l),n.push(di(u)),l="")}),l.length&&n.push(l)}};!(i=r.next()).done;)a();return n},apt=function(){function t(e,r,n){this.text=opt(r.data,n.textTransform),this.textBounds=Zht(e,this.text,n,r)}return t}(),opt=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(spt,lpt);case 2:return t.toUpperCase();default:return t}},spt=/(^|\s|:|-|\(|\))([a-z])/g,lpt=function(t,e,r){return t.length>0?e+r.toUpperCase():t},SOe=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Yu),xOe=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Yu),COe=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=new XMLSerializer,o=fE(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Yu),_Oe=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Yu),WQ=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Yu),upt=[{type:15,flags:0,unit:"px",number:3}],cpt=[{type:16,flags:0,number:50}],Apt=function(t){return t.width>t.height?new Xc(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Xc(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},dpt=function(t){var e=t.type===fpt?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},bC="checkbox",SC="radio",fpt="password",hZ=707406591,i5=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=dpt(n),(i.type===bC||i.type===SC)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Apt(i.bounds)),i.type){case bC:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=upt;break;case SC:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=cpt;break}return i}return e}(Yu),EOe=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(Yu),IOe=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Yu),BOe=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=TOe(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?gy(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Lc.TRANSPARENT,o=n.contentWindow.document.body?gy(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Lc.TRANSPARENT;i.backgroundColor=nd(a)?nd(o)?i.styles.backgroundColor:o:a}}catch{}return i}return e}(Yu),hpt=["OL","UL","MENU"],Tx=function(t,e,r,n){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,OOe(i)&&i.data.trim().length>0)r.textNodes.push(new apt(t,i,r.styles));else if(kp(i))if(kOe(i)&&i.assignedNodes)i.assignedNodes().forEach(function(s){return Tx(t,s,r,n)});else{var o=POe(t,i);o.styles.isVisible()&&(ppt(i,o,n)?o.flags|=4:gpt(o.styles)&&(o.flags|=2),hpt.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?Tx(t,i.shadowRoot,o,n):!xC(i)&&!ROe(i)&&!CC(i)&&Tx(t,i,o,n))}},POe=function(t,e){return VQ(e)?new SOe(t,e):MOe(e)?new xOe(t,e):ROe(e)?new COe(t,e):mpt(e)?new _Oe(t,e):vpt(e)?new WQ(t,e):ypt(e)?new i5(t,e):CC(e)?new EOe(t,e):xC(e)?new IOe(t,e):FOe(e)?new BOe(t,e):new Yu(t,e)},TOe=function(t,e){var r=POe(t,e);return r.flags|=4,Tx(t,e,r,r),r},ppt=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||a5(t)&&r.styles.isTransparent()},gpt=function(t){return t.isPositioned()||t.isFloating()},OOe=function(t){return t.nodeType===Node.TEXT_NODE},kp=function(t){return t.nodeType===Node.ELEMENT_NODE},GQ=function(t){return kp(t)&&typeof t.style<"u"&&!Ox(t)},Ox=function(t){return typeof t.className=="object"},mpt=function(t){return t.tagName==="LI"},vpt=function(t){return t.tagName==="OL"},ypt=function(t){return t.tagName==="INPUT"},wpt=function(t){return t.tagName==="HTML"},ROe=function(t){return t.tagName==="svg"},a5=function(t){return t.tagName==="BODY"},MOe=function(t){return t.tagName==="CANVAS"},pZ=function(t){return t.tagName==="VIDEO"},VQ=function(t){return t.tagName==="IMG"},FOe=function(t){return t.tagName==="IFRAME"},gZ=function(t){return t.tagName==="STYLE"},bpt=function(t){return t.tagName==="SCRIPT"},xC=function(t){return t.tagName==="TEXTAREA"},CC=function(t){return t.tagName==="SELECT"},kOe=function(t){return t.tagName==="SLOT"},mZ=function(t){return t.tagName.indexOf("-")>0},Spt=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,a=!0;n!==null&&n.forEach(function(s){var l=r.counters[s.counter];l&&s.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=s.increment)});var o=[];return a&&i.forEach(function(s){var l=r.counters[s.counter];o.push(s.counter),l||(l=r.counters[s.counter]=[]),l.push(s.reset)}),o},t}(),vZ={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},yZ={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},xpt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Cpt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cp=function(t,e,r,n,i,a){return t<e||t>r?ww(t,i,a.length>0):n.integers.reduce(function(o,s,l){for(;t>=s;)t-=s,o+=n.values[l];return o},"")+a},UOe=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},ci=function(t,e,r,n,i){var a=r-e+1;return(t<0?"-":"")+(UOe(Math.abs(t),a,n,function(o){return di(Math.floor(o%a)+e)})+i)},df=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return UOe(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},Ep=1,DA=2,jA=4,Xv=8,xc=function(t,e,r,n,i,a){if(t<-9999||t>9999)return ww(t,4,i.length>0);var o=Math.abs(t),s=i;if(o===0)return e[0]+s;for(var l=0;o>0&&l<=4;l++){var u=o%10;u===0&&ki(a,Ep)&&s!==""?s=e[u]+s:u>1||u===1&&l===0||u===1&&l===1&&ki(a,DA)||u===1&&l===1&&ki(a,jA)&&t>100||u===1&&l>1&&ki(a,Xv)?s=e[u]+(l>0?r[l-1]:"")+s:u===1&&l>0&&(s=r[l-1]+s),o=Math.floor(o/10)}return(t<0?n:"")+s},wZ="",bZ="",SZ="",CM="",ww=function(t,e,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=ci(t,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return df(t,"",i);case 6:return cp(t,1,3999,vZ,3,n).toLowerCase();case 7:return cp(t,1,3999,vZ,3,n);case 8:return ci(t,945,969,!1,n);case 9:return ci(t,97,122,!1,n);case 10:return ci(t,65,90,!1,n);case 11:return ci(t,1632,1641,!0,n);case 12:case 49:return cp(t,1,9999,yZ,3,n);case 35:return cp(t,1,9999,yZ,3,n).toLowerCase();case 13:return ci(t,2534,2543,!0,n);case 14:case 30:return ci(t,6112,6121,!0,n);case 15:return df(t,"",i);case 16:return df(t,"",i);case 17:case 48:return xc(t,"",wZ,"",i,DA|jA|Xv);case 47:return xc(t,"",bZ,"",i,Ep|DA|jA|Xv);case 42:return xc(t,"",wZ,"",i,DA|jA|Xv);case 41:return xc(t,"",bZ,"",i,Ep|DA|jA|Xv);case 26:return xc(t,"","",SZ,i,0);case 25:return xc(t,"","",SZ,i,Ep|DA|jA);case 31:return xc(t,"","",CM,a,Ep|DA|jA);case 33:return xc(t,"","",CM,a,0);case 32:return xc(t,"","",CM,a,Ep|DA|jA);case 18:return ci(t,2406,2415,!0,n);case 20:return cp(t,1,19999,Cpt,3,n);case 21:return ci(t,2790,2799,!0,n);case 22:return ci(t,2662,2671,!0,n);case 22:return cp(t,1,10999,xpt,3,n);case 23:return df(t,"");case 24:return df(t,"");case 27:return ci(t,3302,3311,!0,n);case 28:return df(t,"",i);case 29:return df(t,"",i);case 34:return ci(t,3792,3801,!0,n);case 37:return ci(t,6160,6169,!0,n);case 38:return ci(t,4160,4169,!0,n);case 39:return ci(t,2918,2927,!0,n);case 40:return ci(t,1776,1785,!0,n);case 43:return ci(t,3046,3055,!0,n);case 44:return ci(t,3174,3183,!0,n);case 45:return ci(t,3664,3673,!0,n);case 46:return ci(t,3872,3881,!0,n);case 3:default:return ci(t,48,57,!0,n)}},DOe="data-html2canvas-ignore",xZ=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Spt,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=_pt(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=i.contentWindow,l=s.document,u=Bpt(i).then(function(){return uo(n,void 0,void 0,function(){var c,A;return Fa(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(Rpt),s&&(s.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==r.top||s.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-r.left,s.scrollY-r.top,0,0))),c=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ipt(l)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,A)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Tpt(document.doctype)+"<html></html>"),Opt(this.referenceElement.ownerDocument,a,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},t.prototype.createElementClone=function(e){if(KQ(e,2))debugger;if(MOe(e))return this.createCanvasClone(e);if(pZ(e))return this.createVideoClone(e);if(gZ(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return VQ(r)&&(VQ(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),mZ(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return _M(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var s=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(s){var l=s.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!kp(r)||!bpt(r)&&!r.hasAttribute(DOe)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!kp(r)||!gZ(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(kp(a)&&kOe(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(s){return i.appendChildNode(r,s,n)})}else this.appendChildNode(r,a,n)},t.prototype.cloneNode=function(e,r){if(OOe(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&kp(e)&&(GQ(e)||Ox(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),s=n.getComputedStyle(e,":after");this.referenceElement===e&&GQ(i)&&(this.clonedReferenceElement=i),a5(i)&&kpt(i);var l=this.counters.parse(new eZ(this.context,a)),u=this.resolvePseudoContent(e,i,o,yy.BEFORE);mZ(e)&&(r=!0),pZ(e)||this.cloneChildNodes(e,i,r),u&&i.insertBefore(u,i.firstChild);var c=this.resolvePseudoContent(e,i,s,yy.AFTER);return c&&i.appendChild(c),this.counters.pop(l),(a&&(this.options.copyStyles||Ox(e))&&!FOe(e)||r)&&_M(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(xC(e)||CC(e))&&(xC(i)||CC(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var a=this;if(n){var o=n.content,s=r.ownerDocument;if(!(!s||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new eZ(this.context,n));var l=new mht(this.context,n),u=s.createElement("html2canvaspseudoelement");_M(n,u),l.content.forEach(function(A){if(A.type===0)u.appendChild(s.createTextNode(A.value));else if(A.type===22){var d=s.createElement("img");d.src=A.value,d.style.opacity="1",u.appendChild(d)}else if(A.type===18){if(A.name==="attr"){var f=A.values.filter(rn);f.length&&u.appendChild(s.createTextNode(e.getAttribute(f[0].value)||""))}else if(A.name==="counter"){var p=A.values.filter(Eg),g=p[0],m=p[1];if(g&&rn(g)){var w=a.counters.getCounterValue(g.value),b=m&&rn(m)?qQ.parse(a.context,m.value):3;u.appendChild(s.createTextNode(ww(w,b,!1)))}}else if(A.name==="counters"){var C=A.values.filter(Eg),g=C[0],S=C[1],m=C[2];if(g&&rn(g)){var x=a.counters.getCounterValues(g.value),_=m&&rn(m)?qQ.parse(a.context,m.value):3,B=S&&S.type===0?S.value:"",T=x.map(function(M){return ww(M,_,!1)}).join(B);u.appendChild(s.createTextNode(T))}}}else if(A.type===20)switch(A.value){case"open-quote":u.appendChild(s.createTextNode(ZJ(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(s.createTextNode(ZJ(l.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(s.createTextNode(A.value))}}),u.className=YQ+" "+XQ;var c=i===yy.BEFORE?" "+YQ:" "+XQ;return Ox(r)?r.className.baseValue+=c:r.className+=c,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),yy;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(yy||(yy={}));var _pt=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(DOe,"true"),t.body.appendChild(r),r},Ept=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Ipt=function(t){return Promise.all([].slice.call(t.images,0).map(Ept))},Bpt=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},Ppt=["all","d","content"],_M=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Ppt.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Tpt=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Opt=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Rpt=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Mpt=":before",Fpt=":after",YQ="___html2canvas___pseudoelement_before",XQ="___html2canvas___pseudoelement_after",CZ=`{
    content: "" !important;
    display: none !important;
}`,kpt=function(t){Upt(t,"."+YQ+Mpt+CZ+`
         .`+XQ+Fpt+CZ)},Upt=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},jOe=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Dpt=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(IM(e)||$pt(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return uo(this,void 0,void 0,function(){var r,n,i,a,o=this;return Fa(this,function(s){switch(s.label){case 0:return r=jOe.isSameOrigin(e),n=!EM(e)&&this._options.useCORS===!0&&la.SUPPORT_CORS_IMAGES&&!r,i=!EM(e)&&!r&&!IM(e)&&typeof this._options.proxy=="string"&&la.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!EM(e)&&!IM(e)&&!i&&!n?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var c=new Image;c.onload=function(){return l(c)},c.onerror=u,(Qpt(a)||n)&&(c.crossOrigin="anonymous"),c.src=a,c.complete===!0&&setTimeout(function(){return l(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,o){var s=la.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(s==="text")a(l.response);else{var A=new FileReader;A.addEventListener("load",function(){return a(A.result)},!1),A.addEventListener("error",function(d){return o(d)},!1),A.readAsDataURL(l.response)}else o("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+s),s!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=s),r._options.imageTimeout){var c=r._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+i)}}l.send()})},t}(),jpt=/^data:image\/svg\+xml/i,Lpt=/^data:image\/.*;base64,/i,Npt=/^data:image\/.*/i,$pt=function(t){return la.SUPPORT_SVG_DRAWING||!Hpt(t)},EM=function(t){return Npt.test(t)},Qpt=function(t){return Lpt.test(t)},IM=function(t){return t.substr(0,4)==="blob"},Hpt=function(t){return t.substr(-3).toLowerCase()==="svg"||jpt.test(t)},gt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Ap=function(t,e,r){return new gt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},F0=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Ap(this.start,this.startControl,e),i=Ap(this.startControl,this.endControl,e),a=Ap(this.endControl,this.end,e),o=Ap(n,i,e),s=Ap(i,a,e),l=Ap(o,s,e);return r?new t(this.start,n,o,l):new t(l,s,a,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),$s=function(t){return t.type===1},qpt=function(){function t(e){var r=e.styles,n=e.bounds,i=Vv(r.borderTopLeftRadius,n.width,n.height),a=i[0],o=i[1],s=Vv(r.borderTopRightRadius,n.width,n.height),l=s[0],u=s[1],c=Vv(r.borderBottomRightRadius,n.width,n.height),A=c[0],d=c[1],f=Vv(r.borderBottomLeftRadius,n.width,n.height),p=f[0],g=f[1],m=[];m.push((a+l)/n.width),m.push((p+A)/n.width),m.push((o+g)/n.height),m.push((u+d)/n.height);var w=Math.max.apply(Math,m);w>1&&(a/=w,o/=w,l/=w,u/=w,A/=w,d/=w,p/=w,g/=w);var b=n.width-l,C=n.height-d,S=n.width-A,x=n.height-g,_=r.borderTopWidth,B=r.borderRightWidth,T=r.borderBottomWidth,R=r.borderLeftWidth,P=wn(r.paddingTop,e.bounds.width),M=wn(r.paddingRight,e.bounds.width),U=wn(r.paddingBottom,e.bounds.width),F=wn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Dn(n.left+R/3,n.top+_/3,a-R/3,o-_/3,zr.TOP_LEFT):new gt(n.left+R/3,n.top+_/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Dn(n.left+b,n.top+_/3,l-B/3,u-_/3,zr.TOP_RIGHT):new gt(n.left+n.width-B/3,n.top+_/3),this.bottomRightBorderDoubleOuterBox=A>0||d>0?Dn(n.left+S,n.top+C,A-B/3,d-T/3,zr.BOTTOM_RIGHT):new gt(n.left+n.width-B/3,n.top+n.height-T/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?Dn(n.left+R/3,n.top+x,p-R/3,g-T/3,zr.BOTTOM_LEFT):new gt(n.left+R/3,n.top+n.height-T/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Dn(n.left+R*2/3,n.top+_*2/3,a-R*2/3,o-_*2/3,zr.TOP_LEFT):new gt(n.left+R*2/3,n.top+_*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Dn(n.left+b,n.top+_*2/3,l-B*2/3,u-_*2/3,zr.TOP_RIGHT):new gt(n.left+n.width-B*2/3,n.top+_*2/3),this.bottomRightBorderDoubleInnerBox=A>0||d>0?Dn(n.left+S,n.top+C,A-B*2/3,d-T*2/3,zr.BOTTOM_RIGHT):new gt(n.left+n.width-B*2/3,n.top+n.height-T*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?Dn(n.left+R*2/3,n.top+x,p-R*2/3,g-T*2/3,zr.BOTTOM_LEFT):new gt(n.left+R*2/3,n.top+n.height-T*2/3),this.topLeftBorderStroke=a>0||o>0?Dn(n.left+R/2,n.top+_/2,a-R/2,o-_/2,zr.TOP_LEFT):new gt(n.left+R/2,n.top+_/2),this.topRightBorderStroke=a>0||o>0?Dn(n.left+b,n.top+_/2,l-B/2,u-_/2,zr.TOP_RIGHT):new gt(n.left+n.width-B/2,n.top+_/2),this.bottomRightBorderStroke=A>0||d>0?Dn(n.left+S,n.top+C,A-B/2,d-T/2,zr.BOTTOM_RIGHT):new gt(n.left+n.width-B/2,n.top+n.height-T/2),this.bottomLeftBorderStroke=p>0||g>0?Dn(n.left+R/2,n.top+x,p-R/2,g-T/2,zr.BOTTOM_LEFT):new gt(n.left+R/2,n.top+n.height-T/2),this.topLeftBorderBox=a>0||o>0?Dn(n.left,n.top,a,o,zr.TOP_LEFT):new gt(n.left,n.top),this.topRightBorderBox=l>0||u>0?Dn(n.left+b,n.top,l,u,zr.TOP_RIGHT):new gt(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||d>0?Dn(n.left+S,n.top+C,A,d,zr.BOTTOM_RIGHT):new gt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||g>0?Dn(n.left,n.top+x,p,g,zr.BOTTOM_LEFT):new gt(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?Dn(n.left+R,n.top+_,Math.max(0,a-R),Math.max(0,o-_),zr.TOP_LEFT):new gt(n.left+R,n.top+_),this.topRightPaddingBox=l>0||u>0?Dn(n.left+Math.min(b,n.width-B),n.top+_,b>n.width+B?0:Math.max(0,l-B),Math.max(0,u-_),zr.TOP_RIGHT):new gt(n.left+n.width-B,n.top+_),this.bottomRightPaddingBox=A>0||d>0?Dn(n.left+Math.min(S,n.width-R),n.top+Math.min(C,n.height-T),Math.max(0,A-B),Math.max(0,d-T),zr.BOTTOM_RIGHT):new gt(n.left+n.width-B,n.top+n.height-T),this.bottomLeftPaddingBox=p>0||g>0?Dn(n.left+R,n.top+Math.min(x,n.height-T),Math.max(0,p-R),Math.max(0,g-T),zr.BOTTOM_LEFT):new gt(n.left+R,n.top+n.height-T),this.topLeftContentBox=a>0||o>0?Dn(n.left+R+F,n.top+_+P,Math.max(0,a-(R+F)),Math.max(0,o-(_+P)),zr.TOP_LEFT):new gt(n.left+R+F,n.top+_+P),this.topRightContentBox=l>0||u>0?Dn(n.left+Math.min(b,n.width+R+F),n.top+_+P,b>n.width+R+F?0:l-R+F,u-(_+P),zr.TOP_RIGHT):new gt(n.left+n.width-(B+M),n.top+_+P),this.bottomRightContentBox=A>0||d>0?Dn(n.left+Math.min(S,n.width-(R+F)),n.top+Math.min(C,n.height+_+P),Math.max(0,A-(B+M)),d-(T+U),zr.BOTTOM_RIGHT):new gt(n.left+n.width-(B+M),n.top+n.height-(T+U)),this.bottomLeftContentBox=p>0||g>0?Dn(n.left+R+F,n.top+x,Math.max(0,p-(R+F)),g-(T+U),zr.BOTTOM_LEFT):new gt(n.left+R+F,n.top+n.height-(T+U))}return t}(),zr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(zr||(zr={}));var Dn=function(t,e,r,n,i){var a=4*((Math.sqrt(2)-1)/3),o=r*a,s=n*a,l=t+r,u=e+n;switch(i){case zr.TOP_LEFT:return new F0(new gt(t,u),new gt(t,u-s),new gt(l-o,e),new gt(l,e));case zr.TOP_RIGHT:return new F0(new gt(t,e),new gt(t+o,e),new gt(l,u-s),new gt(l,u));case zr.BOTTOM_RIGHT:return new F0(new gt(l,e),new gt(l,e+s),new gt(t+o,u),new gt(t,u));case zr.BOTTOM_LEFT:default:return new F0(new gt(l,u),new gt(l-o,u),new gt(t,e+s),new gt(t,e))}},_C=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Kpt=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},EC=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},zpt=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),k0=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Wpt=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Gpt=function(t){return t.type===0},LOe=function(t){return t.type===1},Vpt=function(t){return t.type===2},_Z=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Ypt=function(t,e,r,n,i){return t.map(function(a,o){switch(o){case 0:return a.add(e,r);case 1:return a.add(e+n,r);case 2:return a.add(e+n,r+i);case 3:return a.add(e,r+i)}return a})},NOe=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),$Oe=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new qpt(this.container),this.container.styles.opacity<1&&this.effects.push(new Wpt(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new zpt(n,i,a))}if(this.container.styles.overflowX!==0){var o=_C(this.curves),s=EC(this.curves);_Z(o,s)?this.effects.push(new k0(o,6)):(this.effects.push(new k0(o,2)),this.effects.push(new k0(s,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(l){return!LOe(l)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=_C(n.curves),s=EC(n.curves);_Z(o,s)||i.unshift(new k0(s,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(l){return ki(l.target,e)})},t}(),JQ=function(t,e,r,n){t.container.elements.forEach(function(i){var a=ki(i.flags,4),o=ki(i.flags,2),s=new $Oe(i,t);ki(i.styles.display,2048)&&n.push(s);var l=ki(i.flags,8)?[]:n;if(a||o){var u=a||i.styles.isPositioned()?r:e,c=new NOe(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var d=0;u.negativeZIndex.some(function(p,g){return A>p.element.container.styles.zIndex.order?(d=g,!1):d>0}),u.negativeZIndex.splice(d,0,c)}else if(A>0){var f=0;u.positiveZIndex.some(function(p,g){return A>=p.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),u.positiveZIndex.splice(f,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);JQ(s,c,a?c:r,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),JQ(s,e,r,l);ki(i.flags,8)&&QOe(i,l)})},QOe=function(t,e){for(var r=t instanceof WQ?t.start:1,n=t instanceof WQ?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof _Oe&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=ww(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},Xpt=function(t){var e=new $Oe(t,null),r=new NOe(e),n=[];return JQ(e,r,r,n),QOe(e.container,n),r},EZ=function(t,e){switch(e){case 0:return Ks(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ks(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ks(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ks(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Jpt=function(t,e){switch(e){case 0:return Ks(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ks(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ks(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ks(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Zpt=function(t,e){switch(e){case 0:return Ks(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ks(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ks(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ks(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},egt=function(t,e){switch(e){case 0:return U0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return U0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return U0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return U0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},U0=function(t,e){var r=[];return $s(t)?r.push(t.subdivide(.5,!1)):r.push(t),$s(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ks=function(t,e,r,n){var i=[];return $s(t)?i.push(t.subdivide(.5,!1)):i.push(t),$s(r)?i.push(r.subdivide(.5,!0)):i.push(r),$s(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),$s(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},HOe=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},IC=function(t){var e=t.styles,r=t.bounds,n=wn(e.paddingLeft,r.width),i=wn(e.paddingRight,r.width),a=wn(e.paddingTop,r.width),o=wn(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+a+o))},tgt=function(t,e){return t===0?e.bounds:t===2?IC(e):HOe(e)},rgt=function(t,e){return t===0?e.bounds:t===2?IC(e):HOe(e)},BM=function(t,e,r){var n=tgt(Ip(t.styles.backgroundOrigin,e),t),i=rgt(Ip(t.styles.backgroundClip,e),t),a=ngt(Ip(t.styles.backgroundSize,e),r,n),o=a[0],s=a[1],l=Vv(Ip(t.styles.backgroundPosition,e),n.width-o,n.height-s),u=igt(Ip(t.styles.backgroundRepeat,e),l,a,n,i),c=Math.round(n.left+l[0]),A=Math.round(n.top+l[1]);return[u,c,A,o,s]},dp=function(t){return rn(t)&&t.value===Gp.AUTO},D0=function(t){return typeof t=="number"},ngt=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=t[0],s=t[1];if(!o)return[0,0];if(Bi(o)&&s&&Bi(s))return[wn(o,r.width),wn(s,r.height)];var l=D0(a);if(rn(o)&&(o.value===Gp.CONTAIN||o.value===Gp.COVER)){if(D0(a)){var u=r.width/r.height;return u<a!=(o.value===Gp.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var c=D0(n),A=D0(i),d=c||A;if(dp(o)&&(!s||dp(s))){if(c&&A)return[n,i];if(!l&&!d)return[r.width,r.height];if(d&&l){var f=c?n:i*a,p=A?i:n/a;return[f,p]}var g=c?n:r.width,m=A?i:r.height;return[g,m]}if(l){var w=0,b=0;return Bi(o)?w=wn(o,r.width):Bi(s)&&(b=wn(s,r.height)),dp(o)?w=b*a:(!s||dp(s))&&(b=w/a),[w,b]}var C=null,S=null;if(Bi(o)?C=wn(o,r.width):s&&Bi(s)&&(S=wn(s,r.height)),C!==null&&(!s||dp(s))&&(S=c&&A?C/n*i:r.height),S!==null&&dp(o)&&(C=c&&A?S/i*n:r.width),C!==null&&S!==null)return[C,S];throw new Error("Unable to calculate background-size for element")},Ip=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},igt=function(t,e,r,n,i){var a=e[0],o=e[1],s=r[0],l=r[1];switch(t){case 2:return[new gt(Math.round(n.left),Math.round(n.top+o)),new gt(Math.round(n.left+n.width),Math.round(n.top+o)),new gt(Math.round(n.left+n.width),Math.round(l+n.top+o)),new gt(Math.round(n.left),Math.round(l+n.top+o))];case 3:return[new gt(Math.round(n.left+a),Math.round(n.top)),new gt(Math.round(n.left+a+s),Math.round(n.top)),new gt(Math.round(n.left+a+s),Math.round(n.height+n.top)),new gt(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new gt(Math.round(n.left+a),Math.round(n.top+o)),new gt(Math.round(n.left+a+s),Math.round(n.top+o)),new gt(Math.round(n.left+a+s),Math.round(n.top+o+l)),new gt(Math.round(n.left+a),Math.round(n.top+o+l))];default:return[new gt(Math.round(i.left),Math.round(i.top)),new gt(Math.round(i.left+i.width),Math.round(i.top)),new gt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new gt(Math.round(i.left),Math.round(i.height+i.top))]}},agt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",IZ="Hidden Text",ogt=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=agt,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(IZ)),n.appendChild(a),n.appendChild(i);var s=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(IZ)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:s,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),qOe=function(){function t(e,r){this.context=e,this.options=r}return t}(),sgt=1e4,lgt=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new ogt(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Vpt(r)&&(this.ctx.globalAlpha=r.opacity),Gpt(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),LOe(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return uo(this,void 0,void 0,function(){var n;return Fa(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return uo(this,void 0,void 0,function(){return Fa(this,function(n){switch(n.label){case 0:if(ki(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=n5(r.text);o.reduce(function(s,l){return a.ctx.fillText(l,s,r.bounds.top+i),s+a.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=fgt(r.fontFamily).join(", "),a=sb(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(r,n){return uo(this,void 0,void 0,function(){var i,a,o,s,l,u,c,A,d=this;return Fa(this,function(f){return i=this.createFontStyle(n),a=i[0],o=i[1],s=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,s),u=l.baseline,c=l.middle,A=n.paintOrder,r.textBounds.forEach(function(p){A.forEach(function(g){switch(g){case 0:d.ctx.fillStyle=Gi(n.color),d.renderTextWithLetterSpacing(p,n.letterSpacing,u);var m=n.textShadow;m.length&&p.text.trim().length&&(m.slice(0).reverse().forEach(function(w){d.ctx.shadowColor=Gi(w.color),d.ctx.shadowOffsetX=w.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=w.offsetY.number*d.options.scale,d.ctx.shadowBlur=w.blur.number,d.renderTextWithLetterSpacing(p,n.letterSpacing,u)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),n.textDecorationLine.length&&(d.ctx.fillStyle=Gi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:d.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+c),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(d.ctx.strokeStyle=Gi(n.webkitTextStrokeColor),d.ctx.lineWidth=n.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=IC(r),o=EC(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return uo(this,void 0,void 0,function(){var n,i,a,o,s,l,b,b,u,c,A,d,S,f,p,x,g,m,w,b,C,S,x;return Fa(this,function(_){switch(_.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,o=0,s=n.textNodes,_.label=1;case 1:return o<s.length?(l=s[o],[4,this.renderTextNode(l,a)]):[3,4];case 2:_.sent(),_.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof SOe))return[3,8];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=_.sent(),this.renderReplacedElement(n,i,b),[3,8];case 7:return _.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof xOe&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof COe))return[3,12];_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=_.sent(),this.renderReplacedElement(n,i,b),[3,12];case 11:return _.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof BOe&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:c=_.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),_.label=14;case 14:if(n instanceof i5&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===bC?n.checked&&(this.ctx.save(),this.path([new gt(n.bounds.left+A*.39363,n.bounds.top+A*.79),new gt(n.bounds.left+A*.16,n.bounds.top+A*.5549),new gt(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new gt(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new gt(n.bounds.left+A*.72983,n.bounds.top+A*.23),new gt(n.bounds.left+A*.84,n.bounds.top+A*.34085),new gt(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=Gi(hZ),this.ctx.fill(),this.ctx.restore()):n.type===SC&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Gi(hZ),this.ctx.fill(),this.ctx.restore())),ugt(n)&&n.value.length){switch(d=this.createFontStyle(a),S=d[0],f=d[1],p=this.fontMetrics.getMetrics(S,f).baseline,this.ctx.font=S,this.ctx.fillStyle=Gi(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Agt(n.styles.textAlign),x=IC(n),g=0,n.styles.textAlign){case 1:g+=x.width/2;break;case 2:g+=x.width;break}m=x.add(g,0,0,-x.height/2+1),this.ctx.save(),this.path([new gt(x.left,x.top),new gt(x.left+x.width,x.top),new gt(x.left+x.width,x.top+x.height),new gt(x.left,x.top+x.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new vy(n.value,m),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ki(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];b=void 0,C=w.url,_.label=15;case 15:return _.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return b=_.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return _.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(a)[0],this.ctx.font=S,this.ctx.fillStyle=Gi(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",x=new Xc(n.bounds.left,n.bounds.top+wn(n.styles.paddingTop,n.bounds.width),n.bounds.width,XJ(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new vy(r.listValue,x),a.letterSpacing,XJ(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return uo(this,void 0,void 0,function(){var n,i,w,a,o,w,s,l,w,u,c,w,A,d,w,f,p,w,g,m,w;return Fa(this,function(b){switch(b.label){case 0:if(ki(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,i=r.negativeZIndex,b.label=2;case 2:return n<i.length?(w=i[n],[4,this.renderStack(w)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),a=0,o=r.nonInlineLevel,b.label=7;case 7:return a<o.length?(w=o[a],[4,this.renderNode(w)]):[3,10];case 8:b.sent(),b.label=9;case 9:return a++,[3,7];case 10:s=0,l=r.nonPositionedFloats,b.label=11;case 11:return s<l.length?(w=l[s],[4,this.renderStack(w)]):[3,14];case 12:b.sent(),b.label=13;case 13:return s++,[3,11];case 14:u=0,c=r.nonPositionedInlineLevel,b.label=15;case 15:return u<c.length?(w=c[u],[4,this.renderStack(w)]):[3,18];case 16:b.sent(),b.label=17;case 17:return u++,[3,15];case 18:A=0,d=r.inlineLevel,b.label=19;case 19:return A<d.length?(w=d[A],[4,this.renderNode(w)]):[3,22];case 20:b.sent(),b.label=21;case 21:return A++,[3,19];case 22:f=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return f<p.length?(w=p[f],[4,this.renderStack(w)]):[3,26];case 24:b.sent(),b.label=25;case 25:return f++,[3,23];case 26:g=0,m=r.positiveZIndex,b.label=27;case 27:return g<m.length?(w=m[g],[4,this.renderStack(w)]):[3,30];case 28:b.sent(),b.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var o=$s(i)?i.start:i;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),$s(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,s=o.createElement("canvas");s.width=Math.max(1,n),s.height=Math.max(1,i);var l=s.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,i),s},e.prototype.renderBackgroundImage=function(r){return uo(this,void 0,void 0,function(){var n,i,a,o,s,l;return Fa(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,i=function(c){var A,d,f,P,$,Q,F,j,T,p,P,$,Q,F,j,g,m,w,b,C,S,x,_,B,T,R,P,M,U,F,j,L,$,Q,H,q,Y,z,V,X,ee,J;return Fa(this,function(le){switch(le.label){case 0:if(c.type!==0)return[3,5];A=void 0,d=c.url,le.label=1;case 1:return le.trys.push([1,3,,4]),[4,a.context.cache.match(d)];case 2:return A=le.sent(),[3,4];case 3:return le.sent(),a.context.logger.error("Error loading background-image "+d),[3,4];case 4:return A&&(f=BM(r,n,[A.width,A.height,A.width/A.height]),P=f[0],$=f[1],Q=f[2],F=f[3],j=f[4],T=a.ctx.createPattern(a.resizeImage(A,F,j),"repeat"),a.renderRepeat(P,T,$,Q)),[3,6];case 5:Gdt(c)?(p=BM(r,n,[null,null,null]),P=p[0],$=p[1],Q=p[2],F=p[3],j=p[4],g=Hdt(c.angle,F,j),m=g[0],w=g[1],b=g[2],C=g[3],S=g[4],x=document.createElement("canvas"),x.width=F,x.height=j,_=x.getContext("2d"),B=_.createLinearGradient(w,C,b,S),VJ(c.stops,m).forEach(function(de){return B.addColorStop(de.stop,Gi(de.color))}),_.fillStyle=B,_.fillRect(0,0,F,j),F>0&&j>0&&(T=a.ctx.createPattern(x,"repeat"),a.renderRepeat(P,T,$,Q))):Vdt(c)&&(R=BM(r,n,[null,null,null]),P=R[0],M=R[1],U=R[2],F=R[3],j=R[4],L=c.position.length===0?[e5]:c.position,$=wn(L[0],F),Q=wn(L[L.length-1],j),H=qdt(c,$,Q,F,j),q=H[0],Y=H[1],q>0&&Y>0&&(z=a.ctx.createRadialGradient(M+$,U+Q,0,M+$,U+Q,q),VJ(c.stops,q*2).forEach(function(de){return z.addColorStop(de.stop,Gi(de.color))}),a.path(P),a.ctx.fillStyle=z,q!==Y?(V=r.bounds.left+.5*r.bounds.width,X=r.bounds.top+.5*r.bounds.height,ee=Y/q,J=1/ee,a.ctx.save(),a.ctx.translate(V,X),a.ctx.transform(1,0,0,ee,0,0),a.ctx.translate(-V,-X),a.ctx.fillRect(M,J*(U-X)+X,F,j*J),a.ctx.restore()):a.ctx.fill())),le.label=6;case 6:return n--,[2]}})},a=this,o=0,s=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<s.length?(l=s[o],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return uo(this,void 0,void 0,function(){return Fa(this,function(a){return this.path(EZ(i,n)),this.ctx.fillStyle=Gi(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,a){return uo(this,void 0,void 0,function(){var o,s;return Fa(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return l.sent(),[2];case 2:return o=Jpt(a,i),this.path(o),this.ctx.fillStyle=Gi(r),this.ctx.fill(),s=Zpt(a,i),this.path(s),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return uo(this,void 0,void 0,function(){var n,i,a,o,s,l,u,c,A=this;return Fa(this,function(d){switch(d.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!nd(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=cgt(Ip(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),nd(n.backgroundColor)||(this.ctx.fillStyle=Gi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){A.ctx.save();var p=_C(r.curves),g=f.inset?0:sgt,m=Ypt(p,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(A.path(p),A.ctx.clip(),A.mask(m)):(A.mask(p),A.ctx.clip(),A.path(m)),A.ctx.shadowOffsetX=f.offsetX.number+g,A.ctx.shadowOffsetY=f.offsetY.number,A.ctx.shadowColor=Gi(f.color),A.ctx.shadowBlur=f.blur.number,A.ctx.fillStyle=f.inset?Gi(f.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),d.label=2;case 2:s=0,l=0,u=a,d.label=3;case 3:return l<u.length?(c=u[l],c.style!==0&&!nd(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,s,r.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,s,r.curves,3)];case 6:return d.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,s,r.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,s,r.curves)];case 10:d.sent(),d.label=11;case 11:s++,d.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,a,o){return uo(this,void 0,void 0,function(){var s,l,u,c,A,d,f,p,g,m,w,b,C,S,x,_,x,_;return Fa(this,function(B){return this.ctx.save(),s=egt(a,i),l=EZ(a,i),o===2&&(this.path(l),this.ctx.clip()),$s(l[0])?(u=l[0].start.x,c=l[0].start.y):(u=l[0].x,c=l[0].y),$s(l[1])?(A=l[1].end.x,d=l[1].end.y):(A=l[1].x,d=l[1].y),i===0||i===2?f=Math.abs(u-A):f=Math.abs(c-d),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(l.slice(0,2)),p=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(p=n,g=n),m=!0,f<=p*2?m=!1:f<=p*2+g?(w=f/(2*p+g),p*=w,g*=w):(b=Math.floor((f+g)/(p+g)),C=(f-b*p)/(b-1),S=(f-(b+1)*p)/b,g=S<=0||Math.abs(g-C)<Math.abs(g-S)?C:S),m&&(o===3?this.ctx.setLineDash([0,p+g]):this.ctx.setLineDash([p,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Gi(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&($s(l[0])&&(x=l[3],_=l[0],this.ctx.beginPath(),this.formatPath([new gt(x.end.x,x.end.y),new gt(_.start.x,_.start.y)]),this.ctx.stroke()),$s(l[1])&&(x=l[1],_=l[2],this.ctx.beginPath(),this.formatPath([new gt(x.end.x,x.end.y),new gt(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return uo(this,void 0,void 0,function(){var n;return Fa(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Gi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Xpt(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(qOe),ugt=function(t){return t instanceof IOe||t instanceof EOe?!0:t instanceof i5&&t.type!==SC&&t.type!==bC},cgt=function(t,e){switch(t){case 0:return _C(e);case 2:return Kpt(e);case 1:default:return EC(e)}},Agt=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},dgt=["-apple-system","system-ui"],fgt=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return dgt.indexOf(e)===-1}):t},hgt=function(t){Kl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return uo(this,void 0,void 0,function(){var n,i;return Fa(this,function(a){switch(a.label){case 0:return n=zQ(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,pgt(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Gi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(qOe),pgt=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ggt=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,p0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,p0([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,p0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,p0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),mgt=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new ggt({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Dpt(this,e)}return t.instanceCount=1,t}(),vgt=function(t,e){return e===void 0&&(e={}),ygt(t,e)};typeof window<"u"&&jOe.setContext(window);var ygt=function(t,e){return uo(void 0,void 0,void 0,function(){var r,n,i,a,o,s,l,u,c,A,d,f,p,g,m,w,b,C,S,x,B,_,B,T,R,P,M,U,F,j,L,$,Q,H,q,Y,z,V,X,ee;return Fa(this,function(J){switch(J.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(T=e.allowTaint)!==null&&T!==void 0?T:!1,imageTimeout:(R=e.imageTimeout)!==null&&R!==void 0?R:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},a=OQ({logging:(M=e.logging)!==null&&M!==void 0?M:!0,cache:e.cache},i),o={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:n.innerWidth,windowHeight:(F=e.windowHeight)!==null&&F!==void 0?F:n.innerHeight,scrollX:(j=e.scrollX)!==null&&j!==void 0?j:n.pageXOffset,scrollY:(L=e.scrollY)!==null&&L!==void 0?L:n.pageYOffset},s=new Xc(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new mgt(a,s),u=($=e.foreignObjectRendering)!==null&&$!==void 0?$:!1,c={allowTaint:(Q=e.allowTaint)!==null&&Q!==void 0?Q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),A=new xZ(l,t,c),d=A.clonedReferenceElement,d?[4,A.toIFrame(r,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=J.sent(),p=a5(d)||wpt(d)?Yct(d.ownerDocument):fE(l,d),g=p.width,m=p.height,w=p.left,b=p.top,C=wgt(l,d,e.backgroundColor),S={canvas:e.canvas,backgroundColor:C,scale:(q=(H=e.scale)!==null&&H!==void 0?H:n.devicePixelRatio)!==null&&q!==void 0?q:1,x:((Y=e.x)!==null&&Y!==void 0?Y:0)+w,y:((z=e.y)!==null&&z!==void 0?z:0)+b,width:(V=e.width)!==null&&V!==void 0?V:Math.ceil(g),height:(X=e.height)!==null&&X!==void 0?X:Math.ceil(m)},u?(l.logger.debug("Document cloned, using foreign object rendering"),B=new hgt(l,S),[4,B.render(d)]):[3,3];case 2:return x=J.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+w+","+b+" with size "+g+"x"+m+" using computed rendering"),l.logger.debug("Starting DOM parsing"),_=TOe(l,d),C===_.styles.backgroundColor&&(_.styles.backgroundColor=Lc.TRANSPARENT),l.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),B=new lgt(l,S),[4,B.render(_)];case 4:x=J.sent(),J.label=5;case 5:return(!((ee=e.removeContainer)!==null&&ee!==void 0)||ee)&&(xZ.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,x]}})})},wgt=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?gy(t,getComputedStyle(n.documentElement).backgroundColor):Lc.TRANSPARENT,a=n.body?gy(t,getComputedStyle(n.body).backgroundColor):Lc.TRANSPARENT,o=typeof r=="string"?gy(t,r):r===null?Lc.TRANSPARENT:4294967295;return e===n.documentElement?nd(i)?nd(a)?o:a:i:o};const bgt=()=>{const t=()=>{const l=localStorage.getItem("rowersData");return l?JSON.parse(l):[{name:"Roadblock",value:0},{name:"Ownership",value:0},{name:"Win Likelihood",value:0},{name:"Economic Value",value:0},{name:"Risk",value:0},{name:"Stakeholders",value:0}]},[e,r]=I.useState(t());I.useEffect(()=>{localStorage.setItem("rowersData",JSON.stringify(e))},[e]);const n=(l,u)=>{if(u<0||u>5)return;const c=[...e];c[l].value=u,r(c)},i=l=>`rgba(0, 123, 255, ${l/5*255/255})`,a=l=>{const{x:u,y:c,width:A,height:d,payload:f}=l;return y.jsx("rect",{x:u,y:c,width:A,height:d,fill:i(f.value)})},o=I.useRef(null),s=async()=>{if(o.current)try{const l=await vgt(o.current,{backgroundColor:"#fff"}),u=document.createElement("a");u.download="rowers-chart.png",u.href=l.toDataURL("image/png"),u.click()}catch(l){console.error("Error capturing chart:",l)}};return y.jsx(qg,{title:"ROWERS Opportunity Qualification Chart",children:y.jsxs(ii,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",p:0,m:0},children:[y.jsx(Zt,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",sx:{width:"100%",mb:4,p:0},children:e.map((l,u)=>y.jsx(Zt,{item:!0,xs:12,sm:4,children:y.jsx(Gw,{children:y.jsxs(Vw,{children:[y.jsx(er,{variant:"h6",sx:{mb:2},children:l.name}),y.jsx(Nn,{fullWidth:!0,label:"Value (1-5)",type:"number",inputProps:{min:1,max:5},value:l.value,onChange:c=>n(u,parseInt(c.target.value,10))})]})})},u))}),y.jsxs(Vs,{elevation:3,sx:{width:"100%",p:0,m:4},children:[y.jsx(er,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center"},p:"20px",children:"ROWERS Bar Chart"}),y.jsx(ii,{ref:o,children:y.jsx(FBe,{width:"100%",height:400,children:y.jsxs($Te,{data:e,children:[y.jsx(ib,{dataKey:"name"}),y.jsx(ab,{domain:[0,5],ticks:[1,2,3,4,5]}),y.jsx(Cl,{}),y.jsx(Tf,{}),y.jsx(Ed,{dataKey:"value",name:"ROWERS Score",shape:y.jsx(a,{}),animationDuration:0})]})})})]}),y.jsx(Tl,{variant:"contained",onClick:s,sx:{mt:4,mb:8,backgroundColor:"rgb(0, 123, 255)"},children:"Extract Chart"})]})})},Sgt=()=>{const[t,e]=I.useState(Number(localStorage.getItem("budget"))||0),[r,n]=I.useState(Number(localStorage.getItem("likelihood"))||0),[i,a]=I.useState(Number(localStorage.getItem("revenue"))||0),[o,s]=I.useState(Number(localStorage.getItem("time"))||0),[l,u]=I.useState(Number(localStorage.getItem("budgetWeight"))||0),[c,A]=I.useState(Number(localStorage.getItem("likelihoodWeight"))||0),[d,f]=I.useState(Number(localStorage.getItem("revenueWeight"))||0),[p,g]=I.useState(Number(localStorage.getItem("timeWeight"))||0),[m,w]=I.useState(null);I.useEffect(()=>{localStorage.setItem("budget",String(t)),localStorage.setItem("likelihood",String(r)),localStorage.setItem("revenue",String(i)),localStorage.setItem("time",String(o)),localStorage.setItem("budgetWeight",String(l)),localStorage.setItem("likelihoodWeight",String(c)),localStorage.setItem("revenueWeight",String(d)),localStorage.setItem("timeWeight",String(p))},[t,r,i,o,l,c,d,p]);const b=T=>T.toLocaleString(),C=T=>{const R=T.target.value;if(R===""){e(0);return}const P=parseFloat(R.replace(/,/g,""));e(isNaN(P)?0:P)},S=T=>{const R=T.target.value;if(R===""){a(0);return}const P=parseFloat(R.replace(/,/g,""));a(isNaN(P)?0:P)},x=T=>{const R=T.target.value;if(R===""){n(0);return}const P=parseFloat(R);!isNaN(P)&&P>=0&&P<=100&&n(P/100)},_=T=>{const R=T.target.value;if(R===""){s(0);return}const P=parseFloat(R);s(isNaN(P)?0:P)},B=()=>{const T=i/1e4,R=r*10,P=o===0?0:1/o*1e3,M=T*d+R*c+P*p;w(M)};return y.jsxs(ii,{width:"100%",sx:{p:3},children:[y.jsx(er,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Opportunity Scoring Tool"}),y.jsx(Vs,{elevation:3,sx:{p:3},children:y.jsxs(Zt,{container:!0,spacing:3,children:[y.jsx(Zt,{item:!0,xs:12,children:y.jsx(er,{variant:"h6",sx:{mb:1,fontSize:"16px"},children:"The sum of weights should equal 1"})}),y.jsx(Zt,{item:!0,xs:2.5,sm:2.5,children:y.jsx(Nn,{label:"Budget Weight",type:"number",fullWidth:!0,value:l||"",onChange:T=>u(parseFloat(T.target.value)),inputProps:{step:"any",disableScroll:!0}})}),y.jsx(Zt,{item:!0,xs:2.5,sm:2.5,children:y.jsx(Nn,{label:"Likelihood Weight",type:"number",fullWidth:!0,value:c||"",onChange:T=>A(parseFloat(T.target.value)),inputProps:{step:"any",disableScroll:!0}})}),y.jsx(Zt,{item:!0,xs:2.5,sm:2.5,children:y.jsx(Nn,{label:"Revenue Weight",type:"number",fullWidth:!0,value:d||"",onChange:T=>f(parseFloat(T.target.value)),inputProps:{step:"any",disableScroll:!0}})}),y.jsx(Zt,{item:!0,xs:2.5,sm:2.5,children:y.jsx(Nn,{label:"Time Weight",type:"number",fullWidth:!0,value:p||"",onChange:T=>g(parseFloat(T.target.value)),inputProps:{step:"any",disableScroll:!0}})}),y.jsx(Zt,{item:!0,xs:12,sm:6,children:y.jsx(Nn,{label:"Budget",fullWidth:!0,value:t===0?"":b(t),onChange:C,inputProps:{disableScroll:!0}})}),y.jsx(Zt,{item:!0,xs:12,sm:6,children:y.jsx(Nn,{label:"Likelihood (0-100%)",type:"number",fullWidth:!0,value:r*100||"",onChange:x,inputProps:{min:0,max:100,disableScroll:!0}})}),y.jsx(Zt,{item:!0,xs:12,sm:6,children:y.jsx(Nn,{label:"Revenue",fullWidth:!0,value:i===0?"":b(i),onChange:S,inputProps:{disableScroll:!0}})}),y.jsx(Zt,{item:!0,xs:12,sm:6,children:y.jsx(Nn,{label:"Time (in months)",type:"number",fullWidth:!0,value:o||"",onChange:_,inputProps:{disableScroll:!0}})}),y.jsx(Zt,{item:!0,xs:12,children:y.jsx(Tl,{variant:"contained",color:"primary",onClick:B,fullWidth:!0,children:"Calculate Score"})}),m!==null&&y.jsx(Zt,{item:!0,xs:12,children:y.jsxs(er,{variant:"h6",sx:{mt:2},children:["Opportunity Score: ",m.toFixed(2)]})})]})})]})},xgt=()=>{const[t,e]=I.useState([]),[r,n]=I.useState([]),[i,a]=I.useState("csv"),[o,s]=I.useState(0),[l,u]=I.useState([]);I.useEffect(()=>{const g=localStorage.getItem("historicalData"),m=localStorage.getItem("manualData");g&&e(JSON.parse(g)),m&&(u(JSON.parse(m)),s(JSON.parse(m).length))},[]),I.useEffect(()=>{localStorage.setItem("historicalData",JSON.stringify(t))},[t]),I.useEffect(()=>{localStorage.setItem("manualData",JSON.stringify(l))},[l]),I.useEffect(()=>{l.length>o&&u(l.slice(0,o))},[o]);const c=g=>{const m=g.length,w=g.map((P,M)=>M+1),b=g,C=w.reduce((P,M)=>P+M,0),S=b.reduce((P,M)=>P+M,0),x=w.map((P,M)=>P*b[M]).reduce((P,M)=>P+M,0),_=w.map(P=>P*P).reduce((P,M)=>P+M,0),B=(m*x-C*S)/(m*_-C*C),T=(S-B*C)/m;return Array.from({length:6},(P,M)=>{const U=m+M+1;return B*U+T})},A=()=>{const m=c(i==="csv"?t:l);n(m)},d=g=>{const m=g.target.value.split(",").map(Number);e(m)},f=(g,m)=>{const w=[...l];w[g]=parseFloat(m)||0,u(w)},p=()=>Array.from({length:o},(g,m)=>y.jsx(Zt,{item:!0,xs:6,sm:4,md:3,children:y.jsx(Nn,{label:`Data Point ${m+1}`,type:"number",fullWidth:!0,value:l[m]||"",onChange:w=>f(m,w.target.value),inputProps:{disableScroll:!0}})},m));return y.jsxs(Hg,{children:[y.jsx(er,{variant:"h4",gutterBottom:!0,children:"Sales Prediction Tool"}),y.jsx(Vs,{elevation:3,sx:{p:3},children:y.jsxs(Zt,{container:!0,spacing:3,children:[y.jsx(Zt,{item:!0,xs:12,children:y.jsxs(M7e,{value:i,exclusive:!0,onChange:(g,m)=>a(m),"aria-label":"input method",children:[y.jsx(YW,{value:"csv","aria-label":"csv",children:"CSV Input"}),y.jsx(YW,{value:"manual","aria-label":"manual",children:"Manual Input"})]})}),i==="csv"&&y.jsx(Zt,{item:!0,xs:12,children:y.jsx(Nn,{label:"Historical Sales Data (comma-separated)",fullWidth:!0,value:t.join(","),onChange:d})}),i==="manual"&&y.jsxs(y.Fragment,{children:[y.jsx(Zt,{item:!0,xs:12,children:y.jsx(Nn,{label:"Number of Data Points",type:"number",fullWidth:!0,value:o,onChange:g=>s(parseInt(g.target.value,10)),inputProps:{min:0}})}),o>0&&y.jsx(Zt,{container:!0,spacing:2,sx:{mt:2},children:p()})]}),y.jsx(Zt,{item:!0,xs:12,children:y.jsx(Tl,{variant:"contained",color:"primary",onClick:A,fullWidth:!0,children:"Predict Future Sales"})}),r.length>0&&y.jsxs(Zt,{item:!0,xs:12,children:[y.jsx(er,{variant:"h6",sx:{mt:2,mb:2},children:"Predicted Sales for the Next 6 Time Units:"}),y.jsx(Zt,{container:!0,spacing:2,children:r.map((g,m)=>y.jsx(Zt,{item:!0,xs:4,sm:4,md:4,children:y.jsxs(er,{variant:"body1",children:["Time Unit ",m+1,": ",g.toFixed(2)]})},m))})]})]})})]})},Cgt=()=>{const t=Ng(),e=th(),r=[{title:"Opportunity Scoring Tool",description:"Prioritize sales opportunities based on budget, likelihood, and revenue.",component:y.jsx(Sgt,{}),color:t.palette.primary.main},{title:"Sales Prediction Tool",description:"Predict future sales based on historical data using linear regression. This prediction is based on the assumption that sales data is linear.",component:y.jsx(xgt,{}),color:t.palette.secondary.main}];return y.jsx(qg,{title:"Sales Tools",children:y.jsxs(ii,{sx:{p:3,width:"100%"},children:[y.jsx(Zt,{container:!0,spacing:4,alignItems:"stretch",children:r.map((n,i)=>y.jsx(Zt,{item:!0,xs:12,sm:6,children:y.jsx(Gw,{sx:{height:"100%",display:"flex",flexDirection:"column",borderLeft:`6px solid ${n.color}`},children:y.jsxs(Vw,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[y.jsx(er,{variant:"h5",sx:{color:n.color,fontWeight:"bold",mb:2},children:n.title}),y.jsx(er,{variant:"body1",sx:{mb:2},children:n.description}),y.jsx(ky,{sx:{my:2}}),y.jsx(ii,{sx:{flexGrow:1},children:n.component})]})})},i))}),y.jsx(ii,{sx:{display:"flex",justifyContent:"center",mt:8},children:y.jsx(Tl,{variant:"contained",onClick:()=>e("/"),sx:{fontSize:"1.2rem",padding:"10px 20px"},children:"Back to Home"})})]})})};var Rx={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var _gt=Rx.exports,BZ;function Egt(){return BZ||(BZ=1,function(t){(function(e,r){t.exports?t.exports=r():e.numeral=r()})(_gt,function(){var e,r,n="2.0.6",i={},a={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function l(u,c){this._input=u,this._value=c}return e=function(u){var c,A,d,f;if(e.isNumeral(u))c=u.value();else if(u===0||typeof u>"u")c=0;else if(u===null||r.isNaN(u))c=null;else if(typeof u=="string")if(s.zeroFormat&&u===s.zeroFormat)c=0;else if(s.nullFormat&&u===s.nullFormat||!u.replace(/[^0-9]+/g,"").length)c=null;else{for(A in i)if(f=typeof i[A].regexps.unformat=="function"?i[A].regexps.unformat():i[A].regexps.unformat,f&&u.match(f)){d=i[A].unformat;break}d=d||e._.stringToNumber,c=d(u)}else c=Number(u)||null;return new l(u,c)},e.version=n,e.isNumeral=function(u){return u instanceof l},e._=r={numberToFormat:function(u,c,A){var d=a[e.options.currentLocale],f=!1,p=!1,g=0,m="",w=1e12,b=1e9,C=1e6,S=1e3,x="",_=!1,B,T,R,P,M,U,F;if(u=u||0,T=Math.abs(u),e._.includes(c,"(")?(f=!0,c=c.replace(/[\(|\)]/g,"")):(e._.includes(c,"+")||e._.includes(c,"-"))&&(M=e._.includes(c,"+")?c.indexOf("+"):u<0?c.indexOf("-"):-1,c=c.replace(/[\+|\-]/g,"")),e._.includes(c,"a")&&(B=c.match(/a(k|m|b|t)?/),B=B?B[1]:!1,e._.includes(c," a")&&(m=" "),c=c.replace(new RegExp(m+"a[kmbt]?"),""),T>=w&&!B||B==="t"?(m+=d.abbreviations.trillion,u=u/w):T<w&&T>=b&&!B||B==="b"?(m+=d.abbreviations.billion,u=u/b):T<b&&T>=C&&!B||B==="m"?(m+=d.abbreviations.million,u=u/C):(T<C&&T>=S&&!B||B==="k")&&(m+=d.abbreviations.thousand,u=u/S)),e._.includes(c,"[.]")&&(p=!0,c=c.replace("[.]",".")),R=u.toString().split(".")[0],P=c.split(".")[1],U=c.indexOf(","),g=(c.split(".")[0].split(",")[0].match(/0/g)||[]).length,P?(e._.includes(P,"[")?(P=P.replace("]",""),P=P.split("["),x=e._.toFixed(u,P[0].length+P[1].length,A,P[1].length)):x=e._.toFixed(u,P.length,A),R=x.split(".")[0],e._.includes(x,".")?x=d.delimiters.decimal+x.split(".")[1]:x="",p&&Number(x.slice(1))===0&&(x="")):R=e._.toFixed(u,0,A),m&&!B&&Number(R)>=1e3&&m!==d.abbreviations.trillion)switch(R=String(Number(R)/1e3),m){case d.abbreviations.thousand:m=d.abbreviations.million;break;case d.abbreviations.million:m=d.abbreviations.billion;break;case d.abbreviations.billion:m=d.abbreviations.trillion;break}if(e._.includes(R,"-")&&(R=R.slice(1),_=!0),R.length<g)for(var j=g-R.length;j>0;j--)R="0"+R;return U>-1&&(R=R.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),c.indexOf(".")===0&&(R=""),F=R+x+(m||""),f?F=(f&&_?"(":"")+F+(f&&_?")":""):M>=0?F=M===0?(_?"-":"+")+F:F+(_?"-":"+"):_&&(F="-"+F),F},stringToNumber:function(u){var c=a[s.currentLocale],A=u,d={thousand:3,million:6,billion:9,trillion:12},f,p,g;if(s.zeroFormat&&u===s.zeroFormat)p=0;else if(s.nullFormat&&u===s.nullFormat||!u.replace(/[^0-9]+/g,"").length)p=null;else{p=1,c.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(c.delimiters.decimal,"."));for(f in d)if(g=new RegExp("[^a-zA-Z]"+c.abbreviations[f]+"(?:\\)|(\\"+c.currency.symbol+")?(?:\\))?)?$"),A.match(g)){p*=Math.pow(10,d[f]);break}p*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),p*=Number(u)}return p},isNaN:function(u){return typeof u=="number"&&isNaN(u)},includes:function(u,c){return u.indexOf(c)!==-1},insert:function(u,c,A){return u.slice(0,A)+c+u.slice(A)},reduce:function(u,c){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof c!="function")throw new TypeError(c+" is not a function");var A=Object(u),d=A.length>>>0,f=0,p;if(arguments.length===3)p=arguments[2];else{for(;f<d&&!(f in A);)f++;if(f>=d)throw new TypeError("Reduce of empty array with no initial value");p=A[f++]}for(;f<d;f++)f in A&&(p=c(p,A[f],f,A));return p},multiplier:function(u){var c=u.toString().split(".");return c.length<2?1:Math.pow(10,c[1].length)},correctionFactor:function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(c,A){var d=r.multiplier(A);return c>d?c:d},1)},toFixed:function(u,c,A,d){var f=u.toString().split("."),p=c-(d||0),g,m,w,b;return f.length===2?g=Math.min(Math.max(f[1].length,p),c):g=p,w=Math.pow(10,g),b=(A(u+"e+"+g)/w).toFixed(g),d>c-g&&(m=new RegExp("\\.?0{1,"+(d-(c-g))+"}$"),b=b.replace(m,"")),b}},e.options=s,e.formats=i,e.locales=a,e.locale=function(u){return u&&(s.currentLocale=u.toLowerCase()),s.currentLocale},e.localeData=function(u){if(!u)return a[s.currentLocale];if(u=u.toLowerCase(),!a[u])throw new Error("Unknown locale : "+u);return a[u]},e.reset=function(){for(var u in o)s[u]=o[u]},e.zeroFormat=function(u){s.zeroFormat=typeof u=="string"?u:null},e.nullFormat=function(u){s.nullFormat=typeof u=="string"?u:null},e.defaultFormat=function(u){s.defaultFormat=typeof u=="string"?u:"0.0"},e.register=function(u,c,A){if(c=c.toLowerCase(),this[u+"s"][c])throw new TypeError(c+" "+u+" already registered.");return this[u+"s"][c]=A,A},e.validate=function(u,c){var A,d,f,p,g,m,w,b;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{w=e.localeData(c)}catch{w=e.localeData(e.locale())}return f=w.currency.symbol,g=w.abbreviations,A=w.delimiters.decimal,w.delimiters.thousands==="."?d="\\.":d=w.delimiters.thousands,b=u.match(/^[^\d]+/),b!==null&&(u=u.substr(1),b[0]!==f)||(b=u.match(/[^\d]+$/),b!==null&&(u=u.slice(0,-1),b[0]!==g.thousand&&b[0]!==g.million&&b[0]!==g.billion&&b[0]!==g.trillion))?!1:(m=new RegExp(d+"{2}"),u.match(/[^\d.,]/g)?!1:(p=u.split(A),p.length>2?!1:p.length<2?!!p[0].match(/^\d+.*\d$/)&&!p[0].match(m):p[0].length===1?!!p[0].match(/^\d+$/)&&!p[0].match(m)&&!!p[1].match(/^\d+$/):!!p[0].match(/^\d+.*\d$/)&&!p[0].match(m)&&!!p[1].match(/^\d+$/)))},e.fn=l.prototype={clone:function(){return e(this)},format:function(u,c){var A=this._value,d=u||s.defaultFormat,f,p,g;if(c=c||Math.round,A===0&&s.zeroFormat!==null)p=s.zeroFormat;else if(A===null&&s.nullFormat!==null)p=s.nullFormat;else{for(f in i)if(d.match(i[f].regexps.format)){g=i[f].format;break}g=g||e._.numberToFormat,p=g(A,d,c)}return p},value:function(){return this._value},input:function(){return this._input},set:function(u){return this._value=Number(u),this},add:function(u){var c=r.correctionFactor.call(null,this._value,u);function A(d,f,p,g){return d+Math.round(c*f)}return this._value=r.reduce([this._value,u],A,0)/c,this},subtract:function(u){var c=r.correctionFactor.call(null,this._value,u);function A(d,f,p,g){return d-Math.round(c*f)}return this._value=r.reduce([u],A,Math.round(this._value*c))/c,this},multiply:function(u){function c(A,d,f,p){var g=r.correctionFactor(A,d);return Math.round(A*g)*Math.round(d*g)/Math.round(g*g)}return this._value=r.reduce([this._value,u],c,1),this},divide:function(u){function c(A,d,f,p){var g=r.correctionFactor(A,d);return Math.round(A*g)/Math.round(d*g)}return this._value=r.reduce([this._value,u],c),this},difference:function(u){return Math.abs(e(this._value).subtract(u).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(u){var c=u%10;return~~(u%100/10)===1?"th":c===1?"st":c===2?"nd":c===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(u,c,A){var d=e._.includes(c," BPS")?" ":"",f;return u=u*1e4,c=c.replace(/\s?BPS/,""),f=e._.numberToFormat(u,c,A),e._.includes(f,")")?(f=f.split(""),f.splice(-1,0,d+"BPS"),f=f.join("")):f=f+d+"BPS",f},unformat:function(u){return+(e._.stringToNumber(u)*1e-4).toFixed(15)}})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},c={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},A=u.suffixes.concat(c.suffixes.filter(function(f){return u.suffixes.indexOf(f)<0})),d=A.join("|");d="("+d.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(d)},format:function(f,p,g){var m,w=e._.includes(p,"ib")?c:u,b=e._.includes(p," b")||e._.includes(p," ib")?" ":"",C,S,x;for(p=p.replace(/\s?i?b/,""),C=0;C<=w.suffixes.length;C++)if(S=Math.pow(w.base,C),x=Math.pow(w.base,C+1),f===null||f===0||f>=S&&f<x){b+=w.suffixes[C],S>0&&(f=f/S);break}return m=e._.numberToFormat(f,p,g),m+b},unformat:function(f){var p=e._.stringToNumber(f),g,m;if(p){for(g=u.suffixes.length-1;g>=0;g--){if(e._.includes(f,u.suffixes[g])){m=Math.pow(u.base,g);break}if(e._.includes(f,c.suffixes[g])){m=Math.pow(c.base,g);break}}p*=m||1}return p}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(u,c,A){var d=e.locales[e.options.currentLocale],f={before:c.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:c.match(/([\+|\-|\)|\s|\$]*)$/)[0]},p,g,m;for(c=c.replace(/\s?\$\s?/,""),p=e._.numberToFormat(u,c,A),u>=0?(f.before=f.before.replace(/[\-\(]/,""),f.after=f.after.replace(/[\-\)]/,"")):u<0&&!e._.includes(f.before,"-")&&!e._.includes(f.before,"(")&&(f.before="-"+f.before),m=0;m<f.before.length;m++)switch(g=f.before[m],g){case"$":p=e._.insert(p,d.currency.symbol,m);break;case" ":p=e._.insert(p," ",m+d.currency.symbol.length-1);break}for(m=f.after.length-1;m>=0;m--)switch(g=f.after[m],g){case"$":p=m===f.after.length-1?p+d.currency.symbol:e._.insert(p,d.currency.symbol,-(f.after.length-(1+m)));break;case" ":p=m===f.after.length-1?p+" ":e._.insert(p," ",-(f.after.length-(1+m)+d.currency.symbol.length-1));break}return p}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(u,c,A){var d,f=typeof u=="number"&&!e._.isNaN(u)?u.toExponential():"0e+0",p=f.split("e");return c=c.replace(/e[\+|\-]{1}0/,""),d=e._.numberToFormat(Number(p[0]),c,A),d+"e"+p[1]},unformat:function(u){var c=e._.includes(u,"e+")?u.split("e+"):u.split("e-"),A=Number(c[0]),d=Number(c[1]);d=e._.includes(u,"e-")?d*=-1:d;function f(p,g,m,w){var b=e._.correctionFactor(p,g),C=p*b*(g*b)/(b*b);return C}return e._.reduce([A,Math.pow(10,d)],f,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(u,c,A){var d=e.locales[e.options.currentLocale],f,p=e._.includes(c," o")?" ":"";return c=c.replace(/\s?o/,""),p+=d.ordinal(u),f=e._.numberToFormat(u,c,A),f+p}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(u,c,A){var d=e._.includes(c," %")?" ":"",f;return e.options.scalePercentBy100&&(u=u*100),c=c.replace(/\s?\%/,""),f=e._.numberToFormat(u,c,A),e._.includes(f,")")?(f=f.split(""),f.splice(-1,0,d+"%"),f=f.join("")):f=f+d+"%",f},unformat:function(u){var c=e._.stringToNumber(u);return e.options.scalePercentBy100?c*.01:c}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(u,c,A){var d=Math.floor(u/60/60),f=Math.floor((u-d*60*60)/60),p=Math.round(u-d*60*60-f*60);return d+":"+(f<10?"0"+f:f)+":"+(p<10?"0"+p:p)},unformat:function(u){var c=u.split(":"),A=0;return c.length===3?(A=A+Number(c[0])*60*60,A=A+Number(c[1])*60,A=A+Number(c[2])):c.length===2&&(A=A+Number(c[0])*60,A=A+Number(c[1])),Number(A)}})}(),e})}(Rx)),Rx.exports}var Igt=Egt();const PM=kr(Igt),Bgt=({values:t,onChange:e})=>{const r=["R","O","W","E","R","S"],n=r.map((i,a)=>({name:i,value:t[a]||0}));return y.jsxs(ii,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px"},children:[y.jsx(er,{variant:"h6",sx:{mb:2},children:"ROWERS Analysis"}),y.jsx(ii,{sx:{display:"flex",gap:1,mb:2},children:r.map((i,a)=>y.jsx(Nn,{label:i,type:"number",inputProps:{min:0,max:5},value:t[a],onChange:o=>e(a,parseInt(o.target.value,10)||0),sx:{width:"60px"}},a))}),y.jsx(FBe,{width:"100%",height:350,children:y.jsxs($Te,{data:n,children:[y.jsx(ib,{dataKey:"name"}),y.jsx(ab,{domain:[0,5],ticks:[0,1,2,3,4,5]}),y.jsx(Cl,{}),y.jsx(Ed,{dataKey:"value",fill:"#6200ea"})]})})]})},Pgt=()=>{const t=()=>{try{const a=localStorage.getItem("opportunities");return a?JSON.parse(a):Array(3).fill({description:"",responsible:"",deadline:"",budget:0,totalPipelineValue:0,closedValue:0,opportunityGap:0,pipelineGap:0,rowersValues:Array(6).fill(0)})}catch(a){return console.error("Error loading opportunities:",a),[]}},[e,r]=I.useState(t());I.useEffect(()=>{localStorage.setItem("opportunities",JSON.stringify(e))},[e]);const n=(a,o,s)=>{const l=[...e];l[a]={...l[a],[o]:s},r(l)},i=(a,o,s)=>{const l=[...e],u=[...l[a].rowersValues];u[o]=s,l[a]={...l[a],rowersValues:u},r(l)};return y.jsxs(Hg,{maxWidth:"lg",children:[y.jsx(er,{variant:"h4",sx:{textAlign:"center",my:4},children:"Win Room Board"}),y.jsx(Zt,{container:!0,spacing:3,children:e.map((a,o)=>y.jsx(Zt,{item:!0,xs:12,children:y.jsx(Gw,{sx:{p:3,borderLeft:"5px solid #6200ea"},children:y.jsxs(Vw,{children:[y.jsxs(er,{variant:"h5",sx:{mb:2},children:["Opportunity ",o+1]}),y.jsxs(Zt,{container:!0,spacing:2,children:[y.jsx(Zt,{item:!0,xs:12,children:y.jsx(Nn,{fullWidth:!0,label:"Description",multiline:!0,rows:4,value:a.description,onChange:s=>n(o,"description",s.target.value)})}),y.jsx(Zt,{item:!0,xs:6,children:y.jsx(Nn,{fullWidth:!0,label:"Responsible",value:a.responsible,onChange:s=>n(o,"responsible",s.target.value)})}),y.jsx(Zt,{item:!0,xs:6,children:y.jsx(Nn,{fullWidth:!0,label:"Deadline",type:"date",value:a.deadline,onChange:s=>n(o,"deadline",s.target.value),InputLabelProps:{shrink:!0}})}),y.jsx(Zt,{item:!0,xs:4,children:y.jsx(Nn,{fullWidth:!0,label:"Budget (SEK)",value:PM(a.budget).format("0,0"),onChange:s=>n(o,"budget",parseInt(s.target.value.replace(/\D/g,""),10)||0)})}),y.jsx(Zt,{item:!0,xs:4,children:y.jsx(Nn,{fullWidth:!0,label:"Total Pipeline Value (SEK)",value:PM(a.totalPipelineValue).format("0,0"),onChange:s=>n(o,"totalPipelineValue",parseInt(s.target.value.replace(/\D/g,""),10)||0)})}),y.jsx(Zt,{item:!0,xs:4,children:y.jsx(Nn,{fullWidth:!0,label:"Closed Value (SEK)",value:PM(a.closedValue).format("0,0"),onChange:s=>n(o,"closedValue",parseInt(s.target.value.replace(/\D/g,""),10)||0)})}),y.jsx(Zt,{item:!0,xs:12,children:y.jsx(Bgt,{values:a.rowersValues,onChange:(s,l)=>i(o,s,l)})})]})]})})},o))})]})},TM="__TLDRAW_LIBRARY_VERSIONS__";function Tgt(){if(globalThis[TM])return globalThis[TM];const t={versions:[],didWarn:!1,scheduledNotice:null};return Object.defineProperty(globalThis,TM,{value:t,writable:!1,configurable:!1,enumerable:!1}),t}function Id(t,e,r){if(!t)throw new Error("Missing name/version/module system in built version of tldraw library");const n=Tgt();if(n.versions.push({name:t,version:e,modules:r}),!n.scheduledNotice)try{n.scheduledNotice=setTimeout(()=>{n.scheduledNotice=null,PZ(n)},100)}catch{PZ(n)}}function PZ(t){if(!t.versions.length||t.didWarn)return;const e=t.versions.sort((s,l)=>TZ(s.version,l.version)),r=e[e.length-1].version,n=new Set,i=new Map;for(const s of e){if(i.has(s.name)){n.delete(s.name),OM(i,s.name,new Set).add(s.version);continue}s.version===r?n.add(s.name):(n.delete(s.name),OM(i,s.name,new Set).add(s.version))}if(i.size>0){const s=[`${Cc("[tldraw]",["bold","bgRed","textWhite"])} ${Cc("You have multiple versions of tldraw libraries installed. This can lead to bugs and unexpected behavior.",["textRed","bold"])}`,"",`The latest version you have installed is ${Cc(`v${r}`,["bold","textBlue"])}. The following libraries are on the latest version:`,...Array.from(n,l=>`    ${Cc(l,["bold"])}`),"","The following libraries are not on the latest version, or have multiple versions installed:",...Array.from(i,([l,u])=>{const c=Array.from(u).sort(TZ).map(A=>Cc(`v${A}`,A===r?["textGreen"]:["textRed"]));return`    ${Cc(l,["bold"])} (${c.join(", ")})`})];console.log(s.join(`
`)),t.didWarn=!0;return}const a=new Map;for(const s of e)OM(a,s.name,{version:s.version,modules:[]}).modules.push(s.modules);const o=new Map;for(const[s,l]of a)l.modules.length>1&&o.set(s,l);if(o.size>0){const s=[`${Cc("[tldraw]",["bold","bgRed","textWhite"])} ${Cc("You have multiple instances of some tldraw libraries active. This can lead to bugs and unexpected behavior. ",["textRed","bold"])}`,"","This usually means that your bundler is misconfigured, and is importing the same library multiple times - usually once as an ES Module, and once as a CommonJS module.","","The following libraries have been imported multiple times:",...Array.from(o,([l,u])=>{const c=u.modules.map((A,d)=>A==="esm"?`      ${d+1}. ES Modules`:`      ${d+1}. CommonJS`).join(`
`);return`    ${Cc(l,["bold"])} v${u.version}: 
${c}`}),"","You should configure your bundler to only import one version of each library."];console.log(s.join(`
`)),t.didWarn=!0;return}}function TZ(t,e){const r=t.match(/^(\d+)\.(\d+)\.(\d+)(?:-(\w+))?$/),n=e.match(/^(\d+)\.(\d+)\.(\d+)(?:-(\w+))?$/);return!r||!n?t.localeCompare(e):r[1]!==n[1]?Number(r[1])-Number(n[1]):r[2]!==n[2]?Number(r[2])-Number(n[2]):r[3]!==n[3]?Number(r[3])-Number(n[3]):r[4]&&n[4]?r[4].localeCompare(n[4]):r[4]?1:n[4]?-1:0}const Ogt={bold:"1",textBlue:"94",textRed:"31",textGreen:"32",bgRed:"41",textWhite:"97"};function Cc(t,e=[]){return`\x1B[${e.map(r=>Ogt[r]).join(";")}m${t}\x1B[m`}function OM(t,e,r){return t.has(e)?t.get(e):(t.set(e,r),r)}var RM,OZ;function Rgt(){if(OZ)return RM;OZ=1;var t="Expected a function",e=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,l=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),A=Object.prototype,d=A.toString,f=Math.max,p=Math.min,g=function(){return c.Date.now()};function m(_,B,T){var R,P,M,U,F,j,L=0,$=!1,Q=!1,H=!0;if(typeof _!="function")throw new TypeError(t);B=x(B)||0,b(T)&&($=!!T.leading,Q="maxWait"in T,M=Q?f(x(T.maxWait)||0,B):M,H="trailing"in T?!!T.trailing:H);function q(oe){var re=R,se=P;return R=P=void 0,L=oe,U=_.apply(se,re),U}function Y(oe){return L=oe,F=setTimeout(X,B),$?q(oe):U}function z(oe){var re=oe-j,se=oe-L,he=B-re;return Q?p(he,M-se):he}function V(oe){var re=oe-j,se=oe-L;return j===void 0||re>=B||re<0||Q&&se>=M}function X(){var oe=g();if(V(oe))return ee(oe);F=setTimeout(X,z(oe))}function ee(oe){return F=void 0,H&&R?q(oe):(R=P=void 0,U)}function J(){F!==void 0&&clearTimeout(F),L=0,R=j=P=F=void 0}function le(){return F===void 0?U:ee(g())}function de(){var oe=g(),re=V(oe);if(R=arguments,P=this,j=oe,re){if(F===void 0)return Y(j);if(Q)return F=setTimeout(X,B),q(j)}return F===void 0&&(F=setTimeout(X,B)),U}return de.cancel=J,de.flush=le,de}function w(_,B,T){var R=!0,P=!0;if(typeof _!="function")throw new TypeError(t);return b(T)&&(R="leading"in T?!!T.leading:R,P="trailing"in T?!!T.trailing:P),m(_,B,{leading:R,maxWait:B,trailing:P})}function b(_){var B=typeof _;return!!_&&(B=="object"||B=="function")}function C(_){return!!_&&typeof _=="object"}function S(_){return typeof _=="symbol"||C(_)&&d.call(_)==r}function x(_){if(typeof _=="number")return _;if(S(_))return e;if(b(_)){var B=typeof _.valueOf=="function"?_.valueOf():_;_=b(B)?B+"":B}if(typeof _!="string")return _===0?_:+_;_=_.replace(n,"");var T=a.test(_);return T||o.test(_)?s(_.slice(2),T?2:8):i.test(_)?e:+_}return RM=w,RM}var Mgt=Rgt();const KOe=kr(Mgt);var MM,RZ;function Fgt(){if(RZ)return MM;RZ=1;var t=200,e="__lodash_hash_undefined__",r=1/0,n="[object Function]",i="[object GeneratorFunction]",a=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,l=typeof self=="object"&&self&&self.Object===Object&&self,u=s||l||Function("return this")();function c(Z,ie){var me=Z?Z.length:0;return!!me&&d(Z,ie,0)>-1}function A(Z,ie,me,Te){for(var qe=Z.length,pe=me+-1;++pe<qe;)if(ie(Z[pe],pe,Z))return pe;return-1}function d(Z,ie,me){if(ie!==ie)return A(Z,f,me);for(var Te=me-1,qe=Z.length;++Te<qe;)if(Z[Te]===ie)return Te;return-1}function f(Z){return Z!==Z}function p(Z,ie){return Z.has(ie)}function g(Z,ie){return Z==null?void 0:Z[ie]}function m(Z){var ie=!1;if(Z!=null&&typeof Z.toString!="function")try{ie=!!(Z+"")}catch{}return ie}function w(Z){var ie=-1,me=Array(Z.size);return Z.forEach(function(Te){me[++ie]=Te}),me}var b=Array.prototype,C=Function.prototype,S=Object.prototype,x=u["__core-js_shared__"],_=function(){var Z=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),B=C.toString,T=S.hasOwnProperty,R=S.toString,P=RegExp("^"+B.call(T).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=b.splice,U=Ie(u,"Map"),F=Ie(u,"Set"),j=Ie(Object,"create");function L(Z){var ie=-1,me=Z?Z.length:0;for(this.clear();++ie<me;){var Te=Z[ie];this.set(Te[0],Te[1])}}function $(){this.__data__=j?j(null):{}}function Q(Z){return this.has(Z)&&delete this.__data__[Z]}function H(Z){var ie=this.__data__;if(j){var me=ie[Z];return me===e?void 0:me}return T.call(ie,Z)?ie[Z]:void 0}function q(Z){var ie=this.__data__;return j?ie[Z]!==void 0:T.call(ie,Z)}function Y(Z,ie){var me=this.__data__;return me[Z]=j&&ie===void 0?e:ie,this}L.prototype.clear=$,L.prototype.delete=Q,L.prototype.get=H,L.prototype.has=q,L.prototype.set=Y;function z(Z){var ie=-1,me=Z?Z.length:0;for(this.clear();++ie<me;){var Te=Z[ie];this.set(Te[0],Te[1])}}function V(){this.__data__=[]}function X(Z){var ie=this.__data__,me=De(ie,Z);if(me<0)return!1;var Te=ie.length-1;return me==Te?ie.pop():M.call(ie,me,1),!0}function ee(Z){var ie=this.__data__,me=De(ie,Z);return me<0?void 0:ie[me][1]}function J(Z){return De(this.__data__,Z)>-1}function le(Z,ie){var me=this.__data__,Te=De(me,Z);return Te<0?me.push([Z,ie]):me[Te][1]=ie,this}z.prototype.clear=V,z.prototype.delete=X,z.prototype.get=ee,z.prototype.has=J,z.prototype.set=le;function de(Z){var ie=-1,me=Z?Z.length:0;for(this.clear();++ie<me;){var Te=Z[ie];this.set(Te[0],Te[1])}}function oe(){this.__data__={hash:new L,map:new(U||z),string:new L}}function re(Z){return it(this,Z).delete(Z)}function se(Z){return it(this,Z).get(Z)}function he(Z){return it(this,Z).has(Z)}function ae(Z,ie){return it(this,Z).set(Z,ie),this}de.prototype.clear=oe,de.prototype.delete=re,de.prototype.get=se,de.prototype.has=he,de.prototype.set=ae;function Ee(Z){var ie=-1,me=Z?Z.length:0;for(this.__data__=new de;++ie<me;)this.add(Z[ie])}function Oe(Z){return this.__data__.set(Z,e),this}function Ne(Z){return this.__data__.has(Z)}Ee.prototype.add=Ee.prototype.push=Oe,Ee.prototype.has=Ne;function De(Z,ie){for(var me=Z.length;me--;)if(ot(Z[me][0],ie))return me;return-1}function Le(Z){if(!kt(Z)||Be(Z))return!1;var ie=$e(Z)||m(Z)?P:o;return ie.test(tt(Z))}function st(Z,ie,me){var Te=-1,qe=c,pe=Z.length,rt=!0,_t=[],Fe=_t;if(pe>=t){var Ge=ut(Z);if(Ge)return w(Ge);rt=!1,qe=p,Fe=new Ee}else Fe=_t;e:for(;++Te<pe;){var Xe=Z[Te],et=Xe;if(Xe=Xe!==0?Xe:0,rt&&et===et){for(var Tt=Fe.length;Tt--;)if(Fe[Tt]===et)continue e;_t.push(Xe)}else qe(Fe,et,me)||(Fe!==_t&&Fe.push(et),_t.push(Xe))}return _t}var ut=F&&1/w(new F([,-0]))[1]==r?function(Z){return new F(Z)}:Nt;function it(Z,ie){var me=Z.__data__;return be(ie)?me[typeof ie=="string"?"string":"hash"]:me.map}function Ie(Z,ie){var me=g(Z,ie);return Le(me)?me:void 0}function be(Z){var ie=typeof Z;return ie=="string"||ie=="number"||ie=="symbol"||ie=="boolean"?Z!=="__proto__":Z===null}function Be(Z){return!!_&&_ in Z}function tt(Z){if(Z!=null){try{return B.call(Z)}catch{}try{return Z+""}catch{}}return""}function ct(Z){return Z&&Z.length?st(Z):[]}function ot(Z,ie){return Z===ie||Z!==Z&&ie!==ie}function $e(Z){var ie=kt(Z)?R.call(Z):"";return ie==n||ie==i}function kt(Z){var ie=typeof Z;return!!Z&&(ie=="object"||ie=="function")}function Nt(){}return MM=ct,MM}var kgt=Fgt();const Ugt=kr(kgt);function zOe(t){const e=(...r)=>{try{return t(...r)}catch(n){throw n instanceof Error&&Error.captureStackTrace&&Error.captureStackTrace(n,e),n}};return e}const bw=()=>{},id={ok(t){return{ok:!0,value:t}},err(t){return{ok:!1,error:t}}};function Pi(t,e){const r=e&&t&&typeof t=="object"&&e in t?t[e]:t;throw new Error(`Unknown switch case ${r}`)}const fr=zOe((t,e)=>{if(!t)throw new Error(e||"Assertion Error")}),ko=zOe((t,e)=>{if(t==null)throw new Error(e??"value must be defined");return t});function o5(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return Object.assign(r,{resolve:t,reject:e})}function ZQ(t){return new Promise(e=>setTimeout(e,t))}const Jv={Good:"#40C057",Mid:"#FFC078",Poor:"#E03131"},Dgt=Jv.Good;class WOe{constructor(){K(this,"startTime",0);K(this,"name","");K(this,"frames",0);K(this,"started",!1);K(this,"frame",null);K(this,"recordFrame",()=>{this.frames++,this.started&&(this.frame=requestAnimationFrame(this.recordFrame))})}start(e){this.name=e,this.frames=0,this.started=!0,this.frame!==null&&cancelAnimationFrame(this.frame),this.frame=requestAnimationFrame(this.recordFrame),this.startTime=performance.now()}stop(){this.started=!1,this.frame!==null&&cancelAnimationFrame(this.frame);const e=(performance.now()-this.startTime)/1e3,r=e===0?0:Math.floor(this.frames/e),n=r>55?Jv.Good:r>30?Jv.Mid:Jv.Poor,i=n===Jv.Mid?"black":"white",a=this.name[0].toUpperCase()+this.name.slice(1);console.debug(`%cPerf%c ${a} %c${r}%c fps`,`color: white; background: ${Dgt};padding: 2px;border-radius: 3px;`,"font-weight: normal",`font-weight: bold; padding: 2px; background: ${n};color: ${i};`,"font-weight: normal")}isStarted(){return this.started}}function s5(t,e){const r=[];e:for(const n of t){for(const i of r)if(e?e(n,i):n===i)continue e;r.push(n)}return r}function sr(t){return t.filter(e=>e!=null)}function Aa(t){return t[t.length-1]}function jgt(t,e){let r,n=1/0;for(const i of t){const a=e(i);a<n&&(r=i,n=a)}return r}function Lgt(t,e){let r,n=-1/0;for(const i of t){const a=e(i);a>n&&(r=i,n=a)}return r}function GOe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Object.is(t[r],e[r]))return!1;return!0}function FM(t,e,r){const n=new Set(e.map(a=>a[t])),i=[];for(const a of r)n.has(a[t])||i.push(a);for(const a of e)i.push(a);return i}function Lo(...t){if(t.length===2){const[e,r]=t;r.addInitializer(function(){fr(Reflect.isExtensible(this),"Cannot bind to a non-extensible class.");const i=e.bind(this),a=Reflect.defineProperty(this,r.name,{value:i,writable:!0,configurable:!0});fr(a,"Cannot bind a non-configurable class method.")})}else{const[e,r,n]=t;if(!n||typeof n.value!="function")throw new TypeError(`Only methods can be decorated with @bind. <${r}> is not a method!`);return{configurable:!0,get(){const i=n.value.bind(this);return Object.defineProperty(this,r,{value:i,configurable:!0,writable:!0}),i}}}}class zl{constructor(){K(this,"items",new WeakMap)}get(e,r){return this.items.has(e)||this.items.set(e,r(e)),this.items.get(e)}}function l5(t,e){let r;const n=(...i)=>(r||(r={},r.promise=new Promise((a,o)=>{r.resolve=a,r.reject=o})),clearTimeout(r.timeout),r.latestArgs=i,r.timeout=setTimeout(()=>{const a=r;r=void 0;try{a.resolve(t(...a.latestArgs))}catch(o){a.reject(o)}},e),r.promise);return n.cancel=()=>{r&&clearTimeout(r.timeout)},n}const MZ=new WeakMap;function u5(t,e){if(typeof t!="object"||t===null)return;let r=MZ.get(t);r||(r={tags:{},extras:{}},MZ.set(t,r)),e.tags&&(r.tags={...r.tags,...e.tags}),e.extras&&(r.extras={...r.extras,...e.extras})}async function Lu(t,e){return window.fetch(t,{referrerPolicy:"strict-origin-when-cross-origin",...e})}const Sw=(t,e)=>{const r=new window.Image(t,e);return r.referrerPolicy="strict-origin-when-cross-origin",r};class zs{static async dataUrlToArrayBuffer(e){return Lu(e).then(function(r){return r.arrayBuffer()})}static async blobToDataUrl(e){return await new Promise((r,n)=>{if(e){const i=new FileReader;i.onload=()=>r(i.result),i.onerror=a=>n(a),i.onabort=a=>n(a),i.readAsDataURL(e)}})}static async blobToText(e){return await new Promise((r,n)=>{if(e){const i=new FileReader;i.onload=()=>r(i.result),i.onerror=a=>n(a),i.onabort=a=>n(a),i.readAsText(e)}})}static rewriteMimeType(e,r){return e.type===r?e:e instanceof File?new File([e],e.name,{type:r}):new Blob([e],{type:r})}}function c5(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e+""}function VOe(t){const e=new DataView(t);let r=0;for(let n=0;n<e.byteLength;n++)r=(r<<5)-r+e.getUint8(n),r|=0;return r+""}/*!
 * MIT License: https://github.com/ai/nanoid/blob/main/LICENSE
 * Modified code originally from <https://github.com/ai/nanoid>
 * Copyright 2017 Andrey Sitnik <andrey@sitnik.ru>
 *
 * `nanoid` is currently only distributed as an ES module. Some tools (jest, playwright) don't
 * properly support ESM-only code yet, and tldraw itself is distributed as both an ES module and a
 * CommonJS module. By including nanoid here, we can make sure it works well in every environment
 * where tldraw is used. We can also remove some unused features like custom alphabets.
 */const FZ=globalThis.crypto,Ngt="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",$gt=128;let vf,Up;function Qgt(t){!vf||vf.length<t?(vf=new Uint8Array(t*$gt),FZ.getRandomValues(vf),Up=0):Up+t>vf.length&&(FZ.getRandomValues(vf),Up=0),Up+=t}function Hgt(t=21){Qgt(t-=0);let e="";for(let r=Up-t;r<Up;r++)e+=Ngt[vf[r]&63];return e}let qgt=Hgt;function Xr(t){return qgt(t)}/*!
 * MIT License: https://github.com/vHeemstra/is-apng/blob/main/license
 * Copyright (c) Philip van Heemstra
 */function Kgt(t){const e=new Uint8Array(t);if(!e||!(typeof Buffer<"u"&&Buffer.isBuffer(e)||e instanceof Uint8Array)||e.length<16||!(e[0]===137&&e[1]===80&&e[2]===78&&e[3]===71&&e[4]===13&&e[5]===10&&e[6]===26&&e[7]===10))return!1;function n(a,o,s,l,u=1024){if(!o)return-1;o=new RegExp(o,"g");const c=o.source.length,A=new TextDecoder,d=a.length;if(typeof l>"u"&&(l=d),s>=d||l<=0||s>=l)return-1;a=a.subarray(s,l);let f=-1,p=0,g=0,m="";e:for(;p<a.length;){const w=p+u,b=a.subarray(p,w),C=A.decode(b,{stream:!0}),S=m+C;let x,_=-1;for(;(x=o.exec(S))!==null;){_=x.index-m.length,f=g+_;break e}p=w,g+=C.length;const B=_>-1?_+c:C.length-c;m=C.slice(B)}return f>=0&&(f+=s>=0?s:d+s),f}const i=n(e,"IDAT",12);return i>=12?n(e,"acTL",8,i)>=8:!1}const zgt=t=>new Uint8Array(t)[3]===44;/*!
 * MIT License
 * Modified code originally from <https://github.com/qzb/is-animated>
 * Copyright (c) 2016 Jzef Sokoowski <j.k.sokolowski@gmail.com>
 */function kZ(t,e){let r=0;for(;t[e+r];)r+=t[e+r]+1;return r+1}function Wgt(t){return new TextDecoder("ascii").decode(t.slice(0,3))==="GIF"}function Ggt(t){const e=new Uint8Array(t);let r,n,i=0,a=0;if(!Wgt(t))return!1;for(r=e[10]&128,n=e[10]&7,i+=6,i+=7,i+=r?3*Math.pow(2,n+1):0;a<2&&i<e.length;)switch(e[i]){case 44:a+=1,r=e[i+9]&128,n=e[i+9]&7,i+=10,i+=r?3*Math.pow(2,n+1):0,i+=kZ(e,i+1)+1;break;case 33:i+=2,i+=kZ(e,i);break;case 59:i=e.length;break;default:i=e.length;break}return a>1}/*!
 * MIT License: https://github.com/alexgorbatchev/crc/blob/master/LICENSE
 * Copyright: 2014 Alex Gorbatchev
 * Code: crc32, https://github.com/alexgorbatchev/crc/blob/master/src/calculators/crc32.ts
 */let e4=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(e4=new Int32Array(e4));const Vgt=(t,e)=>{let r=-1;for(let n=0;n<t.length;n++)r=e4[(r^t[n])&255]^r>>>8;return r^-1},UZ=4,DZ=4;class Cu{static isPng(e,r){return e.getUint8(r+0)===137&&e.getUint8(r+1)===80&&e.getUint8(r+2)===78&&e.getUint8(r+3)===71&&e.getUint8(r+4)===13&&e.getUint8(r+5)===10&&e.getUint8(r+6)===26&&e.getUint8(r+7)===10}static getChunkType(e,r){return[String.fromCharCode(e.getUint8(r)),String.fromCharCode(e.getUint8(r+1)),String.fromCharCode(e.getUint8(r+2)),String.fromCharCode(e.getUint8(r+3))].join("")}static readChunks(e,r=0){const n={};if(!Cu.isPng(e,r))throw new Error("Not a PNG");for(r+=8;r<=e.buffer.byteLength;){const i=r,a=e.getInt32(r);r+=4;const o=Cu.getChunkType(e,r);if(o==="IDAT"&&n[o]){r+=a+UZ+DZ;continue}if(o==="IEND")break;n[o]={start:i,dataOffset:r+4,size:a},r+=a+UZ+DZ}return n}static parsePhys(e,r){return{ppux:e.getUint32(r),ppuy:e.getUint32(r+4),unit:e.getUint8(r+4)}}static findChunk(e,r){return Cu.readChunks(e)[r]}static setPhysChunk(e,r=1,n){let i=46,a=0;const o=Cu.findChunk(e,"pHYs");o&&(i=o.start,a=o.size);const s=Cu.findChunk(e,"IDAT");s&&(i=s.start,a=0);const l=new ArrayBuffer(21),u=new DataView(l);u.setUint32(0,9),u.setUint8(4,112),u.setUint8(5,72),u.setUint8(6,89),u.setUint8(7,115);const c=2835.5;u.setInt32(8,c*r),u.setInt32(12,c*r),u.setInt8(16,1);const A=new Uint8Array(l.slice(4,17));u.setInt32(17,Vgt(A));const d=e.buffer.slice(0,i),f=e.buffer.slice(i+a);return new Blob([d,l,f],n)}}/*!
 * MIT License: https://github.com/sindresorhus/is-webp/blob/main/license
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 */function Ygt(t){return!t||t.length<12?!1:t[8]===87&&t[9]===69&&t[10]===66&&t[11]===80}function Xgt(t){const e=new Uint8Array(t);return!Ygt(e)||!e||e.length<21?!1:(e[20]>>1&1)===1}const YOe=Object.freeze(["image/svg+xml"]),XOe=Object.freeze(["image/jpeg","image/png","image/webp"]),JOe=Object.freeze(["image/gif","image/apng","image/avif"]),lb=Object.freeze([...XOe,...YOe,...JOe]),xE=Object.freeze(["video/mp4","video/webm","video/quicktime"]),Jgt=[...lb,...xE].join(",");class ss{static loadVideo(e){return new Promise((r,n)=>{const i=document.createElement("video");i.onloadeddata=()=>r(i),i.onerror=a=>{console.error(a),n(new Error("Could not load video"))},i.crossOrigin="anonymous",i.src=e})}static async getVideoFrameAsDataUrl(e,r=0){const n=o5();let i=!1;const a=()=>{if(!i)if(e.readyState>=e.HAVE_METADATA)i=!0,e.currentTime=r;else return;if(e.readyState>=e.HAVE_CURRENT_DATA){const s=document.createElement("canvas");s.width=e.videoWidth,s.height=e.videoHeight;const l=s.getContext("2d");if(!l)throw new Error("Could not get 2d context");l.drawImage(e,0,0),n.resolve(s.toDataURL())}},o=s=>{console.error(s),n.reject(new Error("Could not get video frame"))};e.addEventListener("loadedmetadata",a),e.addEventListener("loadeddata",a),e.addEventListener("canplay",a),e.addEventListener("seeked",a),e.addEventListener("error",o),e.addEventListener("stalled",o),a();try{return await n}finally{e.removeEventListener("loadedmetadata",a),e.removeEventListener("loadeddata",a),e.removeEventListener("canplay",a),e.removeEventListener("seeked",a),e.removeEventListener("error",o),e.removeEventListener("stalled",o)}}static loadImage(e){return new Promise((r,n)=>{const i=Sw();i.onload=()=>r(i),i.onerror=a=>{console.error(a),n(new Error("Could not load image"))},i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.src=e})}static async getVideoSize(e){return ss.usingObjectURL(e,async r=>{const n=await ss.loadVideo(r);return{w:n.videoWidth,h:n.videoHeight}})}static async getImageSize(e){const r=await ss.usingObjectURL(e,ss.loadImage);try{if(e.type==="image/png"){const n=new DataView(await e.arrayBuffer());if(Cu.isPng(n,0)){const i=Cu.findChunk(n,"pHYs");if(i){const a=Cu.parsePhys(n,i.dataOffset);if(a.unit===0&&a.ppux===a.ppuy){const s=Math.max(a.ppux/2834.645669291339,1);return{w:Math.round(r.naturalWidth/s),h:Math.round(r.naturalHeight/s)}}}}}}catch(n){return console.error(n),{w:r.naturalWidth,h:r.naturalHeight}}return{w:r.naturalWidth,h:r.naturalHeight}}static async isAnimated(e){return e.type==="image/gif"?Ggt(await e.arrayBuffer()):e.type==="image/avif"?zgt(await e.arrayBuffer()):e.type==="image/webp"?Xgt(await e.arrayBuffer()):e.type==="image/apng"?Kgt(await e.arrayBuffer()):!1}static isAnimatedImageType(e){return JOe.includes(e||"")}static isStaticImageType(e){return XOe.includes(e||"")}static isVectorImageType(e){return YOe.includes(e||"")}static isImageType(e){return lb.includes(e)}static async usingObjectURL(e,r){const n=URL.createObjectURL(e);try{return await r(n)}finally{URL.revokeObjectURL(n)}}}function wr(t,e,r){return t+(e-t)*r}function Wl(t=""){let e=0,r=0,n=0,i=0;function a(){const o=e^e<<11;return e=r,r=n,n=i,i^=(i>>>19^o^o>>>8)>>>0,i/4294967296*2}for(let o=0;o<t.length+64;o++)e^=t.charCodeAt(o)|0,a();return a}function Ig(t,e,r,n=!1){const[i,a]=e,[o,s]=r,l=o+(t-i)/(a-i)*(s-o);return n?o<s?Math.max(Math.min(l,s),o):Math.max(Math.min(l,o),s):l}function Xs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qa(t,e){if(Xs(t,e))return t[e]}function Zgt(t){return Object.keys(t)}function _i(t){return Object.values(t)}function cs(t){return Object.entries(t)}function ZOe(t){return Object.fromEntries(t)}function wy(t,e){const r={};let n=!1;for(const[i,a]of cs(t))e(i,a)?r[i]=a:n=!0;return n?r:t}function ub(t,e){const r={};for(const[n,i]of cs(t)){const a=e(n,i);r[n]=a}return r}function eRe(t,e){if(t===e)return!0;const r=new Set(Object.keys(t)),n=new Set(Object.keys(e));if(r.size!==n.size)return!1;for(const i of r)if(!n.has(i)||!Object.is(t[i],e[i]))return!1;return!0}function emt(t){const e=tmt(t.chars),r=rmt(e,t.firstPositive,t.mostPositive,t.mostNegative),n=t.jitterRange??Math.floor(Math.pow(e.length,3)/5),i=nmt(n,e.length);return{chars:t.chars,byChar:e.byChar,byCode:e.byCode,length:e.length,first:e.byCode[0],last:e.byCode[e.length-1],firstPositive:r.firstPositive,mostPositive:r.mostPositive,firstNegative:r.firstNegative,mostNegative:r.mostNegative,jitterRange:n,paddingDict:i}}function tmt(t){const e={},r={},n=t.length;for(let i=0;i<n;i++){const a=t[i];e[i]=a,r[a]=i}return{byCode:e,byChar:r,length:n}}function rmt(t,e,r,n){const i=e?t.byChar[e]:Math.ceil(t.length/2),a=r?t.byChar[r]:t.length-1,o=n?t.byChar[n]:0;if(i===void 0||a===void 0||o===void 0)throw new Error("invalid charSet");if(a-i<3)throw new Error("mostPositive must be at least 3 characters away from neutral");if(i-o<3)throw new Error("mostNegative must be at least 3 characters away from neutral");return{firstPositive:t.byCode[i],mostPositive:t.byCode[a],firstNegative:t.byCode[i-1],mostNegative:t.byCode[o]}}function nmt(t,e){const r={};for(let n=0;n<100&&(r[n]=Math.pow(e,n),!(r[n]>t));n++);return r}var kM=null;function A5(){return kM||(kM=emt({chars:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",firstPositive:"a",mostPositive:"z",mostNegative:"A"}))}function YA(t,e,r){const n=r.byChar[t],i=r.byChar[e];return Math.abs(n-i)}function d5(t,e){const r=t[0];if(r>e.mostPositive||r<e.mostNegative)throw new Error("invalid firstChar on key");return r===e.mostPositive?YA(r,e.firstPositive,e)+1+BC(t.slice(1),"positive",e):r===e.mostNegative?YA(r,e.firstNegative,e)+1+BC(t.slice(1),"negative",e):r>=e.firstPositive?YA(r,e.firstPositive,e)+2:YA(r,e.firstNegative,e)+2}function BC(t,e,r){const n=t[0];if(n>r.mostPositive||n<r.mostNegative)throw new Error("invalid firstChar on key");return n===r.mostPositive&&e==="positive"?YA(n,r.mostNegative,r)+1+BC(t.slice(1),e,r):n===r.mostNegative&&e==="negative"?YA(n,r.mostPositive,r)+1+BC(t.slice(1),e,r):e==="positive"?YA(n,r.mostNegative,r)+2:YA(n,r.mostPositive,r)+2}function CE(t,e,r,n,i){const a=Math.max(t.length,e.length);return r==="start"?[t.padStart(a,n),e.padStart(a,n)]:[t.padEnd(a,n),e.padEnd(a,n)]}function imt(t,e,r){let[n,i]=CE(t,e,"end",r.first),a=t4(n,i,r);a===1&&(n=n.padEnd(n.length+1,r.first),a=r.length);const o=nRe(Math.floor(a/2),r);return f5(n,o,r)}function t4(t,e,r){const[n,i]=CE(t,e,"end",r.first).sort(),a=tRe(i,n,r);return amt(a,r)}function f5(t,e,r){const n=r.length,[i,a]=CE(t,e,"start",r.first),o=[];let s=0;for(let l=i.length-1;l>=0;l--){const u=r.byChar[i[l]],c=r.byChar[a[l]],A=u+c+s;s=Math.floor(A/n);const d=A%n;o.unshift(r.byCode[d])}return s>0&&o.unshift(r.byCode[s]),o.join("")}function tRe(t,e,r){const n=r.length,[i,a]=CE(t,e,"start",r.first),o=[];let s=0;for(let l=i.length-1;l>=0;l--){let u=r.byChar[i[l]];const c=r.byChar[a[l]]+s;u<c?(s=1,u+=n):s=0;const A=u-c;o.unshift(r.byCode[A])}if(s>0)throw new Error("Subtraction result is negative. Ensure a is greater than or equal to b.");for(;o.length>1&&o[0]===r.byCode[0];)o.shift();return o.join("")}function rRe(t,e){return f5(t,e.byCode[1],e)}function r4(t,e){return tRe(t,e.byCode[1],e)}function nRe(t,e){if(t===0)return e.byCode[0];let r="";const n=e.length;for(;t>0;)r=e.byCode[t%n]+r,t=Math.floor(t/n);return r}function amt(t,e){let r=0;const n=t.length,i=e.length;for(let a=0;a<n;a++)r+=e.byChar[t[a]]*Math.pow(i,n-a-1);return r}function omt(t){return t.firstPositive+t.byCode[0]}function smt(t,e){return d5(t,e)===t.length}function jZ(t,e){PC(t,e)}function PC(t,e){const r=oRe(t,e),n=d5(r,e);if(n>t.length)throw new Error("invalid order key length: "+t);return t.slice(0,n)}function iRe(t,e){if(!smt(t,e))throw new Error("invalid integer length: "+t)}function aRe(t,e){iRe(t,e);const[r,n]=sRe(t,e);if(n.split("").some(o=>o!==e.byCode[e.length-1])){const o=rRe(n,e);return r+o}const a=umt(r,e);return lRe(a,"lower",e)}function lmt(t,e){iRe(t,e);const[r,n]=sRe(t,e);if(n.split("").some(o=>o!==e.byCode[0])){const o=r4(n,e);return r+o}const a=cmt(r,e);return lRe(a,"upper",e)}function oRe(t,e){let r=0;if(t[0]===e.mostPositive)for(;t[r]===e.mostPositive;)r=r+1;if(t[0]===e.mostNegative)for(;t[r]===e.mostNegative;)r=r+1;return t.slice(0,r+1)}function sRe(t,e){const r=oRe(t,e),n=t.slice(r.length);return[r,n]}function umt(t,e){const r=t>=e.firstPositive,n=rRe(t,e),i=t[t.length-1]===e.mostPositive,a=n[n.length-1]===e.mostPositive;return r&&a?n+e.mostNegative:!r&&i?t.slice(0,t.length-1):n}function cmt(t,e){const r=t>=e.firstPositive,n=t[t.length-1]===e.mostNegative;if(r&&n){const i=t.slice(0,t.length-1);return r4(i,e)}return!r&&n?t+e.mostPositive:r4(t,e)}function lRe(t,e,r){const n=d5(t,r),i=e==="upper"?r.byCode[r.length-1]:r.byCode[0];return t+i.repeat(n-t.length)}function uRe(t,e){const r=nRe(Math.floor(Math.random()*e.jitterRange),e);return f5(t,r,e)}function Amt(t,e,r){const n=t.padEnd(t.length+e,r.first);return uRe(n,r)}function dmt(t,e,r){const n=PC(t,r),i=aRe(n,r);let a=0;if(e!==null){const s=t4(t,e,r);s<r.jitterRange+1&&(a=Math.max(a,LZ(s,r)))}const o=t4(t,i,r);return o<r.jitterRange+1&&(a=Math.max(a,LZ(o,r))),a}function LZ(t,e){const r=e.jitterRange-t,n=Object.entries(e.paddingDict).find(([i,a])=>a>r);return n?parseInt(n[0]):0}function fmt(t,e,r=A5()){if(t!==null&&jZ(t,r),e!==null&&jZ(e,r),t===null&&e===null)return omt(r);if(t===null){const n=PC(e,r);return lmt(n,r)}if(e===null){const n=PC(t,r);return aRe(n,r)}if(t>=e)throw new Error(t+" >= "+e);return imt(t,e,r)}function cRe(t,e,r=A5()){const n=fmt(t,e,r),i=dmt(n,e,r);return i?Amt(n,i,r):uRe(n,r)}function ARe(t,e,r,n=A5()){return hmt(t,e,r,n,cRe,ARe)}function hmt(t,e,r,n,i,a){if(r===0)return[];if(r===1)return[i(t,e,n)];if(e==null){let l=i(t,e,n);const u=[l];for(let c=0;c<r-1;c++)l=i(l,e,n),u.push(l);return u}if(t==null){let l=i(t,e,n);const u=[l];for(let c=0;c<r-1;c++)l=i(t,l,n),u.push(l);return u.reverse(),u}const o=Math.floor(r/2),s=i(t,e,n);return[...a(t,s,o,n),s,...a(s,e,r-o-1,n)]}const Jg=ARe,dRe="a0";function pmt(t){try{cRe(t,null)}catch{throw new Error("invalid index: "+t)}}function Bg(t,e,r){return Jg(t??null,e??null,r)}function UM(t,e){return Jg(t??null,null,e)}function xw(t,e){return Jg(t??null,e??null,1)[0]}function Iu(t=null){return Jg(t,null,1)[0]}function gmt(t=null){return Jg(null,t,1)[0]}function Cw(t,e="a1"){return[e,...Jg(e,null,t)]}function Qa(t,e){return t.index<e.index?-1:t.index>e.index?1:0}function mmt(t,e){return t.id>e.id?1:-1}function h5(t){try{return localStorage.getItem(t)}catch{return null}}function p5(t,e){try{localStorage.setItem(t,e)}catch{}}function vmt(){try{localStorage.clear()}catch{}}function fRe(t){try{return sessionStorage.getItem(t)}catch{return null}}function g5(t,e){try{sessionStorage.setItem(t,e)}catch{}}function hRe(t){try{sessionStorage.removeItem(t)}catch{}}function ymt(){try{sessionStorage.clear()}catch{}}const Dp=[],wmt=60,Mx=Math.ceil(1e3/wmt);let xv,DM=0,n4=0;const bmt=()=>{const t=Dp.splice(0,Dp.length);for(const e of t)e()};function pRe(){if(xv)return;const t=Date.now(),e=t-n4;if(DM+e<Mx){xv=requestAnimationFrame(()=>{xv=void 0,pRe()});return}xv=requestAnimationFrame(()=>{xv=void 0,n4=t,DM=Math.min(DM+e-Mx,Mx*10),bmt()})}let NZ=!1;function gRe(t){return Dp.includes(t)||(Dp.push(t),NZ||(NZ=!0,n4=Date.now()-Mx-1),pRe()),()=>{const e=Dp.indexOf(t);e>-1&&Dp.splice(e,1)}}class Smt{constructor(){K(this,"timeouts",new Map);K(this,"intervals",new Map);K(this,"rafs",new Map);this.setTimeout=this.setTimeout.bind(this),this.setInterval=this.setInterval.bind(this),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.dispose=this.dispose.bind(this)}setTimeout(e,r,n,...i){const a=window.setTimeout(r,n,i),o=this.timeouts.get(e)??[];return this.timeouts.set(e,[...o,a]),a}setInterval(e,r,n,...i){const a=window.setInterval(r,n,i),o=this.intervals.get(e)??[];return this.intervals.set(e,[...o,a]),a}requestAnimationFrame(e,r){const n=window.requestAnimationFrame(r),i=this.rafs.get(e)??[];return this.rafs.set(e,[...i,n]),n}dispose(e){var r,n,i;(r=this.timeouts.get(e))==null||r.forEach(a=>clearTimeout(a)),(n=this.intervals.get(e))==null||n.forEach(a=>clearInterval(a)),(i=this.rafs.get(e))==null||i.forEach(a=>cancelAnimationFrame(a)),this.timeouts.delete(e),this.intervals.delete(e),this.rafs.delete(e)}disposeAll(){for(const e of this.timeouts.keys())this.dispose(e)}forContext(e){return{setTimeout:(r,n,...i)=>this.setTimeout(e,r,n,i),setInterval:(r,n,...i)=>this.setInterval(e,r,n,i),requestAnimationFrame:r=>this.requestAnimationFrame(e,r),dispose:()=>this.dispose(e)}}}const Yt=(t,e)=>{try{return new URL(t,e)}catch{return}};function xmt(t){return t!==void 0}function Cmt(){return typeof globalThis<"u"&&globalThis.structuredClone?[globalThis.structuredClone,!0]:typeof global<"u"&&global.structuredClone?[global.structuredClone,!0]:typeof window<"u"&&window.structuredClone?[window.structuredClone,!0]:[t=>t&&JSON.parse(JSON.stringify(t)),!1]}const mRe=Cmt(),On=mRe[0];mRe[1];const _mt=Object.getPrototypeOf(On({}));Id("@tldraw/utils","3.9.0","esm");var $Z={},Cv,QZ;function lt(){if(QZ)return Cv;QZ=1;var t=function(e){return e&&e.Math===Math&&e};return Cv=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof Xi=="object"&&Xi)||t(typeof Cv=="object"&&Cv)||function(){return this}()||Function("return this")(),Cv}var jM={},LM,HZ;function Ve(){return HZ||(HZ=1,LM=function(t){try{return!!t()}catch{return!0}}),LM}var NM,qZ;function Ft(){if(qZ)return NM;qZ=1;var t=Ve();return NM=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),NM}var $M,KZ;function cb(){if(KZ)return $M;KZ=1;var t=Ve();return $M=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),$M}var QM,zZ;function ft(){if(zZ)return QM;zZ=1;var t=cb(),e=Function.prototype.call;return QM=t?e.bind(e):function(){return e.apply(e,arguments)},QM}var HM={},WZ;function _E(){if(WZ)return HM;WZ=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return HM.f=r?function(i){var a=e(this,i);return!!a&&a.enumerable}:t,HM}var qM,GZ;function vs(){return GZ||(GZ=1,qM=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),qM}var KM,VZ;function ke(){if(VZ)return KM;VZ=1;var t=cb(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return KM=t?n:function(i){return function(){return r.apply(i,arguments)}},KM}var zM,YZ;function Va(){if(YZ)return zM;YZ=1;var t=ke(),e=t({}.toString),r=t("".slice);return zM=function(n){return r(e(n),8,-1)},zM}var WM,XZ;function Bd(){if(XZ)return WM;XZ=1;var t=ke(),e=Ve(),r=Va(),n=Object,i=t("".split);return WM=e(function(){return!n("z").propertyIsEnumerable(0)})?function(a){return r(a)==="String"?i(a,""):n(a)}:n,WM}var GM,JZ;function ji(){return JZ||(JZ=1,GM=function(t){return t==null}),GM}var VM,ZZ;function xn(){if(ZZ)return VM;ZZ=1;var t=ji(),e=TypeError;return VM=function(r){if(t(r))throw new e("Can't call method on "+r);return r},VM}var YM,eee;function Li(){if(eee)return YM;eee=1;var t=Bd(),e=xn();return YM=function(r){return t(e(r))},YM}var XM,tee;function rr(){if(tee)return XM;tee=1;var t=typeof document=="object"&&document.all;return XM=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},XM}var JM,ree;function Vt(){if(ree)return JM;ree=1;var t=rr();return JM=function(e){return typeof e=="object"?e!==null:t(e)},JM}var ZM,nee;function qt(){if(nee)return ZM;nee=1;var t=lt(),e=rr(),r=function(n){return e(n)?n:void 0};return ZM=function(n,i){return arguments.length<2?r(t[n]):t[n]&&t[n][i]},ZM}var eF,iee;function Ya(){if(iee)return eF;iee=1;var t=ke();return eF=t({}.isPrototypeOf),eF}var tF,aee;function Xu(){if(aee)return tF;aee=1;var t=lt(),e=t.navigator,r=e&&e.userAgent;return tF=r?String(r):"",tF}var rF,oee;function Ju(){if(oee)return rF;oee=1;var t=lt(),e=Xu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,a=i&&i.v8,o,s;return a&&(o=a.split("."),s=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!s&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(s=+o[1]))),rF=s,rF}var nF,see;function sh(){if(see)return nF;see=1;var t=Ju(),e=Ve(),r=lt(),n=r.String;return nF=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),nF}var iF,lee;function vRe(){if(lee)return iF;lee=1;var t=sh();return iF=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",iF}var aF,uee;function Pd(){if(uee)return aF;uee=1;var t=qt(),e=rr(),r=Ya(),n=vRe(),i=Object;return aF=n?function(a){return typeof a=="symbol"}:function(a){var o=t("Symbol");return e(o)&&r(o.prototype,i(a))},aF}var oF,cee;function lh(){if(cee)return oF;cee=1;var t=String;return oF=function(e){try{return t(e)}catch{return"Object"}},oF}var sF,Aee;function Kt(){if(Aee)return sF;Aee=1;var t=rr(),e=lh(),r=TypeError;return sF=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},sF}var lF,dee;function yi(){if(dee)return lF;dee=1;var t=Kt(),e=ji();return lF=function(r,n){var i=r[n];return e(i)?void 0:t(i)},lF}var uF,fee;function yRe(){if(fee)return uF;fee=1;var t=ft(),e=rr(),r=Vt(),n=TypeError;return uF=function(i,a){var o,s;if(a==="string"&&e(o=i.toString)&&!r(s=t(o,i))||e(o=i.valueOf)&&!r(s=t(o,i))||a!=="string"&&e(o=i.toString)&&!r(s=t(o,i)))return s;throw new n("Can't convert object to primitive value")},uF}var cF={exports:{}},AF,hee;function cr(){return hee||(hee=1,AF=!1),AF}var dF,pee;function m5(){if(pee)return dF;pee=1;var t=lt(),e=Object.defineProperty;return dF=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},dF}var gee;function EE(){if(gee)return cF.exports;gee=1;var t=cr(),e=lt(),r=m5(),n="__core-js_shared__",i=cF.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.41.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"}),cF.exports}var fF,mee;function Td(){if(mee)return fF;mee=1;var t=EE();return fF=function(e,r){return t[e]||(t[e]=r||{})},fF}var hF,vee;function Ar(){if(vee)return hF;vee=1;var t=xn(),e=Object;return hF=function(r){return e(t(r))},hF}var pF,yee;function or(){if(yee)return pF;yee=1;var t=ke(),e=Ar(),r=t({}.hasOwnProperty);return pF=Object.hasOwn||function(i,a){return r(e(i),a)},pF}var gF,wee;function uh(){if(wee)return gF;wee=1;var t=ke(),e=0,r=Math.random(),n=t(1 .toString);return gF=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},gF}var mF,bee;function Lt(){if(bee)return mF;bee=1;var t=lt(),e=Td(),r=or(),n=uh(),i=sh(),a=vRe(),o=t.Symbol,s=e("wks"),l=a?o.for||o:o&&o.withoutSetter||n;return mF=function(u){return r(s,u)||(s[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),s[u]},mF}var vF,See;function IE(){if(See)return vF;See=1;var t=ft(),e=Vt(),r=Pd(),n=yi(),i=yRe(),a=Lt(),o=TypeError,s=a("toPrimitive");return vF=function(l,u){if(!e(l)||r(l))return l;var c=n(l,s),A;if(c){if(u===void 0&&(u="default"),A=t(c,l,u),!e(A)||r(A))return A;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},vF}var yF,xee;function aA(){if(xee)return yF;xee=1;var t=IE(),e=Pd();return yF=function(r){var n=t(r,"string");return e(n)?n:n+""},yF}var wF,Cee;function BE(){if(Cee)return wF;Cee=1;var t=lt(),e=Vt(),r=t.document,n=e(r)&&e(r.createElement);return wF=function(i){return n?r.createElement(i):{}},wF}var bF,_ee;function wRe(){if(_ee)return bF;_ee=1;var t=Ft(),e=Ve(),r=BE();return bF=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),bF}var Eee;function ya(){if(Eee)return jM;Eee=1;var t=Ft(),e=ft(),r=_E(),n=vs(),i=Li(),a=aA(),o=or(),s=wRe(),l=Object.getOwnPropertyDescriptor;return jM.f=t?l:function(c,A){if(c=i(c),A=a(A),s)try{return l(c,A)}catch{}if(o(c,A))return n(!e(r.f,c,A),c[A])},jM}var SF={},xF,Iee;function bRe(){if(Iee)return xF;Iee=1;var t=Ft(),e=Ve();return xF=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),xF}var CF,Bee;function At(){if(Bee)return CF;Bee=1;var t=Vt(),e=String,r=TypeError;return CF=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},CF}var Pee;function fn(){if(Pee)return SF;Pee=1;var t=Ft(),e=wRe(),r=bRe(),n=At(),i=aA(),a=TypeError,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return SF.f=t?r?function(d,f,p){if(n(d),f=i(f),n(p),typeof d=="function"&&f==="prototype"&&"value"in p&&c in p&&!p[c]){var g=s(d,f);g&&g[c]&&(d[f]=p.value,p={configurable:u in p?p[u]:g[u],enumerable:l in p?p[l]:g[l],writable:!1})}return o(d,f,p)}:o:function(d,f,p){if(n(d),f=i(f),n(p),e)try{return o(d,f,p)}catch{}if("get"in p||"set"in p)throw new a("Accessors not supported");return"value"in p&&(d[f]=p.value),d},SF}var _F,Tee;function Ni(){if(Tee)return _F;Tee=1;var t=Ft(),e=fn(),r=vs();return _F=t?function(n,i,a){return e.f(n,i,r(1,a))}:function(n,i,a){return n[i]=a,n},_F}var EF={exports:{}},IF,Oee;function Zg(){if(Oee)return IF;Oee=1;var t=Ft(),e=or(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),a=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return IF={EXISTS:i,PROPER:a,CONFIGURABLE:o},IF}var BF,Ree;function PE(){if(Ree)return BF;Ree=1;var t=ke(),e=rr(),r=EE(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),BF=r.inspectSource,BF}var PF,Mee;function SRe(){if(Mee)return PF;Mee=1;var t=lt(),e=rr(),r=t.WeakMap;return PF=e(r)&&/native code/.test(String(r)),PF}var TF,Fee;function TE(){if(Fee)return TF;Fee=1;var t=Td(),e=uh(),r=t("keys");return TF=function(n){return r[n]||(r[n]=e(n))},TF}var OF,kee;function Ab(){return kee||(kee=1,OF={}),OF}var RF,Uee;function Qr(){if(Uee)return RF;Uee=1;var t=SRe(),e=lt(),r=Vt(),n=Ni(),i=or(),a=EE(),o=TE(),s=Ab(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,A,d,f,p=function(b){return f(b)?d(b):A(b,{})},g=function(b){return function(C){var S;if(!r(C)||(S=d(C)).type!==b)throw new u("Incompatible receiver, "+b+" required");return S}};if(t||a.state){var m=a.state||(a.state=new c);m.get=m.get,m.has=m.has,m.set=m.set,A=function(b,C){if(m.has(b))throw new u(l);return C.facade=b,m.set(b,C),C},d=function(b){return m.get(b)||{}},f=function(b){return m.has(b)}}else{var w=o("state");s[w]=!0,A=function(b,C){if(i(b,w))throw new u(l);return C.facade=b,n(b,w,C),C},d=function(b){return i(b,w)?b[w]:{}},f=function(b){return i(b,w)}}return RF={set:A,get:d,has:f,enforce:p,getterFor:g},RF}var Dee;function OE(){if(Dee)return EF.exports;Dee=1;var t=ke(),e=Ve(),r=rr(),n=or(),i=Ft(),a=Zg().CONFIGURABLE,o=PE(),s=Qr(),l=s.enforce,u=s.get,c=String,A=Object.defineProperty,d=t("".slice),f=t("".replace),p=t([].join),g=i&&!e(function(){return A(function(){},"length",{value:8}).length!==8}),m=String(String).split("String"),w=EF.exports=function(b,C,S){d(c(C),0,7)==="Symbol("&&(C="["+f(c(C),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),S&&S.getter&&(C="get "+C),S&&S.setter&&(C="set "+C),(!n(b,"name")||a&&b.name!==C)&&(i?A(b,"name",{value:C,configurable:!0}):b.name=C),g&&S&&n(S,"arity")&&b.length!==S.arity&&A(b,"length",{value:S.arity});try{S&&n(S,"constructor")&&S.constructor?i&&A(b,"prototype",{writable:!1}):b.prototype&&(b.prototype=void 0)}catch{}var x=l(b);return n(x,"source")||(x.source=p(m,typeof C=="string"?C:"")),b};return Function.prototype.toString=w(function(){return r(this)&&u(this).source||o(this)},"toString"),EF.exports}var MF,jee;function Vr(){if(jee)return MF;jee=1;var t=rr(),e=fn(),r=OE(),n=m5();return MF=function(i,a,o,s){s||(s={});var l=s.enumerable,u=s.name!==void 0?s.name:a;if(t(o)&&r(o,u,s),s.global)l?i[a]=o:n(a,o);else{try{s.unsafe?i[a]&&(l=!0):delete i[a]}catch{}l?i[a]=o:e.f(i,a,{value:o,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return i},MF}var FF={},kF,Lee;function xRe(){if(Lee)return kF;Lee=1;var t=Math.ceil,e=Math.floor;return kF=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},kF}var UF,Nee;function Mn(){if(Nee)return UF;Nee=1;var t=xRe();return UF=function(e){var r=+e;return r!==r||r===0?0:t(r)},UF}var DF,$ee;function Zu(){if($ee)return DF;$ee=1;var t=Mn(),e=Math.max,r=Math.min;return DF=function(n,i){var a=t(n);return a<0?e(a+i,0):r(a,i)},DF}var jF,Qee;function ys(){if(Qee)return jF;Qee=1;var t=Mn(),e=Math.min;return jF=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},jF}var LF,Hee;function br(){if(Hee)return LF;Hee=1;var t=ys();return LF=function(e){return t(e.length)},LF}var NF,qee;function db(){if(qee)return NF;qee=1;var t=Li(),e=Zu(),r=br(),n=function(i){return function(a,o,s){var l=t(a),u=r(l);if(u===0)return!i&&-1;var c=e(s,u),A;if(i&&o!==o){for(;u>c;)if(A=l[c++],A!==A)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===o)return i||c||0;return!i&&-1}};return NF={includes:n(!0),indexOf:n(!1)},NF}var $F,Kee;function CRe(){if(Kee)return $F;Kee=1;var t=ke(),e=or(),r=Li(),n=db().indexOf,i=Ab(),a=t([].push);return $F=function(o,s){var l=r(o),u=0,c=[],A;for(A in l)!e(i,A)&&e(l,A)&&a(c,A);for(;s.length>u;)e(l,A=s[u++])&&(~n(c,A)||a(c,A));return c},$F}var QF,zee;function v5(){return zee||(zee=1,QF=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),QF}var Wee;function ch(){if(Wee)return FF;Wee=1;var t=CRe(),e=v5(),r=e.concat("length","prototype");return FF.f=Object.getOwnPropertyNames||function(i){return t(i,r)},FF}var HF={},Gee;function RE(){return Gee||(Gee=1,HF.f=Object.getOwnPropertySymbols),HF}var qF,Vee;function y5(){if(Vee)return qF;Vee=1;var t=qt(),e=ke(),r=ch(),n=RE(),i=At(),a=e([].concat);return qF=t("Reflect","ownKeys")||function(s){var l=r.f(i(s)),u=n.f;return u?a(l,u(s)):l},qF}var KF,Yee;function em(){if(Yee)return KF;Yee=1;var t=or(),e=y5(),r=ya(),n=fn();return KF=function(i,a,o){for(var s=e(a),l=n.f,u=r.f,c=0;c<s.length;c++){var A=s[c];!t(i,A)&&!(o&&t(o,A))&&l(i,A,u(a,A))}},KF}var zF,Xee;function fb(){if(Xee)return zF;Xee=1;var t=Ve(),e=rr(),r=/#|\.prototype\./,n=function(l,u){var c=a[i(l)];return c===s?!0:c===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},a=n.data={},o=n.NATIVE="N",s=n.POLYFILL="P";return zF=n,zF}var WF,Jee;function G(){if(Jee)return WF;Jee=1;var t=lt(),e=ya().f,r=Ni(),n=Vr(),i=m5(),a=em(),o=fb();return WF=function(s,l){var u=s.target,c=s.global,A=s.stat,d,f,p,g,m,w;if(c?f=t:A?f=t[u]||i(u,{}):f=t[u]&&t[u].prototype,f)for(p in l){if(m=l[p],s.dontCallGetSet?(w=e(f,p),g=w&&w.value):g=f[p],d=o(c?p:u+(A?".":"#")+p,s.forced),!d&&g!==void 0){if(typeof m==typeof g)continue;a(m,g)}(s.sham||g&&g.sham)&&r(m,"sham",!0),n(f,p,m,s)}},WF}var GF={},VF,Zee;function tm(){if(Zee)return VF;Zee=1;var t=CRe(),e=v5();return VF=Object.keys||function(n){return t(n,e)},VF}var ete;function w5(){if(ete)return GF;ete=1;var t=Ft(),e=bRe(),r=fn(),n=At(),i=Li(),a=tm();return GF.f=t&&!e?Object.defineProperties:function(s,l){n(s);for(var u=i(l),c=a(l),A=c.length,d=0,f;A>d;)r.f(s,f=c[d++],u[f]);return s},GF}var YF,tte;function _Re(){if(tte)return YF;tte=1;var t=qt();return YF=t("document","documentElement"),YF}var XF,rte;function wi(){if(rte)return XF;rte=1;var t=At(),e=w5(),r=v5(),n=Ab(),i=_Re(),a=BE(),o=TE(),s=">",l="<",u="prototype",c="script",A=o("IE_PROTO"),d=function(){},f=function(b){return l+c+s+b+l+"/"+c+s},p=function(b){b.write(f("")),b.close();var C=b.parentWindow.Object;return b=null,C},g=function(){var b=a("iframe"),C="java"+c+":",S;return b.style.display="none",i.appendChild(b),b.src=String(C),S=b.contentWindow.document,S.open(),S.write(f("document.F=Object")),S.close(),S.F},m,w=function(){try{m=new ActiveXObject("htmlfile")}catch{}w=typeof document<"u"?document.domain&&m?p(m):g():p(m);for(var b=r.length;b--;)delete w[u][r[b]];return w()};return n[A]=!0,XF=Object.create||function(C,S){var x;return C!==null?(d[u]=t(C),x=new d,d[u]=null,x[A]=C):x=w(),S===void 0?x:e.f(x,S)},XF}var JF,nte;function Vn(){if(nte)return JF;nte=1;var t=Lt(),e=wi(),r=fn().f,n=t("unscopables"),i=Array.prototype;return i[n]===void 0&&r(i,n,{configurable:!0,value:e(null)}),JF=function(a){i[n][a]=!0},JF}var ite;function b5(){if(ite)return $Z;ite=1;var t=G(),e=Ar(),r=br(),n=Mn(),i=Vn();return t({target:"Array",proto:!0},{at:function(o){var s=e(this),l=r(s),u=n(o),c=u>=0?u:l+u;return c<0||c>=l?void 0:s[c]}}),i("at"),$Z}var ZF,ate;function hb(){if(ate)return ZF;ate=1;var t=lt(),e=ke();return ZF=function(r,n){return e(t[r].prototype[n])},ZF}var ek,ote;function Emt(){if(ote)return ek;ote=1,b5();var t=hb();return ek=t("Array","at"),ek}var tk,ste;function Imt(){if(ste)return tk;ste=1;var t=Emt();return tk=t,tk}Imt();var lte={},rk,ute;function ec(){if(ute)return rk;ute=1;var t=Va();return rk=Array.isArray||function(r){return t(r)==="Array"},rk}var nk,cte;function Ah(){if(cte)return nk;cte=1;var t=TypeError,e=9007199254740991;return nk=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},nk}var ik,Ate;function dh(){if(Ate)return ik;Ate=1;var t=Va(),e=ke();return ik=function(r){if(t(r)==="Function")return e(r)},ik}var ak,dte;function sn(){if(dte)return ak;dte=1;var t=dh(),e=Kt(),r=cb(),n=t(t.bind);return ak=function(i,a){return e(i),a===void 0?i:r?n(i,a):function(){return i.apply(a,arguments)}},ak}var ok,fte;function ERe(){if(fte)return ok;fte=1;var t=ec(),e=br(),r=Ah(),n=sn(),i=function(a,o,s,l,u,c,A,d){for(var f=u,p=0,g=A?n(A,d):!1,m,w;p<l;)p in s&&(m=g?g(s[p],p,o):s[p],c>0&&t(m)?(w=e(m),f=i(a,o,m,w,f,c-1)-1):(r(f+1),a[f]=m),f++),p++;return f};return ok=i,ok}var sk,hte;function S5(){if(hte)return sk;hte=1;var t=Lt(),e=t("toStringTag"),r={};return r[e]="z",sk=String(r)==="[object z]",sk}var lk,pte;function Ho(){if(pte)return lk;pte=1;var t=S5(),e=rr(),r=Va(),n=Lt(),i=n("toStringTag"),a=Object,o=r(function(){return arguments}())==="Arguments",s=function(l,u){try{return l[u]}catch{}};return lk=t?r:function(l){var u,c,A;return l===void 0?"Undefined":l===null?"Null":typeof(c=s(u=a(l),i))=="string"?c:o?r(u):(A=r(u))==="Object"&&e(u.callee)?"Arguments":A},lk}var uk,gte;function tc(){if(gte)return uk;gte=1;var t=ke(),e=Ve(),r=rr(),n=Ho(),i=qt(),a=PE(),o=function(){},s=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(o),A=function(p){if(!r(p))return!1;try{return s(o,[],p),!0}catch{return!1}},d=function(p){if(!r(p))return!1;switch(n(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,a(p))}catch{return!0}};return d.sham=!0,uk=!s||e(function(){var f;return A(A.call)||!A(Object)||!A(function(){f=!0})||f})?d:A,uk}var ck,mte;function Bmt(){if(mte)return ck;mte=1;var t=ec(),e=tc(),r=Vt(),n=Lt(),i=n("species"),a=Array;return ck=function(o){var s;return t(o)&&(s=o.constructor,e(s)&&(s===a||t(s.prototype))?s=void 0:r(s)&&(s=s[i],s===null&&(s=void 0))),s===void 0?a:s},ck}var Ak,vte;function pb(){if(vte)return Ak;vte=1;var t=Bmt();return Ak=function(e,r){return new(t(e))(r===0?0:r)},Ak}var yte;function IRe(){if(yte)return lte;yte=1;var t=G(),e=ERe(),r=Kt(),n=Ar(),i=br(),a=pb();return t({target:"Array",proto:!0},{flatMap:function(s){var l=n(this),u=i(l),c;return r(s),c=a(l,0),c.length=e(c,l,l,u,0,1,s,arguments.length>1?arguments[1]:void 0),c}}),lte}var wte={},bte;function BRe(){if(bte)return wte;bte=1;var t=Vn();return t("flatMap"),wte}var dk,Ste;function Pmt(){if(Ste)return dk;Ste=1,IRe(),BRe();var t=hb();return dk=t("Array","flatMap"),dk}var fk,xte;function Tmt(){if(xte)return fk;xte=1;var t=Pmt();return fk=t,fk}Tmt();var Cte={},_te;function PRe(){if(_te)return Cte;_te=1;var t=G(),e=ERe(),r=Ar(),n=br(),i=Mn(),a=pb();return t({target:"Array",proto:!0},{flat:function(){var s=arguments.length?arguments[0]:void 0,l=r(this),u=n(l),c=a(l,0);return c.length=e(c,l,l,u,0,s===void 0?1:i(s)),c}}),Cte}var Ete={},Ite;function TRe(){if(Ite)return Ete;Ite=1;var t=Vn();return t("flat"),Ete}var hk,Bte;function Omt(){if(Bte)return hk;Bte=1,PRe(),TRe();var t=hb();return hk=t("Array","flat"),hk}var pk,Pte;function Rmt(){if(Pte)return pk;Pte=1;var t=Omt();return pk=t,pk}Rmt();var Tte={},gk,Ote;function Xt(){if(Ote)return gk;Ote=1;var t=Ho(),e=String;return gk=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},gk}var Rte;function ORe(){if(Rte)return Tte;Rte=1;var t=G(),e=ke(),r=xn(),n=Mn(),i=Xt(),a=Ve(),o=e("".charAt),s=a(function(){return"".at(-2)!=="\uD842"});return t({target:"String",proto:!0,forced:s},{at:function(u){var c=i(r(this)),A=c.length,d=n(u),f=d>=0?d:A+d;return f<0||f>=A?void 0:o(c,f)}}),Tte}var mk,Mte;function Mmt(){if(Mte)return mk;Mte=1,ORe();var t=hb();return mk=t("String","at"),mk}var vk,Fte;function Fmt(){if(Fte)return vk;Fte=1;var t=Mmt();return vk=t,vk}Fmt();var kte={},yk,Ute;function x5(){if(Ute)return yk;Ute=1;var t=At();return yk=function(){var e=t(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},yk}var wk,Dte;function ME(){if(Dte)return wk;Dte=1;var t=Ve(),e=lt(),r=e.RegExp,n=t(function(){var o=r("a","y");return o.lastIndex=2,o.exec("abcd")!==null}),i=n||t(function(){return!r("a","y").sticky}),a=n||t(function(){var o=r("^r","gy");return o.lastIndex=2,o.exec("str")!==null});return wk={BROKEN_CARET:a,MISSED_STICKY:i,UNSUPPORTED_Y:n},wk}var bk,jte;function C5(){if(jte)return bk;jte=1;var t=Ve(),e=lt(),r=e.RegExp;return bk=t(function(){var n=r(".","s");return!(n.dotAll&&n.test(`
`)&&n.flags==="s")}),bk}var Sk,Lte;function RRe(){if(Lte)return Sk;Lte=1;var t=Ve(),e=lt(),r=e.RegExp;return Sk=t(function(){var n=r("(?<a>b)","g");return n.exec("b").groups.a!=="b"||"b".replace(n,"$<a>c")!=="bc"}),Sk}var xk,Nte;function _5(){if(Nte)return xk;Nte=1;var t=ft(),e=ke(),r=Xt(),n=x5(),i=ME(),a=Td(),o=wi(),s=Qr().get,l=C5(),u=RRe(),c=a("native-string-replace",String.prototype.replace),A=RegExp.prototype.exec,d=A,f=e("".charAt),p=e("".indexOf),g=e("".replace),m=e("".slice),w=function(){var x=/a/,_=/b*/g;return t(A,x,"a"),t(A,_,"a"),x.lastIndex!==0||_.lastIndex!==0}(),b=i.BROKEN_CARET,C=/()??/.exec("")[1]!==void 0,S=w||C||b||l||u;return S&&(d=function(_){var B=this,T=s(B),R=r(_),P=T.raw,M,U,F,j,L,$,Q;if(P)return P.lastIndex=B.lastIndex,M=t(d,P,R),B.lastIndex=P.lastIndex,M;var H=T.groups,q=b&&B.sticky,Y=t(n,B),z=B.source,V=0,X=R;if(q&&(Y=g(Y,"y",""),p(Y,"g")===-1&&(Y+="g"),X=m(R,B.lastIndex),B.lastIndex>0&&(!B.multiline||B.multiline&&f(R,B.lastIndex-1)!==`
`)&&(z="(?: "+z+")",X=" "+X,V++),U=new RegExp("^(?:"+z+")",Y)),C&&(U=new RegExp("^"+z+"$(?!\\s)",Y)),w&&(F=B.lastIndex),j=t(A,q?U:B,X),q?j?(j.input=m(j.input,V),j[0]=m(j[0],V),j.index=B.lastIndex,B.lastIndex+=j[0].length):B.lastIndex=0:w&&j&&(B.lastIndex=B.global?j.index+j[0].length:F),C&&j&&j.length>1&&t(c,j[0],U,function(){for(L=1;L<arguments.length-2;L++)arguments[L]===void 0&&(j[L]=void 0)}),j&&H)for(j.groups=$=o(null),L=0;L<H.length;L++)Q=H[L],$[Q[0]]=j[Q[1]];return j}),xk=d,xk}var $te;function FE(){if($te)return kte;$te=1;var t=G(),e=_5();return t({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e}),kte}var Qte={},Ck,Hte;function ho(){if(Hte)return Ck;Hte=1;var t=cb(),e=Function.prototype,r=e.apply,n=e.call;return Ck=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Ck}var _k,qte;function kE(){if(qte)return _k;qte=1,FE();var t=ft(),e=Vr(),r=_5(),n=Ve(),i=Lt(),a=Ni(),o=i("species"),s=RegExp.prototype;return _k=function(l,u,c,A){var d=i(l),f=!n(function(){var w={};return w[d]=function(){return 7},""[l](w)!==7}),p=f&&!n(function(){var w=!1,b=/a/;return l==="split"&&(b={},b.constructor={},b.constructor[o]=function(){return b},b.flags="",b[d]=/./[d]),b.exec=function(){return w=!0,null},b[d](""),!w});if(!f||!p||c){var g=/./[d],m=u(d,""[l],function(w,b,C,S,x){var _=b.exec;return _===r||_===s.exec?f&&!x?{done:!0,value:t(g,b,C,S)}:{done:!0,value:t(w,C,b,S)}:{done:!1}});e(String.prototype,l,m[0]),e(s,d,m[1])}A&&a(s[d],"sham",!0)},_k}var Ek,Kte;function rm(){if(Kte)return Ek;Kte=1;var t=ke(),e=Mn(),r=Xt(),n=xn(),i=t("".charAt),a=t("".charCodeAt),o=t("".slice),s=function(l){return function(u,c){var A=r(n(u)),d=e(c),f=A.length,p,g;return d<0||d>=f?l?"":void 0:(p=a(A,d),p<55296||p>56319||d+1===f||(g=a(A,d+1))<56320||g>57343?l?i(A,d):p:l?o(A,d,d+2):(p-55296<<10)+(g-56320)+65536)}};return Ek={codeAt:s(!1),charAt:s(!0)},Ek}var Ik,zte;function UE(){if(zte)return Ik;zte=1;var t=rm().charAt;return Ik=function(e,r,n){return r+(n?t(e,r).length:1)},Ik}var Bk,Wte;function MRe(){if(Wte)return Bk;Wte=1;var t=ke(),e=Ar(),r=Math.floor,n=t("".charAt),i=t("".replace),a=t("".slice),o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;return Bk=function(l,u,c,A,d,f){var p=c+l.length,g=A.length,m=s;return d!==void 0&&(d=e(d),m=o),i(f,m,function(w,b){var C;switch(n(b,0)){case"$":return"$";case"&":return l;case"`":return a(u,0,c);case"'":return a(u,p);case"<":C=d[a(b,1,-1)];break;default:var S=+b;if(S===0)return w;if(S>g){var x=r(S/10);return x===0?w:x<=g?A[x-1]===void 0?n(b,1):A[x-1]+n(b,1):w}C=A[S-1]}return C===void 0?"":C})},Bk}var Pk,Gte;function gb(){if(Gte)return Pk;Gte=1;var t=ft(),e=At(),r=rr(),n=Va(),i=_5(),a=TypeError;return Pk=function(o,s){var l=o.exec;if(r(l)){var u=t(l,o,s);return u!==null&&e(u),u}if(n(o)==="RegExp")return t(i,o,s);throw new a("RegExp#exec called on incompatible receiver")},Pk}var Vte;function FRe(){if(Vte)return Qte;Vte=1;var t=ho(),e=ft(),r=ke(),n=kE(),i=Ve(),a=At(),o=rr(),s=ji(),l=Mn(),u=ys(),c=Xt(),A=xn(),d=UE(),f=yi(),p=MRe(),g=gb(),m=Lt(),w=m("replace"),b=Math.max,C=Math.min,S=r([].concat),x=r([].push),_=r("".indexOf),B=r("".slice),T=function(U){return U===void 0?U:String(U)},R=function(){return"a".replace(/./,"$0")==="$0"}(),P=function(){return/./[w]?/./[w]("a","$0")==="":!1}(),M=!i(function(){var U=/./;return U.exec=function(){var F=[];return F.groups={a:"7"},F},"".replace(U,"$<a>")!=="7"});return n("replace",function(U,F,j){var L=P?"$":"$0";return[function(Q,H){var q=A(this),Y=s(Q)?void 0:f(Q,w);return Y?e(Y,Q,q,H):e(F,c(q),Q,H)},function($,Q){var H=a(this),q=c($);if(typeof Q=="string"&&_(Q,L)===-1&&_(Q,"$<")===-1){var Y=j(F,H,q,Q);if(Y.done)return Y.value}var z=o(Q);z||(Q=c(Q));var V=H.global,X;V&&(X=H.unicode,H.lastIndex=0);for(var ee=[],J;J=g(H,q),!(J===null||(x(ee,J),!V));){var le=c(J[0]);le===""&&(H.lastIndex=d(q,u(H.lastIndex),X))}for(var de="",oe=0,re=0;re<ee.length;re++){J=ee[re];for(var se=c(J[0]),he=b(C(l(J.index),q.length),0),ae=[],Ee,Oe=1;Oe<J.length;Oe++)x(ae,T(J[Oe]));var Ne=J.groups;if(z){var De=S([se],ae,he,q);Ne!==void 0&&x(De,Ne),Ee=c(t(Q,void 0,De))}else Ee=p(se,q,he,ae,Ne,Q);he>=oe&&(de+=B(q,oe,he)+Ee,oe=he+se.length)}return de+B(q,oe)}]},!M||!R||P),Qte}var Yte={},Tk,Xte;function DE(){if(Xte)return Tk;Xte=1;var t=Vt(),e=Va(),r=Lt(),n=r("match");return Tk=function(i){var a;return t(i)&&((a=i[n])!==void 0?!!a:e(i)==="RegExp")},Tk}var Ok,Jte;function mb(){if(Jte)return Ok;Jte=1;var t=ft(),e=or(),r=Ya(),n=x5(),i=RegExp.prototype;return Ok=function(a){var o=a.flags;return o===void 0&&!("flags"in i)&&!e(a,"flags")&&r(i,a)?t(n,a):o},Ok}var Zte;function E5(){if(Zte)return Yte;Zte=1;var t=G(),e=ft(),r=ke(),n=xn(),i=rr(),a=ji(),o=DE(),s=Xt(),l=yi(),u=mb(),c=MRe(),A=Lt(),d=cr(),f=A("replace"),p=TypeError,g=r("".indexOf),m=r("".replace),w=r("".slice),b=Math.max;return t({target:"String",proto:!0},{replaceAll:function(S,x){var _=n(this),B,T,R,P,M,U,F,j,L,$,Q=0,H="";if(!a(S)){if(B=o(S),B&&(T=s(n(u(S))),!~g(T,"g")))throw new p("`.replaceAll` does not allow non-global regexes");if(R=l(S,f),R)return e(R,S,_,x);if(d&&B)return m(s(_),S,x)}for(P=s(_),M=s(S),U=i(x),U||(x=s(x)),F=M.length,j=b(1,F),L=g(P,M);L!==-1;)$=U?s(x(M,L,P)):c(M,P,L,[],void 0,x),H+=w(P,Q,L)+$,Q=L+F,L=L+j>P.length?-1:g(P,M,L+j);return Q<P.length&&(H+=w(P,Q)),H}}),Yte}var Rk,ere;function kmt(){if(ere)return Rk;ere=1,FE(),FRe(),E5();var t=hb();return Rk=t("String","replaceAll"),Rk}var Mk,tre;function Umt(){if(tre)return Mk;tre=1;var t=kmt();return Mk=t,Mk}Umt();function kRe(t){return t&&typeof t=="object"&&"parents"in t}function URe(t){for(let e=0,r=t.parents.length;e<r;e++)if(t.parents[e].__unsafe__getWithoutCapture(!0),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}function TC(t,e){if(t.children.remove(e)&&t.children.isEmpty&&kRe(t))for(let r=0,n=t.parents.length;r<n;r++)TC(t.parents[r],t)}function I5(t,e){if(t.children.add(e)&&kRe(t))for(let r=0,n=t.parents.length;r<n;r++)I5(t.parents[r],t)}function DRe(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function Od(t,e){const r=Symbol.for(`com.tldraw.state/${t}`),n=globalThis;return n[r]??(n[r]=e()),n[r]}const Nc=Od("empty_array",()=>Object.freeze([])),rre=8;class OC{constructor(){K(this,"arraySize",0);K(this,"array",Array(rre));K(this,"set",null)}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<rre?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const r=this.array.indexOf(e);return r===-1?!1:(this.array[r]=void 0,this.arraySize--,r!==this.arraySize&&(this.array[r]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let r=0;r<this.arraySize;r++){const n=this.array[r];typeof n<"u"&&e(n)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}has(e){return this.array?this.array.indexOf(e)!==-1:this.set.has(e)}clear(){this.set?this.set.clear():(this.arraySize=0,this.array=[])}size(){return this.set?this.set.size:this.arraySize}}const As=Symbol.for("com.tldraw.state/RESET_VALUE");class jRe{constructor(e){K(this,"index",0);K(this,"buffer");this.capacity=e,this.buffer=new Array(e)}pushEntry(e,r,n){if(n!==void 0){if(n===As){this.clear();return}this.buffer[this.index]=[e,r,n],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:r,capacity:n,buffer:i}=this;for(let a=0;a<n;a++){const o=(r-1+n-a)%n,s=i[o];if(!s)return As;const[l,u]=s;if(a===0&&e>=u)return[];if(l<=e&&e<u){const c=a+1,A=new Array(c);for(let d=0;d<c;d++)A[d]=i[(o+d)%n][2];return A}}return As}}class Dmt{constructor(e,r){K(this,"offset",0);K(this,"maybeRemoved");this.below=e,this.child=r}}const jn=Od("capture",()=>({stack:null}));function j0(t){const e=jn.stack;jn.stack=null;try{return t()}finally{jn.stack=e}}function LRe(t){jn.stack=new Dmt(jn.stack,t),t.parentSet.clear()}function NRe(){const t=jn.stack;if(jn.stack=t.below,t.offset<t.child.parents.length){for(let e=t.offset;e<t.child.parents.length;e++){const r=t.child.parents[e];t.child.parentSet.has(r)||TC(r,t.child)}t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset}if(t.maybeRemoved)for(let e=0;e<t.maybeRemoved.length;e++){const r=t.maybeRemoved[e];t.child.parentSet.has(r)||TC(r,t.child)}}function RC(t){if(jn.stack){if(jn.stack.child.parentSet.has(t))return;if(jn.stack.child.parentSet.add(t),jn.stack.child.isActivelyListening&&I5(t,jn.stack.child),jn.stack.offset<jn.stack.child.parents.length){const r=jn.stack.child.parents[jn.stack.offset];r!==t&&(jn.stack.maybeRemoved?jn.stack.maybeRemoved.push(r):jn.stack.maybeRemoved=[r])}jn.stack.child.parents[jn.stack.offset]=t,jn.stack.child.parentEpochs[jn.stack.offset]=t.lastChangedEpoch,jn.stack.offset++}}const XA=-1;class jmt{constructor(e,r,n){K(this,"_isActivelyListening",!1);K(this,"lastTraversedEpoch",XA);K(this,"lastReactedEpoch",XA);K(this,"_scheduleCount",0);K(this,"parentSet",new OC);K(this,"parentEpochs",[]);K(this,"parents",[]);K(this,"_scheduleEffect");K(this,"maybeExecute",()=>{this._isActivelyListening&&this.execute()});this.name=e,this.runEffect=r,this._scheduleEffect=n==null?void 0:n.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==Mo()){if(this.parents.length&&!URe(this)){this.lastReactedEpoch=Mo();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,r=this.parents.length;e<r;e++)I5(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,r=this.parents.length;e<r;e++)TC(this.parents[e],this)}execute(){try{LRe(this);const e=Mo(),r=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=e,r}finally{NRe()}}}const nm=Od("EffectScheduler",()=>jmt);function ku(t,e,r){const n=new nm(t,e,r);return n.attach(),n.scheduleEffect(),()=>{n.detach()}}function Lmt(t,e,r){const n=new nm(t,e,r);return{scheduler:n,start:i=>{const a=(i==null?void 0:i.force)??!1;n.attach(),a?n.scheduleEffect():n.maybeScheduleEffect()},stop:()=>{n.detach()}}}class Nmt{constructor(e){K(this,"initialAtomValues",new Map);this.parent=e}get isRoot(){return this.parent===null}commit(){if(Dr.globalIsReacting)for(const e of this.initialAtomValues.keys())QRe(e);else this.isRoot?$Re(this.initialAtomValues.keys()):this.initialAtomValues.forEach((e,r)=>{this.parent.initialAtomValues.has(r)||this.parent.initialAtomValues.set(r,e)})}abort(){Dr.globalEpoch++,this.initialAtomValues.forEach((e,r)=>{var n;r.set(e),(n=r.historyBuffer)==null||n.clear()}),this.commit()}}const Dr=Od("transactions",()=>({globalEpoch:XA+1,globalIsReacting:!1,currentTransaction:null,cleanupReactors:null,reactionEpoch:XA+1}));function $mt(){return Dr.reactionEpoch}function Mo(){return Dr.globalEpoch}function Qmt(){return Dr.globalIsReacting}function B5(t,e){e.lastTraversedEpoch!==Dr.globalEpoch&&(e.lastTraversedEpoch=Dr.globalEpoch,e instanceof nm?t.add(e):e.children.visit(r=>B5(t,r)))}function $Re(t){var r;if(Dr.globalIsReacting)throw new Error("flushChanges cannot be called during a reaction");const e=Dr.currentTransaction;try{Dr.currentTransaction=null,Dr.globalIsReacting=!0,Dr.reactionEpoch=Dr.globalEpoch;const n=new Set;for(const a of t)a.children.visit(o=>B5(n,o));for(const a of n)a.maybeScheduleEffect();let i=0;for(;(r=Dr.cleanupReactors)!=null&&r.size;){if(i++>1e3)throw new Error("Reaction update depth limit exceeded");const a=Dr.cleanupReactors;Dr.cleanupReactors=null;for(const o of a)o.maybeScheduleEffect()}}finally{Dr.cleanupReactors=null,Dr.globalIsReacting=!1,Dr.currentTransaction=e}}function Hmt(t,e){Dr.currentTransaction?Dr.currentTransaction.initialAtomValues.has(t)||Dr.currentTransaction.initialAtomValues.set(t,e):Dr.globalIsReacting?QRe(t):$Re([t])}function QRe(t){const e=Dr.cleanupReactors??(Dr.cleanupReactors=new Set);t.children.visit(r=>B5(e,r))}function qmt(){Dr.globalEpoch++}function Kmt(t){const e=new Nmt(Dr.currentTransaction);Dr.currentTransaction=e;try{let r,n=!1;try{r=t(()=>n=!0)}catch(i){throw e.abort(),i}return n?e.abort():e.commit(),r}finally{Dr.currentTransaction=Dr.currentTransaction.parent}}function Ao(t){return Dr.currentTransaction?t():Kmt(t)}class zmt{constructor(e,r,n){K(this,"isEqual");K(this,"computeDiff");K(this,"lastChangedEpoch",Mo());K(this,"children",new OC);K(this,"historyBuffer");this.name=e,this.current=r,this.isEqual=(n==null?void 0:n.isEqual)??null,n&&(n.historyLength&&(this.historyBuffer=new jRe(n.historyLength)),this.computeDiff=n.computeDiff)}__unsafe__getWithoutCapture(e){return this.current}get(){return RC(this),this.current}set(e,r){var i,a;if(((i=this.isEqual)==null?void 0:i.call(this,this.current,e))??DRe(this.current,e))return this.current;qmt(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,Mo(),r??((a=this.computeDiff)==null?void 0:a.call(this,this.current,e,this.lastChangedEpoch,Mo()))??As),this.lastChangedEpoch=Mo();const n=this.current;return this.current=e,Hmt(this,n),e}update(e){return this.set(e(this.current))}getDiffSince(e){var r;return RC(this),e>=this.lastChangedEpoch?Nc:((r=this.historyBuffer)==null?void 0:r.getChangesSince(e))??As}}const Wmt=Od("Atom",()=>zmt);function pi(t,e,r){return new Wmt(t,e,r)}let nre=!1;function Gmt(){nre||(nre=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const Ua=Symbol.for("com.tldraw.state/UNINITIALIZED");function Uf(t){return t===Ua}const i4=Od("WithDiff",()=>class{constructor(e,r){this.value=e,this.diff=r}});function Zv(t,e){return new i4(t,e)}class Vmt{constructor(e,r,n){K(this,"lastChangedEpoch",XA);K(this,"lastTraversedEpoch",XA);K(this,"lastCheckedEpoch",XA);K(this,"parentSet",new OC);K(this,"parents",[]);K(this,"parentEpochs",[]);K(this,"children",new OC);K(this,"historyBuffer");K(this,"state",Ua);K(this,"error",null);K(this,"computeDiff");K(this,"isEqual");this.name=e,this.derive=r,n!=null&&n.historyLength&&(this.historyBuffer=new jRe(n.historyLength)),this.computeDiff=n==null?void 0:n.computeDiff,this.isEqual=(n==null?void 0:n.isEqual)??DRe}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(e){var i;const r=this.lastChangedEpoch===XA,n=Mo();if(!r&&(this.lastCheckedEpoch===n||this.isActivelyListening&&Qmt()&&this.lastTraversedEpoch<$mt()||!URe(this)))if(this.lastCheckedEpoch=n,this.error){if(e)return this.state;throw this.error.thrownValue}else return this.state;try{LRe(this);const a=this.derive(this.state,this.lastCheckedEpoch),o=a instanceof i4?a.value:a,s=this.state===Ua;if(s||!this.isEqual(o,this.state)){if(this.historyBuffer&&!s){const l=a instanceof i4?a.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,Mo(),l??((i=this.computeDiff)==null?void 0:i.call(this,this.state,o,this.lastCheckedEpoch,Mo()))??As)}this.lastChangedEpoch=Mo(),this.state=o}return this.error=null,this.lastCheckedEpoch=Mo(),this.state}catch(a){if(this.state!==Ua&&(this.state=Ua,this.lastChangedEpoch=Mo()),this.lastCheckedEpoch=Mo(),this.historyBuffer&&this.historyBuffer.clear(),this.error={thrownValue:a},!e)throw a;return this.state}finally{NRe()}}get(){try{return this.__unsafe__getWithoutCapture()}finally{RC(this)}}getDiffSince(e){var r;return this.__unsafe__getWithoutCapture(!0),RC(this),e>=this.lastChangedEpoch?Nc:((r=this.historyBuffer)==null?void 0:r.getChangesSince(e))??As}}const jE=Od("Computed",()=>Vmt);function Ymt(t={},e,r,n){const i=n.value,a=Symbol.for("__@tldraw/state__computed__"+r);return n.value=function(){let o=this[a];return o||(o=new jE(r,i.bind(this),t),Object.defineProperty(this,a,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},n.value[HRe]=!0,n}function Xmt(t={},e,r,n){const i=n.get,a=Symbol.for("__@tldraw/state__computed__"+r);return n.get=function(){let o=this[a];return o||(o=new jE(r,i.bind(this),t),Object.defineProperty(this,a,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},n}function Jmt(t,e,r){fr(r.kind==="method","@computed can only be used on methods");const n=Symbol.for("__@tldraw/state__computed__"+String(r.name)),i=function(){let a=this[n];return a||(a=new jE(String(r.name),e.bind(this),t),Object.defineProperty(this,n,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()};return i[HRe]=!0,i}function ire(t={},e){if(e.length===2){const[r,n]=e;return Jmt(t,r,n)}else{const[r,n,i]=e;return i.get?(Gmt(),Xmt(t,r,n,i)):Ymt(t,r,n,i)}}const HRe="@@__isComputedMethod__@@";function je(){if(arguments.length===1){const t=arguments[0];return(...e)=>ire(t,e)}else return typeof arguments[0]=="string"?new jE(arguments[0],arguments[1],arguments[2]):ire(void 0,arguments)}const qRe=1,Zmt=Od("apiVersion",()=>qRe);if(Zmt!==qRe)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");Id("@tldraw/state","3.9.0","esm");function LE(t,e,r=[]){const n=ce.useRef(e);n.current=e;const[i,a,o]=ce.useMemo(()=>{let s=null;const l=A=>(s=A,()=>{s=null}),u=new nm(`useStateTracking(${t})`,()=>{var A;return(A=n.current)==null?void 0:A.call(n)},{scheduleEffect(){s==null||s()}});return[u,l,()=>u.scheduleCount]},[t,...r]);return ce.useSyncExternalStore(a,o,o),ce.useEffect(()=>(i.attach(),i.maybeScheduleEffect(),()=>{i.detach()}),[i]),i.execute()}const are={apply(t,e,r){return LE(t.displayName??t.name??"tracked(???)",()=>t.apply(e,r))}},evt=Symbol.for("react.memo"),tvt=Symbol.for("react.forward_ref");function wa(t){let e=null;const r=t.$$typeof;return r===evt&&(t=t.type,e=t.compare),r===tvt?I.memo(I.forwardRef(new Proxy(t.render,are))):I.memo(new Proxy(t,are),e)}function P5(t,e,r){return I.useState(()=>{const n=typeof e=="function"?e():e;return pi(`useAtom(${t})`,n,r)})[0]}function rvt(){const t=arguments[0],e=arguments[1],r=arguments.length===3?void 0:arguments[2],n=arguments.length===3?arguments[2]:arguments[3];return I.useMemo(()=>je(`useComputed(${t})`,e,r),n)}function ad(t,e,r=Nc){I.useEffect(()=>{const n=new nm(t,e);return n.attach(),n.execute(),()=>{n.detach()}},r)}function Ce(){const t=arguments,e=t.length===3?t[2]:[t[0]],r=t.length===3?t[0]:`useValue(${t[0].name})`,n=I.useRef(!0);n.current=!0;const i=I.useMemo(()=>t.length===1?t[0]:je(r,()=>{if(n.current)return t[1]();try{return t[1]()}catch{return{}}}),e);try{const{subscribe:a,getSnapshot:o}=I.useMemo(()=>({subscribe:s=>ku(`useValue(${r})`,()=>{i.get(),s()}),getSnapshot:()=>i.get()}),[i]);return I.useSyncExternalStore(a,o,o)}finally{n.current=!1}}Id("@tldraw/state-react","3.9.0","esm");const Ji={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:-1+(4-2*t)*t,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t<=0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t>=1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t<=0?0:t>=1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2};function Fr(t){return`${ye(t.x)},${ye(t.y)} `}function Uo(t,e){return`${ye((t.x+e.x)/2)},${ye((t.y+e.y)/2)} `}const Or=Math.PI,bn=Or/2,nn=Or*2,nvt=Math.sin;function sa(t,e,r){return Math.max(e,typeof r<"u"?Math.min(t,r):t)}function L0(t,e=1e10){return t?Math.round(t*e)/e:0}function od(t,e,r=1e-6){return Math.abs(t-e)<=r}function KRe(t,e){const r=Math.pow(t-e,2)/Math.pow(t+e,2);return Or*(t+e)*(1+3*r/(10+Math.sqrt(4-3*r)))}function Df(t){return t=t%nn,t<0?t=t+nn:t===0&&(t=0),t}function vb(t,e){return t=Df(t),e=Df(e),t>e&&(e+=nn),e-t}function zRe(t,e){return nn-vb(t,e)}function Fx(t,e){const r=(e-t)%nn;return 2*r%nn-r}function a4(t){return(nn+t)%nn}function MC(t,e){const r=nn/e;let n=Math.floor((a4(t)+r/2)/r)*r%nn;return n<Or&&(n+=nn),n>Or&&(n-=nn),n}function WRe(t,e){return t===e||od(t%(Math.PI/2)-e%(Math.PI/2),0)}function ivt(t){return t*Or/180}function avt(t){return t*180/Or}function Hf(t,e,r){return new k(t.x,t.y).add(k.FromAngle(r,e))}function Fk(t,e,r){const n=t/2,i=e/2,a=[];let o=1/0,s=-1/0,l=1/0,u=-1/0;for(let p=0;p<r;p++){const g=nn/r,m=-bn+p*g,w=n+n*Math.cos(m),b=i+i*Math.sin(m);w<o&&(o=w),b<l&&(l=b),w>s&&(s=w),b>u&&(u=b),a.push(new k(w,b))}const c=s-o,A=u-l,d=t-c,f=e-A;if(d!==0||f!==0)for(let p=0;p<a.length;p++){const g=a[p];g.x=(g.x-o)/c*t,g.y=(g.y-l)/A*e}return a}function _v(t,e,r,n){return t<n&&r<e}function El(t,e,r,n){const i=Math.max(t,r),a=Math.min(e,n);return i<=a?[i,a]:null}function ore(t,e,r){return(e.x-t.x)*(r.y-t.y)-(r.x-t.x)*(e.y-t.y)}function ds(t,e){let r=0,n,i;for(let a=0;a<e.length;a++){if(n=e[a],n.x===t.x&&n.y===t.y||(i=e[(a+1)%e.length],k.Dist(t,n)+k.Dist(t,i)===k.Dist(n,i)))return!0;n.y<=t.y?i.y>t.y&&ore(n,i,t)>0&&(r+=1):i.y<=t.y&&ore(n,i,t)<0&&(r-=1)}return r!==0}function ye(t){return Math.round(t*1e4)/1e4}function Oc(t){return Math.round(t*100)/100}const sre=t=>Math.abs(t)<Number.MAX_SAFE_INTEGER;function qA(t,e,r){return r<0?vb(t,e):zRe(t,e)}function o4(t,e,r,n){let i;if(Math.abs(t)>Or){i=Fx(e,n);const a=Fx(n,r);return Math.abs(i)<Math.abs(a)?i/t:(t-a)/t}else{i=Fx(e,n);const a=i/t;return Math.sign(i)!==Math.sign(t)?Math.abs(a)>.5?1:0:a}}function ovt(t,e,r,n){const i=2*((e-t)%nn)%nn-(e-t)%nn;return n?(nn-Math.abs(i))*(r?1:-1):i}function T5(t,e,r){const n=-2*(t.x*(e.y-r.y)-t.y*(e.x-r.x)+e.x*r.y-r.x*e.y),i=((t.x*t.x+t.y*t.y)*(r.y-e.y)+(e.x*e.x+e.y*e.y)*(t.y-r.y)+(r.x*r.x+r.y*r.y)*(e.y-t.y))/n,a=((t.x*t.x+t.y*t.y)*(e.x-r.x)+(e.x*e.x+e.y*e.y)*(r.x-t.x)+(r.x*r.x+r.y*r.y)*(t.x-e.x))/n;return!Number.isFinite(i)||!Number.isFinite(a)?null:new k(i,a)}function svt(t,e,r,n,i){if(r===null)return[k.From(t),k.From(e)];const a=[],o=k.Angle(r,t),s=k.Angle(r,e),l=vb(o,s);for(let u=0;u<i;u++){const c=u/(i-1),A=o+l*c,d=Hf(r,n,A);a.push(d)}return a}class k{constructor(e=0,r=0,n=1){this.x=e,this.y=r,this.z=n}get pressure(){return this.z}set(e=this.x,r=this.y,n=this.z){return this.x=e,this.y=r,this.z=n,this}setTo({x:e=0,y:r=0,z:n=1}){return this.x=e,this.y=r,this.z=n,this}rot(e){if(e===0)return this;const{x:r,y:n}=this,i=Math.sin(e),a=Math.cos(e);return this.x=r*a-n*i,this.y=r*i+n*a,this}rotWith(e,r){if(r===0)return this;const n=this.x-e.x,i=this.y-e.y,a=Math.sin(r),o=Math.cos(r);return this.x=e.x+(n*o-i*a),this.y=e.y+(n*a+i*o),this}clone(){const{x:e,y:r,z:n}=this;return new k(e,r,n)}sub(e){return this.x-=e.x,this.y-=e.y,this}subXY(e,r){return this.x-=e,this.y-=r,this}subScalar(e){return this.x-=e,this.y-=e,this}add(e){return this.x+=e.x,this.y+=e.y,this}addXY(e,r){return this.x+=e,this.y+=r,this}addScalar(e){return this.x+=e,this.y+=e,this}clamp(e,r){return this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),r!==void 0&&(this.x=Math.min(this.x,r),this.y=Math.min(this.y,r)),this}div(e){return this.x/=e,this.y/=e,this}divV(e){return this.x/=e.x,this.y/=e.y,this}mul(e){return this.x*=e,this.y*=e,this}mulV(e){return this.x*=e.x,this.y*=e.y,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}nudge(e,r){const n=k.Tan(e,this);return this.add(n.mul(r))}neg(){return this.x*=-1,this.y*=-1,this}cross(e){return this.x=this.y*e.z-this.z*e.y,this.y=this.z*e.x-this.x*e.z,this}dpr(e){return k.Dpr(this,e)}cpr(e){return k.Cpr(this,e)}len2(){return k.Len2(this)}len(){return k.Len(this)}pry(e){return k.Pry(this,e)}per(){const{x:e,y:r}=this;return this.x=r,this.y=-e,this}uni(){return k.Uni(this)}tan(e){return k.Tan(this,e)}dist(e){return k.Dist(this,e)}distanceToLineSegment(e,r){return k.DistanceToLineSegment(e,r,this)}slope(e){return k.Slope(this,e)}snapToGrid(e){return this.x=Math.round(this.x/e)*e,this.y=Math.round(this.y/e)*e,this}angle(e){return k.Angle(this,e)}toAngle(){return k.ToAngle(this)}lrp(e,r){return this.x=this.x+(e.x-this.x)*r,this.y=this.y+(e.y-this.y)*r,this}equals(e){return k.Equals(this,e)}equalsXY(e,r){return k.EqualsXY(this,e,r)}norm(){const e=this.len();return this.x=e===0?0:this.x/e,this.y=e===0?0:this.y/e,this}toFixed(){return k.ToFixed(this)}toString(){return k.ToString(k.ToFixed(this))}toJson(){return k.ToJson(this)}toArray(){return k.ToArray(this)}static Add(e,r){return new k(e.x+r.x,e.y+r.y)}static AddXY(e,r,n){return new k(e.x+r,e.y+n)}static Sub(e,r){return new k(e.x-r.x,e.y-r.y)}static SubXY(e,r,n){return new k(e.x-r,e.y-n)}static AddScalar(e,r){return new k(e.x+r,e.y+r)}static SubScalar(e,r){return new k(e.x-r,e.y-r)}static Div(e,r){return new k(e.x/r,e.y/r)}static Mul(e,r){return new k(e.x*r,e.y*r)}static DivV(e,r){return new k(e.x/r.x,e.y/r.y)}static MulV(e,r){return new k(e.x*r.x,e.y*r.y)}static Neg(e){return new k(-e.x,-e.y)}static Per(e){return new k(e.y,-e.x)}static Abs(e){return new k(Math.abs(e.x),Math.abs(e.y))}static Dist(e,r){return((e.y-r.y)**2+(e.x-r.x)**2)**.5}static DistMin(e,r,n){return(e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y)<n**2}static Dist2(e,r){return(e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y)}static Dpr(e,r){return e.x*r.x+e.y*r.y}static Cross(e,r){return new k(e.y*r.z-e.z*r.y,e.z*r.x-e.x*r.z)}static Cpr(e,r){return e.x*r.y-r.x*e.y}static Len2(e){return e.x*e.x+e.y*e.y}static Len(e){return(e.x*e.x+e.y*e.y)**.5}static Pry(e,r){return k.Dpr(e,r)/k.Len(r)}static Uni(e){return k.Div(e,k.Len(e))}static Tan(e,r){return k.Uni(k.Sub(e,r))}static Min(e,r){return new k(Math.min(e.x,r.x),Math.min(e.y,r.y))}static Max(e,r){return new k(Math.max(e.x,r.x),Math.max(e.y,r.y))}static From({x:e,y:r,z:n=1}){return new k(e,r,n)}static FromArray(e){return new k(e[0],e[1])}static Rot(e,r=0){const n=Math.sin(r),i=Math.cos(r);return new k(e.x*i-e.y*n,e.x*n+e.y*i)}static RotWith(e,r,n){const i=e.x-r.x,a=e.y-r.y,o=Math.sin(n),s=Math.cos(n);return new k(r.x+(i*s-a*o),r.y+(i*o+a*s))}static NearestPointOnLineThroughPoint(e,r,n){return k.Mul(r,k.Sub(n,e).pry(r)).add(e)}static NearestPointOnLineSegment(e,r,n,i=!0){if(k.Equals(e,n)||k.Equals(r,n))return k.From(n);const a=k.Tan(r,e),o=k.Add(e,k.Mul(a,k.Sub(n,e).pry(a)));if(i){if(o.x<Math.min(e.x,r.x))return k.Cast(e.x<r.x?e:r);if(o.x>Math.max(e.x,r.x))return k.Cast(e.x>r.x?e:r);if(o.y<Math.min(e.y,r.y))return k.Cast(e.y<r.y?e:r);if(o.y>Math.max(e.y,r.y))return k.Cast(e.y>r.y?e:r)}return o}static DistanceToLineThroughPoint(e,r,n){return k.Dist(n,k.NearestPointOnLineThroughPoint(e,r,n))}static DistanceToLineSegment(e,r,n,i=!0){return k.Dist(n,k.NearestPointOnLineSegment(e,r,n,i))}static Snap(e,r=1){return new k(Math.round(e.x/r)*r,Math.round(e.y/r)*r)}static Cast(e){return e instanceof k?e:k.From(e)}static Slope(e,r){return e.x===r.y?NaN:(e.y-r.y)/(e.x-r.x)}static IsNaN(e){return isNaN(e.x)||isNaN(e.y)}static Angle(e,r){return Math.atan2(r.y-e.y,r.x-e.x)}static Lrp(e,r,n){return k.Sub(r,e).mul(n).add(e)}static Med(e,r){return new k((e.x+r.x)/2,(e.y+r.y)/2)}static Equals(e,r){return Math.abs(e.x-r.x)<1e-4&&Math.abs(e.y-r.y)<1e-4}static EqualsXY(e,r,n){return e.x===r&&e.y===n}static Clockwise(e,r,n){return(n.x-e.x)*(r.y-e.y)-(r.x-e.x)*(n.y-e.y)<0}static Rescale(e,r){const n=k.Len(e);return new k(r*e.x/n,r*e.y/n)}static ScaleWithOrigin(e,r,n){return k.Sub(e,n).mul(r).add(n)}static ToFixed(e){return new k(Oc(e.x),Oc(e.y))}static ToInt(e){return new k(parseInt(e.x.toFixed(0)),parseInt(e.y.toFixed(0)),parseInt((e.z??0).toFixed(0)))}static ToCss(e){return`${e.x},${e.y}`}static Nudge(e,r,n){return k.Add(e,k.Tan(r,e).mul(n))}static ToString(e){return`${e.x}, ${e.y}`}static ToAngle(e){let r=Math.atan2(e.y,e.x);return r<0&&(r+=Math.PI*2),r}static FromAngle(e,r=1){return new k(Math.cos(e)*r,Math.sin(e)*r)}static ToArray(e){return[e.x,e.y,e.z]}static ToJson(e){const{x:r,y:n,z:i}=e;return{x:r,y:n,z:i}}static Average(e){const r=e.length,n=new k(0,0);if(r===0)return n;for(let i=0;i<r;i++)n.add(e[i]);return n.div(r)}static Clamp(e,r,n){return n===void 0?new k(Math.min(Math.max(e.x,r)),Math.min(Math.max(e.y,r))):new k(Math.min(Math.max(e.x,r),n),Math.min(Math.max(e.y,r),n))}static PointsBetween(e,r,n=6){const i=[];for(let a=0;a<n;a++){const o=Ji.easeInQuad(a/(n-1)),s=k.Lrp(e,r,o);s.z=Math.min(1,.5+Math.abs(.5-lvt(o))*.65),i.push(s)}return i}static SnapToGrid(e,r=8){return new k(Math.round(e.x/r)*r,Math.round(e.y/r)*r)}}const lvt=t=>t<.5?2*t*t:-1+(4-2*t)*t;function GRe(t,{initialBounds:e,scaleX:r,scaleY:n,newPoint:i,handle:a}){let o;switch(a){case"bottom_left":case"bottom_right":case"top_left":case"top_right":{o=Math.max(.01,Math.max(Math.abs(r),Math.abs(n)));break}case"left":case"right":{o=Math.max(.01,Math.abs(r));break}case"bottom":case"top":{o=Math.max(.01,Math.abs(n));break}default:throw Pi(a)}const s=new k(0,0);r<0&&(s.x=-(e.width*o)),n<0&&(s.y=-(e.height*o));const{x:l,y:u}=k.Add(i,s.rot(t.rotation));return{x:l,y:u,props:{scale:o*t.props.scale}}}const uvt=(t,e)=>e.some(r=>t instanceof r);let lre,ure;function cvt(){return lre||(lre=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Avt(){return ure||(ure=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VRe=new WeakMap,s4=new WeakMap,YRe=new WeakMap,kk=new WeakMap,O5=new WeakMap;function dvt(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r($c(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&VRe.set(r,t)}).catch(()=>{}),O5.set(e,t),e}function fvt(t){if(s4.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});s4.set(t,e)}let l4={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return s4.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YRe.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return $c(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hvt(t){l4=t(l4)}function pvt(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Uk(this),e,...r);return YRe.set(n,e.sort?e.sort():[e]),$c(n)}:Avt().includes(t)?function(...e){return t.apply(Uk(this),e),$c(VRe.get(this))}:function(...e){return $c(t.apply(Uk(this),e))}}function gvt(t){return typeof t=="function"?pvt(t):(t instanceof IDBTransaction&&fvt(t),uvt(t,cvt())?new Proxy(t,l4):t)}function $c(t){if(t instanceof IDBRequest)return dvt(t);if(kk.has(t))return kk.get(t);const e=gvt(t);return e!==t&&(kk.set(t,e),O5.set(e,t)),e}const Uk=t=>O5.get(t);function XRe(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=$c(o);return n&&o.addEventListener("upgradeneeded",l=>{n($c(o.result),l.oldVersion,l.newVersion,$c(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}function JRe(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),$c(r).then(()=>{})}const mvt=["get","getKey","getAll","getAllKeys","count"],vvt=["put","add","delete","clear"],Dk=new Map;function cre(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dk.get(e))return Dk.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=vvt.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||mvt.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return Dk.set(e,a),a}hvt(t=>({...t,get:(e,r,n)=>cre(e,r)||t.get(e,r,n),has:(e,r)=>!!cre(e,r)||t.has(e,r)}));const yvt="TLDRAW_DOCUMENT_v2",wvt="TLDRAW_ASSET_STORE_v1",ZRe="TLDRAW_DB_NAME_INDEX_v2",yr={Records:"records",Schema:"schema",SessionState:"session_state",Assets:"assets"};async function e2e(t){const e=yvt+t;return Svt(e),await XRe(e,4,{upgrade(r){r.objectStoreNames.contains(yr.Records)||r.createObjectStore(yr.Records),r.objectStoreNames.contains(yr.Schema)||r.createObjectStore(yr.Schema),r.objectStoreNames.contains(yr.SessionState)||r.createObjectStore(yr.SessionState),r.objectStoreNames.contains(yr.Assets)||r.createObjectStore(yr.Assets)}})}async function bvt(t){const e=window.indexedDB.databases?(await window.indexedDB.databases()).map(d=>d.name):R5(),r=wvt+t;if(!e.find(d=>d===r))return;const i=await XRe(r,1,{upgrade(d){d.objectStoreNames.contains("assets")||d.createObjectStore("assets")}});if(!i.objectStoreNames.contains("assets"))return;const a=i.transaction(["assets"],"readonly"),o=a.objectStore("assets"),s=await o.getAllKeys(),l=await Promise.all(s.map(async d=>[d,await o.get(d)]));await a.done;const u=await e2e(t),c=u.transaction([yr.Assets],"readwrite"),A=c.objectStore(yr.Assets);for(const[d,f]of l)A.put(f,d);await c.done,i.close(),u.close(),await JRe(r)}const By=class By{constructor(e){K(this,"getDbPromise");K(this,"isClosed",!1);K(this,"pendingTransactionSet",new Set);By.connectedInstances.add(this),this.getDbPromise=(async()=>(await bvt(e),await e2e(e)))()}getDb(){return this.getDbPromise}pending(){return Promise.allSettled([this.getDbPromise,...this.pendingTransactionSet]).then(bw)}async close(){this.isClosed||(this.isClosed=!0,await this.pending(),(await this.getDb()).close(),By.connectedInstances.delete(this))}tx(e,r,n){const i=(async()=>{fr(!this.isClosed,"db is closed");const o=(await this.getDb()).transaction(r,e),s=o.done.catch(l=>{if(!this.isClosed)throw l});try{return await n(o)}finally{this.isClosed?o.abort():await s}})();return this.pendingTransactionSet.add(i),i.finally(()=>this.pendingTransactionSet.delete(i)),i}async load({sessionId:e}={}){return await this.tx("readonly",[yr.Records,yr.Schema,yr.SessionState],async r=>{var l,u;const n=r.objectStore(yr.Records),i=r.objectStore(yr.Schema),a=r.objectStore(yr.SessionState);let o=e?(l=await a.get(e))==null?void 0:l.snapshot:null;return o||(o=(u=(await a.getAll()).sort((A,d)=>A.updatedAt-d.updatedAt).pop())==null?void 0:u.snapshot),{records:await n.getAll(),schema:await i.get(yr.Schema),sessionStateSnapshot:o}})}async storeChanges({schema:e,changes:r,sessionId:n,sessionStateSnapshot:i}){await this.tx("readwrite",[yr.Records,yr.Schema,yr.SessionState],async a=>{const o=a.objectStore(yr.Records),s=a.objectStore(yr.Schema),l=a.objectStore(yr.SessionState);for(const[u,c]of Object.entries(r.added))await o.put(c,u);for(const[u,c]of Object.values(r.updated))await o.put(c,c.id);for(const u of Object.keys(r.removed))await o.delete(u);s.put(e.serialize(),yr.Schema),i&&n?l.put({snapshot:i,updatedAt:Date.now(),id:n},n):(i||n)&&console.error("sessionStateSnapshot and instanceId must be provided together")})}async storeSnapshot({schema:e,snapshot:r,sessionId:n,sessionStateSnapshot:i}){await this.tx("readwrite",[yr.Records,yr.Schema,yr.SessionState],async a=>{const o=a.objectStore(yr.Records),s=a.objectStore(yr.Schema),l=a.objectStore(yr.SessionState);await o.clear();for(const[u,c]of Object.entries(r))await o.put(c,u);s.put(e.serialize(),yr.Schema),i&&n?l.put({snapshot:i,updatedAt:Date.now(),id:n},n):(i||n)&&console.error("sessionStateSnapshot and instanceId must be provided together")})}async pruneSessions(){await this.tx("readwrite",[yr.SessionState],async e=>{const r=e.objectStore(yr.SessionState),n=(await r.getAll()).sort((a,o)=>a.updatedAt-o.updatedAt);if(n.length<10){await e.done;return}const i=n.slice(0,n.length-10);for(const{id:a}of i)await r.delete(a)})}async getAsset(e){return await this.tx("readonly",[yr.Assets],async r=>await r.objectStore(yr.Assets).get(e))}async storeAsset(e,r){await this.tx("readwrite",[yr.Assets],async n=>{await n.objectStore(yr.Assets).put(r,e)})}};K(By,"connectedInstances",new Set);let FC=By;function R5(){const t=JSON.parse(h5(ZRe)||"[]")??[];return Array.isArray(t)?t:[]}function Svt(t){const e=new Set(R5());e.add(t),p5(ZRe,JSON.stringify([...e]))}var iEe,aEe;class Are{constructor(e,r){K(this,"valueMap");K(this,"presentKeysAtom");K(this,iEe,"AtomMap");this.name=e;const n=new Set,i=new Map;if(r)for(const[a,o]of r)n.add(a),i.set(a,pi(`${e}:${String(a)}`,o));this.valueMap=i,this.presentKeysAtom=pi(`${e}:presentKeys`,n)}getAtom(e){const r=this.valueMap.get(e);if(!r){this.presentKeysAtom.get();return}return r}get(e){var n;const r=(n=this.getAtom(e))==null?void 0:n.get();return fr(r!==Ua),r}__unsafe__getWithoutCapture(e){const r=this.valueMap.get(e);if(!r)return;const n=r.__unsafe__getWithoutCapture();return fr(n!==Ua),n}has(e){const r=this.getAtom(e);return r?r.get()!==Ua:!1}__unsafe__hasWithoutCapture(e){const r=this.valueMap.get(e);return r?(fr(r.__unsafe__getWithoutCapture()!==Ua),!0):!1}set(e,r){return Ao(()=>{const n=this.valueMap.get(e);n?n.set(r):(this.valueMap.set(e,pi(`${this.name}:${String(e)}`,r)),this.presentKeysAtom.update(i=>{const a=new Set(i);return a.add(e),a}))}),this}update(e,r){return Ao(()=>{const n=this.valueMap.get(e);if(!n)throw new Error(`AtomMap: key ${e} not found`);const i=n.__unsafe__getWithoutCapture();fr(i!==Ua),n.set(r(i))})}delete(e){return Ao(()=>{const r=this.valueMap.get(e);return r?(this.valueMap.delete(e),r.set(Ua),this.presentKeysAtom.update(n=>{const i=new Set(n);return i.delete(e),i}),!0):!1})}deleteMany(e){return Ao(()=>{let r;const n=[];for(const i of e){const a=this.valueMap.get(i);if(!a)continue;const o=a.get();fr(o!==Ua),n.push([i,o]),this.valueMap.delete(i),a.set(Ua),r||(r=new Set(this.presentKeysAtom.__unsafe__getWithoutCapture())),r.delete(i)}return r&&this.presentKeysAtom.set(r),n})}clear(){return Ao(()=>{for(const e of this.valueMap.values())e.set(Ua);this.presentKeysAtom.set(new Set),this.valueMap.clear()})}*entries(){this.presentKeysAtom.get();for(const[e,r]of this.valueMap.entries()){const n=r.get();fr(n!==Ua),yield[e,n]}}*keys(){this.presentKeysAtom.get();for(const e of this.valueMap.keys())yield e}*values(){this.presentKeysAtom.get();for(const e of this.valueMap.values()){const r=e.get();fr(r!==Ua),yield r}}get size(){return this.presentKeysAtom.get().size}forEach(e,r){for(const[n,i]of this.entries())e.call(r,i,n,this)}[(aEe=Symbol.iterator,iEe=Symbol.toStringTag,aEe)](){return this.entries()}}class kx{constructor(e){K(this,"nextValue");K(this,"diff");this.previousValue=e}get(){var n,i,a,o;const e=((i=(n=this.diff)==null?void 0:n.removed)==null?void 0:i.size)??0,r=((o=(a=this.diff)==null?void 0:a.added)==null?void 0:o.size)??0;if(!(e===0&&r===0))return{value:this.nextValue,diff:this.diff}}_add(e,r){var n,i;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.add(e),this.diff??(this.diff={}),r?(n=this.diff.removed)==null||n.delete(e):((i=this.diff).added??(i.added=new Set),this.diff.added.add(e))}add(e){var i,a,o;const r=this.previousValue.has(e);if(r)return((a=(i=this.diff)==null?void 0:i.removed)==null?void 0:a.has(e))?this._add(e,r):void 0;(o=this.nextValue)!=null&&o.has(e)||this._add(e,r)}_remove(e,r){var n,i;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.delete(e),this.diff??(this.diff={}),r?((n=this.diff).removed??(n.removed=new Set),this.diff.removed.add(e)):(i=this.diff.added)==null||i.delete(e)}remove(e){var i,a,o,s;const r=this.previousValue.has(e);if(!r)return((a=(i=this.diff)==null?void 0:i.added)==null?void 0:a.has(e))?this._remove(e,r):void 0;(s=(o=this.diff)==null?void 0:o.removed)!=null&&s.has(e)||this._remove(e,r)}}class NE{constructor(e,r){K(this,"createDefaultProperties");K(this,"validator");K(this,"ephemeralKeys");K(this,"ephemeralKeySet");K(this,"scope");this.typeName=e,this.createDefaultProperties=r.createDefaultProperties,this.validator=r.validator??{validate:i=>i},this.scope=r.scope??"document",this.ephemeralKeys=r.ephemeralKeys;const n=new Set;if(r.ephemeralKeys)for(const[i,a]of cs(r.ephemeralKeys))a&&n.add(i);this.ephemeralKeySet=n}create(e){const r={...this.createDefaultProperties(),id:this.createId()};for(const[n,i]of Object.entries(e))i!==void 0&&(r[n]=i);return r.typeName=this.typeName,r}clone(e){return{...On(e),id:this.createId()}}createId(e){return this.typeName+":"+(e??Xr())}createCustomId(e){return this.typeName+":"+e}parseId(e){if(!this.isId(e))throw new Error(`ID "${e}" is not a valid ID for type "${this.typeName}"`);return e.slice(this.typeName.length+1)}isInstance(e){return(e==null?void 0:e.typeName)===this.typeName}isId(e){if(!e)return!1;for(let r=0;r<this.typeName.length;r++)if(e[r]!==this.typeName[r])return!1;return e[this.typeName.length]===":"}withDefaultProperties(e){return new NE(this.typeName,{createDefaultProperties:e,validator:this.validator,scope:this.scope,ephemeralKeys:this.ephemeralKeys})}validate(e,r){return r&&this.validator.validateUsingKnownGoodVersion?this.validator.validateUsingKnownGoodVersion(r,e):this.validator.validate(e)}}function rc(t,e){return new NE(t,{createDefaultProperties:()=>({}),validator:e.validator,scope:e.scope,ephemeralKeys:e.ephemeralKeys})}function kC(){return{added:{},updated:{},removed:{}}}function u4(t){const e={added:t.removed,removed:t.added,updated:{}};for(const[r,n]of Object.values(t.updated))e.updated[r.id]=[n,r];return e}function t2e(t){return Object.keys(t.added).length===0&&Object.keys(t.updated).length===0&&Object.keys(t.removed).length===0}function M5(t){const e={added:{},removed:{},updated:{}};return by(e,t),e}function by(t,e){for(const r of e){for(const[n,i]of cs(r.added))if(t.removed[n]){const a=t.removed[n];delete t.removed[n],a!==i&&(t.updated[n]=[a,i])}else t.added[n]=i;for(const[n,[i,a]]of cs(r.updated)){if(t.added[n]){t.added[n]=a,delete t.updated[n],delete t.removed[n];continue}if(t.updated[n]){t.updated[n]=[t.updated[n][0],a],delete t.removed[n];continue}t.updated[n]=r.updated[n],delete t.removed[n]}for(const[n,i]of cs(r.removed))t.added[n]?delete t.added[n]:t.updated[n]?(t.removed[n]=t.updated[n][0],delete t.updated[n]):t.removed[n]=i}}var ey={exports:{}};ey.exports;var dre;function xvt(){return dre||(dre=1,function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",A="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",w="[object Null]",b="[object Object]",C="[object Promise]",S="[object Proxy]",x="[object RegExp]",_="[object Set]",B="[object String]",T="[object Symbol]",R="[object Undefined]",P="[object WeakMap]",M="[object ArrayBuffer]",U="[object DataView]",F="[object Float32Array]",j="[object Float64Array]",L="[object Int8Array]",$="[object Int16Array]",Q="[object Int32Array]",H="[object Uint8Array]",q="[object Uint8ClampedArray]",Y="[object Uint16Array]",z="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,J={};J[F]=J[j]=J[L]=J[$]=J[Q]=J[H]=J[q]=J[Y]=J[z]=!0,J[s]=J[l]=J[M]=J[c]=J[U]=J[A]=J[d]=J[f]=J[g]=J[m]=J[b]=J[x]=J[_]=J[B]=J[P]=!1;var le=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,de=typeof self=="object"&&self&&self.Object===Object&&self,oe=le||de||Function("return this")(),re=e&&!e.nodeType&&e,se=re&&!0&&t&&!t.nodeType&&t,he=se&&se.exports===re,ae=he&&le.process,Ee=function(){try{return ae&&ae.binding&&ae.binding("util")}catch{}}(),Oe=Ee&&Ee.isTypedArray;function Ne(te,fe){for(var Qe=-1,bt=te==null?0:te.length,Yr=0,tr=[];++Qe<bt;){var pn=te[Qe];fe(pn,Qe,te)&&(tr[Yr++]=pn)}return tr}function De(te,fe){for(var Qe=-1,bt=fe.length,Yr=te.length;++Qe<bt;)te[Yr+Qe]=fe[Qe];return te}function Le(te,fe){for(var Qe=-1,bt=te==null?0:te.length;++Qe<bt;)if(fe(te[Qe],Qe,te))return!0;return!1}function st(te,fe){for(var Qe=-1,bt=Array(te);++Qe<te;)bt[Qe]=fe(Qe);return bt}function ut(te){return function(fe){return te(fe)}}function it(te,fe){return te.has(fe)}function Ie(te,fe){return te==null?void 0:te[fe]}function be(te){var fe=-1,Qe=Array(te.size);return te.forEach(function(bt,Yr){Qe[++fe]=[Yr,bt]}),Qe}function Be(te,fe){return function(Qe){return te(fe(Qe))}}function tt(te){var fe=-1,Qe=Array(te.size);return te.forEach(function(bt){Qe[++fe]=bt}),Qe}var ct=Array.prototype,ot=Function.prototype,$e=Object.prototype,kt=oe["__core-js_shared__"],Nt=ot.toString,Z=$e.hasOwnProperty,ie=function(){var te=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||"");return te?"Symbol(src)_1."+te:""}(),me=$e.toString,Te=RegExp("^"+Nt.call(Z).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=he?oe.Buffer:void 0,pe=oe.Symbol,rt=oe.Uint8Array,_t=$e.propertyIsEnumerable,Fe=ct.splice,Ge=pe?pe.toStringTag:void 0,Xe=Object.getOwnPropertySymbols,et=qe?qe.isBuffer:void 0,Tt=Be(Object.keys,Object),ir=cc(oe,"DataView"),Er=cc(oe,"Map"),Lr=cc(oe,"Promise"),ln=cc(oe,"Set"),qn=cc(oe,"WeakMap"),Si=cc(Object,"create"),hA=Ea(ir),nu=Ea(Er),sc=Ea(Lr),wo=Ea(ln),bo=Ea(qn),cl=pe?pe.prototype:void 0,Ca=cl?cl.valueOf:void 0;function Jn(te){var fe=-1,Qe=te==null?0:te.length;for(this.clear();++fe<Qe;){var bt=te[fe];this.set(bt[0],bt[1])}}function lc(){this.__data__=Si?Si(null):{},this.size=0}function iu(te){var fe=this.has(te)&&delete this.__data__[te];return this.size-=fe?1:0,fe}function Oi(te){var fe=this.__data__;if(Si){var Qe=fe[te];return Qe===n?void 0:Qe}return Z.call(fe,te)?fe[te]:void 0}function _a(te){var fe=this.__data__;return Si?fe[te]!==void 0:Z.call(fe,te)}function Is(te,fe){var Qe=this.__data__;return this.size+=this.has(te)?0:1,Qe[te]=Si&&fe===void 0?n:fe,this}Jn.prototype.clear=lc,Jn.prototype.delete=iu,Jn.prototype.get=Oi,Jn.prototype.has=_a,Jn.prototype.set=Is;function to(te){var fe=-1,Qe=te==null?0:te.length;for(this.clear();++fe<Qe;){var bt=te[fe];this.set(bt[0],bt[1])}}function xe(){this.__data__=[],this.size=0}function Ye(te){var fe=this.__data__,Qe=Eh(fe,te);if(Qe<0)return!1;var bt=fe.length-1;return Qe==bt?fe.pop():Fe.call(fe,Qe,1),--this.size,!0}function Pe(te){var fe=this.__data__,Qe=Eh(fe,te);return Qe<0?void 0:fe[Qe][1]}function ge(te){return Eh(this.__data__,te)>-1}function He(te,fe){var Qe=this.__data__,bt=Eh(Qe,te);return bt<0?(++this.size,Qe.push([te,fe])):Qe[bt][1]=fe,this}to.prototype.clear=xe,to.prototype.delete=Ye,to.prototype.get=Pe,to.prototype.has=ge,to.prototype.set=He;function Dt(te){var fe=-1,Qe=te==null?0:te.length;for(this.clear();++fe<Qe;){var bt=te[fe];this.set(bt[0],bt[1])}}function St(){this.size=0,this.__data__={hash:new Jn,map:new(Er||to),string:new Jn}}function Cn(te){var fe=Tr(this,te).delete(te);return this.size-=fe?1:0,fe}function ar(te){return Tr(this,te).get(te)}function oi(te){return Tr(this,te).has(te)}function Hi(te,fe){var Qe=Tr(this,te),bt=Qe.size;return Qe.set(te,fe),this.size+=Qe.size==bt?0:1,this}Dt.prototype.clear=St,Dt.prototype.delete=Cn,Dt.prototype.get=ar,Dt.prototype.has=oi,Dt.prototype.set=Hi;function Ke(te){var fe=-1,Qe=te==null?0:te.length;for(this.__data__=new Dt;++fe<Qe;)this.add(te[fe])}function _n(te){return this.__data__.set(te,n),this}function Go(te){return this.__data__.has(te)}Ke.prototype.add=Ke.prototype.push=_n,Ke.prototype.has=Go;function ro(te){var fe=this.__data__=new to(te);this.size=fe.size}function uc(){this.__data__=new to,this.size=0}function no(te){var fe=this.__data__,Qe=fe.delete(te);return this.size=fe.size,Qe}function qd(te){return this.__data__.get(te)}function Vo(te){return this.__data__.has(te)}function hB(te,fe){var Qe=this.__data__;if(Qe instanceof to){var bt=Qe.__data__;if(!Er||bt.length<r-1)return bt.push([te,fe]),this.size=++Qe.size,this;Qe=this.__data__=new Dt(bt)}return Qe.set(te,fe),this.size=Qe.size,this}ro.prototype.clear=uc,ro.prototype.delete=no,ro.prototype.get=qd,ro.prototype.has=Vo,ro.prototype.set=hB;function pB(te,fe){var Qe=su(te),bt=!Qe&&Wd(te),Yr=!Qe&&!bt&&Em(te),tr=!Qe&&!bt&&!Yr&&Bm(te),pn=Qe||bt||Yr||tr,si=pn?st(te.length,String):[],gn=si.length;for(var un in te)Z.call(te,un)&&!(pn&&(un=="length"||Yr&&(un=="offset"||un=="parent")||tr&&(un=="buffer"||un=="byteLength"||un=="byteOffset")||Xb(un,gn)))&&si.push(un);return si}function Eh(te,fe){for(var Qe=te.length;Qe--;)if(dl(te[Qe][0],fe))return Qe;return-1}function Ih(te,fe,Qe){var bt=fe(te);return su(te)?bt:De(bt,Qe(te))}function au(te){return te==null?te===void 0?R:w:Ge&&Ge in Object(te)?Yb(te):ou(te)}function pA(te){return uu(te)&&au(te)==s}function Kd(te,fe,Qe,bt,Yr){return te===fe?!0:te==null||fe==null||!uu(te)&&!uu(fe)?te!==te&&fe!==fe:gB(te,fe,Qe,bt,Kd,Yr)}function gB(te,fe,Qe,bt,Yr,tr){var pn=su(te),si=su(fe),gn=pn?l:Al(te),un=si?l:Al(fe);gn=gn==s?b:gn,un=un==s?b:un;var qi=gn==b,So=un==b,li=gn==un;if(li&&Em(te)){if(!Em(fe))return!1;pn=!0,qi=!1}if(li&&!qi)return tr||(tr=new ro),pn||Bm(te)?Bh(te,fe,Qe,bt,Yr,tr):zd(te,fe,gn,Qe,bt,Yr,tr);if(!(Qe&i)){var na=qi&&Z.call(te,"__wrapped__"),io=So&&Z.call(fe,"__wrapped__");if(na||io){var Zn=na?te.value():te,Ia=io?fe.value():fe;return tr||(tr=new ro),Yr(Zn,Ia,Qe,bt,tr)}}return li?(tr||(tr=new ro),vB(te,fe,Qe,bt,Yr,tr)):!1}function mB(te){if(!Im(te)||_m(te))return!1;var fe=gA(te)?Te:X;return fe.test(Ea(te))}function xm(te){return uu(te)&&eS(te.length)&&!!J[au(te)]}function Vb(te){if(!Th(te))return Tt(te);var fe=[];for(var Qe in Object(te))Z.call(te,Qe)&&Qe!="constructor"&&fe.push(Qe);return fe}function Bh(te,fe,Qe,bt,Yr,tr){var pn=Qe&i,si=te.length,gn=fe.length;if(si!=gn&&!(pn&&gn>si))return!1;var un=tr.get(te);if(un&&tr.get(fe))return un==fe;var qi=-1,So=!0,li=Qe&a?new Ke:void 0;for(tr.set(te,fe),tr.set(fe,te);++qi<si;){var na=te[qi],io=fe[qi];if(bt)var Zn=pn?bt(io,na,qi,fe,te,tr):bt(na,io,qi,te,fe,tr);if(Zn!==void 0){if(Zn)continue;So=!1;break}if(li){if(!Le(fe,function(Ia,fl){if(!it(li,fl)&&(na===Ia||Yr(na,Ia,Qe,bt,tr)))return li.push(fl)})){So=!1;break}}else if(!(na===io||Yr(na,io,Qe,bt,tr))){So=!1;break}}return tr.delete(te),tr.delete(fe),So}function zd(te,fe,Qe,bt,Yr,tr,pn){switch(Qe){case U:if(te.byteLength!=fe.byteLength||te.byteOffset!=fe.byteOffset)return!1;te=te.buffer,fe=fe.buffer;case M:return!(te.byteLength!=fe.byteLength||!tr(new rt(te),new rt(fe)));case c:case A:case m:return dl(+te,+fe);case d:return te.name==fe.name&&te.message==fe.message;case x:case B:return te==fe+"";case g:var si=be;case _:var gn=bt&i;if(si||(si=tt),te.size!=fe.size&&!gn)return!1;var un=pn.get(te);if(un)return un==fe;bt|=a,pn.set(te,fe);var qi=Bh(si(te),si(fe),bt,Yr,tr,pn);return pn.delete(te),qi;case T:if(Ca)return Ca.call(te)==Ca.call(fe)}return!1}function vB(te,fe,Qe,bt,Yr,tr){var pn=Qe&i,si=Ph(te),gn=si.length,un=Ph(fe),qi=un.length;if(gn!=qi&&!pn)return!1;for(var So=gn;So--;){var li=si[So];if(!(pn?li in fe:Z.call(fe,li)))return!1}var na=tr.get(te);if(na&&tr.get(fe))return na==fe;var io=!0;tr.set(te,fe),tr.set(fe,te);for(var Zn=pn;++So<gn;){li=si[So];var Ia=te[li],fl=fe[li];if(bt)var mA=pn?bt(fl,Ia,li,fe,te,tr):bt(Ia,fl,li,te,fe,tr);if(!(mA===void 0?Ia===fl||Yr(Ia,fl,Qe,bt,tr):mA)){io=!1;break}Zn||(Zn=li=="constructor")}if(io&&!Zn){var Oh=te.constructor,vA=fe.constructor;Oh!=vA&&"constructor"in te&&"constructor"in fe&&!(typeof Oh=="function"&&Oh instanceof Oh&&typeof vA=="function"&&vA instanceof vA)&&(io=!1)}return tr.delete(te),tr.delete(fe),io}function Ph(te){return Ih(te,yB,Cm)}function Tr(te,fe){var Qe=te.__data__;return Jb(fe)?Qe[typeof fe=="string"?"string":"hash"]:Qe.map}function cc(te,fe){var Qe=Ie(te,fe);return mB(Qe)?Qe:void 0}function Yb(te){var fe=Z.call(te,Ge),Qe=te[Ge];try{te[Ge]=void 0;var bt=!0}catch{}var Yr=me.call(te);return bt&&(fe?te[Ge]=Qe:delete te[Ge]),Yr}var Cm=Xe?function(te){return te==null?[]:(te=Object(te),Ne(Xe(te),function(fe){return _t.call(te,fe)}))}:Gd,Al=au;(ir&&Al(new ir(new ArrayBuffer(1)))!=U||Er&&Al(new Er)!=g||Lr&&Al(Lr.resolve())!=C||ln&&Al(new ln)!=_||qn&&Al(new qn)!=P)&&(Al=function(te){var fe=au(te),Qe=fe==b?te.constructor:void 0,bt=Qe?Ea(Qe):"";if(bt)switch(bt){case hA:return U;case nu:return g;case sc:return C;case wo:return _;case bo:return P}return fe});function Xb(te,fe){return fe=fe??o,!!fe&&(typeof te=="number"||ee.test(te))&&te>-1&&te%1==0&&te<fe}function Jb(te){var fe=typeof te;return fe=="string"||fe=="number"||fe=="symbol"||fe=="boolean"?te!=="__proto__":te===null}function _m(te){return!!ie&&ie in te}function Th(te){var fe=te&&te.constructor,Qe=typeof fe=="function"&&fe.prototype||$e;return te===Qe}function ou(te){return me.call(te)}function Ea(te){if(te!=null){try{return Nt.call(te)}catch{}try{return te+""}catch{}}return""}function dl(te,fe){return te===fe||te!==te&&fe!==fe}var Wd=pA(function(){return arguments}())?pA:function(te){return uu(te)&&Z.call(te,"callee")&&!_t.call(te,"callee")},su=Array.isArray;function lu(te){return te!=null&&eS(te.length)&&!gA(te)}var Em=et||Vd;function Zb(te,fe){return Kd(te,fe)}function gA(te){if(!Im(te))return!1;var fe=au(te);return fe==f||fe==p||fe==u||fe==S}function eS(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=o}function Im(te){var fe=typeof te;return te!=null&&(fe=="object"||fe=="function")}function uu(te){return te!=null&&typeof te=="object"}var Bm=Oe?ut(Oe):xm;function yB(te){return lu(te)?pB(te):Vb(te)}function Gd(){return[]}function Vd(){return!1}t.exports=Zb}(ey,ey.exports)),ey.exports}var Cvt=xvt();const r2e=kr(Cvt);function _vt(t){if(t.length===0)return new Set;const e=t[0],r=t.slice(1),n=new Set;for(const i of e)r.every(a=>a.has(i))&&n.add(i);return n}function Evt(t,e){const r={};for(const n of e)t.has(n)||(r.added??(r.added=new Set),r.added.add(n));for(const n of t)e.has(n)||(r.removed??(r.removed=new Set),r.removed.add(n));return r.added||r.removed?r:void 0}function fre(t,e){for(const[r,n]of Object.entries(t)){const i=n,a=e[r];if("eq"in i&&a!==i.eq||"neq"in i&&a===i.neq||"gt"in i&&(typeof a!="number"||a<=i.gt))return!1}return!0}function hre(t,e,r){const n=Object.fromEntries(Object.keys(r).map(i=>[i,new Set]));for(const[i,a]of Object.entries(r))if("eq"in a){const s=t.index(e,i).get().get(a.eq);if(s)for(const l of s)n[i].add(l)}else if("neq"in a){const o=t.index(e,i);for(const[s,l]of o.get())if(s!==a.neq)for(const u of l)n[i].add(u)}else if("gt"in a){const o=t.index(e,i);for(const[s,l]of o.get())if(s>a.gt)for(const u of l)n[i].add(u)}return _vt(Object.values(n))}class Ivt{constructor(e,r){K(this,"indexCache",new Map);K(this,"historyCache",new Map);this.recordMap=e,this.history=r}filterHistory(e){if(this.historyCache.has(e))return this.historyCache.get(e);const r=je("filterHistory:"+e,(n,i)=>{if(Uf(n))return this.history.get();const a=this.history.getDiffSince(i);if(a===As)return this.history.get();const o={added:{},removed:{},updated:{}};let s=0,l=0,u=0;for(const c of a){for(const A of _i(c.added))if(A.typeName===e)if(o.removed[A.id]){const d=o.removed[A.id];delete o.removed[A.id],l--,d!==A&&(o.updated[A.id]=[d,A],u++)}else o.added[A.id]=A,s++;for(const[A,d]of _i(c.updated))d.typeName===e&&(o.added[d.id]?o.added[d.id]=d:o.updated[d.id]?o.updated[d.id]=[o.updated[d.id][0],d]:(o.updated[d.id]=[A,d],u++));for(const A of _i(c.removed))A.typeName===e&&(o.added[A.id]?(delete o.added[A.id],s--):o.updated[A.id]?(o.removed[A.id]=o.updated[A.id][0],delete o.updated[A.id],u--,l++):(o.removed[A.id]=A,l++))}return s||l||u?Zv(this.history.get(),o):n},{historyLength:100});return this.historyCache.set(e,r),r}index(e,r){const n=e+":"+r;if(this.indexCache.has(n))return this.indexCache.get(n);const i=this.__uncached_createIndex(e,r);return this.indexCache.set(n,i),i}__uncached_createIndex(e,r){const n=this.filterHistory(e),i=()=>{n.get();const a=new Map;for(const o of this.recordMap.values())if(o.typeName===e){const s=o[r];a.has(s)||a.set(s,new Set),a.get(s).add(o.id)}return a};return je("index:"+e+":"+r,(a,o)=>{if(Uf(a))return i();const s=n.getDiffSince(o);if(s===As)return i();const l=new Map,u=(f,p)=>{let g=l.get(f);g||(g=new kx(a.get(f)??new Set)),g.add(p),l.set(f,g)},c=(f,p)=>{let g=l.get(f);g||(g=new kx(a.get(f)??new Set)),g.remove(p),l.set(f,g)};for(const f of s){for(const p of _i(f.added))if(p.typeName===e){const g=p[r];u(g,p.id)}for(const[p,g]of _i(f.updated))if(g.typeName===e){const m=p[r],w=g[r];m!==w&&(c(m,g.id),u(w,g.id))}for(const p of _i(f.removed))if(p.typeName===e){const g=p[r];c(g,p.id)}}let A,d;for(const[f,p]of l){const g=p.get();g&&(A||(A=new Map(a)),d||(d=new Map),g.value.size===0?A.delete(f):A.set(f,g.value),d.set(f,g.diff))}return A&&d?Zv(A,d):a},{historyLength:100})}record(e,r=()=>({}),n="record:"+e+(r?":"+r.toString():"")){const i=this.ids(e,r,n);return je(n,()=>{for(const a of i.get())return this.recordMap.get(a)})}records(e,r=()=>({}),n="records:"+e+(r?":"+r.toString():"")){const i=this.ids(e,r,"ids:"+n);return je(n,()=>Array.from(i.get(),a=>this.recordMap.get(a)),{isEqual:GOe})}ids(e,r=()=>({}),n="ids:"+e+(r?":"+r.toString():"")){const i=this.filterHistory(e),a=()=>{i.get();const l=r();if(Object.keys(l).length===0){const u=new Set;for(const c of this.recordMap.values())c.typeName===e&&u.add(c.id);return u}return hre(this,e,l)},o=l=>{const u=a(),c=Evt(l,u);return c?Zv(u,c):l},s=je("ids_query:"+n,r,{isEqual:r2e});return je("query:"+n,(l,u)=>{const c=s.get();if(Uf(l))return a();if(u<s.lastChangedEpoch)return o(l);const A=i.getDiffSince(u);if(A===As)return o(l);const d=new kx(l);for(const p of A){for(const g of _i(p.added))g.typeName===e&&fre(c,g)&&d.add(g.id);for(const[g,m]of _i(p.updated))m.typeName===e&&(fre(c,m)?d.add(m.id):d.remove(m.id));for(const g of _i(p.removed))g.typeName===e&&d.remove(g.id)}const f=d.get();return f?Zv(f.value,f.diff):l},{historyLength:50})}exec(e,r){const n=hre(this,e,r);return n.size===0?Nc:Array.from(n,i=>this.recordMap.get(i))}}class Bvt{constructor(e){K(this,"_beforeCreateHandlers",{});K(this,"_afterCreateHandlers",{});K(this,"_beforeChangeHandlers",{});K(this,"_afterChangeHandlers",{});K(this,"_beforeDeleteHandlers",{});K(this,"_afterDeleteHandlers",{});K(this,"_operationCompleteHandlers",[]);K(this,"_isEnabled",!0);this.store=e}isEnabled(){return this._isEnabled}setIsEnabled(e){this._isEnabled=e}handleBeforeCreate(e,r){if(!this._isEnabled)return e;const n=this._beforeCreateHandlers[e.typeName];if(n){let i=e;for(const a of n)i=a(i,r);return i}return e}handleAfterCreate(e,r){if(!this._isEnabled)return;const n=this._afterCreateHandlers[e.typeName];if(n)for(const i of n)i(e,r)}handleBeforeChange(e,r,n){if(!this._isEnabled)return r;const i=this._beforeChangeHandlers[r.typeName];if(i){let a=r;for(const o of i)a=o(e,a,n);return a}return r}handleAfterChange(e,r,n){if(!this._isEnabled)return;const i=this._afterChangeHandlers[r.typeName];if(i)for(const a of i)a(e,r,n)}handleBeforeDelete(e,r){if(!this._isEnabled)return!0;const n=this._beforeDeleteHandlers[e.typeName];if(n){for(const i of n)if(i(e,r)===!1)return!1}return!0}handleAfterDelete(e,r){if(!this._isEnabled)return;const n=this._afterDeleteHandlers[e.typeName];if(n)for(const i of n)i(e,r)}handleOperationComplete(e){if(this._isEnabled)for(const r of this._operationCompleteHandlers)r(e)}register(e){const r=[];for(const[n,i]of Object.entries(e))i!=null&&i.beforeCreate&&r.push(this.registerBeforeCreateHandler(n,i.beforeCreate)),i!=null&&i.afterCreate&&r.push(this.registerAfterCreateHandler(n,i.afterCreate)),i!=null&&i.beforeChange&&r.push(this.registerBeforeChangeHandler(n,i.beforeChange)),i!=null&&i.afterChange&&r.push(this.registerAfterChangeHandler(n,i.afterChange)),i!=null&&i.beforeDelete&&r.push(this.registerBeforeDeleteHandler(n,i.beforeDelete)),i!=null&&i.afterDelete&&r.push(this.registerAfterDeleteHandler(n,i.afterDelete));return()=>{for(const n of r)n()}}registerBeforeCreateHandler(e,r){return this._beforeCreateHandlers[e]||(this._beforeCreateHandlers[e]=[]),this._beforeCreateHandlers[e].push(r),()=>ff(this._beforeCreateHandlers[e],r)}registerAfterCreateHandler(e,r){return this._afterCreateHandlers[e]||(this._afterCreateHandlers[e]=[]),this._afterCreateHandlers[e].push(r),()=>ff(this._afterCreateHandlers[e],r)}registerBeforeChangeHandler(e,r){return this._beforeChangeHandlers[e]||(this._beforeChangeHandlers[e]=[]),this._beforeChangeHandlers[e].push(r),()=>ff(this._beforeChangeHandlers[e],r)}registerAfterChangeHandler(e,r){return this._afterChangeHandlers[e]||(this._afterChangeHandlers[e]=[]),this._afterChangeHandlers[e].push(r),()=>ff(this._afterChangeHandlers[e],r)}registerBeforeDeleteHandler(e,r){return this._beforeDeleteHandlers[e]||(this._beforeDeleteHandlers[e]=[]),this._beforeDeleteHandlers[e].push(r),()=>ff(this._beforeDeleteHandlers[e],r)}registerAfterDeleteHandler(e,r){return this._afterDeleteHandlers[e]||(this._afterDeleteHandlers[e]=[]),this._afterDeleteHandlers[e].push(r),()=>ff(this._afterDeleteHandlers[e],r)}registerOperationCompleteHandler(e){return this._operationCompleteHandlers.push(e),()=>ff(this._operationCompleteHandlers,e)}}function ff(t,e){const r=t.indexOf(e);r>=0&&t.splice(r,1)}class F5{constructor(e){K(this,"id");K(this,"records");K(this,"history",pi("history",0,{historyLength:1e3}));K(this,"query");K(this,"listeners",new Set);K(this,"historyAccumulator",new Tvt);K(this,"historyReactor");K(this,"schema");K(this,"props");K(this,"scopedTypes");K(this,"sideEffects",new Bvt(this));K(this,"isMergingRemoteChanges",!1);K(this,"_integrityChecker");K(this,"_isPossiblyCorrupted",!1);K(this,"pendingAfterEvents",null);K(this,"_isInAtomicOp",!1);const{initialData:r,schema:n,id:i}=e;this.id=i??Xr(),this.schema=n,this.props=e.props,r?this.records=new Are("store",cs(r).map(([a,o])=>[a,this.schema.validateRecord(this,o,"initialize",null)])):this.records=new Are("store"),this.query=new Ivt(this.records,this.history),this.historyReactor=Lmt("Store.historyReactor",()=>{this.history.get(),this._flushHistory()},{scheduleEffect:a=>this.cancelHistoryReactor=gRe(a)}),this.scopedTypes={document:new Set(_i(this.schema.types).filter(a=>a.scope==="document").map(a=>a.typeName)),session:new Set(_i(this.schema.types).filter(a=>a.scope==="session").map(a=>a.typeName)),presence:new Set(_i(this.schema.types).filter(a=>a.scope==="presence").map(a=>a.typeName))}}cancelHistoryReactor(){}_flushHistory(){if(this.historyAccumulator.hasChanges()){const e=this.historyAccumulator.flush();for(const{changes:r,source:n}of e){let i=null,a=null,o=null;for(const{onHistory:s,filters:l}of this.listeners)if(!(l.source!=="all"&&l.source!==n))if(l.scope!=="all")if(l.scope==="document"){if(a??(a=this.filterChangesByScope(r,"document")),!a)continue;s({changes:a,source:n})}else if(l.scope==="session"){if(i??(i=this.filterChangesByScope(r,"session")),!i)continue;s({changes:i,source:n})}else{if(o??(o=this.filterChangesByScope(r,"presence")),!o)continue;s({changes:o,source:n})}else s({changes:r,source:n})}}}dispose(){this.cancelHistoryReactor()}filterChangesByScope(e,r){const n={added:wy(e.added,(i,a)=>this.scopedTypes[r].has(a.typeName)),updated:wy(e.updated,(i,a)=>this.scopedTypes[r].has(a[1].typeName)),removed:wy(e.removed,(i,a)=>this.scopedTypes[r].has(a.typeName))};return Object.keys(n.added).length===0&&Object.keys(n.updated).length===0&&Object.keys(n.removed).length===0?null:n}updateHistory(e){this.historyAccumulator.add({changes:e,source:this.isMergingRemoteChanges?"remote":"user"}),this.listeners.size===0&&this.historyAccumulator.clear(),this.history.set(this.history.get()+1,e)}validate(e){this.allRecords().forEach(r=>this.schema.validateRecord(this,r,e,null))}put(e,r){this.atomic(()=>{const n={},i={};let a,o=!1;const s=this.isMergingRemoteChanges?"remote":"user";for(let l=0,u=e.length;l<u;l++){a=e[l];const c=this.records.__unsafe__getWithoutCapture(a.id);if(c){if(a=this.sideEffects.handleBeforeChange(c,a,s),this.schema.validateRecord(this,a,r??"updateRecord",c)===c)continue;a=a,this.records.set(a.id,a),o=!0,n[a.id]=[c,a],this.addDiffForAfterEvent(c,a)}else a=this.sideEffects.handleBeforeCreate(a,s),o=!0,a=this.schema.validateRecord(this,a,r??"createRecord",null),a=a,i[a.id]=a,this.addDiffForAfterEvent(null,a),this.records.set(a.id,a)}o&&this.updateHistory({added:i,updated:n,removed:{}})})}remove(e){this.atomic(()=>{const r=new Set(e),n=this.isMergingRemoteChanges?"remote":"user";if(this.sideEffects.isEnabled())for(const o of e){const s=this.records.__unsafe__getWithoutCapture(o);s&&this.sideEffects.handleBeforeDelete(s,n)===!1&&r.delete(o)}const i=this.records.deleteMany(r);if(i.length===0)return;const a={};for(const[o,s]of i)a[o]=s,this.addDiffForAfterEvent(s,null);this.updateHistory({added:{},updated:{},removed:a})})}get(e){return this.records.get(e)}unsafeGetWithoutCapture(e){return this.records.__unsafe__getWithoutCapture(e)}serialize(e="document"){const r={};for(const[n,i]of this.records)(e==="all"||this.scopedTypes[e].has(i.typeName))&&(r[n]=i);return r}getStoreSnapshot(e="document"){return{store:this.serialize(e),schema:this.schema.serialize()}}getSnapshot(e="document"){return console.warn("[tldraw] `Store.getSnapshot` is deprecated and will be removed in a future release. Use `getSnapshot` from the `tldraw` package instead."),this.getStoreSnapshot(e)}migrateSnapshot(e){const r=this.schema.migrateStoreSnapshot(e);if(r.type==="error")throw new Error(`Failed to migrate snapshot: ${r.reason}`);return{store:r.value,schema:this.schema.serialize()}}loadStoreSnapshot(e){const r=this.schema.migrateStoreSnapshot(e);if(r.type==="error")throw new Error(`Failed to migrate snapshot: ${r.reason}`);const n=this.sideEffects.isEnabled();try{this.sideEffects.setIsEnabled(!1),this.atomic(()=>{this.clear(),this.put(Object.values(r.value)),this.ensureStoreIsUsable()})}finally{this.sideEffects.setIsEnabled(n)}}loadSnapshot(e){console.warn("[tldraw] `Store.loadSnapshot` is deprecated and will be removed in a future release. Use `loadSnapshot` from the 'tldraw' package instead."),this.loadStoreSnapshot(e)}allRecords(){return Array.from(this.records.values())}clear(){this.remove(Array.from(this.records.keys()))}update(e,r){const n=this.unsafeGetWithoutCapture(e);if(!n){console.error(`Record ${e} not found. This is probably an error`);return}this.put([r(n)])}has(e){return this.records.has(e)}listen(e,r){this._flushHistory();const n={onHistory:e,filters:{source:(r==null?void 0:r.source)??"all",scope:(r==null?void 0:r.scope)??"all"}};return this.historyReactor.scheduler.isActivelyListening||(this.historyReactor.start(),this.historyReactor.scheduler.execute()),this.listeners.add(n),()=>{this.listeners.delete(n),this.listeners.size===0&&this.historyReactor.stop()}}mergeRemoteChanges(e){if(this.isMergingRemoteChanges)return e();if(this._isInAtomicOp)throw new Error("Cannot merge remote changes while in atomic operation");try{this.isMergingRemoteChanges=!0,Ao(e)}finally{this.isMergingRemoteChanges=!1,this.ensureStoreIsUsable()}}extractingChanges(e){const r=[],n=this.historyAccumulator.addInterceptor(i=>r.push(i.changes));try{return Ao(e),M5(r)}finally{n()}}applyDiff(e,{runCallbacks:r=!0,ignoreEphemeralKeys:n=!1}={}){this.atomic(()=>{const i=_i(e.added);for(const[o,s]of _i(e.updated)){const l=this.schema.getType(s.typeName);if(n&&l.ephemeralKeySet.size){const u=this.get(s.id);if(!u){i.push(s);continue}let c=null;for(const[A,d]of Object.entries(s))l.ephemeralKeySet.has(A)||Object.is(d,qa(u,A))||(c||(c={...u}),c[A]=d);c&&i.push(c)}else i.push(s)}const a=Zgt(e.removed);i.length&&this.put(i),a.length&&this.remove(a)},r)}createCache(e){const r=new zl;return{get:n=>{const i=this.records.getAtom(n);if(i)return r.get(i,()=>e(n,i)).get()}}}createComputedCache(e,r,n){return this.createCache((i,a)=>{const o=n!=null&&n.areRecordsEqual?je(pi.name+":equals",()=>a.get(),{isEqual:n.areRecordsEqual}):a;return je(e+":"+i,()=>r(o.get()),{isEqual:n==null?void 0:n.areResultsEqual})})}ensureStoreIsUsable(){this.atomic(()=>{var e;this._integrityChecker??(this._integrityChecker=this.schema.createIntegrityChecker(this)),(e=this._integrityChecker)==null||e.call(this)})}markAsPossiblyCorrupted(){this._isPossiblyCorrupted=!0}isPossiblyCorrupted(){return this._isPossiblyCorrupted}addDiffForAfterEvent(e,r){if(fr(this.pendingAfterEvents,"must be in event operation"),e===r||(e&&r&&fr(e.id===r.id),!e&&!r))return;const n=(e||r).id,i=this.pendingAfterEvents.get(n);i?i.after=r:this.pendingAfterEvents.set(n,{before:e,after:r})}flushAtomicCallbacks(){let e=0;const r=this.isMergingRemoteChanges?"remote":"user";for(;this.pendingAfterEvents;){const n=this.pendingAfterEvents;if(this.pendingAfterEvents=null,!!this.sideEffects.isEnabled()){if(e++,e>100)throw new Error("Maximum store update depth exceeded, bailing out");for(const{before:i,after:a}of n.values())i&&a?this.sideEffects.handleAfterChange(i,a,r):i&&!a?this.sideEffects.handleAfterDelete(i,r):!i&&a&&this.sideEffects.handleAfterCreate(a,r);this.pendingAfterEvents||this.sideEffects.handleOperationComplete(r)}}}atomic(e,r=!0){return Ao(()=>{if(this._isInAtomicOp)return this.pendingAfterEvents||(this.pendingAfterEvents=new Map),e();this.pendingAfterEvents=new Map;const n=this.sideEffects.isEnabled();this.sideEffects.setIsEnabled(r??n),this._isInAtomicOp=!0;try{const i=e();return this.flushAtomicCallbacks(),i}finally{this.pendingAfterEvents=null,this.sideEffects.setIsEnabled(n),this._isInAtomicOp=!1}})}addHistoryInterceptor(e){return this.historyAccumulator.addInterceptor(r=>e(r,this.isMergingRemoteChanges?"remote":"user"))}}function Pvt(t){if(t.length===0)return[];const e=[];let r=[t[0]],n;for(let i=1,a=t.length;i<a;i++)n=t[i],r[0].source!==n.source&&(e.push(r),r=[]),r.push(n);return e.push(r),e.map(i=>({source:i[0].source,changes:M5(i.map(a=>a.changes))}))}class Tvt{constructor(){K(this,"_history",[]);K(this,"_interceptors",new Set)}addInterceptor(e){return this._interceptors.add(e),()=>{this._interceptors.delete(e)}}add(e){this._history.push(e);for(const r of this._interceptors)r(e)}flush(){const e=Pvt(this._history);return this._history=[],e}clear(){this._history=[]}hasChanges(){return this._history.length>0}}function Ovt(t,e,r){const n=new zl;return{get(i,a){return n.get(i,()=>(i instanceof F5?i:i.store).createComputedCache(t,l=>e(i,l),r)).get(a)}}}function Rvt(t){const e=[];for(let r=t.length-1;r>=0;r--){const n=t[r];if("id"in n)e.unshift(n);else{const i=n.dependsOn,a=e[0];a&&(e[0]={...a,dependsOn:i.concat(a.dependsOn??[])})}}return e}function Vp({sequence:t,sequenceId:e,retroactive:r=!0}){const n={sequenceId:e,retroactive:r,sequence:Rvt(t)};return n2e(n),n}function qo(t,e){return Object.fromEntries(cs(e).map(([r,n])=>[r,`${t}/${n}`]))}function ws(t){const e=t.sequenceId;return Vp({sequenceId:e,retroactive:t.retroactive??!0,sequence:t.sequence.map(r=>"id"in r?{...r,scope:"record",filter:n=>{var i,a;return n.typeName===t.recordType&&(((i=r.filter)==null?void 0:i.call(r,n))??!0)&&(((a=t.filter)==null?void 0:a.call(t,n))??!0)}}:r)})}function Mvt(t){const e=new Map(t.map(a=>[a.id,a])),r=new Set,n=[];function i(a){fr(!r.has(a.id),`Circular dependency in migrations: ${a.id}`),r.add(a.id);const{version:o,sequenceId:s}=UC(a.id),l=e.get(`${s}/${o-1}`);if(l&&i(l),a.dependsOn)for(const u of a.dependsOn){const c=e.get(u);c&&i(c)}e.delete(a.id),n.push(a)}for(const a of e.values())i(a);return n}function UC(t){const[e,r]=t.split("/");return{sequenceId:e,version:parseInt(r)}}function pre(t,e){e&&fr(t.startsWith(e+"/"),`Every migration in sequence '${e}' must have an id starting with '${e}/'. Got invalid id: '${t}'`),fr(t.match(/^(.*?)\/(0|[1-9]\d*)$/),`Invalid migration id: '${t}'`)}function n2e(t){if(fr(!t.sequenceId.includes("/"),`sequenceId cannot contain a '/', got ${t.sequenceId}`),fr(t.sequenceId.length,"sequenceId must be a non-empty string"),t.sequence.length===0)return;pre(t.sequence[0].id,t.sequenceId);let e=UC(t.sequence[0].id).version;fr(e===1,`Expected the first migrationId to be '${t.sequenceId}/1' but got '${t.sequence[0].id}'`);for(let r=1;r<t.sequence.length;r++){const n=t.sequence[r].id;pre(n,t.sequenceId);const i=UC(n).version;fr(i===e+1,`Migration id numbers must increase in increments of 1, expected ${t.sequenceId}/${e+1} but got '${t.sequence[r].id}'`),e=i}}var LA=(t=>(t.IncompatibleSubtype="incompatible-subtype",t.UnknownType="unknown-type",t.TargetVersionTooNew="target-version-too-new",t.TargetVersionTooOld="target-version-too-old",t.MigrationError="migration-error",t.UnrecognizedSubtype="unrecognized-subtype",t))(LA||{});function Fvt(t){if(t.schemaVersion>2||t.schemaVersion<1)return id.err("Bad schema version");if(t.schemaVersion===2)return id.ok(t);const e={schemaVersion:2,sequences:{"com.tldraw.store":t.storeVersion}};for(const[r,n]of Object.entries(t.recordVersions))if(e.sequences[`com.tldraw.${r}`]=n.version,"subTypeKey"in n)for(const[i,a]of Object.entries(n.subTypeVersions))e.sequences[`com.tldraw.${r}.${i}`]=a;return id.ok(e)}class k5{constructor(e,r){K(this,"migrations",{});K(this,"sortedMigrations");var i;this.types=e,this.options=r;for(const a of r.migrations??[])fr(!this.migrations[a.sequenceId],`Duplicate migration sequenceId ${a.sequenceId}`),n2e(a),this.migrations[a.sequenceId]=a;const n=Object.values(this.migrations).flatMap(a=>a.sequence);this.sortedMigrations=Mvt(n);for(const a of this.sortedMigrations)if((i=a.dependsOn)!=null&&i.length)for(const o of a.dependsOn){const s=n.find(l=>l.id===o);fr(s,`Migration '${a.id}' depends on missing migration '${o}'`)}}static create(e,r){return new k5(e,r??{})}validateRecord(e,r,n,i){try{const a=qa(this.types,r.typeName);if(!a)throw new Error(`Missing definition for record type ${r.typeName}`);return a.validate(r,i??void 0)}catch(a){if(this.options.onValidationFailure)return this.options.onValidationFailure({store:e,record:r,phase:n,recordBefore:i,error:a});throw a}}getMigrationsSince(e){const r=Fvt(e);if(!r.ok)return r;const n=r.value,i=new Set(Object.keys(n.sequences).filter(o=>this.migrations[o]));for(const o in this.migrations)n.sequences[o]===void 0&&this.migrations[o].retroactive&&i.add(o);if(i.size===0)return id.ok([]);const a=new Set;for(const o of i){const s=n.sequences[o];if(typeof s!="number"&&this.migrations[o].retroactive||s===0){for(const c of this.migrations[o].sequence)a.add(c.id);continue}const l=`${o}/${s}`,u=this.migrations[o].sequence.findIndex(c=>c.id===l);if(u===-1)return id.err("Incompatible schema?");for(const c of this.migrations[o].sequence.slice(u+1))a.add(c.id)}return id.ok(this.sortedMigrations.filter(({id:o})=>a.has(o)))}migratePersistedRecord(e,r,n="up"){const i=this.getMigrationsSince(r);if(!i.ok)return console.error("Error migrating record",i.error),{type:"error",reason:LA.MigrationError};let a=i.value;if(a.length===0)return{type:"success",value:e};if(a.some(o=>o.scope==="store"))return{type:"error",reason:n==="down"?LA.TargetVersionTooOld:LA.TargetVersionTooNew};if(n==="down"){if(!a.every(o=>o.down))return{type:"error",reason:LA.TargetVersionTooOld};a=a.slice().reverse()}e=On(e);try{for(const o of a){if(o.scope==="store")throw new Error;if(!(o.filter?o.filter(e):!0))continue;const l=o[n](e);l&&(e=On(l))}}catch(o){return console.error("Error migrating record",o),{type:"error",reason:LA.MigrationError}}return{type:"success",value:e}}migrateStoreSnapshot(e){let{store:r}=e;const n=this.getMigrationsSince(e.schema);if(!n.ok)return console.error("Error migrating store",n.error),{type:"error",reason:LA.MigrationError};const i=n.value;if(i.length===0)return{type:"success",value:r};r=On(r);try{for(const a of i)if(a.scope==="record")for(const[o,s]of Object.entries(r)){if(!(a.filter?a.filter(s):!0))continue;const u=a.up(s);u&&(r[o]=On(u))}else if(a.scope==="store"){const o=a.up(r);o&&(r=On(o))}else Pi(a)}catch(a){return console.error("Error migrating store",a),{type:"error",reason:LA.MigrationError}}return{type:"success",value:r}}createIntegrityChecker(e){var r,n;return((n=(r=this.options).createIntegrityChecker)==null?void 0:n.call(r,e))??void 0}serialize(){return{schemaVersion:2,sequences:Object.fromEntries(Object.values(this.migrations).map(({sequenceId:e,sequence:r})=>[e,r.length?UC(r.at(-1).id).version:0]))}}serializeEarliestVersion(){return{schemaVersion:2,sequences:Object.fromEntries(Object.values(this.migrations).map(({sequenceId:e})=>[e,0]))}}getType(e){const r=qa(this.types,e);return fr(r,"record type does not exists"),r}}Id("@tldraw/store","3.9.0","esm");function kvt(t){if(!t.length)return null;let e="";for(const r of t)typeof r=="number"?e+=`.${r}`:r.startsWith("(")?e.endsWith(")")?e=`${e.slice(0,-1)}, ${r.slice(1)}`:e+=r:e+=`.${r}`;return e=e.replace(/id = [^,]+, /,"").replace(/id = [^)]+/,""),e.startsWith(".")?e.slice(1):e}class Br extends Error{constructor(r,n=[]){const i=kvt(n),a=r.split(`
`).map((o,s)=>s===0?o:`  ${o}`).join(`
`);super(n?`At ${i}: ${a}`:a);K(this,"name","ValidationError");this.rawMessage=r,this.path=n}}function No(t,e){try{return e()}catch(r){throw r instanceof Br?new Br(r.rawMessage,[t,...r.path]):new Br(r.toString(),[t])}}function fd(t){if(t===null)return"null";if(Array.isArray(t))return"an array";const e=typeof t;switch(e){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${e}`;case"object":return`an ${e}`;case"undefined":return"undefined";default:Pi(e)}}class po{constructor(e,r){this.validationFn=e,this.validateUsingKnownGoodVersionFn=r}validate(e){return this.validationFn(e)}validateUsingKnownGoodVersion(e,r){return Object.is(e,r)?e:this.validateUsingKnownGoodVersionFn?this.validateUsingKnownGoodVersionFn(e,r):this.validate(r)}isValid(e){try{return this.validate(e),!0}catch{return!1}}nullable(){return $vt(this)}optional(){return a2e(this)}refine(e){return new po(r=>e(this.validate(r)),(r,n)=>{const i=this.validateUsingKnownGoodVersion(r,n);return Object.is(r,i)?r:e(i)})}check(e,r){return typeof e=="string"?this.refine(n=>(No(`(check ${e})`,()=>r(n)),n)):this.refine(n=>(e(n),n))}}class Uvt extends po{constructor(e){super(r=>{const n=gre.validate(r);for(let i=0;i<n.length;i++)No(i,()=>e.validate(n[i]));return n},(r,n)=>{if(!e.validateUsingKnownGoodVersion)return this.validate(n);const i=gre.validate(n);let a=r.length!==i.length;for(let o=0;o<i.length;o++){const s=i[o];if(o>=r.length){a=!0,No(o,()=>e.validate(s));continue}if(Object.is(r[o],s))continue;const l=No(o,()=>e.validateUsingKnownGoodVersion(r[o],s));Object.is(l,r[o])||(a=!0)}return a?n:r}),this.itemValidator=e}nonEmpty(){return this.check(e=>{if(e.length===0)throw new Br("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(e=>{if(e.length<=1)throw new Br("Expected an array with length greater than 1")})}}class DC extends po{constructor(e,r=!1){super(n=>{if(typeof n!="object"||n===null)throw new Br(`Expected object, got ${fd(n)}`);for(const[i,a]of Object.entries(e))No(i,()=>{a.validate(qa(n,i))});if(!r){for(const i of Object.keys(n))if(!Xs(e,i))throw new Br("Unexpected property",[i])}return n},(n,i)=>{if(typeof i!="object"||i===null)throw new Br(`Expected object, got ${fd(i)}`);let a=!1;for(const[o,s]of Object.entries(e)){const l=qa(n,o),u=qa(i,o);if(Object.is(l,u))continue;const c=No(o,()=>{const A=s;return A.validateUsingKnownGoodVersion?A.validateUsingKnownGoodVersion(l,u):A.validate(u)});Object.is(c,l)||(a=!0)}if(!r){for(const o of Object.keys(i))if(!Xs(e,o))throw new Br("Unexpected property",[o])}for(const o of Object.keys(n))if(!Xs(i,o)){a=!0;break}return a?i:n}),this.config=e,this.shouldAllowUnknownProperties=r}allowUnknownProperties(){return new DC(this.config,!0)}extend(e){return new DC({...this.config,...e})}}class $E extends po{constructor(e,r,n,i){super(a=>{this.expectObject(a);const{matchingSchema:o,variant:s}=this.getMatchingSchemaAndVariant(a);return o===void 0?this.unknownValueValidation(a,s):No(`(${e} = ${s})`,()=>o.validate(a))},(a,o)=>{this.expectObject(o),this.expectObject(a);const{matchingSchema:s,variant:l}=this.getMatchingSchemaAndVariant(o);return s===void 0?this.unknownValueValidation(o,l):qa(a,e)!==qa(o,e)?No(`(${e} = ${l})`,()=>s.validate(o)):No(`(${e} = ${l})`,()=>s.validateUsingKnownGoodVersion?s.validateUsingKnownGoodVersion(a,o):s.validate(o))}),this.key=e,this.config=r,this.unknownValueValidation=n,this.useNumberKeys=i}expectObject(e){if(typeof e!="object"||e===null)throw new Br(`Expected an object, got ${fd(e)}`,[])}getMatchingSchemaAndVariant(e){const r=qa(e,this.key);if(!this.useNumberKeys&&typeof r!="string")throw new Br(`Expected a string for key "${this.key}", got ${fd(r)}`);if(this.useNumberKeys&&!Number.isFinite(Number(r)))throw new Br(`Expected a number for key "${this.key}", got "${r}"`);return{matchingSchema:Xs(this.config,r)?this.config[r]:void 0,variant:r}}validateUnknownVariants(e){return new $E(this.key,this.config,e,this.useNumberKeys)}}class Dvt extends po{constructor(e,r){super(n=>{if(typeof n!="object"||n===null)throw new Br(`Expected object, got ${fd(n)}`);for(const[i,a]of Object.entries(n))No(i,()=>{e.validate(i),r.validate(a)});return n},(n,i)=>{if(typeof i!="object"||i===null)throw new Br(`Expected object, got ${fd(i)}`);let a=!1;for(const[o,s]of Object.entries(i)){if(!Xs(n,o)){a=!0,No(o,()=>{e.validate(o),r.validate(s)});continue}const l=qa(n,o),u=s;if(Object.is(l,u))continue;const c=No(o,()=>r.validateUsingKnownGoodVersion?r.validateUsingKnownGoodVersion(l,u):r.validate(u));Object.is(c,l)||(a=!0)}for(const o of Object.keys(n))if(!Xs(i,o)){a=!0;break}return a?i:n}),this.keyValidator=e,this.valueValidator=r}}function U5(t){return new po(e=>{if(typeof e!==t)throw new Br(`Expected ${t}, got ${fd(e)}`);return e})}const jvt=new po(t=>t),nr=U5("string"),zt=U5("number").check(t=>{if(Number.isNaN(t))throw new Br("Expected a number, got NaN");if(!Number.isFinite(t))throw new Br(`Expected a finite number, got ${t}`)}),jC=zt.check(t=>{if(t<0)throw new Br(`Expected a positive number, got ${t}`)}),gi=zt.check(t=>{if(t<=0)throw new Br(`Expected a non-zero positive number, got ${t}`)}),i2e=zt.check(t=>{if(!Number.isInteger(t))throw new Br(`Expected an integer, got ${t}`)}),Ux=i2e.check(t=>{if(t<0)throw new Br(`Expected a positive integer, got ${t}`)}),Lvt=i2e.check(t=>{if(t<=0)throw new Br(`Expected a non-zero positive integer, got ${t}`)}),pr=U5("boolean");function Ga(t){return new po(e=>{if(e!==t)throw new Br(`Expected ${t}, got ${JSON.stringify(e)}`);return t})}const gre=new po(t=>{if(!Array.isArray(t))throw new Br(`Expected an array, got ${fd(t)}`);return t});function fa(t){return new Uvt(t)}function mr(t){return new DC(t)}function c4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null||Object.getPrototypeOf(t)===_mt)}function A4(t){return t===null||typeof t=="number"||typeof t=="string"||typeof t=="boolean"?!0:Array.isArray(t)?t.every(A4):c4(t)?Object.values(t).every(A4):!1}const ha=new po(t=>{if(A4(t))return t;throw new Br(`Expected json serializable value, got ${typeof t}`)},(t,e)=>{if(Array.isArray(t)&&Array.isArray(e)){let r=t.length!==e.length;for(let n=0;n<e.length;n++){if(n>=t.length){r=!0,ha.validate(e[n]);continue}const i=t[n],a=e[n];if(Object.is(i,a))continue;const o=ha.validateUsingKnownGoodVersion(i,a);Object.is(o,i)||(r=!0)}return r?e:t}else if(c4(t)&&c4(e)){let r=!1;for(const n of Object.keys(e)){if(!Xs(t,n)){r=!0,ha.validate(e[n]);continue}const i=t[n],a=e[n];if(Object.is(i,a))continue;const o=ha.validateUsingKnownGoodVersion(i,a);Object.is(o,i)||(r=!0)}for(const n of Object.keys(t))if(!Xs(e,n)){r=!0;break}return r?e:t}else return ha.validate(e)});function LC(t,e){return new Dvt(t,e)}function D5(t,e){return new $E(t,e,(r,n)=>{throw new Br(`Expected one of ${Object.keys(e).map(i=>JSON.stringify(i)).join(" or ")}, got ${JSON.stringify(n)}`,[t])},!1)}function Nvt(t,e){return new $E(t,e,(r,n)=>{throw new Br(`Expected one of ${Object.keys(e).map(i=>JSON.stringify(i)).join(" or ")}, got ${JSON.stringify(n)}`,[t])},!0)}function nc(t,e){return new po(r=>No(t,()=>e.validate(r)),(r,n)=>No(t,()=>e.validateUsingKnownGoodVersion?e.validateUsingKnownGoodVersion(r,n):e.validate(n)))}function QE(t){return new po(e=>{if(!t.has(e)){const r=Array.from(t,n=>JSON.stringify(n)).join(" or ");throw new Br(`Expected ${r}, got ${e}`)}return e})}function a2e(t){return new po(e=>{if(e!==void 0)return t.validate(e)},(e,r)=>{if(!(e===void 0&&r===void 0)&&r!==void 0)return t.validateUsingKnownGoodVersion&&e!==void 0?t.validateUsingKnownGoodVersion(e,r):t.validate(r)})}function $vt(t){return new po(e=>e===null?null:t.validate(e),(e,r)=>r===null?null:t.validateUsingKnownGoodVersion&&e!==null?t.validateUsingKnownGoodVersion(e,r):t.validate(r))}function HE(...t){return QE(new Set(t))}function j5(t){try{return new URL(t)}catch{if(t.startsWith("/")||t.startsWith("./"))try{return new URL(t,"http://example.com")}catch{throw new Br(`Expected a valid url, got ${JSON.stringify(t)}`)}throw new Br(`Expected a valid url, got ${JSON.stringify(t)}`)}}const Qvt=new Set(["http:","https:","mailto:"]),ps=nr.check(t=>{if(t==="")return;const e=j5(t);if(!Qvt.has(e.protocol.toLowerCase()))throw new Br(`Expected a valid url, got ${JSON.stringify(t)} (invalid protocol)`)}),Hvt=new Set(["http:","https:","data:","asset:"]),qf=nr.check(t=>{if(t==="")return;const e=j5(t);if(!Hvt.has(e.protocol.toLowerCase()))throw new Br(`Expected a valid url, got ${JSON.stringify(t)} (invalid protocol)`)});nr.check(t=>{if(t==="")return;if(!j5(t).protocol.toLowerCase().match(/^https?:$/))throw new Br(`Expected a valid url, got ${JSON.stringify(t)} (invalid protocol)`)});const L5=nr.refine(t=>{try{return pmt(t),t}catch{throw new Br(`Expected an index key, got ${JSON.stringify(t)}`)}});Id("@tldraw/validate","3.9.0","esm");function fs(t){return nr.refine(e=>{if(!e.startsWith(`${t}:`))throw new Error(`${t} ID must start with "${t}:"`);return e})}const qE=fs("asset");function N5(t,e){return mr({id:qE,typeName:Ga("asset"),type:Ga(t),props:e,meta:ha})}const Kf=mr({x:zt,y:zt,z:zt.optional()}),Sy=mr({x:zt,y:zt,w:zt,h:zt}),o2e=zt.check(t=>{if(t<0||t>1)throw new Br("Opacity must be between 0 and 1")}),qvt=nr.refine(t=>{if(!t.startsWith("page:")&&!t.startsWith("shape:"))throw new Error('Parent ID must start with "page:" or "shape:"');return t}),js=fs("shape");function Kvt(t,e,r){return mr({id:js,typeName:Ga("shape"),x:zt,y:zt,rotation:zt,index:L5,parentId:qvt,type:Ga(t),isLocked:pr,opacity:o2e,props:e?mr(e):ha,meta:r?mr(r):ha})}const zvt=fs("binding");function Wvt(t,e,r){return mr({id:zvt,typeName:Ga("binding"),type:Ga(t),fromId:js,toId:js,props:e?mr(e):ha,meta:r?mr(r):ha})}qo("com.tldraw.binding",{});ws({sequenceId:"com.tldraw.binding",recordType:"binding",sequence:[]});function jf(t){return`binding:${Xr()}`}function Gvt(t){return rc("binding",{scope:"document",validator:nc("binding",D5("type",ub(t,(e,{props:r,meta:n})=>Wvt(e,r,n))))}).withDefaultProperties(()=>({meta:{}}))}class ba{constructor(e,r,n){this.id=e,this.defaultValue=r,this.type=n}static define(e,r){const{defaultValue:n,type:i=jvt}=r;return new ba(e,n,i)}static defineEnum(e,r){const{defaultValue:n,values:i}=r;return new Vvt(e,n,i)}setDefaultValue(e){this.defaultValue=e}validate(e){return this.type.validate(e)}validateUsingKnownGoodVersion(e,r){return this.type.validateUsingKnownGoodVersion?this.type.validateUsingKnownGoodVersion(e,r):this.validate(r)}}class Vvt extends ba{constructor(e,r,n){super(e,r,HE(...n)),this.values=n}}const N0=qo("com.tldraw.shape",{AddIsLocked:1,HoistOpacity:2,AddMeta:3,AddWhite:4}),Yvt=ws({sequenceId:"com.tldraw.shape",recordType:"shape",sequence:[{id:N0.AddIsLocked,up:t=>{t.isLocked=!1},down:t=>{delete t.isLocked}},{id:N0.HoistOpacity,up:t=>{t.opacity=Number(t.props.opacity??"1"),delete t.props.opacity},down:t=>{const e=t.opacity;delete t.opacity,t.props.opacity=e<.175?"0.1":e<.375?"0.25":e<.625?"0.5":e<.875?"0.75":"1"}},{id:N0.AddMeta,up:t=>{t.meta={}}},{id:N0.AddWhite,up:t=>{},down:t=>{t.props.color==="white"&&(t.props.color="black")}}]});function jp(t){return t?t.typeName==="shape":!1}function Fo(t){return t?t.startsWith("shape:"):!1}function an(t){return`shape:${t??Xr()}`}function s2e(t){const e=new Map;for(const[r,n]of Object.entries(t))if(n instanceof ba){if(e.has(n))throw new Error(`Duplicate style prop ${n.id}. Each style prop can only be used once within a shape.`);e.set(n,r)}return e}function Gl(t,e){return ub(e,(r,n)=>`com.tldraw.shape.${t}/${n}`)}function Xvt(t){return rc("shape",{scope:"document",validator:nc("shape",D5("type",ub(t,(e,{props:r,meta:n})=>Kvt(e,r,n))))}).withDefaultProperties(()=>({x:0,y:0,rotation:0,isLocked:!1,opacity:1,meta:{}}))}function mre(t,e){const r=[];for(const[n,{migrations:i}]of Object.entries(e)){const a=`com.tldraw.${t}.${n}`;i?"sequenceId"in i?(fr(a===i.sequenceId,`sequenceId mismatch for ${n} ${NE} migrations. Expected '${a}', got '${i.sequenceId}'`),r.push(i)):"sequence"in i?r.push(Vp({sequenceId:a,retroactive:!1,sequence:i.sequence.map(o=>"id"in o?l2e(t,n,o):o)})):r.push(Vp({sequenceId:a,retroactive:!1,sequence:Object.keys(i.migrators).map(o=>Number(o)).sort((o,s)=>o-s).map(o=>({id:`${a}/${o}`,scope:"record",filter:s=>s.typeName===t&&s.type===n,up:s=>{const l=i.migrators[o].up(s);if(l)return l},down:s=>{const l=i.migrators[o].down(s);if(l)return l}}))})):r.push(Vp({sequenceId:a,retroactive:!1,sequence:[]}))}return r}function l2e(t,e,r){return{id:r.id,dependsOn:r.dependsOn,scope:"record",filter:n=>n.typeName===t&&n.type===e,up:n=>{const i=r.up(n.props);i&&(n.props=i)},down:typeof r.down=="function"?n=>{const i=r.down(n.props);i&&(n.props=i)}:void 0}}const u2e=["black","grey","light-violet","violet","blue","light-blue","yellow","orange","green","light-green","light-red","red","white"],NC={lightMode:{id:"light",text:"#000000",background:"rgb(249, 250, 251)",solid:"#fcfffe",black:{solid:"#1d1d1d",fill:"#1d1d1d",note:{fill:"#FCE19C",text:"#000000"},semi:"#e8e8e8",pattern:"#494949",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},blue:{solid:"#4465e9",fill:"#4465e9",note:{fill:"#8AA3FF",text:"#000000"},semi:"#dce1f8",pattern:"#6681ee",highlight:{srgb:"#10acff",p3:"color(display-p3 0.308 0.6632 0.9996)"}},green:{solid:"#099268",fill:"#099268",note:{fill:"#6FC896",text:"#000000"},semi:"#d3e9e3",pattern:"#39a785",highlight:{srgb:"#00ffc8",p3:"color(display-p3 0.2536 0.984 0.7981)"}},grey:{solid:"#9fa8b2",fill:"#9fa8b2",note:{fill:"#C0CAD3",text:"#000000"},semi:"#eceef0",pattern:"#bcc3c9",highlight:{srgb:"#cbe7f1",p3:"color(display-p3 0.8163 0.9023 0.9416)"}},"light-blue":{solid:"#4ba1f1",fill:"#4ba1f1",note:{fill:"#9BC4FD",text:"#000000"},semi:"#ddedfa",pattern:"#6fbbf8",highlight:{srgb:"#00f4ff",p3:"color(display-p3 0.1512 0.9414 0.9996)"}},"light-green":{solid:"#4cb05e",fill:"#4cb05e",note:{fill:"#98D08A",text:"#000000"},semi:"#dbf0e0",pattern:"#65cb78",highlight:{srgb:"#65f641",p3:"color(display-p3 0.563 0.9495 0.3857)"}},"light-red":{solid:"#f87777",fill:"#f87777",note:{fill:"#F7A5A1",text:"#000000"},semi:"#f4dadb",pattern:"#fe9e9e",highlight:{srgb:"#ff7fa3",p3:"color(display-p3 0.9988 0.5301 0.6397)"}},"light-violet":{solid:"#e085f4",fill:"#e085f4",note:{fill:"#DFB0F9",text:"#000000"},semi:"#f5eafa",pattern:"#e9acf8",highlight:{srgb:"#ff88ff",p3:"color(display-p3 0.9676 0.5652 0.9999)"}},orange:{solid:"#e16919",fill:"#e16919",note:{fill:"#FAA475",text:"#000000"},semi:"#f8e2d4",pattern:"#f78438",highlight:{srgb:"#ffa500",p3:"color(display-p3 0.9988 0.6905 0.266)"}},red:{solid:"#e03131",fill:"#e03131",note:{fill:"#FC8282",text:"#000000"},semi:"#f4dadb",pattern:"#e55959",highlight:{srgb:"#ff636e",p3:"color(display-p3 0.9992 0.4376 0.45)"}},violet:{solid:"#ae3ec9",fill:"#ae3ec9",note:{fill:"#DB91FD",text:"#000000"},semi:"#ecdcf2",pattern:"#bd63d3",highlight:{srgb:"#c77cff",p3:"color(display-p3 0.7469 0.5089 0.9995)"}},yellow:{solid:"#f1ac4b",fill:"#f1ac4b",note:{fill:"#FED49A",text:"#000000"},semi:"#f9f0e6",pattern:"#fecb92",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},white:{solid:"#FFFFFF",fill:"#FFFFFF",semi:"#f5f5f5",pattern:"#f9f9f9",note:{fill:"#FFFFFF",text:"#000000"},highlight:{srgb:"#ffffff",p3:"color(display-p3 1 1 1)"}}},darkMode:{id:"dark",text:"hsl(210, 17%, 98%)",background:"hsl(240, 5%, 6.5%)",solid:"#010403",black:{solid:"#f2f2f2",fill:"#f2f2f2",note:{fill:"#2c2c2c",text:"#f2f2f2"},semi:"#2c3036",pattern:"#989898",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},blue:{solid:"#4f72fc",fill:"#4f72fc",note:{fill:"#2A3F98",text:"#f2f2f2"},semi:"#262d40",pattern:"#3a4b9e",highlight:{srgb:"#0079d2",p3:"color(display-p3 0.0032 0.4655 0.7991)"}},green:{solid:"#099268",fill:"#099268",note:{fill:"#014429",text:"#f2f2f2"},semi:"#253231",pattern:"#366a53",highlight:{srgb:"#009774",p3:"color(display-p3 0.0085 0.582 0.4604)"}},grey:{solid:"#9398b0",fill:"#9398b0",note:{fill:"#56595F",text:"#f2f2f2"},semi:"#33373c",pattern:"#7c8187",highlight:{srgb:"#9cb4cb",p3:"color(display-p3 0.6299 0.7012 0.7856)"}},"light-blue":{solid:"#4dabf7",fill:"#4dabf7",note:{fill:"#1F5495",text:"#f2f2f2"},semi:"#2a3642",pattern:"#4d7aa9",highlight:{srgb:"#00bdc8",p3:"color(display-p3 0.0023 0.7259 0.7735)"}},"light-green":{solid:"#40c057",fill:"#40c057",note:{fill:"#21581D",text:"#f2f2f2"},semi:"#2a3830",pattern:"#4e874e",highlight:{srgb:"#00a000",p3:"color(display-p3 0.2711 0.6172 0.0195)"}},"light-red":{solid:"#ff8787",fill:"#ff8787",note:{fill:"#923632",text:"#f2f2f2"},semi:"#3b3235",pattern:"#a56767",highlight:{srgb:"#db005b",p3:"color(display-p3 0.7849 0.0585 0.3589)"}},"light-violet":{solid:"#e599f7",fill:"#e599f7",note:{fill:"#762F8E",text:"#f2f2f2"},semi:"#383442",pattern:"#9770a9",highlight:{srgb:"#c400c7",p3:"color(display-p3 0.7024 0.0403 0.753)"}},orange:{solid:"#f76707",fill:"#f76707",note:{fill:"#843906",text:"#f2f2f2"},semi:"#3a2e2a",pattern:"#9f552d",highlight:{srgb:"#d07a00",p3:"color(display-p3 0.7699 0.4937 0.0085)"}},red:{solid:"#e03131",fill:"#e03131",note:{fill:"#89231A",text:"#f2f2f2"},semi:"#36292b",pattern:"#8f3734",highlight:{srgb:"#de002c",p3:"color(display-p3 0.7978 0.0509 0.2035)"}},violet:{solid:"#ae3ec9",fill:"#ae3ec9",note:{fill:"#681683",text:"#f2f2f2"},semi:"#31293c",pattern:"#763a8b",highlight:{srgb:"#9e00ee",p3:"color(display-p3 0.5651 0.0079 0.8986)"}},yellow:{solid:"#ffc034",fill:"#ffc034",note:{fill:"#98571B",text:"#f2f2f2"},semi:"#3c3934",pattern:"#fecb92",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},white:{solid:"#f3f3f3",fill:"#f3f3f3",semi:"#f5f5f5",pattern:"#f9f9f9",note:{fill:"#eaeaea",text:"#1d1d1d"},highlight:{srgb:"#ffffff",p3:"color(display-p3 1 1 1)"}}}};function oA(t){return t.isDarkMode?NC.darkMode:NC.lightMode}const gs=ba.defineEnum("tldraw:color",{defaultValue:"black",values:u2e}),$5=ba.defineEnum("tldraw:labelColor",{defaultValue:"black",values:u2e}),zf=ba.defineEnum("tldraw:dash",{defaultValue:"draw",values:["draw","solid","dashed","dotted"]}),Wf=ba.defineEnum("tldraw:fill",{defaultValue:"none",values:["none","semi","solid","pattern","fill"]}),Nu=ba.defineEnum("tldraw:font",{defaultValue:"draw",values:["draw","sans","serif","mono"]}),c2e={draw:"'tldraw_draw', sans-serif",sans:"'tldraw_sans', sans-serif",serif:"'tldraw_serif', serif",mono:"'tldraw_mono', monospace"},$u=ba.defineEnum("tldraw:size",{defaultValue:"m",values:["s","m","l","xl"]}),A2e=["arrow","triangle","square","dot","pipe","diamond","inverted","bar","none"],$C=ba.defineEnum("tldraw:arrowheadStart",{defaultValue:"none",values:A2e}),QC=ba.defineEnum("tldraw:arrowheadEnd",{defaultValue:"arrow",values:A2e}),d2e={labelColor:$5,color:gs,fill:Wf,dash:zf,size:$u,arrowheadStart:$C,arrowheadEnd:QC,font:Nu,start:Kf,end:Kf,bend:zt,text:nr,labelPosition:zt,scale:gi},Bp=Gl("arrow",{AddLabelColor:1,AddIsPrecise:2,AddLabelPosition:3,ExtractBindings:4,AddScale:5});function $0(t){return l2e("shape","arrow",t)}const f2e=Vp({sequenceId:"com.tldraw.shape.arrow",retroactive:!1,sequence:[$0({id:Bp.AddLabelColor,up:t=>{t.labelColor="black"},down:"retired"}),$0({id:Bp.AddIsPrecise,up:({start:t,end:e})=>{t.type==="binding"&&(t.isPrecise=!(t.normalizedAnchor.x===.5&&t.normalizedAnchor.y===.5)),e.type==="binding"&&(e.isPrecise=!(e.normalizedAnchor.x===.5&&e.normalizedAnchor.y===.5))},down:({start:t,end:e})=>{t.type==="binding"&&(t.isPrecise||(t.normalizedAnchor={x:.5,y:.5}),delete t.isPrecise),e.type==="binding"&&(e.isPrecise||(e.normalizedAnchor={x:.5,y:.5}),delete e.isPrecise)}}),$0({id:Bp.AddLabelPosition,up:t=>{t.labelPosition=.5},down:t=>{delete t.labelPosition}}),{id:Bp.ExtractBindings,scope:"store",up:t=>{const e=Object.values(t).filter(r=>r.typeName==="shape"&&r.type==="arrow");for(const r of e){const{start:n,end:i}=r.props;if(n.type==="binding"){const a=jf(),o={typeName:"binding",id:a,type:"arrow",fromId:r.id,toId:n.boundShapeId,meta:{},props:{terminal:"start",normalizedAnchor:n.normalizedAnchor,isExact:n.isExact,isPrecise:n.isPrecise}};t[a]=o,r.props.start={x:0,y:0}}else delete r.props.start.type;if(i.type==="binding"){const a=jf(),o={typeName:"binding",id:a,type:"arrow",fromId:r.id,toId:i.boundShapeId,meta:{},props:{terminal:"end",normalizedAnchor:i.normalizedAnchor,isExact:i.isExact,isPrecise:i.isPrecise}};t[a]=o,r.props.end={x:0,y:0}}else delete r.props.end.type}}},$0({id:Bp.AddScale,up:t=>{t.scale=1},down:t=>{delete t.scale}})]}),h2e={terminal:HE("start","end"),normalizedAnchor:Kf,isExact:pr,isPrecise:pr},p2e={sequence:[{dependsOn:[Bp.ExtractBindings]}]},Jvt=nc("camera",mr({typeName:Ga("camera"),id:fs("camera"),x:zt,y:zt,z:zt,meta:ha})),Zvt=qo("com.tldraw.camera",{AddMeta:1}),eyt=ws({sequenceId:"com.tldraw.camera",recordType:"camera",sequence:[{id:Zvt.AddMeta,up:t=>{t.meta={}}}]}),Bu=rc("camera",{validator:Jvt,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,z:1,meta:{}})),tyt=new Set(["none","default","pointer","cross","grab","rotate","grabbing","resize-edge","resize-corner","text","move","ew-resize","ns-resize","nesw-resize","nwse-resize","nesw-rotate","nwse-rotate","swne-rotate","senw-rotate","zoom-in","zoom-out"]),g2e=QE(tyt),ryt=mr({type:g2e,rotation:zt}),nyt=new Set(["accent","white","black","selection-stroke","selection-fill","laser","muted-1"]),iyt=QE(nyt),ayt=new Set(["starting","paused","active","stopping"]),m2e=mr({id:nr,points:fa(Kf),size:jC,color:iyt,opacity:zt,state:QE(ayt),delay:zt,shrink:zt,taper:pr}),_w=fs("page"),oyt=nc("page",mr({typeName:Ga("page"),id:_w,name:nr,index:L5,meta:ha})),syt=qo("com.tldraw.page",{AddMeta:1}),lyt=ws({sequenceId:"com.tldraw.page",recordType:"page",sequence:[{id:syt.AddMeta,up:t=>{t.meta={}}}]}),ms=rc("page",{validator:oyt,scope:"document"}).withDefaultProperties(()=>({meta:{}}));function To(t){return ms.isId(t)}const uyt={id:!1,typeName:!1,currentPageId:!1,opacityForNextShape:!1,stylesForNextShape:!1,followingUserId:!1,highlightedUserIds:!1,brush:!1,cursor:!1,scribbles:!1,isFocusMode:!0,isDebugMode:!0,isToolLocked:!0,exportBackground:!0,screenBounds:!0,insets:!0,zoomBrush:!1,chatMessage:!1,isChatting:!1,isPenMode:!1,isGridMode:!0,isFocused:!0,devicePixelRatio:!0,isCoarsePointer:!0,isHoveringCanvas:!1,openMenus:!1,isChangingStyle:!1,isReadonly:!0,meta:!1,duplicateProps:!1};function v2e(t){return t?wy(t,e=>uyt[e]):null}fs("instance");function cyt(t){const e={};for(const[n,i]of t)e[n]=a2e(i);const r=nc("instance",mr({typeName:Ga("instance"),id:fs("instance"),currentPageId:_w,followingUserId:nr.nullable(),brush:Sy.nullable(),opacityForNextShape:o2e,stylesForNextShape:mr(e),cursor:ryt,scribbles:fa(m2e),isFocusMode:pr,isDebugMode:pr,isToolLocked:pr,exportBackground:pr,screenBounds:Sy,insets:fa(pr),zoomBrush:Sy.nullable(),isPenMode:pr,isGridMode:pr,chatMessage:nr,isChatting:pr,highlightedUserIds:fa(nr),isFocused:pr,devicePixelRatio:zt,isCoarsePointer:pr,isHoveringCanvas:pr.nullable(),openMenus:fa(nr),isChangingStyle:pr,isReadonly:pr,meta:ha,duplicateProps:mr({shapeIds:fa(fs("shape")),offset:mr({x:zt,y:zt})}).nullable()}));return rc("instance",{validator:r,scope:"session",ephemeralKeys:{currentPageId:!1,meta:!1,followingUserId:!0,opacityForNextShape:!0,stylesForNextShape:!0,brush:!0,cursor:!0,scribbles:!0,isFocusMode:!0,isDebugMode:!0,isToolLocked:!0,exportBackground:!0,screenBounds:!0,insets:!0,zoomBrush:!0,isPenMode:!0,isGridMode:!0,chatMessage:!0,isChatting:!0,highlightedUserIds:!0,isFocused:!0,devicePixelRatio:!0,isCoarsePointer:!0,isHoveringCanvas:!0,openMenus:!0,isChangingStyle:!0,isReadonly:!0,duplicateProps:!0}}).withDefaultProperties(()=>({followingUserId:null,opacityForNextShape:1,stylesForNextShape:{},brush:null,scribbles:[],cursor:{type:"default",rotation:0},isFocusMode:!1,exportBackground:!1,isDebugMode:!1,isToolLocked:!1,screenBounds:{x:0,y:0,w:1080,h:720},insets:[!1,!1,!1,!1],zoomBrush:null,isGridMode:!1,isPenMode:!1,chatMessage:"",isChatting:!1,highlightedUserIds:[],isFocused:!1,devicePixelRatio:typeof window>"u"?1:window.devicePixelRatio,isCoarsePointer:!1,isHoveringCanvas:null,openMenus:[],isChangingStyle:!1,isReadonly:!1,meta:{},duplicateProps:null}))}const Pn=qo("com.tldraw.instance",{AddTransparentExportBgs:1,RemoveDialog:2,AddToolLockMode:3,RemoveExtraPropsForNextShape:4,AddLabelColor:5,AddFollowingUserId:6,RemoveAlignJustify:7,AddZoom:8,AddVerticalAlign:9,AddScribbleDelay:10,RemoveUserId:11,AddIsPenModeAndIsGridMode:12,HoistOpacity:13,AddChat:14,AddHighlightedUserIds:15,ReplacePropsForNextShapeWithStylesForNextShape:16,AddMeta:17,RemoveCursorColor:18,AddLonelyProperties:19,ReadOnlyReadonly:20,AddHoveringCanvas:21,AddScribbles:22,AddInset:23,AddDuplicateProps:24,RemoveCanMoveCamera:25}),Ayt=ws({sequenceId:"com.tldraw.instance",recordType:"instance",sequence:[{id:Pn.AddTransparentExportBgs,up:t=>({...t,exportBackground:!0})},{id:Pn.RemoveDialog,up:({dialog:t,...e})=>e},{id:Pn.AddToolLockMode,up:t=>({...t,isToolLocked:!1})},{id:Pn.RemoveExtraPropsForNextShape,up:({propsForNextShape:t,...e})=>({...e,propsForNextShape:Object.fromEntries(Object.entries(t).filter(([r])=>["color","labelColor","dash","fill","size","font","align","verticalAlign","icon","geo","arrowheadStart","arrowheadEnd","spline"].includes(r)))})},{id:Pn.AddLabelColor,up:({propsForNextShape:t,...e})=>({...e,propsForNextShape:{...t,labelColor:"black"}})},{id:Pn.AddFollowingUserId,up:t=>({...t,followingUserId:null})},{id:Pn.RemoveAlignJustify,up:t=>{let e=t.propsForNextShape.align;return e==="justify"&&(e="start"),{...t,propsForNextShape:{...t.propsForNextShape,align:e}}}},{id:Pn.AddZoom,up:t=>({...t,zoomBrush:null})},{id:Pn.AddVerticalAlign,up:t=>({...t,propsForNextShape:{...t.propsForNextShape,verticalAlign:"middle"}})},{id:Pn.AddScribbleDelay,up:t=>t.scribble!==null?{...t,scribble:{...t.scribble,delay:0}}:{...t}},{id:Pn.RemoveUserId,up:({userId:t,...e})=>e},{id:Pn.AddIsPenModeAndIsGridMode,up:t=>({...t,isPenMode:!1,isGridMode:!1})},{id:Pn.HoistOpacity,up:({propsForNextShape:{opacity:t,...e},...r})=>({...r,opacityForNextShape:Number(t??"1"),propsForNextShape:e})},{id:Pn.AddChat,up:t=>({...t,chatMessage:"",isChatting:!1})},{id:Pn.AddHighlightedUserIds,up:t=>({...t,highlightedUserIds:[]})},{id:Pn.ReplacePropsForNextShapeWithStylesForNextShape,up:({propsForNextShape:t,...e})=>({...e,stylesForNextShape:{}})},{id:Pn.AddMeta,up:t=>({...t,meta:{}})},{id:Pn.RemoveCursorColor,up:t=>{const{color:e,...r}=t.cursor;return{...t,cursor:r}}},{id:Pn.AddLonelyProperties,up:t=>({...t,canMoveCamera:!0,isFocused:!1,devicePixelRatio:1,isCoarsePointer:!1,openMenus:[],isChangingStyle:!1,isReadOnly:!1})},{id:Pn.ReadOnlyReadonly,up:({isReadOnly:t,...e})=>({...e,isReadonly:t})},{id:Pn.AddHoveringCanvas,up:t=>({...t,isHoveringCanvas:null})},{id:Pn.AddScribbles,up:({scribble:t,...e})=>({...e,scribbles:[]})},{id:Pn.AddInset,up:t=>({...t,insets:[!1,!1,!1,!1]}),down:({insets:t,...e})=>({...e})},{id:Pn.AddDuplicateProps,up:t=>({...t,duplicateProps:null}),down:({duplicateProps:t,...e})=>({...e})},{id:Pn.RemoveCanMoveCamera,up:({canMoveCamera:t,...e})=>({...e}),down:t=>({...t,canMoveCamera:!0})}]}),co="instance:instance",dyt=nc("instance_page_state",mr({typeName:Ga("instance_page_state"),id:fs("instance_page_state"),pageId:_w,selectedShapeIds:fa(js),hintingShapeIds:fa(js),erasingShapeIds:fa(js),hoveredShapeId:js.nullable(),editingShapeId:js.nullable(),croppingShapeId:js.nullable(),focusedGroupId:js.nullable(),meta:ha})),Ev=qo("com.tldraw.instance_page_state",{AddCroppingId:1,RemoveInstanceIdAndCameraId:2,AddMeta:3,RenameProperties:4,RenamePropertiesAgain:5}),fyt=ws({sequenceId:"com.tldraw.instance_page_state",recordType:"instance_page_state",sequence:[{id:Ev.AddCroppingId,up(t){t.croppingShapeId=null}},{id:Ev.RemoveInstanceIdAndCameraId,up(t){delete t.instanceId,delete t.cameraId}},{id:Ev.AddMeta,up:t=>{t.meta={}}},{id:Ev.RenameProperties,up:t=>{},down:t=>{}},{id:Ev.RenamePropertiesAgain,up:t=>{t.selectedShapeIds=t.selectedIds,delete t.selectedIds,t.hintingShapeIds=t.hintingIds,delete t.hintingIds,t.erasingShapeIds=t.erasingIds,delete t.erasingIds,t.hoveredShapeId=t.hoveredId,delete t.hoveredId,t.editingShapeId=t.editingId,delete t.editingId,t.croppingShapeId=t.croppingShapeId??t.croppingId??null,delete t.croppingId,t.focusedGroupId=t.focusLayerId,delete t.focusLayerId},down:t=>{t.selectedIds=t.selectedShapeIds,delete t.selectedShapeIds,t.hintingIds=t.hintingShapeIds,delete t.hintingShapeIds,t.erasingIds=t.erasingShapeIds,delete t.erasingShapeIds,t.hoveredId=t.hoveredShapeId,delete t.hoveredShapeId,t.editingId=t.editingShapeId,delete t.editingShapeId,t.croppingId=t.croppingShapeId,delete t.croppingShapeId,t.focusLayerId=t.focusedGroupId,delete t.focusedGroupId}}]}),Rl=rc("instance_page_state",{validator:dyt,scope:"session",ephemeralKeys:{pageId:!1,selectedShapeIds:!1,editingShapeId:!1,croppingShapeId:!1,meta:!1,hintingShapeIds:!0,erasingShapeIds:!0,hoveredShapeId:!0,focusedGroupId:!0}}).withDefaultProperties(()=>({editingShapeId:null,croppingShapeId:null,selectedShapeIds:[],hoveredShapeId:null,erasingShapeIds:[],hintingShapeIds:[],focusedGroupId:null,meta:{}})),hyt=nc("pointer",mr({typeName:Ga("pointer"),id:fs("pointer"),x:zt,y:zt,lastActivityTimestamp:zt,meta:ha})),pyt=qo("com.tldraw.pointer",{AddMeta:1}),gyt=ws({sequenceId:"com.tldraw.pointer",recordType:"pointer",sequence:[{id:pyt.AddMeta,up:t=>{t.meta={}}}]}),Q5=rc("pointer",{validator:hyt,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,lastActivityTimestamp:0,meta:{}})),HC=Q5.createId("pointer"),myt=nc("instance_presence",mr({typeName:Ga("instance_presence"),id:fs("instance_presence"),userId:nr,userName:nr,lastActivityTimestamp:zt.nullable(),followingUserId:nr.nullable(),cursor:mr({x:zt,y:zt,type:g2e,rotation:zt}).nullable(),color:nr,camera:mr({x:zt,y:zt,z:zt}).nullable(),screenBounds:Sy.nullable(),selectedShapeIds:fa(fs("shape")),currentPageId:fs("page"),brush:Sy.nullable(),scribbles:fa(m2e),chatMessage:nr,meta:ha})),fp=qo("com.tldraw.instance_presence",{AddScribbleDelay:1,RemoveInstanceId:2,AddChatMessage:3,AddMeta:4,RenameSelectedShapeIds:5,NullableCameraCursor:6}),vyt=ws({sequenceId:"com.tldraw.instance_presence",recordType:"instance_presence",sequence:[{id:fp.AddScribbleDelay,up:t=>{t.scribble!==null&&(t.scribble.delay=0)}},{id:fp.RemoveInstanceId,up:t=>{delete t.instanceId}},{id:fp.AddChatMessage,up:t=>{t.chatMessage=""}},{id:fp.AddMeta,up:t=>{t.meta={}}},{id:fp.RenameSelectedShapeIds,up:t=>{}},{id:fp.NullableCameraCursor,up:t=>{},down:t=>{t.camera===null&&(t.camera={x:0,y:0,z:1}),t.lastActivityTimestamp===null&&(t.lastActivityTimestamp=0),t.cursor===null&&(t.cursor={type:"default",x:0,y:0,rotation:0}),t.screenBounds===null&&(t.screenBounds={x:0,y:0,w:1,h:1})}}]}),yyt=rc("instance_presence",{validator:myt,scope:"presence"}).withDefaultProperties(()=>({lastActivityTimestamp:null,followingUserId:null,color:"#FF0000",camera:null,cursor:null,screenBounds:null,selectedShapeIds:[],brush:null,scribbles:[],chatMessage:"",meta:{}})),wyt=nc("document",mr({typeName:Ga("document"),id:Ga("document:document"),gridSize:zt,name:nr,meta:ha})),vre=qo("com.tldraw.document",{AddName:1,AddMeta:2}),byt=ws({sequenceId:"com.tldraw.document",recordType:"document",sequence:[{id:vre.AddName,up:t=>{t.name=""},down:t=>{delete t.name}},{id:vre.AddMeta,up:t=>{t.meta={}}}]}),H5=rc("document",{validator:wyt,scope:"document"}).withDefaultProperties(()=>({gridSize:10,name:"",meta:{}})),d4=H5.createId("document");function Syt(t,e){return t.index<e.index?-1:t.index>e.index?1:0}function yre(t){t.typeName==="asset"&&("src"in t&&(t.src="<redacted>"),"src"in t.props&&(t.props.src="<redacted>"))}function xyt({error:t,phase:e,record:r,recordBefore:n}){throw u5(t,{tags:{origin:"store.validateRecord",storePhase:e,isExistingValidationIssue:e==="initialize"},extras:{recordBefore:n?yre(On(n)):void 0,recordAfter:yre(On(r))}}),t}function Cyt(){return[ms.create({id:"page:page",name:"Page 1",index:"a1",meta:{}})]}function _yt(t){const e=t.query.ids("page"),r=t.query.records("instance_page_state"),n=()=>{if(!t.has(d4))return t.put([H5.create({id:d4,name:t.props.defaultName})]),n();if(!t.has(HC))return t.put([Q5.create({id:HC})]),n();const i=e.get();if(i.size===0)return t.put(Cyt()),n();const a=()=>[...i].map(c=>t.get(c)).sort(Syt)[0].id,o=t.get(co);if(o){if(!i.has(o.currentPageId))return t.put([{...o,currentPageId:a()}]),n()}else return t.put([t.schema.types.instance.create({id:co,currentPageId:a(),exportBackground:!0})]),n();const s=new Set,l=new Set;for(const c of i){const A=Rl.createId(c);t.get(A)||s.add(A);const f=Bu.createId(c);t.has(f)||l.add(f)}s.size>0&&t.put([...s].map(c=>Rl.create({id:c,pageId:Rl.parseId(c)}))),l.size>0&&t.put([...l].map(c=>Bu.create({id:c})));const u=r.get();for(const c of u){if(!i.has(c.pageId)){t.remove([c.id]);continue}if(c.croppingShapeId&&!t.has(c.croppingShapeId))return t.put([{...c,croppingShapeId:null}]),n();if(c.focusedGroupId&&!t.has(c.focusedGroupId))return t.put([{...c,focusedGroupId:null}]),n();if(c.hoveredShapeId&&!t.has(c.hoveredShapeId))return t.put([{...c,hoveredShapeId:null}]),n();const A=c.selectedShapeIds.filter(p=>t.has(p));if(A.length!==c.selectedShapeIds.length)return t.put([{...c,selectedShapeIds:A}]),n();const d=c.hintingShapeIds.filter(p=>t.has(p));if(d.length!==c.hintingShapeIds.length)return t.put([{...c,hintingShapeIds:d}]),n();const f=c.erasingShapeIds.filter(p=>t.has(p));if(f.length!==c.erasingShapeIds.length)return t.put([{...c,erasingShapeIds:f}]),n()}};return n}const Eyt=N5("bookmark",mr({title:nr,description:nr,image:nr,favicon:nr,src:qf.nullable()})),wre=qo("com.tldraw.asset.bookmark",{MakeUrlsValid:1,AddFavicon:2}),Iyt=ws({sequenceId:"com.tldraw.asset.bookmark",recordType:"asset",filter:t=>t.type==="bookmark",sequence:[{id:wre.MakeUrlsValid,up:t=>{qf.isValid(t.props.src)||(t.props.src="")},down:t=>{}},{id:wre.AddFavicon,up:t=>{qf.isValid(t.props.favicon)||(t.props.favicon="")},down:t=>{delete t.props.favicon}}]}),Byt=N5("image",mr({w:zt,h:zt,name:nr,isAnimated:pr,mimeType:nr.nullable(),src:qf.nullable(),fileSize:gi.optional()})),Iv=qo("com.tldraw.asset.image",{AddIsAnimated:1,RenameWidthHeight:2,MakeUrlsValid:3,AddFileSize:4,MakeFileSizeOptional:5}),Pyt=ws({sequenceId:"com.tldraw.asset.image",recordType:"asset",filter:t=>t.type==="image",sequence:[{id:Iv.AddIsAnimated,up:t=>{t.props.isAnimated=!1},down:t=>{delete t.props.isAnimated}},{id:Iv.RenameWidthHeight,up:t=>{t.props.w=t.props.width,t.props.h=t.props.height,delete t.props.width,delete t.props.height},down:t=>{t.props.width=t.props.w,t.props.height=t.props.h,delete t.props.w,delete t.props.h}},{id:Iv.MakeUrlsValid,up:t=>{qf.isValid(t.props.src)||(t.props.src="")},down:t=>{}},{id:Iv.AddFileSize,up:t=>{t.props.fileSize=-1},down:t=>{delete t.props.fileSize}},{id:Iv.MakeFileSizeOptional,up:t=>{t.props.fileSize===-1&&(t.props.fileSize=void 0)},down:t=>{t.props.fileSize===void 0&&(t.props.fileSize=-1)}}]}),Tyt=N5("video",mr({w:zt,h:zt,name:nr,isAnimated:pr,mimeType:nr.nullable(),src:qf.nullable(),fileSize:zt.optional()})),Bv=qo("com.tldraw.asset.video",{AddIsAnimated:1,RenameWidthHeight:2,MakeUrlsValid:3,AddFileSize:4,MakeFileSizeOptional:5}),Oyt=ws({sequenceId:"com.tldraw.asset.video",recordType:"asset",filter:t=>t.type==="video",sequence:[{id:Bv.AddIsAnimated,up:t=>{t.props.isAnimated=!1},down:t=>{delete t.props.isAnimated}},{id:Bv.RenameWidthHeight,up:t=>{t.props.w=t.props.width,t.props.h=t.props.height,delete t.props.width,delete t.props.height},down:t=>{t.props.width=t.props.w,t.props.height=t.props.h,delete t.props.w,delete t.props.h}},{id:Bv.MakeUrlsValid,up:t=>{qf.isValid(t.props.src)||(t.props.src="")},down:t=>{}},{id:Bv.AddFileSize,up:t=>{t.props.fileSize=-1},down:t=>{delete t.props.fileSize}},{id:Bv.MakeFileSizeOptional,up:t=>{t.props.fileSize===-1&&(t.props.fileSize=void 0)},down:t=>{t.props.fileSize===void 0&&(t.props.fileSize=-1)}}]}),Ryt=nc("asset",D5("type",{image:Byt,video:Tyt,bookmark:Eyt})),Myt=qo("com.tldraw.asset",{AddMeta:1}),Fyt=ws({sequenceId:"com.tldraw.asset",recordType:"asset",sequence:[{id:Myt.AddMeta,up:t=>{t.meta={}}}]}),hd=rc("asset",{validator:Ryt,scope:"document"}).withDefaultProperties(()=>({meta:{}})),y2e={w:gi,h:gi,assetId:qE.nullable(),url:ps},bre=Gl("bookmark",{NullAssetId:1,MakeUrlsValid:2}),w2e={sequence:[{id:bre.NullAssetId,up:t=>{t.assetId===void 0&&(t.assetId=null)},down:"retired"},{id:bre.MakeUrlsValid,up:t=>{ps.isValid(t.url)||(t.url="")},down:t=>{}}]},b2e=mr({type:HE("free","straight"),points:fa(Kf)}),S2e={color:gs,fill:Wf,dash:zf,size:$u,segments:fa(b2e),isComplete:pr,isClosed:pr,isPen:pr,scale:gi},Sre=Gl("draw",{AddInPen:1,AddScale:2}),x2e={sequence:[{id:Sre.AddInPen,up:t=>{const{points:e}=t.segments[0];if(e.length===0){t.isPen=!1;return}let r=!(e[0].z===0||e[0].z===.5);e[1]&&(r=r&&!(e[1].z===0||e[1].z===.5)),t.isPen=r},down:"retired"},{id:Sre.AddScale,up:t=>{t.scale=1},down:t=>{delete t.scale}}]},kyt=/(^\/r\/[^/]+\/?$)/,Uyt=[{hostnames:["beta.tldraw.com","tldraw.com","localhost:3000"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(kyt))return t}},{hostnames:["figma.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/embed\/?$/)){const r=e.searchParams.get("url");if(r)return r}}},{hostnames:["google.*"],fromEmbedUrl:t=>{const e=Yt(t);if(!e)return;if(e.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&e.searchParams.has("center")&&e.searchParams.get("zoom")){const n=e.searchParams.get("zoom"),[i,a]=e.searchParams.get("center").split(",");return`https://www.google.com/maps/@${i},${a},${n}z`}}},{hostnames:["val.town"],fromEmbedUrl:t=>{const e=Yt(t),r=e&&e.pathname.match(/\/embed\/(.+)\/?/);if(r)return`https://www.val.town/v/${r[1]}`}},{hostnames:["codesandbox.io"],fromEmbedUrl:t=>{const e=Yt(t),r=e&&e.pathname.match(/\/embed\/([^/]+)\/?/);if(r)return`https://codesandbox.io/s/${r[1]}`}},{hostnames:["codepen.io"],fromEmbedUrl:t=>{const e=/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/,r=t.match(e);if(r){const[n,i,a]=r;return`https://codepen.io/${i}/pen/${a}`}}},{hostnames:["scratch.mit.edu"],fromEmbedUrl:t=>{const e=/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/,r=t.match(e);if(r){const[n,i]=r;return`https://scratch.mit.edu/projects/${i}`}}},{hostnames:["*.youtube.com","youtube.com","youtu.be"],fromEmbedUrl:t=>{const e=Yt(t);if(!e)return;if(e.hostname.replace(/^www./,"")==="youtube.com"){const n=e.pathname.match(/^\/embed\/([^/]+)\/?/);if(n)return`https://www.youtube.com/watch?v=${n[1]}`}}},{hostnames:["calendar.google.*"],fromEmbedUrl:t=>{const e=Yt(t),r=e==null?void 0:e.searchParams.get("src");if(e!=null&&e.pathname.match(/\/calendar\/embed/)&&r){e.pathname="/calendar/u/0";const n=Array.from(e.searchParams.keys());for(const i of n)e.searchParams.delete(i);return e.searchParams.set("cid",r),e.href}}},{hostnames:["docs.google.*"],fromEmbedUrl:t=>{const e=Yt(t);if(e!=null&&e.pathname.match(/^\/presentation/)&&(e!=null&&e.pathname.match(/\/embed\/?$/))){e.pathname=e.pathname.replace(/\/embed$/,"/pub");const r=Array.from(e.searchParams.keys());for(const n of r)e.searchParams.delete(n);return e.href}}},{hostnames:["gist.github.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/\/([^/]+)\/([^/]+)/))return t.split("/").pop()?t:void 0}},{hostnames:["replit.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/\/@([^/]+)\/([^/]+)/)&&e.searchParams.has("embed"))return e.searchParams.delete("embed"),e.href}},{hostnames:["felt.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/embed\/map\//))return e.pathname=e.pathname.replace(/^\/embed/,""),e.href}},{hostnames:["open.spotify.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/embed\/(artist|album)\//))return e.origin+e.pathname.replace(/^\/embed/,"")}},{hostnames:["vimeo.com","player.vimeo.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.hostname==="player.vimeo.com"){const r=e.pathname.match(/^\/video\/([^/]+)\/?$/);if(r)return"https://vimeo.com/"+r[1]}}},{hostnames:["excalidraw.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.hash.match(/#room=/))return t}},{hostnames:["observablehq.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/))return`${e.origin}${e.pathname.replace("/embed","")}#cell-*`;if(e&&e.pathname.match(/^\/embed\/([^/]+)\/?$/))return`${e.origin}${e.pathname.replace("/embed","/d")}#cell-*`}},{hostnames:["desmos.com"],fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.hostname==="www.desmos.com"&&e.pathname.match(/^\/calculator\/([^/]+)\/?$/)&&e.search==="?embed"&&e.hash==="")return t.replace("?embed","")}}],C2e={w:gi,h:gi,url:nr},Q0=Gl("embed",{GenOriginalUrlInEmbed:1,RemoveDoesResize:2,RemoveTmpOldUrl:3,RemovePermissionOverrides:4}),_2e={sequence:[{id:Q0.GenOriginalUrlInEmbed,up:t=>{try{const e=t.url,r=new URL(e).host.replace("www.","");let n;for(const i of Uyt)if(i.hostnames.includes(r))try{n=i.fromEmbedUrl(e)}catch(a){console.warn(a)}t.tmpOldUrl=t.url,t.url=n??""}catch{t.url="",t.tmpOldUrl=t.url}},down:"retired"},{id:Q0.RemoveDoesResize,up:t=>{delete t.doesResize},down:"retired"},{id:Q0.RemoveTmpOldUrl,up:t=>{delete t.tmpOldUrl},down:"retired"},{id:Q0.RemovePermissionOverrides,up:t=>{delete t.overridePermissions},down:"retired"}]},E2e={w:gi,h:gi,name:nr},I2e={sequence:[]},qC=ba.defineEnum("tldraw:horizontalAlign",{defaultValue:"middle",values:["start","middle","end","start-legacy","end-legacy","middle-legacy"]}),KC=ba.defineEnum("tldraw:verticalAlign",{defaultValue:"middle",values:["start","middle","end"]}),Ml=ba.defineEnum("tldraw:geo",{defaultValue:"rectangle",values:["cloud","rectangle","ellipse","triangle","diamond","pentagon","hexagon","octagon","star","rhombus","rhombus-2","oval","trapezoid","arrow-right","arrow-left","arrow-up","arrow-down","x-box","check-box","heart"]}),B2e={geo:Ml,labelColor:$5,color:gs,fill:Wf,dash:zf,size:$u,font:Nu,align:qC,verticalAlign:KC,url:ps,w:gi,h:gi,growY:jC,text:nr,scale:gi},_c=Gl("geo",{AddUrlProp:1,AddLabelColor:2,RemoveJustify:3,AddCheckBox:4,AddVerticalAlign:5,MigrateLegacyAlign:6,AddCloud:7,MakeUrlsValid:8,AddScale:9}),P2e={sequence:[{id:_c.AddUrlProp,up:t=>{t.url=""},down:"retired"},{id:_c.AddLabelColor,up:t=>{t.labelColor="black"},down:"retired"},{id:_c.RemoveJustify,up:t=>{t.align==="justify"&&(t.align="start")},down:"retired"},{id:_c.AddCheckBox,up:t=>{},down:"retired"},{id:_c.AddVerticalAlign,up:t=>{t.verticalAlign="middle"},down:"retired"},{id:_c.MigrateLegacyAlign,up:t=>{let e;switch(t.align){case"start":e="start-legacy";break;case"end":e="end-legacy";break;default:e="middle-legacy";break}t.align=e},down:"retired"},{id:_c.AddCloud,up:t=>{},down:"retired"},{id:_c.MakeUrlsValid,up:t=>{ps.isValid(t.url)||(t.url="")},down:t=>{}},{id:_c.AddScale,up:t=>{t.scale=1},down:t=>{delete t.scale}}]},T2e={},O2e={sequence:[]},R2e={color:gs,size:$u,segments:fa(b2e),isComplete:pr,isPen:pr,scale:gi},Dyt=Gl("highlight",{AddScale:1}),M2e={sequence:[{id:Dyt.AddScale,up:t=>{t.scale=1},down:t=>{delete t.scale}}]},jyt=mr({topLeft:Kf,bottomRight:Kf}),F2e={w:gi,h:gi,playing:pr,url:ps,assetId:qE.nullable(),crop:jyt.nullable(),flipX:pr,flipY:pr},H0=Gl("image",{AddUrlProp:1,AddCropProp:2,MakeUrlsValid:3,AddFlipProps:4}),k2e={sequence:[{id:H0.AddUrlProp,up:t=>{t.url=""},down:"retired"},{id:H0.AddCropProp,up:t=>{t.crop=null},down:t=>{delete t.crop}},{id:H0.MakeUrlsValid,up:t=>{ps.isValid(t.url)||(t.url="")},down:t=>{}},{id:H0.AddFlipProps,up:t=>{t.flipX=!1,t.flipY=!1},down:t=>{delete t.flipX,delete t.flipY}}]},zC=ba.defineEnum("tldraw:spline",{defaultValue:"line",values:["cubic","line"]}),Lyt=mr({id:nr,index:L5,x:zt,y:zt}),U2e={color:gs,dash:zf,size:$u,spline:zC,points:LC(nr,Lyt),scale:gi},Pv=Gl("line",{AddSnapHandles:1,RemoveExtraHandleProps:2,HandlesToPoints:3,PointIndexIds:4,AddScale:5}),D2e={sequence:[{id:Pv.AddSnapHandles,up:t=>{for(const e of Object.values(t.handles))e.canSnap=!0},down:"retired"},{id:Pv.RemoveExtraHandleProps,up:t=>{t.handles=ZOe(Object.values(t.handles).map(e=>[e.index,{x:e.x,y:e.y}]))},down:t=>{const e=Object.entries(t.handles).map(([r,n])=>({index:r,...n})).sort(Qa);t.handles=Object.fromEntries(e.map((r,n)=>{const i=n===0?"start":n===e.length-1?"end":`handle:${r.index}`;return[i,{id:i,type:"vertex",canBind:!1,canSnap:!0,index:r.index,x:r.x,y:r.y}]}))}},{id:Pv.HandlesToPoints,up:t=>{const e=Object.entries(t.handles).map(([r,{x:n,y:i}])=>({x:n,y:i,index:r})).sort(Qa);t.points=e.map(({x:r,y:n})=>({x:r,y:n})),delete t.handles},down:t=>{const e=Cw(t.points.length);t.handles=Object.fromEntries(t.points.map((r,n)=>[e[n],{x:r.x,y:r.y}])),delete t.points}},{id:Pv.PointIndexIds,up:t=>{const e=Cw(t.points.length);t.points=Object.fromEntries(t.points.map((r,n)=>{const i=e[n];return[i,{id:i,index:i,x:r.x,y:r.y}]}))},down:t=>{const e=Object.values(t.points).sort(Qa);t.points=e.map(({x:r,y:n})=>({x:r,y:n}))}},{id:Pv.AddScale,up:t=>{t.scale=1},down:t=>{delete t.scale}}]},j2e={color:gs,labelColor:$5,size:$u,font:Nu,fontSizeAdjustment:jC,align:qC,verticalAlign:KC,growY:jC,url:ps,text:nr,scale:gi},FA=Gl("note",{AddUrlProp:1,RemoveJustify:2,MigrateLegacyAlign:3,AddVerticalAlign:4,MakeUrlsValid:5,AddFontSizeAdjustment:6,AddScale:7,AddLabelColor:8}),L2e={sequence:[{id:FA.AddUrlProp,up:t=>{t.url=""},down:"retired"},{id:FA.RemoveJustify,up:t=>{t.align==="justify"&&(t.align="start")},down:"retired"},{id:FA.MigrateLegacyAlign,up:t=>{switch(t.align){case"start":t.align="start-legacy";return;case"end":t.align="end-legacy";return;default:t.align="middle-legacy";return}},down:"retired"},{id:FA.AddVerticalAlign,up:t=>{t.verticalAlign="middle"},down:"retired"},{id:FA.MakeUrlsValid,up:t=>{ps.isValid(t.url)||(t.url="")},down:t=>{}},{id:FA.AddFontSizeAdjustment,up:t=>{t.fontSizeAdjustment=0},down:t=>{delete t.fontSizeAdjustment}},{id:FA.AddScale,up:t=>{t.scale=1},down:t=>{delete t.scale}},{id:FA.AddLabelColor,up:t=>{t.labelColor="black"},down:t=>{delete t.labelColor}}]},f4=ba.defineEnum("tldraw:textAlign",{defaultValue:"start",values:["start","middle","end"]}),N2e={color:gs,size:$u,font:Nu,textAlign:f4,w:gi,text:nr,scale:gi,autoSize:pr},xre=Gl("text",{RemoveJustify:1,AddTextAlign:2}),$2e={sequence:[{id:xre.RemoveJustify,up:t=>{t.align==="justify"&&(t.align="start")},down:"retired"},{id:xre.AddTextAlign,up:t=>{t.textAlign=t.align,delete t.align},down:t=>{t.align=t.textAlign,delete t.textAlign}}]},Q2e={w:gi,h:gi,time:zt,playing:pr,url:ps,assetId:qE.nullable()},Cre=Gl("video",{AddUrlProp:1,MakeUrlsValid:2}),H2e={sequence:[{id:Cre.AddUrlProp,up:t=>{t.url=""},down:"retired"},{id:Cre.MakeUrlsValid,up:t=>{ps.isValid(t.url)||(t.url="")},down:t=>{}}]},q0=qo("com.tldraw.store",{RemoveCodeAndIconShapeTypes:1,AddInstancePresenceType:2,RemoveTLUserAndPresenceAndAddPointer:3,RemoveUserDocument:4}),Nyt=Vp({sequenceId:"com.tldraw.store",retroactive:!1,sequence:[{id:q0.RemoveCodeAndIconShapeTypes,scope:"store",up:t=>{for(const[e,r]of cs(t))r.typeName==="shape"&&(r.type==="icon"||r.type==="code")&&delete t[e]}},{id:q0.AddInstancePresenceType,scope:"store",up(t){}},{id:q0.RemoveTLUserAndPresenceAndAddPointer,scope:"store",up:t=>{for(const[e,r]of cs(t))r.typeName.match(/^(user|user_presence)$/)&&delete t[e]}},{id:q0.RemoveUserDocument,scope:"store",up:t=>{for(const[e,r]of cs(t))r.typeName.match("user_document")&&delete t[e]}}]}),$yt={arrow:{migrations:f2e,props:d2e},bookmark:{migrations:w2e,props:y2e},draw:{migrations:x2e,props:S2e},embed:{migrations:_2e,props:C2e},frame:{migrations:I2e,props:E2e},geo:{migrations:P2e,props:B2e},group:{migrations:O2e,props:T2e},highlight:{migrations:M2e,props:R2e},image:{migrations:k2e,props:F2e},line:{migrations:D2e,props:U2e},note:{migrations:L2e,props:j2e},text:{migrations:$2e,props:N2e},video:{migrations:H2e,props:Q2e}},Qyt={arrow:{migrations:p2e,props:h2e}};function Hyt({shapes:t=$yt,bindings:e=Qyt,migrations:r}={}){const n=new Map;for(const s of _i(t))for(const l of s2e(s.props??{}).keys()){if(n.has(l.id)&&n.get(l.id)!==l)throw new Error(`Multiple StyleProp instances with the same id: ${l.id}`);n.set(l.id,l)}const i=Xvt(t),a=Gvt(e),o=cyt(n);return k5.create({asset:hd,binding:a,camera:Bu,document:H5,instance:o,instance_page_state:Rl,page:ms,instance_presence:yyt,pointer:Q5,shape:i},{migrations:[Nyt,Fyt,eyt,byt,Ayt,fyt,lyt,vyt,gyt,Yvt,Iyt,Pyt,Oyt,...mre("shape",t),...mre("binding",e),...r??[]],onValidationFailure:xyt,createIntegrityChecker:_yt})}const Ew=[{locale:"id",label:"Bahasa Indonesia"},{locale:"ms",label:"Bahasa Melayu"},{locale:"ca",label:"Catal"},{locale:"cs",label:"etina"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Espaol"},{locale:"tl",label:"Filipino"},{locale:"fr",label:"Franais"},{locale:"gl",label:"Galego"},{locale:"hr",label:"Hrvatski"},{locale:"it",label:"Italiano"},{locale:"hu",label:"Magyar"},{locale:"nl",label:"Nederlands"},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Portugus - Brasil"},{locale:"pt-pt",label:"Portugus - Europeu"},{locale:"ro",label:"Romn"},{locale:"sl",label:"Slovenina"},{locale:"so",label:"Somali"},{locale:"fi",label:"Suomi"},{locale:"sv",label:"Svenska"},{locale:"vi",label:"Ting Vit"},{locale:"tr",label:"Trke"},{locale:"el",label:""},{locale:"ru",label:""},{locale:"uk",label:""},{locale:"he",label:""},{locale:"ur",label:""},{locale:"ar",label:""},{locale:"fa",label:""},{locale:"ne",label:""},{locale:"mr",label:""},{locale:"hi-in",label:""},{locale:"bn",label:""},{locale:"pa",label:""},{locale:"gu-in",label:""},{locale:"ta",label:""},{locale:"te",label:""},{locale:"kn",label:""},{locale:"ml",label:""},{locale:"th",label:""},{locale:"km-kh",label:""},{locale:"ko-kr",label:""},{locale:"ja",label:""},{locale:"zh-cn",label:""},{locale:"zh-tw",label:" ()"}];function qyt(){const t=typeof window<"u"?window.navigator.languages??["en"]:["en"];return Kyt(t)}function Kyt(t){for(const e of t){const r=zyt(e);if(r)return r}return"en"}const _re={zh:"zh-cn",pt:"pt-br",ko:"ko-kr",hi:"hi-in"};function zyt(t){const e=Ew.find(i=>i.locale===t.toLowerCase());if(e)return e.locale;const[r,n]=t.split(/[-_]/).map(i=>i.toLowerCase());if(n){const i=Ew.find(a=>a.locale===r);if(i)return i.locale}return r in _re?_re[r]:null}Id("@tldraw/tlschema","3.9.0","esm");var jk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ere;function Wyt(){return Ere||(Ere=1,function(t){(function(){var e={}.hasOwnProperty;function r(){for(var a="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(a=i(a,n(s)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var s in a)e.call(a,s)&&a[s]&&(o=i(o,s));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(r.default=r,t.exports=r):window.classNames=r})()}(jk)),jk.exports}var Gyt=Wyt();const Mt=kr(Gyt),q2e="3.9.0",Ire={major:"2024-09-13T14:36:29.063Z",minor:"2025-03-03T11:42:22.746Z",patch:"2025-03-03T11:42:22.746Z"},Vyt={error:null};class q5 extends I.Component{constructor(){super(...arguments);K(this,"state",Vyt)}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r){var n,i;(i=(n=this.props).onError)==null||i.call(n,r)}render(){const{error:r}=this.state;if(r!==null){const{fallback:n}=this.props;return y.jsx(n,{error:r})}return this.props.children}}function Iw({children:t,fallback:e,...r}){return e===null?t:y.jsx(q5,{fallback:e,...r,children:t})}function K5(t,e){return KE(`${t}_${e}`)}function im(t){return KE(`${I.useId()}${t??""}`)}function kl(t){const e=ko(I.useContext(K2e));return KE(`${e}_${t}`)}function KE(t){return t.replace(/:/g,"_")}const K2e=I.createContext(null);function Yyt({children:t}){const e=im();return y.jsx(K2e.Provider,{value:e,children:t})}const z5=I.createContext(null);function we(){const t=ce.useContext(z5);if(!t)throw new Error("useEditor must be used inside of the <Tldraw /> or <TldrawEditor /> components");return t}function Rd(){return ce.useContext(z5)}function W5({editor:t,children:e}){return y.jsx(z5.Provider,{value:t,children:y.jsx(Yyt,{children:e})})}function Xyt(){return y.jsx("div",{className:"tl-background"})}function am(t,e,r,n,i,a){I.useLayoutEffect(()=>{const o=t.current;if(!o||e===void 0)return;let s=`translate(${e}px, ${r}px)`;n!==void 0&&(s+=` scale(${n})`),i!==void 0&&(s+=` rotate(${i}rad)`),a&&(s+=` translate(${a.x}px, ${a.y}px)`),o.style.transform=s})}const Lk=({brush:t,color:e,opacity:r,className:n})=>{const i=I.useRef(null);am(i,t.x,t.y);const a=ye(Math.max(1,t.w)),o=ye(Math.max(1,t.h));return y.jsx("svg",{className:"tl-overlays__item",ref:i,children:e?y.jsxs("g",{className:"tl-brush",opacity:r,children:[y.jsx("rect",{width:a,height:o,fill:e,opacity:.75}),y.jsx("rect",{width:a,height:o,fill:"none",stroke:e,opacity:.1})]}):y.jsx("rect",{className:`tl-brush tl-brush__default ${n}`,width:a,height:o})})},tn={isSafari:!1,isIos:!1,isChromeForIos:!1,isFirefox:!1,isAndroid:!1,isWebview:!1,isDarwin:!1,hasCanvasSupport:!1};typeof window<"u"&&"navigator"in window&&(tn.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),tn.isIos=!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i),tn.isChromeForIos=/crios.*safari/i.test(navigator.userAgent),tn.isFirefox=/firefox/i.test(navigator.userAgent),tn.isAndroid=/android/i.test(navigator.userAgent),tn.isDarwin=window.navigator.userAgent.toLowerCase().indexOf("mac")>-1,tn.hasCanvasSupport=typeof window<"u"&&"Promise"in window&&"HTMLCanvasElement"in window);const Bre={isLocked:!1,wheelBehavior:"pan",panSpeed:1,zoomSpeed:1,zoomSteps:[.1,.25,.5,1,2,4,8]},Nk={duration:0,easing:Ji.easeInOutCubic},Pre={CAMERA_MOVE:-10},Jyt=["top","right","bottom","left"],Tre=0,G5=2,K0=1,Ore=5,Zyt=128;var $k={};const ewt={},z2e=Po("pointerCaptureTrackingObject",{defaults:{all:new Map},shouldStoreForSession:!1}),fi={logPreventDefaults:Po("logPreventDefaults",{defaults:{all:!1}}),logPointerCaptures:Po("logPointerCaptures",{defaults:{all:!1}}),logElementRemoves:Po("logElementRemoves",{defaults:{all:!1}}),debugSvg:Po("debugSvg",{defaults:{all:!1}}),showFps:Po("showFps",{defaults:{all:!1}}),measurePerformance:Po("measurePerformance",{defaults:{all:!1}}),throwToBlob:Po("throwToBlob",{defaults:{all:!1}}),reconnectOnPing:Po("reconnectOnPing",{defaults:{all:!1}}),debugCursors:Po("debugCursors",{defaults:{all:!1}}),forceSrgb:Po("forceSrgbColors",{defaults:{all:!1}}),debugGeometry:Po("debugGeometry",{defaults:{all:!1}}),hideShapes:Po("hideShapes",{defaults:{all:!1}}),editOnType:Po("editOnType",{defaults:{all:!1}})};if(typeof Element<"u"){const t=Element.prototype.removeChild;ku("element removal logging",()=>{fi.logElementRemoves.get()?Element.prototype.removeChild=function(e){return console.warn("[tldraw] removing child:",e),t.call(this,e)}:Element.prototype.removeChild=t})}function Po(t,{defaults:e,shouldStoreForSession:r=!0}){return twt({name:t,defaults:e,shouldStoreForSession:r})}function twt(t){const e=nwt(t),r=t.shouldStoreForSession?rwt(t.name):null,n=pi(`debug:${t.name}`,r??e);return typeof window<"u"&&(t.shouldStoreForSession&&ku(`debug:${t.name}`,()=>{const i=n.get();i===e?hRe(`tldraw_debug:${t.name}`):g5(`tldraw_debug:${t.name}`,JSON.stringify(i))}),Object.defineProperty(window,`tldraw${t.name.replace(/^[a-z]/,i=>i.toUpperCase())}`,{get(){return n.get()},set(i){n.set(i)},configurable:!0})),Object.assign(n,t)}function rwt(t){try{return JSON.parse(fRe(`tldraw_debug:${t}`)??"null")}catch{return null}}function Qk(t){try{return t()}catch{return null}}function nwt(t){switch(Qk(()=>$k.TLDRAW_ENV)??Qk(()=>$k.VERCEL_PUBLIC_TLDRAW_ENV)??Qk(()=>$k.NEXT_PUBLIC_TLDRAW_ENV)??"production"){case"production":return t.defaults.production??t.defaults.all;case"preview":case"staging":return t.defaults.staging??t.defaults.all;default:return t.defaults.development??t.defaults.all}}function WC(t){if(t instanceof HTMLElement)return t;if(t.parentElement)return WC(t.parentElement);throw Error("Could not find a parent element of an HTML type!")}function dr(t){t.preventDefault(),fi.logPreventDefaults.get()&&console.warn("preventDefault called on event:",t)}function yb(t,e){if(t.setPointerCapture(e.pointerId),fi.logPointerCaptures.get()){const r=z2e.get();r.set(t,(r.get(t)??0)+1),console.warn("setPointerCapture called on element:",t,e)}}function wb(t,e){if(t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),fi.logPointerCaptures.get())){const r=z2e.get();r.get(t)===1?r.delete(t):r.has(t)?r.set(t,r.get(t)-1):console.warn("Release without capture"),console.warn("releasePointerCapture called on element:",t,e)}}const mi=t=>t.stopPropagation(),Ma=(t,e,r)=>{t&&t.style.setProperty(e,r)},iwt=["input","select","button","textarea"];function W2e(){const{activeElement:t}=document;return!!(t&&(t.getAttribute("contenteditable")||iwt.indexOf(t.tagName.toLowerCase())>-1))}const Ha=t=>tn.isDarwin?t.metaKey:t.ctrlKey||t.metaKey;function ls(t){return t.isKilled=!0,{point:{x:t.clientX,y:t.clientY,z:t.pressure},shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey,metaKey:t.metaKey,accelKey:Ha(t),pointerId:t.pointerId,button:t.button,isPen:t.pointerType==="pen"}}function V5(){const t=we();return I.useMemo(function(){let n,i;function a(g){if(!g.isKilled){if(g.button===G5){t.dispatch({type:"pointer",target:"canvas",name:"right_click",...ls(g)});return}g.button!==0&&g.button!==1&&g.button!==5||(yb(g.currentTarget,g),t.dispatch({type:"pointer",target:"canvas",name:"pointer_down",...ls(g)}))}}function o(g){g.isKilled||g.clientX===n&&g.clientY===i||(n=g.clientX,i=g.clientY,t.dispatch({type:"pointer",target:"canvas",name:"pointer_move",...ls(g)}))}function s(g){g.isKilled||g.button!==0&&g.button!==1&&g.button!==2&&g.button!==5||(n=g.clientX,i=g.clientY,wb(g.currentTarget,g),t.dispatch({type:"pointer",target:"canvas",name:"pointer_up",...ls(g)}))}function l(g){if(g.isKilled||t.getInstanceState().isPenMode&&g.pointerType!=="pen")return;const m=g.pointerType==="mouse"||g.pointerType==="pen";t.updateInstanceState({isHoveringCanvas:m?!0:null})}function u(g){if(g.isKilled||t.getInstanceState().isPenMode&&g.pointerType!=="pen")return;const m=g.pointerType==="mouse"||g.pointerType==="pen";t.updateInstanceState({isHoveringCanvas:m?!1:null})}function c(g){g.isKilled=!0,dr(g)}function A(g){g.isKilled=!0,g.target instanceof HTMLElement&&g.target.tagName!=="A"&&g.target.tagName!=="TEXTAREA"&&!(t.getEditingShape()&&g.target.className.includes("tl-text-content"))&&dr(g)}function d(g){dr(g)}async function f(g){var w,b;if(dr(g),mi(g),(b=(w=g.dataTransfer)==null?void 0:w.files)!=null&&b.length){const C=Array.from(g.dataTransfer.files);await t.putExternalContent({type:"files",files:C,point:t.screenToPage({x:g.clientX,y:g.clientY}),ignoreParent:!1});return}const m=g.dataTransfer.getData("url");if(m){await t.putExternalContent({type:"url",url:m,point:t.screenToPage({x:g.clientX,y:g.clientY})});return}}function p(g){mi(g)}return{onPointerDown:a,onPointerMove:o,onPointerUp:s,onPointerEnter:l,onPointerLeave:u,onDragOver:d,onDrop:f,onTouchStart:c,onTouchEnd:A,onClick:p}},[t])}function awt(){const t=we();I.useEffect(()=>{let e=t.getInstanceState().isCoarsePointer;const r=o=>{const s=o.pointerType!=="mouse";e!==s&&(e=s,t.updateInstanceState({isCoarsePointer:s}))};window.addEventListener("pointerdown",r,{capture:!0});const n=window.matchMedia&&window.matchMedia("(any-pointer: coarse)"),i=tn.isFirefox&&!tn.isAndroid&&!tn.isIos,a=()=>{const o=i?!1:n.matches;e===o&&(e=o,t.updateInstanceState({isCoarsePointer:o}))};return n&&(n.addEventListener("change",a),a()),()=>{window.removeEventListener("pointerdown",r,{capture:!0}),n&&n.removeEventListener("change",a)}},[t])}const G2e=I.createContext(null);function V2e({container:t,children:e}){return y.jsx(G2e.Provider,{value:t,children:e})}function $i(){return ko(I.useContext(G2e),"useContainer used outside of <Tldraw />")}function owt(){const t=we(),e=$i(),r=Ce("isFocused",()=>t.getIsFocused(),[t]);I.useEffect(()=>{if(!e)return;function n(i){if(i.isSpecialRedispatchedEvent)return;dr(i),mi(i);const a=e.querySelector(".tl-canvas");if(!a)return;const o=new DragEvent(i.type,i);o.isSpecialRedispatchedEvent=!0,a.dispatchEvent(o)}return e.addEventListener("dragover",n),e.addEventListener("drop",n),()=>{e.removeEventListener("dragover",n),e.removeEventListener("drop",n)}},[e]),I.useEffect(()=>{if(typeof window>"u"||!("matchMedia"in window))return;let n=null;const i=()=>{n!=null&&n();const a=`(resolution: ${window.devicePixelRatio}dppx)`,o=matchMedia(a),s=l=>{l.type==="change"&&i()};o.addEventListener?o.addEventListener("change",i):o.addListener&&o.addListener(s),n=()=>{o.removeEventListener?o.removeEventListener("change",i):o.removeListener&&o.removeListener(s)},t.updateInstanceState({devicePixelRatio:window.devicePixelRatio})};return i(),()=>{n==null||n()}},[t]),I.useEffect(()=>{if(!r)return;const n=s=>{if(s.altKey&&(t.isIn("zoom")||!t.getPath().endsWith(".idle"))&&!z0(t)&&dr(s),s.isKilled)return;switch(s.isKilled=!0,s.key){case"=":case"-":case"0":{if(s.metaKey||s.ctrlKey){dr(s);return}break}case"Tab":{if(z0(t))return;break}case",":return;case"Escape":{if((t.getEditingShape()||t.getSelectedShapeIds().length>0)&&dr(s),t.menus.getOpenMenus().length>0)return;t.inputs.keys.has("Escape")||(t.inputs.keys.add("Escape"),t.cancel(),e.focus());return}default:if(z0(t))return}const l={type:"keyboard",name:s.repeat?"key_repeat":"key_down",key:s.key,code:s.code,shiftKey:s.shiftKey,altKey:s.altKey,ctrlKey:s.metaKey||s.ctrlKey,metaKey:s.metaKey,accelKey:Ha(s)};t.dispatch(l)},i=s=>{if(s.isKilled||(s.isKilled=!0,z0(t))||s.key===",")return;const l={type:"keyboard",name:"key_up",key:s.key,code:s.code,shiftKey:s.shiftKey,altKey:s.altKey,ctrlKey:s.metaKey||s.ctrlKey,metaKey:s.metaKey,accelKey:Ha(s)};t.dispatch(l)};function a(s){var l,u;if(e.contains(s.target)){const c=s.touches[0].pageX,A=s.touches[0].radiusX||0;(c-A<10||c+A>t.getViewportScreenBounds().width-10)&&(((l=s.target)==null?void 0:l.tagName)==="BUTTON"&&((u=s.target)==null||u.click()),dr(s))}}const o=s=>{e.contains(s.target)&&(s.ctrlKey||s.metaKey)&&dr(s)};return e.addEventListener("touchstart",a,{passive:!1}),e.addEventListener("wheel",o,{passive:!1}),document.addEventListener("gesturestart",dr),document.addEventListener("gesturechange",dr),document.addEventListener("gestureend",dr),e.addEventListener("keydown",n),e.addEventListener("keyup",i),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("wheel",o),document.removeEventListener("gesturestart",dr),document.removeEventListener("gesturechange",dr),document.removeEventListener("gestureend",dr),e.removeEventListener("keydown",n),e.removeEventListener("keyup",i)}},[t,e,r])}function z0(t){return t.menus.hasOpenMenus()||W2e()}const swt=["textarea","input"];function lwt(t){const e=we();I.useEffect(()=>{const r=t.current;if(!r)return;const n=i=>{var a;if(i instanceof PointerEvent&&i.pointerType==="pen"){i.isKilled=!0;const{target:o}=i;if(swt.includes((a=o.tagName)==null?void 0:a.toLocaleLowerCase())||e.isIn("select.editing_shape"))return;dr(i)}};return r.addEventListener("touchstart",n),r.addEventListener("touchend",n),()=>{r.removeEventListener("touchstart",n),r.removeEventListener("touchend",n)}},[e,t])}function uwt(t,e,r){return Math.max(e,Math.min(t,r))}const ma={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function Rre(t,e,r){return e===0||Math.abs(e)===1/0?Math.pow(t,r*5):t*e*r/(e+r*t)}function Mre(t,e,r,n=.15){return n===0?uwt(t,e,r):t<e?-Rre(e-t,r-e,n)+e:t>r?+Rre(t-r,r-e,n)+r:t}function cwt(t,[e,r],[n,i]){const[[a,o],[s,l]]=t;return[Mre(e,a,o,n),Mre(r,s,l,i)]}function Awt(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dwt(t){var e=Awt(t,"string");return typeof e=="symbol"?e:String(e)}function ja(t,e,r){return e=dwt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fre(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fre(Object(r),!0).forEach(function(n){ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fre(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Y2e={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function kre(t){return t?t[0].toUpperCase()+t.slice(1):""}const fwt=["enter","leave"];function hwt(t=!1,e){return t&&!fwt.includes(e)}function pwt(t,e="",r=!1){const n=Y2e[t],i=n&&n[e]||e;return"on"+kre(t)+kre(i)+(hwt(r,i)?"Capture":"")}const gwt=["gotpointercapture","lostpointercapture"];function mwt(t){let e=t.substring(2).toLowerCase();const r=!!~e.indexOf("passive");r&&(e=e.replace("passive",""));const n=gwt.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(n);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:r}}function vwt(t,e=""){const r=Y2e[t],n=r&&r[e]||e;return t+n}function X2e(t){return"touches"in t}function ywt(t){return X2e(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function wwt(t){return Array.from(t.touches).filter(e=>{var r,n;return e.target===t.currentTarget||((r=t.currentTarget)===null||r===void 0||(n=r.contains)===null||n===void 0?void 0:n.call(r,e.target))})}function h4(t,e){try{const r=e.clientX-t.clientX,n=e.clientY-t.clientY,i=(e.clientX+t.clientX)/2,a=(e.clientY+t.clientY)/2,o=Math.hypot(r,n);return{angle:-(Math.atan2(r,n)*180)/Math.PI,distance:o,origin:[i,a]}}catch{}return null}function bwt(t){return wwt(t).map(e=>e.identifier)}function Ure(t,e){const[r,n]=Array.from(t.touches).filter(i=>e.includes(i.identifier));return h4(r,n)}const Dre=40,jre=800;function J2e(t){let{deltaX:e,deltaY:r,deltaMode:n}=t;return n===1?(e*=Dre,r*=Dre):n===2&&(e*=jre,r*=jre),[e,r]}function Swt(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a}=t;Object.assign(e,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a})}return e}function GC(t,...e){return typeof t=="function"?t(...e):t}function xwt(){}function Cwt(...t){return t.length===0?xwt:t.length===1?t[0]:function(){let e;for(const r of t)e=r.apply(this,arguments)||e;return e}}function Lre(t,e){return Object.assign({},e,t||{})}const _wt=32;class Z2e{constructor(e,r,n){this.ctrl=e,this.args=r,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:r,ingKey:n,args:i}=this;r[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const r=this.state,n=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=e.target,r.currentTarget=e.currentTarget,r.lastOffset=n.from?GC(n.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=e.timeStamp)}computeValues(e){const r=this.state;r._values=e,r.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:r,config:n,shared:i}=this;r.args=this.args;let a=0;if(e&&(r.event=e,n.preventDefault&&e.cancelable&&r.event.preventDefault(),r.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Swt(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,a=e.timeStamp-r.timeStamp,r.timeStamp=e.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const _=r._delta.map(Math.abs);ma.addTo(r._distance,_)}this.axisIntent&&this.axisIntent(e);const[o,s]=r._movement,[l,u]=n.threshold,{_step:c,values:A}=r;if(n.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&A[0]),c[1]===!1&&(c[1]=Math.abs(s)>=u&&A[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(s)>=u&&Math.sign(s)*u)),r.intentional=c[0]!==!1||c[1]!==!1,!r.intentional)return;const d=[0,0];if(n.hasCustomTransform){const[_,B]=A;d[0]=c[0]!==!1?_-c[0]:0,d[1]=c[1]!==!1?B-c[1]:0}else d[0]=c[0]!==!1?o-c[0]:0,d[1]=c[1]!==!1?s-c[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(d);const f=r.offset,p=r._active&&!r._blocked||r.active;p&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=i[this.ingKey]=r._active,e&&(r.first&&("bounds"in n&&(r._bounds=GC(n.bounds,r)),this.setup&&this.setup()),r.movement=d,this.computeOffset()));const[g,m]=r.offset,[[w,b],[C,S]]=r._bounds;r.overflow=[g<w?-1:g>b?1:0,m<C?-1:m>S?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const x=r._active?n.rubberband||[0,0]:[0,0];if(r.offset=cwt(r._bounds,r.offset,x),r.delta=ma.sub(r.offset,f),this.computeMovement(),p&&(!r.last||a>_wt)){r.delta=ma.sub(r.offset,f);const _=r.delta.map(Math.abs);ma.addTo(r.distance,_),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&a>0&&(r.velocity=[_[0]/a,_[1]/a],r.timeDelta=a)}}emit(){const e=this.state,r=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const i=this.handler(Wn(Wn(Wn({},r),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Ewt([t,e],r){const n=Math.abs(t),i=Math.abs(e);if(n>i&&n>r)return"x";if(i>n&&i>r)return"y"}class Iwt extends Z2e{constructor(...e){super(...e),ja(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ma.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ma.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const r=this.state,n=this.config;if(!r.axis&&e){const i=typeof n.axisThreshold=="object"?n.axisThreshold[ywt(e)]:n.axisThreshold;r.axis=Ewt(r._movement,i)}r._blocked=(n.lockDirection||!!n.axis)&&!r.axis||!!n.axis&&n.axis!==r.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Bwt=t=>t,Nre=.15,eMe={enabled(t=!0){return t},eventOptions(t,e,r){return Wn(Wn({},r.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[Nre,Nre];case!1:return[0,0];default:return ma.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return ma.toVector(t)},transform(t,e,r){const n=t||r.shared.transform;return this.hasCustomTransform=!!n,n||Bwt},threshold(t){return ma.toVector(t,0)}},Pwt=0,bb=Wn(Wn({},eMe),{},{axis(t,e,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(t=Pwt){return t},bounds(t={}){if(typeof t=="function")return a=>bb.bounds(t(a));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=t;return[[e,r],[n,i]]}}),Sb=typeof window<"u"&&window.document&&window.document.createElement;function tMe(){return Sb&&"ontouchstart"in window}function Twt(){return tMe()||Sb&&window.navigator.maxTouchPoints>1}function Owt(){return Sb&&"onpointerdown"in window}function Rwt(){return Sb&&"exitPointerLock"in window.document}function Mwt(){try{return"constructor"in GestureEvent}catch{return!1}}const Qs={isBrowser:Sb,gesture:Mwt(),touch:tMe(),touchscreen:Twt(),pointer:Owt(),pointerLock:Rwt()},Fwt=250,kwt=180,Uwt=.5,Dwt=50,jwt=250,Lwt=10,$re={mouse:0,touch:0,pen:8};Wn(Wn({},bb),{},{device(t,e,{pointer:{touch:r=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&Qs.pointerLock,Qs.touch&&r?"touch":this.pointerLock?"mouse":Qs.pointer&&!i?"pointer":Qs.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&t?Fwt:void 0,!(!Qs.touchscreen||r===!1))return t||(r!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:r=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&this.device==="pointer"&&r},threshold(t,e,{filterTaps:r=!1,tapsThreshold:n=3,axis:i=void 0}){const a=ma.toVector(t,r?n:i?1:0);return this.filterTaps=r,this.tapsThreshold=n,a},swipe({velocity:t=Uwt,distance:e=Dwt,duration:r=jwt}={}){return{velocity:this.transform(ma.toVector(t)),distance:this.transform(ma.toVector(e)),duration:r}},delay(t=0){switch(t){case!0:return kwt;case!1:return 0;default:return t}},axisThreshold(t){return t?Wn(Wn({},$re),t):$re},keyboardDisplacement(t=Lwt){return t}});function rMe(t){const[e,r]=t.overflow,[n,i]=t._delta,[a,o]=t._direction;(e<0&&n>0&&a<0||e>0&&n<0&&a>0)&&(t._movement[0]=t._movementBound[0]),(r<0&&i>0&&o<0||r>0&&i<0&&o>0)&&(t._movement[1]=t._movementBound[1])}const Nwt=30,$wt=100;class Qwt extends Z2e{constructor(...e){super(...e),ja(this,"ingKey","pinching"),ja(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:r,lastOffset:n}=this.state;e==="wheel"?this.state.offset=ma.add(r,n):this.state.offset=[(1+r[0])*n[0],r[1]+n[1]]}computeMovement(){const{offset:e,lastOffset:r}=this.state;this.state.movement=[e[0]/r[0],e[1]-r[1]]}axisIntent(){const e=this.state,[r,n]=e._movement;if(!e.axis){const i=Math.abs(r)*Nwt-Math.abs(n);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const r=this.state,n=this.ctrl.touchIds;if(r._active&&r._touchIds.every(a=>n.has(a))||n.size<2)return;this.start(e),r._touchIds=Array.from(n).slice(0,2);const i=Ure(e,r._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const r=this.state,n=r._pointerEvents,i=this.ctrl.pointerIds;if(r._active&&Array.from(n.keys()).every(o=>i.has(o))||(n.size<2&&n.set(e.pointerId,e),r._pointerEvents.size<2))return;this.start(e);const a=h4(...Array.from(n.values()));a&&this.pinchStart(e,a)}pinchStart(e,r){const n=this.state;n.origin=r.origin,this.computeValues([r.distance,r.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const r=Ure(e,this.state._touchIds);r&&this.pinchMove(e,r)}pointerMove(e){const r=this.state._pointerEvents;if(r.has(e.pointerId)&&r.set(e.pointerId,e),!this.state._active)return;const n=h4(...Array.from(r.values()));n&&this.pinchMove(e,n)}pinchMove(e,r){const n=this.state,i=n._values[1],a=r.angle-i;let o=0;Math.abs(a)>270&&(o+=Math.sign(a)),this.computeValues([r.distance,r.angle-360*o]),n.origin=r.origin,n.turns=o,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(r=>!this.ctrl.touchIds.has(r))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const r=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}r._pointerEvents.has(e.pointerId)&&r._pointerEvents.delete(e.pointerId),r._active&&r._pointerEvents.size<2&&(r._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const r=this.state;r._active||(this.start(e),this.computeValues([e.scale,e.rotation]),r.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const r=this.state;this.computeValues([e.scale,e.rotation]),r.origin=[e.clientX,e.clientY];const n=r._movement;r._movement=[e.scale-1,e.rotation],r._delta=ma.sub(r._movement,n),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const r=this.config.modifierKey;r&&(Array.isArray(r)?!r.find(n=>e[n]):!e[r])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const n=this.state;n._delta=[-J2e(e)[1]/$wt*n.offset[0],0],ma.addTo(n._movement,n._delta),rMe(n),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const r=this.config.device;r&&(e(r,"start",this[r+"Start"].bind(this)),e(r,"change",this[r+"Move"].bind(this)),e(r,"end",this[r+"End"].bind(this)),e(r,"cancel",this[r+"End"].bind(this)),e("lostPointerCapture","",this[r+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const Hwt=Wn(Wn({},eMe),{},{device(t,e,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!Qs.touch&&Qs.gesture)return"gesture";if(Qs.touch&&n)return"touch";if(Qs.touchscreen){if(Qs.pointer)return"pointer";if(Qs.touch)return"touch"}},bounds(t,e,{scaleBounds:r={},angleBounds:n={}}){const i=o=>{const s=Lre(GC(r,o),{min:-1/0,max:1/0});return[s.min,s.max]},a=o=>{const s=Lre(GC(n,o),{min:-1/0,max:1/0});return[s.min,s.max]};return typeof r!="function"&&typeof n!="function"?[i(),a()]:o=>[i(o),a(o)]},threshold(t,e,r){return this.lockDirection=r.axis==="lock",ma.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Wn(Wn({},bb),{},{mouseOnly:(t=!0)=>t});class qwt extends Iwt{constructor(...e){super(...e),ja(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const r=this.state;r._delta=J2e(e),ma.addTo(r._movement,r._delta),rMe(r),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const Kwt=bb;Wn(Wn({},bb),{},{mouseOnly:(t=!0)=>t});const Y5=new Map,p4=new Map;function zwt(t){Y5.set(t.key,t.engine),p4.set(t.key,t.resolver)}const Wwt={key:"pinch",engine:Qwt,resolver:Hwt},Gwt={key:"wheel",engine:qwt,resolver:Kwt};function Vwt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ywt(t,e){if(t==null)return{};var r=Vwt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}const Xwt={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Qs.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Jwt=["target","eventOptions","window","enabled","transform"];function Dx(t={},e){const r={};for(const[n,i]of Object.entries(e))switch(typeof i){case"function":r[n]=i.call(r,t[n],n,t);break;case"object":r[n]=Dx(t[n],i);break;case"boolean":i&&(r[n]=t[n]);break}return r}function Zwt(t,e,r={}){const n=t,{target:i,eventOptions:a,window:o,enabled:s,transform:l}=n,u=Ywt(n,Jwt);if(r.shared=Dx({target:i,eventOptions:a,window:o,enabled:s,transform:l},Xwt),e){const c=p4.get(e);r[e]=Dx(Wn({shared:r.shared},u),c)}else for(const c in u){const A=p4.get(c);A&&(r[c]=Dx(Wn({shared:r.shared},u[c]),A))}return r}class nMe{constructor(e,r){ja(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=r}add(e,r,n,i,a){const o=this._listeners,s=vwt(r,n),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Wn(Wn({},l),a);e.addEventListener(s,i,u);const c=()=>{e.removeEventListener(s,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class ebt{constructor(){ja(this,"_timeouts",new Map)}add(e,r,n=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(r,n,...i))}remove(e){const r=this._timeouts.get(e);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class tbt{constructor(e){ja(this,"gestures",new Set),ja(this,"_targetEventStore",new nMe(this)),ja(this,"gestureEventStores",{}),ja(this,"gestureTimeoutStores",{}),ja(this,"handlers",{}),ja(this,"config",{}),ja(this,"pointerIds",new Set),ja(this,"touchIds",new Set),ja(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),rbt(this,e)}setEventIds(e){if(X2e(e))return this.touchIds=new Set(bwt(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,r){this.handlers=e,this.nativeHandlers=r}applyConfig(e,r){this.config=Zwt(e,r,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const r=this.config.shared,n={};let i;if(!(r.target&&(i=r.target(),!i))){if(r.enabled){for(const o of this.gestures){const s=this.config[o],l=Qre(n,s.eventOptions,!!i);if(s.enabled){const u=Y5.get(o);new u(this,e,o).bind(l)}}const a=Qre(n,r.eventOptions,!!i);for(const o in this.nativeHandlers)a(o,"",s=>this.nativeHandlers[o](Wn(Wn({},this.state.shared),{},{event:s,args:e})),void 0,!0)}for(const a in n)n[a]=Cwt(...n[a]);if(!i)return n;for(const a in n){const{device:o,capture:s,passive:l}=mwt(a);this._targetEventStore.add(i,o,"",n[a],{capture:s,passive:l})}}}}function hp(t,e){t.gestures.add(e),t.gestureEventStores[e]=new nMe(t,e),t.gestureTimeoutStores[e]=new ebt}function rbt(t,e){e.drag&&hp(t,"drag"),e.wheel&&hp(t,"wheel"),e.scroll&&hp(t,"scroll"),e.move&&hp(t,"move"),e.pinch&&hp(t,"pinch"),e.hover&&hp(t,"hover")}const Qre=(t,e,r)=>(n,i,a,o={},s=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,A=(u=o.passive)!==null&&u!==void 0?u:e.passive;let d=s?n:pwt(n,i,c);r&&A&&(d+="Passive"),t[d]=t[d]||[],t[d].push(a)},nbt=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function ibt(t){const e={},r={},n=new Set;for(let i in t)nbt.test(i)?(n.add(RegExp.lastMatch),r[i]=t[i]):e[i]=t[i];return[r,e,n]}function pp(t,e,r,n,i,a){if(!t.has(r)||!Y5.has(n))return;const o=r+"Start",s=r+"End",l=u=>{let c;return u.first&&o in e&&e[o](u),r in e&&(c=e[r](u)),u.last&&s in e&&e[s](u),c};i[n]=l,a[n]=a[n]||{}}function abt(t,e){const[r,n,i]=ibt(t),a={};return pp(i,r,"onDrag","drag",a,e),pp(i,r,"onWheel","wheel",a,e),pp(i,r,"onScroll","scroll",a,e),pp(i,r,"onPinch","pinch",a,e),pp(i,r,"onMove","move",a,e),pp(i,r,"onHover","hover",a,e),{handlers:a,config:e,nativeHandlers:n}}function obt(t,e={},r,n){const i=ce.useMemo(()=>new tbt(t),[]);if(i.applyHandlers(t,n),i.applyConfig(e,r),ce.useEffect(i.effect.bind(i)),ce.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function sbt(t){return t.forEach(zwt),function(r,n){const{handlers:i,nativeHandlers:a,config:o}=abt(r,n||{});return obt(i,o,void 0,a)}}const Hre=10,lbt=/Mac|iPod|iPhone|iPad/.test(typeof window>"u"?"node":window.navigator.platform);function iMe(t){let{deltaY:e,deltaX:r}=t,n=0;return t.ctrlKey||t.altKey||t.metaKey?n=(Math.abs(e)>Hre?Hre*Math.sign(e):e)/100:t.shiftKey&&!lbt&&(r=e,e=0),{x:-r,y:-e,z:-n}}const ubt=sbt([Gwt,Wwt]);let gp;const cbt=t=>gp===void 0?(gp=t,!1):t-gp>120&&t-gp<160?(gp=t,!0):(gp=t,!1);function Abt(t){const e=we(),r=I.useMemo(()=>{let n="not sure";const i=({event:g})=>{if(!e.getInstanceState().isFocused||(n="not sure",cbt(Date.now())))return;const m=e.getEditingShapeId();if(m){const C=e.getShape(m);if(C&&e.getShapeUtil(C).canScroll(C)){const x=e.getShapePageBounds(m);if(x!=null&&x.containsPoint(e.inputs.currentPagePoint))return}}dr(g),mi(g);const w=iMe(g);if(w.x===0&&w.y===0)return;const b={type:"wheel",name:"wheel",delta:w,point:new k(g.clientX,g.clientY),shiftKey:g.shiftKey,altKey:g.altKey,ctrlKey:g.metaKey||g.ctrlKey,metaKey:g.metaKey,accelKey:Ha(g)};e.dispatch(b)};let a=1,o=1,s=1,l=0;const u=new k,c=new k,A=g=>{const m=t.current;n="not sure";const{event:w,origin:b,da:C}=g;w instanceof WheelEvent||(w.target===m||m!=null&&m.contains(w.target))&&(c.x=b[0],c.y=b[1],u.x=b[0],u.y=b[1],a=C[0],o=e.getZoomLevel(),e.dispatch({type:"pinch",name:"pinch_start",point:{x:b[0],y:b[1],z:e.getZoomLevel()},delta:{x:0,y:0},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey,metaKey:w.metaKey,accelKey:Ha(w)}))},d=g=>{if(g&&(n="zooming"),n==="zooming")return;const m=Math.abs(l-a),w=k.Dist(u,c);switch(n){case"not sure":{m>24?n="zooming":w>16&&(n="panning");break}case"panning":{m>64&&(n="zooming");break}}};return{onWheel:i,onPinchStart:A,onPinchEnd:g=>{const m=t.current,{event:w,origin:b,offset:C}=g;if(w instanceof WheelEvent||!(w.target===m||m!=null&&m.contains(w.target)))return;const S=C[0];n="not sure",e.timers.requestAnimationFrame(()=>{e.dispatch({type:"pinch",name:"pinch_end",point:{x:b[0],y:b[1],z:S},delta:{x:b[0],y:b[1]},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey,metaKey:w.metaKey,accelKey:Ha(w)})})},onPinch:g=>{const m=t.current,{event:w,origin:b,offset:C,da:S}=g;if(w instanceof WheelEvent||!(w.target===m||m!=null&&m.contains(w.target)))return;const x=g.type==="gesturechange"||g.type==="gestureend";l=S[0];const _=b[0]-c.x,B=b[1]-c.y;switch(c.x=b[0],c.y=b[1],d(x),n){case"zooming":{s=C[0],e.dispatch({type:"pinch",name:"pinch",point:{x:b[0],y:b[1],z:s},delta:{x:_,y:B},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey,metaKey:w.metaKey,accelKey:Ha(w)});break}case"panning":{e.dispatch({type:"pinch",name:"pinch",point:{x:b[0],y:b[1],z:o},delta:{x:_,y:B},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey,metaKey:w.metaKey,accelKey:Ha(w)});break}}}}},[e,t]);ubt(r,{target:t,eventOptions:{passive:!1},pinch:{from:()=>[e.getZoomLevel(),0],scaleBounds:()=>{const n=e.getBaseZoom(),i=e.getCameraOptions().zoomSteps,a=i[0]*n,o=i[i.length-1]*n;return{from:e.getZoomLevel(),max:o,min:a}}}})}function Hk(t,e,r){const n=t.getShape(e),i=t.getShapeHandles(n);return{shape:n,handle:i.find(a=>a.id===r)}}function dbt(t,e){const r=we();return I.useMemo(()=>{const n=l=>{if(l.isKilled)return;const u=WC(l.currentTarget);yb(u,l);const{shape:c,handle:A}=Hk(r,t,e);A&&r.dispatch({type:"pointer",target:"handle",handle:A,shape:c,name:"pointer_down",...ls(l)})};let i,a;return{onPointerDown:n,onPointerMove:l=>{if(l.isKilled||l.clientX===i&&l.clientY===a)return;i=l.clientX,a=l.clientY;const{shape:u,handle:c}=Hk(r,t,e);c&&r.dispatch({type:"pointer",target:"handle",handle:c,shape:u,name:"pointer_move",...ls(l)})},onPointerUp:l=>{if(l.isKilled)return;const u=WC(l.currentTarget);wb(u,l);const{shape:c,handle:A}=Hk(r,t,e);A&&r.dispatch({type:"pointer",target:"handle",handle:A,shape:c,name:"pointer_up",...ls(l)})}}},[r,t,e])}function fbt(t){const e=we();I.useLayoutEffect(()=>{const r=KOe(()=>{t.current&&e.updateViewportScreenBounds(t.current)},200,{trailing:!0}),n=e.timers.setInterval(r,1e3);window.addEventListener("resize",r);const i=new ResizeObserver(s=>{s[0].contentRect&&r()}),a=t.current;let o=null;return a&&(i.observe(a),o=hbt(a),o.addEventListener("scroll",r)),()=>{clearInterval(n),window.removeEventListener("resize",r),i.disconnect(),o==null||o.removeEventListener("scroll",r),r.cancel()}},[e,t])}/*!
 * Author: excalidraw
 * MIT License: https://github.com/excalidraw/excalidraw/blob/master/LICENSE
 * https://github.com/excalidraw/excalidraw/blob/48c3465b19f10ec755b3eb84e21a01a468e96e43/packages/excalidraw/utils.ts#L600
 */const hbt=t=>{let e=t.parentElement;for(;e;){if(e===document.body)return document;const{overflowY:r}=window.getComputedStyle(e);if(e.scrollHeight>e.clientHeight&&(r==="auto"||r==="scroll"||r==="overlay"))return e;e=e.parentElement}return document};class Ze{constructor(e=0,r=0,n=0,i=0){K(this,"x",0);K(this,"y",0);K(this,"w",0);K(this,"h",0);this.x=e,this.y=r,this.w=n,this.h=i}get point(){return new k(this.x,this.y)}set point(e){this.x=e.x,this.y=e.y}get minX(){return this.x}set minX(e){this.x=e}get midX(){return this.x+this.w/2}get maxX(){return this.x+this.w}get minY(){return this.y}set minY(e){this.y=e}get midY(){return this.y+this.h/2}get maxY(){return this.y+this.h}get width(){return this.w}set width(e){this.w=e}get height(){return this.h}set height(e){this.h=e}get aspectRatio(){return this.width/this.height}get center(){return new k(this.midX,this.midY)}set center(e){this.minX=e.x-this.width/2,this.minY=e.y-this.height/2}get corners(){return[new k(this.minX,this.minY),new k(this.maxX,this.minY),new k(this.maxX,this.maxY),new k(this.minX,this.maxY)]}get cornersAndCenter(){return[new k(this.minX,this.minY),new k(this.maxX,this.minY),new k(this.maxX,this.maxY),new k(this.minX,this.maxY),this.center]}get sides(){const{corners:e}=this;return[[e[0],e[1]],[e[1],e[2]],[e[2],e[3]],[e[3],e[0]]]}get size(){return new k(this.w,this.h)}toFixed(){return this.x=L0(this.x),this.y=L0(this.y),this.w=L0(this.w),this.h=L0(this.h),this}setTo(e){return this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this}set(e=0,r=0,n=0,i=0){return this.x=e,this.y=r,this.w=n,this.h=i,this}expand(e){const r=Math.min(this.minX,e.minX),n=Math.min(this.minY,e.minY),i=Math.max(this.maxX,e.maxX),a=Math.max(this.maxY,e.maxY);return this.x=r,this.y=n,this.w=i-r,this.h=a-n,this}expandBy(e){return this.x-=e,this.y-=e,this.w+=e*2,this.h+=e*2,this}scale(e){return this.x/=e,this.y/=e,this.w/=e,this.h/=e,this}clone(){const{x:e,y:r,w:n,h:i}=this;return new Ze(e,r,n,i)}translate(e){return this.x+=e.x,this.y+=e.y,this}snapToGrid(e){const r=Math.round(this.minX/e)*e,n=Math.round(this.minY/e)*e,i=Math.round(this.maxX/e)*e,a=Math.round(this.maxY/e)*e;this.minX=r,this.minY=n,this.width=Math.max(1,i-r),this.height=Math.max(1,a-n)}collides(e){return Ze.Collides(this,e)}contains(e){return Ze.Contains(this,e)}includes(e){return Ze.Includes(this,e)}containsPoint(e,r=0){return Ze.ContainsPoint(this,e,r)}getHandlePoint(e){switch(e){case"top_left":return new k(this.minX,this.minY);case"top_right":return new k(this.maxX,this.minY);case"bottom_left":return new k(this.minX,this.maxY);case"bottom_right":return new k(this.maxX,this.maxY);case"top":return new k(this.midX,this.minY);case"right":return new k(this.maxX,this.midY);case"bottom":return new k(this.midX,this.maxY);case"left":return new k(this.minX,this.midY)}}toJson(){return{x:this.minX,y:this.minY,w:this.w,h:this.h}}resize(e,r,n){const{minX:i,minY:a,maxX:o,maxY:s}=this;let{minX:l,minY:u,maxX:c,maxY:A}=this;switch(e){case"left":case"top_left":case"bottom_left":{l+=r;break}case"right":case"top_right":case"bottom_right":{c+=r;break}}switch(e){case"top":case"top_left":case"top_right":{u+=n;break}case"bottom":case"bottom_left":case"bottom_right":{A+=n;break}}const d=(c-l)/(o-i),f=(A-u)/(s-a),p=d<0,g=f<0;if(p){const m=c;c=l,l=m}if(g){const m=A;A=u,u=m}this.minX=l,this.minY=u,this.width=Math.abs(c-l),this.height=Math.abs(A-u)}union(e){const r=Math.min(this.minX,e.x),n=Math.min(this.minY,e.y),i=Math.max(this.maxX,e.w+e.x),a=Math.max(this.maxY,e.h+e.y);return this.x=r,this.y=n,this.width=i-r,this.height=a-n,this}static From(e){return new Ze(e.x,e.y,e.w,e.h)}static FromCenter(e,r){return new Ze(e.x-r.x/2,e.y-r.y/2,r.x,r.y)}static FromPoints(e){if(e.length===0)return new Ze;let r=1/0,n=1/0,i=-1/0,a=-1/0,o;for(let s=0,l=e.length;s<l;s++)o=e[s],r=Math.min(o.x,r),n=Math.min(o.y,n),i=Math.max(o.x,i),a=Math.max(o.y,a);return new Ze(r,n,i-r,a-n)}static Expand(e,r){const n=Math.min(r.minX,e.minX),i=Math.min(r.minY,e.minY),a=Math.max(r.maxX,e.maxX),o=Math.max(r.maxY,e.maxY);return new Ze(n,i,a-n,o-i)}static ExpandBy(e,r){return new Ze(e.minX-r,e.minY-r,e.width+r*2,e.height+r*2)}static Collides(e,r){return!(e.maxX<r.minX||e.minX>r.maxX||e.maxY<r.minY||e.minY>r.maxY)}static Contains(e,r){return e.minX<r.minX&&e.minY<r.minY&&e.maxY>r.maxY&&e.maxX>r.maxX}static Includes(e,r){return Ze.Collides(e,r)||Ze.Contains(e,r)}static ContainsPoint(e,r,n=0){return!(r.x<e.minX-n||r.y<e.minY-n||r.x>e.maxX+n||r.y>e.maxY+n)}static Common(e){let r=1/0,n=1/0,i=-1/0,a=-1/0;for(let o=0;o<e.length;o++){const s=e[o];r=Math.min(r,s.minX),n=Math.min(n,s.minY),i=Math.max(i,s.maxX),a=Math.max(a,s.maxY)}return new Ze(r,n,i-r,a-n)}static Sides(e,r=0){const{corners:n}=e;return[[n[0],n[1]],[n[1],n[2]],[n[2],n[3]],[n[3],n[0]]]}static Resize(e,r,n,i,a=!1){const{minX:o,minY:s,maxX:l,maxY:u}=e;let{minX:c,minY:A,maxX:d,maxY:f}=e;switch(r){case"left":case"top_left":case"bottom_left":{c+=n;break}case"right":case"top_right":case"bottom_right":{d+=n;break}}switch(r){case"top":case"top_left":case"top_right":{A+=i;break}case"bottom":case"bottom_left":case"bottom_right":{f+=i;break}}const p=(d-c)/(l-o),g=(f-A)/(u-s),m=p<0,w=g<0;if(a){const C=(l-o)/(u-s),S=Math.abs(d-c),x=Math.abs(f-A),_=S*(g<0?1:-1)*(1/C),B=x*(p<0?1:-1)*C,T=C<S/x;switch(r){case"top_left":{T?A=f+_:c=d+B;break}case"top_right":{T?A=f+_:d=c-B;break}case"bottom_right":{T?f=A-_:d=c-B;break}case"bottom_left":{T?f=A-_:c=d+B;break}case"bottom":case"top":{const R=(c+d)/2,P=x*C;c=R-P/2,d=R+P/2;break}case"left":case"right":{const R=(A+f)/2,P=S/C;A=R-P/2,f=R+P/2;break}}}if(m){const C=d;d=c,c=C}if(w){const C=f;f=A,A=C}const b=new Ze(c,A,Math.abs(d-c),Math.abs(f-A));return{box:b,scaleX:+(b.width/e.width*(p>0?1:-1)).toFixed(5),scaleY:+(b.height/e.height*(g>0?1:-1)).toFixed(5)}}equals(e){return Ze.Equals(this,e)}static Equals(e,r){return r.x===e.x&&r.y===e.y&&r.w===e.w&&r.h===e.h}zeroFix(){return this.w=Math.max(1,this.w),this.h=Math.max(1,this.h),this}static ZeroFix(e){return new Ze(e.x,e.y,Math.max(1,e.w),Math.max(1,e.h))}}function pbt(t){switch(t){case"top":return"bottom";case"bottom":return"top";case"top_left":return"bottom_left";case"top_right":return"bottom_right";case"bottom_left":return"top_left";case"bottom_right":return"top_right";default:return t}}function gbt(t){switch(t){case"left":return"right";case"right":return"left";case"top_left":return"top_right";case"top_right":return"top_left";case"bottom_left":return"bottom_right";case"bottom_right":return"bottom_left";default:return t}}function mbt(t){return t==="top_left"||t==="top_right"||t==="bottom_right"||t==="bottom_left"}class nt{constructor(e,r,n,i,a,o){K(this,"a",1);K(this,"b",0);K(this,"c",0);K(this,"d",1);K(this,"e",0);K(this,"f",0);this.a=e,this.b=r,this.c=n,this.d=i,this.e=a,this.f=o}equals(e){return this===e||this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}multiply(e){const r=e,{a:n,b:i,c:a,d:o,e:s,f:l}=this;return this.a=n*r.a+a*r.b,this.c=n*r.c+a*r.d,this.e=n*r.e+a*r.f+s,this.b=i*r.a+o*r.b,this.d=i*r.c+o*r.d,this.f=i*r.e+o*r.f+l,this}rotate(e,r,n){return e===0?this:r===void 0?this.multiply(nt.Rotate(e)):this.translate(r,n).multiply(nt.Rotate(e)).translate(-r,-n)}translate(e,r){return this.multiply(nt.Translate(e,r))}scale(e,r){return this.multiply(nt.Scale(e,r))}invert(){const{a:e,b:r,c:n,d:i,e:a,f:o}=this,s=e*i-r*n;return this.a=i/s,this.b=r/-s,this.c=n/-s,this.d=e/s,this.e=(i*a-n*o)/-s,this.f=(r*a-e*o)/s,this}applyToPoint(e){return nt.applyToPoint(this,e)}applyToPoints(e){return nt.applyToPoints(this,e)}rotation(){return nt.Rotation(this)}point(){return nt.Point(this)}decomposed(){return nt.Decompose(this)}toCssString(){return nt.toCssString(this)}setTo(e){return Object.assign(this,e),this}decompose(){return nt.Decompose(this)}clone(){return new nt(this.a,this.b,this.c,this.d,this.e,this.f)}static Identity(){return new nt(1,0,0,1,0,0)}static Translate(e,r){return new nt(1,0,0,1,e,r)}static Rotate(e,r,n){if(e===0)return nt.Identity();const i=Math.cos(e),a=Math.sin(e),o=new nt(i,a,-a,i,0,0);return r===void 0?o:nt.Compose(nt.Translate(r,n),o,nt.Translate(-r,-n))}static Scale(e,r,n,i){const a=new nt(e,0,0,r,0,0);return n===void 0?a:nt.Compose(nt.Translate(n,i),a,nt.Translate(-n,-i))}static Multiply(e,r){return{a:e.a*r.a+e.c*r.b,c:e.a*r.c+e.c*r.d,e:e.a*r.e+e.c*r.f+e.e,b:e.b*r.a+e.d*r.b,d:e.b*r.c+e.d*r.d,f:e.b*r.e+e.d*r.f+e.f}}static Inverse(e){const r=e.a*e.d-e.b*e.c;return{a:e.d/r,b:e.b/-r,c:e.c/-r,d:e.a/r,e:(e.d*e.e-e.c*e.f)/-r,f:(e.b*e.e-e.a*e.f)/r}}static Absolute(e){const r=e.a*e.d-e.b*e.c;return{a:e.d/r,b:e.b/-r,c:e.c/-r,d:e.a/r,e:(e.d*e.e-e.c*e.f)/r,f:(e.b*e.e-e.a*e.f)/-r}}static Compose(...e){const r=nt.Identity();for(let n=0,i=e.length;n<i;n++)r.multiply(e[n]);return r}static Point(e){return new k(e.e,e.f)}static Rotation(e){let r;if(e.a!==0||e.c!==0){const n=(e.a*e.a+e.c*e.c)**.5;r=Math.acos(e.a/n)*(e.c>0?-1:1)}else if(e.b!==0||e.d!==0){const n=(e.b*e.b+e.d*e.d)**.5;r=bn+Math.acos(e.b/n)*(e.d>0?-1:1)}else r=0;return a4(r)}static Decompose(e){let r,n,i;if(e.a!==0||e.c!==0){const a=(e.a*e.a+e.c*e.c)**.5;r=a,n=(e.a*e.d-e.b*e.c)/a,i=Math.acos(e.a/a)*(e.c>0?-1:1)}else if(e.b!==0||e.d!==0){const a=(e.b*e.b+e.d*e.d)**.5;r=(e.a*e.d-e.b*e.c)/a,n=a,i=bn+Math.acos(e.b/a)*(e.d>0?-1:1)}else r=0,n=0,i=0;return{x:e.e,y:e.f,scaleX:r,scaleY:n,rotation:a4(i)}}static Smooth(e,r=1e10){return e.a=Math.round(e.a*r)/r,e.b=Math.round(e.b*r)/r,e.c=Math.round(e.c*r)/r,e.d=Math.round(e.d*r)/r,e.e=Math.round(e.e*r)/r,e.f=Math.round(e.f*r)/r,e}static toCssString(e){return`matrix(${ye(e.a)}, ${ye(e.b)}, ${ye(e.c)}, ${ye(e.d)}, ${ye(e.e)}, ${ye(e.f)})`}static applyToPoint(e,r){return new k(e.a*r.x+e.c*r.y+e.e,e.b*r.x+e.d*r.y+e.f,r.z)}static applyToXY(e,r,n){return[e.a*r+e.c*n+e.e,e.b*r+e.d*n+e.f]}static applyToPoints(e,r){return r.map(n=>new k(e.a*n.x+e.c*n.y+e.e,e.b*n.x+e.d*n.y+e.f,n.z))}static applyToBounds(e,r){return new Ze(e.e+r.minX,e.f+r.minY,r.width,r.height)}static From(e){return new nt(e.a,e.b,e.c,e.d,e.e,e.f)}static Cast(e){return e instanceof nt?e:nt.From(e)}}class Md{constructor(e){K(this,"isFilled",!1);K(this,"isClosed",!0);K(this,"isLabel",!1);K(this,"debugColor");K(this,"ignore");K(this,"_vertices");K(this,"_bounds");K(this,"_area");K(this,"_length");this.isFilled=e.isFilled,this.isClosed=e.isClosed,this.isLabel=e.isLabel??!1,this.debugColor=e.debugColor,this.ignore=e.ignore}hitTestPoint(e,r=0,n=!1){return this.isClosed&&(this.isFilled||n)&&ds(e,this.vertices)?!0:k.Dist2(e,this.nearestPoint(e))<=r*r}distanceToPoint(e,r=!1){return e.dist(this.nearestPoint(e))*(this.isClosed&&(this.isFilled||r)&&ds(e,this.vertices)?-1:1)}distanceToLineSegment(e,r){if(e.equals(r))return this.distanceToPoint(e);const{vertices:n}=this;let i,a=1/0,o,s,l;for(let u=0;u<n.length;u++)s=n[u],l=k.NearestPointOnLineSegment(e,r,s,!0),o=k.Dist2(s,l),o<a&&(a=o,i=l);if(!i)throw Error("nearest point not found");return this.isClosed&&this.isFilled&&ds(i,this.vertices)?-a:a}hitTestLineSegment(e,r,n=0){return this.distanceToLineSegment(e,r)<=n}nearestPointOnLineSegment(e,r){const{vertices:n}=this;let i,a=1/0,o,s,l;for(let u=0;u<n.length;u++)s=n[u],l=k.NearestPointOnLineSegment(e,r,s,!0),o=k.Dist2(s,l),o<a&&(a=o,i=l);if(!i)throw Error("nearest point not found");return i}isPointInBounds(e,r=0){const{bounds:n}=this;return!(e.x<n.minX-r||e.y<n.minY-r||e.x>n.maxX+r||e.y>n.maxY+r)}get vertices(){return this._vertices||(this._vertices=this.getVertices()),this._vertices}getBounds(){return Ze.FromPoints(this.vertices)}get bounds(){return this._bounds||(this._bounds=this.getBounds()),this._bounds}get center(){return this.bounds.center}get area(){return this._area||(this._area=this.getArea()),this._area}getArea(){if(!this.isClosed)return 0;const{vertices:e}=this;let r=0;for(let n=0,i=e.length;n<i;n++){const a=e[n],o=e[(n+1)%i];r+=a.x*o.y-o.x*a.y}return r/2}toSimpleSvgPath(){let e="";const{vertices:r}=this,n=r.length;if(n===0)return e;e+=`M${r[0].x},${r[0].y}`;for(let i=1;i<n;i++)e+=`L${r[i].x},${r[i].y}`;return this.isClosed&&(e+="Z"),e}get length(){return this._length?this._length:(this._length=this.getLength(),this._length)}getLength(){const{vertices:e}=this;let r,n=e[0],i=0;for(let a=1;a<e.length;a++)r=e[a],i+=k.Dist2(n,r),n=r;return Math.sqrt(i)}}class tl extends Md{constructor(r){super({...r,isClosed:!0,isFilled:!1});K(this,"children",[]);K(this,"ignoredChildren",[]);for(const n of r.children)n.ignore?this.ignoredChildren.push(n):this.children.push(n);if(this.children.length===0)throw Error("Group2d must have at least one child")}getVertices(){return this.children.filter(r=>!r.isLabel).flatMap(r=>r.vertices)}nearestPoint(r){let n=1/0,i;const{children:a}=this;if(a.length===0)throw Error("no children");let o,s;for(const l of a)o=l.nearestPoint(r),s=k.Dist2(o,r),s<n&&(n=s,i=o);if(!i)throw Error("nearest point not found");return i}distanceToPoint(r,n=!1){return Math.min(...this.children.map((i,a)=>i.distanceToPoint(r,n||a>0)))}hitTestPoint(r,n,i){return!!this.children.filter(a=>!a.isLabel).find(a=>a.hitTestPoint(r,n,i))}hitTestLineSegment(r,n,i){return!!this.children.filter(a=>!a.isLabel).find(a=>a.hitTestLineSegment(r,n,i))}getArea(){return this.children[0].area}toSimpleSvgPath(){let r="";for(const i of this.children)r+=i.toSimpleSvgPath();const n=Ze.FromPoints(this.vertices).corners;for(let i=0,a=n.length;i<a;i++){const o=n[i],s=n[(i-1+a)%a],l=o.dist(s),u=n[(i+1)%a],c=o.dist(u),A=o.clone().lrp(s,4/l),d=o,f=o.clone().lrp(u,4/c);r+=`M${A.x},${A.y} L${d.x},${d.y} L${f.x},${f.y} `}return r}getLength(){return this.children.reduce((r,n)=>n.isLabel?r:r+n.length,0)}getSvgPathData(){return this.children.map((r,n)=>r.isLabel?"":r.getSvgPathData(n===0)).join(" ")}}function vbt(t=!0){const[e,r]=I.useState(0),n=we();I.useEffect(()=>{if(!t)return;const i=()=>r(a=>a+1);return n.on("tick",i),()=>{n.off("tick",i)}},[n,t])}const ybt=wa(function({showStroke:e=!0,showVertices:r=!0,showClosestPointOnOutline:n=!0}){const i=we();vbt(n);const a=i.getZoomLevel(),o=i.getRenderingShapes(),{inputs:{currentPagePoint:s}}=i;return y.jsx("svg",{style:{position:"absolute",pointerEvents:"none",zIndex:999999999,top:0,left:0,overflow:"visible"},children:o.map(l=>{const u=i.getShape(l.id);if(u.type==="group")return null;const c=i.getShapeGeometry(u),A=i.getShapePageTransform(u),d=i.getPointInShapeSpace(u,s),f=c.nearestPoint(d),p=c.distanceToPoint(d,!0),g=Math.abs(p)*a,m=p<0,{vertices:w}=c;return y.jsxs("g",{transform:A.toCssString(),strokeLinecap:"round",strokeLinejoin:"round",children:[e&&y.jsx("g",{stroke:c.debugColor??"red",opacity:"1",strokeWidth:2/a,fill:"none",children:y.jsx(aMe,{geometry:c})}),r&&w.map((b,C)=>y.jsx("circle",{cx:b.x,cy:b.y,r:2/a,fill:`hsl(${Ig(C,[0,w.length-1],[120,200])}, 100%, 50%)`,stroke:"black",strokeWidth:1/a},`v${C}`)),n&&g<150&&y.jsx("line",{x1:f.x,y1:f.y,x2:d.x,y2:d.y,opacity:1-g/150,stroke:m?"goldenrod":"dodgerblue",strokeWidth:2/a})]},l.id+"_outline")})})});function aMe({geometry:t}){return t instanceof tl?y.jsx(y.Fragment,{children:[...t.children,...t.ignoredChildren].map((e,r)=>y.jsx(aMe,{geometry:e},r))}):y.jsx("path",{d:t.toSimpleSvgPath()})}function oMe(t){return Ugt(t)}function sMe(){const t=we(),e=rvt("userIds",()=>oMe(t.getCollaborators().map(r=>r.userId)).sort(),{isEqual:(r,n)=>{var i;return r.join(",")===((i=n.join)==null?void 0:i.call(n,","))}},[t]);return Ce(e)}function zE(t){const e=we();return Ce(`latestPresence:${t}`,()=>e.getCollaborators().find(n=>n.userId===t),[e,t])??null}const wbt=wa(function(){return sMe().map(r=>y.jsx(bbt,{collaboratorId:r},r))}),bbt=wa(function({collaboratorId:e}){const r=we(),n=zE(e),i=xbt(r,n);if(!(n&&n.currentPageId===r.getCurrentPageId()))return null;switch(i){case"inactive":{const{followingUserId:a,highlightedUserIds:o}=r.getInstanceState();if(!(a===n.userId||o.includes(n.userId)))return null;break}case"idle":{const{highlightedUserIds:a}=r.getInstanceState();if(n.followingUserId===r.user.getId()&&!(n.chatMessage||a.includes(n.userId)))return null;break}}return y.jsx(Sbt,{latestPresence:n})}),Sbt=wa(function({latestPresence:e}){const r=we(),{CollaboratorBrush:n,CollaboratorScribble:i,CollaboratorCursor:a,CollaboratorHint:o,CollaboratorShapeIndicator:s}=Rn(),l=r.getZoomLevel(),u=r.getViewportPageBounds(),{userId:c,chatMessage:A,brush:d,scribbles:f,selectedShapeIds:p,userName:g,cursor:m,color:w}=e;if(!m)return null;const b=!(m.x<u.minX-12/l||m.y<u.minY-16/l||m.x>u.maxX-12/l||m.y>u.maxY-16/l);return y.jsxs(y.Fragment,{children:[d&&n?y.jsx(n,{className:"tl-collaborator__brush",brush:d,color:w,opacity:.1},c+"_brush"):null,b&&a?y.jsx(a,{className:"tl-collaborator__cursor",point:m,color:w,zoom:l,name:g!=="New User"?g:null,chatMessage:A??""},c+"_cursor"):o?y.jsx(o,{className:"tl-collaborator__cursor-hint",point:m,color:w,zoom:l,viewport:u},c+"_cursor_hint"):null,i&&f.length?y.jsx(y.Fragment,{children:f.map(C=>y.jsx(i,{className:"tl-collaborator__scribble",scribble:C,color:w,zoom:l,opacity:C.color==="laser"?.5:.1},c+"_scribble_"+C.id))}):null,s&&p.filter(C=>!r.isShapeHidden(C)).map(C=>y.jsx(s,{className:"tl-collaborator__shape-indicator",shapeId:C,color:w,opacity:.5},c+"_"+C))]})});function qre(t,e){return e>t.options.collaboratorInactiveTimeoutMs?"inactive":e>t.options.collaboratorIdleTimeoutMs?"idle":"active"}function xbt(t,e){const r=I.useRef((e==null?void 0:e.lastActivityTimestamp)??-1),[n,i]=I.useState(()=>qre(t,Date.now()-r.current));return I.useEffect(()=>{const a=t.timers.setInterval(()=>{i(qre(t,Date.now()-r.current))},t.options.collaboratorCheckIntervalMs);return()=>clearInterval(a)},[t]),e&&(r.current=e.lastActivityTimestamp??1/0),n}function Cbt(){const t=we(),e=Ce("is menu open",()=>t.menus.hasAnyOpenMenus(),[t]),[r,n]=I.useState(!1),i=e||r,a=V5(),o=I.useRef({isDown:!1,isDragging:!1,start:new k}),s=I.useCallback(c=>{c.button===0&&(n(!0),o.current={isDown:!0,isDragging:!1,start:new k(c.clientX,c.clientY)}),t.menus.clearOpenMenus()},[t]),l=I.useCallback(c=>{var A,d,f;if(o.current.isDown){if(o.current.isDragging){(A=a.onPointerMove)==null||A.call(a,c);return}if(k.Dist2(o.current.start,new k(c.clientX,c.clientY))>t.options.dragDistanceSquared){o.current={...o.current,isDown:!0,isDragging:!0};const{x:p,y:g}=o.current.start;(d=a.onPointerDown)==null||d.call(a,{...c,clientX:p,clientY:g,button:0}),(f=a.onPointerMove)==null||f.call(a,c)}}},[a,t]),u=I.useCallback(c=>{var A;(A=a.onPointerUp)==null||A.call(a,c),n(!1),o.current={isDown:!1,isDragging:!1,start:new k(c.clientX,c.clientY)}},[a]);return i&&y.jsx("div",{className:"tlui-menu-click-capture","data-testid":"menu-click-capture.content",...a,onPointerDown:s,onPointerMove:l,onPointerUp:u})}const lMe=I.memo(function({id:e,shape:r,util:n,index:i,backgroundIndex:a,opacity:o}){const s=we(),{ShapeErrorFallback:l}=Rn(),u=I.useRef(null),c=I.useRef(null),A=I.useRef({transform:"",clipPath:"none",width:0,height:0,x:0,y:0,isCulled:!1});ad("set shape stuff",()=>{const p=s.getShape(e);if(!p)return;const g=A.current,m=s.getShapeClipPath(e)??"none";m!==g.clipPath&&(Ma(u.current,"clip-path",m),Ma(c.current,"clip-path",m),g.clipPath=m);const w=s.getShapePageTransform(e),b=nt.toCssString(w),C=s.getShapeGeometry(p).bounds;b!==g.transform&&(Ma(u.current,"transform",b),Ma(c.current,"transform",b),g.transform=b);const S=Math.max(C.width,1),x=Math.max(C.height,1);(S!==g.width||x!==g.height)&&(Ma(u.current,"width",S+"px"),Ma(u.current,"height",x+"px"),Ma(c.current,"width",S+"px"),Ma(c.current,"height",x+"px"),g.width=S,g.height=x)},[s]),ad("set opacity and z-index",()=>{const p=u.current,g=c.current;Ma(p,"opacity",o),Ma(g,"opacity",o),Ma(p,"z-index",i),Ma(g,"z-index",a)},[o,i,a]),ad("set display",()=>{if(!s.getShape(e))return;const m=s.getCulledShapes().has(e);m!==A.current.isCulled&&(Ma(u.current,"display",m?"none":"block"),Ma(c.current,"display",m?"none":"block"),A.current.isCulled=m)},[s]);const d=I.useCallback(p=>s.annotateError(p,{origin:"shape",willCrashApp:!1}),[s]);if(!r)return null;const f="fill"in r.props&&r.props.fill!=="none";return y.jsxs(y.Fragment,{children:[n.backgroundComponent&&y.jsx("div",{ref:c,className:"tl-shape tl-shape-background","data-shape-type":r.type,"data-shape-id":r.id,draggable:!1,children:y.jsx(Iw,{fallback:l,onError:d,children:y.jsx(cMe,{shape:r,util:n})})}),y.jsx("div",{ref:u,className:"tl-shape","data-shape-type":r.type,"data-shape-is-filled":f,"data-shape-id":r.id,draggable:!1,children:y.jsx(Iw,{fallback:l,onError:d,children:y.jsx(uMe,{shape:r,util:n})})})]})}),uMe=I.memo(function({shape:e,util:r}){return LE("InnerShape:"+e.type,()=>r.component(r.editor.store.unsafeGetWithoutCapture(e.id)),[r,e.id])},(t,e)=>t.shape.props===e.shape.props&&t.shape.meta===e.shape.meta&&t.util===e.util),cMe=I.memo(function({shape:e,util:r}){return LE("InnerShape:"+e.type,()=>{var n;return(n=r.backgroundComponent)==null?void 0:n.call(r,r.editor.store.unsafeGetWithoutCapture(e.id))},[r,e.id])},(t,e)=>t.shape.props===e.shape.props&&t.shape.meta===e.shape.meta&&t.util===e.util);function _bt({className:t}){const e=we(),{Background:r,SvgDefs:n,ShapeIndicators:i}=Rn(),a=I.useRef(null),o=I.useRef(null),s=I.useRef(null),l=$i();fbt(a),owt(),awt(),Abt(a),lwt(a);const u=I.useRef({lodDisableTextOutline:!1,allowTextOutline:!0});ad("position layers",function(){const{x:b,y:C,z:S}=e.getCamera();if(u.current.allowTextOutline&&tn.isSafari&&(l.style.setProperty("--tl-text-outline","none"),u.current.allowTextOutline=!1),u.current.allowTextOutline&&S<e.options.textShadowLod!==u.current.lodDisableTextOutline){const B=S<e.options.textShadowLod;l.style.setProperty("--tl-text-outline",B?"none":"var(--tl-text-outline-reference)"),u.current.lodDisableTextOutline=B}const x=S>=1?Ig(S,[1,8],[.125,.5],!0):Ig(S,[.1,1],[-2,.125],!0),_=`scale(${ye(S)}) translate(${ye(b+x)}px,${ye(C+x)}px)`;Ma(o.current,"transform",_),Ma(s.current,"transform",_)},[e,l]);const c=V5(),A=Ce("shapeSvgDefs",()=>{const w=new Map;for(const b of _i(e.shapeUtils)){if(!b)return;const C=b.getCanvasSvgDefs();for(const{key:S,component:x}of C)w.has(S)||w.set(S,y.jsx(x,{},S))}return[...w.values()]},[e]),d=Ce("debug_shapes",()=>fi.hideShapes.get(),[fi]),f=Ce("debug_svg",()=>fi.debugSvg.get(),[fi]),p=Ce("debug_geometry",()=>fi.debugGeometry.get(),[fi]),g=Ce("isEditingAnything",()=>e.getEditingShapeId()!==null,[e]),m=Ce("isSelectingAnything",()=>!!e.getSelectedShapeIds().length,[e]);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{ref:a,draggable:!1,"data-iseditinganything":g,"data-isselectinganything":m,className:Mt("tl-canvas",t),"data-testid":"canvas",...c,children:[y.jsx("svg",{className:"tl-svg-context",children:y.jsxs("defs",{children:[A,y.jsx(Lbt,{}),y.jsx(Nbt,{}),n&&y.jsx(n,{})]})}),r&&y.jsx("div",{className:"tl-background__wrapper",children:y.jsx(r,{})}),y.jsx(Ibt,{}),y.jsxs("div",{ref:o,className:"tl-html-layer tl-shapes",draggable:!1,children:[y.jsx(qbt,{}),y.jsx(Hbt,{}),d?null:f?y.jsx(kbt,{}):y.jsx(Dbt,{})]}),y.jsx("div",{className:"tl-overlays",children:y.jsxs("div",{ref:s,className:"tl-html-layer",children:[p?y.jsx(ybt,{}):null,y.jsx(Pbt,{}),y.jsx(Bbt,{}),y.jsx(Tbt,{}),i&&y.jsx(i,{}),y.jsx(jbt,{}),y.jsx(Obt,{}),y.jsx(Qbt,{}),y.jsx(Rbt,{}),y.jsx(wbt,{})]})}),y.jsx(Kbt,{})]}),y.jsx(Cbt,{}),y.jsx(Ebt,{})]})}function Ebt(){const{InFrontOfTheCanvas:t}=Rn();return t?y.jsx(t,{}):null}function Ibt(){const t=we(),e=Ce("gridSize",()=>t.getDocumentSettings().gridSize,[t]),{x:r,y:n,z:i}=Ce("camera",()=>t.getCamera(),[t]),a=Ce("isGridMode",()=>t.getInstanceState().isGridMode,[t]),{Grid:o}=Rn();return o&&a?y.jsx(o,{x:r,y:n,z:i,size:e}):null}function Bbt(){const t=we(),e=Ce("scribbles",()=>t.getInstanceState().scribbles,[t]),r=Ce("zoomLevel",()=>t.getZoomLevel(),[t]),{Scribble:n}=Rn();return n&&e.length?e.map(i=>y.jsx(n,{className:"tl-user-scribble",scribble:i,zoom:r},i.id)):null}function Pbt(){const t=we(),e=Ce("brush",()=>t.getInstanceState().brush,[t]),{Brush:r}=Rn();return r&&e?y.jsx(r,{className:"tl-user-brush",brush:e}):null}function Tbt(){const t=we(),e=Ce("zoomBrush",()=>t.getInstanceState().zoomBrush,[t]),{ZoomBrush:r}=Rn();return r&&e?y.jsx(r,{className:"tl-user-brush tl-zoom-brush",brush:e}):null}function Obt(){const t=we(),e=Ce("snapLines",()=>t.snaps.getIndicators(),[t]),r=Ce("zoomLevel",()=>t.getZoomLevel(),[t]),{SnapIndicator:n}=Rn();return n&&e.length>0?e.map(i=>y.jsx(n,{className:"tl-user-snapline",line:i,zoom:r},i.id)):null}function Rbt(){const t=we(),e=Ce("handles shapeIdWithHandles",()=>{const{isReadonly:r,isChangingStyle:n}=t.getInstanceState();if(r||n)return!1;const i=t.getOnlySelectedShape();return!i||!t.getShapeHandles(i)?!1:i.id},[t]);return e?y.jsx(Mbt,{shapeId:e}):null}function Mbt({shapeId:t}){const e=we(),{Handles:r}=Rn(),n=Ce("zoomLevel",()=>e.getZoomLevel(),[e]),i=Ce("coarse pointer",()=>e.getInstanceState().isCoarsePointer,[e]),a=Ce("handles transform",()=>e.getShapePageTransform(t),[e,t]),o=Ce("handles",()=>{const l=e.getShapeHandles(t);if(!l)return null;const u=(i?e.options.coarseHandleRadius:e.options.handleRadius)/n*2;return l.filter(c=>c.type!=="virtual"||!l.some(A=>A!==c&&A.type==="vertex"&&k.Dist(c,A)<u)).sort(c=>c.type==="vertex"?1:-1)},[e,n,i,t]),s=Ce("isHidden",()=>e.isShapeHidden(t),[e,t]);return!r||!o||!a||s?null:y.jsx(r,{children:y.jsx("g",{transform:nt.toCssString(a),children:o.map(l=>y.jsx(Fbt,{shapeId:t,handle:l,zoom:n,isCoarse:i},l.id))})})}function Fbt({shapeId:t,handle:e,zoom:r,isCoarse:n}){const i=dbt(t,e.id),{Handle:a}=Rn();return a?y.jsx("g",{"aria-label":"handle",transform:`translate(${e.x}, ${e.y})`,...i,children:y.jsx(a,{shapeId:t,handle:e,zoom:r,isCoarse:n})}):null}function kbt(){const t=we();return Ce("rendering shapes",()=>t.getRenderingShapes(),[t]).map(r=>y.jsxs(I.Fragment,{children:[y.jsx(lMe,{...r}),y.jsx($bt,{id:r.id,mode:"iframe"})]},r.id+"_fragment"))}function Ubt(){const t=we(),e=I.useRef(new Set);return ad("reflow for culled shapes",()=>{const r=t.getCulledShapes();if(e.current.size===r.size&&[...r].every(i=>e.current.has(i)))return;e.current=r;const n=document.getElementsByClassName("tl-canvas");n.length!==0&&n[0].offsetHeight},[t]),null}function Dbt(){const t=we(),e=Ce("rendering shapes",()=>t.getRenderingShapes(),[t]);return y.jsxs(y.Fragment,{children:[e.map(r=>y.jsx(lMe,{...r},r.id+"_shape")),tn.isSafari&&y.jsx(Ubt,{})]})}function jbt(){const t=we(),{ShapeIndicator:e}=Rn(),r=Ce("hinting shape ids",()=>s5(t.getHintingShapeIds()),[t]);return!r.length||!e?null:r.map(n=>y.jsx(e,{className:"tl-user-indicator__hint",shapeId:n},n+"_hinting"))}function Lbt(){return y.jsxs("g",{id:kl("cursor"),children:[y.jsxs("g",{fill:"rgba(0,0,0,.2)",transform:"translate(-11,-11)",children:[y.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),y.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),y.jsxs("g",{fill:"white",transform:"translate(-12,-12)",children:[y.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),y.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),y.jsxs("g",{fill:"currentColor",transform:"translate(-12,-12)",children:[y.jsx("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),y.jsx("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})]})]})}function Nbt(){const t=kl("cursor_hint");return y.jsx("path",{id:t,fill:"currentColor",d:"M -2,-5 2,0 -2,5 Z"})}function $bt({id:t,mode:e}){const r=we(),[n,i]=I.useState(null),a=Ce("is in root",()=>{const o=r.getShape(t);return(o==null?void 0:o.parentId)===r.getCurrentPageId()},[r,t]);return I.useEffect(()=>{if(!a)return;let o=null;const s=ku("shape to svg",async()=>{const l=Math.random();o=l;const c=r.isShapeOfType(t,"frame")?0:10;let A=r.getShapePageBounds(t);if(!A)return;A=A.clone().expandBy(c);const d=await r.getSvgString([t],{padding:c});if(o!==l||!d)return;const f=`data:image/svg+xml;utf8,${encodeURIComponent(d.svg)}`;i({src:f,bounds:A})});return()=>{o=null,s()}},[r,t,a]),!a||!n?null:e==="iframe"?y.jsx("iframe",{src:n.src,width:n.bounds.width,height:n.bounds.height,referrerPolicy:"no-referrer",style:{position:"absolute",top:0,left:0,border:"none",transform:`translate(${n.bounds.x}px, ${n.bounds.maxY+12}px)`,outline:"1px solid black",maxWidth:"none"}}):y.jsx("img",{src:n.src,width:n.bounds.width,height:n.bounds.height,referrerPolicy:"no-referrer",style:{position:"absolute",top:0,left:0,transform:`translate(${n.bounds.x}px, ${n.bounds.maxY+12}px)`,outline:"1px solid black",maxWidth:"none"}})}function Qbt(){const t=we(),e=Ce("selection rotation",()=>t.getSelectionRotation(),[t]),r=Ce("selection bounds",()=>t.getSelectionRotatedPageBounds(),[t]),{SelectionForeground:n}=Rn();return!r||!n?null:y.jsx(n,{bounds:r,rotation:e})}function Hbt(){const t=we(),e=Ce("selection rotation",()=>t.getSelectionRotation(),[t]),r=Ce("selection bounds",()=>t.getSelectionRotatedPageBounds(),[t]),{SelectionBackground:n}=Rn();return!r||!n?null:y.jsx(n,{bounds:r,rotation:e})}function qbt(){const{OnTheCanvas:t}=Rn();return t?y.jsx(t,{}):null}function Kbt(){const t=we(),e=Ce("camera state",()=>t.getCameraState(),[t]);return y.jsx("div",{className:Mt("tl-hit-test-blocker",{"tl-hit-test-blocker__hidden":e==="idle"})})}function zbt({className:t,zoom:e,point:r,color:n,viewport:i,opacity:a=1}){const o=I.useRef(null);am(o,sa(r.x,i.minX+5/e,i.maxX-5/e),sa(r.y,i.minY+5/e,i.maxY-5/e),1/e,k.Angle(i.center,r));const s=kl("cursor_hint");return y.jsxs("svg",{ref:o,className:Mt("tl-overlays__item",t),children:[y.jsx("use",{href:`#${s}`,color:n,strokeWidth:3,stroke:"var(--color-background)"}),y.jsx("use",{href:`#${s}`,color:n,opacity:a})]})}const Kre=I.memo(function({className:e,zoom:r,point:n,color:i,name:a,chatMessage:o}){const s=I.useRef(null);am(s,n==null?void 0:n.x,n==null?void 0:n.y,1/r);const l=kl("cursor");return n?y.jsxs("div",{ref:s,className:Mt("tl-overlays__item",e),children:[y.jsx("svg",{className:"tl-cursor",children:y.jsx("use",{href:`#${l}`,color:i})}),o?y.jsxs(y.Fragment,{children:[a&&y.jsx("div",{className:"tl-nametag-title",style:{color:i},children:a}),y.jsx("div",{className:"tl-nametag-chat",style:{backgroundColor:i},children:o})]}):a&&y.jsx("div",{className:"tl-nametag",style:{backgroundColor:i},children:a})]}):null});function Wbt({x:t,y:e,z:r,size:n}){const i=im("grid"),a=we(),{gridSteps:o}=a.options;return y.jsxs("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("defs",{children:o.map(({min:s,mid:l,step:u},c)=>{const A=u*n*r,d=.5+t*r,f=.5+e*r,p=d>0?d%A:A+d%A,g=f>0?f%A:A+f%A,m=r<l?Ig(r,[s,l],[0,1]):1;return y.jsx("pattern",{id:K5(i,`${u}`),width:A,height:A,patternUnits:"userSpaceOnUse",children:y.jsx("circle",{className:"tl-grid-dot",cx:p,cy:g,r:1,opacity:m})},c)})}),o.map(({step:s},l)=>y.jsx("rect",{width:"100%",height:"100%",fill:`url(#${i}_${s})`},l))]})}function Gbt({handle:t,isCoarse:e,className:r,zoom:n}){const i=we(),a=(e?i.options.coarseHandleRadius:i.options.handleRadius)/n;if(t.type==="clone"){const s=3/n,l=`M0,${-s} A${s},${s} 0 0,1 0,${s}`,u=Jyt.indexOf(t.id);return y.jsxs("g",{className:Mt(`tl-handle tl-handle__${t.type}`,r),children:[y.jsx("circle",{className:"tl-handle__bg",r:a}),y.jsx("path",{className:"tl-handle__fg",d:l,transform:`rotate(${-90+90*u})`})]})}const o=(t.type==="create"&&e?3:4)/Math.max(n,.25);return y.jsxs("g",{className:Mt(`tl-handle tl-handle__${t.type}`,r),children:[y.jsx("circle",{className:"tl-handle__bg",r:a}),y.jsx("circle",{className:"tl-handle__fg",r:o})]})}const Vbt=({children:t})=>y.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:t}),Ybt=()=>{const{Spinner:t}=Rn();return y.jsx(Wq,{children:t?y.jsx(t,{}):null})};function X5(t,e=!0){const r=t.length;if(r<2)return"";let n=t[0],i=t[1];if(r===2)return`M${Fr(n)}L${Fr(i)}`;let a="";for(let o=2,s=r-1;o<s;o++)n=t[o],i=t[o+1],a+=Uo(n,i);return e?`M${Uo(t[0],t[1])}Q${Fr(t[1])}${Uo(t[1],t[2])}T${a}${Uo(t[r-1],t[0])}${Uo(t[0],t[1])}Z`:`M${Fr(t[0])}Q${Fr(t[1])}${Uo(t[1],t[2])}${t.length>3?"T":""}${a}L${Fr(t[r-1])}`}function zre({scribble:t,zoom:e,color:r,opacity:n,className:i}){return t.points.length?y.jsx("svg",{className:i&&Mt("tl-overlays__item",i),children:y.jsx("path",{className:"tl-scribble",d:X5(t.points,!1),stroke:r??`var(--color-${t.color})`,fill:"none",strokeWidth:8/e,opacity:n??t.opacity})}):null}function AMe({bounds:t,rotation:e}){const r=I.useRef(null);return am(r,t.x,t.y,1,e),I.useLayoutEffect(()=>{const n=r.current;n&&(n.style.width=ye(Math.max(1,t.width))+"px",n.style.height=ye(Math.max(1,t.height))+"px")},[t.width,t.height]),y.jsx("div",{ref:r,className:"tl-selection__bg",draggable:!1})}function Xbt({bounds:t,rotation:e}){const r=we(),n=I.useRef(null),i=Ce("only selected shape",()=>r.getOnlySelectedShape(),[r]),a=i?r.getShapeUtil(i).expandSelectionOutlinePx(i):0;return am(n,t==null?void 0:t.x,t==null?void 0:t.y,1,e,{x:-a,y:-a}),t=a instanceof Ze?t.clone().expand(a).zeroFix():t.clone().expandBy(a).zeroFix(),y.jsx("svg",{ref:n,className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:y.jsx("rect",{className:Mt("tl-selection__fg__outline"),width:ye(t.width),height:ye(t.height)})})}const Jbt=()=>y.jsx("div",{className:"tl-shape-error-boundary"}),Zbt=({shape:t,util:e})=>LE("Indicator: "+t.type,()=>e.indicator(e.editor.store.unsafeGetWithoutCapture(t.id))),eSt=({editor:t,id:e})=>{const r=Ce("shape for indicator",()=>t.store.get(e),[t,e]),{ShapeIndicatorErrorFallback:n}=Rn();return!r||r.isLocked?null:y.jsx(Iw,{fallback:n,onError:i=>t.annotateError(i,{origin:"react.shapeIndicator",willCrashApp:!1}),children:y.jsx(Zbt,{shape:r,util:t.getShapeUtil(r)},r.id)})},Wre=I.memo(function({shapeId:e,className:r,color:n,hidden:i,opacity:a}){const o=we(),s=I.useRef(null);return ad("indicator transform",()=>{const l=s.current;if(!l)return;const u=o.getShapePageTransform(e);u&&l.style.setProperty("transform",u.toCssString())},[o,e]),I.useLayoutEffect(()=>{const l=s.current;l&&l.style.setProperty("display",i?"none":"block")},[i]),y.jsx("svg",{ref:s,className:Mt("tl-overlays__item",r),children:y.jsx("g",{className:"tl-shape-indicator",stroke:n??"var(--color-selected)",opacity:a,children:y.jsx(eSt,{editor:o,id:e})})})}),tSt=()=>y.jsx("circle",{cx:4,cy:4,r:8,strokeWidth:"1",stroke:"red"}),dMe=I.memo(function(){const e=we(),r=I.useRef(new Set),n=Ce("should display selected ids",()=>{const o=r.current,s=new Set;if(e.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle")&&!e.getInstanceState().isChangingStyle){const l=e.getSelectedShapeIds();for(const u of l)s.add(u);if(e.isInAny("select.idle","select.editing_shape")){const u=e.getInstanceState();if(u.isHoveringCanvas&&!u.isCoarsePointer){const c=e.getHoveredShapeId();c&&s.add(c)}}}if(o.size!==s.size)return r.current=s,s;for(const l of s)if(!o.has(l))return r.current=s,s;return o},[e]),i=Ce("rendering shapes",()=>e.getRenderingShapes(),[e]),{ShapeIndicator:a}=Rn();return a?i.map(({id:o})=>y.jsx(a,{shapeId:o,hidden:!n.has(o)},o+"_indicator")):null});function rSt({points:t,zoom:e}){const r=2.5/e,n=t.reduce((d,f)=>Math.min(d,f.x),1/0),i=t.reduce((d,f)=>Math.max(d,f.x),-1/0),a=t.reduce((d,f)=>Math.min(d,f.y),1/0),o=t.reduce((d,f)=>Math.max(d,f.y),-1/0),s=t.some(d=>d.x===n&&d.y===a);let l,u,c,A;return s?(l=n,u=a,c=i,A=o):(l=n,u=o,c=i,A=a),y.jsxs("g",{className:"tl-snap-indicator",stroke:"lime",children:[y.jsx("line",{x1:l,y1:u,x2:c,y2:A}),t.map((d,f)=>y.jsx("g",{transform:`translate(${d.x},${d.y})`,children:y.jsx("path",{className:"tl-snap-point",d:`M ${-r},${-r} L ${r},${r} M ${-r},${r} L ${r},${-r}`})},f))]})}function nSt({gaps:t,direction:e,zoom:r}){const n=3.5/r;let i=[-1/0,1/0],a=null;const o=e==="horizontal";for(const l of t){if(a=El(i[0],i[1],o?l.startEdge[0].y:l.startEdge[0].x,o?l.startEdge[1].y:l.startEdge[1].x),a)i=a;else continue;if(a=El(i[0],i[1],o?l.endEdge[0].y:l.endEdge[0].x,o?l.endEdge[1].y:l.endEdge[1].x),a)i=a;else continue}if(i===null)return null;const s=(i[0]+i[1])/2;return y.jsx("g",{className:"tl-snap-indicator",stroke:"cyan",children:t.map(({startEdge:l,endEdge:u},c)=>y.jsx(I.Fragment,{children:o?y.jsxs(y.Fragment,{children:[y.jsx("line",{x1:l[0].x,y1:s-2*n,x2:l[1].x,y2:s+2*n}),y.jsx("line",{x1:u[0].x,y1:s-2*n,x2:u[1].x,y2:s+2*n}),y.jsx("line",{x1:l[0].x,y1:s,x2:u[0].x,y2:s}),y.jsx("line",{x1:(l[0].x+u[0].x)/2,y1:s-n,x2:(l[0].x+u[0].x)/2,y2:s+n})]}):y.jsxs(y.Fragment,{children:[y.jsx("line",{x1:s-2*n,y1:l[0].y,x2:s+2*n,y2:l[1].y}),y.jsx("line",{x1:s-2*n,y1:u[0].y,x2:s+2*n,y2:u[1].y}),y.jsx("line",{x1:s,y1:l[0].y,x2:s,y2:u[0].y}),y.jsx("line",{x1:s-n,y1:(l[0].y+u[0].y)/2,x2:s+n,y2:(l[0].y+u[0].y)/2})]})},c))})}function iSt({className:t,line:e,zoom:r}){return y.jsx("svg",{className:Mt("tl-overlays__item",t),children:e.type==="points"?y.jsx(rSt,{...e,zoom:r}):e.type==="gaps"?y.jsx(nSt,{...e,zoom:r}):null})}function J5(){return y.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",children:y.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[y.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"currentColor",children:y.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}const aSt=()=>null;function fMe(t,e){const r=I.useRef(t);return e(t,r.current)?r.current:(r.current=t,t)}const oSt=(t,e)=>(t??(t=null),e??(e=null),t===e?!0:!t||!e?!1:GOe(t,e));function KA(t){return fMe(t,oSt)}const sSt=(t,e)=>(t??(t=null),e??(e=null),t===e?!0:!t||!e?!1:eRe(t,e));function om(t){return fMe(t,sSt)}const hMe=I.createContext(null);function lSt({overrides:t={},children:e}){const r=om(t),n=I.useMemo(()=>({Background:Xyt,SvgDefs:aSt,Brush:Lk,ZoomBrush:Lk,CollaboratorBrush:Lk,Cursor:Kre,CollaboratorCursor:Kre,CollaboratorHint:zbt,CollaboratorShapeIndicator:Wre,Grid:Wbt,Scribble:zre,SnapIndicator:iSt,Handles:Vbt,Handle:Gbt,CollaboratorScribble:zre,ErrorFallback:gMe,ShapeErrorFallback:Jbt,ShapeIndicatorErrorFallback:tSt,Spinner:J5,SelectionBackground:AMe,SelectionForeground:Xbt,ShapeIndicators:dMe,ShapeIndicator:Wre,OnTheCanvas:null,InFrontOfTheCanvas:null,Canvas:_bt,LoadingScreen:Ybt,...r}),[r]);return y.jsx(hMe.Provider,{value:n,children:e})}function Rn(){const t=I.useContext(hMe);if(!t)throw new Error("useEditorComponents must be used inside of <EditorComponentsProvider />");return t}const WE={openWindow(t,e){window.open(t,e,"noopener noreferrer")},refreshPage(){window.location.reload()},async hardReset(){var t;return await((t=window.__tldraw__hardReset)==null?void 0:t.call(window))}};function pMe(){WE.hardReset()}function uSt(){WE.refreshPage()}const cSt="https://github.com/tldraw/tldraw/issues/new",gMe=({error:t,editor:e})=>{const r=I.useRef(null),[n,i]=I.useState(!1),[a,o]=I.useState(!1),[s,l]=I.useState(!1);let u=null;try{u=Rn().Canvas??null}catch{}const c=t instanceof Error?t.message:String(t),A=t instanceof Error?t.stack:null,d=Ce("isDarkMode",()=>{try{if(e)return e.user.getIsDarkMode()}catch{}return null},[e]),[f,p]=I.useState(null);I.useLayoutEffect(()=>{var x;d!==null&&p(d);let C=(x=r.current)==null?void 0:x.parentElement,S=!1;for(;C;){if(C.classList.contains("tl-theme__dark")||C.classList.contains("tl-theme__light")){S=!0;break}C=C.parentElement}if(S){p(null);return}typeof window<"u"&&"matchMedia"in window&&p(window.matchMedia("(prefers-color-scheme: dark)").matches)},[d]),I.useEffect(()=>{if(a){const C=e==null?void 0:e.timers.setTimeout(()=>{o(!1)},2e3);return()=>clearTimeout(C)}},[a,e]);const g=()=>{const C=document.createElement("textarea");C.value=A??c,document.body.appendChild(C),C.select(),document.execCommand("copy"),C.remove(),o(!0)},m=()=>{uSt()},w=async()=>{pMe()},b=new URL(cSt);return b.searchParams.set("title",c),b.searchParams.set("labels","bug"),b.searchParams.set("body",`Hey, I ran into an error while using tldraw:

\`\`\`js
${A??c}
\`\`\`

My browser: ${navigator.userAgent}`),y.jsxs("div",{ref:r,className:Mt("tl-container tl-error-boundary",f===null?"":f?"tl-theme__dark":"tl-theme__light"),children:[y.jsx("div",{className:"tl-error-boundary__overlay"}),e&&y.jsx(q5,{onError:bw,fallback:()=>null,children:y.jsx(W5,{editor:e,children:y.jsx("div",{className:"tl-overlay tl-error-boundary__canvas",children:u?y.jsx(u,{}):null})})}),y.jsx("div",{className:Mt("tl-modal","tl-error-boundary__content",{"tl-error-boundary__content__expanded":n&&!s}),children:s?y.jsxs(y.Fragment,{children:[y.jsx("h2",{children:"Are you sure?"}),y.jsx("p",{children:"Resetting your data will delete your drawing and cannot be undone."}),y.jsxs("div",{className:"tl-error-boundary__content__actions",children:[y.jsx("button",{onClick:()=>l(!1),children:"Cancel"}),y.jsx("button",{className:"tl-error-boundary__reset",onClick:w,children:"Reset data"})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("h2",{children:"Something went wrong"}),y.jsx("p",{children:"Please refresh the page to continue."}),y.jsxs("p",{children:["If you keep seeing this screen, you can create a"," ",y.jsx("a",{href:b.toString(),children:"GitHub issue"})," or ask for help on"," ",y.jsx("a",{href:"https://discord.tldraw.com/?utm_source=sdk&utm_medium=organic&utm_campaign=error-screen",children:"Discord"}),". If you are still stuck, you can reset the tldraw data on your machine. This may erase the project you were working on, so try to get help first."]}),n&&y.jsxs(y.Fragment,{children:["Message:",y.jsx("h4",{children:y.jsx("code",{children:c})}),"Stack trace:",y.jsxs("div",{className:"tl-error-boundary__content__error",children:[y.jsx("pre",{children:y.jsx("code",{children:A??c})}),y.jsx("button",{onClick:g,children:a?"Copied!":"Copy"})]})]}),y.jsxs("div",{className:"tl-error-boundary__content__actions",children:[y.jsx("button",{onClick:()=>i(!n),children:n?"Hide details":"Show details"}),y.jsxs("div",{className:"tl-error-boundary__content__actions__group",children:[y.jsx("button",{className:"tl-error-boundary__reset",onClick:()=>l(!0),children:"Reset data"}),y.jsx("button",{className:"tl-error-boundary__refresh",onClick:m,children:"Refresh Page"})]})]})]})})]})},mMe="TLDRAW_USER_DATA_v3",vMe=mr({id:nr,name:nr.nullable().optional(),color:nr.nullable().optional(),locale:nr.nullable().optional(),animationSpeed:zt.nullable().optional(),edgeScrollSpeed:zt.nullable().optional(),colorScheme:HE("light","dark","system").optional(),isSnapMode:pr.nullable().optional(),isWrapMode:pr.nullable().optional(),isDynamicSizeMode:pr.nullable().optional(),isPasteAtCursorMode:pr.nullable().optional()}),Ic={AddAnimationSpeed:1,AddIsSnapMode:2,MakeFieldsNullable:3,AddEdgeScrollSpeed:4,AddExcalidrawSelectMode:5,AddDynamicSizeMode:6,AllowSystemColorScheme:7,AddPasteAtCursor:8},Z5=Math.max(...Object.values(Ic));function ASt(t){t.version<Ic.AddAnimationSpeed&&(t.user.animationSpeed=1),t.version<Ic.AddIsSnapMode&&(t.user.isSnapMode=!1),t.version<Ic.MakeFieldsNullable,t.version<Ic.AddEdgeScrollSpeed&&(t.user.edgeScrollSpeed=1),t.version<Ic.AddExcalidrawSelectMode&&(t.user.isWrapMode=!1),t.version<Ic.AllowSystemColorScheme&&(t.user.isDarkMode===!0?t.user.colorScheme="dark":t.user.isDarkMode===!1&&(t.user.colorScheme="light"),delete t.user.isDarkMode),t.version<Ic.AddDynamicSizeMode&&(t.user.isDynamicSizeMode=!1),t.version<Ic.AddPasteAtCursor&&(t.user.isPasteAtCursorMode=!1),t.version=Z5}const g4=["#FF802B","#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467"];function yMe(){return g4[Math.floor(Math.random()*g4.length)]}function dSt(){var t,e;return typeof window<"u"&&"matchMedia"in window?((e=(t=window.matchMedia)==null?void 0:t.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:e.matches)??!1:!1}const yu=Object.freeze({name:"New User",locale:qyt(),color:yMe(),edgeScrollSpeed:1,animationSpeed:dSt()?0:1,isSnapMode:!1,isWrapMode:!1,isDynamicSizeMode:!1,isPasteAtCursorMode:!1,colorScheme:"light"});function qk(){return{id:Xr(),color:yMe()}}function wMe(t){if(t===null||typeof t!="object"||!("version"in t)||!("user"in t)||typeof t.version!="number")return qk();const e=On(t);ASt(e);try{return vMe.validate(e.user)}catch{return qk()}}function fSt(){const t=JSON.parse(h5(mMe)||"null")??null;return wMe(t)}const GE=pi("globalUserData",null);function hSt(){p5(mMe,JSON.stringify({version:Z5,user:GE.get()}))}function bMe(t){vMe.validate(t),GE.set(t),hSt(),gSt()}const pSt=typeof process<"u"&&!1,Yp=typeof BroadcastChannel<"u"&&!pSt?new BroadcastChannel("tldraw-user-sync"):null;Yp==null||Yp.addEventListener("message",t=>{const e=t.data;(e==null?void 0:e.type)===xMe&&(e==null?void 0:e.origin)!==SMe()&&GE.set(wMe(e.data))});let Kk=null;function SMe(){return Kk===null&&(Kk=Xr()),Kk}const xMe="tldraw-user-preferences-change";function gSt(){Yp==null||Yp.postMessage({type:xMe,origin:SMe(),data:{user:CMe(),version:Z5}})}function CMe(){let t=GE.get();return t||(t=fSt(),bMe(t)),t}const mSt=je("defaultLocalStorageUserPrefs",()=>CMe());function _Me(t={}){return{userPreferences:t.userPreferences??mSt,setUserPreferences:t.setUserPreferences??bMe}}var Gre={},Vre={},zk={},Wk,Yre;function bs(){if(Yre)return Wk;Yre=1;var t=ke();return Wk=t([].slice),Wk}var Xre;function eq(){if(Xre)return zk;Xre=1;var t=Va(),e=Li(),r=ch().f,n=bs(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(o){try{return r(o)}catch{return n(i)}};return zk.f=function(s){return i&&t(s)==="Window"?a(s):r(e(s))},zk}var Gk,Jre;function Fn(){if(Jre)return Gk;Jre=1;var t=OE(),e=fn();return Gk=function(r,n,i){return i.get&&t(i.get,n,{getter:!0}),i.set&&t(i.set,n,{setter:!0}),e.f(r,n,i)},Gk}var Vk={},Zre;function EMe(){if(Zre)return Vk;Zre=1;var t=Lt();return Vk.f=t,Vk}var Yk,ene;function tq(){if(ene)return Yk;ene=1;var t=lt();return Yk=t,Yk}var Xk,tne;function Yn(){if(tne)return Xk;tne=1;var t=tq(),e=or(),r=EMe(),n=fn().f;return Xk=function(i){var a=t.Symbol||(t.Symbol={});e(a,i)||n(a,i,{value:r.f(i)})},Xk}var Jk,rne;function IMe(){if(rne)return Jk;rne=1;var t=ft(),e=qt(),r=Lt(),n=Vr();return Jk=function(){var i=e("Symbol"),a=i&&i.prototype,o=a&&a.valueOf,s=r("toPrimitive");a&&!a[s]&&n(a,s,function(l){return t(o,this)},{arity:1})},Jk}var Zk,nne;function Ko(){if(nne)return Zk;nne=1;var t=fn().f,e=or(),r=Lt(),n=r("toStringTag");return Zk=function(i,a,o){i&&!o&&(i=i.prototype),i&&!e(i,n)&&t(i,n,{configurable:!0,value:a})},Zk}var eU,ine;function bi(){if(ine)return eU;ine=1;var t=sn(),e=ke(),r=Bd(),n=Ar(),i=br(),a=pb(),o=e([].push),s=function(l){var u=l===1,c=l===2,A=l===3,d=l===4,f=l===6,p=l===7,g=l===5||f;return function(m,w,b,C){for(var S=n(m),x=r(S),_=i(x),B=t(w,b),T=0,R=C||a,P=u?R(m,_):c||p?R(m,0):void 0,M,U;_>T;T++)if((g||T in x)&&(M=x[T],U=B(M,T,S),l))if(u)P[T]=U;else if(U)switch(l){case 3:return!0;case 5:return M;case 6:return T;case 2:o(P,M)}else switch(l){case 4:return!1;case 7:o(P,M)}return f?-1:A||d?d:P}};return eU={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)},eU}var ane;function vSt(){if(ane)return Vre;ane=1;var t=G(),e=lt(),r=ft(),n=ke(),i=cr(),a=Ft(),o=sh(),s=Ve(),l=or(),u=Ya(),c=At(),A=Li(),d=aA(),f=Xt(),p=vs(),g=wi(),m=tm(),w=ch(),b=eq(),C=RE(),S=ya(),x=fn(),_=w5(),B=_E(),T=Vr(),R=Fn(),P=Td(),M=TE(),U=Ab(),F=uh(),j=Lt(),L=EMe(),$=Yn(),Q=IMe(),H=Ko(),q=Qr(),Y=bi().forEach,z=M("hidden"),V="Symbol",X="prototype",ee=q.set,J=q.getterFor(V),le=Object[X],de=e.Symbol,oe=de&&de[X],re=e.RangeError,se=e.TypeError,he=e.QObject,ae=S.f,Ee=x.f,Oe=b.f,Ne=B.f,De=n([].push),Le=P("symbols"),st=P("op-symbols"),ut=P("wks"),it=!he||!he[X]||!he[X].findChild,Ie=function(ie,me,Te){var qe=ae(le,me);qe&&delete le[me],Ee(ie,me,Te),qe&&ie!==le&&Ee(le,me,qe)},be=a&&s(function(){return g(Ee({},"a",{get:function(){return Ee(this,"a",{value:7}).a}})).a!==7})?Ie:Ee,Be=function(ie,me){var Te=Le[ie]=g(oe);return ee(Te,{type:V,tag:ie,description:me}),a||(Te.description=me),Te},tt=function(me,Te,qe){me===le&&tt(st,Te,qe),c(me);var pe=d(Te);return c(qe),l(Le,pe)?(qe.enumerable?(l(me,z)&&me[z][pe]&&(me[z][pe]=!1),qe=g(qe,{enumerable:p(0,!1)})):(l(me,z)||Ee(me,z,p(1,g(null))),me[z][pe]=!0),be(me,pe,qe)):Ee(me,pe,qe)},ct=function(me,Te){c(me);var qe=A(Te),pe=m(qe).concat(Z(qe));return Y(pe,function(rt){(!a||r($e,qe,rt))&&tt(me,rt,qe[rt])}),me},ot=function(me,Te){return Te===void 0?g(me):ct(g(me),Te)},$e=function(me){var Te=d(me),qe=r(Ne,this,Te);return this===le&&l(Le,Te)&&!l(st,Te)?!1:qe||!l(this,Te)||!l(Le,Te)||l(this,z)&&this[z][Te]?qe:!0},kt=function(me,Te){var qe=A(me),pe=d(Te);if(!(qe===le&&l(Le,pe)&&!l(st,pe))){var rt=ae(qe,pe);return rt&&l(Le,pe)&&!(l(qe,z)&&qe[z][pe])&&(rt.enumerable=!0),rt}},Nt=function(me){var Te=Oe(A(me)),qe=[];return Y(Te,function(pe){!l(Le,pe)&&!l(U,pe)&&De(qe,pe)}),qe},Z=function(ie){var me=ie===le,Te=Oe(me?st:A(ie)),qe=[];return Y(Te,function(pe){l(Le,pe)&&(!me||l(le,pe))&&De(qe,Le[pe])}),qe};return o||(de=function(){if(u(oe,this))throw new se("Symbol is not a constructor");var me=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),Te=F(me),qe=function(pe){var rt=this===void 0?e:this;rt===le&&r(qe,st,pe),l(rt,z)&&l(rt[z],Te)&&(rt[z][Te]=!1);var _t=p(1,pe);try{be(rt,Te,_t)}catch(Fe){if(!(Fe instanceof re))throw Fe;Ie(rt,Te,_t)}};return a&&it&&be(le,Te,{configurable:!0,set:qe}),Be(Te,me)},oe=de[X],T(oe,"toString",function(){return J(this).tag}),T(de,"withoutSetter",function(ie){return Be(F(ie),ie)}),B.f=$e,x.f=tt,_.f=ct,S.f=kt,w.f=b.f=Nt,C.f=Z,L.f=function(ie){return Be(j(ie),ie)},a&&(R(oe,"description",{configurable:!0,get:function(){return J(this).description}}),i||T(le,"propertyIsEnumerable",$e,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:de}),Y(m(ut),function(ie){$(ie)}),t({target:V,stat:!0,forced:!o},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!a},{create:ot,defineProperty:tt,defineProperties:ct,getOwnPropertyDescriptor:kt}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Nt}),Q(),H(de,V),U[z]=!0,Vre}var one={},tU,sne;function BMe(){if(sne)return tU;sne=1;var t=sh();return tU=t&&!!Symbol.for&&!!Symbol.keyFor,tU}var lne;function ySt(){if(lne)return one;lne=1;var t=G(),e=qt(),r=or(),n=Xt(),i=Td(),a=BMe(),o=i("string-to-symbol-registry"),s=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!a},{for:function(l){var u=n(l);if(r(o,u))return o[u];var c=e("Symbol")(u);return o[u]=c,s[c]=u,c}}),one}var une={},cne;function wSt(){if(cne)return une;cne=1;var t=G(),e=or(),r=Pd(),n=lh(),i=Td(),a=BMe(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!a},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),une}var Ane={},rU,dne;function PMe(){if(dne)return rU;dne=1;var t=ke(),e=ec(),r=rr(),n=Va(),i=Xt(),a=t([].push);return rU=function(o){if(r(o))return o;if(e(o)){for(var s=o.length,l=[],u=0;u<s;u++){var c=o[u];typeof c=="string"?a(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&a(l,i(c))}var A=l.length,d=!0;return function(f,p){if(d)return d=!1,p;if(e(this))return p;for(var g=0;g<A;g++)if(l[g]===f)return p}}},rU}var fne;function TMe(){if(fne)return Ane;fne=1;var t=G(),e=qt(),r=ho(),n=ft(),i=ke(),a=Ve(),o=rr(),s=Pd(),l=bs(),u=PMe(),c=sh(),A=String,d=e("JSON","stringify"),f=i(/./.exec),p=i("".charAt),g=i("".charCodeAt),m=i("".replace),w=i(1 .toString),b=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,x=!c||a(function(){var R=e("Symbol")("stringify detection");return d([R])!=="[null]"||d({a:R})!=="{}"||d(Object(R))!=="{}"}),_=a(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),B=function(R,P){var M=l(arguments),U=u(P);if(!(!o(U)&&(R===void 0||s(R))))return M[1]=function(F,j){if(o(U)&&(j=n(U,this,A(F),j)),!s(j))return j},r(d,null,M)},T=function(R,P,M){var U=p(M,P-1),F=p(M,P+1);return f(C,R)&&!f(S,F)||f(S,R)&&!f(C,U)?"\\u"+w(g(R,0),16):R};return d&&t({target:"JSON",stat:!0,arity:3,forced:x||_},{stringify:function(P,M,U){var F=l(arguments),j=r(x?B:d,null,F);return _&&typeof j=="string"?m(j,b,T):j}}),Ane}var hne={},pne;function bSt(){if(pne)return hne;pne=1;var t=G(),e=sh(),r=Ve(),n=RE(),i=Ar(),a=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:a},{getOwnPropertySymbols:function(s){var l=n.f;return l?l(i(s)):[]}}),hne}var gne;function SSt(){return gne||(gne=1,vSt(),ySt(),wSt(),TMe(),bSt()),Gre}var mne={},vne;function xSt(){if(vne)return mne;vne=1;var t=G(),e=Ft(),r=lt(),n=ke(),i=or(),a=rr(),o=Ya(),s=Xt(),l=Fn(),u=em(),c=r.Symbol,A=c&&c.prototype;if(e&&a(c)&&(!("description"in A)||c().description!==void 0)){var d={},f=function(){var x=arguments.length<1||arguments[0]===void 0?void 0:s(arguments[0]),_=o(A,this)?new c(x):x===void 0?c():c(x);return x===""&&(d[_]=!0),_};u(f,c),f.prototype=A,A.constructor=f;var p=String(c("description detection"))==="Symbol(description detection)",g=n(A.valueOf),m=n(A.toString),w=/^Symbol\((.*)\)[^)]+$/,b=n("".replace),C=n("".slice);l(A,"description",{configurable:!0,get:function(){var x=g(this);if(i(d,x))return"";var _=m(x),B=p?C(_,7,-1):b(_,w,"$1");return B===""?void 0:B}}),t({global:!0,constructor:!0,forced:!0},{Symbol:f})}return mne}var yne={},wne;function CSt(){if(wne)return yne;wne=1;var t=Yn();return t("asyncIterator"),yne}var bne={},Sne;function _St(){if(Sne)return bne;Sne=1;var t=Yn();return t("hasInstance"),bne}var xne={},Cne;function ESt(){if(Cne)return xne;Cne=1;var t=Yn();return t("isConcatSpreadable"),xne}var _ne={},Ene;function ISt(){if(Ene)return _ne;Ene=1;var t=Yn();return t("iterator"),_ne}var Ine={},Bne;function BSt(){if(Bne)return Ine;Bne=1;var t=Yn();return t("match"),Ine}var Pne={},Tne;function PSt(){if(Tne)return Pne;Tne=1;var t=Yn();return t("matchAll"),Pne}var One={},Rne;function TSt(){if(Rne)return One;Rne=1;var t=Yn();return t("replace"),One}var Mne={},Fne;function OSt(){if(Fne)return Mne;Fne=1;var t=Yn();return t("search"),Mne}var kne={},Une;function RSt(){if(Une)return kne;Une=1;var t=Yn();return t("species"),kne}var Dne={},jne;function MSt(){if(jne)return Dne;jne=1;var t=Yn();return t("split"),Dne}var Lne={},Nne;function FSt(){if(Nne)return Lne;Nne=1;var t=Yn(),e=IMe();return t("toPrimitive"),e(),Lne}var $ne={},Qne;function kSt(){if(Qne)return $ne;Qne=1;var t=qt(),e=Yn(),r=Ko();return e("toStringTag"),r(t("Symbol"),"Symbol"),$ne}var Hne={},qne;function USt(){if(qne)return Hne;qne=1;var t=Yn();return t("unscopables"),Hne}var Kne={},nU,zne;function VE(){if(zne)return nU;zne=1;var t=ke(),e=Kt();return nU=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},nU}var iU,Wne;function OMe(){if(Wne)return iU;Wne=1;var t=Vt();return iU=function(e){return t(e)||e===null},iU}var aU,Gne;function RMe(){if(Gne)return aU;Gne=1;var t=OMe(),e=String,r=TypeError;return aU=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},aU}var oU,Vne;function Vl(){if(Vne)return oU;Vne=1;var t=VE(),e=Vt(),r=xn(),n=RMe();return oU=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,a={},o;try{o=t(Object.prototype,"__proto__","set"),o(a,[]),i=a instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),oU}var sU,Yne;function MMe(){if(Yne)return sU;Yne=1;var t=fn().f;return sU=function(e,r,n){n in e||t(e,n,{configurable:!0,get:function(){return r[n]},set:function(i){r[n]=i}})},sU}var lU,Xne;function fh(){if(Xne)return lU;Xne=1;var t=rr(),e=Vt(),r=Vl();return lU=function(n,i,a){var o,s;return r&&t(o=i.constructor)&&o!==a&&e(s=o.prototype)&&s!==a.prototype&&r(n,s),n},lU}var uU,Jne;function sm(){if(Jne)return uU;Jne=1;var t=Xt();return uU=function(e,r){return e===void 0?arguments.length<2?"":r:t(e)},uU}var cU,Zne;function FMe(){if(Zne)return cU;Zne=1;var t=Vt(),e=Ni();return cU=function(r,n){t(n)&&"cause"in n&&e(r,"cause",n.cause)},cU}var AU,eie;function rq(){if(eie)return AU;eie=1;var t=ke(),e=Error,r=t("".replace),n=function(o){return String(new e(o).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,a=i.test(n);return AU=function(o,s){if(a&&typeof o=="string"&&!e.prepareStackTrace)for(;s--;)o=r(o,i,"");return o},AU}var dU,tie;function kMe(){if(tie)return dU;tie=1;var t=Ve(),e=vs();return dU=!t(function(){var r=new Error("a");return"stack"in r?(Object.defineProperty(r,"stack",e(1,7)),r.stack!==7):!0}),dU}var fU,rie;function nq(){if(rie)return fU;rie=1;var t=Ni(),e=rq(),r=kMe(),n=Error.captureStackTrace;return fU=function(i,a,o,s){r&&(n?n(i,a):t(i,"stack",e(o,s)))},fU}var hU,nie;function UMe(){if(nie)return hU;nie=1;var t=qt(),e=or(),r=Ni(),n=Ya(),i=Vl(),a=em(),o=MMe(),s=fh(),l=sm(),u=FMe(),c=nq(),A=Ft(),d=cr();return hU=function(f,p,g,m){var w="stackTraceLimit",b=m?2:1,C=f.split("."),S=C[C.length-1],x=t.apply(null,C);if(x){var _=x.prototype;if(!d&&e(_,"cause")&&delete _.cause,!g)return x;var B=t("Error"),T=p(function(R,P){var M=l(m?P:R,void 0),U=m?new x(R):new x;return M!==void 0&&r(U,"message",M),c(U,T,U.stack,2),this&&n(_,this)&&s(U,this,T),arguments.length>b&&u(U,arguments[b]),U});if(T.prototype=_,S!=="Error"?i?i(T,B):a(T,B,{name:!0}):A&&w in x&&(o(T,x,w),o(T,x,"prepareStackTrace")),a(T,x),!d)try{_.name!==S&&r(_,"name",S),_.constructor=T}catch{}return T}},hU}var iie;function DSt(){if(iie)return Kne;iie=1;var t=G(),e=lt(),r=ho(),n=UMe(),i="WebAssembly",a=e[i],o=new Error("e",{cause:7}).cause!==7,s=function(u,c){var A={};A[u]=n(u,c,o),t({global:!0,constructor:!0,arity:1,forced:o},A)},l=function(u,c){if(a&&a[u]){var A={};A[u]=n(i+"."+u,c,o),t({target:i,stat:!0,constructor:!0,arity:1,forced:o},A)}};return s("Error",function(u){return function(A){return r(u,this,arguments)}}),s("EvalError",function(u){return function(A){return r(u,this,arguments)}}),s("RangeError",function(u){return function(A){return r(u,this,arguments)}}),s("ReferenceError",function(u){return function(A){return r(u,this,arguments)}}),s("SyntaxError",function(u){return function(A){return r(u,this,arguments)}}),s("TypeError",function(u){return function(A){return r(u,this,arguments)}}),s("URIError",function(u){return function(A){return r(u,this,arguments)}}),l("CompileError",function(u){return function(A){return r(u,this,arguments)}}),l("LinkError",function(u){return function(A){return r(u,this,arguments)}}),l("RuntimeError",function(u){return function(A){return r(u,this,arguments)}}),Kne}var aie={},pU,oie;function DMe(){if(oie)return pU;oie=1;var t=Ft(),e=Ve(),r=At(),n=sm(),i=Error.prototype.toString,a=e(function(){if(t){var o=Object.create(Object.defineProperty({},"name",{get:function(){return this===o}}));if(i.call(o)!=="true")return!0}return i.call({message:1,name:2})!=="2: 1"||i.call({})!=="Error"});return pU=a?function(){var s=r(this),l=n(s.name,"Error"),u=n(s.message);return l?u?l+": "+u:l:u}:i,pU}var sie;function jSt(){if(sie)return aie;sie=1;var t=Vr(),e=DMe(),r=Error.prototype;return r.toString!==e&&t(r,"toString",e),aie}var lie={},uie={},gU,cie;function iq(){if(cie)return gU;cie=1;var t=Ve();return gU=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),gU}var mU,Aie;function Qi(){if(Aie)return mU;Aie=1;var t=or(),e=rr(),r=Ar(),n=TE(),i=iq(),a=n("IE_PROTO"),o=Object,s=o.prototype;return mU=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,a))return u[a];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof o?s:null},mU}var vU,die;function lm(){return die||(die=1,vU={}),vU}var yU,fie;function aq(){if(fie)return yU;fie=1;var t=Lt(),e=lm(),r=t("iterator"),n=Array.prototype;return yU=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},yU}var wU,hie;function sA(){if(hie)return wU;hie=1;var t=Ho(),e=yi(),r=ji(),n=lm(),i=Lt(),a=i("iterator");return wU=function(o){if(!r(o))return e(o,a)||e(o,"@@iterator")||n[t(o)]},wU}var bU,pie;function hh(){if(pie)return bU;pie=1;var t=ft(),e=Kt(),r=At(),n=lh(),i=sA(),a=TypeError;return bU=function(o,s){var l=arguments.length<2?i(o):s;if(e(l))return r(t(l,o));throw new a(n(o)+" is not iterable")},bU}var SU,gie;function Fd(){if(gie)return SU;gie=1;var t=ft(),e=At(),r=yi();return SU=function(n,i,a){var o,s;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw a;return a}o=t(o,n)}catch(l){s=!0,o=l}if(i==="throw")throw a;if(s)throw o;return e(o),a},SU}var xU,mie;function Xn(){if(mie)return xU;mie=1;var t=sn(),e=ft(),r=At(),n=lh(),i=aq(),a=br(),o=Ya(),s=hh(),l=sA(),u=Fd(),c=TypeError,A=function(f,p){this.stopped=f,this.result=p},d=A.prototype;return xU=function(f,p,g){var m=g&&g.that,w=!!(g&&g.AS_ENTRIES),b=!!(g&&g.IS_RECORD),C=!!(g&&g.IS_ITERATOR),S=!!(g&&g.INTERRUPTED),x=t(p,m),_,B,T,R,P,M,U,F=function(L){return _&&u(_,"normal",L),new A(!0,L)},j=function(L){return w?(r(L),S?x(L[0],L[1],F):x(L[0],L[1])):S?x(L,F):x(L)};if(b)_=f.iterator;else if(C)_=f;else{if(B=l(f),!B)throw new c(n(f)+" is not iterable");if(i(B)){for(T=0,R=a(f);R>T;T++)if(P=j(f[T]),P&&o(d,P))return P;return new A(!1)}_=s(f,B)}for(M=b?f.next:_.next;!(U=e(M,_)).done;){try{P=j(U.value)}catch(L){u(_,"throw",L)}if(typeof P=="object"&&P&&o(d,P))return P}return new A(!1)},xU}var vie;function LSt(){if(vie)return uie;vie=1;var t=G(),e=Ya(),r=Qi(),n=Vl(),i=em(),a=wi(),o=Ni(),s=vs(),l=FMe(),u=nq(),c=Xn(),A=sm(),d=Lt(),f=d("toStringTag"),p=Error,g=[].push,m=function(C,S){var x=e(w,this),_;n?_=n(new p,x?r(this):w):(_=x?this:a(w),o(_,f,"Error")),S!==void 0&&o(_,"message",A(S)),u(_,m,_.stack,1),arguments.length>2&&l(_,arguments[2]);var B=[];return c(C,g,{that:B}),o(_,"errors",B),_};n?n(m,p):i(m,p,{name:!0});var w=m.prototype=a(p.prototype,{constructor:s(1,m),message:s(1,""),name:s(1,"AggregateError")});return t({global:!0,constructor:!0,arity:2},{AggregateError:m}),uie}var yie;function jMe(){return yie||(yie=1,LSt()),lie}var wie={},bie;function NSt(){if(bie)return wie;bie=1;var t=G(),e=qt(),r=ho(),n=Ve(),i=UMe(),a="AggregateError",o=e(a),s=!n(function(){return o([1]).errors[0]!==1})&&n(function(){return o([1],a,{cause:7}).cause!==7});return t({global:!0,constructor:!0,arity:2,forced:s},{AggregateError:i(a,function(l){return function(c,A){return r(l,this,arguments)}},s,!0)}),wie}var Sie={},CU,xie;function Yl(){if(xie)return CU;xie=1;var t=Ft(),e=fn(),r=vs();return CU=function(n,i,a){t?e.f(n,i,r(0,a)):n[i]=a},CU}var _U,Cie;function xb(){if(Cie)return _U;Cie=1;var t=Ve(),e=Lt(),r=Ju(),n=e("species");return _U=function(i){return r>=51||!t(function(){var a=[],o=a.constructor={};return o[n]=function(){return{foo:1}},a[i](Boolean).foo!==1})},_U}var _ie;function $St(){if(_ie)return Sie;_ie=1;var t=G(),e=Ve(),r=ec(),n=Vt(),i=Ar(),a=br(),o=Ah(),s=Yl(),l=pb(),u=xb(),c=Lt(),A=Ju(),d=c("isConcatSpreadable"),f=A>=51||!e(function(){var m=[];return m[d]=!1,m.concat()[0]!==m}),p=function(m){if(!n(m))return!1;var w=m[d];return w!==void 0?!!w:r(m)},g=!f||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:g},{concat:function(w){var b=i(this),C=l(b,0),S=0,x,_,B,T,R;for(x=-1,B=arguments.length;x<B;x++)if(R=x===-1?b:arguments[x],p(R))for(T=a(R),o(S+T),_=0;_<T;_++,S++)_ in R&&s(C,S,R[_]);else o(S+1),s(C,S++,R);return C.length=S,C}}),Sie}var Eie={},EU,Iie;function YE(){if(Iie)return EU;Iie=1;var t=lh(),e=TypeError;return EU=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},EU}var IU,Bie;function LMe(){if(Bie)return IU;Bie=1;var t=Ar(),e=Zu(),r=br(),n=YE(),i=Math.min;return IU=[].copyWithin||function(o,s){var l=t(this),u=r(l),c=e(o,u),A=e(s,u),d=arguments.length>2?arguments[2]:void 0,f=i((d===void 0?u:e(d,u))-A,u-c),p=1;for(A<c&&c<A+f&&(p=-1,A+=f-1,c+=f-1);f-- >0;)A in l?l[c]=l[A]:n(l,c),c+=p,A+=p;return l},IU}var Pie;function QSt(){if(Pie)return Eie;Pie=1;var t=G(),e=LMe(),r=Vn();return t({target:"Array",proto:!0},{copyWithin:e}),r("copyWithin"),Eie}var Tie={},BU,Oie;function Xl(){if(Oie)return BU;Oie=1;var t=Ve();return BU=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},BU}var Rie;function HSt(){if(Rie)return Tie;Rie=1;var t=G(),e=bi().every,r=Xl(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),Tie}var Mie={},PU,Fie;function oq(){if(Fie)return PU;Fie=1;var t=Ar(),e=Zu(),r=br();return PU=function(i){for(var a=t(this),o=r(a),s=arguments.length,l=e(s>1?arguments[1]:void 0,o),u=s>2?arguments[2]:void 0,c=u===void 0?o:e(u,o);c>l;)a[l++]=i;return a},PU}var kie;function qSt(){if(kie)return Mie;kie=1;var t=G(),e=oq(),r=Vn();return t({target:"Array",proto:!0},{fill:e}),r("fill"),Mie}var Uie={},Die;function KSt(){if(Die)return Uie;Die=1;var t=G(),e=bi().filter,r=xb(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),Uie}var jie={},Lie;function zSt(){if(Lie)return jie;Lie=1;var t=G(),e=bi().find,r=Vn(),n="find",i=!0;return n in[]&&Array(1)[n](function(){i=!1}),t({target:"Array",proto:!0,forced:i},{find:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r(n),jie}var Nie={},$ie;function WSt(){if($ie)return Nie;$ie=1;var t=G(),e=bi().findIndex,r=Vn(),n="findIndex",i=!0;return n in[]&&Array(1)[n](function(){i=!1}),t({target:"Array",proto:!0,forced:i},{findIndex:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r(n),Nie}var Qie={},TU,Hie;function XE(){if(Hie)return TU;Hie=1;var t=sn(),e=Bd(),r=Ar(),n=br(),i=function(a){var o=a===1;return function(s,l,u){for(var c=r(s),A=e(c),d=n(A),f=t(l,u),p,g;d-- >0;)if(p=A[d],g=f(p,d,c),g)switch(a){case 0:return p;case 1:return d}return o?-1:void 0}};return TU={findLast:i(0),findLastIndex:i(1)},TU}var qie;function NMe(){if(qie)return Qie;qie=1;var t=G(),e=XE().findLast,r=Vn();return t({target:"Array",proto:!0},{findLast:function(i){return e(this,i,arguments.length>1?arguments[1]:void 0)}}),r("findLast"),Qie}var Kie={},zie;function $Me(){if(zie)return Kie;zie=1;var t=G(),e=XE().findLastIndex,r=Vn();return t({target:"Array",proto:!0},{findLastIndex:function(i){return e(this,i,arguments.length>1?arguments[1]:void 0)}}),r("findLastIndex"),Kie}var Wie={},OU,Gie;function QMe(){if(Gie)return OU;Gie=1;var t=bi().forEach,e=Xl(),r=e("forEach");return OU=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},OU}var Vie;function GSt(){if(Vie)return Wie;Vie=1;var t=G(),e=QMe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),Wie}var Yie={},RU,Xie;function sq(){if(Xie)return RU;Xie=1;var t=At(),e=Fd();return RU=function(r,n,i,a){try{return a?n(t(i)[0],i[1]):n(i)}catch(o){e(r,"throw",o)}},RU}var MU,Jie;function HMe(){if(Jie)return MU;Jie=1;var t=sn(),e=ft(),r=Ar(),n=sq(),i=aq(),a=tc(),o=br(),s=Yl(),l=hh(),u=sA(),c=Array;return MU=function(d){var f=r(d),p=a(this),g=arguments.length,m=g>1?arguments[1]:void 0,w=m!==void 0;w&&(m=t(m,g>2?arguments[2]:void 0));var b=u(f),C=0,S,x,_,B,T,R;if(b&&!(this===c&&i(b)))for(x=p?new this:[],B=l(f,b),T=B.next;!(_=e(T,B)).done;C++)R=w?n(B,m,[_.value,C],!0):_.value,s(x,C,R);else for(S=o(f),x=p?new this(S):c(S);S>C;C++)R=w?m(f[C],C):f[C],s(x,C,R);return x.length=C,x},MU}var FU,Zie;function JE(){if(Zie)return FU;Zie=1;var t=Lt(),e=t("iterator"),r=!1;try{var n=0,i={next:function(){return{done:!!n++}},return:function(){r=!0}};i[e]=function(){return this},Array.from(i,function(){throw 2})}catch{}return FU=function(a,o){try{if(!o&&!r)return!1}catch{return!1}var s=!1;try{var l={};l[e]=function(){return{next:function(){return{done:s=!0}}}},a(l)}catch{}return s},FU}var eae;function VSt(){if(eae)return Yie;eae=1;var t=G(),e=HMe(),r=JE(),n=!r(function(i){Array.from(i)});return t({target:"Array",stat:!0,forced:n},{from:e}),Yie}var tae={},rae;function YSt(){if(rae)return tae;rae=1;var t=G(),e=db().includes,r=Ve(),n=Vn(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),n("includes"),tae}var nae={},iae;function XSt(){if(iae)return nae;iae=1;var t=G(),e=dh(),r=db().indexOf,n=Xl(),i=e([].indexOf),a=!!i&&1/i([1],1,-0)<0,o=a||!n("indexOf");return t({target:"Array",proto:!0,forced:o},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return a?i(this,l,u)||0:r(this,l,u)}}),nae}var aae={},oae;function JSt(){if(oae)return aae;oae=1;var t=G(),e=ec();return t({target:"Array",stat:!0},{isArray:e}),aae}var kU,sae;function um(){if(sae)return kU;sae=1;var t=Ve(),e=rr(),r=Vt(),n=wi(),i=Qi(),a=Vr(),o=Lt(),s=cr(),l=o("iterator"),u=!1,c,A,d;[].keys&&(d=[].keys(),"next"in d?(A=i(i(d)),A!==Object.prototype&&(c=A)):u=!0);var f=!r(c)||t(function(){var p={};return c[l].call(p)!==p});return f?c={}:s&&(c=n(c)),e(c[l])||a(c,l,function(){return this}),kU={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},kU}var UU,lae;function ph(){if(lae)return UU;lae=1;var t=um().IteratorPrototype,e=wi(),r=vs(),n=Ko(),i=lm(),a=function(){return this};return UU=function(o,s,l,u){var c=s+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,c,!1,!0),i[c]=a,o},UU}var DU,uae;function lq(){if(uae)return DU;uae=1;var t=G(),e=ft(),r=cr(),n=Zg(),i=rr(),a=ph(),o=Qi(),s=Vl(),l=Ko(),u=Ni(),c=Vr(),A=Lt(),d=lm(),f=um(),p=n.PROPER,g=n.CONFIGURABLE,m=f.IteratorPrototype,w=f.BUGGY_SAFARI_ITERATORS,b=A("iterator"),C="keys",S="values",x="entries",_=function(){return this};return DU=function(B,T,R,P,M,U,F){a(R,T,P);var j=function(ee){if(ee===M&&q)return q;if(!w&&ee&&ee in Q)return Q[ee];switch(ee){case C:return function(){return new R(this,ee)};case S:return function(){return new R(this,ee)};case x:return function(){return new R(this,ee)}}return function(){return new R(this)}},L=T+" Iterator",$=!1,Q=B.prototype,H=Q[b]||Q["@@iterator"]||M&&Q[M],q=!w&&H||j(M),Y=T==="Array"&&Q.entries||H,z,V,X;if(Y&&(z=o(Y.call(new B)),z!==Object.prototype&&z.next&&(!r&&o(z)!==m&&(s?s(z,m):i(z[b])||c(z,b,_)),l(z,L,!0,!0),r&&(d[L]=_))),p&&M===S&&H&&H.name!==S&&(!r&&g?u(Q,"name",S):($=!0,q=function(){return e(H,this)})),M)if(V={values:j(S),keys:U?q:j(C),entries:j(x)},F)for(X in V)(w||$||!(X in Q))&&c(Q,X,V[X]);else t({target:T,proto:!0,forced:w||$},V);return(!r||F)&&Q[b]!==q&&c(Q,b,q,{name:M}),d[T]=q,V},DU}var jU,cae;function ta(){return cae||(cae=1,jU=function(t,e){return{value:t,done:e}}),jU}var LU,Aae;function ZE(){if(Aae)return LU;Aae=1;var t=Li(),e=Vn(),r=lm(),n=Qr(),i=fn().f,a=lq(),o=ta(),s=cr(),l=Ft(),u="Array Iterator",c=n.set,A=n.getterFor(u);LU=a(Array,"Array",function(f,p){c(this,{type:u,target:t(f),index:0,kind:p})},function(){var f=A(this),p=f.target,g=f.index++;if(!p||g>=p.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(p[g],!1)}return o([g,p[g]],!1)},"values");var d=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!s&&l&&d.name!=="values")try{i(d,"name",{value:"values"})}catch{}return LU}var dae={},fae;function ZSt(){if(fae)return dae;fae=1;var t=G(),e=ke(),r=Bd(),n=Li(),i=Xl(),a=e([].join),o=r!==Object,s=o||!i("join",",");return t({target:"Array",proto:!0,forced:s},{join:function(u){return a(n(this),u===void 0?",":u)}}),dae}var hae={},NU,pae;function qMe(){if(pae)return NU;pae=1;var t=ho(),e=Li(),r=Mn(),n=br(),i=Xl(),a=Math.min,o=[].lastIndexOf,s=!!o&&1/[1].lastIndexOf(1,-0)<0,l=i("lastIndexOf"),u=s||!l;return NU=u?function(A){if(s)return t(o,this,arguments)||0;var d=e(this),f=n(d);if(f===0)return-1;var p=f-1;for(arguments.length>1&&(p=a(p,r(arguments[1]))),p<0&&(p=f+p);p>=0;p--)if(p in d&&d[p]===A)return p||0;return-1}:o,NU}var gae;function e0t(){if(gae)return hae;gae=1;var t=G(),e=qMe();return t({target:"Array",proto:!0,forced:e!==[].lastIndexOf},{lastIndexOf:e}),hae}var mae={},vae;function t0t(){if(vae)return mae;vae=1;var t=G(),e=bi().map,r=xb(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),mae}var yae={},wae;function r0t(){if(wae)return yae;wae=1;var t=G(),e=Ve(),r=tc(),n=Yl(),i=Array,a=e(function(){function o(){}return!(i.of.call(o)instanceof o)});return t({target:"Array",stat:!0,forced:a},{of:function(){for(var s=0,l=arguments.length,u=new(r(this)?this:i)(l);l>s;)n(u,s,arguments[s++]);return u.length=l,u}}),yae}var bae={},$U,Sae;function uq(){if(Sae)return $U;Sae=1;var t=Ft(),e=ec(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}();return $U=i?function(a,o){if(e(a)&&!n(a,"length").writable)throw new r("Cannot set read only .length");return a.length=o}:function(a,o){return a.length=o},$U}var xae;function n0t(){if(xae)return bae;xae=1;var t=G(),e=Ar(),r=br(),n=uq(),i=Ah(),a=Ve(),o=a(function(){return[].push.call({length:4294967296},1)!==4294967297}),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(u){return u instanceof TypeError}},l=o||!s();return t({target:"Array",proto:!0,arity:1,forced:l},{push:function(c){var A=e(this),d=r(A),f=arguments.length;i(d+f);for(var p=0;p<f;p++)A[d]=arguments[p],d++;return n(A,d),d}}),bae}var Cae={},QU,_ae;function eI(){if(_ae)return QU;_ae=1;var t=Kt(),e=Ar(),r=Bd(),n=br(),i=TypeError,a="Reduce of empty array with no initial value",o=function(s){return function(l,u,c,A){var d=e(l),f=r(d),p=n(d);if(t(u),p===0&&c<2)throw new i(a);var g=s?p-1:0,m=s?-1:1;if(c<2)for(;;){if(g in f){A=f[g],g+=m;break}if(g+=m,s?g<0:p<=g)throw new i(a)}for(;s?g>=0:p>g;g+=m)g in f&&(A=u(A,f[g],g,d));return A}};return QU={left:o(!1),right:o(!0)},QU}var HU,Eae;function tI(){if(Eae)return HU;Eae=1;var t=lt(),e=Xu(),r=Va(),n=function(i){return e.slice(0,i.length)===i};return HU=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),HU}var qU,Iae;function cm(){if(Iae)return qU;Iae=1;var t=tI();return qU=t==="NODE",qU}var Bae;function i0t(){if(Bae)return Cae;Bae=1;var t=G(),e=eI().left,r=Xl(),n=Ju(),i=cm(),a=!i&&n>79&&n<83,o=a||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),Cae}var Pae={},Tae;function a0t(){if(Tae)return Pae;Tae=1;var t=G(),e=eI().right,r=Xl(),n=Ju(),i=cm(),a=!i&&n>79&&n<83,o=a||!r("reduceRight");return t({target:"Array",proto:!0,forced:o},{reduceRight:function(l){return e(this,l,arguments.length,arguments.length>1?arguments[1]:void 0)}}),Pae}var Oae={},Rae;function o0t(){if(Rae)return Oae;Rae=1;var t=G(),e=ke(),r=ec(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),Oae}var Mae={},Fae;function s0t(){if(Fae)return Mae;Fae=1;var t=G(),e=ec(),r=tc(),n=Vt(),i=Zu(),a=br(),o=Li(),s=Yl(),l=Lt(),u=xb(),c=bs(),A=u("slice"),d=l("species"),f=Array,p=Math.max;return t({target:"Array",proto:!0,forced:!A},{slice:function(m,w){var b=o(this),C=a(b),S=i(m,C),x=i(w===void 0?C:w,C),_,B,T;if(e(b)&&(_=b.constructor,r(_)&&(_===f||e(_.prototype))?_=void 0:n(_)&&(_=_[d],_===null&&(_=void 0)),_===f||_===void 0))return c(b,S,x);for(B=new(_===void 0?f:_)(p(x-S,0)),T=0;S<x;S++,T++)S in b&&s(B,T,b[S]);return B.length=T,B}}),Mae}var kae={},Uae;function l0t(){if(Uae)return kae;Uae=1;var t=G(),e=bi().some,r=Xl(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),kae}var Dae={},KU,jae;function cq(){if(jae)return KU;jae=1;var t=bs(),e=Math.floor,r=function(n,i){var a=n.length;if(a<8)for(var o=1,s,l;o<a;){for(l=o,s=n[o];l&&i(n[l-1],s)>0;)n[l]=n[--l];l!==o++&&(n[l]=s)}else for(var u=e(a/2),c=r(t(n,0,u),i),A=r(t(n,u),i),d=c.length,f=A.length,p=0,g=0;p<d||g<f;)n[p+g]=p<d&&g<f?i(c[p],A[g])<=0?c[p++]:A[g++]:p<d?c[p++]:A[g++];return n};return KU=r,KU}var zU,Lae;function KMe(){if(Lae)return zU;Lae=1;var t=Xu(),e=t.match(/firefox\/(\d+)/i);return zU=!!e&&+e[1],zU}var WU,Nae;function zMe(){if(Nae)return WU;Nae=1;var t=Xu();return WU=/MSIE|Trident/.test(t),WU}var GU,$ae;function Aq(){if($ae)return GU;$ae=1;var t=Xu(),e=t.match(/AppleWebKit\/(\d+)\./);return GU=!!e&&+e[1],GU}var Qae;function u0t(){if(Qae)return Dae;Qae=1;var t=G(),e=ke(),r=Kt(),n=Ar(),i=br(),a=YE(),o=Xt(),s=Ve(),l=cq(),u=Xl(),c=KMe(),A=zMe(),d=Ju(),f=Aq(),p=[],g=e(p.sort),m=e(p.push),w=s(function(){p.sort(void 0)}),b=s(function(){p.sort(null)}),C=u("sort"),S=!s(function(){if(d)return d<70;if(!(c&&c>3)){if(A)return!0;if(f)return f<603;var B="",T,R,P,M;for(T=65;T<76;T++){switch(R=String.fromCharCode(T),T){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(M=0;M<47;M++)p.push({k:R+M,v:P})}for(p.sort(function(U,F){return F.v-U.v}),M=0;M<p.length;M++)R=p[M].k.charAt(0),B.charAt(B.length-1)!==R&&(B+=R);return B!=="DGBEFHACIJK"}}),x=w||!b||!C||!S,_=function(B){return function(T,R){return R===void 0?-1:T===void 0?1:B!==void 0?+B(T,R)||0:o(T)>o(R)?1:-1}};return t({target:"Array",proto:!0,forced:x},{sort:function(T){T!==void 0&&r(T);var R=n(this);if(S)return T===void 0?g(R):g(R,T);var P=[],M=i(R),U,F;for(F=0;F<M;F++)F in R&&m(P,R[F]);for(l(P,_(T)),U=i(P),F=0;F<U;)R[F]=P[F++];for(;F<M;)a(R,F++);return R}}),Dae}var Hae={},VU,qae;function gh(){if(qae)return VU;qae=1;var t=qt(),e=Fn(),r=Lt(),n=Ft(),i=r("species");return VU=function(a){var o=t(a);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},VU}var Kae;function c0t(){if(Kae)return Hae;Kae=1;var t=gh();return t("Array"),Hae}var zae={},Wae;function A0t(){if(Wae)return zae;Wae=1;var t=G(),e=Ar(),r=Zu(),n=Mn(),i=br(),a=uq(),o=Ah(),s=pb(),l=Yl(),u=YE(),c=xb(),A=c("splice"),d=Math.max,f=Math.min;return t({target:"Array",proto:!0,forced:!A},{splice:function(g,m){var w=e(this),b=i(w),C=r(g,b),S=arguments.length,x,_,B,T,R,P;for(S===0?x=_=0:S===1?(x=0,_=b-C):(x=S-2,_=f(d(n(m),0),b-C)),o(b+x-_),B=s(w,_),T=0;T<_;T++)R=C+T,R in w&&l(B,T,w[R]);if(B.length=_,x<_){for(T=C;T<b-_;T++)R=T+_,P=T+x,R in w?w[P]=w[R]:u(w,P);for(T=b;T>b-_+x;T--)u(w,T-1)}else if(x>_)for(T=b-_;T>C;T--)R=T+_-1,P=T+x-1,R in w?w[P]=w[R]:u(w,P);for(T=0;T<x;T++)w[T+C]=arguments[T+2];return a(w,b-_+x),B}}),zae}var Gae={},YU,Vae;function WMe(){if(Vae)return YU;Vae=1;var t=br();return YU=function(e,r){for(var n=t(e),i=new r(n),a=0;a<n;a++)i[a]=e[n-a-1];return i},YU}var Yae;function GMe(){if(Yae)return Gae;Yae=1;var t=G(),e=WMe(),r=Li(),n=Vn(),i=Array;return t({target:"Array",proto:!0},{toReversed:function(){return e(r(this),i)}}),n("toReversed"),Gae}var Xae={},XU,Jae;function kd(){if(Jae)return XU;Jae=1;var t=br();return XU=function(e,r,n){for(var i=0,a=arguments.length>2?n:t(r),o=new e(a);a>i;)o[i]=r[i++];return o},XU}var JU,Zae;function VMe(){if(Zae)return JU;Zae=1;var t=lt();return JU=function(e,r){var n=t[e],i=n&&n.prototype;return i&&i[r]},JU}var eoe;function YMe(){if(eoe)return Xae;eoe=1;var t=G(),e=ke(),r=Kt(),n=Li(),i=kd(),a=VMe(),o=Vn(),s=Array,l=e(a("Array","sort"));return t({target:"Array",proto:!0},{toSorted:function(c){c!==void 0&&r(c);var A=n(this),d=i(s,A);return l(d,c)}}),o("toSorted"),Xae}var toe={},roe;function XMe(){if(roe)return toe;roe=1;var t=G(),e=Vn(),r=Ah(),n=br(),i=Zu(),a=Li(),o=Mn(),s=Array,l=Math.max,u=Math.min;return t({target:"Array",proto:!0},{toSpliced:function(A,d){var f=a(this),p=n(f),g=i(A,p),m=arguments.length,w=0,b,C,S,x;for(m===0?b=C=0:m===1?(b=0,C=p-g):(b=m-2,C=u(l(o(d),0),p-g)),S=r(p+b-C),x=s(S);w<g;w++)x[w]=f[w];for(;w<g+b;w++)x[w]=arguments[w-g+2];for(;w<S;w++)x[w]=f[w+C-b];return x}}),e("toSpliced"),toe}var noe={},ioe;function d0t(){if(ioe)return noe;ioe=1;var t=G(),e=Ar(),r=br(),n=uq(),i=YE(),a=Ah(),o=[].unshift(0)!==1,s=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(u){return u instanceof TypeError}},l=o||!s();return t({target:"Array",proto:!0,arity:1,forced:l},{unshift:function(c){var A=e(this),d=r(A),f=arguments.length;if(f){a(d+f);for(var p=d;p--;){var g=p+f;p in A?A[g]=A[p]:i(A,g)}for(var m=0;m<f;m++)A[m]=arguments[m]}return n(A,d+f)}}),noe}var aoe={},ZU,ooe;function JMe(){if(ooe)return ZU;ooe=1;var t=br(),e=Mn(),r=RangeError;return ZU=function(n,i,a,o){var s=t(n),l=e(a),u=l<0?s+l:l;if(u>=s||u<0)throw new r("Incorrect index");for(var c=new i(s),A=0;A<s;A++)c[A]=A===u?o:n[A];return c},ZU}var soe;function ZMe(){if(soe)return aoe;soe=1;var t=G(),e=JMe(),r=Li(),n=Array;return t({target:"Array",proto:!0},{with:function(i,a){return e(r(this),n,i,a)}}),aoe}var loe={},eD,uoe;function rI(){return uoe||(uoe=1,eD=typeof ArrayBuffer<"u"&&typeof DataView<"u"),eD}var tD,coe;function Jl(){if(coe)return tD;coe=1;var t=Vr();return tD=function(e,r,n){for(var i in r)t(e,i,r[i],n);return e},tD}var rD,Aoe;function go(){if(Aoe)return rD;Aoe=1;var t=Ya(),e=TypeError;return rD=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},rD}var nD,doe;function Cb(){if(doe)return nD;doe=1;var t=Mn(),e=ys(),r=RangeError;return nD=function(n){if(n===void 0)return 0;var i=t(n),a=e(i);if(i!==a)throw new r("Wrong length or index");return a},nD}var iD,foe;function dq(){return foe||(foe=1,iD=Math.sign||function(e){var r=+e;return r===0||r!==r?r:r<0?-1:1}),iD}var aD,hoe;function eFe(){if(hoe)return aD;hoe=1;var t=2220446049250313e-31,e=1/t;return aD=function(r){return r+e-e},aD}var oD,poe;function tFe(){if(poe)return oD;poe=1;var t=dq(),e=eFe(),r=Math.abs,n=2220446049250313e-31;return oD=function(i,a,o,s){var l=+i,u=r(l),c=t(l);if(u<s)return c*e(u/s/a)*s*a;var A=(1+a/n)*u,d=A-(A-u);return d>o||d!==d?c*(1/0):c*d},oD}var sD,goe;function fq(){if(goe)return sD;goe=1;var t=tFe(),e=11920928955078125e-23,r=34028234663852886e22,n=11754943508222875e-54;return sD=Math.fround||function(a){return t(a,e,r,n)},sD}var lD,moe;function f0t(){if(moe)return lD;moe=1;var t=Array,e=Math.abs,r=Math.pow,n=Math.floor,i=Math.log,a=Math.LN2,o=function(l,u,c){var A=t(c),d=c*8-u-1,f=(1<<d)-1,p=f>>1,g=u===23?r(2,-24)-r(2,-77):0,m=l<0||l===0&&1/l<0?1:0,w=0,b,C,S;for(l=e(l),l!==l||l===1/0?(C=l!==l?1:0,b=f):(b=n(i(l)/a),S=r(2,-b),l*S<1&&(b--,S*=2),b+p>=1?l+=g/S:l+=g*r(2,1-p),l*S>=2&&(b++,S/=2),b+p>=f?(C=0,b=f):b+p>=1?(C=(l*S-1)*r(2,u),b+=p):(C=l*r(2,p-1)*r(2,u),b=0));u>=8;)A[w++]=C&255,C/=256,u-=8;for(b=b<<u|C,d+=u;d>0;)A[w++]=b&255,b/=256,d-=8;return A[w-1]|=m*128,A},s=function(l,u){var c=l.length,A=c*8-u-1,d=(1<<A)-1,f=d>>1,p=A-7,g=c-1,m=l[g--],w=m&127,b;for(m>>=7;p>0;)w=w*256+l[g--],p-=8;for(b=w&(1<<-p)-1,w>>=-p,p+=u;p>0;)b=b*256+l[g--],p-=8;if(w===0)w=1-f;else{if(w===d)return b?NaN:m?-1/0:1/0;b+=r(2,u),w-=f}return(m?-1:1)*b*r(2,w-u)};return lD={pack:o,unpack:s},lD}var uD,voe;function nI(){if(voe)return uD;voe=1;var t=lt(),e=ke(),r=Ft(),n=rI(),i=Zg(),a=Ni(),o=Fn(),s=Jl(),l=Ve(),u=go(),c=Mn(),A=ys(),d=Cb(),f=fq(),p=f0t(),g=Qi(),m=Vl(),w=oq(),b=bs(),C=fh(),S=em(),x=Ko(),_=Qr(),B=i.PROPER,T=i.CONFIGURABLE,R="ArrayBuffer",P="DataView",M="prototype",U="Wrong length",F="Wrong index",j=_.getterFor(R),L=_.getterFor(P),$=_.set,Q=t[R],H=Q,q=H&&H[M],Y=t[P],z=Y&&Y[M],V=Object.prototype,X=t.Array,ee=t.RangeError,J=e(w),le=e([].reverse),de=p.pack,oe=p.unpack,re=function(Ie){return[Ie&255]},se=function(Ie){return[Ie&255,Ie>>8&255]},he=function(Ie){return[Ie&255,Ie>>8&255,Ie>>16&255,Ie>>24&255]},ae=function(Ie){return Ie[3]<<24|Ie[2]<<16|Ie[1]<<8|Ie[0]},Ee=function(Ie){return de(f(Ie),23,4)},Oe=function(Ie){return de(Ie,52,8)},Ne=function(Ie,be,Be){o(Ie[M],be,{configurable:!0,get:function(){return Be(this)[be]}})},De=function(Ie,be,Be,tt){var ct=L(Ie),ot=d(Be),$e=!!tt;if(ot+be>ct.byteLength)throw new ee(F);var kt=ct.bytes,Nt=ot+ct.byteOffset,Z=b(kt,Nt,Nt+be);return $e?Z:le(Z)},Le=function(Ie,be,Be,tt,ct,ot){var $e=L(Ie),kt=d(Be),Nt=tt(+ct),Z=!!ot;if(kt+be>$e.byteLength)throw new ee(F);for(var ie=$e.bytes,me=kt+$e.byteOffset,Te=0;Te<be;Te++)ie[me+Te]=Nt[Z?Te:be-Te-1]};if(!n)H=function(be){u(this,q);var Be=d(be);$(this,{type:R,bytes:J(X(Be),0),byteLength:Be}),r||(this.byteLength=Be,this.detached=!1)},q=H[M],Y=function(be,Be,tt){u(this,z),u(be,q);var ct=j(be),ot=ct.byteLength,$e=c(Be);if($e<0||$e>ot)throw new ee("Wrong offset");if(tt=tt===void 0?ot-$e:A(tt),$e+tt>ot)throw new ee(U);$(this,{type:P,buffer:be,byteLength:tt,byteOffset:$e,bytes:ct.bytes}),r||(this.buffer=be,this.byteLength=tt,this.byteOffset=$e)},z=Y[M],r&&(Ne(H,"byteLength",j),Ne(Y,"buffer",L),Ne(Y,"byteLength",L),Ne(Y,"byteOffset",L)),s(z,{getInt8:function(be){return De(this,1,be)[0]<<24>>24},getUint8:function(be){return De(this,1,be)[0]},getInt16:function(be){var Be=De(this,2,be,arguments.length>1?arguments[1]:!1);return(Be[1]<<8|Be[0])<<16>>16},getUint16:function(be){var Be=De(this,2,be,arguments.length>1?arguments[1]:!1);return Be[1]<<8|Be[0]},getInt32:function(be){return ae(De(this,4,be,arguments.length>1?arguments[1]:!1))},getUint32:function(be){return ae(De(this,4,be,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(be){return oe(De(this,4,be,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(be){return oe(De(this,8,be,arguments.length>1?arguments[1]:!1),52)},setInt8:function(be,Be){Le(this,1,be,re,Be)},setUint8:function(be,Be){Le(this,1,be,re,Be)},setInt16:function(be,Be){Le(this,2,be,se,Be,arguments.length>2?arguments[2]:!1)},setUint16:function(be,Be){Le(this,2,be,se,Be,arguments.length>2?arguments[2]:!1)},setInt32:function(be,Be){Le(this,4,be,he,Be,arguments.length>2?arguments[2]:!1)},setUint32:function(be,Be){Le(this,4,be,he,Be,arguments.length>2?arguments[2]:!1)},setFloat32:function(be,Be){Le(this,4,be,Ee,Be,arguments.length>2?arguments[2]:!1)},setFloat64:function(be,Be){Le(this,8,be,Oe,Be,arguments.length>2?arguments[2]:!1)}});else{var st=B&&Q.name!==R;!l(function(){Q(1)})||!l(function(){new Q(-1)})||l(function(){return new Q,new Q(1.5),new Q(NaN),Q.length!==1||st&&!T})?(H=function(be){return u(this,q),C(new Q(d(be)),this,H)},H[M]=q,q.constructor=H,S(H,Q)):st&&T&&a(Q,"name",R),m&&g(z)!==V&&m(z,V);var ut=new Y(new H(2)),it=e(z.setInt8);ut.setInt8(0,2147483648),ut.setInt8(1,2147483649),(ut.getInt8(0)||!ut.getInt8(1))&&s(z,{setInt8:function(be,Be){it(this,be,Be<<24>>24)},setUint8:function(be,Be){it(this,be,Be<<24>>24)}},{unsafe:!0})}return x(H,R),x(Y,P),uD={ArrayBuffer:H,DataView:Y},uD}var yoe;function h0t(){if(yoe)return loe;yoe=1;var t=G(),e=lt(),r=nI(),n=gh(),i="ArrayBuffer",a=r[i],o=e[i];return t({global:!0,constructor:!0,forced:o!==a},{ArrayBuffer:a}),n(i),loe}var woe={},cD,boe;function lr(){if(boe)return cD;boe=1;var t=rI(),e=Ft(),r=lt(),n=rr(),i=Vt(),a=or(),o=Ho(),s=lh(),l=Ni(),u=Vr(),c=Fn(),A=Ya(),d=Qi(),f=Vl(),p=Lt(),g=uh(),m=Qr(),w=m.enforce,b=m.get,C=r.Int8Array,S=C&&C.prototype,x=r.Uint8ClampedArray,_=x&&x.prototype,B=C&&d(C),T=S&&d(S),R=Object.prototype,P=r.TypeError,M=p("toStringTag"),U=g("TYPED_ARRAY_TAG"),F="TypedArrayConstructor",j=t&&!!f&&o(r.opera)!=="Opera",L=!1,$,Q,H,q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Y={BigInt64Array:8,BigUint64Array:8},z=function(re){if(!i(re))return!1;var se=o(re);return se==="DataView"||a(q,se)||a(Y,se)},V=function(oe){var re=d(oe);if(i(re)){var se=b(re);return se&&a(se,F)?se[F]:V(re)}},X=function(oe){if(!i(oe))return!1;var re=o(oe);return a(q,re)||a(Y,re)},ee=function(oe){if(X(oe))return oe;throw new P("Target is not a typed array")},J=function(oe){if(n(oe)&&(!f||A(B,oe)))return oe;throw new P(s(oe)+" is not a typed array constructor")},le=function(oe,re,se,he){if(e){if(se)for(var ae in q){var Ee=r[ae];if(Ee&&a(Ee.prototype,oe))try{delete Ee.prototype[oe]}catch{try{Ee.prototype[oe]=re}catch{}}}(!T[oe]||se)&&u(T,oe,se?re:j&&S[oe]||re,he)}},de=function(oe,re,se){var he,ae;if(e){if(f){if(se){for(he in q)if(ae=r[he],ae&&a(ae,oe))try{delete ae[oe]}catch{}}if(!B[oe]||se)try{return u(B,oe,se?re:j&&B[oe]||re)}catch{}else return}for(he in q)ae=r[he],ae&&(!ae[oe]||se)&&u(ae,oe,re)}};for($ in q)Q=r[$],H=Q&&Q.prototype,H?w(H)[F]=Q:j=!1;for($ in Y)Q=r[$],H=Q&&Q.prototype,H&&(w(H)[F]=Q);if((!j||!n(B)||B===Function.prototype)&&(B=function(){throw new P("Incorrect invocation")},j))for($ in q)r[$]&&f(r[$],B);if((!j||!T||T===R)&&(T=B.prototype,j))for($ in q)r[$]&&f(r[$].prototype,T);if(j&&d(_)!==T&&f(_,T),e&&!a(T,M)){L=!0,c(T,M,{configurable:!0,get:function(){return i(this)?this[U]:void 0}});for($ in q)r[$]&&l(r[$],U,$)}return cD={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:L&&U,aTypedArray:ee,aTypedArrayConstructor:J,exportTypedArrayMethod:le,exportTypedArrayStaticMethod:de,getTypedArrayConstructor:V,isView:z,isTypedArray:X,TypedArray:B,TypedArrayPrototype:T},cD}var Soe;function p0t(){if(Soe)return woe;Soe=1;var t=G(),e=lr(),r=e.NATIVE_ARRAY_BUFFER_VIEWS;return t({target:"ArrayBuffer",stat:!0,forced:!r},{isView:e.isView}),woe}var xoe={},Coe;function g0t(){if(Coe)return xoe;Coe=1;var t=G(),e=dh(),r=Ve(),n=nI(),i=At(),a=Zu(),o=ys(),s=n.ArrayBuffer,l=n.DataView,u=l.prototype,c=e(s.prototype.slice),A=e(u.getUint8),d=e(u.setUint8),f=r(function(){return!new s(2).slice(1,void 0).byteLength});return t({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:f},{slice:function(g,m){if(c&&m===void 0)return c(i(this),g);for(var w=i(this).byteLength,b=a(g,w),C=a(m===void 0?w:m,w),S=new s(o(C-b)),x=new l(this),_=new l(S),B=0;b<C;)d(_,B++,A(x,b++));return S}}),xoe}var _oe={},Eoe={},Ioe;function m0t(){if(Ioe)return Eoe;Ioe=1;var t=G(),e=nI(),r=rI();return t({global:!0,constructor:!0,forced:!r},{DataView:e.DataView}),Eoe}var Boe;function v0t(){return Boe||(Boe=1,m0t()),_oe}var Poe={},Toe;function rFe(){if(Toe)return Poe;Toe=1;var t=G(),e=ke(),r=Math.pow,n=31,i=1023,a=r(2,-24),o=.0009765625,s=function(u){var c=u>>>15,A=u>>>10&n,d=u&i;return A===n?d===0?c===0?1/0:-1/0:NaN:A===0?d*(c===0?a:-a):r(2,A-15)*(c===0?1+d*o:-1-d*o)},l=e(DataView.prototype.getUint16);return t({target:"DataView",proto:!0},{getFloat16:function(c){var A=l(this,c,arguments.length>1?arguments[1]:!1);return s(A)}}),Poe}var Ooe={},AD,Roe;function nFe(){if(Roe)return AD;Roe=1;var t=Ho(),e=TypeError;return AD=function(r){if(t(r)==="DataView")return r;throw new e("Argument is not a DataView")},AD}var dD,Moe;function iFe(){if(Moe)return dD;Moe=1;var t=Math.log,e=Math.LN2;return dD=Math.log2||function(n){return t(n)/e},dD}var Foe;function aFe(){if(Foe)return Ooe;Foe=1;var t=G(),e=ke(),r=nFe(),n=Cb(),i=iFe(),a=eFe(),o=Math.pow,s=65520,l=61005353927612305e-21,u=16777216,c=1024,A=function(f){if(f!==f)return 32256;if(f===0)return(1/f===-1/0)<<15;var p=f<0;if(p&&(f=-f),f>=s)return p<<15|31744;if(f<l)return p<<15|a(f*u);var g=i(f)|0;if(g===-15)return p<<15|c;var m=a((f*o(2,-g)-1)*c);return m===c?p<<15|g+16<<10:p<<15|g+15<<10|m},d=e(DataView.prototype.setUint16);return t({target:"DataView",proto:!0},{setFloat16:function(p,g){r(this);var m=n(p),w=A(+g);return d(this,m,w,arguments.length>2?arguments[2]:!1)}}),Ooe}var koe={},fD,Uoe;function oFe(){if(Uoe)return fD;Uoe=1;var t=lt(),e=VE(),r=Va(),n=t.ArrayBuffer,i=t.TypeError;return fD=n&&e(n.prototype,"byteLength","get")||function(a){if(r(a)!=="ArrayBuffer")throw new i("ArrayBuffer expected");return a.byteLength},fD}var hD,Doe;function sFe(){if(Doe)return hD;Doe=1;var t=lt(),e=rI(),r=oFe(),n=t.DataView;return hD=function(i){if(!e||r(i)!==0)return!1;try{return new n(i),!1}catch{return!0}},hD}var joe;function lFe(){if(joe)return koe;joe=1;var t=Ft(),e=Fn(),r=sFe(),n=ArrayBuffer.prototype;return t&&!("detached"in n)&&e(n,"detached",{configurable:!0,get:function(){return r(this)}}),koe}var Loe={},pD,Noe;function _b(){if(Noe)return pD;Noe=1;var t=sFe(),e=TypeError;return pD=function(r){if(t(r))throw new e("ArrayBuffer is detached");return r},pD}var gD,$oe;function uFe(){if($oe)return gD;$oe=1;var t=lt(),e=cm();return gD=function(r){if(e){try{return t.process.getBuiltinModule(r)}catch{}try{return Function('return require("'+r+'")')()}catch{}}},gD}var mD,Qoe;function hq(){if(Qoe)return mD;Qoe=1;var t=lt(),e=Ve(),r=Ju(),n=tI(),i=t.structuredClone;return mD=!!i&&!e(function(){if(n==="DENO"&&r>92||n==="NODE"&&r>94||n==="BROWSER"&&r>97)return!1;var a=new ArrayBuffer(8),o=i(a,{transfer:[a]});return a.byteLength!==0||o.byteLength!==8}),mD}var vD,Hoe;function cFe(){if(Hoe)return vD;Hoe=1;var t=lt(),e=uFe(),r=hq(),n=t.structuredClone,i=t.ArrayBuffer,a=t.MessageChannel,o=!1,s,l,u,c;if(r)o=function(A){n(A,{transfer:[A]})};else if(i)try{a||(s=e("worker_threads"),s&&(a=s.MessageChannel)),a&&(l=new a,u=new i(2),c=function(A){l.port1.postMessage(null,[A])},u.byteLength===2&&(c(u),u.byteLength===0&&(o=c)))}catch{}return vD=o,vD}var yD,qoe;function AFe(){if(qoe)return yD;qoe=1;var t=lt(),e=ke(),r=VE(),n=Cb(),i=_b(),a=oFe(),o=cFe(),s=hq(),l=t.structuredClone,u=t.ArrayBuffer,c=t.DataView,A=Math.min,d=u.prototype,f=c.prototype,p=e(d.slice),g=r(d,"resizable","get"),m=r(d,"maxByteLength","get"),w=e(f.getInt8),b=e(f.setInt8);return yD=(s||o)&&function(C,S,x){var _=a(C),B=S===void 0?_:n(S),T=!g||!g(C),R;if(i(C),s&&(C=l(C,{transfer:[C]}),_===B&&(x||T)))return C;if(_>=B&&(!x||T))R=p(C,0,B);else{var P=x&&!T&&m?{maxByteLength:m(C)}:void 0;R=new u(B,P);for(var M=new c(C),U=new c(R),F=A(B,_),j=0;j<F;j++)b(U,j,w(M,j))}return s||o(C),R},yD}var Koe;function dFe(){if(Koe)return Loe;Koe=1;var t=G(),e=AFe();return e&&t({target:"ArrayBuffer",proto:!0},{transfer:function(){return e(this,arguments.length?arguments[0]:void 0,!0)}}),Loe}var zoe={},Woe;function fFe(){if(Woe)return zoe;Woe=1;var t=G(),e=AFe();return e&&t({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return e(this,arguments.length?arguments[0]:void 0,!1)}}),zoe}var Goe={},Voe;function y0t(){if(Voe)return Goe;Voe=1;var t=G(),e=ke(),r=Ve(),n=r(function(){return new Date(16e11).getYear()!==120}),i=e(Date.prototype.getFullYear);return t({target:"Date",proto:!0,forced:n},{getYear:function(){return i(this)-1900}}),Goe}var Yoe={},Xoe;function w0t(){if(Xoe)return Yoe;Xoe=1;var t=G(),e=ke(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),Yoe}var Joe={},Zoe;function b0t(){if(Zoe)return Joe;Zoe=1;var t=G(),e=ke(),r=Mn(),n=Date.prototype,i=e(n.getTime),a=e(n.setFullYear);return t({target:"Date",proto:!0},{setYear:function(s){i(this);var l=r(s),u=l>=0&&l<=99?l+1900:l;return a(this,u)}}),Joe}var ese={},tse;function S0t(){if(tse)return ese;tse=1;var t=G();return t({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString}),ese}var rse={},wD,nse;function iI(){if(nse)return wD;nse=1;var t=Mn(),e=Xt(),r=xn(),n=RangeError;return wD=function(a){var o=e(r(this)),s="",l=t(a);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(s+=o);return s},wD}var bD,ise;function aI(){if(ise)return bD;ise=1;var t=ke(),e=ys(),r=Xt(),n=iI(),i=xn(),a=t(n),o=t("".slice),s=Math.ceil,l=function(u){return function(c,A,d){var f=r(i(c)),p=e(A),g=f.length,m=d===void 0?" ":r(d),w,b;return p<=g||m===""?f:(w=p-g,b=a(m,s(w/m.length)),b.length>w&&(b=o(b,0,w)),u?f+b:b+f)}};return bD={start:l(!1),end:l(!0)},bD}var SD,ase;function x0t(){if(ase)return SD;ase=1;var t=ke(),e=Ve(),r=aI().start,n=RangeError,i=isFinite,a=Math.abs,o=Date.prototype,s=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),c=t(o.getUTCFullYear),A=t(o.getUTCHours),d=t(o.getUTCMilliseconds),f=t(o.getUTCMinutes),p=t(o.getUTCMonth),g=t(o.getUTCSeconds);return SD=e(function(){return s.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){s.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var w=this,b=c(w),C=d(w),S=b<0?"-":b>9999?"+":"";return S+r(a(b),S?6:4,0)+"-"+r(p(w)+1,2,0)+"-"+r(u(w),2,0)+"T"+r(A(w),2,0)+":"+r(f(w),2,0)+":"+r(g(w),2,0)+"."+r(C,3,0)+"Z"}:s,SD}var ose;function C0t(){if(ose)return rse;ose=1;var t=G(),e=x0t();return t({target:"Date",proto:!0,forced:Date.prototype.toISOString!==e},{toISOString:e}),rse}var sse={},lse;function _0t(){if(lse)return sse;lse=1;var t=G(),e=Ve(),r=Ar(),n=IE(),i=e(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,arity:1,forced:i},{toJSON:function(o){var s=r(this),l=n(s,"number");return typeof l=="number"&&!isFinite(l)?null:s.toISOString()}}),sse}var use={},xD,cse;function E0t(){if(cse)return xD;cse=1;var t=At(),e=yRe(),r=TypeError;return xD=function(n){if(t(this),n==="string"||n==="default")n="string";else if(n!=="number")throw new r("Incorrect hint");return e(this,n)},xD}var Ase;function I0t(){if(Ase)return use;Ase=1;var t=or(),e=Vr(),r=E0t(),n=Lt(),i=n("toPrimitive"),a=Date.prototype;return t(a,i)||e(a,i,r),use}var dse={},fse;function B0t(){if(fse)return dse;fse=1;var t=ke(),e=Vr(),r=Date.prototype,n="Invalid Date",i="toString",a=t(r[i]),o=t(r.getTime);return String(new Date(NaN))!==n&&e(r,i,function(){var l=o(this);return l===l?a(this):n}),dse}var hse={},pse;function P0t(){if(pse)return hse;pse=1;var t=G(),e=ke(),r=Xt(),n=e("".charAt),i=e("".charCodeAt),a=e(/./.exec),o=e(1 .toString),s=e("".toUpperCase),l=/[\w*+\-./@]/,u=function(c,A){for(var d=o(c,16);d.length<A;)d="0"+d;return d};return t({global:!0},{escape:function(A){for(var d=r(A),f="",p=d.length,g=0,m,w;g<p;)m=n(d,g++),a(l,m)?f+=m:(w=i(m,0),w<256?f+="%"+u(w,2):f+="%u"+s(u(w,4)));return f}}),hse}var gse={},CD,mse;function hFe(){if(mse)return CD;mse=1;var t=ke(),e=Kt(),r=Vt(),n=or(),i=bs(),a=cb(),o=Function,s=t([].concat),l=t([].join),u={},c=function(A,d,f){if(!n(u,d)){for(var p=[],g=0;g<d;g++)p[g]="a["+g+"]";u[d]=o("C,a","return new C("+l(p,",")+")")}return u[d](A,f)};return CD=a?o.bind:function(d){var f=e(this),p=f.prototype,g=i(arguments,1),m=function(){var b=s(g,i(arguments));return this instanceof m?c(f,b.length,b):f.apply(d,b)};return r(p)&&(m.prototype=p),m},CD}var vse;function T0t(){if(vse)return gse;vse=1;var t=G(),e=hFe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),gse}var yse={},wse;function O0t(){if(wse)return yse;wse=1;var t=rr(),e=Vt(),r=fn(),n=Ya(),i=Lt(),a=OE(),o=i("hasInstance"),s=Function.prototype;return o in s||r.f(s,o,{value:a(function(l){if(!t(this)||!e(l))return!1;var u=this.prototype;return e(u)?n(u,l):l instanceof this},o)}),yse}var bse={},Sse;function R0t(){if(Sse)return bse;Sse=1;var t=Ft(),e=Zg().EXISTS,r=ke(),n=Fn(),i=Function.prototype,a=r(i.toString),o=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=r(o.exec),l="name";return t&&!e&&n(i,l,{configurable:!0,get:function(){try{return s(o,a(this))[1]}catch{return""}}}),bse}var xse={},Cse;function pFe(){if(Cse)return xse;Cse=1;var t=G(),e=lt();return t({global:!0,forced:e.globalThis!==e},{globalThis:e}),xse}var _se={},Ese;function gFe(){if(Ese)return _se;Ese=1;var t=G(),e=lt(),r=go(),n=At(),i=rr(),a=Qi(),o=Fn(),s=Yl(),l=Ve(),u=or(),c=Lt(),A=um().IteratorPrototype,d=Ft(),f=cr(),p="constructor",g="Iterator",m=c("toStringTag"),w=TypeError,b=e[g],C=f||!i(b)||b.prototype!==A||!l(function(){b({})}),S=function(){if(r(this,A),a(this)===A)throw new w("Abstract class Iterator not directly constructable")},x=function(_,B){d?o(A,_,{configurable:!0,get:function(){return B},set:function(T){if(n(this),this===A)throw new w("You can't redefine this property");u(this,_)?this[_]=T:s(this,_,T)}}):A[_]=B};return u(A,m)||x(m,g),(C||!u(A,p)||A[p]===Object)&&x(p,S),S.prototype=A,t({global:!0,constructor:!0,forced:C},{Iterator:S}),_se}var Ise={},_D,Bse;function Hn(){return Bse||(Bse=1,_D=function(t){return{iterator:t,next:t.next,done:!1}}),_D}var ED,Pse;function Eb(){if(Pse)return ED;Pse=1;var t=RangeError;return ED=function(e){if(e===e)return e;throw new t("NaN is not allowed")},ED}var ID,Tse;function Ib(){if(Tse)return ID;Tse=1;var t=Mn(),e=RangeError;return ID=function(r){var n=t(r);if(n<0)throw new e("The argument can't be less than 0");return n},ID}var BD,Ose;function mh(){if(Ose)return BD;Ose=1;var t=ft(),e=wi(),r=Ni(),n=Jl(),i=Lt(),a=Qr(),o=yi(),s=um().IteratorPrototype,l=ta(),u=Fd(),c=i("toStringTag"),A="IteratorHelper",d="WrapForValidIterator",f=a.set,p=function(w){var b=a.getterFor(w?d:A);return n(e(s),{next:function(){var S=b(this);if(w)return S.nextHandler();if(S.done)return l(void 0,!0);try{var x=S.nextHandler();return S.returnHandlerResult?x:l(x,S.done)}catch(_){throw S.done=!0,_}},return:function(){var C=b(this),S=C.iterator;if(C.done=!0,w){var x=o(S,"return");return x?t(x,S):l(void 0,!0)}if(C.inner)try{u(C.inner.iterator,"normal")}catch(_){return u(S,"throw",_)}return S&&u(S,"normal"),l(void 0,!0)}})},g=p(!0),m=p(!1);return r(m,c,"Iterator Helper"),BD=function(w,b,C){var S=function(_,B){B?(B.iterator=_.iterator,B.next=_.next):B=_,B.type=b?d:A,B.returnHandlerResult=!!C,B.nextHandler=w,B.counter=0,B.done=!1,f(this,B)};return S.prototype=b?g:m,S},BD}var Rse;function mFe(){if(Rse)return Ise;Rse=1;var t=G(),e=ft(),r=At(),n=Hn(),i=Eb(),a=Ib(),o=mh(),s=cr(),l=o(function(){for(var u=this.iterator,c=this.next,A,d;this.remaining;)if(this.remaining--,A=r(e(c,u)),d=this.done=!!A.done,d)return;if(A=r(e(c,u)),d=this.done=!!A.done,!d)return A.value});return t({target:"Iterator",proto:!0,real:!0,forced:s},{drop:function(c){r(this);var A=a(i(+c));return new l(n(this),{remaining:A})}}),Ise}var Mse={},Fse;function vFe(){if(Fse)return Mse;Fse=1;var t=G(),e=Xn(),r=Kt(),n=At(),i=Hn();return t({target:"Iterator",proto:!0,real:!0},{every:function(o){n(this),r(o);var s=i(this),l=0;return!e(s,function(u,c){if(!o(u,l++))return c()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}}),Mse}var kse={},Use;function yFe(){if(Use)return kse;Use=1;var t=G(),e=ft(),r=Kt(),n=At(),i=Hn(),a=mh(),o=sq(),s=cr(),l=a(function(){for(var u=this.iterator,c=this.predicate,A=this.next,d,f,p;;){if(d=n(e(A,u)),f=this.done=!!d.done,f)return;if(p=d.value,o(u,c,[p,this.counter++],!0))return p}});return t({target:"Iterator",proto:!0,real:!0,forced:s},{filter:function(c){return n(this),r(c),new l(i(this),{predicate:c})}}),kse}var Dse={},jse;function wFe(){if(jse)return Dse;jse=1;var t=G(),e=Xn(),r=Kt(),n=At(),i=Hn();return t({target:"Iterator",proto:!0,real:!0},{find:function(o){n(this),r(o);var s=i(this),l=0;return e(s,function(u,c){if(o(u,l++))return c(u)},{IS_RECORD:!0,INTERRUPTED:!0}).result}}),Dse}var Lse={},PD,Nse;function bFe(){if(Nse)return PD;Nse=1;var t=ft(),e=At(),r=Hn(),n=sA();return PD=function(i,a){(!a||typeof i!="string")&&e(i);var o=n(i);return r(e(o!==void 0?t(o,i):i))},PD}var $se;function SFe(){if($se)return Lse;$se=1;var t=G(),e=ft(),r=Kt(),n=At(),i=Hn(),a=bFe(),o=mh(),s=Fd(),l=cr(),u=o(function(){for(var c=this.iterator,A=this.mapper,d,f;;){if(f=this.inner)try{if(d=n(e(f.next,f.iterator)),!d.done)return d.value;this.inner=null}catch(p){s(c,"throw",p)}if(d=n(e(this.next,c)),this.done=!!d.done)return;try{this.inner=a(A(d.value,this.counter++),!1)}catch(p){s(c,"throw",p)}}});return t({target:"Iterator",proto:!0,real:!0,forced:l},{flatMap:function(A){return n(this),r(A),new u(i(this),{mapper:A,inner:null})}}),Lse}var Qse={},Hse;function xFe(){if(Hse)return Qse;Hse=1;var t=G(),e=Xn(),r=Kt(),n=At(),i=Hn();return t({target:"Iterator",proto:!0,real:!0},{forEach:function(o){n(this),r(o);var s=i(this),l=0;e(s,function(u){o(u,l++)},{IS_RECORD:!0})}}),Qse}var qse={},Kse;function CFe(){if(Kse)return qse;Kse=1;var t=G(),e=ft(),r=Ar(),n=Ya(),i=um().IteratorPrototype,a=mh(),o=bFe(),s=cr(),l=a(function(){return e(this.next,this.iterator)},!0);return t({target:"Iterator",stat:!0,forced:s},{from:function(c){var A=o(typeof c=="string"?r(c):c,!0);return n(i,A.iterator)?A.iterator:new l(A)}}),qse}var zse={},TD,Wse;function _Fe(){if(Wse)return TD;Wse=1;var t=ft(),e=Kt(),r=At(),n=Hn(),i=mh(),a=sq(),o=i(function(){var s=this.iterator,l=r(t(this.next,s)),u=this.done=!!l.done;if(!u)return a(s,this.mapper,[l.value,this.counter++],!0)});return TD=function(l){return r(this),e(l),new o(n(this),{mapper:l})},TD}var Gse;function EFe(){if(Gse)return zse;Gse=1;var t=G(),e=_Fe(),r=cr();return t({target:"Iterator",proto:!0,real:!0,forced:r},{map:e}),zse}var Vse={},Yse;function IFe(){if(Yse)return Vse;Yse=1;var t=G(),e=Xn(),r=Kt(),n=At(),i=Hn(),a=TypeError;return t({target:"Iterator",proto:!0,real:!0},{reduce:function(s){n(this),r(s);var l=i(this),u=arguments.length<2,c=u?void 0:arguments[1],A=0;if(e(l,function(d){u?(u=!1,c=d):c=s(c,d,A),A++},{IS_RECORD:!0}),u)throw new a("Reduce of empty iterator with no initial value");return c}}),Vse}var Xse={},Jse;function BFe(){if(Jse)return Xse;Jse=1;var t=G(),e=Xn(),r=Kt(),n=At(),i=Hn();return t({target:"Iterator",proto:!0,real:!0},{some:function(o){n(this),r(o);var s=i(this),l=0;return e(s,function(u,c){if(o(u,l++))return c()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}}),Xse}var Zse={},ele;function PFe(){if(ele)return Zse;ele=1;var t=G(),e=ft(),r=At(),n=Hn(),i=Eb(),a=Ib(),o=mh(),s=Fd(),l=cr(),u=o(function(){var c=this.iterator;if(!this.remaining--)return this.done=!0,s(c,"normal",void 0);var A=r(e(this.next,c)),d=this.done=!!A.done;if(!d)return A.value});return t({target:"Iterator",proto:!0,real:!0,forced:l},{take:function(A){r(this);var d=a(i(+A));return new u(n(this),{remaining:d})}}),Zse}var tle={},rle;function TFe(){if(rle)return tle;rle=1;var t=G(),e=At(),r=Xn(),n=Hn(),i=[].push;return t({target:"Iterator",proto:!0,real:!0},{toArray:function(){var o=[];return r(n(e(this)),i,{that:o,IS_RECORD:!0}),o}}),tle}var nle={},ile;function M0t(){if(ile)return nle;ile=1;var t=lt(),e=Ko();return e(t.JSON,"JSON",!0),nle}var ale={},ole={},OD={exports:{}},RD,sle;function pq(){if(sle)return RD;sle=1;var t=Ve();return RD=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),RD}var MD,lle;function gq(){if(lle)return MD;lle=1;var t=Ve(),e=Vt(),r=Va(),n=pq(),i=Object.isExtensible,a=t(function(){});return MD=a||n?function(s){return!e(s)||n&&r(s)==="ArrayBuffer"?!1:i?i(s):!0}:i,MD}var FD,ule;function Ud(){if(ule)return FD;ule=1;var t=Ve();return FD=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),FD}var cle;function vh(){if(cle)return OD.exports;cle=1;var t=G(),e=ke(),r=Ab(),n=Vt(),i=or(),a=fn().f,o=ch(),s=eq(),l=gq(),u=uh(),c=Ud(),A=!1,d=u("meta"),f=0,p=function(S){a(S,d,{value:{objectID:"O"+f++,weakData:{}}})},g=function(S,x){if(!n(S))return typeof S=="symbol"?S:(typeof S=="string"?"S":"P")+S;if(!i(S,d)){if(!l(S))return"F";if(!x)return"E";p(S)}return S[d].objectID},m=function(S,x){if(!i(S,d)){if(!l(S))return!0;if(!x)return!1;p(S)}return S[d].weakData},w=function(S){return c&&A&&l(S)&&!i(S,d)&&p(S),S},b=function(){C.enable=function(){},A=!0;var S=o.f,x=e([].splice),_={};_[d]=1,S(_).length&&(o.f=function(B){for(var T=S(B),R=0,P=T.length;R<P;R++)if(T[R]===d){x(T,R,1);break}return T},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},C=OD.exports={enable:b,fastKey:g,getWeakData:m,onFreeze:w};return r[d]=!0,OD.exports}var kD,Ale;function oI(){if(Ale)return kD;Ale=1;var t=G(),e=lt(),r=ke(),n=fb(),i=Vr(),a=vh(),o=Xn(),s=go(),l=rr(),u=ji(),c=Vt(),A=Ve(),d=JE(),f=Ko(),p=fh();return kD=function(g,m,w){var b=g.indexOf("Map")!==-1,C=g.indexOf("Weak")!==-1,S=b?"set":"add",x=e[g],_=x&&x.prototype,B=x,T={},R=function($){var Q=r(_[$]);i(_,$,$==="add"?function(q){return Q(this,q===0?0:q),this}:$==="delete"?function(H){return C&&!c(H)?!1:Q(this,H===0?0:H)}:$==="get"?function(q){return C&&!c(q)?void 0:Q(this,q===0?0:q)}:$==="has"?function(q){return C&&!c(q)?!1:Q(this,q===0?0:q)}:function(q,Y){return Q(this,q===0?0:q,Y),this})},P=n(g,!l(x)||!(C||_.forEach&&!A(function(){new x().entries().next()})));if(P)B=w.getConstructor(m,g,b,S),a.enable();else if(n(g,!0)){var M=new B,U=M[S](C?{}:-0,1)!==M,F=A(function(){M.has(1)}),j=d(function($){new x($)}),L=!C&&A(function(){for(var $=new x,Q=5;Q--;)$[S](Q,Q);return!$.has(-0)});j||(B=m(function($,Q){s($,_);var H=p(new x,$,B);return u(Q)||o(Q,H[S],{that:H,AS_ENTRIES:b}),H}),B.prototype=_,_.constructor=B),(F||L)&&(R("delete"),R("has"),b&&R("get")),(L||U)&&R(S),C&&_.clear&&delete _.clear}return T[g]=B,t({global:!0,constructor:!0,forced:B!==x},T),f(B,g),C||w.setStrong(B,g,b),B},kD}var UD,dle;function OFe(){if(dle)return UD;dle=1;var t=wi(),e=Fn(),r=Jl(),n=sn(),i=go(),a=ji(),o=Xn(),s=lq(),l=ta(),u=gh(),c=Ft(),A=vh().fastKey,d=Qr(),f=d.set,p=d.getterFor;return UD={getConstructor:function(g,m,w,b){var C=g(function(T,R){i(T,S),f(T,{type:m,index:t(null),first:null,last:null,size:0}),c||(T.size=0),a(R)||o(R,T[b],{that:T,AS_ENTRIES:w})}),S=C.prototype,x=p(m),_=function(T,R,P){var M=x(T),U=B(T,R),F,j;return U?U.value=P:(M.last=U={index:j=A(R,!0),key:R,value:P,previous:F=M.last,next:null,removed:!1},M.first||(M.first=U),F&&(F.next=U),c?M.size++:T.size++,j!=="F"&&(M.index[j]=U)),T},B=function(T,R){var P=x(T),M=A(R),U;if(M!=="F")return P.index[M];for(U=P.first;U;U=U.next)if(U.key===R)return U};return r(S,{clear:function(){for(var R=this,P=x(R),M=P.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=null),M=M.next;P.first=P.last=null,P.index=t(null),c?P.size=0:R.size=0},delete:function(T){var R=this,P=x(R),M=B(R,T);if(M){var U=M.next,F=M.previous;delete P.index[M.index],M.removed=!0,F&&(F.next=U),U&&(U.previous=F),P.first===M&&(P.first=U),P.last===M&&(P.last=F),c?P.size--:R.size--}return!!M},forEach:function(R){for(var P=x(this),M=n(R,arguments.length>1?arguments[1]:void 0),U;U=U?U.next:P.first;)for(M(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(R){return!!B(this,R)}}),r(S,w?{get:function(R){var P=B(this,R);return P&&P.value},set:function(R,P){return _(this,R===0?0:R,P)}}:{add:function(R){return _(this,R=R===0?0:R,R)}}),c&&e(S,"size",{configurable:!0,get:function(){return x(this).size}}),C},setStrong:function(g,m,w){var b=m+" Iterator",C=p(m),S=p(b);s(g,m,function(x,_){f(this,{type:b,target:x,state:C(x),kind:_,last:null})},function(){for(var x=S(this),_=x.kind,B=x.last;B&&B.removed;)B=B.previous;return!x.target||!(x.last=B=B?B.next:x.state.first)?(x.target=null,l(void 0,!0)):l(_==="keys"?B.key:_==="values"?B.value:[B.key,B.value],!1)},w?"entries":"values",!w,!0),u(m)}},UD}var fle;function F0t(){if(fle)return ole;fle=1;var t=oI(),e=OFe();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),ole}var hle;function mq(){return hle||(hle=1,F0t()),ale}var ple={},DD,gle;function ra(){if(gle)return DD;gle=1;var t=ke(),e=Map.prototype;return DD={Map,set:t(e.set),get:t(e.get),has:t(e.has),remove:t(e.delete),proto:e},DD}var mle;function RFe(){if(mle)return ple;mle=1;var t=G(),e=ke(),r=Kt(),n=xn(),i=Xn(),a=ra(),o=cr(),s=Ve(),l=a.Map,u=a.has,c=a.get,A=a.set,d=e([].push),f=o||s(function(){return l.groupBy("ab",function(p){return p}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,m){n(g),r(m);var w=new l,b=0;return i(g,function(C){var S=m(C,b++);u(w,S)?d(c(w,S),C):A(w,S,[C])}),w}}),ple}var vle={},jD,yle;function MFe(){if(yle)return jD;yle=1;var t=Math.log;return jD=Math.log1p||function(r){var n=+r;return n>-1e-8&&n<1e-8?n-n*n/2:t(1+n)},jD}var wle;function k0t(){if(wle)return vle;wle=1;var t=G(),e=MFe(),r=Math.acosh,n=Math.log,i=Math.sqrt,a=Math.LN2,o=!r||Math.floor(r(Number.MAX_VALUE))!==710||r(1/0)!==1/0;return t({target:"Math",stat:!0,forced:o},{acosh:function(l){var u=+l;return u<1?NaN:u>9490626562425156e-8?n(u)+a:e(u-1+i(u-1)*i(u+1))}}),vle}var ble={},Sle;function U0t(){if(Sle)return ble;Sle=1;var t=G(),e=Math.asinh,r=Math.log,n=Math.sqrt;function i(o){var s=+o;return!isFinite(s)||s===0?s:s<0?-i(-s):r(s+n(s*s+1))}var a=!(e&&1/e(0)>0);return t({target:"Math",stat:!0,forced:a},{asinh:i}),ble}var xle={},Cle;function D0t(){if(Cle)return xle;Cle=1;var t=G(),e=Math.atanh,r=Math.log,n=!(e&&1/e(-0)<0);return t({target:"Math",stat:!0,forced:n},{atanh:function(a){var o=+a;return o===0?o:r((1+o)/(1-o))/2}}),xle}var _le={},Ele;function j0t(){if(Ele)return _le;Ele=1;var t=G(),e=dq(),r=Math.abs,n=Math.pow;return t({target:"Math",stat:!0},{cbrt:function(a){var o=+a;return e(o)*n(r(o),1/3)}}),_le}var Ile={},Ble;function L0t(){if(Ble)return Ile;Ble=1;var t=G(),e=Math.floor,r=Math.log,n=Math.LOG2E;return t({target:"Math",stat:!0},{clz32:function(a){var o=a>>>0;return o?31-e(r(o+.5)*n):32}}),Ile}var Ple={},LD,Tle;function sI(){if(Tle)return LD;Tle=1;var t=Math.expm1,e=Math.exp;return LD=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||t(-2e-17)!==-2e-17?function(n){var i=+n;return i===0?i:i>-1e-6&&i<1e-6?i+i*i/2:e(i)-1}:t,LD}var Ole;function N0t(){if(Ole)return Ple;Ole=1;var t=G(),e=sI(),r=Math.cosh,n=Math.abs,i=Math.E,a=!r||r(710)===1/0;return t({target:"Math",stat:!0,forced:a},{cosh:function(s){var l=e(n(s)-1)+1;return(l+1/(l*i*i))*(i/2)}}),Ple}var Rle={},Mle;function $0t(){if(Mle)return Rle;Mle=1;var t=G(),e=sI();return t({target:"Math",stat:!0,forced:e!==Math.expm1},{expm1:e}),Rle}var Fle={},kle;function Q0t(){if(kle)return Fle;kle=1;var t=G(),e=fq();return t({target:"Math",stat:!0},{fround:e}),Fle}var Ule={},Dle;function FFe(){if(Dle)return Ule;Dle=1;var t=G(),e=tFe(),r=.0009765625,n=65504,i=6103515625e-14;return t({target:"Math",stat:!0},{f16round:function(o){return e(o,r,n,i)}}),Ule}var jle={},Lle;function H0t(){if(Lle)return jle;Lle=1;var t=G(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,s){for(var l=0,u=0,c=arguments.length,A=0,d,f;u<c;)d=r(arguments[u++]),A<d?(f=A/d,l=l*f*f+1,A=d):d>0?(f=d/A,l+=f*f):l+=d;return A===1/0?1/0:A*n(l)}}),jle}var Nle={},$le;function q0t(){if($le)return Nle;$le=1;var t=G(),e=Ve(),r=Math.imul,n=e(function(){return r(4294967295,5)!==-5||r.length!==2});return t({target:"Math",stat:!0,forced:n},{imul:function(a,o){var s=65535,l=+a,u=+o,c=s&l,A=s&u;return 0|c*A+((s&l>>>16)*A+c*(s&u>>>16)<<16>>>0)}}),Nle}var Qle={},ND,Hle;function kFe(){if(Hle)return ND;Hle=1;var t=Math.log,e=Math.LOG10E;return ND=Math.log10||function(n){return t(n)*e},ND}var qle;function K0t(){if(qle)return Qle;qle=1;var t=G(),e=kFe();return t({target:"Math",stat:!0},{log10:e}),Qle}var Kle={},zle;function z0t(){if(zle)return Kle;zle=1;var t=G(),e=MFe();return t({target:"Math",stat:!0},{log1p:e}),Kle}var Wle={},Gle;function W0t(){if(Gle)return Wle;Gle=1;var t=G(),e=iFe();return t({target:"Math",stat:!0},{log2:e}),Wle}var Vle={},Yle;function G0t(){if(Yle)return Vle;Yle=1;var t=G(),e=dq();return t({target:"Math",stat:!0},{sign:e}),Vle}var Xle={},Jle;function V0t(){if(Jle)return Xle;Jle=1;var t=G(),e=Ve(),r=sI(),n=Math.abs,i=Math.exp,a=Math.E,o=e(function(){return Math.sinh(-2e-17)!==-2e-17});return t({target:"Math",stat:!0,forced:o},{sinh:function(l){var u=+l;return n(u)<1?(r(u)-r(-u))/2:(i(u-1)-i(-u-1))*(a/2)}}),Xle}var Zle={},eue;function Y0t(){if(eue)return Zle;eue=1;var t=G(),e=sI(),r=Math.exp;return t({target:"Math",stat:!0},{tanh:function(i){var a=+i,o=e(a),s=e(-a);return o===1/0?1:s===1/0?-1:(o-s)/(r(a)+r(-a))}}),Zle}var tue={},rue;function X0t(){if(rue)return tue;rue=1;var t=Ko();return t(Math,"Math",!0),tue}var nue={},iue;function J0t(){if(iue)return nue;iue=1;var t=G(),e=xRe();return t({target:"Math",stat:!0},{trunc:e}),nue}var aue={},$D,oue;function lI(){if(oue)return $D;oue=1;var t=ke();return $D=t(1 .valueOf),$D}var QD,sue;function Am(){return sue||(sue=1,QD=`	
\v\f\r \u2028\u2029\uFEFF`),QD}var HD,lue;function dm(){if(lue)return HD;lue=1;var t=ke(),e=xn(),r=Xt(),n=Am(),i=t("".replace),a=RegExp("^["+n+"]+"),o=RegExp("(^|[^"+n+"])["+n+"]+$"),s=function(l){return function(u){var c=r(e(u));return l&1&&(c=i(c,a,"")),l&2&&(c=i(c,o,"$1")),c}};return HD={start:s(1),end:s(2),trim:s(3)},HD}var uue;function Z0t(){if(uue)return aue;uue=1;var t=G(),e=cr(),r=Ft(),n=lt(),i=tq(),a=ke(),o=fb(),s=or(),l=fh(),u=Ya(),c=Pd(),A=IE(),d=Ve(),f=ch().f,p=ya().f,g=fn().f,m=lI(),w=dm().trim,b="Number",C=n[b],S=i[b],x=C.prototype,_=n.TypeError,B=a("".slice),T=a("".charCodeAt),R=function(L){var $=A(L,"number");return typeof $=="bigint"?$:P($)},P=function(L){var $=A(L,"number"),Q,H,q,Y,z,V,X,ee;if(c($))throw new _("Cannot convert a Symbol value to a number");if(typeof $=="string"&&$.length>2){if($=w($),Q=T($,0),Q===43||Q===45){if(H=T($,2),H===88||H===120)return NaN}else if(Q===48){switch(T($,1)){case 66:case 98:q=2,Y=49;break;case 79:case 111:q=8,Y=55;break;default:return+$}for(z=B($,2),V=z.length,X=0;X<V;X++)if(ee=T(z,X),ee<48||ee>Y)return NaN;return parseInt(z,q)}}return+$},M=o(b,!C(" 0o1")||!C("0b1")||C("+0x1")),U=function(L){return u(x,L)&&d(function(){m(L)})},F=function($){var Q=arguments.length<1?0:C(R($));return U(this)?l(Object(Q),this,F):Q};F.prototype=x,M&&!e&&(x.constructor=F),t({global:!0,constructor:!0,wrap:!0,forced:M},{Number:F});var j=function(L,$){for(var Q=r?f($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),H=0,q;Q.length>H;H++)s($,q=Q[H])&&!s(L,q)&&g(L,q,p($,q))};return e&&S&&j(i[b],S),(M||e)&&j(i[b],C),aue}var cue={},Aue;function ext(){if(Aue)return cue;Aue=1;var t=G();return t({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)}),cue}var due={},qD,fue;function UFe(){if(fue)return qD;fue=1;var t=lt(),e=t.isFinite;return qD=Number.isFinite||function(n){return typeof n=="number"&&e(n)},qD}var hue;function txt(){if(hue)return due;hue=1;var t=G(),e=UFe();return t({target:"Number",stat:!0},{isFinite:e}),due}var pue={},KD,gue;function vq(){if(gue)return KD;gue=1;var t=Vt(),e=Math.floor;return KD=Number.isInteger||function(n){return!t(n)&&isFinite(n)&&e(n)===n},KD}var mue;function rxt(){if(mue)return pue;mue=1;var t=G(),e=vq();return t({target:"Number",stat:!0},{isInteger:e}),pue}var vue={},yue;function nxt(){if(yue)return vue;yue=1;var t=G();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),vue}var wue={},bue;function ixt(){if(bue)return wue;bue=1;var t=G(),e=vq(),r=Math.abs;return t({target:"Number",stat:!0},{isSafeInteger:function(i){return e(i)&&r(i)<=9007199254740991}}),wue}var Sue={},xue;function axt(){if(xue)return Sue;xue=1;var t=G();return t({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991}),Sue}var Cue={},_ue;function oxt(){if(_ue)return Cue;_ue=1;var t=G();return t({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991}),Cue}var Eue={},zD,Iue;function DFe(){if(Iue)return zD;Iue=1;var t=lt(),e=Ve(),r=ke(),n=Xt(),i=dm().trim,a=Am(),o=r("".charAt),s=t.parseFloat,l=t.Symbol,u=l&&l.iterator,c=1/s(a+"-0")!==-1/0||u&&!e(function(){s(Object(u))});return zD=c?function(d){var f=i(n(d)),p=s(f);return p===0&&o(f,0)==="-"?-0:p}:s,zD}var Bue;function sxt(){if(Bue)return Eue;Bue=1;var t=G(),e=DFe();return t({target:"Number",stat:!0,forced:Number.parseFloat!==e},{parseFloat:e}),Eue}var Pue={},WD,Tue;function jFe(){if(Tue)return WD;Tue=1;var t=lt(),e=Ve(),r=ke(),n=Xt(),i=dm().trim,a=Am(),o=t.parseInt,s=t.Symbol,l=s&&s.iterator,u=/^[+-]?0x/i,c=r(u.exec),A=o(a+"08")!==8||o(a+"0x16")!==22||l&&!e(function(){o(Object(l))});return WD=A?function(f,p){var g=i(n(f));return o(g,p>>>0||(c(u,g)?16:10))}:o,WD}var Oue;function lxt(){if(Oue)return Pue;Oue=1;var t=G(),e=jFe();return t({target:"Number",stat:!0,forced:Number.parseInt!==e},{parseInt:e}),Pue}var Rue={},Mue;function uxt(){if(Mue)return Rue;Mue=1;var t=G(),e=ke(),r=Mn(),n=lI(),i=iI(),a=kFe(),o=Ve(),s=RangeError,l=String,u=isFinite,c=Math.abs,A=Math.floor,d=Math.pow,f=Math.round,p=e(1 .toExponential),g=e(i),m=e("".slice),w=p(-69e-12,4)==="-6.9000e-11"&&p(1.255,2)==="1.25e+0"&&p(12345,3)==="1.235e+4"&&p(25,0)==="3e+1",b=function(){return o(function(){p(1,1/0)})&&o(function(){p(1,-1/0)})},C=function(){return!o(function(){p(1/0,1/0),p(NaN,1/0)})},S=!w||!b()||!C();return t({target:"Number",proto:!0,forced:S},{toExponential:function(_){var B=n(this);if(_===void 0)return p(B);var T=r(_);if(!u(B))return String(B);if(T<0||T>20)throw new s("Incorrect fraction digits");if(w)return p(B,T);var R="",P,M,U,F;if(B<0&&(R="-",B=-B),B===0)M=0,P=g("0",T+1);else{var j=a(B);M=A(j);var L=d(10,M-T),$=f(B/L);2*B>=(2*$+1)*L&&($+=1),$>=d(10,T+1)&&($/=10,M+=1),P=l($)}return T!==0&&(P=m(P,0,1)+"."+m(P,1)),M===0?(U="+",F="0"):(U=M>0?"+":"-",F=l(c(M))),P+="e"+U+F,R+P}}),Rue}var Fue={},kue;function cxt(){if(kue)return Fue;kue=1;var t=G(),e=ke(),r=Mn(),n=lI(),i=iI(),a=Ve(),o=RangeError,s=String,l=Math.floor,u=e(i),c=e("".slice),A=e(1 .toFixed),d=function(b,C,S){return C===0?S:C%2===1?d(b,C-1,S*b):d(b*b,C/2,S)},f=function(b){for(var C=0,S=b;S>=4096;)C+=12,S/=4096;for(;S>=2;)C+=1,S/=2;return C},p=function(b,C,S){for(var x=-1,_=S;++x<6;)_+=C*b[x],b[x]=_%1e7,_=l(_/1e7)},g=function(b,C){for(var S=6,x=0;--S>=0;)x+=b[S],b[S]=l(x/C),x=x%C*1e7},m=function(b){for(var C=6,S="";--C>=0;)if(S!==""||C===0||b[C]!==0){var x=s(b[C]);S=S===""?x:S+u("0",7-x.length)+x}return S},w=a(function(){return A(8e-5,3)!=="0.000"||A(.9,0)!=="1"||A(1.255,2)!=="1.25"||A(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!a(function(){A({})});return t({target:"Number",proto:!0,forced:w},{toFixed:function(C){var S=n(this),x=r(C),_=[0,0,0,0,0,0],B="",T="0",R,P,M,U;if(x<0||x>20)throw new o("Incorrect fraction digits");if(S!==S)return"NaN";if(S<=-1e21||S>=1e21)return s(S);if(S<0&&(B="-",S=-S),S>1e-21)if(R=f(S*d(2,69,1))-69,P=R<0?S*d(2,-R,1):S/d(2,R,1),P*=4503599627370496,R=52-R,R>0){for(p(_,0,P),M=x;M>=7;)p(_,1e7,0),M-=7;for(p(_,d(10,M,1),0),M=R-1;M>=23;)g(_,1<<23),M-=23;g(_,1<<M),p(_,1,1),g(_,2),T=m(_)}else p(_,0,P),p(_,1<<-R,0),T=m(_)+u("0",x);return x>0?(U=T.length,T=B+(U<=x?"0."+u("0",x-U)+T:c(T,0,U-x)+"."+c(T,U-x))):T=B+T,T}}),Fue}var Uue={},Due;function Axt(){if(Due)return Uue;Due=1;var t=G(),e=ke(),r=Ve(),n=lI(),i=e(1 .toPrecision),a=r(function(){return i(1,void 0)!=="1"})||!r(function(){i({})});return t({target:"Number",proto:!0,forced:a},{toPrecision:function(s){return s===void 0?i(n(this)):i(n(this),s)}}),Uue}var jue={},GD,Lue;function LFe(){if(Lue)return GD;Lue=1;var t=Ft(),e=ke(),r=ft(),n=Ve(),i=tm(),a=RE(),o=_E(),s=Ar(),l=Bd(),u=Object.assign,c=Object.defineProperty,A=e([].concat);return GD=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var d={},f={},p=Symbol("assign detection"),g="abcdefghijklmnopqrst";return d[p]=7,g.split("").forEach(function(m){f[m]=m}),u({},d)[p]!==7||i(u({},f)).join("")!==g})?function(f,p){for(var g=s(f),m=arguments.length,w=1,b=a.f,C=o.f;m>w;)for(var S=l(arguments[w++]),x=b?A(i(S),b(S)):i(S),_=x.length,B=0,T;_>B;)T=x[B++],(!t||r(C,S,T))&&(g[T]=S[T]);return g}:u,GD}var Nue;function dxt(){if(Nue)return jue;Nue=1;var t=G(),e=LFe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),jue}var $ue={},Que;function fxt(){if(Que)return $ue;Que=1;var t=G(),e=Ft(),r=wi();return t({target:"Object",stat:!0,sham:!e},{create:r}),$ue}var Hue={},VD,que;function uI(){if(que)return VD;que=1;var t=cr(),e=lt(),r=Ve(),n=Aq();return VD=t||!r(function(){if(!(n&&n<535)){var i=Math.random();__defineSetter__.call(null,i,function(){}),delete e[i]}}),VD}var Kue;function hxt(){if(Kue)return Hue;Kue=1;var t=G(),e=Ft(),r=uI(),n=Kt(),i=Ar(),a=fn();return e&&t({target:"Object",proto:!0,forced:r},{__defineGetter__:function(s,l){a.f(i(this),s,{get:n(l),enumerable:!0,configurable:!0})}}),Hue}var zue={},Wue;function pxt(){if(Wue)return zue;Wue=1;var t=G(),e=Ft(),r=w5().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),zue}var Gue={},Vue;function gxt(){if(Vue)return Gue;Vue=1;var t=G(),e=Ft(),r=fn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),Gue}var Yue={},Xue;function mxt(){if(Xue)return Yue;Xue=1;var t=G(),e=Ft(),r=uI(),n=Kt(),i=Ar(),a=fn();return e&&t({target:"Object",proto:!0,forced:r},{__defineSetter__:function(s,l){a.f(i(this),s,{set:n(l),enumerable:!0,configurable:!0})}}),Yue}var Jue={},YD,Zue;function NFe(){if(Zue)return YD;Zue=1;var t=Ft(),e=Ve(),r=ke(),n=Qi(),i=tm(),a=Li(),o=_E().f,s=r(o),l=r([].push),u=t&&e(function(){var A=Object.create(null);return A[2]=2,!s(A,2)}),c=function(A){return function(d){for(var f=a(d),p=i(f),g=u&&n(f)===null,m=p.length,w=0,b=[],C;m>w;)C=p[w++],(!t||(g?C in f:s(f,C)))&&l(b,A?[C,f[C]]:f[C]);return b}};return YD={entries:c(!0),values:c(!1)},YD}var ece;function vxt(){if(ece)return Jue;ece=1;var t=G(),e=NFe().entries;return t({target:"Object",stat:!0},{entries:function(n){return e(n)}}),Jue}var tce={},rce;function yxt(){if(rce)return tce;rce=1;var t=G(),e=Ud(),r=Ve(),n=Vt(),i=vh().onFreeze,a=Object.freeze,o=r(function(){a(1)});return t({target:"Object",stat:!0,forced:o,sham:!e},{freeze:function(l){return a&&n(l)?a(i(l)):l}}),tce}var nce={},ice;function wxt(){if(ice)return nce;ice=1;var t=G(),e=Xn(),r=Yl();return t({target:"Object",stat:!0},{fromEntries:function(i){var a={};return e(i,function(o,s){r(a,o,s)},{AS_ENTRIES:!0}),a}}),nce}var ace={},oce;function bxt(){if(oce)return ace;oce=1;var t=G(),e=Ve(),r=Li(),n=ya().f,i=Ft(),a=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:a,sham:!i},{getOwnPropertyDescriptor:function(s,l){return n(r(s),l)}}),ace}var sce={},lce;function Sxt(){if(lce)return sce;lce=1;var t=G(),e=Ft(),r=y5(),n=Li(),i=ya(),a=Yl();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(s){for(var l=n(s),u=i.f,c=r(l),A={},d=0,f,p;c.length>d;)p=u(l,f=c[d++]),p!==void 0&&a(A,f,p);return A}}),sce}var uce={},cce;function xxt(){if(cce)return uce;cce=1;var t=G(),e=Ve(),r=eq().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),uce}var Ace={},dce;function Cxt(){if(dce)return Ace;dce=1;var t=G(),e=Ve(),r=Ar(),n=Qi(),i=iq(),a=e(function(){n(1)});return t({target:"Object",stat:!0,forced:a,sham:!i},{getPrototypeOf:function(s){return n(r(s))}}),Ace}var fce={},hce;function $Fe(){if(hce)return fce;hce=1;var t=G(),e=qt(),r=ke(),n=Kt(),i=xn(),a=aA(),o=Xn(),s=Ve(),l=Object.groupBy,u=e("Object","create"),c=r([].push),A=!l||s(function(){return l("ab",function(d){return d}).a.length!==1});return t({target:"Object",stat:!0,forced:A},{groupBy:function(f,p){i(f),n(p);var g=u(null),m=0;return o(f,function(w){var b=a(p(w,m++));b in g?c(g[b],w):g[b]=[w]}),g}}),fce}var pce={},gce;function QFe(){if(gce)return pce;gce=1;var t=G(),e=or();return t({target:"Object",stat:!0},{hasOwn:e}),pce}var mce={},XD,vce;function yq(){return vce||(vce=1,XD=Object.is||function(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}),XD}var yce;function _xt(){if(yce)return mce;yce=1;var t=G(),e=yq();return t({target:"Object",stat:!0},{is:e}),mce}var wce={},bce;function Ext(){if(bce)return wce;bce=1;var t=G(),e=gq();return t({target:"Object",stat:!0,forced:Object.isExtensible!==e},{isExtensible:e}),wce}var Sce={},xce;function Ixt(){if(xce)return Sce;xce=1;var t=G(),e=Ve(),r=Vt(),n=Va(),i=pq(),a=Object.isFrozen,o=i||e(function(){});return t({target:"Object",stat:!0,forced:o},{isFrozen:function(l){return!r(l)||i&&n(l)==="ArrayBuffer"?!0:a?a(l):!1}}),Sce}var Cce={},_ce;function Bxt(){if(_ce)return Cce;_ce=1;var t=G(),e=Ve(),r=Vt(),n=Va(),i=pq(),a=Object.isSealed,o=i||e(function(){});return t({target:"Object",stat:!0,forced:o},{isSealed:function(l){return!r(l)||i&&n(l)==="ArrayBuffer"?!0:a?a(l):!1}}),Cce}var Ece={},Ice;function Pxt(){if(Ice)return Ece;Ice=1;var t=G(),e=Ar(),r=tm(),n=Ve(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),Ece}var Bce={},Pce;function Txt(){if(Pce)return Bce;Pce=1;var t=G(),e=Ft(),r=uI(),n=Ar(),i=aA(),a=Qi(),o=ya().f;return e&&t({target:"Object",proto:!0,forced:r},{__lookupGetter__:function(l){var u=n(this),c=i(l),A;do if(A=o(u,c))return A.get;while(u=a(u))}}),Bce}var Tce={},Oce;function Oxt(){if(Oce)return Tce;Oce=1;var t=G(),e=Ft(),r=uI(),n=Ar(),i=aA(),a=Qi(),o=ya().f;return e&&t({target:"Object",proto:!0,forced:r},{__lookupSetter__:function(l){var u=n(this),c=i(l),A;do if(A=o(u,c))return A.set;while(u=a(u))}}),Tce}var Rce={},Mce;function Rxt(){if(Mce)return Rce;Mce=1;var t=G(),e=Vt(),r=vh().onFreeze,n=Ud(),i=Ve(),a=Object.preventExtensions,o=i(function(){a(1)});return t({target:"Object",stat:!0,forced:o,sham:!n},{preventExtensions:function(l){return a&&e(l)?a(r(l)):l}}),Rce}var Fce={},kce;function Mxt(){if(kce)return Fce;kce=1;var t=Ft(),e=Fn(),r=Vt(),n=OMe(),i=Ar(),a=xn(),o=Object.getPrototypeOf,s=Object.setPrototypeOf,l=Object.prototype,u="__proto__";if(t&&o&&s&&!(u in l))try{e(l,u,{configurable:!0,get:function(){return o(i(this))},set:function(A){var d=a(this);n(A)&&r(d)&&s(d,A)}})}catch{}return Fce}var Uce={},Dce;function Fxt(){if(Dce)return Uce;Dce=1;var t=G(),e=Vt(),r=vh().onFreeze,n=Ud(),i=Ve(),a=Object.seal,o=i(function(){a(1)});return t({target:"Object",stat:!0,forced:o,sham:!n},{seal:function(l){return a&&e(l)?a(r(l)):l}}),Uce}var jce={},Lce;function kxt(){if(Lce)return jce;Lce=1;var t=G(),e=Vl();return t({target:"Object",stat:!0},{setPrototypeOf:e}),jce}var Nce={},JD,$ce;function Uxt(){if($ce)return JD;$ce=1;var t=S5(),e=Ho();return JD=t?{}.toString:function(){return"[object "+e(this)+"]"},JD}var Qce;function Dxt(){if(Qce)return Nce;Qce=1;var t=S5(),e=Vr(),r=Uxt();return t||e(Object.prototype,"toString",r,{unsafe:!0}),Nce}var Hce={},qce;function jxt(){if(qce)return Hce;qce=1;var t=G(),e=NFe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),Hce}var Kce={},zce;function Lxt(){if(zce)return Kce;zce=1;var t=G(),e=DFe();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),Kce}var Wce={},Gce;function Nxt(){if(Gce)return Wce;Gce=1;var t=G(),e=jFe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),Wce}var Vce={},Yce={},ZD,Xce;function cI(){if(Xce)return ZD;Xce=1;var t=tc(),e=lh(),r=TypeError;return ZD=function(n){if(t(n))return n;throw new r(e(n)+" is not a constructor")},ZD}var ej,Jce;function AI(){if(Jce)return ej;Jce=1;var t=At(),e=cI(),r=ji(),n=Lt(),i=n("species");return ej=function(a,o){var s=t(a).constructor,l;return s===void 0||r(l=t(s)[i])?o:e(l)},ej}var tj,Zce;function ol(){if(Zce)return tj;Zce=1;var t=TypeError;return tj=function(e,r){if(e<r)throw new t("Not enough arguments");return e},tj}var rj,eAe;function HFe(){if(eAe)return rj;eAe=1;var t=Xu();return rj=/(?:ipad|iphone|ipod).*applewebkit/i.test(t),rj}var nj,tAe;function dI(){if(tAe)return nj;tAe=1;var t=lt(),e=ho(),r=sn(),n=rr(),i=or(),a=Ve(),o=_Re(),s=bs(),l=BE(),u=ol(),c=HFe(),A=cm(),d=t.setImmediate,f=t.clearImmediate,p=t.process,g=t.Dispatch,m=t.Function,w=t.MessageChannel,b=t.String,C=0,S={},x="onreadystatechange",_,B,T,R;a(function(){_=t.location});var P=function(j){if(i(S,j)){var L=S[j];delete S[j],L()}},M=function(j){return function(){P(j)}},U=function(j){P(j.data)},F=function(j){t.postMessage(b(j),_.protocol+"//"+_.host)};return(!d||!f)&&(d=function(L){u(arguments.length,1);var $=n(L)?L:m(L),Q=s(arguments,1);return S[++C]=function(){e($,void 0,Q)},B(C),C},f=function(L){delete S[L]},A?B=function(j){p.nextTick(M(j))}:g&&g.now?B=function(j){g.now(M(j))}:w&&!c?(T=new w,R=T.port2,T.port1.onmessage=U,B=r(R.postMessage,R)):t.addEventListener&&n(t.postMessage)&&!t.importScripts&&_&&_.protocol!=="file:"&&!a(F)?(B=F,t.addEventListener("message",U,!1)):x in l("script")?B=function(j){o.appendChild(l("script"))[x]=function(){o.removeChild(this),P(j)}}:B=function(j){setTimeout(M(j),0)}),nj={set:d,clear:f},nj}var ij,rAe;function qFe(){if(rAe)return ij;rAe=1;var t=lt(),e=Ft(),r=Object.getOwnPropertyDescriptor;return ij=function(n){if(!e)return t[n];var i=r(t,n);return i&&i.value},ij}var aj,nAe;function KFe(){if(nAe)return aj;nAe=1;var t=function(){this.head=null,this.tail=null};return t.prototype={add:function(e){var r={item:e,next:null},n=this.tail;n?n.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e){var r=this.head=e.next;return r===null&&(this.tail=null),e.item}}},aj=t,aj}var oj,iAe;function $xt(){if(iAe)return oj;iAe=1;var t=Xu();return oj=/ipad|iphone|ipod/i.test(t)&&typeof Pebble<"u",oj}var sj,aAe;function Qxt(){if(aAe)return sj;aAe=1;var t=Xu();return sj=/web0s(?!.*chrome)/i.test(t),sj}var lj,oAe;function zFe(){if(oAe)return lj;oAe=1;var t=lt(),e=qFe(),r=sn(),n=dI().set,i=KFe(),a=HFe(),o=$xt(),s=Qxt(),l=cm(),u=t.MutationObserver||t.WebKitMutationObserver,c=t.document,A=t.process,d=t.Promise,f=e("queueMicrotask"),p,g,m,w,b;if(!f){var C=new i,S=function(){var x,_;for(l&&(x=A.domain)&&x.exit();_=C.get();)try{_()}catch(B){throw C.head&&p(),B}x&&x.enter()};!a&&!l&&!s&&u&&c?(g=!0,m=c.createTextNode(""),new u(S).observe(m,{characterData:!0}),p=function(){m.data=g=!g}):!o&&d&&d.resolve?(w=d.resolve(void 0),w.constructor=d,b=r(w.then,w),p=function(){b(S)}):l?p=function(){A.nextTick(S)}:(n=r(n,t),p=function(){n(S)}),f=function(x){C.head||p(),C.add(x)}}return lj=f,lj}var uj,sAe;function WFe(){return sAe||(sAe=1,uj=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}}),uj}var cj,lAe;function yh(){return lAe||(lAe=1,cj=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}),cj}var Aj,uAe;function fm(){if(uAe)return Aj;uAe=1;var t=lt();return Aj=t.Promise,Aj}var dj,cAe;function Bb(){if(cAe)return dj;cAe=1;var t=lt(),e=fm(),r=rr(),n=fb(),i=PE(),a=Lt(),o=tI(),s=cr(),l=Ju(),u=e&&e.prototype,c=a("species"),A=!1,d=r(t.PromiseRejectionEvent),f=n("Promise",function(){var p=i(e),g=p!==String(e);if(!g&&l===66||s&&!(u.catch&&u.finally))return!0;if(!l||l<51||!/native code/.test(p)){var m=new e(function(C){C(1)}),w=function(C){C(function(){},function(){})},b=m.constructor={};if(b[c]=w,A=m.then(function(){})instanceof w,!A)return!0}return!g&&(o==="BROWSER"||o==="DENO")&&!d});return dj={CONSTRUCTOR:f,REJECTION_EVENT:d,SUBCLASSING:A},dj}var fj={},AAe;function lA(){if(AAe)return fj;AAe=1;var t=Kt(),e=TypeError,r=function(n){var i,a;this.promise=new n(function(o,s){if(i!==void 0||a!==void 0)throw new e("Bad Promise constructor");i=o,a=s}),this.resolve=t(i),this.reject=t(a)};return fj.f=function(n){return new r(n)},fj}var dAe;function Hxt(){if(dAe)return Yce;dAe=1;var t=G(),e=cr(),r=cm(),n=lt(),i=ft(),a=Vr(),o=Vl(),s=Ko(),l=gh(),u=Kt(),c=rr(),A=Vt(),d=go(),f=AI(),p=dI().set,g=zFe(),m=WFe(),w=yh(),b=KFe(),C=Qr(),S=fm(),x=Bb(),_=lA(),B="Promise",T=x.CONSTRUCTOR,R=x.REJECTION_EVENT,P=x.SUBCLASSING,M=C.getterFor(B),U=C.set,F=S&&S.prototype,j=S,L=F,$=n.TypeError,Q=n.document,H=n.process,q=_.f,Y=q,z=!!(Q&&Q.createEvent&&n.dispatchEvent),V="unhandledrejection",X="rejectionhandled",ee=0,J=1,le=2,de=1,oe=2,re,se,he,ae,Ee=function(Be){var tt;return A(Be)&&c(tt=Be.then)?tt:!1},Oe=function(Be,tt){var ct=tt.value,ot=tt.state===J,$e=ot?Be.ok:Be.fail,kt=Be.resolve,Nt=Be.reject,Z=Be.domain,ie,me,Te;try{$e?(ot||(tt.rejection===oe&&ut(tt),tt.rejection=de),$e===!0?ie=ct:(Z&&Z.enter(),ie=$e(ct),Z&&(Z.exit(),Te=!0)),ie===Be.promise?Nt(new $("Promise-chain cycle")):(me=Ee(ie))?i(me,ie,kt,Nt):kt(ie)):Nt(ct)}catch(qe){Z&&!Te&&Z.exit(),Nt(qe)}},Ne=function(Be,tt){Be.notified||(Be.notified=!0,g(function(){for(var ct=Be.reactions,ot;ot=ct.get();)Oe(ot,Be);Be.notified=!1,tt&&!Be.rejection&&Le(Be)}))},De=function(Be,tt,ct){var ot,$e;z?(ot=Q.createEvent("Event"),ot.promise=tt,ot.reason=ct,ot.initEvent(Be,!1,!0),n.dispatchEvent(ot)):ot={promise:tt,reason:ct},!R&&($e=n["on"+Be])?$e(ot):Be===V&&m("Unhandled promise rejection",ct)},Le=function(Be){i(p,n,function(){var tt=Be.facade,ct=Be.value,ot=st(Be),$e;if(ot&&($e=w(function(){r?H.emit("unhandledRejection",ct,tt):De(V,tt,ct)}),Be.rejection=r||st(Be)?oe:de,$e.error))throw $e.value})},st=function(Be){return Be.rejection!==de&&!Be.parent},ut=function(Be){i(p,n,function(){var tt=Be.facade;r?H.emit("rejectionHandled",tt):De(X,tt,Be.value)})},it=function(Be,tt,ct){return function(ot){Be(tt,ot,ct)}},Ie=function(Be,tt,ct){Be.done||(Be.done=!0,ct&&(Be=ct),Be.value=tt,Be.state=le,Ne(Be,!0))},be=function(Be,tt,ct){if(!Be.done){Be.done=!0,ct&&(Be=ct);try{if(Be.facade===tt)throw new $("Promise can't be resolved itself");var ot=Ee(tt);ot?g(function(){var $e={done:!1};try{i(ot,tt,it(be,$e,Be),it(Ie,$e,Be))}catch(kt){Ie($e,kt,Be)}}):(Be.value=tt,Be.state=J,Ne(Be,!1))}catch($e){Ie({done:!1},$e,Be)}}};if(T&&(j=function(tt){d(this,L),u(tt),i(re,this);var ct=M(this);try{tt(it(be,ct),it(Ie,ct))}catch(ot){Ie(ct,ot)}},L=j.prototype,re=function(tt){U(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new b,rejection:!1,state:ee,value:null})},re.prototype=a(L,"then",function(tt,ct){var ot=M(this),$e=q(f(this,j));return ot.parent=!0,$e.ok=c(tt)?tt:!0,$e.fail=c(ct)&&ct,$e.domain=r?H.domain:void 0,ot.state===ee?ot.reactions.add($e):g(function(){Oe($e,ot)}),$e.promise}),se=function(){var Be=new re,tt=M(Be);this.promise=Be,this.resolve=it(be,tt),this.reject=it(Ie,tt)},_.f=q=function(Be){return Be===j||Be===he?new se(Be):Y(Be)},!e&&c(S)&&F!==Object.prototype)){ae=F.then,P||a(F,"then",function(tt,ct){var ot=this;return new j(function($e,kt){i(ae,ot,$e,kt)}).then(tt,ct)},{unsafe:!0});try{delete F.constructor}catch{}o&&o(F,L)}return t({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:j}),s(j,B,!1,!0),l(B),Yce}var fAe={},hj,hAe;function fI(){if(hAe)return hj;hAe=1;var t=fm(),e=JE(),r=Bb().CONSTRUCTOR;return hj=r||!e(function(n){t.all(n).then(void 0,function(){})}),hj}var pAe;function qxt(){if(pAe)return fAe;pAe=1;var t=G(),e=ft(),r=Kt(),n=lA(),i=yh(),a=Xn(),o=fI();return t({target:"Promise",stat:!0,forced:o},{all:function(l){var u=this,c=n.f(u),A=c.resolve,d=c.reject,f=i(function(){var p=r(u.resolve),g=[],m=0,w=1;a(l,function(b){var C=m++,S=!1;w++,e(p,u,b).then(function(x){S||(S=!0,g[C]=x,--w||A(g))},d)}),--w||A(g)});return f.error&&d(f.value),c.promise}}),fAe}var gAe={},mAe;function Kxt(){if(mAe)return gAe;mAe=1;var t=G(),e=cr(),r=Bb().CONSTRUCTOR,n=fm(),i=qt(),a=rr(),o=Vr(),s=n&&n.prototype;if(t({target:"Promise",proto:!0,forced:r,real:!0},{catch:function(u){return this.then(void 0,u)}}),!e&&a(n)){var l=i("Promise").prototype.catch;s.catch!==l&&o(s,"catch",l,{unsafe:!0})}return gAe}var vAe={},yAe;function zxt(){if(yAe)return vAe;yAe=1;var t=G(),e=ft(),r=Kt(),n=lA(),i=yh(),a=Xn(),o=fI();return t({target:"Promise",stat:!0,forced:o},{race:function(l){var u=this,c=n.f(u),A=c.reject,d=i(function(){var f=r(u.resolve);a(l,function(p){e(f,u,p).then(c.resolve,A)})});return d.error&&A(d.value),c.promise}}),vAe}var wAe={},bAe;function Wxt(){if(bAe)return wAe;bAe=1;var t=G(),e=lA(),r=Bb().CONSTRUCTOR;return t({target:"Promise",stat:!0,forced:r},{reject:function(i){var a=e.f(this),o=a.reject;return o(i),a.promise}}),wAe}var SAe={},pj,xAe;function GFe(){if(xAe)return pj;xAe=1;var t=At(),e=Vt(),r=lA();return pj=function(n,i){if(t(n),e(i)&&i.constructor===n)return i;var a=r.f(n),o=a.resolve;return o(i),a.promise},pj}var CAe;function Gxt(){if(CAe)return SAe;CAe=1;var t=G(),e=qt(),r=cr(),n=fm(),i=Bb().CONSTRUCTOR,a=GFe(),o=e("Promise"),s=r&&!i;return t({target:"Promise",stat:!0,forced:r||i},{resolve:function(u){return a(s&&this===o?n:this,u)}}),SAe}var _Ae;function Vxt(){return _Ae||(_Ae=1,Hxt(),qxt(),Kxt(),zxt(),Wxt(),Gxt()),Vce}var EAe={},IAe;function VFe(){if(IAe)return EAe;IAe=1;var t=G(),e=ft(),r=Kt(),n=lA(),i=yh(),a=Xn(),o=fI();return t({target:"Promise",stat:!0,forced:o},{allSettled:function(l){var u=this,c=n.f(u),A=c.resolve,d=c.reject,f=i(function(){var p=r(u.resolve),g=[],m=0,w=1;a(l,function(b){var C=m++,S=!1;w++,e(p,u,b).then(function(x){S||(S=!0,g[C]={status:"fulfilled",value:x},--w||A(g))},function(x){S||(S=!0,g[C]={status:"rejected",reason:x},--w||A(g))})}),--w||A(g)});return f.error&&d(f.value),c.promise}}),EAe}var BAe={},PAe;function YFe(){if(PAe)return BAe;PAe=1;var t=G(),e=ft(),r=Kt(),n=qt(),i=lA(),a=yh(),o=Xn(),s=fI(),l="No one promise resolved";return t({target:"Promise",stat:!0,forced:s},{any:function(c){var A=this,d=n("AggregateError"),f=i.f(A),p=f.resolve,g=f.reject,m=a(function(){var w=r(A.resolve),b=[],C=0,S=1,x=!1;o(c,function(_){var B=C++,T=!1;S++,e(w,A,_).then(function(R){T||x||(x=!0,p(R))},function(R){T||x||(T=!0,b[B]=R,--S||g(new d(b,l)))})}),--S||g(new d(b,l))});return m.error&&g(m.value),f.promise}}),BAe}var TAe={},OAe;function Yxt(){if(OAe)return TAe;OAe=1;var t=G(),e=cr(),r=fm(),n=Ve(),i=qt(),a=rr(),o=AI(),s=GFe(),l=Vr(),u=r&&r.prototype,c=!!r&&n(function(){u.finally.call({then:function(){}},function(){})});if(t({target:"Promise",proto:!0,real:!0,forced:c},{finally:function(d){var f=o(this,i("Promise")),p=a(d);return this.then(p?function(g){return s(f,d()).then(function(){return g})}:d,p?function(g){return s(f,d()).then(function(){throw g})}:d)}}),!e&&a(r)){var A=i("Promise").prototype.finally;u.finally!==A&&l(u,"finally",A,{unsafe:!0})}return TAe}var RAe={},MAe;function XFe(){if(MAe)return RAe;MAe=1;var t=G(),e=lt(),r=ho(),n=bs(),i=lA(),a=Kt(),o=yh(),s=e.Promise,l=!1,u=!s||!s.try||o(function(){s.try(function(c){l=c===8},8)}).error||!l;return t({target:"Promise",stat:!0,forced:u},{try:function(c){var A=arguments.length>1?n(arguments,1):[],d=i.f(this),f=o(function(){return r(a(c),void 0,A)});return(f.error?d.reject:d.resolve)(f.value),d.promise}}),RAe}var FAe={},kAe;function JFe(){if(kAe)return FAe;kAe=1;var t=G(),e=lA();return t({target:"Promise",stat:!0},{withResolvers:function(){var n=e.f(this);return{promise:n.promise,resolve:n.resolve,reject:n.reject}}}),FAe}var UAe={},DAe;function Xxt(){if(DAe)return UAe;DAe=1;var t=G(),e=ho(),r=Kt(),n=At(),i=Ve(),a=!i(function(){Reflect.apply(function(){})});return t({target:"Reflect",stat:!0,forced:a},{apply:function(s,l,u){return e(r(s),l,n(u))}}),UAe}var jAe={},LAe;function Jxt(){if(LAe)return jAe;LAe=1;var t=G(),e=qt(),r=ho(),n=hFe(),i=cI(),a=At(),o=Vt(),s=wi(),l=Ve(),u=e("Reflect","construct"),c=Object.prototype,A=[].push,d=l(function(){function g(){}return!(u(function(){},[],g)instanceof g)}),f=!l(function(){u(function(){})}),p=d||f;return t({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(m,w){i(m),a(w);var b=arguments.length<3?m:i(arguments[2]);if(f&&!d)return u(m,w,b);if(m===b){switch(w.length){case 0:return new m;case 1:return new m(w[0]);case 2:return new m(w[0],w[1]);case 3:return new m(w[0],w[1],w[2]);case 4:return new m(w[0],w[1],w[2],w[3])}var C=[null];return r(A,C,w),new(r(n,m,C))}var S=b.prototype,x=s(o(S)?S:c),_=r(m,x,w);return o(_)?_:x}}),jAe}var NAe={},$Ae;function Zxt(){if($Ae)return NAe;$Ae=1;var t=G(),e=Ft(),r=At(),n=aA(),i=fn(),a=Ve(),o=a(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})});return t({target:"Reflect",stat:!0,forced:o,sham:!e},{defineProperty:function(l,u,c){r(l);var A=n(u);r(c);try{return i.f(l,A,c),!0}catch{return!1}}}),NAe}var QAe={},HAe;function e1t(){if(HAe)return QAe;HAe=1;var t=G(),e=At(),r=ya().f;return t({target:"Reflect",stat:!0},{deleteProperty:function(i,a){var o=r(e(i),a);return o&&!o.configurable?!1:delete i[a]}}),QAe}var qAe={},gj,KAe;function ZFe(){if(KAe)return gj;KAe=1;var t=or();return gj=function(e){return e!==void 0&&(t(e,"value")||t(e,"writable"))},gj}var zAe;function t1t(){if(zAe)return qAe;zAe=1;var t=G(),e=ft(),r=Vt(),n=At(),i=ZFe(),a=ya(),o=Qi();function s(l,u){var c=arguments.length<3?l:arguments[2],A,d;if(n(l)===c)return l[u];if(A=a.f(l,u),A)return i(A)?A.value:A.get===void 0?void 0:e(A.get,c);if(r(d=o(l)))return s(d,u,c)}return t({target:"Reflect",stat:!0},{get:s}),qAe}var WAe={},GAe;function r1t(){if(GAe)return WAe;GAe=1;var t=G(),e=Ft(),r=At(),n=ya();return t({target:"Reflect",stat:!0,sham:!e},{getOwnPropertyDescriptor:function(a,o){return n.f(r(a),o)}}),WAe}var VAe={},YAe;function n1t(){if(YAe)return VAe;YAe=1;var t=G(),e=At(),r=Qi(),n=iq();return t({target:"Reflect",stat:!0,sham:!n},{getPrototypeOf:function(a){return r(e(a))}}),VAe}var XAe={},JAe;function i1t(){if(JAe)return XAe;JAe=1;var t=G();return t({target:"Reflect",stat:!0},{has:function(r,n){return n in r}}),XAe}var ZAe={},ede;function a1t(){if(ede)return ZAe;ede=1;var t=G(),e=At(),r=gq();return t({target:"Reflect",stat:!0},{isExtensible:function(i){return e(i),r(i)}}),ZAe}var tde={},rde;function o1t(){if(rde)return tde;rde=1;var t=G(),e=y5();return t({target:"Reflect",stat:!0},{ownKeys:e}),tde}var nde={},ide;function s1t(){if(ide)return nde;ide=1;var t=G(),e=qt(),r=At(),n=Ud();return t({target:"Reflect",stat:!0,sham:!n},{preventExtensions:function(a){r(a);try{var o=e("Object","preventExtensions");return o&&o(a),!0}catch{return!1}}}),nde}var ade={},ode;function l1t(){if(ode)return ade;ode=1;var t=G(),e=ft(),r=At(),n=Vt(),i=ZFe(),a=Ve(),o=fn(),s=ya(),l=Qi(),u=vs();function c(d,f,p){var g=arguments.length<4?d:arguments[3],m=s.f(r(d),f),w,b,C;if(!m){if(n(b=l(d)))return c(b,f,p,g);m=u(0)}if(i(m)){if(m.writable===!1||!n(g))return!1;if(w=s.f(g,f)){if(w.get||w.set||w.writable===!1)return!1;w.value=p,o.f(g,f,w)}else o.f(g,f,u(0,p))}else{if(C=m.set,C===void 0)return!1;e(C,g,p)}return!0}var A=a(function(){var d=function(){},f=o.f(new d,"a",{configurable:!0});return Reflect.set(d.prototype,"a",1,f)!==!1});return t({target:"Reflect",stat:!0,forced:A},{set:c}),ade}var sde={},lde;function u1t(){if(lde)return sde;lde=1;var t=G(),e=At(),r=RMe(),n=Vl();return n&&t({target:"Reflect",stat:!0},{setPrototypeOf:function(a,o){e(a),r(o);try{return n(a,o),!0}catch{return!1}}}),sde}var ude={},cde;function c1t(){if(cde)return ude;cde=1;var t=G(),e=lt(),r=Ko();return t({global:!0},{Reflect:{}}),r(e.Reflect,"Reflect",!0),ude}var Ade={},dde;function A1t(){if(dde)return Ade;dde=1;var t=Ft(),e=lt(),r=ke(),n=fb(),i=fh(),a=Ni(),o=wi(),s=ch().f,l=Ya(),u=DE(),c=Xt(),A=mb(),d=ME(),f=MMe(),p=Vr(),g=Ve(),m=or(),w=Qr().enforce,b=gh(),C=Lt(),S=C5(),x=RRe(),_=C("match"),B=e.RegExp,T=B.prototype,R=e.SyntaxError,P=r(T.exec),M=r("".charAt),U=r("".replace),F=r("".indexOf),j=r("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,$=/a/g,Q=/a/g,H=new B($)!==$,q=d.MISSED_STICKY,Y=d.UNSUPPORTED_Y,z=t&&(!H||q||S||x||g(function(){return Q[_]=!1,B($)!==$||B(Q)===Q||String(B($,"i"))!=="/a/i"})),V=function(de){for(var oe=de.length,re=0,se="",he=!1,ae;re<=oe;re++){if(ae=M(de,re),ae==="\\"){se+=ae+M(de,++re);continue}!he&&ae==="."?se+="[\\s\\S]":(ae==="["?he=!0:ae==="]"&&(he=!1),se+=ae)}return se},X=function(de){for(var oe=de.length,re=0,se="",he=[],ae=o(null),Ee=!1,Oe=!1,Ne=0,De="",Le;re<=oe;re++){if(Le=M(de,re),Le==="\\")Le+=M(de,++re);else if(Le==="]")Ee=!1;else if(!Ee)switch(!0){case Le==="[":Ee=!0;break;case Le==="(":if(se+=Le,j(de,re+1,re+3)==="?:")continue;P(L,j(de,re+1))&&(re+=2,Oe=!0),Ne++;continue;case(Le===">"&&Oe):if(De===""||m(ae,De))throw new R("Invalid capture group name");ae[De]=!0,he[he.length]=[De,Ne],Oe=!1,De="";continue}Oe?De+=Le:se+=Le}return[se,he]};if(n("RegExp",z)){for(var ee=function(oe,re){var se=l(T,this),he=u(oe),ae=re===void 0,Ee=[],Oe=oe,Ne,De,Le,st,ut,it;if(!se&&he&&ae&&oe.constructor===ee)return oe;if((he||l(T,oe))&&(oe=oe.source,ae&&(re=A(Oe))),oe=oe===void 0?"":c(oe),re=re===void 0?"":c(re),Oe=oe,S&&"dotAll"in $&&(De=!!re&&F(re,"s")>-1,De&&(re=U(re,/s/g,""))),Ne=re,q&&"sticky"in $&&(Le=!!re&&F(re,"y")>-1,Le&&Y&&(re=U(re,/y/g,""))),x&&(st=X(oe),oe=st[0],Ee=st[1]),ut=i(B(oe,re),se?this:T,ee),(De||Le||Ee.length)&&(it=w(ut),De&&(it.dotAll=!0,it.raw=ee(V(oe),Ne)),Le&&(it.sticky=!0),Ee.length&&(it.groups=Ee)),oe!==Oe)try{a(ut,"source",Oe===""?"(?:)":Oe)}catch{}return ut},J=s(B),le=0;J.length>le;)f(ee,B,J[le++]);T.constructor=ee,ee.prototype=T,p(e,"RegExp",ee,{constructor:!0})}return b("RegExp"),Ade}var fde={},mj,hde;function hI(){if(hde)return mj;hde=1;var t=TypeError;return mj=function(e){if(typeof e=="string")return e;throw new t("Argument is not a string")},mj}var pde;function eke(){if(pde)return fde;pde=1;var t=G(),e=ke(),r=hI(),n=or(),i=aI().start,a=Am(),o=Array,s=RegExp.escape,l=e("".charAt),u=e("".charCodeAt),c=e(1.1.toString),A=e([].join),d=/^[0-9a-z]/i,f=/^[$()*+./?[\\\]^{|}]/,p=RegExp("^[!\"#%&',\\-:;<=>@`~"+a+"]"),g=e(d.exec),m={"	":"t","\n":"n","\v":"v","\f":"f","\r":"r"},w=function(C){var S=c(u(C,0),16);return S.length<3?"\\x"+i(S,2,"0"):"\\u"+i(S,4,"0")},b=!s||s("ab")!=="\\x61b";return t({target:"RegExp",stat:!0,forced:b},{escape:function(S){r(S);for(var x=S.length,_=o(x),B=0;B<x;B++){var T=l(S,B);if(B===0&&g(d,T))_[B]=w(T);else if(n(m,T))_[B]="\\"+m[T];else if(g(f,T))_[B]="\\"+T;else if(g(p,T))_[B]=w(T);else{var R=u(T,0);(R&63488)!==55296?_[B]=T:R>=56320||B+1>=x||(u(S,B+1)&64512)!==56320?_[B]=w(T):(_[B]=T,_[++B]=l(S,B))}}return A(_,"")}}),fde}var gde={},mde;function d1t(){if(mde)return gde;mde=1;var t=Ft(),e=C5(),r=Va(),n=Fn(),i=Qr().get,a=RegExp.prototype,o=TypeError;return t&&e&&n(a,"dotAll",{configurable:!0,get:function(){if(this!==a){if(r(this)==="RegExp")return!!i(this).dotAll;throw new o("Incompatible receiver, RegExp required")}}}),gde}var vde={},yde;function f1t(){if(yde)return vde;yde=1;var t=lt(),e=Ft(),r=Fn(),n=x5(),i=Ve(),a=t.RegExp,o=a.prototype,s=e&&i(function(){var l=!0;try{a(".","d")}catch{l=!1}var u={},c="",A=l?"dgimsy":"gimsy",d=function(m,w){Object.defineProperty(u,m,{get:function(){return c+=w,!0}})},f={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};l&&(f.hasIndices="d");for(var p in f)d(p,f[p]);var g=Object.getOwnPropertyDescriptor(o,"flags").get.call(u);return g!==A||c!==A});return s&&r(o,"flags",{configurable:!0,get:n}),vde}var wde={},bde;function h1t(){if(bde)return wde;bde=1;var t=Ft(),e=ME().MISSED_STICKY,r=Va(),n=Fn(),i=Qr().get,a=RegExp.prototype,o=TypeError;return t&&e&&n(a,"sticky",{configurable:!0,get:function(){if(this!==a){if(r(this)==="RegExp")return!!i(this).sticky;throw new o("Incompatible receiver, RegExp required")}}}),wde}var Sde={},xde;function p1t(){if(xde)return Sde;xde=1,FE();var t=G(),e=ft(),r=rr(),n=At(),i=Xt(),a=function(){var s=!1,l=/[ac]/;return l.exec=function(){return s=!0,/./.exec.apply(this,arguments)},l.test("abc")===!0&&s}(),o=/./.test;return t({target:"RegExp",proto:!0,forced:!a},{test:function(s){var l=n(this),u=i(s),c=l.exec;if(!r(c))return e(o,l,u);var A=e(c,l,u);return A===null?!1:(n(A),!0)}}),Sde}var Cde={},_de;function g1t(){if(_de)return Cde;_de=1;var t=Zg().PROPER,e=Vr(),r=At(),n=Xt(),i=Ve(),a=mb(),o="toString",s=RegExp.prototype,l=s[o],u=i(function(){return l.call({source:"a",flags:"b"})!=="/a/b"}),c=t&&l.name!==o;return(u||c)&&e(s,o,function(){var d=r(this),f=n(d.source),p=n(a(d));return"/"+f+"/"+p},{unsafe:!0}),Cde}var Ede={},Ide={},Bde;function m1t(){if(Bde)return Ide;Bde=1;var t=oI(),e=OFe();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Ide}var Pde;function v1t(){return Pde||(Pde=1,m1t()),Ede}var Tde={},vj,Ode;function Sa(){if(Ode)return vj;Ode=1;var t=ke(),e=Set.prototype;return vj={Set,add:t(e.add),has:t(e.has),remove:t(e.delete),proto:e},vj}var yj,Rde;function Xa(){if(Rde)return yj;Rde=1;var t=Sa().has;return yj=function(e){return t(e),e},yj}var wj,Mde;function Dd(){if(Mde)return wj;Mde=1;var t=ft();return wj=function(e,r,n){for(var i=n?e:e.iterator,a=e.next,o,s;!(o=t(a,i)).done;)if(s=r(o.value),s!==void 0)return s},wj}var bj,Fde;function Ss(){if(Fde)return bj;Fde=1;var t=ke(),e=Dd(),r=Sa(),n=r.Set,i=r.proto,a=t(i.forEach),o=t(i.keys),s=o(new n).next;return bj=function(l,u,c){return c?e({iterator:o(l),next:s},u):a(l,u)},bj}var Sj,kde;function wq(){if(kde)return Sj;kde=1;var t=Sa(),e=Ss(),r=t.Set,n=t.add;return Sj=function(i){var a=new r;return e(i,function(o){n(a,o)}),a},Sj}var xj,Ude;function Pb(){if(Ude)return xj;Ude=1;var t=VE(),e=Sa();return xj=t(e.proto,"size","get")||function(r){return r.size},xj}var Cj,Dde;function wh(){if(Dde)return Cj;Dde=1;var t=Kt(),e=At(),r=ft(),n=Mn(),i=Hn(),a="Invalid size",o=RangeError,s=TypeError,l=Math.max,u=function(c,A){this.set=c,this.size=l(A,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},Cj=function(c){e(c);var A=+c.size;if(A!==A)throw new s(a);var d=n(A);if(d<0)throw new o(a);return new u(c,d)},Cj}var _j,jde;function tke(){if(jde)return _j;jde=1;var t=Xa(),e=Sa(),r=wq(),n=Pb(),i=wh(),a=Ss(),o=Dd(),s=e.has,l=e.remove;return _j=function(c){var A=t(this),d=i(c),f=r(A);return n(A)<=d.size?a(A,function(p){d.includes(p)&&l(f,p)}):o(d.getIterator(),function(p){s(A,p)&&l(f,p)}),f},_j}var Ej,Lde;function bh(){if(Lde)return Ej;Lde=1;var t=qt(),e=function(n){return{size:n,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},r=function(n){return{size:n,has:function(){return!0},keys:function(){throw new Error("e")}}};return Ej=function(n,i){var a=t("Set");try{new a()[n](e(0));try{return new a()[n](e(-1)),!1}catch{if(!i)return!0;try{return new a()[n](r(-1/0)),!1}catch{var o=new a;return o.add(1),o.add(2),i(o[n](r(1/0)))}}}catch{return!1}},Ej}var Nde;function rke(){if(Nde)return Tde;Nde=1;var t=G(),e=tke(),r=bh(),n=!r("difference",function(i){return i.size===0});return t({target:"Set",proto:!0,real:!0,forced:n},{difference:e}),Tde}var $de={},Ij,Qde;function nke(){if(Qde)return Ij;Qde=1;var t=Xa(),e=Sa(),r=Pb(),n=wh(),i=Ss(),a=Dd(),o=e.Set,s=e.add,l=e.has;return Ij=function(c){var A=t(this),d=n(c),f=new o;return r(A)>d.size?a(d.getIterator(),function(p){l(A,p)&&s(f,p)}):i(A,function(p){d.includes(p)&&s(f,p)}),f},Ij}var Hde;function ike(){if(Hde)return $de;Hde=1;var t=G(),e=Ve(),r=nke(),n=bh(),i=!n("intersection",function(a){return a.size===2&&a.has(1)&&a.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),$de}var qde={},Bj,Kde;function ake(){if(Kde)return Bj;Kde=1;var t=Xa(),e=Sa().has,r=Pb(),n=wh(),i=Ss(),a=Dd(),o=Fd();return Bj=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(d){if(c.includes(d))return!1},!0)!==!1;var A=c.getIterator();return a(A,function(d){if(e(u,d))return o(A,"normal",!1)})!==!1},Bj}var zde;function oke(){if(zde)return qde;zde=1;var t=G(),e=ake(),r=bh(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),qde}var Wde={},Pj,Gde;function ske(){if(Gde)return Pj;Gde=1;var t=Xa(),e=Pb(),r=Ss(),n=wh();return Pj=function(a){var o=t(this),s=n(a);return e(o)>s.size?!1:r(o,function(l){if(!s.includes(l))return!1},!0)!==!1},Pj}var Vde;function lke(){if(Vde)return Wde;Vde=1;var t=G(),e=ske(),r=bh(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),Wde}var Yde={},Tj,Xde;function uke(){if(Xde)return Tj;Xde=1;var t=Xa(),e=Sa().has,r=Pb(),n=wh(),i=Dd(),a=Fd();return Tj=function(s){var l=t(this),u=n(s);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(A){if(!e(l,A))return a(c,"normal",!1)})!==!1},Tj}var Jde;function cke(){if(Jde)return Yde;Jde=1;var t=G(),e=uke(),r=bh(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),Yde}var Zde={},Oj,efe;function Ake(){if(efe)return Oj;efe=1;var t=Xa(),e=Sa(),r=wq(),n=wh(),i=Dd(),a=e.add,o=e.has,s=e.remove;return Oj=function(u){var c=t(this),A=n(u).getIterator(),d=r(c);return i(A,function(f){o(c,f)?s(d,f):a(d,f)}),d},Oj}var tfe;function dke(){if(tfe)return Zde;tfe=1;var t=G(),e=Ake(),r=bh();return t({target:"Set",proto:!0,real:!0,forced:!r("symmetricDifference")},{symmetricDifference:e}),Zde}var rfe={},Rj,nfe;function fke(){if(nfe)return Rj;nfe=1;var t=Xa(),e=Sa().add,r=wq(),n=wh(),i=Dd();return Rj=function(o){var s=t(this),l=n(o).getIterator(),u=r(s);return i(l,function(c){e(u,c)}),u},Rj}var ife;function hke(){if(ife)return rfe;ife=1;var t=G(),e=fke(),r=bh();return t({target:"Set",proto:!0,real:!0,forced:!r("union")},{union:e}),rfe}var afe={},ofe;function y1t(){if(ofe)return afe;ofe=1;var t=G(),e=rm().codeAt;return t({target:"String",proto:!0},{codePointAt:function(n){return e(this,n)}}),afe}var sfe={},Mj,lfe;function bq(){if(lfe)return Mj;lfe=1;var t=DE(),e=TypeError;return Mj=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},Mj}var Fj,ufe;function Sq(){if(ufe)return Fj;ufe=1;var t=Lt(),e=t("match");return Fj=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},Fj}var cfe;function w1t(){if(cfe)return sfe;cfe=1;var t=G(),e=dh(),r=ya().f,n=ys(),i=Xt(),a=bq(),o=xn(),s=Sq(),l=cr(),u=e("".slice),c=Math.min,A=s("endsWith"),d=!l&&!A&&!!function(){var f=r(String.prototype,"endsWith");return f&&!f.writable}();return t({target:"String",proto:!0,forced:!d&&!A},{endsWith:function(p){var g=i(o(this));a(p);var m=arguments.length>1?arguments[1]:void 0,w=g.length,b=m===void 0?w:c(n(m),w),C=i(p);return u(g,b-C.length,b)===C}}),sfe}var Afe={},dfe;function pke(){if(dfe)return Afe;dfe=1;var t=G(),e=ke(),r=Zu(),n=RangeError,i=String.fromCharCode,a=String.fromCodePoint,o=e([].join),s=!!a&&a.length!==1;return t({target:"String",stat:!0,arity:1,forced:s},{fromCodePoint:function(u){for(var c=[],A=arguments.length,d=0,f;A>d;){if(f=+arguments[d++],r(f,1114111)!==f)throw new n(f+" is not a valid code point");c[d]=f<65536?i(f):i(((f-=65536)>>10)+55296,f%1024+56320)}return o(c,"")}}),Afe}var ffe={},hfe;function b1t(){if(hfe)return ffe;hfe=1;var t=G(),e=ke(),r=bq(),n=xn(),i=Xt(),a=Sq(),o=e("".indexOf);return t({target:"String",proto:!0,forced:!a("includes")},{includes:function(l){return!!~o(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),ffe}var pfe={},gfe;function gke(){if(gfe)return pfe;gfe=1;var t=G(),e=ke(),r=xn(),n=Xt(),i=e("".charCodeAt);return t({target:"String",proto:!0},{isWellFormed:function(){for(var o=n(r(this)),s=o.length,l=0;l<s;l++){var u=i(o,l);if((u&63488)===55296&&(u>=56320||++l>=s||(i(o,l)&64512)!==56320))return!1}return!0}}),pfe}var mfe={},vfe;function mke(){if(vfe)return mfe;vfe=1;var t=rm().charAt,e=Xt(),r=Qr(),n=lq(),i=ta(),a="String Iterator",o=r.set,s=r.getterFor(a);return n(String,"String",function(l){o(this,{type:a,string:e(l),index:0})},function(){var u=s(this),c=u.string,A=u.index,d;return A>=c.length?i(void 0,!0):(d=t(c,A),u.index+=d.length,i(d,!1))}),mfe}var yfe={},wfe;function S1t(){if(wfe)return yfe;wfe=1;var t=ft(),e=kE(),r=At(),n=ji(),i=ys(),a=Xt(),o=xn(),s=yi(),l=UE(),u=gb();return e("match",function(c,A,d){return[function(p){var g=o(this),m=n(p)?void 0:s(p,c);return m?t(m,p,g):new RegExp(p)[c](a(g))},function(f){var p=r(this),g=a(f),m=d(A,p,g);if(m.done)return m.value;if(!p.global)return u(p,g);var w=p.unicode;p.lastIndex=0;for(var b=[],C=0,S;(S=u(p,g))!==null;){var x=a(S[0]);b[C]=x,x===""&&(p.lastIndex=l(g,i(p.lastIndex),w)),C++}return C===0?null:b}]}),yfe}var bfe={},Sfe;function vke(){if(Sfe)return bfe;Sfe=1;var t=G(),e=ft(),r=dh(),n=ph(),i=ta(),a=xn(),o=ys(),s=Xt(),l=At(),u=ji(),c=Va(),A=DE(),d=mb(),f=yi(),p=Vr(),g=Ve(),m=Lt(),w=AI(),b=UE(),C=gb(),S=Qr(),x=cr(),_=m("matchAll"),B="RegExp String",T=B+" Iterator",R=S.set,P=S.getterFor(T),M=RegExp.prototype,U=TypeError,F=r("".indexOf),j=r("".matchAll),L=!!j&&!g(function(){j("a",/./)}),$=n(function(q,Y,z,V){R(this,{type:T,regexp:q,string:Y,global:z,unicode:V,done:!1})},B,function(){var q=P(this);if(q.done)return i(void 0,!0);var Y=q.regexp,z=q.string,V=C(Y,z);return V===null?(q.done=!0,i(void 0,!0)):q.global?(s(V[0])===""&&(Y.lastIndex=b(z,o(Y.lastIndex),q.unicode)),i(V,!1)):(q.done=!0,i(V,!1))}),Q=function(H){var q=l(this),Y=s(H),z=w(q,RegExp),V=s(d(q)),X,ee,J;return X=new z(z===RegExp?q.source:q,V),ee=!!~F(V,"g"),J=!!~F(V,"u"),X.lastIndex=o(q.lastIndex),new $(X,Y,ee,J)};return t({target:"String",proto:!0,forced:L},{matchAll:function(q){var Y=a(this),z,V,X,ee;if(u(q)){if(L)return j(Y,q)}else{if(A(q)&&(z=s(a(d(q))),!~F(z,"g")))throw new U("`.matchAll` does not allow non-global regexes");if(L)return j(Y,q);if(X=f(q,_),X===void 0&&x&&c(q)==="RegExp"&&(X=Q),X)return e(X,q,Y)}return V=s(Y),ee=new RegExp(q,"g"),x?e(Q,ee,V):ee[_](V)}}),x||_ in M||p(M,_,Q),bfe}var xfe={},kj,Cfe;function yke(){if(Cfe)return kj;Cfe=1;var t=Xu();return kj=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(t),kj}var _fe;function x1t(){if(_fe)return xfe;_fe=1;var t=G(),e=aI().end,r=yke();return t({target:"String",proto:!0,forced:r},{padEnd:function(i){return e(this,i,arguments.length>1?arguments[1]:void 0)}}),xfe}var Efe={},Ife;function C1t(){if(Ife)return Efe;Ife=1;var t=G(),e=aI().start,r=yke();return t({target:"String",proto:!0,forced:r},{padStart:function(i){return e(this,i,arguments.length>1?arguments[1]:void 0)}}),Efe}var Bfe={},Pfe;function _1t(){if(Pfe)return Bfe;Pfe=1;var t=G(),e=ke(),r=Li(),n=Ar(),i=Xt(),a=br(),o=e([].push),s=e([].join);return t({target:"String",stat:!0},{raw:function(u){var c=r(n(u).raw),A=a(c);if(!A)return"";for(var d=arguments.length,f=[],p=0;;){if(o(f,i(c[p++])),p===A)return s(f,"");p<d&&o(f,i(arguments[p]))}}}),Bfe}var Tfe={},Ofe;function E1t(){if(Ofe)return Tfe;Ofe=1;var t=G(),e=iI();return t({target:"String",proto:!0},{repeat:e}),Tfe}var Rfe={},Mfe;function I1t(){if(Mfe)return Rfe;Mfe=1;var t=ft(),e=kE(),r=At(),n=ji(),i=xn(),a=yq(),o=Xt(),s=yi(),l=gb();return e("search",function(u,c,A){return[function(f){var p=i(this),g=n(f)?void 0:s(f,u);return g?t(g,f,p):new RegExp(f)[u](o(p))},function(d){var f=r(this),p=o(d),g=A(c,f,p);if(g.done)return g.value;var m=f.lastIndex;a(m,0)||(f.lastIndex=0);var w=l(f,p);return a(f.lastIndex,m)||(f.lastIndex=m),w===null?-1:w.index}]}),Rfe}var Ffe={},kfe;function B1t(){if(kfe)return Ffe;kfe=1;var t=ft(),e=ke(),r=kE(),n=At(),i=ji(),a=xn(),o=AI(),s=UE(),l=ys(),u=Xt(),c=yi(),A=gb(),d=ME(),f=Ve(),p=d.UNSUPPORTED_Y,g=4294967295,m=Math.min,w=e([].push),b=e("".slice),C=!f(function(){var x=/(?:)/,_=x.exec;x.exec=function(){return _.apply(this,arguments)};var B="ab".split(x);return B.length!==2||B[0]!=="a"||B[1]!=="b"}),S="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;return r("split",function(x,_,B){var T="0".split(void 0,0).length?function(R,P){return R===void 0&&P===0?[]:t(_,this,R,P)}:_;return[function(P,M){var U=a(this),F=i(P)?void 0:c(P,x);return F?t(F,P,U,M):t(T,u(U),P,M)},function(R,P){var M=n(this),U=u(R);if(!S){var F=B(T,M,U,P,T!==_);if(F.done)return F.value}var j=o(M,RegExp),L=M.unicode,$=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(p?"g":"y"),Q=new j(p?"^(?:"+M.source+")":M,$),H=P===void 0?g:P>>>0;if(H===0)return[];if(U.length===0)return A(Q,U)===null?[U]:[];for(var q=0,Y=0,z=[];Y<U.length;){Q.lastIndex=p?0:Y;var V=A(Q,p?b(U,Y):U),X;if(V===null||(X=m(l(Q.lastIndex+(p?Y:0)),U.length))===q)Y=s(U,Y,L);else{if(w(z,b(U,q,Y)),z.length===H)return z;for(var ee=1;ee<=V.length-1;ee++)if(w(z,V[ee]),z.length===H)return z;Y=q=X}}return w(z,b(U,q)),z}]},S||!C,p),Ffe}var Ufe={},Dfe;function P1t(){if(Dfe)return Ufe;Dfe=1;var t=G(),e=dh(),r=ya().f,n=ys(),i=Xt(),a=bq(),o=xn(),s=Sq(),l=cr(),u=e("".slice),c=Math.min,A=s("startsWith"),d=!l&&!A&&!!function(){var f=r(String.prototype,"startsWith");return f&&!f.writable}();return t({target:"String",proto:!0,forced:!d&&!A},{startsWith:function(p){var g=i(o(this));a(p);var m=n(c(arguments.length>1?arguments[1]:void 0,g.length)),w=i(p);return u(g,m,m+w.length)===w}}),Ufe}var jfe={},Lfe;function T1t(){if(Lfe)return jfe;Lfe=1;var t=G(),e=ke(),r=xn(),n=Mn(),i=Xt(),a=e("".slice),o=Math.max,s=Math.min,l=!"".substr||"ab".substr(-1)!=="b";return t({target:"String",proto:!0,forced:l},{substr:function(c,A){var d=i(r(this)),f=d.length,p=n(c),g,m;return p===1/0&&(p=0),p<0&&(p=o(f+p,0)),g=A===void 0?f:n(A),g<=0||g===1/0?"":(m=s(p+g,f),p>=m?"":a(d,p,m))}}),jfe}var Nfe={},$fe;function wke(){if($fe)return Nfe;$fe=1;var t=G(),e=ft(),r=ke(),n=xn(),i=Xt(),a=Ve(),o=Array,s=r("".charAt),l=r("".charCodeAt),u=r([].join),c="".toWellFormed,A="",d=c&&a(function(){return e(c,1)!=="1"});return t({target:"String",proto:!0,forced:d},{toWellFormed:function(){var p=i(n(this));if(d)return e(c,p);for(var g=p.length,m=o(g),w=0;w<g;w++){var b=l(p,w);(b&63488)!==55296?m[w]=s(p,w):b>=56320||w+1>=g||(l(p,w+1)&64512)!==56320?m[w]=A:(m[w]=s(p,w),m[++w]=s(p,w))}return u(m,"")}}),Nfe}var Qfe={},Uj,Hfe;function xq(){if(Hfe)return Uj;Hfe=1;var t=Zg().PROPER,e=Ve(),r=Am(),n="";return Uj=function(i){return e(function(){return!!r[i]()||n[i]()!==n||t&&r[i].name!==i})},Uj}var qfe;function O1t(){if(qfe)return Qfe;qfe=1;var t=G(),e=dm().trim,r=xq();return t({target:"String",proto:!0,forced:r("trim")},{trim:function(){return e(this)}}),Qfe}var Kfe={},zfe={},Dj,Wfe;function bke(){if(Wfe)return Dj;Wfe=1;var t=dm().end,e=xq();return Dj=e("trimEnd")?function(){return t(this)}:"".trimEnd,Dj}var Gfe;function R1t(){if(Gfe)return zfe;Gfe=1;var t=G(),e=bke();return t({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==e},{trimRight:e}),zfe}var Vfe;function M1t(){if(Vfe)return Kfe;Vfe=1,R1t();var t=G(),e=bke();return t({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==e},{trimEnd:e}),Kfe}var Yfe={},Xfe={},jj,Jfe;function Ske(){if(Jfe)return jj;Jfe=1;var t=dm().start,e=xq();return jj=e("trimStart")?function(){return t(this)}:"".trimStart,jj}var Zfe;function F1t(){if(Zfe)return Xfe;Zfe=1;var t=G(),e=Ske();return t({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==e},{trimLeft:e}),Xfe}var ehe;function k1t(){if(ehe)return Yfe;ehe=1,F1t();var t=G(),e=Ske();return t({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==e},{trimStart:e}),Yfe}var the={},Lj,rhe;function xs(){if(rhe)return Lj;rhe=1;var t=ke(),e=xn(),r=Xt(),n=/"/g,i=t("".replace);return Lj=function(a,o,s,l){var u=r(e(a)),c="<"+o;return s!==""&&(c+=" "+s+'="'+i(r(l),n,"&quot;")+'"'),c+">"+u+"</"+o+">"},Lj}var Nj,nhe;function Cs(){if(nhe)return Nj;nhe=1;var t=Ve();return Nj=function(e){return t(function(){var r=""[e]('"');return r!==r.toLowerCase()||r.split('"').length>3})},Nj}var ihe;function U1t(){if(ihe)return the;ihe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("anchor")},{anchor:function(i){return e(this,"a","name",i)}}),the}var ahe={},ohe;function D1t(){if(ohe)return ahe;ohe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("big")},{big:function(){return e(this,"big","","")}}),ahe}var she={},lhe;function j1t(){if(lhe)return she;lhe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("blink")},{blink:function(){return e(this,"blink","","")}}),she}var uhe={},che;function L1t(){if(che)return uhe;che=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("bold")},{bold:function(){return e(this,"b","","")}}),uhe}var Ahe={},dhe;function N1t(){if(dhe)return Ahe;dhe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("fixed")},{fixed:function(){return e(this,"tt","","")}}),Ahe}var fhe={},hhe;function $1t(){if(hhe)return fhe;hhe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("fontcolor")},{fontcolor:function(i){return e(this,"font","color",i)}}),fhe}var phe={},ghe;function Q1t(){if(ghe)return phe;ghe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("fontsize")},{fontsize:function(i){return e(this,"font","size",i)}}),phe}var mhe={},vhe;function H1t(){if(vhe)return mhe;vhe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("italics")},{italics:function(){return e(this,"i","","")}}),mhe}var yhe={},whe;function q1t(){if(whe)return yhe;whe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("link")},{link:function(i){return e(this,"a","href",i)}}),yhe}var bhe={},She;function K1t(){if(She)return bhe;She=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("small")},{small:function(){return e(this,"small","","")}}),bhe}var xhe={},Che;function z1t(){if(Che)return xhe;Che=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("strike")},{strike:function(){return e(this,"strike","","")}}),xhe}var _he={},Ehe;function W1t(){if(Ehe)return _he;Ehe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("sub")},{sub:function(){return e(this,"sub","","")}}),_he}var Ihe={},Bhe;function G1t(){if(Bhe)return Ihe;Bhe=1;var t=G(),e=xs(),r=Cs();return t({target:"String",proto:!0,forced:r("sup")},{sup:function(){return e(this,"sup","","")}}),Ihe}var Phe={},W0={exports:{}},$j,The;function Cq(){if(The)return $j;The=1;var t=lt(),e=Ve(),r=JE(),n=lr().NATIVE_ARRAY_BUFFER_VIEWS,i=t.ArrayBuffer,a=t.Int8Array;return $j=!n||!e(function(){a(1)})||!e(function(){new a(-1)})||!r(function(o){new a,new a(null),new a(1.5),new a(o)},!0)||e(function(){return new a(new i(2),1,void 0).length!==1}),$j}var Qj,Ohe;function xke(){if(Ohe)return Qj;Ohe=1;var t=Ib(),e=RangeError;return Qj=function(r,n){var i=t(r);if(i%n)throw new e("Wrong offset");return i},Qj}var Hj,Rhe;function Cke(){if(Rhe)return Hj;Rhe=1;var t=Math.round;return Hj=function(e){var r=t(e);return r<0?0:r>255?255:r&255},Hj}var qj,Mhe;function _q(){if(Mhe)return qj;Mhe=1;var t=Ho();return qj=function(e){var r=t(e);return r==="BigInt64Array"||r==="BigUint64Array"},qj}var Kj,Fhe;function pI(){if(Fhe)return Kj;Fhe=1;var t=IE(),e=TypeError;return Kj=function(r){var n=t(r,"number");if(typeof n=="number")throw new e("Can't convert number to bigint");return BigInt(n)},Kj}var zj,khe;function _ke(){if(khe)return zj;khe=1;var t=sn(),e=ft(),r=cI(),n=Ar(),i=br(),a=hh(),o=sA(),s=aq(),l=_q(),u=lr().aTypedArrayConstructor,c=pI();return zj=function(d){var f=r(this),p=n(d),g=arguments.length,m=g>1?arguments[1]:void 0,w=m!==void 0,b=o(p),C,S,x,_,B,T,R,P;if(b&&!s(b))for(R=a(p,b),P=R.next,p=[];!(T=e(P,R)).done;)p.push(T.value);for(w&&g>2&&(m=t(m,arguments[2])),S=i(p),x=new(u(f))(S),_=l(x),C=0;S>C;C++)B=w?m(p[C],C):p[C],x[C]=_?c(B):+B;return x},zj}var Uhe;function uA(){if(Uhe)return W0.exports;Uhe=1;var t=G(),e=lt(),r=ft(),n=Ft(),i=Cq(),a=lr(),o=nI(),s=go(),l=vs(),u=Ni(),c=vq(),A=ys(),d=Cb(),f=xke(),p=Cke(),g=aA(),m=or(),w=Ho(),b=Vt(),C=Pd(),S=wi(),x=Ya(),_=Vl(),B=ch().f,T=_ke(),R=bi().forEach,P=gh(),M=Fn(),U=fn(),F=ya(),j=kd(),L=Qr(),$=fh(),Q=L.get,H=L.set,q=L.enforce,Y=U.f,z=F.f,V=e.RangeError,X=o.ArrayBuffer,ee=X.prototype,J=o.DataView,le=a.NATIVE_ARRAY_BUFFER_VIEWS,de=a.TYPED_ARRAY_TAG,oe=a.TypedArray,re=a.TypedArrayPrototype,se=a.isTypedArray,he="BYTES_PER_ELEMENT",ae="Wrong length",Ee=function(st,ut){M(st,ut,{configurable:!0,get:function(){return Q(this)[ut]}})},Oe=function(st){var ut;return x(ee,st)||(ut=w(st))==="ArrayBuffer"||ut==="SharedArrayBuffer"},Ne=function(st,ut){return se(st)&&!C(ut)&&ut in st&&c(+ut)&&ut>=0},De=function(ut,it){return it=g(it),Ne(ut,it)?l(2,ut[it]):z(ut,it)},Le=function(ut,it,Ie){return it=g(it),Ne(ut,it)&&b(Ie)&&m(Ie,"value")&&!m(Ie,"get")&&!m(Ie,"set")&&!Ie.configurable&&(!m(Ie,"writable")||Ie.writable)&&(!m(Ie,"enumerable")||Ie.enumerable)?(ut[it]=Ie.value,ut):Y(ut,it,Ie)};return n?(le||(F.f=De,U.f=Le,Ee(re,"buffer"),Ee(re,"byteOffset"),Ee(re,"byteLength"),Ee(re,"length")),t({target:"Object",stat:!0,forced:!le},{getOwnPropertyDescriptor:De,defineProperty:Le}),W0.exports=function(st,ut,it){var Ie=st.match(/\d+/)[0]/8,be=st+(it?"Clamped":"")+"Array",Be="get"+st,tt="set"+st,ct=e[be],ot=ct,$e=ot&&ot.prototype,kt={},Nt=function(Te,qe){var pe=Q(Te);return pe.view[Be](qe*Ie+pe.byteOffset,!0)},Z=function(Te,qe,pe){var rt=Q(Te);rt.view[tt](qe*Ie+rt.byteOffset,it?p(pe):pe,!0)},ie=function(Te,qe){Y(Te,qe,{get:function(){return Nt(this,qe)},set:function(pe){return Z(this,qe,pe)},enumerable:!0})};le?i&&(ot=ut(function(Te,qe,pe,rt){return s(Te,$e),$(function(){return b(qe)?Oe(qe)?rt!==void 0?new ct(qe,f(pe,Ie),rt):pe!==void 0?new ct(qe,f(pe,Ie)):new ct(qe):se(qe)?j(ot,qe):r(T,ot,qe):new ct(d(qe))}(),Te,ot)}),_&&_(ot,oe),R(B(ct),function(Te){Te in ot||u(ot,Te,ct[Te])}),ot.prototype=$e):(ot=ut(function(Te,qe,pe,rt){s(Te,$e);var _t=0,Fe=0,Ge,Xe,et;if(!b(qe))et=d(qe),Xe=et*Ie,Ge=new X(Xe);else if(Oe(qe)){Ge=qe,Fe=f(pe,Ie);var Tt=qe.byteLength;if(rt===void 0){if(Tt%Ie)throw new V(ae);if(Xe=Tt-Fe,Xe<0)throw new V(ae)}else if(Xe=A(rt)*Ie,Xe+Fe>Tt)throw new V(ae);et=Xe/Ie}else return se(qe)?j(ot,qe):r(T,ot,qe);for(H(Te,{buffer:Ge,byteOffset:Fe,byteLength:Xe,length:et,view:new J(Ge)});_t<et;)ie(Te,_t++)}),_&&_(ot,oe),$e=ot.prototype=S(re)),$e.constructor!==ot&&u($e,"constructor",ot),q($e).TypedArrayConstructor=ot,de&&u($e,de,be);var me=ot!==ct;kt[be]=ot,t({global:!0,constructor:!0,forced:me,sham:!le},kt),he in ot||u(ot,he,Ie),he in $e||u($e,he,Ie),P(be)}):W0.exports=function(){},W0.exports}var Dhe;function V1t(){if(Dhe)return Phe;Dhe=1;var t=uA();return t("Float32",function(e){return function(n,i,a){return e(this,n,i,a)}}),Phe}var jhe={},Lhe;function Y1t(){if(Lhe)return jhe;Lhe=1;var t=uA();return t("Float64",function(e){return function(n,i,a){return e(this,n,i,a)}}),jhe}var Nhe={},$he;function X1t(){if($he)return Nhe;$he=1;var t=uA();return t("Int8",function(e){return function(n,i,a){return e(this,n,i,a)}}),Nhe}var Qhe={},Hhe;function J1t(){if(Hhe)return Qhe;Hhe=1;var t=uA();return t("Int16",function(e){return function(n,i,a){return e(this,n,i,a)}}),Qhe}var qhe={},Khe;function Z1t(){if(Khe)return qhe;Khe=1;var t=uA();return t("Int32",function(e){return function(n,i,a){return e(this,n,i,a)}}),qhe}var zhe={},Whe;function eCt(){if(Whe)return zhe;Whe=1;var t=uA();return t("Uint8",function(e){return function(n,i,a){return e(this,n,i,a)}}),zhe}var Ghe={},Vhe;function tCt(){if(Vhe)return Ghe;Vhe=1;var t=uA();return t("Uint8",function(e){return function(n,i,a){return e(this,n,i,a)}},!0),Ghe}var Yhe={},Xhe;function rCt(){if(Xhe)return Yhe;Xhe=1;var t=uA();return t("Uint16",function(e){return function(n,i,a){return e(this,n,i,a)}}),Yhe}var Jhe={},Zhe;function nCt(){if(Zhe)return Jhe;Zhe=1;var t=uA();return t("Uint32",function(e){return function(n,i,a){return e(this,n,i,a)}}),Jhe}var epe={},tpe;function Eke(){if(tpe)return epe;tpe=1;var t=lr(),e=br(),r=Mn(),n=t.aTypedArray,i=t.exportTypedArrayMethod;return i("at",function(o){var s=n(this),l=e(s),u=r(o),c=u>=0?u:l+u;return c<0||c>=l?void 0:s[c]}),epe}var rpe={},npe;function iCt(){if(npe)return rpe;npe=1;var t=ke(),e=lr(),r=LMe(),n=t(r),i=e.aTypedArray,a=e.exportTypedArrayMethod;return a("copyWithin",function(s,l){return n(i(this),s,l,arguments.length>2?arguments[2]:void 0)}),rpe}var ipe={},ape;function aCt(){if(ape)return ipe;ape=1;var t=lr(),e=bi().every,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("every",function(a){return e(r(this),a,arguments.length>1?arguments[1]:void 0)}),ipe}var ope={},spe;function oCt(){if(spe)return ope;spe=1;var t=lr(),e=oq(),r=pI(),n=Ho(),i=ft(),a=ke(),o=Ve(),s=t.aTypedArray,l=t.exportTypedArrayMethod,u=a("".slice),c=o(function(){var A=0;return new Int8Array(2).fill({valueOf:function(){return A++}}),A!==1});return l("fill",function(d){var f=arguments.length;s(this);var p=u(n(this),0,3)==="Big"?r(d):+d;return i(e,this,p,f>1?arguments[1]:void 0,f>2?arguments[2]:void 0)},c),ope}var lpe={},Wj,upe;function Eq(){if(upe)return Wj;upe=1;var t=kd(),e=lr().getTypedArrayConstructor;return Wj=function(r,n){return t(e(r),n)},Wj}var cpe;function sCt(){if(cpe)return lpe;cpe=1;var t=lr(),e=bi().filter,r=Eq(),n=t.aTypedArray,i=t.exportTypedArrayMethod;return i("filter",function(o){var s=e(n(this),o,arguments.length>1?arguments[1]:void 0);return r(this,s)}),lpe}var Ape={},dpe;function lCt(){if(dpe)return Ape;dpe=1;var t=lr(),e=bi().find,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("find",function(a){return e(r(this),a,arguments.length>1?arguments[1]:void 0)}),Ape}var fpe={},hpe;function uCt(){if(hpe)return fpe;hpe=1;var t=lr(),e=bi().findIndex,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("findIndex",function(a){return e(r(this),a,arguments.length>1?arguments[1]:void 0)}),fpe}var ppe={},gpe;function Ike(){if(gpe)return ppe;gpe=1;var t=lr(),e=XE().findLast,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("findLast",function(a){return e(r(this),a,arguments.length>1?arguments[1]:void 0)}),ppe}var mpe={},vpe;function Bke(){if(vpe)return mpe;vpe=1;var t=lr(),e=XE().findLastIndex,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("findLastIndex",function(a){return e(r(this),a,arguments.length>1?arguments[1]:void 0)}),mpe}var ype={},wpe;function cCt(){if(wpe)return ype;wpe=1;var t=lr(),e=bi().forEach,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("forEach",function(a){e(r(this),a,arguments.length>1?arguments[1]:void 0)}),ype}var bpe={},Spe;function ACt(){if(Spe)return bpe;Spe=1;var t=Cq(),e=lr().exportTypedArrayStaticMethod,r=_ke();return e("from",r,t),bpe}var xpe={},Cpe;function dCt(){if(Cpe)return xpe;Cpe=1;var t=lr(),e=db().includes,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("includes",function(a){return e(r(this),a,arguments.length>1?arguments[1]:void 0)}),xpe}var _pe={},Epe;function fCt(){if(Epe)return _pe;Epe=1;var t=lr(),e=db().indexOf,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("indexOf",function(a){return e(r(this),a,arguments.length>1?arguments[1]:void 0)}),_pe}var Ipe={},Bpe;function hCt(){if(Bpe)return Ipe;Bpe=1;var t=lt(),e=Ve(),r=ke(),n=lr(),i=ZE(),a=Lt(),o=a("iterator"),s=t.Uint8Array,l=r(i.values),u=r(i.keys),c=r(i.entries),A=n.aTypedArray,d=n.exportTypedArrayMethod,f=s&&s.prototype,p=!e(function(){f[o].call([1])}),g=!!f&&f.values&&f[o]===f.values&&f.values.name==="values",m=function(){return l(A(this))};return d("entries",function(){return c(A(this))},p),d("keys",function(){return u(A(this))},p),d("values",m,p||!g,{name:"values"}),d(o,m,p||!g,{name:"values"}),Ipe}var Ppe={},Tpe;function pCt(){if(Tpe)return Ppe;Tpe=1;var t=lr(),e=ke(),r=t.aTypedArray,n=t.exportTypedArrayMethod,i=e([].join);return n("join",function(o){return i(r(this),o)}),Ppe}var Ope={},Rpe;function gCt(){if(Rpe)return Ope;Rpe=1;var t=lr(),e=ho(),r=qMe(),n=t.aTypedArray,i=t.exportTypedArrayMethod;return i("lastIndexOf",function(o){var s=arguments.length;return e(r,n(this),s>1?[o,arguments[1]]:[o])}),Ope}var Mpe={},Fpe;function mCt(){if(Fpe)return Mpe;Fpe=1;var t=lr(),e=bi().map,r=t.aTypedArray,n=t.getTypedArrayConstructor,i=t.exportTypedArrayMethod;return i("map",function(o){return e(r(this),o,arguments.length>1?arguments[1]:void 0,function(s,l){return new(n(s))(l)})}),Mpe}var kpe={},Upe;function vCt(){if(Upe)return kpe;Upe=1;var t=lr(),e=Cq(),r=t.aTypedArrayConstructor,n=t.exportTypedArrayStaticMethod;return n("of",function(){for(var a=0,o=arguments.length,s=new(r(this))(o);o>a;)s[a]=arguments[a++];return s},e),kpe}var Dpe={},jpe;function yCt(){if(jpe)return Dpe;jpe=1;var t=lr(),e=eI().left,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("reduce",function(a){var o=arguments.length;return e(r(this),a,o,o>1?arguments[1]:void 0)}),Dpe}var Lpe={},Npe;function wCt(){if(Npe)return Lpe;Npe=1;var t=lr(),e=eI().right,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("reduceRight",function(a){var o=arguments.length;return e(r(this),a,o,o>1?arguments[1]:void 0)}),Lpe}var $pe={},Qpe;function bCt(){if(Qpe)return $pe;Qpe=1;var t=lr(),e=t.aTypedArray,r=t.exportTypedArrayMethod,n=Math.floor;return r("reverse",function(){for(var a=this,o=e(a).length,s=n(o/2),l=0,u;l<s;)u=a[l],a[l++]=a[--o],a[o]=u;return a}),$pe}var Hpe={},qpe;function SCt(){if(qpe)return Hpe;qpe=1;var t=lt(),e=ft(),r=lr(),n=br(),i=xke(),a=Ar(),o=Ve(),s=t.RangeError,l=t.Int8Array,u=l&&l.prototype,c=u&&u.set,A=r.aTypedArray,d=r.exportTypedArrayMethod,f=!o(function(){var g=new Uint8ClampedArray(2);return e(c,g,{length:1,0:3},1),g[1]!==3}),p=f&&r.NATIVE_ARRAY_BUFFER_VIEWS&&o(function(){var g=new l(2);return g.set(1),g.set("2",1),g[0]!==0||g[1]!==2});return d("set",function(m){A(this);var w=i(arguments.length>1?arguments[1]:void 0,1),b=a(m);if(f)return e(c,this,b,w);var C=this.length,S=n(b),x=0;if(S+w>C)throw new s("Wrong length");for(;x<S;)this[w+x]=b[x++]},!f||p),Hpe}var Kpe={},zpe;function xCt(){if(zpe)return Kpe;zpe=1;var t=lr(),e=Ve(),r=bs(),n=t.aTypedArray,i=t.getTypedArrayConstructor,a=t.exportTypedArrayMethod,o=e(function(){new Int8Array(1).slice()});return a("slice",function(l,u){for(var c=r(n(this),l,u),A=i(this),d=0,f=c.length,p=new A(f);f>d;)p[d]=c[d++];return p},o),Kpe}var Wpe={},Gpe;function CCt(){if(Gpe)return Wpe;Gpe=1;var t=lr(),e=bi().some,r=t.aTypedArray,n=t.exportTypedArrayMethod;return n("some",function(a){return e(r(this),a,arguments.length>1?arguments[1]:void 0)}),Wpe}var Vpe={},Ype;function _Ct(){if(Ype)return Vpe;Ype=1;var t=lt(),e=dh(),r=Ve(),n=Kt(),i=cq(),a=lr(),o=KMe(),s=zMe(),l=Ju(),u=Aq(),c=a.aTypedArray,A=a.exportTypedArrayMethod,d=t.Uint16Array,f=d&&e(d.prototype.sort),p=!!f&&!(r(function(){f(new d(2),null)})&&r(function(){f(new d(2),{})})),g=!!f&&!r(function(){if(l)return l<74;if(o)return o<67;if(s)return!0;if(u)return u<602;var w=new d(516),b=Array(516),C,S;for(C=0;C<516;C++)S=C%4,w[C]=515-C,b[C]=C-2*S+3;for(f(w,function(x,_){return(x/4|0)-(_/4|0)}),C=0;C<516;C++)if(w[C]!==b[C])return!0}),m=function(w){return function(b,C){return w!==void 0?+w(b,C)||0:C!==C?-1:b!==b?1:b===0&&C===0?1/b>0&&1/C<0?1:-1:b>C}};return A("sort",function(b){return b!==void 0&&n(b),g?f(this,b):i(c(this),m(b))},!g||p),Vpe}var Xpe={},Jpe;function ECt(){if(Jpe)return Xpe;Jpe=1;var t=lr(),e=ys(),r=Zu(),n=t.aTypedArray,i=t.getTypedArrayConstructor,a=t.exportTypedArrayMethod;return a("subarray",function(s,l){var u=n(this),c=u.length,A=r(s,c),d=i(u);return new d(u.buffer,u.byteOffset+A*u.BYTES_PER_ELEMENT,e((l===void 0?c:r(l,c))-A))}),Xpe}var Zpe={},ege;function ICt(){if(ege)return Zpe;ege=1;var t=lt(),e=ho(),r=lr(),n=Ve(),i=bs(),a=t.Int8Array,o=r.aTypedArray,s=r.exportTypedArrayMethod,l=[].toLocaleString,u=!!a&&n(function(){l.call(new a(1))}),c=n(function(){return[1,2].toLocaleString()!==new a([1,2]).toLocaleString()})||!n(function(){a.prototype.toLocaleString.call([1,2])});return s("toLocaleString",function(){return e(l,u?i(o(this)):o(this),i(arguments))},c),Zpe}var tge={},rge;function Pke(){if(rge)return tge;rge=1;var t=WMe(),e=lr(),r=e.aTypedArray,n=e.exportTypedArrayMethod,i=e.getTypedArrayConstructor;return n("toReversed",function(){return t(r(this),i(this))}),tge}var nge={},ige;function Tke(){if(ige)return nge;ige=1;var t=lr(),e=ke(),r=Kt(),n=kd(),i=t.aTypedArray,a=t.getTypedArrayConstructor,o=t.exportTypedArrayMethod,s=e(t.TypedArrayPrototype.sort);return o("toSorted",function(u){u!==void 0&&r(u);var c=i(this),A=n(a(c),c);return s(A,u)}),nge}var age={},oge;function BCt(){if(oge)return age;oge=1;var t=lr().exportTypedArrayMethod,e=Ve(),r=lt(),n=ke(),i=r.Uint8Array,a=i&&i.prototype||{},o=[].toString,s=n([].join);e(function(){o.call({})})&&(o=function(){return s(this)});var l=a.toString!==o;return t("toString",o,l),age}var sge={},lge;function Oke(){if(lge)return sge;lge=1;var t=JMe(),e=lr(),r=_q(),n=Mn(),i=pI(),a=e.aTypedArray,o=e.getTypedArrayConstructor,s=e.exportTypedArrayMethod,l=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(u){return u===8}}();return s("with",function(u,c){var A=a(this),d=n(u),f=r(A)?i(c):+c;return t(A,o(A),d,f)},!l),sge}var uge={},cge;function PCt(){if(cge)return uge;cge=1;var t=G(),e=ke(),r=Xt(),n=String.fromCharCode,i=e("".charAt),a=e(/./.exec),o=e("".slice),s=/^[\da-f]{2}$/i,l=/^[\da-f]{4}$/i;return t({global:!0},{unescape:function(c){for(var A=r(c),d="",f=A.length,p=0,g,m;p<f;){if(g=i(A,p++),g==="%"){if(i(A,p)==="u"){if(m=o(A,p+1,p+5),a(l,m)){d+=n(parseInt(m,16)),p+=5;continue}}else if(m=o(A,p,p+2),a(s,m)){d+=n(parseInt(m,16)),p+=2;continue}}d+=g}return d}}),uge}var Age={},dge={},Gj,fge;function Rke(){if(fge)return Gj;fge=1;var t=ke(),e=Jl(),r=vh().getWeakData,n=go(),i=At(),a=ji(),o=Vt(),s=Xn(),l=bi(),u=or(),c=Qr(),A=c.set,d=c.getterFor,f=l.find,p=l.findIndex,g=t([].splice),m=0,w=function(S){return S.frozen||(S.frozen=new b)},b=function(){this.entries=[]},C=function(S,x){return f(S.entries,function(_){return _[0]===x})};return b.prototype={get:function(S){var x=C(this,S);if(x)return x[1]},has:function(S){return!!C(this,S)},set:function(S,x){var _=C(this,S);_?_[1]=x:this.entries.push([S,x])},delete:function(S){var x=p(this.entries,function(_){return _[0]===S});return~x&&g(this.entries,x,1),!!~x}},Gj={getConstructor:function(S,x,_,B){var T=S(function(U,F){n(U,R),A(U,{type:x,id:m++,frozen:null}),a(F)||s(F,U[B],{that:U,AS_ENTRIES:_})}),R=T.prototype,P=d(x),M=function(U,F,j){var L=P(U),$=r(i(F),!0);return $===!0?w(L).set(F,j):$[L.id]=j,U};return e(R,{delete:function(U){var F=P(this);if(!o(U))return!1;var j=r(U);return j===!0?w(F).delete(U):j&&u(j,F.id)&&delete j[F.id]},has:function(F){var j=P(this);if(!o(F))return!1;var L=r(F);return L===!0?w(j).has(F):L&&u(L,j.id)}}),e(R,_?{get:function(F){var j=P(this);if(o(F)){var L=r(F);if(L===!0)return w(j).get(F);if(L)return L[j.id]}},set:function(F,j){return M(this,F,j)}}:{add:function(F){return M(this,F,!0)}}),T}},Gj}var hge;function TCt(){if(hge)return dge;hge=1;var t=Ud(),e=lt(),r=ke(),n=Jl(),i=vh(),a=oI(),o=Rke(),s=Vt(),l=Qr().enforce,u=Ve(),c=SRe(),A=Object,d=Array.isArray,f=A.isExtensible,p=A.isFrozen,g=A.isSealed,m=A.freeze,w=A.seal,b=!e.ActiveXObject&&"ActiveXObject"in e,C,S=function(U){return function(){return U(this,arguments.length?arguments[0]:void 0)}},x=a("WeakMap",S,o),_=x.prototype,B=r(_.set),T=function(){return t&&u(function(){var U=m([]);return B(new x,U,1),!p(U)})};if(c)if(b){C=o.getConstructor(S,"WeakMap",!0),i.enable();var R=r(_.delete),P=r(_.has),M=r(_.get);n(_,{delete:function(U){if(s(U)&&!f(U)){var F=l(this);return F.frozen||(F.frozen=new C),R(this,U)||F.frozen.delete(U)}return R(this,U)},has:function(F){if(s(F)&&!f(F)){var j=l(this);return j.frozen||(j.frozen=new C),P(this,F)||j.frozen.has(F)}return P(this,F)},get:function(F){if(s(F)&&!f(F)){var j=l(this);return j.frozen||(j.frozen=new C),P(this,F)?M(this,F):j.frozen.get(F)}return M(this,F)},set:function(F,j){if(s(F)&&!f(F)){var L=l(this);L.frozen||(L.frozen=new C),P(this,F)?B(this,F,j):L.frozen.set(F,j)}else B(this,F,j);return this}})}else T()&&n(_,{set:function(F,j){var L;return d(F)&&(p(F)?L=m:g(F)&&(L=w)),B(this,F,j),L&&L(F),this}});return dge}var pge;function Iq(){return pge||(pge=1,TCt()),Age}var gge={},mge={},vge;function OCt(){if(vge)return mge;vge=1;var t=oI(),e=Rke();return t("WeakSet",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),mge}var yge;function RCt(){return yge||(yge=1,OCt()),gge}var wge={},bge;function MCt(){return bge||(bge=1,jMe()),wge}var Sge={},xge;function FCt(){if(xge)return Sge;xge=1;var t=G(),e=lt(),r=Ya(),n=Qi(),i=Vl(),a=em(),o=wi(),s=Ni(),l=vs(),u=nq(),c=sm(),A=Lt(),d=Ve(),f=cr(),p=e.SuppressedError,g=A("toStringTag"),m=Error,w=!!p&&p.length!==3,b=!!p&&d(function(){return new p(1,2,3,{cause:4}).cause===4}),C=w||b,S=function(B,T,R){var P=r(x,this),M;return i?M=C&&(!P||n(this)===x)?new p:i(new m,P?n(this):x):(M=P?this:o(x),s(M,g,"Error")),R!==void 0&&s(M,"message",c(R)),u(M,S,M.stack,1),s(M,"error",B),s(M,"suppressed",T),M};i?i(S,m):a(S,m,{name:!0});var x=S.prototype=C?p.prototype:o(m.prototype,{constructor:l(1,S),message:l(1,""),name:l(1,"SuppressedError")});return C&&!f&&(x.constructor=S),t({global:!0,constructor:!0,arity:3,forced:C},{SuppressedError:S}),Sge}var Cge={},Vj,_ge;function Tb(){if(_ge)return Vj;_ge=1;var t=lt(),e=EE(),r=rr(),n=wi(),i=Qi(),a=Vr(),o=Lt(),s=cr(),l="USE_FUNCTION_CONSTRUCTOR",u=o("asyncIterator"),c=t.AsyncIterator,A=e.AsyncIteratorPrototype,d,f;if(A)d=A;else if(r(c))d=c.prototype;else if(e[l]||t[l])try{f=i(i(i(Function("return async function*(){}()")()))),i(f)===Object.prototype&&(d=f)}catch{}return d?s&&(d=n(d)):d={},r(d[u])||a(d,u,function(){return this}),Vj=d,Vj}var Yj,Ege;function gI(){if(Ege)return Yj;Ege=1;var t=ft(),e=At(),r=wi(),n=yi(),i=Jl(),a=Qr(),o=qt(),s=Tb(),l=ta(),u=o("Promise"),c="AsyncFromSyncIterator",A=a.set,d=a.getterFor(c),f=function(g,m,w){var b=g.done;u.resolve(g.value).then(function(C){m(l(C,b))},w)},p=function(m){m.type=c,A(this,m)};return p.prototype=i(r(s),{next:function(){var m=d(this);return new u(function(w,b){var C=e(t(m.next,m.iterator));f(C,w,b)})},return:function(){var g=d(this).iterator;return new u(function(m,w){var b=n(g,"return");if(b===void 0)return m(l(void 0,!0));var C=e(t(b,g));f(C,m,w)})}}),Yj=p,Yj}var Xj,Ige;function kCt(){if(Ige)return Xj;Ige=1;var t=ft(),e=gI(),r=At(),n=hh(),i=Hn(),a=yi(),o=Lt(),s=o("asyncIterator");return Xj=function(l,u){var c=arguments.length<2?a(l,s):u;return c?r(t(c,l)):new e(i(n(l)))},Xj}var Jj,Bge;function Ob(){if(Bge)return Jj;Bge=1;var t=ft(),e=qt(),r=yi();return Jj=function(n,i,a,o){try{var s=r(n,"return");if(s)return e("Promise").resolve(t(s,n)).then(function(){i(a)},function(l){o(l)})}catch(l){return o(l)}i(a)},Jj}var Zj,Pge;function hm(){if(Pge)return Zj;Pge=1;var t=ft(),e=Kt(),r=At(),n=Vt(),i=Ah(),a=qt(),o=Hn(),s=Ob(),l=function(u){var c=u===0,A=u===1,d=u===2,f=u===3;return function(p,g,m){r(p);var w=g!==void 0;(w||!c)&&e(g);var b=o(p),C=a("Promise"),S=b.iterator,x=b.next,_=0;return new C(function(B,T){var R=function(M){s(S,T,M,T)},P=function(){try{if(w)try{i(_)}catch(M){R(M)}C.resolve(r(t(x,S))).then(function(M){try{if(r(M).done)c?(m.length=_,B(m)):B(f?!1:d||void 0);else{var U=M.value;try{if(w){var F=g(U,_),j=function(L){if(A)P();else if(d)L?P():s(S,B,!1,T);else if(c)try{m[_++]=L,P()}catch($){R($)}else L?s(S,B,f||U,T):P()};n(F)?C.resolve(F).then(j,R):j(F)}else m[_++]=U,P()}catch(L){R(L)}}}catch(L){T(L)}},T)}catch(M){T(M)}};P()})}};return Zj={toArray:l(0),forEach:l(1),every:l(2),some:l(3),find:l(4)},Zj}var eL,Tge;function Mke(){if(Tge)return eL;Tge=1;var t=sn(),e=ke(),r=Ar(),n=tc(),i=kCt(),a=hh(),o=Hn(),s=sA(),l=yi(),u=qt(),c=VMe(),A=Lt(),d=gI(),f=hm().toArray,p=A("asyncIterator"),g=e(c("Array","values")),m=e(g([]).next),w=function(){return new b(this)},b=function(C){this.iterator=g(C)};return b.prototype.next=function(){return m(this.iterator)},eL=function(S){var x=this,_=arguments.length,B=_>1?arguments[1]:void 0,T=_>2?arguments[2]:void 0;return new(u("Promise"))(function(R){var P=r(S);B!==void 0&&(B=t(B,T));var M=l(P,p),U=M?void 0:s(P)||w,F=n(x)?new x:[],j=M?i(P,M):new d(o(a(P,U)));R(f(j,B,F))})},eL}var Oge;function UCt(){if(Oge)return Cge;Oge=1;var t=G(),e=Mke(),r=Ve(),n=Array.fromAsync,i=!n||r(function(){var a=0;return n.call(function(){return a++,[]},{length:0}),a!==1});return t({target:"Array",stat:!0,forced:i},{fromAsync:e}),Cge}var Rge={},Mge;function DCt(){return Mge||(Mge=1,b5()),Rge}var Fge={},kge;function jCt(){if(kge)return Fge;kge=1;var t=G(),e=bi().filterReject,r=Vn();return t({target:"Array",proto:!0,forced:!0},{filterOut:function(i){return e(this,i,arguments.length>1?arguments[1]:void 0)}}),r("filterOut"),Fge}var Uge={},Dge;function LCt(){if(Dge)return Uge;Dge=1;var t=G(),e=bi().filterReject,r=Vn();return t({target:"Array",proto:!0,forced:!0},{filterReject:function(i){return e(this,i,arguments.length>1?arguments[1]:void 0)}}),r("filterReject"),Uge}var jge={},Lge;function NCt(){return Lge||(Lge=1,NMe()),jge}var Nge={},$ge;function $Ct(){return $ge||($ge=1,$Me()),Nge}var Qge={},tL,Hge;function Bq(){if(Hge)return tL;Hge=1;var t=sn(),e=ke(),r=Bd(),n=Ar(),i=aA(),a=br(),o=wi(),s=kd(),l=Array,u=e([].push);return tL=function(c,A,d,f){for(var p=n(c),g=r(p),m=t(A,d),w=o(null),b=a(g),C=0,S,x,_;b>C;C++)_=g[C],x=i(m(_,C,p)),x in w?u(w[x],_):w[x]=[_];if(f&&(S=f(p),S!==l))for(x in w)w[x]=s(S,w[x]);return w},tL}var qge;function QCt(){if(qge)return Qge;qge=1;var t=G(),e=Bq(),r=Vn();return t({target:"Array",proto:!0},{group:function(i){var a=arguments.length>1?arguments[1]:void 0;return e(this,i,a)}}),r("group"),Qge}var Kge={},zge;function HCt(){if(zge)return Kge;zge=1;var t=G(),e=Bq(),r=Xl(),n=Vn();return t({target:"Array",proto:!0,forced:!r("groupBy")},{groupBy:function(a){var o=arguments.length>1?arguments[1]:void 0;return e(this,a,o)}}),n("groupBy"),Kge}var Wge={},rL,Gge;function Fke(){if(Gge)return rL;Gge=1;var t=sn(),e=ke(),r=Bd(),n=Ar(),i=br(),a=ra(),o=a.Map,s=a.get,l=a.has,u=a.set,c=e([].push);return rL=function(d){for(var f=n(this),p=r(f),g=t(d,arguments.length>1?arguments[1]:void 0),m=new o,w=i(p),b=0,C,S;w>b;b++)S=p[b],C=g(S,b,f),l(m,C)?c(s(m,C),S):u(m,C,[S]);return m},rL}var Vge;function qCt(){if(Vge)return Wge;Vge=1;var t=G(),e=Xl(),r=Vn(),n=Fke(),i=cr();return t({target:"Array",proto:!0,name:"groupToMap",forced:i||!e("groupByToMap")},{groupByToMap:n}),r("groupByToMap"),Wge}var Yge={},Xge;function KCt(){if(Xge)return Yge;Xge=1;var t=G(),e=Vn(),r=Fke(),n=cr();return t({target:"Array",proto:!0,forced:n},{groupToMap:r}),e("groupToMap"),Yge}var Jge={},Zge;function zCt(){if(Zge)return Jge;Zge=1;var t=G(),e=ec(),r=Object.isFrozen,n=function(i,a){if(!r||!e(i)||!r(i))return!1;for(var o=0,s=i.length,l;o<s;)if(l=i[o++],!(typeof l=="string"||a&&l===void 0))return!1;return s!==0};return t({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(a){if(!n(a,!0))return!1;var o=a.raw;return o.length===a.length&&n(o,!1)}}),Jge}var eme={},tme;function WCt(){if(tme)return eme;tme=1;var t=Ft(),e=Vn(),r=Ar(),n=br(),i=Fn();return t&&(i(Array.prototype,"lastIndex",{configurable:!0,get:function(){var o=r(this),s=n(o);return s===0?0:s-1}}),e("lastIndex")),eme}var rme={},nme;function GCt(){if(nme)return rme;nme=1;var t=Ft(),e=Vn(),r=Ar(),n=br(),i=Fn();return t&&(i(Array.prototype,"lastItem",{configurable:!0,get:function(){var o=r(this),s=n(o);return s===0?void 0:o[s-1]},set:function(o){var s=r(this),l=n(s);return s[l===0?0:l-1]=o}}),e("lastItem")),rme}var ime={},ame;function VCt(){return ame||(ame=1,GMe()),ime}var ome={},sme;function YCt(){return sme||(sme=1,YMe()),ome}var lme={},ume;function XCt(){return ume||(ume=1,XMe()),lme}var cme={},nL,Ame;function Zl(){if(Ame)return nL;Ame=1;var t=ke(),e=Dd(),r=ra(),n=r.Map,i=r.proto,a=t(i.forEach),o=t(i.entries),s=o(new n).next;return nL=function(l,u,c){return c?e({iterator:o(l),next:s},function(A){return u(A[1],A[0])}):a(l,u)},nL}var iL,dme;function Pq(){if(dme)return iL;dme=1;var t=ke(),e=Kt(),r=ji(),n=br(),i=Ar(),a=ra(),o=Zl(),s=a.Map,l=a.has,u=a.set,c=t([].push);return iL=function(d){var f=i(this),p=n(f),g=[],m=new s,w=r(d)?function(x){return x}:e(d),b,C,S;for(b=0;b<p;b++)C=f[b],S=w(C),l(m,S)||u(m,S,C);return o(m,function(x){c(g,x)}),g},iL}var fme;function JCt(){if(fme)return cme;fme=1;var t=G(),e=Vn(),r=Pq();return t({target:"Array",proto:!0,forced:!0},{uniqueBy:r}),e("uniqueBy"),cme}var hme={},pme;function ZCt(){return pme||(pme=1,ZMe()),hme}var gme={},mme;function e_t(){return mme||(mme=1,lFe()),gme}var vme={},yme;function t_t(){return yme||(yme=1,dFe()),vme}var wme={},bme;function r_t(){return bme||(bme=1,fFe()),wme}var Sme={},aL,xme;function kke(){if(xme)return aL;xme=1;var t=qt(),e=ft(),r=ke(),n=sn(),i=At(),a=Kt(),o=ji(),s=yi(),l=Lt(),u=l("asyncDispose"),c=l("dispose"),A=r([].push),d=function(p,g){if(g==="async-dispose"){var m=s(p,u);return m!==void 0||(m=s(p,c),m===void 0)?m:function(){var w=this,b=t("Promise");return new b(function(C){e(m,w),C(void 0)})}}return s(p,c)},f=function(p,g,m){return arguments.length<3&&!o(p)&&(m=a(d(i(p),g))),m===void 0?function(){}:n(m,p)};return aL=function(p,g,m,w){var b;if(arguments.length<4){if(o(g)&&m==="sync-dispose")return;b=f(g,m)}else b=f(void 0,m,w);A(p.stack,b)},aL}var Cme;function n_t(){if(Cme)return Sme;Cme=1;var t=G(),e=Ft(),r=qt(),n=Kt(),i=go(),a=Vr(),o=Jl(),s=Fn(),l=Lt(),u=Qr(),c=kke(),A=Ju(),d=r("Promise"),f=r("SuppressedError"),p=ReferenceError,g=l("asyncDispose"),m=l("toStringTag"),w="AsyncDisposableStack",b=u.set,C=u.getterFor(w),S="async-dispose",x="disposed",_="pending",B=function(M){var U=C(M);if(U.state===x)throw new p(w+" already disposed");return U},T=function(){b(i(this,R),{type:w,state:_,stack:[]}),e||(this.disposed=!1)},R=T.prototype;o(R,{disposeAsync:function(){var U=this;return new d(function(F,j){var L=C(U);if(L.state===x)return F(void 0);L.state=x,e||(U.disposed=!0);var $=L.stack,Q=$.length,H=!1,q,Y=function(V){H?q=new f(V,q):(H=!0,q=V),z()},z=function(){if(Q){var V=$[--Q];$[Q]=null;try{d.resolve(V()).then(z,Y)}catch(X){Y(X)}}else L.stack=null,H?j(q):F(void 0)};z()})},use:function(U){return c(B(this),U,S),U},adopt:function(U,F){var j=B(this);return n(F),c(j,void 0,S,function(){return F(U)}),U},defer:function(U){var F=B(this);n(U),c(F,void 0,S,U)},move:function(){var U=B(this),F=new T;return C(F).stack=U.stack,U.stack=[],U.state=x,e||(this.disposed=!0),F}}),e&&s(R,"disposed",{configurable:!0,get:function(){return C(this).state===x}}),a(R,g,R.disposeAsync,{name:"disposeAsync"}),a(R,m,w,{nonWritable:!0});var P=A&&A<136;return t({global:!0,constructor:!0,forced:P},{AsyncDisposableStack:T}),Sme}var _me={},Eme;function i_t(){if(Eme)return _me;Eme=1;var t=G(),e=go(),r=Qi(),n=Ni(),i=or(),a=Lt(),o=Tb(),s=cr(),l=a("toStringTag"),u=TypeError,c=function(){if(e(this,o),r(this)===o)throw new u("Abstract class AsyncIterator not directly constructable")};return c.prototype=o,i(o,l)||n(o,l,"AsyncIterator"),(s||!i(o,"constructor")||o.constructor===Object)&&n(o,"constructor",c),t({global:!0,constructor:!0,forced:s},{AsyncIterator:c}),_me}var Ime={},oL,Bme;function pm(){if(Bme)return oL;Bme=1;var t=ft(),e=yh(),r=At(),n=wi(),i=Ni(),a=Jl(),o=Lt(),s=Qr(),l=qt(),u=yi(),c=Tb(),A=ta(),d=Fd(),f=l("Promise"),p=o("toStringTag"),g="AsyncIteratorHelper",m="WrapForValidAsyncIterator",w=s.set,b=function(x){var _=!x,B=s.getterFor(x?m:g),T=function(R){var P=e(function(){return B(R)}),M=P.error,U=P.value;return M||_&&U.done?{exit:!0,value:M?f.reject(U):f.resolve(A(void 0,!0))}:{exit:!1,value:U}};return a(n(c),{next:function(){var P=T(this),M=P.value;if(P.exit)return M;var U=e(function(){return r(M.nextHandler(f))}),F=U.error,j=U.value;return F&&(M.done=!0),F?f.reject(j):f.resolve(j)},return:function(){var R=T(this),P=R.value;if(R.exit)return P;P.done=!0;var M=P.iterator,U,F,j=e(function(){if(P.inner)try{d(P.inner.iterator,"normal")}catch(L){return d(M,"throw",L)}return u(M,"return")});return U=F=j.value,j.error?f.reject(F):U===void 0?f.resolve(A(void 0,!0)):(j=e(function(){return t(U,M)}),F=j.value,j.error?f.reject(F):x?f.resolve(F):f.resolve(F).then(function(L){return r(L),A(void 0,!0)}))}})},C=b(!0),S=b(!1);return i(S,p,"Async Iterator Helper"),oL=function(x,_){var B=function(R,P){P?(P.iterator=R.iterator,P.next=R.next):P=R,P.type=_?m:g,P.nextHandler=x,P.counter=0,P.done=!1,w(this,P)};return B.prototype=_?C:S,B},oL}var sL,Pme;function Uke(){if(Pme)return sL;Pme=1;var t=ft(),e=Kt(),r=At(),n=Vt(),i=Hn(),a=pm(),o=ta(),s=Ob(),l=a(function(u){var c=this,A=c.iterator,d=c.mapper;return new u(function(f,p){var g=function(w){c.done=!0,p(w)},m=function(w){s(A,g,w,g)};u.resolve(r(t(c.next,A))).then(function(w){try{if(r(w).done)c.done=!0,f(o(void 0,!0));else{var b=w.value;try{var C=d(b,c.counter++),S=function(x){f(o(x,!1))};n(C)?u.resolve(C).then(S,m):S(C)}catch(x){m(x)}}}catch(x){g(x)}},g)})});return sL=function(c){return r(this),e(c),new l(i(this),{mapper:c})},sL}var lL,Tme;function Dke(){if(Tme)return lL;Tme=1;var t=ft(),e=Uke(),r=function(n,i){return[i,n]};return lL=function(){return t(e,this,r)},lL}var Ome;function a_t(){if(Ome)return Ime;Ome=1;var t=G(),e=Dke();return t({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:e}),Ime}var Rme={},Mme;function o_t(){if(Mme)return Rme;Mme=1;var t=ft(),e=Vr(),r=qt(),n=yi(),i=or(),a=Lt(),o=Tb(),s=a("asyncDispose"),l=r("Promise");return i(o,s)||e(o,s,function(){var u=this;return new l(function(c,A){var d=n(u,"return");d?l.resolve(t(d,u)).then(function(){c(void 0)},A):c(void 0)})}),Rme}var Fme={},kme;function s_t(){if(kme)return Fme;kme=1;var t=G(),e=ft(),r=At(),n=Hn(),i=Eb(),a=Ib(),o=pm(),s=ta(),l=cr(),u=o(function(c){var A=this;return new c(function(d,f){var p=function(m){A.done=!0,f(m)},g=function(){try{c.resolve(r(e(A.next,A.iterator))).then(function(m){try{r(m).done?(A.done=!0,d(s(void 0,!0))):A.remaining?(A.remaining--,g()):d(s(m.value,!1))}catch(w){p(w)}},p)}catch(m){p(m)}};g()})});return t({target:"AsyncIterator",proto:!0,real:!0,forced:l},{drop:function(A){r(this);var d=a(i(+A));return new u(n(this),{remaining:d})}}),Fme}var Ume={},Dme;function l_t(){if(Dme)return Ume;Dme=1;var t=G(),e=hm().every;return t({target:"AsyncIterator",proto:!0,real:!0},{every:function(n){return e(this,n)}}),Ume}var jme={},Lme;function u_t(){if(Lme)return jme;Lme=1;var t=G(),e=ft(),r=Kt(),n=At(),i=Vt(),a=Hn(),o=pm(),s=ta(),l=Ob(),u=cr(),c=o(function(A){var d=this,f=d.iterator,p=d.predicate;return new A(function(g,m){var w=function(S){d.done=!0,m(S)},b=function(S){l(f,w,S,w)},C=function(){try{A.resolve(n(e(d.next,f))).then(function(S){try{if(n(S).done)d.done=!0,g(s(void 0,!0));else{var x=S.value;try{var _=p(x,d.counter++),B=function(T){T?g(s(x,!1)):C()};i(_)?A.resolve(_).then(B,b):B(_)}catch(T){b(T)}}}catch(T){w(T)}},w)}catch(S){w(S)}};C()})});return t({target:"AsyncIterator",proto:!0,real:!0,forced:u},{filter:function(d){return n(this),r(d),new c(a(this),{predicate:d})}}),jme}var Nme={},$me;function c_t(){if($me)return Nme;$me=1;var t=G(),e=hm().find;return t({target:"AsyncIterator",proto:!0,real:!0},{find:function(n){return e(this,n)}}),Nme}var Qme={},uL,Hme;function jke(){if(Hme)return uL;Hme=1;var t=ft(),e=rr(),r=At(),n=Hn(),i=sA(),a=yi(),o=Lt(),s=gI(),l=o("asyncIterator");return uL=function(u){var c=r(u),A=!0,d=a(c,l),f;return e(d)||(d=i(c),A=!1),d!==void 0?f=t(d,c):(f=c,A=!0),r(f),n(A?f:new s(n(f)))},uL}var qme;function A_t(){if(qme)return Qme;qme=1;var t=G(),e=ft(),r=Kt(),n=At(),i=Vt(),a=Hn(),o=pm(),s=ta(),l=jke(),u=Ob(),c=cr(),A=o(function(d){var f=this,p=f.iterator,g=f.mapper;return new d(function(m,w){var b=function(_){f.done=!0,w(_)},C=function(_){u(p,b,_,b)},S=function(){try{d.resolve(n(e(f.next,p))).then(function(_){try{if(n(_).done)f.done=!0,m(s(void 0,!0));else{var B=_.value;try{var T=g(B,f.counter++),R=function(P){try{f.inner=l(P),x()}catch(M){C(M)}};i(T)?d.resolve(T).then(R,C):R(T)}catch(P){C(P)}}}catch(P){b(P)}},b)}catch(_){b(_)}},x=function(){var _=f.inner;if(_)try{d.resolve(n(e(_.next,_.iterator))).then(function(B){try{n(B).done?(f.inner=null,S()):m(s(B.value,!1))}catch(T){C(T)}},C)}catch(B){C(B)}else S()};x()})});return t({target:"AsyncIterator",proto:!0,real:!0,forced:c},{flatMap:function(f){return n(this),r(f),new A(a(this),{mapper:f,inner:null})}}),Qme}var Kme={},zme;function d_t(){if(zme)return Kme;zme=1;var t=G(),e=hm().forEach;return t({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(n){return e(this,n)}}),Kme}var Wme={},cL,Gme;function Lke(){if(Gme)return cL;Gme=1;var t=ft(),e=pm();return cL=e(function(){return t(this.next,this.iterator)},!0),cL}var Vme;function f_t(){if(Vme)return Wme;Vme=1;var t=G(),e=Ar(),r=Ya(),n=jke(),i=Tb(),a=Lke(),o=cr();return t({target:"AsyncIterator",stat:!0,forced:o},{from:function(l){var u=n(typeof l=="string"?e(l):l);return r(i,u.iterator)?u.iterator:new a(u)}}),Wme}var Yme={},Xme;function h_t(){if(Xme)return Yme;Xme=1;var t=G(),e=Dke();return t({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:e}),Yme}var Jme={},Zme;function p_t(){if(Zme)return Jme;Zme=1;var t=G(),e=Uke(),r=cr();return t({target:"AsyncIterator",proto:!0,real:!0,forced:r},{map:e}),Jme}var eve={},tve;function g_t(){if(tve)return eve;tve=1;var t=G(),e=ft(),r=Kt(),n=At(),i=Vt(),a=qt(),o=Hn(),s=Ob(),l=a("Promise"),u=TypeError;return t({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(A){n(this),r(A);var d=o(this),f=d.iterator,p=d.next,g=arguments.length<2,m=g?void 0:arguments[1],w=0;return new l(function(b,C){var S=function(_){s(f,C,_,C)},x=function(){try{l.resolve(n(e(p,f))).then(function(_){try{if(n(_).done)g?C(new u("Reduce of empty iterator with no initial value")):b(m);else{var B=_.value;if(g)g=!1,m=B,x();else try{var T=A(m,B,w),R=function(P){m=P,x()};i(T)?l.resolve(T).then(R,S):R(T)}catch(P){S(P)}}w++}catch(P){C(P)}},C)}catch(_){C(_)}};x()})}}),eve}var rve={},nve;function m_t(){if(nve)return rve;nve=1;var t=G(),e=hm().some;return t({target:"AsyncIterator",proto:!0,real:!0},{some:function(n){return e(this,n)}}),rve}var ive={},ave;function v_t(){if(ave)return ive;ave=1;var t=G(),e=ft(),r=At(),n=Hn(),i=Eb(),a=Ib(),o=pm(),s=ta(),l=cr(),u=o(function(c){var A=this,d=A.iterator,f;if(!A.remaining--){var p=s(void 0,!0);return A.done=!0,f=d.return,f!==void 0?c.resolve(e(f,d,void 0)).then(function(){return p}):p}return c.resolve(e(A.next,d)).then(function(g){return r(g).done?(A.done=!0,s(void 0,!0)):s(g.value,!1)}).then(null,function(g){throw A.done=!0,g})});return t({target:"AsyncIterator",proto:!0,real:!0,forced:l},{take:function(A){r(this);var d=a(i(+A));return new u(n(this),{remaining:d})}}),ive}var ove={},sve;function y_t(){if(sve)return ove;sve=1;var t=G(),e=hm().toArray;return t({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return e(this,void 0,[])}}),ove}var lve={},AL,uve;function Tq(){if(uve)return AL;uve=1;var t=Qr(),e=ph(),r=ta(),n=ji(),i=Vt(),a=Fn(),o=Ft(),s="Incorrect Iterator.range arguments",l="NumericRangeIterator",u=t.set,c=t.getterFor(l),A=RangeError,d=TypeError,f=e(function(m,w,b,C,S,x){if(typeof m!=C||w!==1/0&&w!==-1/0&&typeof w!=C)throw new d(s);if(m===1/0||m===-1/0)throw new A(s);var _=w>m,B=!1,T;if(b===void 0)T=void 0;else if(i(b))T=b.step,B=!!b.inclusive;else if(typeof b==C)T=b;else throw new d(s);if(n(T)&&(T=_?x:-x),typeof T!=C)throw new d(s);if(T===1/0||T===-1/0||T===S&&m!==w)throw new A(s);var R=m!==m||w!==w||T!==T||w>m!=T>S;u(this,{type:l,start:m,end:w,step:T,inclusive:B,hitsEnd:R,currentCount:S,zero:S}),o||(this.start=m,this.end=w,this.step=T,this.inclusive=B)},l,function(){var m=c(this);if(m.hitsEnd)return r(void 0,!0);var w=m.start,b=m.end,C=m.step,S=w+C*m.currentCount++;S===b&&(m.hitsEnd=!0);var x=m.inclusive,_;return b>w?_=x?S>b:S>=b:_=x?b>S:b>=S,_?(m.hitsEnd=!0,r(void 0,!0)):r(S,!1)}),p=function(g){a(f.prototype,g,{get:function(){return c(this)[g]},set:function(){},configurable:!0,enumerable:!1})};return o&&(p("start"),p("end"),p("inclusive"),p("step")),AL=f,AL}var cve;function w_t(){if(cve)return lve;cve=1;var t=G(),e=Tq();return typeof BigInt=="function"&&t({target:"BigInt",stat:!0,forced:!0},{range:function(n,i,a){return new e(n,i,a,"bigint",BigInt(0),BigInt(1))}}),lve}var Ave={},dL,dve;function Nke(){if(dve)return dL;dve=1,mq(),Iq();var t=qt(),e=wi(),r=Vt(),n=Object,i=TypeError,a=t("Map"),o=t("WeakMap"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=e(null)};s.prototype.get=function(u,c){return this[u]||(this[u]=c())},s.prototype.next=function(u,c,A){var d=A?this.objectsByIndex[u]||(this.objectsByIndex[u]=new o):this.primitives||(this.primitives=new a),f=d.get(c);return f||d.set(c,f=new s),f};var l=new s;return dL=function(){var u=l,c=arguments.length,A,d;for(A=0;A<c;A++)r(d=arguments[A])&&(u=u.next(A,d,!0));if(this===n&&u===l)throw new i("Composite keys must contain a non-primitive component");for(A=0;A<c;A++)r(d=arguments[A])||(u=u.next(A,d,!1));return u},dL}var fve;function b_t(){if(fve)return Ave;fve=1;var t=G(),e=ho(),r=Nke(),n=qt(),i=wi(),a=Object,o=function(){var s=n("Object","freeze");return s?s(i(null)):i(null)};return t({global:!0,forced:!0},{compositeKey:function(){return e(r,a,arguments).get("object",o)}}),Ave}var hve={},pve;function S_t(){if(pve)return hve;pve=1;var t=G(),e=Nke(),r=qt(),n=ho();return t({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?r("Symbol").for(arguments[0]):n(e,null,arguments).get("symbol",r("Symbol"))}}),hve}var gve={},mve;function x_t(){return mve||(mve=1,rFe()),gve}var vve={},yve;function C_t(){if(yve)return vve;yve=1;var t=G(),e=ke(),r=e(DataView.prototype.getUint8);return t({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(i){return r(this,i)}}),vve}var wve={},bve;function __t(){return bve||(bve=1,aFe()),wve}var Sve={},xve;function E_t(){if(xve)return Sve;xve=1;var t=G(),e=ke(),r=nFe(),n=Cb(),i=Cke(),a=e(DataView.prototype.setUint8);return t({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(s,l){r(this);var u=n(s);return a(this,u,i(l))}}),Sve}var Cve={},_ve;function I_t(){if(_ve)return Cve;_ve=1;var t=G(),e=Ft(),r=qt(),n=Kt(),i=go(),a=Vr(),o=Jl(),s=Fn(),l=Lt(),u=Qr(),c=kke(),A=r("SuppressedError"),d=ReferenceError,f=l("dispose"),p=l("toStringTag"),g="DisposableStack",m=u.set,w=u.getterFor(g),b="sync-dispose",C="disposed",S="pending",x=function(T){var R=w(T);if(R.state===C)throw new d(g+" already disposed");return R},_=function(){m(i(this,B),{type:g,state:S,stack:[]}),e||(this.disposed=!1)},B=_.prototype;return o(B,{dispose:function(){var R=w(this);if(R.state!==C){R.state=C,e||(this.disposed=!0);for(var P=R.stack,M=P.length,U=!1,F;M;){var j=P[--M];P[M]=null;try{j()}catch(L){U?F=new A(L,F):(U=!0,F=L)}}if(R.stack=null,U)throw F}},use:function(R){return c(x(this),R,b),R},adopt:function(R,P){var M=x(this);return n(P),c(M,void 0,b,function(){P(R)}),R},defer:function(R){var P=x(this);n(R),c(P,void 0,b,R)},move:function(){var R=x(this),P=new _;return w(P).stack=R.stack,R.stack=[],R.state=C,e||(this.disposed=!0),P}}),e&&s(B,"disposed",{configurable:!0,get:function(){return w(this).state===C}}),a(B,f,B.dispose,{name:"dispose"}),a(B,p,g,{nonWritable:!0}),t({global:!0,constructor:!0},{DisposableStack:_}),Cve}var Eve={},Ive;function B_t(){if(Ive)return Eve;Ive=1;var t=G(),e=qt(),r=Vt(),n=Ho(),i=Ve(),a="Error",o="DOMException",s=Object.setPrototypeOf||{}.__proto__,l=e(o),u=Error,c=u.isError,A=!c||!s||i(function(){return l&&!c(new l(o))||!c(new u(a,{cause:function(){}}))||c(e("Object","create")(u.prototype))});return t({target:"Error",stat:!0,sham:!0,forced:A},{isError:function(f){if(!r(f))return!1;var p=n(f);return p===a||p===o}}),Eve}var Bve={},fL,Pve;function $ke(){if(Pve)return fL;Pve=1;var t=ke(),e=Kt();return fL=function(){return t(e(this))},fL}var Tve;function P_t(){if(Tve)return Bve;Tve=1;var t=G(),e=$ke();return t({target:"Function",proto:!0,forced:!0},{demethodize:e}),Bve}var Ove={},Rve;function T_t(){if(Rve)return Ove;Rve=1;var t=G(),e=ke(),r=rr(),n=PE(),i=or(),a=Ft(),o=Object.getOwnPropertyDescriptor,s=/^\s*class\b/,l=e(s.exec),u=function(c){try{if(!a||!l(s,n(c)))return!1}catch{}var A=o(c,"prototype");return!!A&&i(A,"writable")&&!A.writable};return t({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(A){return r(A)&&!u(A)}}),Ove}var Mve={},Fve;function O_t(){if(Fve)return Mve;Fve=1;var t=G(),e=tc();return t({target:"Function",stat:!0,forced:!0},{isConstructor:e}),Mve}var kve={},Uve;function R_t(){if(Uve)return kve;Uve=1;var t=Lt(),e=fn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),kve}var Dve={},jve;function M_t(){if(jve)return Dve;jve=1;var t=G(),e=$ke();return t({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:e}),Dve}var Lve={},Nve;function F_t(){return Nve||(Nve=1,pFe()),Lve}var $ve={},Qve;function k_t(){return Qve||(Qve=1,gFe()),$ve}var Hve={},hL,qve;function Qke(){if(qve)return hL;qve=1;var t=ft(),e=_Fe(),r=function(n,i){return[i,n]};return hL=function(){return t(e,this,r)},hL}var Kve;function U_t(){if(Kve)return Hve;Kve=1;var t=G(),e=Qke();return t({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:e}),Hve}var zve={},Wve;function D_t(){if(Wve)return zve;Wve=1;var t=G(),e=ft(),r=Kt(),n=At(),i=sA(),a=mh(),o=ta(),s=Array,l=a(function(){for(;;){var u=this.iterator;if(!u){var c=this.nextIterableIndex++,A=this.iterables;if(c>=A.length)return this.done=!0,o(void 0,!0);var d=A[c];this.iterables[c]=null,u=this.iterator=e(d.method,d.iterable),this.next=u.next}var f=n(e(this.next,u));if(f.done){this.iterator=null,this.next=null;continue}return f}},!1,!0);return t({target:"Iterator",stat:!0,forced:!0},{concat:function(){for(var c=arguments.length,A=s(c),d=0;d<c;d++){var f=n(arguments[d]);A[d]={iterable:f,method:r(i(f))}}return new l({iterables:A,nextIterableIndex:0,iterator:null,next:null})}}),zve}var Gve={},Vve;function j_t(){if(Vve)return Gve;Vve=1;var t=ft(),e=Vr(),r=yi(),n=or(),i=Lt(),a=um().IteratorPrototype,o=i("dispose");return n(a,o)||e(a,o,function(){var s=r(this,"return");s&&t(s,this)}),Gve}var Yve={},Xve;function L_t(){return Xve||(Xve=1,mFe()),Yve}var Jve={},Zve;function N_t(){return Zve||(Zve=1,vFe()),Jve}var eye={},tye;function $_t(){return tye||(tye=1,yFe()),eye}var rye={},nye;function Q_t(){return nye||(nye=1,wFe()),rye}var iye={},aye;function H_t(){return aye||(aye=1,SFe()),iye}var oye={},sye;function q_t(){return sye||(sye=1,xFe()),oye}var lye={},uye;function K_t(){return uye||(uye=1,CFe()),lye}var cye={},Aye;function z_t(){if(Aye)return cye;Aye=1;var t=G(),e=Qke();return t({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:e}),cye}var dye={},fye;function W_t(){return fye||(fye=1,EFe()),dye}var hye={},pye;function G_t(){if(pye)return hye;pye=1;var t=G(),e=Tq(),r=TypeError;return t({target:"Iterator",stat:!0,forced:!0},{range:function(i,a,o){if(typeof i=="number")return new e(i,a,o,"number",0,1);if(typeof i=="bigint")return new e(i,a,o,"bigint",BigInt(0),BigInt(1));throw new r("Incorrect Iterator.range arguments")}}),hye}var gye={},mye;function V_t(){return mye||(mye=1,IFe()),gye}var vye={},yye;function Y_t(){return yye||(yye=1,BFe()),vye}var wye={},bye;function X_t(){return bye||(bye=1,PFe()),wye}var Sye={},xye;function J_t(){return xye||(xye=1,TFe()),Sye}var Cye={},_ye;function Z_t(){if(_ye)return Cye;_ye=1;var t=G(),e=At(),r=gI(),n=Lke(),i=Hn(),a=cr();return t({target:"Iterator",proto:!0,real:!0,forced:a},{toAsync:function(){return new n(i(new r(i(e(this)))))}}),Cye}var Eye={},pL,Iye;function Hke(){if(Iye)return pL;Iye=1;var t=Ve();return pL=!t(function(){var e="9007199254740993",r=JSON.rawJSON(e);return!JSON.isRawJSON(r)||JSON.stringify(r)!==e}),pL}var gL,Bye;function qke(){if(Bye)return gL;Bye=1;var t=Vt(),e=Qr().get;return gL=function(n){if(!t(n))return!1;var i=e(n);return!!i&&i.type==="RawJSON"},gL}var Pye;function eEt(){if(Pye)return Eye;Pye=1;var t=G(),e=Hke(),r=qke();return t({target:"JSON",stat:!0,forced:!e},{isRawJSON:r}),Eye}var Tye={},mL,Oye;function Kke(){if(Oye)return mL;Oye=1;var t=ke(),e=or(),r=SyntaxError,n=parseInt,i=String.fromCharCode,a=t("".charAt),o=t("".slice),s=t(/./.exec),l={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},u=/^[\da-f]{4}$/i,c=/^[\u0000-\u001F]$/;return mL=function(A,d){for(var f=!0,p="";d<A.length;){var g=a(A,d);if(g==="\\"){var m=o(A,d,d+2);if(e(l,m))p+=l[m],d+=2;else if(m==="\\u"){d+=2;var w=o(A,d,d+4);if(!s(u,w))throw new r("Bad Unicode escape at: "+d);p+=i(n(w,16)),d+=4}else throw new r('Unknown escape sequence: "'+m+'"')}else if(g==='"'){f=!1,d++;break}else{if(s(c,g))throw new r("Bad control character in string literal at: "+d);p+=g,d++}}if(f)throw new r("Unterminated string at: "+d);return{value:p,end:d}},mL}var Rye;function tEt(){if(Rye)return Tye;Rye=1;var t=G(),e=Ft(),r=lt(),n=qt(),i=ke(),a=ft(),o=rr(),s=Vt(),l=ec(),u=or(),c=Xt(),A=br(),d=Yl(),f=Ve(),p=Kke(),g=sh(),m=r.JSON,w=r.Number,b=r.SyntaxError,C=m&&m.parse,S=n("Object","keys"),x=Object.getOwnPropertyDescriptor,_=i("".charAt),B=i("".slice),T=i(/./.exec),R=i([].push),P=/^\d$/,M=/^[1-9]$/,U=/^[\d-]$/,F=/^[\t\n\r ]$/,j=0,L=1,$=function(X,ee){X=c(X);var J=new Y(X,0),le=J.parse(),de=le.value,oe=J.skip(F,le.end);if(oe<X.length)throw new b('Unexpected extra character: "'+_(X,oe)+'" after the parsed data at: '+oe);return o(ee)?Q({"":de},"",ee,le):de},Q=function(X,ee,J,le){var de=X[ee],oe=le&&de===le.value,re=oe&&typeof le.source=="string"?{source:le.source}:{},se,he,ae,Ee,Oe;if(s(de)){var Ne=l(de),De=oe?le.nodes:Ne?[]:{};if(Ne)for(se=De.length,ae=A(de),Ee=0;Ee<ae;Ee++)H(de,Ee,Q(de,""+Ee,J,Ee<se?De[Ee]:void 0));else for(he=S(de),ae=A(he),Ee=0;Ee<ae;Ee++)Oe=he[Ee],H(de,Oe,Q(de,Oe,J,u(De,Oe)?De[Oe]:void 0))}return a(J,X,ee,de,re)},H=function(X,ee,J){if(e){var le=x(X,ee);if(le&&!le.configurable)return}J===void 0?delete X[ee]:d(X,ee,J)},q=function(X,ee,J,le){this.value=X,this.end=ee,this.source=J,this.nodes=le},Y=function(X,ee){this.source=X,this.index=ee};Y.prototype={fork:function(X){return new Y(this.source,X)},parse:function(){var X=this.source,ee=this.skip(F,this.index),J=this.fork(ee),le=_(X,ee);if(T(U,le))return J.number();switch(le){case"{":return J.object();case"[":return J.array();case'"':return J.string();case"t":return J.keyword(!0);case"f":return J.keyword(!1);case"n":return J.keyword(null)}throw new b('Unexpected character: "'+le+'" at: '+ee)},node:function(X,ee,J,le,de){return new q(ee,le,X?null:B(this.source,J,le),de)},object:function(){for(var X=this.source,ee=this.index+1,J=!1,le={},de={};ee<X.length;){if(ee=this.until(['"',"}"],ee),_(X,ee)==="}"&&!J){ee++;break}var oe=this.fork(ee).string(),re=oe.value;ee=oe.end,ee=this.until([":"],ee)+1,ee=this.skip(F,ee),oe=this.fork(ee).parse(),d(de,re,oe),d(le,re,oe.value),ee=this.until([",","}"],oe.end);var se=_(X,ee);if(se===",")J=!0,ee++;else if(se==="}"){ee++;break}}return this.node(L,le,this.index,ee,de)},array:function(){for(var X=this.source,ee=this.index+1,J=!1,le=[],de=[];ee<X.length;){if(ee=this.skip(F,ee),_(X,ee)==="]"&&!J){ee++;break}var oe=this.fork(ee).parse();if(R(de,oe),R(le,oe.value),ee=this.until([",","]"],oe.end),_(X,ee)===",")J=!0,ee++;else if(_(X,ee)==="]"){ee++;break}}return this.node(L,le,this.index,ee,de)},string:function(){var X=this.index,ee=p(this.source,this.index+1);return this.node(j,ee.value,X,ee.end)},number:function(){var X=this.source,ee=this.index,J=ee;if(_(X,J)==="-"&&J++,_(X,J)==="0")J++;else if(T(M,_(X,J)))J=this.skip(P,J+1);else throw new b("Failed to parse number at: "+J);if(_(X,J)==="."&&(J=this.skip(P,J+1)),_(X,J)==="e"||_(X,J)==="E"){J++,(_(X,J)==="+"||_(X,J)==="-")&&J++;var le=J;if(J=this.skip(P,J),le===J)throw new b("Failed to parse number's exponent value at: "+J)}return this.node(j,w(B(X,ee,J)),ee,J)},keyword:function(X){var ee=""+X,J=this.index,le=J+ee.length;if(B(this.source,J,le)!==ee)throw new b("Failed to parse value at: "+J);return this.node(j,X,J,le)},skip:function(X,ee){for(var J=this.source;ee<J.length&&T(X,_(J,ee));ee++);return ee},until:function(X,ee){ee=this.skip(F,ee);for(var J=_(this.source,ee),le=0;le<X.length;le++)if(X[le]===J)return ee;throw new b('Unexpected character: "'+J+'" at: '+ee)}};var z=f(function(){var X="9007199254740993",ee;return C(X,function(J,le,de){ee=de.source}),ee!==X}),V=g&&!f(function(){return 1/C("-0 	")!==-1/0});return t({target:"JSON",stat:!0,forced:z},{parse:function(ee,J){return V&&!o(J)?C(ee):$(ee,J)}}),Tye}var Mye={},Fye;function rEt(){if(Fye)return Mye;Fye=1;var t=G(),e=Ud(),r=Hke(),n=qt(),i=ft(),a=ke(),o=rr(),s=qke(),l=Xt(),u=Yl(),c=Kke(),A=PMe(),d=uh(),f=Qr().set,p=String,g=SyntaxError,m=n("JSON","parse"),w=n("JSON","stringify"),b=n("Object","create"),C=n("Object","freeze"),S=a("".charAt),x=a("".slice),_=a([].push),B=d(),T=B.length,R="Unacceptable as raw JSON",P=function(M){return M===" "||M==="	"||M===`
`||M==="\r"};return t({target:"JSON",stat:!0,forced:!r},{rawJSON:function(U){var F=l(U);if(F===""||P(S(F,0))||P(S(F,F.length-1)))throw new g(R);var j=m(F);if(typeof j=="object"&&j!==null)throw new g(R);var L=b(null);return f(L,{type:"RawJSON"}),u(L,"rawJSON",F),e?C(L):L}}),w&&t({target:"JSON",stat:!0,arity:3,forced:!r},{stringify:function(U,F,j){var L=A(F),$=[],Q=w(U,function(ee,J){var le=o(L)?i(L,this,p(ee),J):J;return s(le)?B+(_($,le.rawJSON)-1):le},j);if(typeof Q!="string")return Q;for(var H="",q=Q.length,Y=0;Y<q;Y++){var z=S(Q,Y);if(z==='"'){var V=c(Q,++Y).end-1,X=x(Q,Y,V);H+=x(X,0,T)===B?$[x(X,T)]:'"'+X+'"',Y=V}else H+=z}return H}}),Mye}var kye={},vL,Uye;function Ja(){if(Uye)return vL;Uye=1;var t=ra().has;return vL=function(e){return t(e),e},vL}var Dye;function nEt(){if(Dye)return kye;Dye=1;var t=G(),e=Ja(),r=ra().remove;return t({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var i=e(this),a=!0,o,s=0,l=arguments.length;s<l;s++)o=r(i,arguments[s]),a=a&&o;return!!a}}),kye}var jye={},Lye;function iEt(){if(Lye)return jye;Lye=1;var t=G(),e=Ja(),r=ra(),n=r.get,i=r.has,a=r.set;return t({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(s,l){var u=e(this),c,A;return i(u,s)?(c=n(u,s),"update"in l&&(c=l.update(c,s,u),a(u,s,c)),c):(A=l.insert(s,u),a(u,s,A),A)}}),jye}var Nye={},$ye;function aEt(){if($ye)return Nye;$ye=1;var t=G(),e=sn(),r=Ja(),n=Zl();return t({target:"Map",proto:!0,real:!0,forced:!0},{every:function(a){var o=r(this),s=e(a,arguments.length>1?arguments[1]:void 0);return n(o,function(l,u){if(!s(l,u,o))return!1},!0)!==!1}}),Nye}var Qye={},Hye;function oEt(){if(Hye)return Qye;Hye=1;var t=G(),e=sn(),r=Ja(),n=ra(),i=Zl(),a=n.Map,o=n.set;return t({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(l){var u=r(this),c=e(l,arguments.length>1?arguments[1]:void 0),A=new a;return i(u,function(d,f){c(d,f,u)&&o(A,f,d)}),A}}),Qye}var qye={},Kye;function sEt(){if(Kye)return qye;Kye=1;var t=G(),e=sn(),r=Ja(),n=Zl();return t({target:"Map",proto:!0,real:!0,forced:!0},{find:function(a){var o=r(this),s=e(a,arguments.length>1?arguments[1]:void 0),l=n(o,function(u,c){if(s(u,c,o))return{value:u}},!0);return l&&l.value}}),qye}var zye={},Wye;function lEt(){if(Wye)return zye;Wye=1;var t=G(),e=sn(),r=Ja(),n=Zl();return t({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(a){var o=r(this),s=e(a,arguments.length>1?arguments[1]:void 0),l=n(o,function(u,c){if(s(u,c,o))return{key:c}},!0);return l&&l.key}}),zye}var Gye={},yL,Vye;function mI(){if(Vye)return yL;Vye=1;var t=sn(),e=At(),r=Ar(),n=Xn();return yL=function(i,a,o){return function(l){var u=r(l),c=arguments.length,A=c>1?arguments[1]:void 0,d=A!==void 0,f=d?t(A,c>2?arguments[2]:void 0):void 0,p=new i,g=0;return n(u,function(m){var w=d?f(m,g++):m;o?a(p,e(w)[0],w[1]):a(p,w)}),p}},yL}var Yye;function uEt(){if(Yye)return Gye;Yye=1;var t=G(),e=ra(),r=mI();return t({target:"Map",stat:!0,forced:!0},{from:r(e.Map,e.set,!0)}),Gye}var Xye={},Jye;function cEt(){if(Jye)return Xye;Jye=1;var t=G(),e=Ja(),r=ra(),n=r.get,i=r.has,a=r.set;return t({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:function(s,l){return i(e(this),s)?n(this,s):(a(this,s,l),l)}}),Xye}var Zye={},ewe;function AEt(){if(ewe)return Zye;ewe=1;var t=G(),e=Kt(),r=Ja(),n=ra(),i=n.get,a=n.has,o=n.set;return t({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(l,u){if(r(this),e(u),a(this,l))return i(this,l);l===0&&1/l===-1/0&&(l=0);var c=u(l);return o(this,l,c),c}}),Zye}var twe={},rwe;function dEt(){return rwe||(rwe=1,RFe()),twe}var nwe={},wL,iwe;function fEt(){return iwe||(iwe=1,wL=function(t,e){return t===e||t!==t&&e!==e}),wL}var awe;function hEt(){if(awe)return nwe;awe=1;var t=G(),e=fEt(),r=Ja(),n=Zl();return t({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(a){return n(r(this),function(o){if(e(o,a))return!0},!0)===!0}}),nwe}var owe={},swe;function pEt(){if(swe)return owe;swe=1;var t=G(),e=ft(),r=Xn(),n=rr(),i=Kt(),a=ra().Map;return t({target:"Map",stat:!0,forced:!0},{keyBy:function(s,l){var u=n(this)?this:a,c=new u;i(l);var A=i(c.set);return r(s,function(d){e(A,c,l(d),d)}),c}}),owe}var lwe={},uwe;function gEt(){if(uwe)return lwe;uwe=1;var t=G(),e=Ja(),r=Zl();return t({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(i){var a=r(e(this),function(o,s){if(o===i)return{key:s}},!0);return a&&a.key}}),lwe}var cwe={},Awe;function mEt(){if(Awe)return cwe;Awe=1;var t=G(),e=sn(),r=Ja(),n=ra(),i=Zl(),a=n.Map,o=n.set;return t({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(l){var u=r(this),c=e(l,arguments.length>1?arguments[1]:void 0),A=new a;return i(u,function(d,f){o(A,c(d,f,u),d)}),A}}),cwe}var dwe={},fwe;function vEt(){if(fwe)return dwe;fwe=1;var t=G(),e=sn(),r=Ja(),n=ra(),i=Zl(),a=n.Map,o=n.set;return t({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(l){var u=r(this),c=e(l,arguments.length>1?arguments[1]:void 0),A=new a;return i(u,function(d,f){o(A,f,c(d,f,u))}),A}}),dwe}var hwe={},pwe;function yEt(){if(pwe)return hwe;pwe=1;var t=G(),e=Ja(),r=Xn(),n=ra().set;return t({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(a){for(var o=e(this),s=arguments.length,l=0;l<s;)r(arguments[l++],function(u,c){n(o,u,c)},{AS_ENTRIES:!0});return o}}),hwe}var gwe={},bL,mwe;function vI(){if(mwe)return bL;mwe=1;var t=At();return bL=function(e,r,n){return function(){for(var a=new e,o=arguments.length,s=0;s<o;s++){var l=arguments[s];n?r(a,t(l)[0],l[1]):r(a,l)}return a}},bL}var vwe;function wEt(){if(vwe)return gwe;vwe=1;var t=G(),e=ra(),r=vI();return t({target:"Map",stat:!0,forced:!0},{of:r(e.Map,e.set,!0)}),gwe}var ywe={},wwe;function bEt(){if(wwe)return ywe;wwe=1;var t=G(),e=Kt(),r=Ja(),n=Zl(),i=TypeError;return t({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(o){var s=r(this),l=arguments.length<2,u=l?void 0:arguments[1];if(e(o),n(s,function(c,A){l?(l=!1,u=c):u=o(u,c,A,s)}),l)throw new i("Reduce of empty map with no initial value");return u}}),ywe}var bwe={},Swe;function SEt(){if(Swe)return bwe;Swe=1;var t=G(),e=sn(),r=Ja(),n=Zl();return t({target:"Map",proto:!0,real:!0,forced:!0},{some:function(a){var o=r(this),s=e(a,arguments.length>1?arguments[1]:void 0);return n(o,function(l,u){if(s(l,u,o))return!0},!0)===!0}}),bwe}var xwe={},Cwe;function xEt(){if(Cwe)return xwe;Cwe=1;var t=G(),e=Kt(),r=Ja(),n=ra(),i=TypeError,a=n.get,o=n.has,s=n.set;return t({target:"Map",proto:!0,real:!0,forced:!0},{update:function(u,c){var A=r(this),d=arguments.length;e(c);var f=o(A,u);if(!f&&d<3)throw new i("Updating absent value");var p=f?a(A,u):e(d>2?arguments[2]:void 0)(u,A);return s(A,u,c(p,u,A)),A}}),xwe}var _we={},SL,Ewe;function Oq(){if(Ewe)return SL;Ewe=1;var t=ft(),e=Kt(),r=rr(),n=At(),i=TypeError;return SL=function(o,s){var l=n(this),u=e(l.get),c=e(l.has),A=e(l.set),d=arguments.length>2?arguments[2]:void 0,f;if(!r(s)&&!r(d))throw new i("At least one callback required");return t(c,l,o)?(f=t(u,l,o),r(s)&&(f=s(f),t(A,l,o,f))):r(d)&&(f=d(),t(A,l,o,f)),f},SL}var Iwe;function CEt(){if(Iwe)return _we;Iwe=1;var t=G(),e=Oq();return t({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:e}),_we}var Bwe={},Pwe;function _Et(){if(Pwe)return Bwe;Pwe=1;var t=G(),e=Oq();return t({target:"Map",proto:!0,real:!0,forced:!0},{upsert:e}),Bwe}var Twe={},xL,Owe;function EEt(){if(Owe)return xL;Owe=1;var t=TypeError;return xL=function(e){if(typeof e=="number")return e;throw new t("Argument is not a number")},xL}var Rwe;function IEt(){if(Rwe)return Twe;Rwe=1;var t=G(),e=EEt(),r=Eb(),n=yq(),i=RangeError,a=Math.min,o=Math.max;return t({target:"Math",stat:!0,forced:!0},{clamp:function(l,u,c){if(e(l),r(e(u)),r(e(c)),n(u,0)&&n(c,-0)||u>c)throw new i("`min` should be smaller than `max`");return a(c,o(u,l))}}),Twe}var Mwe={},Fwe;function BEt(){if(Fwe)return Mwe;Fwe=1;var t=G();return t({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180}),Mwe}var kwe={},Uwe;function PEt(){if(Uwe)return kwe;Uwe=1;var t=G(),e=180/Math.PI;return t({target:"Math",stat:!0,forced:!0},{degrees:function(n){return n*e}}),kwe}var Dwe={},CL,jwe;function zke(){return jwe||(jwe=1,CL=function(e,r,n,i,a){var o=+e,s=+r,l=+n,u=+i,c=+a;return o!==o||s!==s||l!==l||u!==u||c!==c?NaN:o===1/0||o===-1/0?o:(o-s)*(c-u)/(l-s)+u}),CL}var Lwe;function TEt(){if(Lwe)return Dwe;Lwe=1;var t=G(),e=zke(),r=fq();return t({target:"Math",stat:!0,forced:!0},{fscale:function(i,a,o,s,l){return r(e(i,a,o,s,l))}}),Dwe}var Nwe={},$we;function OEt(){return $we||($we=1,FFe()),Nwe}var Qwe={},Hwe;function REt(){if(Hwe)return Qwe;Hwe=1;var t=G();return t({target:"Math",stat:!0,forced:!0},{iaddh:function(r,n,i,a){var o=r>>>0,s=n>>>0,l=i>>>0;return s+(a>>>0)+((o&l|(o|l)&~(o+l>>>0))>>>31)|0}}),Qwe}var qwe={},Kwe;function MEt(){if(Kwe)return qwe;Kwe=1;var t=G();return t({target:"Math",stat:!0,forced:!0},{imulh:function(r,n){var i=65535,a=+r,o=+n,s=a&i,l=o&i,u=a>>16,c=o>>16,A=(u*l>>>0)+(s*l>>>16);return u*c+(A>>16)+((s*c>>>0)+(A&i)>>16)}}),qwe}var zwe={},Wwe;function FEt(){if(Wwe)return zwe;Wwe=1;var t=G();return t({target:"Math",stat:!0,forced:!0},{isubh:function(r,n,i,a){var o=r>>>0,s=n>>>0,l=i>>>0;return s-(a>>>0)-((~o&l|~(o^l)&o-l>>>0)>>>31)|0}}),zwe}var Gwe={},Vwe;function kEt(){if(Vwe)return Gwe;Vwe=1;var t=G();return t({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI}),Gwe}var Ywe={},Xwe;function UEt(){if(Xwe)return Ywe;Xwe=1;var t=G(),e=Math.PI/180;return t({target:"Math",stat:!0,forced:!0},{radians:function(n){return n*e}}),Ywe}var Jwe={},Zwe;function DEt(){if(Zwe)return Jwe;Zwe=1;var t=G(),e=zke();return t({target:"Math",stat:!0,forced:!0},{scale:e}),Jwe}var ebe={},tbe;function jEt(){if(tbe)return ebe;tbe=1;var t=G(),e=At(),r=UFe(),n=ph(),i=ta(),a=Qr(),o="Seeded Random",s=o+" Generator",l='Math.seededPRNG() argument should have a "seed" field with a finite value.',u=a.set,c=a.getterFor(s),A=TypeError,d=n(function(p){u(this,{type:s,seed:p%2147483647})},o,function(){var p=c(this),g=p.seed=(p.seed*1103515245+12345)%2147483647;return i((g&1073741823)/1073741823,!1)});return t({target:"Math",stat:!0,forced:!0},{seededPRNG:function(p){var g=e(p).seed;if(!r(g))throw new A(l);return new d(g)}}),ebe}var rbe={},nbe;function LEt(){if(nbe)return rbe;nbe=1;var t=G();return t({target:"Math",stat:!0,forced:!0},{signbit:function(r){var n=+r;return n===n&&n===0?1/n===-1/0:n<0}}),rbe}var ibe={},abe;function NEt(){if(abe)return ibe;abe=1;var t=G(),e=ke(),r=Xn(),n=RangeError,i=TypeError,a=1/0,o=NaN,s=Math.abs,l=Math.pow,u=e([].push),c=l(2,1023),A=l(2,53)-1,d=Number.MAX_VALUE,f=l(2,971),p={},g={},m={},w={},b={},C=function(S,x){var _=S+x,B=x-(_-S);return{hi:_,lo:B}};return t({target:"Math",stat:!0},{sumPrecise:function(x){var _=[],B=0,T=w;switch(r(x,function(X){if(++B>=A)throw new n("Maximum allowed index exceeded");if(typeof X!="number")throw new i("Value is not a number");T!==p&&(X!==X?T=p:X===a?T=T===g?p:m:X===-a?T=T===m?p:g:(X!==0||1/X===a)&&(T===w||T===b)&&(T=b,u(_,X)))}),T){case p:return o;case g:return-a;case m:return a;case w:return-0}for(var R=[],P=0,M,U,F,j,L,$,Q=0;Q<_.length;Q++){M=_[Q];for(var H=0,q=0;q<R.length;q++){if(U=R[q],s(M)<s(U)&&($=M,M=U,U=$),F=C(M,U),j=F.hi,L=F.lo,s(j)===a){var Y=j===a?1:-1;P+=Y,M=M-Y*c-Y*c,s(M)<s(U)&&($=M,M=U,U=$),F=C(M,U),j=F.hi,L=F.lo}L!==0&&(R[H++]=L),M=j}R.length=H,M!==0&&u(R,M)}var z=R.length-1;if(j=0,L=0,P!==0){var V=z>=0?R[z]:0;if(z--,s(P)>1||P>0&&V>0||P<0&&V<0)return P>0?a:-a;if(F=C(P*c,V/2),j=F.hi,L=F.lo,L*=2,s(2*j)===a)return j>0?j===c&&L===-(f/2)&&z>=0&&R[z]<0?d:a:j===-c&&L===f/2&&z>=0&&R[z]>0?-d:-a;L!==0&&(R[++z]=L,L=0),j*=2}for(;z>=0&&(F=C(j,R[z--]),j=F.hi,L=F.lo,L===0););return z>=0&&(L<0&&R[z]<0||L>0&&R[z]>0)&&(U=L*2,M=j+U,U===M-j&&(j=M)),j}}),ibe}var obe={},sbe;function $Et(){if(sbe)return obe;sbe=1;var t=G();return t({target:"Math",stat:!0,forced:!0},{umulh:function(r,n){var i=65535,a=+r,o=+n,s=a&i,l=o&i,u=a>>>16,c=o>>>16,A=(u*l>>>0)+(s*l>>>16);return u*c+(A>>>16)+((s*c>>>0)+(A&i)>>>16)}}),obe}var lbe={},ube;function QEt(){if(ube)return lbe;ube=1;var t=G(),e=ke(),r=Mn(),n="Invalid number representation",i="Invalid radix",a=RangeError,o=SyntaxError,s=TypeError,l=parseInt,u=Math.pow,c=/^[\d.a-z]+$/,A=e("".charAt),d=e(c.exec),f=e(1 .toString),p=e("".slice),g=e("".split);return t({target:"Number",stat:!0,forced:!0},{fromString:function(w,b){var C=1;if(typeof w!="string")throw new s(n);if(!w.length)throw new o(n);if(A(w,0)==="-"&&(C=-1,w=p(w,1),!w.length))throw new o(n);var S=b===void 0?10:r(b);if(S<2||S>36)throw new a(i);if(!d(c,w))throw new o(n);var x=g(w,"."),_=l(x[0],S);if(x.length>1&&(_+=l(x[1],S)/u(S,x[1].length)),S===10&&f(_,S)!==w)throw new o(n);return C*_}}),lbe}var cbe={},Abe;function HEt(){if(Abe)return cbe;Abe=1;var t=G(),e=Tq();return t({target:"Number",stat:!0,forced:!0},{range:function(n,i,a){return new e(n,i,a,"number",0,1)}}),cbe}var dbe={},fbe;function qEt(){return fbe||(fbe=1,QFe()),dbe}var hbe={},_L,pbe;function Rq(){if(pbe)return _L;pbe=1;var t=Qr(),e=ph(),r=ta(),n=or(),i=tm(),a=Ar(),o="Object Iterator",s=t.set,l=t.getterFor(o);return _L=e(function(c,A){var d=a(c);s(this,{type:o,mode:A,object:d,keys:i(d),index:0})},"Object",function(){for(var c=l(this),A=c.keys;;){if(A===null||c.index>=A.length)return c.object=c.keys=null,r(void 0,!0);var d=A[c.index++],f=c.object;if(n(f,d)){switch(c.mode){case"keys":return r(d,!1);case"values":return r(f[d],!1)}return r([d,f[d]],!1)}}}),_L}var gbe;function KEt(){if(gbe)return hbe;gbe=1;var t=G(),e=Rq();return t({target:"Object",stat:!0,forced:!0},{iterateEntries:function(n){return new e(n,"entries")}}),hbe}var mbe={},vbe;function zEt(){if(vbe)return mbe;vbe=1;var t=G(),e=Rq();return t({target:"Object",stat:!0,forced:!0},{iterateKeys:function(n){return new e(n,"keys")}}),mbe}var ybe={},wbe;function WEt(){if(wbe)return ybe;wbe=1;var t=G(),e=Rq();return t({target:"Object",stat:!0,forced:!0},{iterateValues:function(n){return new e(n,"values")}}),ybe}var bbe={},Sbe;function GEt(){return Sbe||(Sbe=1,$Fe()),bbe}var xbe={},Cbe={},_be;function VEt(){if(_be)return Cbe;_be=1;var t=G(),e=ft(),r=Ft(),n=gh(),i=Kt(),a=At(),o=go(),s=rr(),l=ji(),u=Vt(),c=yi(),A=Vr(),d=Jl(),f=Fn(),p=WFe(),g=Lt(),m=Qr(),w=g("observable"),b="Observable",C="Subscription",S="SubscriptionObserver",x=m.getterFor,_=m.set,B=x(b),T=x(C),R=x(S),P=function(L){this.observer=a(L),this.cleanup=null,this.subscriptionObserver=null};P.prototype={type:C,clean:function(){var L=this.cleanup;if(L){this.cleanup=null;try{L()}catch($){p($)}}},close:function(){if(!r){var L=this.facade,$=this.subscriptionObserver;L.closed=!0,$&&($.closed=!0)}this.observer=null},isClosed:function(){return this.observer===null}};var M=function(L,$){var Q=_(this,new P(L)),H;r||(this.closed=!1);try{(H=c(L,"start"))&&e(H,L,this)}catch(V){p(V)}if(!Q.isClosed()){var q=Q.subscriptionObserver=new U(Q);try{var Y=$(q),z=Y;l(Y)||(Q.cleanup=s(Y.unsubscribe)?function(){z.unsubscribe()}:i(Y))}catch(V){q.error(V);return}Q.isClosed()&&Q.clean()}};M.prototype=d({},{unsubscribe:function(){var $=T(this);$.isClosed()||($.close(),$.clean())}}),r&&f(M.prototype,"closed",{configurable:!0,get:function(){return T(this).isClosed()}});var U=function(L){_(this,{type:S,subscriptionState:L}),r||(this.closed=!1)};U.prototype=d({},{next:function($){var Q=R(this).subscriptionState;if(!Q.isClosed()){var H=Q.observer;try{var q=c(H,"next");q&&e(q,H,$)}catch(Y){p(Y)}}},error:function($){var Q=R(this).subscriptionState;if(!Q.isClosed()){var H=Q.observer;Q.close();try{var q=c(H,"error");q?e(q,H,$):p($)}catch(Y){p(Y)}Q.clean()}},complete:function(){var $=R(this).subscriptionState;if(!$.isClosed()){var Q=$.observer;$.close();try{var H=c(Q,"complete");H&&e(H,Q)}catch(q){p(q)}$.clean()}}}),r&&f(U.prototype,"closed",{configurable:!0,get:function(){return R(this).subscriptionState.isClosed()}});var F=function($){o(this,j),_(this,{type:b,subscriber:i($)})},j=F.prototype;return d(j,{subscribe:function($){var Q=arguments.length;return new M(s($)?{next:$,error:Q>1?arguments[1]:void 0,complete:Q>2?arguments[2]:void 0}:u($)?$:{},B(this).subscriber)}}),A(j,w,function(){return this}),t({global:!0,constructor:!0,forced:!0},{Observable:F}),n(b),Cbe}var Ebe={},Ibe;function YEt(){if(Ibe)return Ebe;Ibe=1;var t=G(),e=qt(),r=ft(),n=At(),i=tc(),a=hh(),o=yi(),s=Xn(),l=Lt(),u=l("observable");return t({target:"Observable",stat:!0,forced:!0},{from:function(A){var d=i(this)?this:e("Observable"),f=o(n(A),u);if(f){var p=n(r(f,A));return p.constructor===d?p:new d(function(m){return p.subscribe(m)})}var g=a(A);return new d(function(m){s(g,function(w,b){if(m.next(w),m.closed)return b()},{IS_ITERATOR:!0,INTERRUPTED:!0}),m.complete()})}}),Ebe}var Bbe={},Pbe;function XEt(){if(Pbe)return Bbe;Pbe=1;var t=G(),e=qt(),r=tc(),n=e("Array");return t({target:"Observable",stat:!0,forced:!0},{of:function(){for(var a=r(this)?this:e("Observable"),o=arguments.length,s=n(o),l=0;l<o;)s[l]=arguments[l++];return new a(function(u){for(var c=0;c<o;c++)if(u.next(s[c]),u.closed)return;u.complete()})}}),Bbe}var Tbe;function JEt(){return Tbe||(Tbe=1,VEt(),YEt(),XEt()),xbe}var Obe={},Rbe;function ZEt(){return Rbe||(Rbe=1,VFe()),Obe}var Mbe={},Fbe;function eIt(){return Fbe||(Fbe=1,YFe()),Mbe}var kbe={},Ube;function tIt(){return Ube||(Ube=1,XFe()),kbe}var Dbe={},jbe;function rIt(){return jbe||(jbe=1,JFe()),Dbe}var Lbe={},EL,Nbe;function cA(){if(Nbe)return EL;Nbe=1,mq(),Iq();var t=qt(),e=ke(),r=Td(),n=t("Map"),i=t("WeakMap"),a=e([].push),o=r("metadata"),s=o.store||(o.store=new i),l=function(p,g,m){var w=s.get(p);if(!w){if(!m)return;s.set(p,w=new n)}var b=w.get(g);if(!b){if(!m)return;w.set(g,b=new n)}return b},u=function(p,g,m){var w=l(g,m,!1);return w===void 0?!1:w.has(p)},c=function(p,g,m){var w=l(g,m,!1);return w===void 0?void 0:w.get(p)},A=function(p,g,m,w){l(m,w,!0).set(p,g)},d=function(p,g){var m=l(p,g,!1),w=[];return m&&m.forEach(function(b,C){a(w,C)}),w},f=function(p){return p===void 0||typeof p=="symbol"?p:String(p)};return EL={store:s,getMap:l,has:u,get:c,set:A,keys:d,toKey:f},EL}var $be;function nIt(){if($be)return Lbe;$be=1;var t=G(),e=cA(),r=At(),n=e.toKey,i=e.set;return t({target:"Reflect",stat:!0},{defineMetadata:function(o,s,l){var u=arguments.length<4?void 0:n(arguments[3]);i(o,s,r(l),u)}}),Lbe}var Qbe={},Hbe;function iIt(){if(Hbe)return Qbe;Hbe=1;var t=G(),e=cA(),r=At(),n=e.toKey,i=e.getMap,a=e.store;return t({target:"Reflect",stat:!0},{deleteMetadata:function(s,l){var u=arguments.length<3?void 0:n(arguments[2]),c=i(r(l),u,!1);if(c===void 0||!c.delete(s))return!1;if(c.size)return!0;var A=a.get(l);return A.delete(u),!!A.size||a.delete(l)}}),Qbe}var qbe={},Kbe;function aIt(){if(Kbe)return qbe;Kbe=1;var t=G(),e=cA(),r=At(),n=Qi(),i=e.has,a=e.get,o=e.toKey,s=function(l,u,c){var A=i(l,u,c);if(A)return a(l,u,c);var d=n(u);return d!==null?s(l,d,c):void 0};return t({target:"Reflect",stat:!0},{getMetadata:function(u,c){var A=arguments.length<3?void 0:o(arguments[2]);return s(u,r(c),A)}}),qbe}var zbe={},Wbe;function oIt(){if(Wbe)return zbe;Wbe=1;var t=G(),e=ke(),r=cA(),n=At(),i=Qi(),a=Pq(),o=e(a),s=e([].concat),l=r.keys,u=r.toKey,c=function(A,d){var f=l(A,d),p=i(A);if(p===null)return f;var g=c(p,d);return g.length?f.length?o(s(f,g)):g:f};return t({target:"Reflect",stat:!0},{getMetadataKeys:function(d){var f=arguments.length<2?void 0:u(arguments[1]);return c(n(d),f)}}),zbe}var Gbe={},Vbe;function sIt(){if(Vbe)return Gbe;Vbe=1;var t=G(),e=cA(),r=At(),n=e.get,i=e.toKey;return t({target:"Reflect",stat:!0},{getOwnMetadata:function(o,s){var l=arguments.length<3?void 0:i(arguments[2]);return n(o,r(s),l)}}),Gbe}var Ybe={},Xbe;function lIt(){if(Xbe)return Ybe;Xbe=1;var t=G(),e=cA(),r=At(),n=e.keys,i=e.toKey;return t({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(o){var s=arguments.length<2?void 0:i(arguments[1]);return n(r(o),s)}}),Ybe}var Jbe={},Zbe;function uIt(){if(Zbe)return Jbe;Zbe=1;var t=G(),e=cA(),r=At(),n=Qi(),i=e.has,a=e.toKey,o=function(s,l,u){var c=i(s,l,u);if(c)return!0;var A=n(l);return A!==null?o(s,A,u):!1};return t({target:"Reflect",stat:!0},{hasMetadata:function(l,u){var c=arguments.length<3?void 0:a(arguments[2]);return o(l,r(u),c)}}),Jbe}var eSe={},tSe;function cIt(){if(tSe)return eSe;tSe=1;var t=G(),e=cA(),r=At(),n=e.has,i=e.toKey;return t({target:"Reflect",stat:!0},{hasOwnMetadata:function(o,s){var l=arguments.length<3?void 0:i(arguments[2]);return n(o,r(s),l)}}),eSe}var rSe={},nSe;function AIt(){if(nSe)return rSe;nSe=1;var t=G(),e=cA(),r=At(),n=e.toKey,i=e.set;return t({target:"Reflect",stat:!0},{metadata:function(o,s){return function(u,c){i(o,s,r(u),n(c))}}}),rSe}var iSe={},aSe;function dIt(){return aSe||(aSe=1,eke()),iSe}var oSe={},sSe;function fIt(){if(sSe)return oSe;sSe=1;var t=G(),e=Xa(),r=Sa().add;return t({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var i=e(this),a=0,o=arguments.length;a<o;a++)r(i,arguments[a]);return i}}),oSe}var lSe={},uSe;function hIt(){if(uSe)return lSe;uSe=1;var t=G(),e=Xa(),r=Sa().remove;return t({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var i=e(this),a=!0,o,s=0,l=arguments.length;s<l;s++)o=r(i,arguments[s]),a=a&&o;return!!a}}),lSe}var cSe={},ASe;function pIt(){return ASe||(ASe=1,rke()),cSe}var dSe={},IL,fSe;function gIt(){if(fSe)return IL;fSe=1;var t=Ho(),e=or(),r=ji(),n=Lt(),i=lm(),a=n("iterator"),o=Object;return IL=function(s){if(r(s))return!1;var l=o(s);return l[a]!==void 0||"@@iterator"in l||e(i,t(l))},IL}var BL,hSe;function Sh(){if(hSe)return BL;hSe=1;var t=qt(),e=rr(),r=gIt(),n=Vt(),i=t("Set"),a=function(o){return n(o)&&typeof o.size=="number"&&e(o.has)&&e(o.keys)};return BL=function(o){return a(o)?o:r(o)?new i(o):o},BL}var pSe;function mIt(){if(pSe)return dSe;pSe=1;var t=G(),e=ft(),r=Sh(),n=tke();return t({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(a){return e(n,this,r(a))}}),dSe}var gSe={},mSe;function vIt(){if(mSe)return gSe;mSe=1;var t=G(),e=sn(),r=Xa(),n=Ss();return t({target:"Set",proto:!0,real:!0,forced:!0},{every:function(a){var o=r(this),s=e(a,arguments.length>1?arguments[1]:void 0);return n(o,function(l){if(!s(l,l,o))return!1},!0)!==!1}}),gSe}var vSe={},ySe;function yIt(){if(ySe)return vSe;ySe=1;var t=G(),e=sn(),r=Xa(),n=Sa(),i=Ss(),a=n.Set,o=n.add;return t({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(l){var u=r(this),c=e(l,arguments.length>1?arguments[1]:void 0),A=new a;return i(u,function(d){c(d,d,u)&&o(A,d)}),A}}),vSe}var wSe={},bSe;function wIt(){if(bSe)return wSe;bSe=1;var t=G(),e=sn(),r=Xa(),n=Ss();return t({target:"Set",proto:!0,real:!0,forced:!0},{find:function(a){var o=r(this),s=e(a,arguments.length>1?arguments[1]:void 0),l=n(o,function(u){if(s(u,u,o))return{value:u}},!0);return l&&l.value}}),wSe}var SSe={},xSe;function bIt(){if(xSe)return SSe;xSe=1;var t=G(),e=Sa(),r=mI();return t({target:"Set",stat:!0,forced:!0},{from:r(e.Set,e.add,!1)}),SSe}var CSe={},_Se;function SIt(){return _Se||(_Se=1,ike()),CSe}var ESe={},ISe;function xIt(){if(ISe)return ESe;ISe=1;var t=G(),e=ft(),r=Sh(),n=nke();return t({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(a){return e(n,this,r(a))}}),ESe}var BSe={},PSe;function CIt(){return PSe||(PSe=1,oke()),BSe}var TSe={},OSe;function _It(){if(OSe)return TSe;OSe=1;var t=G(),e=ft(),r=Sh(),n=ake();return t({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(a){return e(n,this,r(a))}}),TSe}var RSe={},MSe;function EIt(){return MSe||(MSe=1,lke()),RSe}var FSe={},kSe;function IIt(){if(kSe)return FSe;kSe=1;var t=G(),e=ft(),r=Sh(),n=ske();return t({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(a){return e(n,this,r(a))}}),FSe}var USe={},DSe;function BIt(){return DSe||(DSe=1,cke()),USe}var jSe={},LSe;function PIt(){if(LSe)return jSe;LSe=1;var t=G(),e=ft(),r=Sh(),n=uke();return t({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(a){return e(n,this,r(a))}}),jSe}var NSe={},$Se;function TIt(){if($Se)return NSe;$Se=1;var t=G(),e=ke(),r=Xa(),n=Ss(),i=Xt(),a=e([].join),o=e([].push);return t({target:"Set",proto:!0,real:!0,forced:!0},{join:function(l){var u=r(this),c=l===void 0?",":i(l),A=[];return n(u,function(d){o(A,d)}),a(A,c)}}),NSe}var QSe={},HSe;function OIt(){if(HSe)return QSe;HSe=1;var t=G(),e=sn(),r=Xa(),n=Sa(),i=Ss(),a=n.Set,o=n.add;return t({target:"Set",proto:!0,real:!0,forced:!0},{map:function(l){var u=r(this),c=e(l,arguments.length>1?arguments[1]:void 0),A=new a;return i(u,function(d){o(A,c(d,d,u))}),A}}),QSe}var qSe={},KSe;function RIt(){if(KSe)return qSe;KSe=1;var t=G(),e=Sa(),r=vI();return t({target:"Set",stat:!0,forced:!0},{of:r(e.Set,e.add,!1)}),qSe}var zSe={},WSe;function MIt(){if(WSe)return zSe;WSe=1;var t=G(),e=Kt(),r=Xa(),n=Ss(),i=TypeError;return t({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(o){var s=r(this),l=arguments.length<2,u=l?void 0:arguments[1];if(e(o),n(s,function(c){l?(l=!1,u=c):u=o(u,c,c,s)}),l)throw new i("Reduce of empty set with no initial value");return u}}),zSe}var GSe={},VSe;function FIt(){if(VSe)return GSe;VSe=1;var t=G(),e=sn(),r=Xa(),n=Ss();return t({target:"Set",proto:!0,real:!0,forced:!0},{some:function(a){var o=r(this),s=e(a,arguments.length>1?arguments[1]:void 0);return n(o,function(l){if(s(l,l,o))return!0},!0)===!0}}),GSe}var YSe={},XSe;function kIt(){return XSe||(XSe=1,dke()),YSe}var JSe={},ZSe;function UIt(){if(ZSe)return JSe;ZSe=1;var t=G(),e=ft(),r=Sh(),n=Ake();return t({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(a){return e(n,this,r(a))}}),JSe}var e0e={},t0e;function DIt(){return t0e||(t0e=1,hke()),e0e}var r0e={},n0e;function jIt(){if(n0e)return r0e;n0e=1;var t=G(),e=ft(),r=Sh(),n=fke();return t({target:"Set",proto:!0,real:!0,forced:!0},{union:function(a){return e(n,this,r(a))}}),r0e}var i0e={},a0e;function LIt(){if(a0e)return i0e;a0e=1;var t=G(),e=rm().charAt,r=xn(),n=Mn(),i=Xt();return t({target:"String",proto:!0,forced:!0},{at:function(o){var s=i(r(this)),l=s.length,u=n(o),c=u>=0?u:l+u;return c<0||c>=l?void 0:e(s,c)}}),i0e}var o0e={},PL,s0e;function Wke(){if(s0e)return PL;s0e=1;var t=ke(),e=Li(),r=Xt(),n=br(),i=TypeError,a=t([].push),o=t([].join);return PL=function(l){var u=e(l),c=n(u);if(!c)return"";for(var A=arguments.length,d=[],f=0;;){var p=u[f++];if(p===void 0)throw new i("Incorrect template");if(a(d,r(p)),f===c)return o(d,"");f<A&&a(d,r(arguments[f]))}},PL}var l0e;function NIt(){if(l0e)return o0e;l0e=1;var t=G(),e=Wke();return t({target:"String",stat:!0,forced:!0},{cooked:e}),o0e}var u0e={},c0e;function $It(){if(c0e)return u0e;c0e=1;var t=G(),e=ph(),r=ta(),n=xn(),i=Xt(),a=Qr(),o=rm(),s=o.codeAt,l=o.charAt,u="String Iterator",c=a.set,A=a.getterFor(u),d=e(function(p){c(this,{type:u,string:p,index:0})},"String",function(){var p=A(this),g=p.string,m=p.index,w;return m>=g.length?r(void 0,!0):(w=l(g,m),p.index+=w.length,r({codePoint:s(w,0),position:m},!1))});return t({target:"String",proto:!0,forced:!0},{codePoints:function(){return new d(i(n(this)))}}),u0e}var A0e={},TL,d0e;function jd(){if(d0e)return TL;d0e=1;var t=ke(),e=WeakMap.prototype;return TL={WeakMap,set:t(e.set),get:t(e.get),has:t(e.has),remove:t(e.delete)},TL}var OL,f0e;function QIt(){if(f0e)return OL;f0e=1;var t=qt(),e=ke(),r=String.fromCharCode,n=t("String","fromCodePoint"),i=e("".charAt),a=e("".charCodeAt),o=e("".indexOf),s=e("".slice),l=48,u=57,c=97,A=102,d=65,f=70,p=function(w,b){var C=a(w,b);return C>=l&&C<=u},g=function(w,b,C){if(C>=w.length)return-1;for(var S=0;b<C;b++){var x=m(a(w,b));if(x===-1)return-1;S=S*16+x}return S},m=function(w){return w>=l&&w<=u?w-l:w>=c&&w<=A?w-c+10:w>=d&&w<=f?w-d+10:-1};return OL=function(w){for(var b="",C=0,S=0,x;(S=o(w,"\\",S))>-1;){if(b+=s(w,C,S),++S===w.length)return;var _=i(w,S++);switch(_){case"b":b+="\b";break;case"t":b+="	";break;case"n":b+=`
`;break;case"v":b+="\v";break;case"f":b+="\f";break;case"r":b+="\r";break;case"\r":S<w.length&&i(w,S)===`
`&&++S;case`
`:case"\u2028":case"\u2029":break;case"0":if(p(w,S))return;b+="\0";break;case"x":if(x=g(w,S,S+2),x===-1)return;S+=2,b+=r(x);break;case"u":if(S<w.length&&i(w,S)==="{"){var B=o(w,"}",++S);if(B===-1)return;x=g(w,S,B),S=B+1}else x=g(w,S,S+4),S+=4;if(x===-1||x>1114111)return;b+=n(x);break;default:if(p(_,0))return;b+=_}C=S}return b+s(w,C)},OL}var h0e;function HIt(){if(h0e)return A0e;h0e=1;var t=Ud(),e=G(),r=OE(),n=ke(),i=ho(),a=At(),o=Ar(),s=rr(),l=br(),u=fn().f,c=bs(),A=jd(),d=Wke(),f=QIt(),p=Am(),g=new A.WeakMap,m=A.get,w=A.has,b=A.set,C=Array,S=TypeError,x=Object.freeze||Object,_=Object.isFrozen,B=Math.min,T=n("".charAt),R=n("".slice),P=n("".split),M=n(/./.exec),U=/([\n\u2028\u2029]|\r\n?)/g,F=RegExp("^["+p+"]*"),j=RegExp("[^"+p+"]"),L="Invalid tag",$="Invalid opening line",Q="Invalid closing line",H=function(ee){var J=ee.raw;if(t&&!_(J))throw new S("Raw template should be frozen");if(w(g,J))return m(g,J);var le=q(J),de=z(le);return u(de,"raw",{value:x(le)}),x(de),b(g,J,de),de},q=function(ee){var J=o(ee),le=l(J),de=C(le),oe=C(le),re=0,se,he,ae,Ee;if(!le)throw new S(L);for(;re<le;re++){var Oe=J[re];if(typeof Oe=="string")de[re]=P(Oe,U);else throw new S(L)}for(re=0;re<le;re++){var Ne=re+1===le;if(se=de[re],re===0){if(se.length===1||se[0].length>0)throw new S($);se[1]=""}if(Ne){if(se.length===1||M(j,se[se.length-1]))throw new S(Q);se[se.length-2]="",se[se.length-1]=""}for(var De=2;De<se.length;De+=2){var Le=se[De],st=De+1===se.length&&!Ne,ut=M(F,Le)[0];if(!st&&ut.length===Le.length){se[De]="";continue}he=Y(ut,he)}}var it=he?he.length:0;for(re=0;re<le;re++){for(se=de[re],ae=se[0],Ee=1;Ee<se.length;Ee+=2)ae+=se[Ee]+R(se[Ee+1],it);oe[re]=ae}return oe},Y=function(ee,J){if(J===void 0||ee===J)return ee;for(var le=0,de=B(ee.length,J.length);le<de&&T(ee,le)===T(J,le);le++);return R(ee,0,le)},z=function(ee){for(var J=0,le=ee.length,de=C(le);J<le;J++)de[J]=f(ee[J]);return de},V=function(ee){return r(function(J){var le=c(arguments);return le[0]=H(a(J)),i(ee,this,le)},"")},X=V(d);return e({target:"String",stat:!0,forced:!0},{dedent:function(J){return a(J),s(J)?V(J):i(X,this,arguments)}}),A0e}var p0e={},g0e;function qIt(){return g0e||(g0e=1,gke()),p0e}var m0e={},v0e;function KIt(){return v0e||(v0e=1,vke()),m0e}var y0e={},w0e;function zIt(){return w0e||(w0e=1,E5()),y0e}var b0e={},S0e;function WIt(){return S0e||(S0e=1,wke()),b0e}var x0e={},C0e;function GIt(){if(C0e)return x0e;C0e=1;var t=lt(),e=Yn(),r=fn().f,n=ya().f,i=t.Symbol;if(e("asyncDispose"),i){var a=n(i,"asyncDispose");a.enumerable&&a.configurable&&a.writable&&r(i,"asyncDispose",{value:a.value,enumerable:!1,configurable:!1,writable:!1})}return x0e}var _0e={},E0e;function VIt(){if(E0e)return _0e;E0e=1;var t=Yn();return t("customMatcher"),_0e}var I0e={},B0e;function YIt(){if(B0e)return I0e;B0e=1;var t=lt(),e=Yn(),r=fn().f,n=ya().f,i=t.Symbol;if(e("dispose"),i){var a=n(i,"dispose");a.enumerable&&a.configurable&&a.writable&&r(i,"dispose",{value:a.value,enumerable:!1,configurable:!1,writable:!1})}return I0e}var P0e={},RL,T0e;function Gke(){if(T0e)return RL;T0e=1;var t=qt(),e=ke(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return RL=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},RL}var O0e;function XIt(){if(O0e)return P0e;O0e=1;var t=G(),e=Gke();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),P0e}var R0e={},M0e;function JIt(){if(M0e)return R0e;M0e=1;var t=G(),e=Gke();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),R0e}var F0e={},ML,k0e;function Vke(){if(k0e)return ML;k0e=1;for(var t=Td(),e=qt(),r=ke(),n=Pd(),i=Lt(),a=e("Symbol"),o=a.isWellKnownSymbol,s=e("Object","getOwnPropertyNames"),l=r(a.prototype.valueOf),u=t("wks"),c=0,A=s(a),d=A.length;c<d;c++)try{var f=A[c];n(a[f])&&i(f)}catch{}return ML=function(g){if(o&&o(g))return!0;try{for(var m=l(g),w=0,b=s(u),C=b.length;w<C;w++)if(u[b[w]]==m)return!0}catch{}return!1},ML}var U0e;function ZIt(){if(U0e)return F0e;U0e=1;var t=G(),e=Vke();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),F0e}var D0e={},j0e;function eBt(){if(j0e)return D0e;j0e=1;var t=G(),e=Vke();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),D0e}var L0e={},N0e;function tBt(){if(N0e)return L0e;N0e=1;var t=Yn();return t("matcher"),L0e}var $0e={},Q0e;function rBt(){if(Q0e)return $0e;Q0e=1;var t=Yn();return t("metadata"),$0e}var H0e={},q0e;function nBt(){if(q0e)return H0e;q0e=1;var t=Yn();return t("metadataKey"),H0e}var K0e={},z0e;function iBt(){if(z0e)return K0e;z0e=1;var t=Yn();return t("observable"),K0e}var W0e={},G0e;function aBt(){if(G0e)return W0e;G0e=1;var t=Yn();return t("patternMatch"),W0e}var V0e={},Y0e;function oBt(){if(Y0e)return V0e;Y0e=1;var t=Yn();return t("replaceAll"),V0e}var X0e={},J0e;function sBt(){if(J0e)return X0e;J0e=1;var t=qt(),e=cI(),r=Mke(),n=lr(),i=kd(),a=n.aTypedArrayConstructor,o=n.exportTypedArrayStaticMethod;return o("fromAsync",function(l){var u=this,c=arguments.length,A=c>1?arguments[1]:void 0,d=c>2?arguments[2]:void 0;return new(t("Promise"))(function(f){e(u),f(r(l,A,d))}).then(function(f){return i(a(u),f)})},!0),X0e}var Z0e={},exe;function lBt(){return exe||(exe=1,Eke()),Z0e}var txe={},rxe;function uBt(){if(rxe)return txe;rxe=1;var t=lr(),e=bi().filterReject,r=Eq(),n=t.aTypedArray,i=t.exportTypedArrayMethod;return i("filterOut",function(o){var s=e(n(this),o,arguments.length>1?arguments[1]:void 0);return r(this,s)},!0),txe}var nxe={},ixe;function cBt(){if(ixe)return nxe;ixe=1;var t=lr(),e=bi().filterReject,r=Eq(),n=t.aTypedArray,i=t.exportTypedArrayMethod;return i("filterReject",function(o){var s=e(n(this),o,arguments.length>1?arguments[1]:void 0);return r(this,s)},!0),nxe}var axe={},oxe;function ABt(){return oxe||(oxe=1,Ike()),axe}var sxe={},lxe;function dBt(){return lxe||(lxe=1,Bke()),sxe}var uxe={},cxe;function fBt(){if(cxe)return uxe;cxe=1;var t=lr(),e=Bq(),r=t.aTypedArray,n=t.getTypedArrayConstructor,i=t.exportTypedArrayMethod;return i("groupBy",function(o){var s=arguments.length>1?arguments[1]:void 0;return e(r(this),o,s,n)},!0),uxe}var Axe={},dxe;function hBt(){return dxe||(dxe=1,Pke()),Axe}var fxe={},hxe;function pBt(){return hxe||(hxe=1,Tke()),fxe}var pxe={},gxe;function gBt(){if(gxe)return pxe;gxe=1;var t=lr(),e=br(),r=_q(),n=Zu(),i=pI(),a=Mn(),o=t.aTypedArray,s=t.getTypedArrayConstructor,l=t.exportTypedArrayMethod,u=Math.max,c=Math.min;return l("toSpliced",function(d,f){var p=o(this),g=s(p),m=e(p),w=n(d,m),b=arguments.length,C=0,S,x,_,B,T,R,P;if(b===0)S=x=0;else if(b===1)S=0,x=m-w;else if(x=c(u(a(f),0),m-w),S=b-2,S){B=new g(S),_=r(B);for(var M=2;M<b;M++)T=arguments[M],B[M-2]=_?i(T):+T}for(R=m+S-x,P=new g(R);C<w;C++)P[C]=p[C];for(;C<w+S;C++)P[C]=B[C-w];for(;C<R;C++)P[C]=p[C+x-S];return P},!0),pxe}var mxe={},vxe;function mBt(){if(vxe)return mxe;vxe=1;var t=ke(),e=lr(),r=kd(),n=Pq(),i=e.aTypedArray,a=e.getTypedArrayConstructor,o=e.exportTypedArrayMethod,s=t(n);return o("uniqueBy",function(u){return i(this),r(a(this),s(this,u))},!0),mxe}var yxe={},wxe;function vBt(){return wxe||(wxe=1,Oke()),yxe}var bxe={},FL,Sxe;function Yke(){if(Sxe)return FL;Sxe=1;var t=Vt(),e=String,r=TypeError;return FL=function(n){if(n===void 0||t(n))return n;throw new r(e(n)+" is not an object or undefined")},FL}var kL,xxe;function yI(){if(xxe)return kL;xxe=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=t+"+/",r=t+"-_",n=function(i){for(var a={},o=0;o<64;o++)a[i.charAt(o)]=o;return a};return kL={i2c:e,c2i:n(e),i2cUrl:r,c2iUrl:n(r)},kL}var UL,Cxe;function Xke(){if(Cxe)return UL;Cxe=1;var t=TypeError;return UL=function(e){var r=e&&e.alphabet;if(r===void 0||r==="base64"||r==="base64url")return r||"base64";throw new t("Incorrect `alphabet` option")},UL}var DL,_xe;function Jke(){if(_xe)return DL;_xe=1;var t=lt(),e=ke(),r=Yke(),n=hI(),i=or(),a=yI(),o=Xke(),s=_b(),l=a.c2i,u=a.c2iUrl,c=t.SyntaxError,A=t.TypeError,d=e("".charAt),f=function(m,w){for(var b=m.length;w<b;w++){var C=d(m,w);if(C!==" "&&C!=="	"&&C!==`
`&&C!=="\f"&&C!=="\r")break}return w},p=function(m,w,b){var C=m.length;C<4&&(m+=C===2?"AA":"A");var S=(w[d(m,0)]<<18)+(w[d(m,1)]<<12)+(w[d(m,2)]<<6)+w[d(m,3)],x=[S>>16&255,S>>8&255,S&255];if(C===2){if(b&&x[1]!==0)throw new c("Extra bits");return[x[0]]}if(C===3){if(b&&x[2]!==0)throw new c("Extra bits");return[x[0],x[1]]}return x},g=function(m,w,b){for(var C=w.length,S=0;S<C;S++)m[b+S]=w[S];return b+C};return DL=function(m,w,b,C){n(m),r(w);var S=o(w)==="base64"?l:u,x=w?w.lastChunkHandling:void 0;if(x===void 0&&(x="loose"),x!=="loose"&&x!=="strict"&&x!=="stop-before-partial")throw new A("Incorrect `lastChunkHandling` option");b&&s(b.buffer);var _=b||[],B=0,T=0,R="",P=0;if(C)for(;;){if(P=f(m,P),P===m.length){if(R.length>0){if(x==="stop-before-partial")break;if(x==="loose"){if(R.length===1)throw new c("Malformed padding: exactly one additional character");B=g(_,p(R,S,!1),B)}else throw new c("Missing padding")}T=m.length;break}var M=d(m,P);if(++P,M==="="){if(R.length<2)throw new c("Padding is too early");if(P=f(m,P),R.length===2){if(P===m.length){if(x==="stop-before-partial")break;throw new c("Malformed padding: only one =")}d(m,P)==="="&&(++P,P=f(m,P))}if(P<m.length)throw new c("Unexpected character after padding");B=g(_,p(R,S,x==="strict"),B),T=m.length;break}if(!i(S,M))throw new c("Unexpected character");var U=C-B;if(U===1&&R.length===2||U===2&&R.length===3||(R+=M,R.length===4&&(B=g(_,p(R,S,!1),B),R="",T=P,B===C)))break}return{bytes:_,read:T,written:B}},DL}var Exe;function yBt(){if(Exe)return bxe;Exe=1;var t=G(),e=lt(),r=kd(),n=Jke(),i=e.Uint8Array;return i&&t({target:"Uint8Array",stat:!0},{fromBase64:function(o){var s=n(o,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return r(i,s.bytes)}}),bxe}var Ixe={},jL,Bxe;function Zke(){if(Bxe)return jL;Bxe=1;var t=lt(),e=ke(),r=t.Uint8Array,n=t.SyntaxError,i=t.parseInt,a=Math.min,o=/[^\da-f]/i,s=e(o.exec),l=e("".slice);return jL=function(u,c){var A=u.length;if(A%2!==0)throw new n("String should be an even number of characters");for(var d=c?a(c.length,A/2):A/2,f=c||new r(d),p=0,g=0;g<d;){var m=l(u,p,p+=2);if(s(o,m))throw new n("String should only contain hex characters");f[g++]=i(m,16)}return{bytes:f,read:p}},jL}var Pxe;function wBt(){if(Pxe)return Ixe;Pxe=1;var t=G(),e=lt(),r=hI(),n=Zke();return e.Uint8Array&&t({target:"Uint8Array",stat:!0},{fromHex:function(a){return n(r(a)).bytes}}),Ixe}var Txe={},LL,Oxe;function wI(){if(Oxe)return LL;Oxe=1;var t=Ho(),e=TypeError;return LL=function(r){if(t(r)==="Uint8Array")return r;throw new e("Argument is not an Uint8Array")},LL}var Rxe;function bBt(){if(Rxe)return Txe;Rxe=1;var t=G(),e=lt(),r=Jke(),n=wI(),i=e.Uint8Array;return i&&t({target:"Uint8Array",proto:!0},{setFromBase64:function(o){n(this);var s=r(o,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:s.read,written:s.written}}}),Txe}var Mxe={},Fxe;function SBt(){if(Fxe)return Mxe;Fxe=1;var t=G(),e=lt(),r=hI(),n=wI(),i=_b(),a=Zke();return e.Uint8Array&&t({target:"Uint8Array",proto:!0},{setFromHex:function(s){n(this),r(s),i(this.buffer);var l=a(s,this).read;return{read:l,written:l/2}}}),Mxe}var kxe={},Uxe;function xBt(){if(Uxe)return kxe;Uxe=1;var t=G(),e=lt(),r=ke(),n=Yke(),i=wI(),a=_b(),o=yI(),s=Xke(),l=o.i2c,u=o.i2cUrl,c=r("".charAt);return e.Uint8Array&&t({target:"Uint8Array",proto:!0},{toBase64:function(){var d=i(this),f=arguments.length?n(arguments[0]):void 0,p=s(f)==="base64"?l:u,g=!!f&&!!f.omitPadding;a(this.buffer);for(var m="",w=0,b=d.length,C,S=function(x){return c(p,C>>6*x&63)};w+2<b;w+=3)C=(d[w]<<16)+(d[w+1]<<8)+d[w+2],m+=S(3)+S(2)+S(1)+S(0);return w+2===b?(C=(d[w]<<16)+(d[w+1]<<8),m+=S(3)+S(2)+S(1)+(g?"":"=")):w+1===b&&(C=d[w]<<16,m+=S(3)+S(2)+(g?"":"==")),m}}),kxe}var Dxe={},jxe;function CBt(){if(jxe)return Dxe;jxe=1;var t=G(),e=lt(),r=ke(),n=wI(),i=_b(),a=r(1 .toString);return e.Uint8Array&&t({target:"Uint8Array",proto:!0},{toHex:function(){n(this),i(this.buffer);for(var s="",l=0,u=this.length;l<u;l++){var c=a(this[l],16);s+=c.length===1?"0"+c:c}return s}}),Dxe}var Lxe={},NL,Nxe;function bI(){if(Nxe)return NL;Nxe=1;var t=jd().has;return NL=function(e){return t(e),e},NL}var $xe;function _Bt(){if($xe)return Lxe;$xe=1;var t=G(),e=bI(),r=jd().remove;return t({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var i=e(this),a=!0,o,s=0,l=arguments.length;s<l;s++)o=r(i,arguments[s]),a=a&&o;return!!a}}),Lxe}var Qxe={},Hxe;function EBt(){if(Hxe)return Qxe;Hxe=1;var t=G(),e=jd(),r=mI();return t({target:"WeakMap",stat:!0,forced:!0},{from:r(e.WeakMap,e.set,!0)}),Qxe}var qxe={},Kxe;function IBt(){if(Kxe)return qxe;Kxe=1;var t=G(),e=jd(),r=vI();return t({target:"WeakMap",stat:!0,forced:!0},{of:r(e.WeakMap,e.set,!0)}),qxe}var zxe={},Wxe;function BBt(){if(Wxe)return zxe;Wxe=1;var t=G(),e=bI(),r=jd(),n=r.get,i=r.has,a=r.set;return t({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(s,l){var u=e(this),c,A;return i(u,s)?(c=n(u,s),"update"in l&&(c=l.update(c,s,u),a(u,s,c)),c):(A=l.insert(s,u),a(u,s,A),A)}}),zxe}var Gxe={},Vxe;function PBt(){if(Vxe)return Gxe;Vxe=1;var t=G(),e=bI(),r=jd(),n=r.get,i=r.has,a=r.set;return t({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsert:function(s,l){return i(e(this),s)?n(this,s):(a(this,s,l),l)}}),Gxe}var Yxe={},Xxe;function TBt(){if(Xxe)return Yxe;Xxe=1;var t=G(),e=Kt(),r=bI(),n=jd(),i=n.get,a=n.has,o=n.set;return t({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(l,u){if(r(this),e(u),a(this,l))return i(this,l);o(this,l);var c=u(l);return o(this,l,c),c}}),Yxe}var Jxe={},Zxe;function OBt(){if(Zxe)return Jxe;Zxe=1;var t=G(),e=Oq();return t({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:e}),Jxe}var e1e={},$L,t1e;function Rb(){if(t1e)return $L;t1e=1;var t=ke(),e=WeakSet.prototype;return $L={WeakSet,add:t(e.add),has:t(e.has),remove:t(e.delete)},$L}var QL,r1e;function eUe(){if(r1e)return QL;r1e=1;var t=Rb().has;return QL=function(e){return t(e),e},QL}var n1e;function RBt(){if(n1e)return e1e;n1e=1;var t=G(),e=eUe(),r=Rb().add;return t({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var i=e(this),a=0,o=arguments.length;a<o;a++)r(i,arguments[a]);return i}}),e1e}var i1e={},a1e;function MBt(){if(a1e)return i1e;a1e=1;var t=G(),e=eUe(),r=Rb().remove;return t({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var i=e(this),a=!0,o,s=0,l=arguments.length;s<l;s++)o=r(i,arguments[s]),a=a&&o;return!!a}}),i1e}var o1e={},s1e;function FBt(){if(s1e)return o1e;s1e=1;var t=G(),e=Rb(),r=mI();return t({target:"WeakSet",stat:!0,forced:!0},{from:r(e.WeakSet,e.add,!1)}),o1e}var l1e={},u1e;function kBt(){if(u1e)return l1e;u1e=1;var t=G(),e=Rb(),r=vI();return t({target:"WeakSet",stat:!0,forced:!0},{of:r(e.WeakSet,e.add,!1)}),l1e}var c1e={},A1e;function UBt(){if(A1e)return c1e;A1e=1;var t=G(),e=lt(),r=qt(),n=ke(),i=ft(),a=Ve(),o=Xt(),s=ol(),l=yI().c2i,u=/[^\d+/a-z]/i,c=/[\t\n\f\r ]+/g,A=/[=]{1,2}$/,d=r("atob"),f=String.fromCharCode,p=n("".charAt),g=n("".replace),m=n(u.exec),w=!!d&&!a(function(){return d("aGk=")!=="hi"}),b=w&&a(function(){return d(" ")!==""}),C=w&&!a(function(){d("a")}),S=w&&!a(function(){d()}),x=w&&d.length!==1,_=!w||b||C||S||x;return t({global:!0,bind:!0,enumerable:!0,forced:_},{atob:function(T){if(s(arguments.length,1),w&&!b&&!C)return i(d,e,T);var R=g(o(T),c,""),P="",M=0,U=0,F,j,L;if(R.length%4===0&&(R=g(R,A,"")),F=R.length,F%4===1||m(u,R))throw new(r("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;M<F;)j=p(R,M++),L=U%4?L*64+l[j]:l[j],U++%4&&(P+=f(255&L>>(-2*U&6)));return P}}),c1e}var d1e={},f1e;function DBt(){if(f1e)return d1e;f1e=1;var t=G(),e=lt(),r=qt(),n=ke(),i=ft(),a=Ve(),o=Xt(),s=ol(),l=yI().i2c,u=r("btoa"),c=n("".charAt),A=n("".charCodeAt),d=!!u&&!a(function(){return u("hi")!=="aGk="}),f=d&&!a(function(){u()}),p=d&&a(function(){return u(null)!=="bnVsbA=="}),g=d&&u.length!==1;return t({global:!0,bind:!0,enumerable:!0,forced:!d||f||p||g},{btoa:function(w){if(s(arguments.length,1),d)return i(u,e,o(w));for(var b=o(w),C="",S=0,x=l,_,B;c(b,S)||(x="=",S%1);){if(B=A(b,S+=3/4),B>255)throw new(r("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");_=_<<8|B,C+=c(x,63&_>>8-S%1*8)}return C}}),d1e}var h1e={},HL,p1e;function tUe(){return p1e||(p1e=1,HL={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),HL}var qL,g1e;function rUe(){if(g1e)return qL;g1e=1;var t=BE(),e=t("span").classList,r=e&&e.constructor&&e.constructor.prototype;return qL=r===Object.prototype?void 0:r,qL}var m1e;function jBt(){if(m1e)return h1e;m1e=1;var t=lt(),e=tUe(),r=rUe(),n=QMe(),i=Ni(),a=function(s){if(s&&s.forEach!==n)try{i(s,"forEach",n)}catch{s.forEach=n}};for(var o in e)e[o]&&a(t[o]&&t[o].prototype);return a(r),h1e}var v1e={},y1e;function LBt(){if(y1e)return v1e;y1e=1;var t=lt(),e=tUe(),r=rUe(),n=ZE(),i=Ni(),a=Ko(),o=Lt(),s=o("iterator"),l=n.values,u=function(A,d){if(A){if(A[s]!==l)try{i(A,s,l)}catch{A[s]=l}if(a(A,d,!0),e[d]){for(var f in n)if(A[f]!==n[f])try{i(A,f,n[f])}catch{A[f]=n[f]}}}};for(var c in e)u(t[c]&&t[c].prototype,c);return u(r,"DOMTokenList"),v1e}var w1e={},KL,b1e;function nUe(){return b1e||(b1e=1,KL={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}),KL}var S1e;function NBt(){if(S1e)return w1e;S1e=1;var t=G(),e=qt(),r=uFe(),n=Ve(),i=wi(),a=vs(),o=fn().f,s=Vr(),l=Fn(),u=or(),c=go(),A=At(),d=DMe(),f=sm(),p=nUe(),g=rq(),m=Qr(),w=Ft(),b=cr(),C="DOMException",S="DATA_CLONE_ERR",x=e("Error"),_=e(C)||function(){try{var oe=e("MessageChannel")||r("worker_threads").MessageChannel;new oe().port1.postMessage(new WeakMap)}catch(re){if(re.name===S&&re.code===25)return re.constructor}}(),B=_&&_.prototype,T=x.prototype,R=m.set,P=m.getterFor(C),M="stack"in new x(C),U=function(oe){return u(p,oe)&&p[oe].m?p[oe].c:0},F=function(){c(this,j);var re=arguments.length,se=f(re<1?void 0:arguments[0]),he=f(re<2?void 0:arguments[1],"Error"),ae=U(he);if(R(this,{type:C,name:he,message:se,code:ae}),w||(this.name=he,this.message=se,this.code=ae),M){var Ee=new x(se);Ee.name=C,o(this,"stack",a(1,g(Ee.stack,1)))}},j=F.prototype=i(T),L=function(oe){return{enumerable:!0,configurable:!0,get:oe}},$=function(oe){return L(function(){return P(this)[oe]})};w&&(l(j,"code",$("code")),l(j,"message",$("message")),l(j,"name",$("name"))),o(j,"constructor",a(1,F));var Q=n(function(){return!(new _ instanceof x)}),H=Q||n(function(){return T.toString!==d||String(new _(1,2))!=="2: 1"}),q=Q||n(function(){return new _(1,"DataCloneError").code!==25}),Y=Q||_[S]!==25||B[S]!==25,z=b?H||q||Y:Q;t({global:!0,constructor:!0,forced:z},{DOMException:z?F:_});var V=e(C),X=V.prototype;H&&(b||_===V)&&s(X,"toString",d),q&&w&&_===V&&l(X,"code",L(function(){return U(A(this).name)}));for(var ee in p)if(u(p,ee)){var J=p[ee],le=J.s,de=a(6,J.c);u(V,le)||o(V,le,de),u(X,le)||o(X,le,de)}return w1e}var x1e={},C1e;function $Bt(){if(C1e)return x1e;C1e=1;var t=G(),e=lt(),r=qt(),n=vs(),i=fn().f,a=or(),o=go(),s=fh(),l=sm(),u=nUe(),c=rq(),A=Ft(),d=cr(),f="DOMException",p=r("Error"),g=r(f),m=function(){o(this,w);var F=arguments.length,j=l(F<1?void 0:arguments[0]),L=l(F<2?void 0:arguments[1],"Error"),$=new g(j,L),Q=new p(j);return Q.name=f,i($,"stack",n(1,c(Q.stack,1))),s($,this,m),$},w=m.prototype=g.prototype,b="stack"in new p(f),C="stack"in new g(1,2),S=g&&A&&Object.getOwnPropertyDescriptor(e,f),x=!!S&&!(S.writable&&S.configurable),_=b&&!x&&!C;t({global:!0,constructor:!0,forced:d||_},{DOMException:_?m:g});var B=r(f),T=B.prototype;if(T.constructor!==B){d||i(T,"constructor",n(1,B));for(var R in u)if(a(u,R)){var P=u[R],M=P.s;a(B,M)||i(B,M,n(6,P.c))}}return x1e}var _1e={},E1e;function QBt(){if(E1e)return _1e;E1e=1;var t=qt(),e=Ko(),r="DOMException";return e(t(r),r),_1e}var I1e={},B1e={},P1e;function HBt(){if(P1e)return B1e;P1e=1;var t=G(),e=lt(),r=dI().clear;return t({global:!0,bind:!0,enumerable:!0,forced:e.clearImmediate!==r},{clearImmediate:r}),B1e}var T1e={},zL,O1e;function Mq(){if(O1e)return zL;O1e=1;var t=lt(),e=ho(),r=rr(),n=tI(),i=Xu(),a=bs(),o=ol(),s=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return zL=function(u,c){var A=c?2:1;return l?function(d,f){var p=o(arguments.length,1)>A,g=r(d)?d:s(d),m=p?a(arguments,A):[],w=p?function(){e(g,this,m)}:g;return c?u(w,f):u(w)}:u},zL}var R1e;function qBt(){if(R1e)return T1e;R1e=1;var t=G(),e=lt(),r=dI().set,n=Mq(),i=e.setImmediate?n(r,!1):r;return t({global:!0,bind:!0,enumerable:!0,forced:e.setImmediate!==i},{setImmediate:i}),T1e}var M1e;function KBt(){return M1e||(M1e=1,HBt(),qBt()),I1e}var F1e={},k1e;function zBt(){if(k1e)return F1e;k1e=1;var t=G(),e=lt(),r=zFe(),n=Kt(),i=ol(),a=Ve(),o=Ft(),s=a(function(){return o&&Object.getOwnPropertyDescriptor(e,"queueMicrotask").value.length!==1});return t({global:!0,enumerable:!0,dontCallGetSet:!0,forced:s},{queueMicrotask:function(u){i(arguments.length,1),r(n(u))}}),F1e}var U1e={},D1e;function WBt(){if(D1e)return U1e;D1e=1;var t=G(),e=lt(),r=Fn(),n=Ft(),i=TypeError,a=Object.defineProperty,o=e.self!==e;try{if(n){var s=Object.getOwnPropertyDescriptor(e,"self");(o||!s||!s.get||!s.enumerable)&&r(e,"self",{get:function(){return e},set:function(u){if(this!==e)throw new i("Illegal invocation");a(e,"self",{value:u,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else t({global:!0,simple:!0,forced:o},{self:e})}catch{}return U1e}var j1e={},L1e;function GBt(){if(L1e)return j1e;L1e=1;var t=cr(),e=G(),r=lt(),n=qt(),i=ke(),a=Ve(),o=uh(),s=rr(),l=tc(),u=ji(),c=Vt(),A=Pd(),d=Xn(),f=At(),p=Ho(),g=or(),m=Yl(),w=Ni(),b=br(),C=ol(),S=mb(),x=ra(),_=Sa(),B=Ss(),T=cFe(),R=kMe(),P=hq(),M=r.Object,U=r.Array,F=r.Date,j=r.Error,L=r.TypeError,$=r.PerformanceMark,Q=n("DOMException"),H=x.Map,q=x.has,Y=x.get,z=x.set,V=_.Set,X=_.add,ee=_.has,J=n("Object","keys"),le=i([].push),de=i((!0).valueOf),oe=i(1 .valueOf),re=i("".valueOf),se=i(F.prototype.getTime),he=o("structuredClone"),ae="DataCloneError",Ee="Transferring",Oe=function(Z){return!a(function(){var ie=new r.Set([7]),me=Z(ie),Te=Z(M(7));return me===ie||!me.has(7)||!c(Te)||+Te!=7})&&Z},Ne=function(Z,ie){return!a(function(){var me=new ie,Te=Z({a:me,b:me});return!(Te&&Te.a===Te.b&&Te.a instanceof ie&&Te.a.stack===me.stack)})},De=function(Z){return!a(function(){var ie=Z(new r.AggregateError([1],he,{cause:3}));return ie.name!=="AggregateError"||ie.errors[0]!==1||ie.message!==he||ie.cause!==3})},Le=r.structuredClone,st=t||!Ne(Le,j)||!Ne(Le,Q)||!De(Le),ut=!Le&&Oe(function(Z){return new $(he,{detail:Z}).detail}),it=Oe(Le)||ut,Ie=function(Z){throw new Q("Uncloneable type: "+Z,ae)},be=function(Z,ie){throw new Q((ie||"Cloning")+" of "+Z+" cannot be properly polyfilled in this engine",ae)},Be=function(Z,ie){return it||be(ie),it(Z)},tt=function(){var Z;try{Z=new r.DataTransfer}catch{try{Z=new r.ClipboardEvent("").clipboardData}catch{}}return Z&&Z.items&&Z.files?Z:null},ct=function(Z,ie,me){if(q(ie,Z))return Y(ie,Z);var Te=me||p(Z),qe,pe,rt,_t,Fe,Ge;if(Te==="SharedArrayBuffer")it?qe=it(Z):qe=Z;else{var Xe=r.DataView;!Xe&&!s(Z.slice)&&be("ArrayBuffer");try{if(s(Z.slice)&&!Z.resizable)qe=Z.slice(0);else for(pe=Z.byteLength,rt=("maxByteLength"in Z)?{maxByteLength:Z.maxByteLength}:void 0,qe=new ArrayBuffer(pe,rt),_t=new Xe(Z),Fe=new Xe(qe),Ge=0;Ge<pe;Ge++)Fe.setUint8(Ge,_t.getUint8(Ge))}catch{throw new Q("ArrayBuffer is detached",ae)}}return z(ie,Z,qe),qe},ot=function(Z,ie,me,Te,qe){var pe=r[ie];return c(pe)||be(ie),new pe(ct(Z.buffer,qe),me,Te)},$e=function(Z,ie){if(A(Z)&&Ie("Symbol"),!c(Z))return Z;if(ie){if(q(ie,Z))return Y(ie,Z)}else ie=new H;var me=p(Z),Te,qe,pe,rt,_t,Fe,Ge,Xe;switch(me){case"Array":pe=U(b(Z));break;case"Object":pe={};break;case"Map":pe=new H;break;case"Set":pe=new V;break;case"RegExp":pe=new RegExp(Z.source,S(Z));break;case"Error":switch(qe=Z.name,qe){case"AggregateError":pe=new(n(qe))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":pe=new(n(qe));break;case"CompileError":case"LinkError":case"RuntimeError":pe=new(n("WebAssembly",qe));break;default:pe=new j}break;case"DOMException":pe=new Q(Z.message,Z.name);break;case"ArrayBuffer":case"SharedArrayBuffer":pe=ct(Z,ie,me);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Fe=me==="DataView"?Z.byteLength:Z.length,pe=ot(Z,me,Z.byteOffset,Fe,ie);break;case"DOMQuad":try{pe=new DOMQuad($e(Z.p1,ie),$e(Z.p2,ie),$e(Z.p3,ie),$e(Z.p4,ie))}catch{pe=Be(Z,me)}break;case"File":if(it)try{pe=it(Z),p(pe)!==me&&(pe=void 0)}catch{}if(!pe)try{pe=new File([Z],Z.name,Z)}catch{}pe||be(me);break;case"FileList":if(rt=tt(),rt){for(_t=0,Fe=b(Z);_t<Fe;_t++)rt.items.add($e(Z[_t],ie));pe=rt.files}else pe=Be(Z,me);break;case"ImageData":try{pe=new ImageData($e(Z.data,ie),Z.width,Z.height,{colorSpace:Z.colorSpace})}catch{pe=Be(Z,me)}break;default:if(it)pe=it(Z);else switch(me){case"BigInt":pe=M(Z.valueOf());break;case"Boolean":pe=M(de(Z));break;case"Number":pe=M(oe(Z));break;case"String":pe=M(re(Z));break;case"Date":pe=new F(se(Z));break;case"Blob":try{pe=Z.slice(0,Z.size,Z.type)}catch{be(me)}break;case"DOMPoint":case"DOMPointReadOnly":Te=r[me];try{pe=Te.fromPoint?Te.fromPoint(Z):new Te(Z.x,Z.y,Z.z,Z.w)}catch{be(me)}break;case"DOMRect":case"DOMRectReadOnly":Te=r[me];try{pe=Te.fromRect?Te.fromRect(Z):new Te(Z.x,Z.y,Z.width,Z.height)}catch{be(me)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Te=r[me];try{pe=Te.fromMatrix?Te.fromMatrix(Z):new Te(Z)}catch{be(me)}break;case"AudioData":case"VideoFrame":s(Z.clone)||be(me);try{pe=Z.clone()}catch{Ie(me)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":be(me);default:Ie(me)}}switch(z(ie,Z,pe),me){case"Array":case"Object":for(Ge=J(Z),_t=0,Fe=b(Ge);_t<Fe;_t++)Xe=Ge[_t],m(pe,Xe,$e(Z[Xe],ie));break;case"Map":Z.forEach(function(et,Tt){z(pe,$e(Tt,ie),$e(et,ie))});break;case"Set":Z.forEach(function(et){X(pe,$e(et,ie))});break;case"Error":w(pe,"message",$e(Z.message,ie)),g(Z,"cause")&&w(pe,"cause",$e(Z.cause,ie)),qe==="AggregateError"?pe.errors=$e(Z.errors,ie):qe==="SuppressedError"&&(pe.error=$e(Z.error,ie),pe.suppressed=$e(Z.suppressed,ie));case"DOMException":R&&w(pe,"stack",$e(Z.stack,ie))}return pe},kt=function(Z,ie){if(!c(Z))throw new L("Transfer option cannot be converted to a sequence");var me=[];d(Z,function(Tt){le(me,f(Tt))});for(var Te=0,qe=b(me),pe=new V,rt,_t,Fe,Ge,Xe,et;Te<qe;){if(rt=me[Te++],_t=p(rt),_t==="ArrayBuffer"?ee(pe,rt):q(ie,rt))throw new Q("Duplicate transferable",ae);if(_t==="ArrayBuffer"){X(pe,rt);continue}if(P)Ge=Le(rt,{transfer:[rt]});else switch(_t){case"ImageBitmap":Fe=r.OffscreenCanvas,l(Fe)||be(_t,Ee);try{Xe=new Fe(rt.width,rt.height),et=Xe.getContext("bitmaprenderer"),et.transferFromImageBitmap(rt),Ge=Xe.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!s(rt.clone)||!s(rt.close))&&be(_t,Ee);try{Ge=rt.clone(),rt.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":be(_t,Ee)}if(Ge===void 0)throw new Q("This object cannot be transferred: "+_t,ae);z(ie,rt,Ge)}return pe},Nt=function(Z){B(Z,function(ie){P?it(ie,{transfer:[ie]}):s(ie.transfer)?ie.transfer():T?T(ie):be("ArrayBuffer",Ee)})};return e({global:!0,enumerable:!0,sham:!P,forced:st},{structuredClone:function(ie){var me=C(arguments.length,1)>1&&!u(arguments[1])?f(arguments[1]):void 0,Te=me?me.transfer:void 0,qe,pe;Te!==void 0&&(qe=new H,pe=kt(Te,qe));var rt=$e(ie,qe);return pe&&Nt(pe),rt}}),j1e}var N1e={},$1e={},Q1e;function VBt(){if(Q1e)return $1e;Q1e=1;var t=G(),e=lt(),r=Mq(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),$1e}var H1e={},q1e;function YBt(){if(q1e)return H1e;q1e=1;var t=G(),e=lt(),r=Mq(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),H1e}var K1e;function XBt(){return K1e||(K1e=1,VBt(),YBt()),N1e}var z1e={},W1e={},WL,G1e;function SI(){if(G1e)return WL;G1e=1;var t=Ve(),e=Lt(),r=Ft(),n=cr(),i=e("iterator");return WL=!t(function(){var a=new URL("b?a=1&b=2&c=3","https://a"),o=a.searchParams,s=new URLSearchParams("a=1&a=2&b=3"),l="";return a.pathname="c%20d",o.forEach(function(u,c){o.delete("b"),l+=c+u}),s.delete("a",2),s.delete("b",void 0),n&&(!a.toJSON||!s.has("a",1)||s.has("a",2)||!s.has("a",void 0)||s.has("b"))||!o.size&&(n||!r)||!o.sort||a.href!=="https://a/c%20d?a=1&c=3"||o.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!o[i]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||l!=="a1c3"||new URL("https://x",void 0).host!=="x"}),WL}var GL,V1e;function JBt(){if(V1e)return GL;V1e=1;var t=ke(),e=2147483647,r=36,n=1,i=26,a=38,o=700,s=72,l=128,u="-",c=/[^\0-\u007E]/,A=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",f=r-n,p=RangeError,g=t(A.exec),m=Math.floor,w=String.fromCharCode,b=t("".charCodeAt),C=t([].join),S=t([].push),x=t("".replace),_=t("".split),B=t("".toLowerCase),T=function(U){for(var F=[],j=0,L=U.length;j<L;){var $=b(U,j++);if($>=55296&&$<=56319&&j<L){var Q=b(U,j++);(Q&64512)===56320?S(F,(($&1023)<<10)+(Q&1023)+65536):(S(F,$),j--)}else S(F,$)}return F},R=function(U){return U+22+75*(U<26)},P=function(U,F,j){var L=0;for(U=j?m(U/o):U>>1,U+=m(U/F);U>f*i>>1;)U=m(U/f),L+=r;return m(L+(f+1)*U/(U+a))},M=function(U){var F=[];U=T(U);var j=U.length,L=l,$=0,Q=s,H,q;for(H=0;H<U.length;H++)q=U[H],q<128&&S(F,w(q));var Y=F.length,z=Y;for(Y&&S(F,u);z<j;){var V=e;for(H=0;H<U.length;H++)q=U[H],q>=L&&q<V&&(V=q);var X=z+1;if(V-L>m((e-$)/X))throw new p(d);for($+=(V-L)*X,L=V,H=0;H<U.length;H++){if(q=U[H],q<L&&++$>e)throw new p(d);if(q===L){for(var ee=$,J=r;;){var le=J<=Q?n:J>=Q+i?i:J-Q;if(ee<le)break;var de=ee-le,oe=r-le;S(F,w(R(le+de%oe))),ee=m(de/oe),J+=r}S(F,w(R(ee))),Q=P($,X,z===Y),$=0,z++}}$++,L++}return C(F,"")};return GL=function(U){var F=[],j=_(x(B(U),A,"."),"."),L,$;for(L=0;L<j.length;L++)$=j[L],S(F,g(c,$)?"xn--"+M($):$);return C(F,".")},GL}var VL,Y1e;function iUe(){if(Y1e)return VL;Y1e=1,ZE(),pke();var t=G(),e=lt(),r=qFe(),n=qt(),i=ft(),a=ke(),o=Ft(),s=SI(),l=Vr(),u=Fn(),c=Jl(),A=Ko(),d=ph(),f=Qr(),p=go(),g=rr(),m=or(),w=sn(),b=Ho(),C=At(),S=Vt(),x=Xt(),_=wi(),B=vs(),T=hh(),R=sA(),P=ta(),M=ol(),U=Lt(),F=cq(),j=U("iterator"),L="URLSearchParams",$=L+"Iterator",Q=f.set,H=f.getterFor(L),q=f.getterFor($),Y=r("fetch"),z=r("Request"),V=r("Headers"),X=z&&z.prototype,ee=V&&V.prototype,J=e.TypeError,le=e.encodeURIComponent,de=String.fromCharCode,oe=n("String","fromCodePoint"),re=parseInt,se=a("".charAt),he=a([].join),ae=a([].push),Ee=a("".replace),Oe=a([].shift),Ne=a([].splice),De=a("".split),Le=a("".slice),st=a(/./.exec),ut=/\+/g,it="",Ie=/^[0-9a-f]+$/i,be=function(Fe,Ge){var Xe=Le(Fe,Ge,Ge+2);return st(Ie,Xe)?re(Xe,16):NaN},Be=function(Fe){for(var Ge=0,Xe=128;Xe>0&&(Fe&Xe)!==0;Xe>>=1)Ge++;return Ge},tt=function(Fe){var Ge=null;switch(Fe.length){case 1:Ge=Fe[0];break;case 2:Ge=(Fe[0]&31)<<6|Fe[1]&63;break;case 3:Ge=(Fe[0]&15)<<12|(Fe[1]&63)<<6|Fe[2]&63;break;case 4:Ge=(Fe[0]&7)<<18|(Fe[1]&63)<<12|(Fe[2]&63)<<6|Fe[3]&63;break}return Ge>1114111?null:Ge},ct=function(Fe){Fe=Ee(Fe,ut," ");for(var Ge=Fe.length,Xe="",et=0;et<Ge;){var Tt=se(Fe,et);if(Tt==="%"){if(se(Fe,et+1)==="%"||et+3>Ge){Xe+="%",et++;continue}var ir=be(Fe,et+1);if(ir!==ir){Xe+=Tt,et++;continue}et+=2;var Er=Be(ir);if(Er===0)Tt=de(ir);else{if(Er===1||Er>4){Xe+=it,et++;continue}for(var Lr=[ir],ln=1;ln<Er&&(et++,!(et+3>Ge||se(Fe,et)!=="%"));){var qn=be(Fe,et+1);if(qn!==qn){et+=3;break}if(qn>191||qn<128)break;ae(Lr,qn),et+=2,ln++}if(Lr.length!==Er){Xe+=it;continue}var Si=tt(Lr);Si===null?Xe+=it:Tt=oe(Si)}}Xe+=Tt,et++}return Xe},ot=/[!'()~]|%20/g,$e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},kt=function(Fe){return $e[Fe]},Nt=function(Fe){return Ee(le(Fe),ot,kt)},Z=d(function(Ge,Xe){Q(this,{type:$,target:H(Ge).entries,index:0,kind:Xe})},L,function(){var Ge=q(this),Xe=Ge.target,et=Ge.index++;if(!Xe||et>=Xe.length)return Ge.target=null,P(void 0,!0);var Tt=Xe[et];switch(Ge.kind){case"keys":return P(Tt.key,!1);case"values":return P(Tt.value,!1)}return P([Tt.key,Tt.value],!1)},!0),ie=function(Fe){this.entries=[],this.url=null,Fe!==void 0&&(S(Fe)?this.parseObject(Fe):this.parseQuery(typeof Fe=="string"?se(Fe,0)==="?"?Le(Fe,1):Fe:x(Fe)))};ie.prototype={type:L,bindURL:function(Fe){this.url=Fe,this.update()},parseObject:function(Fe){var Ge=this.entries,Xe=R(Fe),et,Tt,ir,Er,Lr,ln,qn;if(Xe)for(et=T(Fe,Xe),Tt=et.next;!(ir=i(Tt,et)).done;){if(Er=T(C(ir.value)),Lr=Er.next,(ln=i(Lr,Er)).done||(qn=i(Lr,Er)).done||!i(Lr,Er).done)throw new J("Expected sequence with length 2");ae(Ge,{key:x(ln.value),value:x(qn.value)})}else for(var Si in Fe)m(Fe,Si)&&ae(Ge,{key:Si,value:x(Fe[Si])})},parseQuery:function(Fe){if(Fe)for(var Ge=this.entries,Xe=De(Fe,"&"),et=0,Tt,ir;et<Xe.length;)Tt=Xe[et++],Tt.length&&(ir=De(Tt,"="),ae(Ge,{key:ct(Oe(ir)),value:ct(he(ir,"="))}))},serialize:function(){for(var Fe=this.entries,Ge=[],Xe=0,et;Xe<Fe.length;)et=Fe[Xe++],ae(Ge,Nt(et.key)+"="+Nt(et.value));return he(Ge,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var me=function(){p(this,Te);var Ge=arguments.length>0?arguments[0]:void 0,Xe=Q(this,new ie(Ge));o||(this.size=Xe.entries.length)},Te=me.prototype;if(c(Te,{append:function(Ge,Xe){var et=H(this);M(arguments.length,2),ae(et.entries,{key:x(Ge),value:x(Xe)}),o||this.length++,et.updateURL()},delete:function(Fe){for(var Ge=H(this),Xe=M(arguments.length,1),et=Ge.entries,Tt=x(Fe),ir=Xe<2?void 0:arguments[1],Er=ir===void 0?ir:x(ir),Lr=0;Lr<et.length;){var ln=et[Lr];if(ln.key===Tt&&(Er===void 0||ln.value===Er)){if(Ne(et,Lr,1),Er!==void 0)break}else Lr++}o||(this.size=et.length),Ge.updateURL()},get:function(Ge){var Xe=H(this).entries;M(arguments.length,1);for(var et=x(Ge),Tt=0;Tt<Xe.length;Tt++)if(Xe[Tt].key===et)return Xe[Tt].value;return null},getAll:function(Ge){var Xe=H(this).entries;M(arguments.length,1);for(var et=x(Ge),Tt=[],ir=0;ir<Xe.length;ir++)Xe[ir].key===et&&ae(Tt,Xe[ir].value);return Tt},has:function(Ge){for(var Xe=H(this).entries,et=M(arguments.length,1),Tt=x(Ge),ir=et<2?void 0:arguments[1],Er=ir===void 0?ir:x(ir),Lr=0;Lr<Xe.length;){var ln=Xe[Lr++];if(ln.key===Tt&&(Er===void 0||ln.value===Er))return!0}return!1},set:function(Ge,Xe){var et=H(this);M(arguments.length,1);for(var Tt=et.entries,ir=!1,Er=x(Ge),Lr=x(Xe),ln=0,qn;ln<Tt.length;ln++)qn=Tt[ln],qn.key===Er&&(ir?Ne(Tt,ln--,1):(ir=!0,qn.value=Lr));ir||ae(Tt,{key:Er,value:Lr}),o||(this.size=Tt.length),et.updateURL()},sort:function(){var Ge=H(this);F(Ge.entries,function(Xe,et){return Xe.key>et.key?1:-1}),Ge.updateURL()},forEach:function(Ge){for(var Xe=H(this).entries,et=w(Ge,arguments.length>1?arguments[1]:void 0),Tt=0,ir;Tt<Xe.length;)ir=Xe[Tt++],et(ir.value,ir.key,this)},keys:function(){return new Z(this,"keys")},values:function(){return new Z(this,"values")},entries:function(){return new Z(this,"entries")}},{enumerable:!0}),l(Te,j,Te.entries,{name:"entries"}),l(Te,"toString",function(){return H(this).serialize()},{enumerable:!0}),o&&u(Te,"size",{get:function(){return H(this).entries.length},configurable:!0,enumerable:!0}),A(me,L),t({global:!0,constructor:!0,forced:!s},{URLSearchParams:me}),!s&&g(V)){var qe=a(ee.has),pe=a(ee.set),rt=function(Fe){if(S(Fe)){var Ge=Fe.body,Xe;if(b(Ge)===L)return Xe=Fe.headers?new V(Fe.headers):new V,qe(Xe,"content-type")||pe(Xe,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(Fe,{body:B(0,x(Ge)),headers:B(0,Xe)})}return Fe};if(g(Y)&&t({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(Ge){return Y(Ge,arguments.length>1?rt(arguments[1]):{})}}),g(z)){var _t=function(Ge){return p(this,X),new z(Ge,arguments.length>1?rt(arguments[1]):{})};X.constructor=_t,_t.prototype=X,t({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:_t})}}return VL={URLSearchParams:me,getState:H},VL}var X1e;function ZBt(){if(X1e)return W1e;X1e=1,mke();var t=G(),e=Ft(),r=SI(),n=lt(),i=sn(),a=ke(),o=Vr(),s=Fn(),l=go(),u=or(),c=LFe(),A=HMe(),d=bs(),f=rm().codeAt,p=JBt(),g=Xt(),m=Ko(),w=ol(),b=iUe(),C=Qr(),S=C.set,x=C.getterFor("URL"),_=b.URLSearchParams,B=b.getState,T=n.URL,R=n.TypeError,P=n.parseInt,M=Math.floor,U=Math.pow,F=a("".charAt),j=a(/./.exec),L=a([].join),$=a(1 .toString),Q=a([].pop),H=a([].push),q=a("".replace),Y=a([].shift),z=a("".split),V=a("".slice),X=a("".toLowerCase),ee=a([].unshift),J="Invalid authority",le="Invalid scheme",de="Invalid host",oe="Invalid port",re=/[a-z]/i,se=/[\d+-.a-z]/i,he=/\d/,ae=/^0x/i,Ee=/^[0-7]+$/,Oe=/^\d+$/,Ne=/^[\da-f]+$/i,De=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Le=/[\0\t\n\r #/:<>?@[\\\]^|]/,st=/^[\u0000-\u0020]+/,ut=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,it=/[\t\n\r]/g,Ie,be=function(xe){var Ye=z(xe,"."),Pe,ge,He,Dt,St,Cn,ar;if(Ye.length&&Ye[Ye.length-1]===""&&Ye.length--,Pe=Ye.length,Pe>4)return xe;for(ge=[],He=0;He<Pe;He++){if(Dt=Ye[He],Dt==="")return xe;if(St=10,Dt.length>1&&F(Dt,0)==="0"&&(St=j(ae,Dt)?16:8,Dt=V(Dt,St===8?1:2)),Dt==="")Cn=0;else{if(!j(St===10?Oe:St===8?Ee:Ne,Dt))return xe;Cn=P(Dt,St)}H(ge,Cn)}for(He=0;He<Pe;He++)if(Cn=ge[He],He===Pe-1){if(Cn>=U(256,5-Pe))return null}else if(Cn>255)return null;for(ar=Q(ge),He=0;He<ge.length;He++)ar+=ge[He]*U(256,3-He);return ar},Be=function(xe){var Ye=[0,0,0,0,0,0,0,0],Pe=0,ge=null,He=0,Dt,St,Cn,ar,oi,Hi,Ke,_n=function(){return F(xe,He)};if(_n()===":"){if(F(xe,1)!==":")return;He+=2,Pe++,ge=Pe}for(;_n();){if(Pe===8)return;if(_n()===":"){if(ge!==null)return;He++,Pe++,ge=Pe;continue}for(Dt=St=0;St<4&&j(Ne,_n());)Dt=Dt*16+P(_n(),16),He++,St++;if(_n()==="."){if(St===0||(He-=St,Pe>6))return;for(Cn=0;_n();){if(ar=null,Cn>0)if(_n()==="."&&Cn<4)He++;else return;if(!j(he,_n()))return;for(;j(he,_n());){if(oi=P(_n(),10),ar===null)ar=oi;else{if(ar===0)return;ar=ar*10+oi}if(ar>255)return;He++}Ye[Pe]=Ye[Pe]*256+ar,Cn++,(Cn===2||Cn===4)&&Pe++}if(Cn!==4)return;break}else if(_n()===":"){if(He++,!_n())return}else if(_n())return;Ye[Pe++]=Dt}if(ge!==null)for(Hi=Pe-ge,Pe=7;Pe!==0&&Hi>0;)Ke=Ye[Pe],Ye[Pe--]=Ye[ge+Hi-1],Ye[ge+--Hi]=Ke;else if(Pe!==8)return;return Ye},tt=function(xe){for(var Ye=null,Pe=1,ge=null,He=0,Dt=0;Dt<8;Dt++)xe[Dt]!==0?(He>Pe&&(Ye=ge,Pe=He),ge=null,He=0):(ge===null&&(ge=Dt),++He);return He>Pe?ge:Ye},ct=function(xe){var Ye,Pe,ge,He;if(typeof xe=="number"){for(Ye=[],Pe=0;Pe<4;Pe++)ee(Ye,xe%256),xe=M(xe/256);return L(Ye,".")}if(typeof xe=="object"){for(Ye="",ge=tt(xe),Pe=0;Pe<8;Pe++)He&&xe[Pe]===0||(He&&(He=!1),ge===Pe?(Ye+=Pe?":":"::",He=!0):(Ye+=$(xe[Pe],16),Pe<7&&(Ye+=":")));return"["+Ye+"]"}return xe},ot={},$e=c({},ot,{" ":1,'"':1,"<":1,">":1,"`":1}),kt=c({},$e,{"#":1,"?":1,"{":1,"}":1}),Nt=c({},kt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(xe,Ye){var Pe=f(xe,0);return Pe>32&&Pe<127&&!u(Ye,xe)?xe:encodeURIComponent(xe)},ie={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(xe,Ye){var Pe;return xe.length===2&&j(re,F(xe,0))&&((Pe=F(xe,1))===":"||!Ye&&Pe==="|")},Te=function(xe){var Ye;return xe.length>1&&me(V(xe,0,2))&&(xe.length===2||(Ye=F(xe,2))==="/"||Ye==="\\"||Ye==="?"||Ye==="#")},qe=function(xe){return xe==="."||X(xe)==="%2e"},pe=function(xe){return xe=X(xe),xe===".."||xe==="%2e."||xe===".%2e"||xe==="%2e%2e"},rt={},_t={},Fe={},Ge={},Xe={},et={},Tt={},ir={},Er={},Lr={},ln={},qn={},Si={},hA={},nu={},sc={},wo={},bo={},cl={},Ca={},Jn={},lc=function(xe,Ye,Pe){var ge=g(xe),He,Dt,St;if(Ye){if(Dt=this.parse(ge),Dt)throw new R(Dt);this.searchParams=null}else{if(Pe!==void 0&&(He=new lc(Pe,!0)),Dt=this.parse(ge,null,He),Dt)throw new R(Dt);St=B(new _),St.bindURL(this),this.searchParams=St}};lc.prototype={type:"URL",parse:function(xe,Ye,Pe){var ge=this,He=Ye||rt,Dt=0,St="",Cn=!1,ar=!1,oi=!1,Hi,Ke,_n,Go;for(xe=g(xe),Ye||(ge.scheme="",ge.username="",ge.password="",ge.host=null,ge.port=null,ge.path=[],ge.query=null,ge.fragment=null,ge.cannotBeABaseURL=!1,xe=q(xe,st,""),xe=q(xe,ut,"$1")),xe=q(xe,it,""),Hi=A(xe);Dt<=Hi.length;){switch(Ke=Hi[Dt],He){case rt:if(Ke&&j(re,Ke))St+=X(Ke),He=_t;else{if(Ye)return le;He=Fe;continue}break;case _t:if(Ke&&(j(se,Ke)||Ke==="+"||Ke==="-"||Ke==="."))St+=X(Ke);else if(Ke===":"){if(Ye&&(ge.isSpecial()!==u(ie,St)||St==="file"&&(ge.includesCredentials()||ge.port!==null)||ge.scheme==="file"&&!ge.host))return;if(ge.scheme=St,Ye){ge.isSpecial()&&ie[ge.scheme]===ge.port&&(ge.port=null);return}St="",ge.scheme==="file"?He=hA:ge.isSpecial()&&Pe&&Pe.scheme===ge.scheme?He=Ge:ge.isSpecial()?He=ir:Hi[Dt+1]==="/"?(He=Xe,Dt++):(ge.cannotBeABaseURL=!0,H(ge.path,""),He=cl)}else{if(Ye)return le;St="",He=Fe,Dt=0;continue}break;case Fe:if(!Pe||Pe.cannotBeABaseURL&&Ke!=="#")return le;if(Pe.cannotBeABaseURL&&Ke==="#"){ge.scheme=Pe.scheme,ge.path=d(Pe.path),ge.query=Pe.query,ge.fragment="",ge.cannotBeABaseURL=!0,He=Jn;break}He=Pe.scheme==="file"?hA:et;continue;case Ge:if(Ke==="/"&&Hi[Dt+1]==="/")He=Er,Dt++;else{He=et;continue}break;case Xe:if(Ke==="/"){He=Lr;break}else{He=bo;continue}case et:if(ge.scheme=Pe.scheme,Ke===Ie)ge.username=Pe.username,ge.password=Pe.password,ge.host=Pe.host,ge.port=Pe.port,ge.path=d(Pe.path),ge.query=Pe.query;else if(Ke==="/"||Ke==="\\"&&ge.isSpecial())He=Tt;else if(Ke==="?")ge.username=Pe.username,ge.password=Pe.password,ge.host=Pe.host,ge.port=Pe.port,ge.path=d(Pe.path),ge.query="",He=Ca;else if(Ke==="#")ge.username=Pe.username,ge.password=Pe.password,ge.host=Pe.host,ge.port=Pe.port,ge.path=d(Pe.path),ge.query=Pe.query,ge.fragment="",He=Jn;else{ge.username=Pe.username,ge.password=Pe.password,ge.host=Pe.host,ge.port=Pe.port,ge.path=d(Pe.path),ge.path.length--,He=bo;continue}break;case Tt:if(ge.isSpecial()&&(Ke==="/"||Ke==="\\"))He=Er;else if(Ke==="/")He=Lr;else{ge.username=Pe.username,ge.password=Pe.password,ge.host=Pe.host,ge.port=Pe.port,He=bo;continue}break;case ir:if(He=Er,Ke!=="/"||F(St,Dt+1)!=="/")continue;Dt++;break;case Er:if(Ke!=="/"&&Ke!=="\\"){He=Lr;continue}break;case Lr:if(Ke==="@"){Cn&&(St="%40"+St),Cn=!0,_n=A(St);for(var ro=0;ro<_n.length;ro++){var uc=_n[ro];if(uc===":"&&!oi){oi=!0;continue}var no=Z(uc,Nt);oi?ge.password+=no:ge.username+=no}St=""}else if(Ke===Ie||Ke==="/"||Ke==="?"||Ke==="#"||Ke==="\\"&&ge.isSpecial()){if(Cn&&St==="")return J;Dt-=A(St).length+1,St="",He=ln}else St+=Ke;break;case ln:case qn:if(Ye&&ge.scheme==="file"){He=sc;continue}else if(Ke===":"&&!ar){if(St==="")return de;if(Go=ge.parseHost(St),Go)return Go;if(St="",He=Si,Ye===qn)return}else if(Ke===Ie||Ke==="/"||Ke==="?"||Ke==="#"||Ke==="\\"&&ge.isSpecial()){if(ge.isSpecial()&&St==="")return de;if(Ye&&St===""&&(ge.includesCredentials()||ge.port!==null))return;if(Go=ge.parseHost(St),Go)return Go;if(St="",He=wo,Ye)return;continue}else Ke==="["?ar=!0:Ke==="]"&&(ar=!1),St+=Ke;break;case Si:if(j(he,Ke))St+=Ke;else if(Ke===Ie||Ke==="/"||Ke==="?"||Ke==="#"||Ke==="\\"&&ge.isSpecial()||Ye){if(St!==""){var qd=P(St,10);if(qd>65535)return oe;ge.port=ge.isSpecial()&&qd===ie[ge.scheme]?null:qd,St=""}if(Ye)return;He=wo;continue}else return oe;break;case hA:if(ge.scheme="file",Ke==="/"||Ke==="\\")He=nu;else if(Pe&&Pe.scheme==="file")switch(Ke){case Ie:ge.host=Pe.host,ge.path=d(Pe.path),ge.query=Pe.query;break;case"?":ge.host=Pe.host,ge.path=d(Pe.path),ge.query="",He=Ca;break;case"#":ge.host=Pe.host,ge.path=d(Pe.path),ge.query=Pe.query,ge.fragment="",He=Jn;break;default:Te(L(d(Hi,Dt),""))||(ge.host=Pe.host,ge.path=d(Pe.path),ge.shortenPath()),He=bo;continue}else{He=bo;continue}break;case nu:if(Ke==="/"||Ke==="\\"){He=sc;break}Pe&&Pe.scheme==="file"&&!Te(L(d(Hi,Dt),""))&&(me(Pe.path[0],!0)?H(ge.path,Pe.path[0]):ge.host=Pe.host),He=bo;continue;case sc:if(Ke===Ie||Ke==="/"||Ke==="\\"||Ke==="?"||Ke==="#"){if(!Ye&&me(St))He=bo;else if(St===""){if(ge.host="",Ye)return;He=wo}else{if(Go=ge.parseHost(St),Go)return Go;if(ge.host==="localhost"&&(ge.host=""),Ye)return;St="",He=wo}continue}else St+=Ke;break;case wo:if(ge.isSpecial()){if(He=bo,Ke!=="/"&&Ke!=="\\")continue}else if(!Ye&&Ke==="?")ge.query="",He=Ca;else if(!Ye&&Ke==="#")ge.fragment="",He=Jn;else if(Ke!==Ie&&(He=bo,Ke!=="/"))continue;break;case bo:if(Ke===Ie||Ke==="/"||Ke==="\\"&&ge.isSpecial()||!Ye&&(Ke==="?"||Ke==="#")){if(pe(St)?(ge.shortenPath(),Ke!=="/"&&!(Ke==="\\"&&ge.isSpecial())&&H(ge.path,"")):qe(St)?Ke!=="/"&&!(Ke==="\\"&&ge.isSpecial())&&H(ge.path,""):(ge.scheme==="file"&&!ge.path.length&&me(St)&&(ge.host&&(ge.host=""),St=F(St,0)+":"),H(ge.path,St)),St="",ge.scheme==="file"&&(Ke===Ie||Ke==="?"||Ke==="#"))for(;ge.path.length>1&&ge.path[0]==="";)Y(ge.path);Ke==="?"?(ge.query="",He=Ca):Ke==="#"&&(ge.fragment="",He=Jn)}else St+=Z(Ke,kt);break;case cl:Ke==="?"?(ge.query="",He=Ca):Ke==="#"?(ge.fragment="",He=Jn):Ke!==Ie&&(ge.path[0]+=Z(Ke,ot));break;case Ca:!Ye&&Ke==="#"?(ge.fragment="",He=Jn):Ke!==Ie&&(Ke==="'"&&ge.isSpecial()?ge.query+="%27":Ke==="#"?ge.query+="%23":ge.query+=Z(Ke,ot));break;case Jn:Ke!==Ie&&(ge.fragment+=Z(Ke,$e));break}Dt++}},parseHost:function(xe){var Ye,Pe,ge;if(F(xe,0)==="["){if(F(xe,xe.length-1)!=="]"||(Ye=Be(V(xe,1,-1)),!Ye))return de;this.host=Ye}else if(this.isSpecial()){if(xe=p(xe),j(De,xe)||(Ye=be(xe),Ye===null))return de;this.host=Ye}else{if(j(Le,xe))return de;for(Ye="",Pe=A(xe),ge=0;ge<Pe.length;ge++)Ye+=Z(Pe[ge],ot);this.host=Ye}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return u(ie,this.scheme)},shortenPath:function(){var xe=this.path,Ye=xe.length;Ye&&(this.scheme!=="file"||Ye!==1||!me(xe[0],!0))&&xe.length--},serialize:function(){var xe=this,Ye=xe.scheme,Pe=xe.username,ge=xe.password,He=xe.host,Dt=xe.port,St=xe.path,Cn=xe.query,ar=xe.fragment,oi=Ye+":";return He!==null?(oi+="//",xe.includesCredentials()&&(oi+=Pe+(ge?":"+ge:"")+"@"),oi+=ct(He),Dt!==null&&(oi+=":"+Dt)):Ye==="file"&&(oi+="//"),oi+=xe.cannotBeABaseURL?St[0]:St.length?"/"+L(St,"/"):"",Cn!==null&&(oi+="?"+Cn),ar!==null&&(oi+="#"+ar),oi},setHref:function(xe){var Ye=this.parse(xe);if(Ye)throw new R(Ye);this.searchParams.update()},getOrigin:function(){var xe=this.scheme,Ye=this.port;if(xe==="blob")try{return new iu(xe.path[0]).origin}catch{return"null"}return xe==="file"||!this.isSpecial()?"null":xe+"://"+ct(this.host)+(Ye!==null?":"+Ye:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(xe){this.parse(g(xe)+":",rt)},getUsername:function(){return this.username},setUsername:function(xe){var Ye=A(g(xe));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Pe=0;Pe<Ye.length;Pe++)this.username+=Z(Ye[Pe],Nt)}},getPassword:function(){return this.password},setPassword:function(xe){var Ye=A(g(xe));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Pe=0;Pe<Ye.length;Pe++)this.password+=Z(Ye[Pe],Nt)}},getHost:function(){var xe=this.host,Ye=this.port;return xe===null?"":Ye===null?ct(xe):ct(xe)+":"+Ye},setHost:function(xe){this.cannotBeABaseURL||this.parse(xe,ln)},getHostname:function(){var xe=this.host;return xe===null?"":ct(xe)},setHostname:function(xe){this.cannotBeABaseURL||this.parse(xe,qn)},getPort:function(){var xe=this.port;return xe===null?"":g(xe)},setPort:function(xe){this.cannotHaveUsernamePasswordPort()||(xe=g(xe),xe===""?this.port=null:this.parse(xe,Si))},getPathname:function(){var xe=this.path;return this.cannotBeABaseURL?xe[0]:xe.length?"/"+L(xe,"/"):""},setPathname:function(xe){this.cannotBeABaseURL||(this.path=[],this.parse(xe,wo))},getSearch:function(){var xe=this.query;return xe?"?"+xe:""},setSearch:function(xe){xe=g(xe),xe===""?this.query=null:(F(xe,0)==="?"&&(xe=V(xe,1)),this.query="",this.parse(xe,Ca)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var xe=this.fragment;return xe?"#"+xe:""},setHash:function(xe){if(xe=g(xe),xe===""){this.fragment=null;return}F(xe,0)==="#"&&(xe=V(xe,1)),this.fragment="",this.parse(xe,Jn)},update:function(){this.query=this.searchParams.serialize()||null}};var iu=function(Ye){var Pe=l(this,Oi),ge=w(arguments.length,1)>1?arguments[1]:void 0,He=S(Pe,new lc(Ye,!1,ge));e||(Pe.href=He.serialize(),Pe.origin=He.getOrigin(),Pe.protocol=He.getProtocol(),Pe.username=He.getUsername(),Pe.password=He.getPassword(),Pe.host=He.getHost(),Pe.hostname=He.getHostname(),Pe.port=He.getPort(),Pe.pathname=He.getPathname(),Pe.search=He.getSearch(),Pe.searchParams=He.getSearchParams(),Pe.hash=He.getHash())},Oi=iu.prototype,_a=function(xe,Ye){return{get:function(){return x(this)[xe]()},set:Ye&&function(Pe){return x(this)[Ye](Pe)},configurable:!0,enumerable:!0}};if(e&&(s(Oi,"href",_a("serialize","setHref")),s(Oi,"origin",_a("getOrigin")),s(Oi,"protocol",_a("getProtocol","setProtocol")),s(Oi,"username",_a("getUsername","setUsername")),s(Oi,"password",_a("getPassword","setPassword")),s(Oi,"host",_a("getHost","setHost")),s(Oi,"hostname",_a("getHostname","setHostname")),s(Oi,"port",_a("getPort","setPort")),s(Oi,"pathname",_a("getPathname","setPathname")),s(Oi,"search",_a("getSearch","setSearch")),s(Oi,"searchParams",_a("getSearchParams")),s(Oi,"hash",_a("getHash","setHash"))),o(Oi,"toJSON",function(){return x(this).serialize()},{enumerable:!0}),o(Oi,"toString",function(){return x(this).serialize()},{enumerable:!0}),T){var Is=T.createObjectURL,to=T.revokeObjectURL;Is&&o(iu,"createObjectURL",i(Is,T)),to&&o(iu,"revokeObjectURL",i(to,T))}return m(iu,"URL"),t({global:!0,constructor:!0,forced:!r,sham:!e},{URL:iu}),W1e}var J1e;function ePt(){return J1e||(J1e=1,ZBt()),z1e}var Z1e={},eCe;function tPt(){if(eCe)return Z1e;eCe=1;var t=G(),e=qt(),r=Ve(),n=ol(),i=Xt(),a=SI(),o=e("URL"),s=a&&r(function(){o.canParse()}),l=r(function(){return o.canParse.length!==1});return t({target:"URL",stat:!0,forced:!s||l},{canParse:function(c){var A=n(arguments.length,1),d=i(c),f=A<2||arguments[1]===void 0?void 0:i(arguments[1]);try{return!!new o(d,f)}catch{return!1}}}),Z1e}var tCe={},rCe;function rPt(){if(rCe)return tCe;rCe=1;var t=G(),e=qt(),r=ol(),n=Xt(),i=SI(),a=e("URL");return t({target:"URL",stat:!0,forced:!i},{parse:function(s){var l=r(arguments.length,1),u=n(s),c=l<2||arguments[1]===void 0?void 0:n(arguments[1]);try{return new a(u,c)}catch{return null}}}),tCe}var nCe={},iCe;function nPt(){if(iCe)return nCe;iCe=1;var t=G(),e=ft();return t({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return e(URL.prototype.toString,this)}}),nCe}var aCe={},oCe;function iPt(){return oCe||(oCe=1,iUe()),aCe}var sCe={},lCe;function aPt(){if(lCe)return sCe;lCe=1;var t=Vr(),e=ke(),r=Xt(),n=ol(),i=URLSearchParams,a=i.prototype,o=e(a.append),s=e(a.delete),l=e(a.forEach),u=e([].push),c=new i("a=1&a=2&b=3");return c.delete("a",1),c.delete("b",void 0),c+""!="a=2"&&t(a,"delete",function(A){var d=arguments.length,f=d<2?void 0:arguments[1];if(d&&f===void 0)return s(this,A);var p=[];l(this,function(_,B){u(p,{key:B,value:_})}),n(d,1);for(var g=r(A),m=r(f),w=0,b=0,C=!1,S=p.length,x;w<S;)x=p[w++],C||x.key===g?(C=!0,s(this,x.key)):b++;for(;b<S;)x=p[b++],x.key===g&&x.value===m||o(this,x.key,x.value)},{enumerable:!0,unsafe:!0}),sCe}var uCe={},cCe;function oPt(){if(cCe)return uCe;cCe=1;var t=Vr(),e=ke(),r=Xt(),n=ol(),i=URLSearchParams,a=i.prototype,o=e(a.getAll),s=e(a.has),l=new i("a=1");return(l.has("a",2)||!l.has("a",void 0))&&t(a,"has",function(c){var A=arguments.length,d=A<2?void 0:arguments[1];if(A&&d===void 0)return s(this,c);var f=o(this,c);n(A,1);for(var p=r(d),g=0;g<f.length;)if(f[g++]===p)return!0;return!1},{enumerable:!0,unsafe:!0}),uCe}var ACe={},dCe;function sPt(){if(dCe)return ACe;dCe=1;var t=Ft(),e=ke(),r=Fn(),n=URLSearchParams.prototype,i=e(n.forEach);return t&&!("size"in n)&&r(n,"size",{get:function(){var o=0;return i(this,function(){o++}),o},configurable:!0,enumerable:!0}),ACe}var YL,fCe;function lPt(){return fCe||(fCe=1,SSt(),xSt(),CSt(),_St(),ESt(),ISt(),BSt(),PSt(),TSt(),OSt(),RSt(),MSt(),FSt(),kSt(),USt(),DSt(),jSt(),jMe(),NSt(),b5(),$St(),QSt(),HSt(),qSt(),KSt(),zSt(),WSt(),NMe(),$Me(),PRe(),IRe(),GSt(),VSt(),YSt(),XSt(),JSt(),ZE(),ZSt(),e0t(),t0t(),r0t(),n0t(),i0t(),a0t(),o0t(),s0t(),l0t(),u0t(),c0t(),A0t(),GMe(),YMe(),XMe(),TRe(),BRe(),d0t(),ZMe(),h0t(),p0t(),g0t(),v0t(),rFe(),aFe(),lFe(),dFe(),fFe(),y0t(),w0t(),b0t(),S0t(),C0t(),_0t(),I0t(),B0t(),P0t(),T0t(),O0t(),R0t(),pFe(),gFe(),mFe(),vFe(),yFe(),wFe(),SFe(),xFe(),CFe(),EFe(),IFe(),BFe(),PFe(),TFe(),TMe(),M0t(),mq(),RFe(),k0t(),U0t(),D0t(),j0t(),L0t(),N0t(),$0t(),Q0t(),FFe(),H0t(),q0t(),K0t(),z0t(),W0t(),G0t(),V0t(),Y0t(),X0t(),J0t(),Z0t(),ext(),txt(),rxt(),nxt(),ixt(),axt(),oxt(),sxt(),lxt(),uxt(),cxt(),Axt(),dxt(),fxt(),hxt(),pxt(),gxt(),mxt(),vxt(),yxt(),wxt(),bxt(),Sxt(),xxt(),Cxt(),$Fe(),QFe(),_xt(),Ext(),Ixt(),Bxt(),Pxt(),Txt(),Oxt(),Rxt(),Mxt(),Fxt(),kxt(),Dxt(),jxt(),Lxt(),Nxt(),Vxt(),VFe(),YFe(),Yxt(),XFe(),JFe(),Xxt(),Jxt(),Zxt(),e1t(),t1t(),r1t(),n1t(),i1t(),a1t(),o1t(),s1t(),l1t(),u1t(),c1t(),A1t(),eke(),d1t(),FE(),f1t(),h1t(),p1t(),g1t(),v1t(),rke(),ike(),oke(),lke(),cke(),dke(),hke(),ORe(),y1t(),w1t(),pke(),b1t(),gke(),mke(),S1t(),vke(),x1t(),C1t(),_1t(),E1t(),FRe(),E5(),I1t(),B1t(),P1t(),T1t(),wke(),O1t(),M1t(),k1t(),U1t(),D1t(),j1t(),L1t(),N1t(),$1t(),Q1t(),H1t(),q1t(),K1t(),z1t(),W1t(),G1t(),V1t(),Y1t(),X1t(),J1t(),Z1t(),eCt(),tCt(),rCt(),nCt(),Eke(),iCt(),aCt(),oCt(),sCt(),lCt(),uCt(),Ike(),Bke(),cCt(),ACt(),dCt(),fCt(),hCt(),pCt(),gCt(),mCt(),vCt(),yCt(),wCt(),bCt(),SCt(),xCt(),CCt(),_Ct(),ECt(),ICt(),Pke(),Tke(),BCt(),Oke(),PCt(),Iq(),RCt(),MCt(),FCt(),UCt(),DCt(),jCt(),LCt(),NCt(),$Ct(),QCt(),HCt(),qCt(),KCt(),zCt(),WCt(),GCt(),VCt(),YCt(),XCt(),JCt(),ZCt(),e_t(),t_t(),r_t(),n_t(),i_t(),a_t(),o_t(),s_t(),l_t(),u_t(),c_t(),A_t(),d_t(),f_t(),h_t(),p_t(),g_t(),m_t(),v_t(),y_t(),w_t(),b_t(),S_t(),x_t(),C_t(),__t(),E_t(),I_t(),B_t(),P_t(),T_t(),O_t(),R_t(),M_t(),F_t(),k_t(),U_t(),D_t(),j_t(),L_t(),N_t(),$_t(),Q_t(),H_t(),q_t(),K_t(),z_t(),W_t(),G_t(),V_t(),Y_t(),X_t(),J_t(),Z_t(),eEt(),tEt(),rEt(),nEt(),iEt(),aEt(),oEt(),sEt(),lEt(),uEt(),cEt(),AEt(),dEt(),hEt(),pEt(),gEt(),mEt(),vEt(),yEt(),wEt(),bEt(),SEt(),xEt(),CEt(),_Et(),IEt(),BEt(),PEt(),TEt(),OEt(),REt(),MEt(),FEt(),kEt(),UEt(),DEt(),jEt(),LEt(),NEt(),$Et(),QEt(),HEt(),qEt(),KEt(),zEt(),WEt(),GEt(),JEt(),ZEt(),eIt(),tIt(),rIt(),nIt(),iIt(),aIt(),oIt(),sIt(),lIt(),uIt(),cIt(),AIt(),dIt(),fIt(),hIt(),pIt(),mIt(),vIt(),yIt(),wIt(),bIt(),SIt(),xIt(),CIt(),_It(),EIt(),IIt(),BIt(),PIt(),TIt(),OIt(),RIt(),MIt(),FIt(),kIt(),UIt(),DIt(),jIt(),LIt(),NIt(),$It(),HIt(),qIt(),KIt(),zIt(),WIt(),GIt(),VIt(),YIt(),XIt(),JIt(),ZIt(),eBt(),tBt(),rBt(),nBt(),iBt(),aBt(),oBt(),sBt(),lBt(),uBt(),cBt(),ABt(),dBt(),fBt(),hBt(),pBt(),gBt(),mBt(),vBt(),yBt(),wBt(),bBt(),SBt(),xBt(),CBt(),_Bt(),EBt(),IBt(),BBt(),PBt(),TBt(),OBt(),RBt(),MBt(),FBt(),kBt(),UBt(),DBt(),jBt(),LBt(),NBt(),$Bt(),QBt(),KBt(),zBt(),WBt(),GBt(),XBt(),ePt(),tPt(),rPt(),nPt(),iPt(),aPt(),oPt(),sPt(),YL=tq()),YL}var XL,hCe;function uPt(){return hCe||(hCe=1,XL=lPt()),XL}var Tv=uPt();const Xp="TLDRAW_TAB_ID_v2",Qc=globalThis.window;function cPt(){return Qc?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(Qc.navigator.platform)||tn.isDarwin&&"ontouchend"in document:!1}const VC=Qc?Qc[Xp]??fRe(Xp)??"TLDRAW_INSTANCE_STATE_V1_"+Xr():"<error>";Qc&&(Qc[Xp]=VC,cPt()?g5(Xp,VC):hRe(Xp));Qc==null||Qc.addEventListener("beforeunload",()=>{g5(Xp,VC)});const aUe={Initial:0},xI=Math.max(...Object.values(aUe));function APt(t){t.version<aUe.Initial,t.version=xI}const oUe=mr({version:zt,currentPageId:_w.optional(),isFocusMode:pr.optional(),exportBackground:pr.optional(),isDebugMode:pr.optional(),isToolLocked:pr.optional(),isGridMode:pr.optional(),pageStates:fa(mr({pageId:_w,camera:mr({x:zt,y:zt,z:zt}).optional(),selectedShapeIds:fa(js).optional(),focusedGroupId:js.nullable().optional()})).optional()});function dPt(t){if(!t||typeof t!="object")return console.warn("Invalid instance state"),null;if(!("version"in t)||typeof t.version!="number")return console.warn("No version in instance state"),null;t.version!==xI&&(t=On(t),APt(t));try{return oUe.validate(t)}catch(e){return console.warn(e),null}}function Fq(t){const e=t.query.ids("page");return je("sessionStateSnapshot",()=>{const r=t.get(co);if(!r)return null;const n=[...e.get()];return{version:xI,currentPageId:r.currentPageId,exportBackground:r.exportBackground,isFocusMode:r.isFocusMode,isDebugMode:r.isDebugMode,isToolLocked:r.isToolLocked,isGridMode:r.isGridMode,pageStates:n.map(i=>{const a=t.get(Rl.createId(i)),o=t.get(Bu.createId(i));return{pageId:i,camera:{x:(o==null?void 0:o.x)??0,y:(o==null?void 0:o.y)??0,z:(o==null?void 0:o.z)??1},selectedShapeIds:(a==null?void 0:a.selectedShapeIds)??[],focusedGroupId:(a==null?void 0:a.focusedGroupId)??null}})}},{isEqual:r2e})}function m4(t,e,r){const n=dPt(e);if(!n)return;const i=v2e(t.get(co)),a=r!=null&&r.forceOverwrite?n:i,o=r!=null&&r.forceOverwrite?i:n,s=t.schema.types.instance.create({id:co,...i,currentPageId:n.currentPageId,isDebugMode:(a==null?void 0:a.isDebugMode)??(o==null?void 0:o.isDebugMode),isFocusMode:(a==null?void 0:a.isFocusMode)??(o==null?void 0:o.isFocusMode),isToolLocked:(a==null?void 0:a.isToolLocked)??(o==null?void 0:o.isToolLocked),isGridMode:(a==null?void 0:a.isGridMode)??(o==null?void 0:o.isGridMode),exportBackground:(a==null?void 0:a.exportBackground)??(o==null?void 0:o.exportBackground)});t.atomic(()=>{var l,u,c;for(const A of n.pageStates??[]){if(!t.has(A.pageId))continue;const d=Bu.createId(A.pageId),f=Rl.createId(A.pageId),p=t.get(d),g=t.get(f);t.put([Bu.create({id:d,x:((l=A.camera)==null?void 0:l.x)??(p==null?void 0:p.x),y:((u=A.camera)==null?void 0:u.y)??(p==null?void 0:p.y),z:((c=A.camera)==null?void 0:c.z)??(p==null?void 0:p.z)}),Rl.create({id:f,pageId:A.pageId,selectedShapeIds:A.selectedShapeIds??(g==null?void 0:g.selectedShapeIds),focusedGroupId:A.focusedGroupId??(g==null?void 0:g.focusedGroupId)})])}t.put([s]),t.ensureStoreIsUsable()})}function fPt(t){var i;const e=[];for(const a of Object.values(t))(i=a.typeName)!=null&&i.match(/^(instance.*|pointer|camera)$/)&&e.push(a);const r=e.filter(a=>a.typeName==="instance"&&a.id!==co)[0];if(!r)return null;const n={version:xI,currentPageId:r.currentPageId,exportBackground:!!r.exportBackground,isFocusMode:!!r.isFocusMode,isDebugMode:!!r.isDebugMode,isToolLocked:!!r.isToolLocked,isGridMode:!1,pageStates:e.filter(a=>a.typeName==="instance_page_state"&&a.instanceId===r.id).map(a=>{const o=t[a.cameraId]??{x:0,y:0,z:1};return{pageId:a.pageId,camera:{x:o.x,y:o.y,z:o.z},selectedShapeIds:a.selectedShapeIds,focusedGroupId:a.focusedGroupId}})};try{return oUe.validate(n),n}catch{return null}}function sUe(t,e,r){let n={};if("store"in e){const o=t.schema.migrateStoreSnapshot(e);if(o.type!=="success")throw new Error("Failed to migrate store snapshot: "+o.reason);n.document={schema:t.schema.serialize(),store:wy(o.value,(s,{typeName:l})=>t.scopedTypes.document.has(l))}}else n=e;const i=v2e(t.get(co)),a=lUe.get(t,Fq).get();t.atomic(()=>{n.document&&t.loadStoreSnapshot(n.document),i&&t.update(co,o=>({...o,...i})),a&&m4(t,a),n.session&&m4(t,n.session,{forceOverwrite:r==null?void 0:r.forceOverwriteSessionState})})}const lUe=new zl;function hPt(t){const r=lUe.get(t,Fq).get();if(!r)throw new Error("Session state is not ready yet");return{document:t.getStoreSnapshot(),session:r}}function uUe(t){const e=[],r=new Set;for(const n of t){if(r.has(n.type))throw new Error(`Binding type "${n.type}" is defined more than once`);e.push(n),r.add(n.type)}return e}function pd({children:t,className:e="",...r}){return y.jsx("svg",{...r,className:Mt("tl-svg-container",e),children:t})}function kq(t,e,r,n){const i=t.x-r.x,a=t.y-r.y,o=n.x-r.x,s=n.y-r.y,l=e.x-t.x,u=e.y-t.y,c=o*a-s*i,A=l*a-u*i,d=s*l-o*u;if(c===0||A===0||d===0)return null;if(d!==0){const f=c/d,p=A/d;if(0<=f&&f<=1&&0<=p&&p<=1)return k.AddXY(t,f*l,f*u)}return null}function Mb(t,e,r,n){const i=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y),a=2*((e.x-t.x)*(t.x-r.x)+(e.y-t.y)*(t.y-r.y)),o=r.x*r.x+r.y*r.y+t.x*t.x+t.y*t.y-2*(r.x*t.x+r.y*t.y)-n*n,s=a*a-4*i*o;if(s<0||s===0)return null;const l=Math.sqrt(s),u=(-a+l)/(2*i),c=(-a-l)/(2*i);if((u<0||u>1)&&(c<0||c>1))return null;const A=[];return 0<=u&&u<=1&&A.push(k.Lrp(t,e,u)),0<=c&&c<=1&&A.push(k.Lrp(t,e,c)),A.length===0?null:A}function pPt(t,e,r){const n=[];let i;for(let a=0,o=r.length-1;a<o;a++)i=kq(t,e,r[a],r[a+1]),i&&n.push(i);return n.length===0?null:n}function Uq(t,e,r){const n=[];let i;for(let a=1,o=r.length;a<o+1;a++)i=kq(t,e,r[a-1],r[a%r.length]),i&&n.push(i);return n.length===0?null:n}function gPt(t,e,r,n){let i=r.x-t.x,a=r.y-t.y;const o=Math.sqrt(i*i+a*a),s=(o*o-n*n+e*e)/(2*o),l=Math.sqrt(e*e-s*s);return i/=o,a/=o,[new k(t.x+i*s-a*l,t.y+a*s+i*l),new k(t.x+i*s+a*l,t.y+a*s-i*l)]}function v4(t,e,r){const n=[];let i,a,o;for(let s=0,l=r.length;s<l;s++)i=r[s],a=r[(s+1)%r.length],o=Mb(i,a,t,e),o&&n.push(...o);return n.length===0?null:n}function pCe(t,e,r){const n=[];let i,a,o;for(let s=1,l=r.length;s<l;s++)i=r[s-1],a=r[s],o=Mb(i,a,t,e),o&&n.push(...o);return n.length===0?null:n}function G0(t,e,r){return(r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function Dq(t,e,r,n){return G0(t,r,n)!==G0(e,r,n)&&G0(t,e,r)!==G0(t,e,n)}function gCe(t,e){const r=new Map;let n,i,a,o;for(let s=0,l=t.length;s<l;s++)if(n=t[s],ds(n,e)){const u=JL(n);r.has(u)||r.set(u,n)}for(let s=0,l=e.length;s<l;s++)if(n=e[s],ds(n,t)){const u=JL(n);r.has(u)||r.set(u,n)}for(let s=0,l=t.length;s<l;s++){n=t[s],i=t[(s+1)%t.length];for(let u=0,c=e.length;u<c;u++){a=e[u],o=e[(u+1)%e.length];const A=kq(n,i,a,o);if(A!==null){const d=JL(A);r.has(d)||r.set(d,A)}}}return r.size===0?null:mPt([...r.values()])}function JL(t){return`${t.x},${t.y}`}function mPt(t){const e=k.Average(t);return t.sort((r,n)=>k.Angle(e,r)-k.Angle(e,n))}function jq(t,e){let r,n,i,a;for(let o=0,s=t.length;o<s;o++){r=t[o],n=t[(o+1)%s];for(let l=0,u=e.length;l<u;l++)if(i=e[l],a=e[(l+1)%u],Dq(r,n,i,a))return!0}return!1}function vPt(t,e){let r,n,i,a;for(let o=0,s=t.length;o<s;o++){r=t[o],n=t[(o+1)%s];for(let l=1,u=e.length;l<u;l++)if(i=e[l-1],a=e[l],Dq(r,n,i,a))return!0}return!1}class Fc extends Md{constructor(r){super({...r,isClosed:!1,isFilled:!1});K(this,"start");K(this,"end");K(this,"d");K(this,"u");K(this,"ul");const{start:n,end:i}=r;this.start=n,this.end=i,this.d=n.clone().sub(i),this.u=this.d.clone().uni(),this.ul=this.u.len()}getLength(){return this.d.len()}midPoint(){return this.start.lrp(this.end,.5)}getVertices(){return[this.start,this.end]}nearestPoint(r){const{start:n,end:i,d:a,u:o,ul:s}=this;if(a.len()===0||s===0)return n;const l=k.Sub(r,n).dpr(o)/s,u=n.x+o.x*l;if(u<Math.min(n.x,i.x))return n.x<i.x?n:i;if(u>Math.max(n.x,i.x))return n.x>i.x?n:i;const c=n.y+o.y*l;return c<Math.min(n.y,i.y)?n.y<i.y?n:i:c>Math.max(n.y,i.y)?n.y>i.y?n:i:new k(u,c)}hitTestLineSegment(r,n,i=0){return Dq(r,n,this.start,this.end)||this.distanceToLineSegment(r,n)<=i}getSvgPathData(r=!0){const{start:n,end:i}=this;return`${r?`M${n.toFixed()}`:""} L${i.toFixed()}`}}class gm extends Md{constructor(r){super({isClosed:!1,isFilled:!1,...r});K(this,"points");K(this,"_segments");const{points:n}=r;this.points=n}get segments(){if(!this._segments){this._segments=[];const{vertices:r}=this;for(let n=0,i=r.length-1;n<i;n++){const a=r[n],o=r[n+1];this._segments.push(new Fc({start:a,end:o}))}this.isClosed&&this._segments.push(new Fc({start:r[r.length-1],end:r[0]}))}return this._segments}getLength(){return this.segments.reduce((r,n)=>r+n.length,0)}getVertices(){return this.points}nearestPoint(r){const{segments:n}=this;let i=this.points[0],a=1/0,o,s;for(let l=0;l<n.length;l++)o=n[l].nearestPoint(r),s=k.Dist2(o,r),s<a&&(i=o,a=s);if(!i)throw Error("nearest point not found");return i}hitTestLineSegment(r,n,i=0){const{segments:a}=this;for(let o=0,s=a.length;o<s;o++)if(a[o].hitTestLineSegment(r,n,i))return!0;return!1}getSvgPathData(){const{vertices:r}=this;return r.length<2?"":r.reduce((n,i,a)=>a===0?`M ${i.x} ${i.y}`:`${n} L ${i.x} ${i.y}`,"")}}class Ai extends gm{constructor(e){super({...e}),this.isClosed=!0}}class Qu extends Ai{constructor(r){const{x:n=0,y:i=0,width:a,height:o}=r;super({...r,points:[new k(n,i),new k(n+a,i),new k(n+a,i+o),new k(n,i+o)]});K(this,"x");K(this,"y");K(this,"w");K(this,"h");this.x=n,this.y=i,this.w=a,this.h=o}getBounds(){return new Ze(this.x,this.y,this.w,this.h)}getSvgPathData(){const{x:r,y:n,w:i,h:a}=this;return`M${r},${n} h${i} v${a} h-${i}z`}}class Ul{constructor(e){K(this,"options",{});this.editor=e}static configure(e){return class extends this{constructor(){super(...arguments);K(this,"options",{...this.options,...e})}}}canSnap(e){return!0}canScroll(e){return!1}canBind(e){return!0}canEdit(e){return!1}canResize(e){return!0}canEditInReadOnly(e){return!1}canCrop(e){return!1}canBeLaidOut(e,r){return!0}providesBackgroundForChildren(e){return!1}hideResizeHandles(e){return!1}hideRotateHandle(e){return!1}hideSelectionBoundsBg(e){return!1}hideSelectionBoundsFg(e){return!1}isAspectRatioLocked(e){return!1}canReceiveNewChildrenOfType(e,r){return!1}canDropShapes(e,r){return!1}expandSelectionOutlinePx(e){return 0}getCanvasSvgDefs(){return[]}getBoundsSnapGeometry(e){return{}}getHandleSnapGeometry(e){return{}}getText(e){}}K(Ul,"props"),K(Ul,"migrations"),K(Ul,"type");function Bl(t,e,r={}){const{closed:n=!1,snap:i=1,start:a="outset",end:o="outset",lengthRatio:s=2,style:l="dashed",forceSolid:u=!1}=r;let c=0,A=0,d=1,f=0,p=0;if(u)return{strokeDasharray:"none",strokeDashoffset:"none"};switch(l){case"dashed":{d=1,c=Math.min(e*s,t/4);break}case"dotted":{d=100,c=e/d;break}default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return n||(a==="outset"?(t+=c/2,p+=c/2):a==="skip"&&(t-=c,p-=c),o==="outset"?t+=c/2:o==="skip"&&(t-=c)),A=Math.floor(t/c/(2*d)),A-=A%i,A<3&&l==="dashed"?t/e<4?(c=t,A=1,f=0):(c=t*(1/3),f=t*(1/3)):(c=t/A/(2*d),n?(p=c/2,f=(t-A*c)/A):f=(t-A*c)/Math.max(1,A-1)),{strokeDasharray:[c,f].join(" "),strokeDashoffset:p.toString()}}function mCe({bounds:t,className:e}){const r=we(),n=Ce("zoom level",()=>r.getZoomLevel(),[r]);return y.jsx("g",{className:e,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round",children:t.sides.map((i,a)=>{const{strokeDasharray:o,strokeDashoffset:s}=Bl(i[0].dist(i[1]),1/n,{style:"dashed",lengthRatio:4});return y.jsx("line",{x1:i[0].x,y1:i[0].y,x2:i[1].x,y2:i[1].y,strokeDasharray:o,strokeDashoffset:s},a)})})}class jx extends Ul{hideSelectionBoundsFg(){return!0}canBind(){return!1}getDefaultProps(){return{}}getGeometry(e){const r=this.editor.getSortedChildIdsForParent(e.id);return r.length===0?new Qu({width:1,height:1,isFilled:!1}):new tl({children:r.map(n=>{const i=this.editor.getShape(n),a=this.editor.getShapeGeometry(n),o=this.editor.getShapeLocalTransform(i).applyToPoints(a.vertices);return a.isClosed?new Ai({points:o,isFilled:!0}):new gm({points:o})})})}component(e){const r=this.editor.getErasingShapeIds().includes(e.id),{hintingShapeIds:n}=this.editor.getCurrentPageState(),i=n.length>0&&n.some(s=>s!==e.id&&this.editor.isShapeOfType(this.editor.getShape(s),"group")),a=this.editor.getCurrentPageState().focusedGroupId!==e.id;if(!r&&(a||i))return null;const o=this.editor.getShapeGeometry(e).bounds;return y.jsx(pd,{children:y.jsx(mCe,{className:"tl-group",bounds:o})})}indicator(e){const r=this.editor.getShapeGeometry(e).bounds;return y.jsx(mCe,{className:"",bounds:r})}onChildrenChange(e){const r=this.editor.getSortedChildIdsForParent(e.id);if(r.length===0){this.editor.getCurrentPageState().focusedGroupId===e.id&&this.editor.popFocusedGroupId(),this.editor.deleteShapes([e.id]);return}else if(r.length===1){this.editor.getCurrentPageState().focusedGroupId===e.id&&this.editor.popFocusedGroupId(),this.editor.reparentShapes(r,e.parentId),this.editor.deleteShapes([e.id]);return}}}K(jx,"type","group"),K(jx,"props",T2e),K(jx,"migrations",O2e);const cUe=[jx],yPt=new Set(cUe.map(t=>t.type));function AUe(t){const e=[...cUe],r=new Set;for(const n of t){if(yPt.has(n.type))throw new Error(`Shape type "${n.type}" is a core shapes type and cannot be overridden`);if(r.has(n.type))throw new Error(`Shape type "${n.type}" is defined more than once`);e.push(n),r.add(n.type)}return e}function dUe(t,e){const r=new Map;return async function(i){const a=r.get(i);if(a)return a;const o=(async()=>{try{const s=await Lu(i,e);return fr(s.ok),await t(s)}catch(s){return console.error(s),null}})();return r.set(i,o),o}}const CI=dUe(async t=>await zs.blobToDataUrl(await t.blob())),wPt=/@import\s+(?:"([^"]+)"|'([^']+)'|url\s*\(\s*(?:"([^"]+)"|'([^']+)'|([^'")]+))\s*\))([^;]+);/gi,bPt=/@font-face\s*{([^}]+)}/gi,fUe=/url\s*\(\s*(?:"([^"]+)"|'([^']+)'|([^'")]+))\s*\)/gi,SPt=/(?:^|;)\s*font-family\s*:\s*(?:([^'"][^;\n]+)|"([^"]+)"|'([^']+)')\s*(?:;|$)/gi;function xPt(t){return Array.from(t.matchAll(wPt),e=>({url:e[1]||e[2]||e[3]||e[4]||e[5],extras:e[6]}))}function hUe(t,e){return Array.from(t.matchAll(bPt),r=>{const n=r[1],i=Array.from(n.matchAll(fUe),o=>{var l;const s=o[1]||o[2]||o[3];return{original:s,resolved:((l=Yt(s,e))==null?void 0:l.href)??null}}),a=new Set(Array.from(n.matchAll(SPt),o=>(o[1]||o[2]||o[3]).toLowerCase()));return{fontFace:n,urls:i,fontFamilies:a}})}function CPt(t){const e=/\s*(?:([^'"][^;\n\s,]+)|"([^"]+)"|'([^']+)')\s*/gi,r=/\s*,\s*/gi,n=new Set;for(;;){const i=e.exec(t);if(!i)break;const a=i[1]||i[2]||i[3];if(n.add(a.toLowerCase()),r.lastIndex=e.lastIndex,!r.exec(t))break;e.lastIndex=r.lastIndex}return n}function pUe(t){return!(t.startsWith("-")||t.startsWith("animation")||t.startsWith("transition")||t==="cursor"||t==="pointer-events"||t==="user-select"||t==="touch-action")}function _Pt(t,e){return{imports:xPt(t),fontFaces:hUe(t,e)}}function EPt(t){return Array.from(t.matchAll(fUe),e=>({original:e[0],url:e[1]||e[2]||e[3]}))}const IPt=new Set(["border-collapse","border-spacing","caption-side","color","cursor","direction","empty-cells","font-family","font-size","font-style","font-variant","font-weight","font-size-adjust","font-stretch","font","letter-spacing","line-height","list-style-image","list-style-position","list-style-type","list-style","orphans","quotes","tab-size","text-align","text-align-last","text-decoration-color","text-indent","text-justify","text-shadow","text-transform","visibility","white-space","widows","word-break","word-spacing","word-wrap"]);function gUe(t){return IPt.has(t)}var BPt=Object.create,mUe=Object.defineProperty,PPt=Object.getOwnPropertyDescriptor,TPt=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),vUe=t=>{throw TypeError(t)},yUe=(t,e,r)=>e in t?mUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OPt=t=>[,,,BPt(null)],wUe=["class","method","getter","setter","accessor","field","value","get","set"],bUe=t=>t!==void 0&&typeof t!="function"?vUe("Function expected"):t,RPt=(t,e,r,n,i)=>({kind:wUe[t],name:e,metadata:n,addInitializer:a=>r._?vUe("Already initialized"):i.push(bUe(a||null))}),MPt=(t,e)=>yUe(e,TPt("metadata"),t[3]),FPt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},kPt=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=wUe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,PPt(i,r)),w=n.length-1;w>=0;w--)l=RPt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,bUe(o)&&(m[p]=o);return m&&mUe(i,r,m),i},V0=(t,e,r)=>yUe(t,typeof e!="symbol"?e+"":e,r),SUe,_I;SUe=[Lo];class Lq{constructor(){FPt(_I,5,this),V0(this,"fontFacesPromise",null),V0(this,"foundFontNames",new Set),V0(this,"fontFacesToEmbed",new Set),V0(this,"pendingPromises",[])}startFindingCurrentDocumentFontFaces(){fr(!this.fontFacesPromise,"FontEmbedder already started"),this.fontFacesPromise=UPt()}onFontFamilyValue(e){fr(this.fontFacesPromise,"FontEmbedder not started");const r=CPt(e);for(const n of r){if(this.foundFontNames.has(n))return;this.foundFontNames.add(n),this.pendingPromises.push(this.fontFacesPromise.then(i=>{const a=i.filter(o=>o.fontFamilies.has(n));for(const o of a)if(!this.fontFacesToEmbed.has(o)){this.fontFacesToEmbed.add(o);for(const s of o.urls)!s.resolved||s.embedded||(s.embedded=CI(s.resolved))}}))}}async createCss(){await Promise.all(this.pendingPromises);let e="";for(const r of this.fontFacesToEmbed){let n=`@font-face {${r.fontFace}}`;for(const i of r.urls){if(!i.embedded)continue;const a=await i.embedded;a&&(n=n.replace(i.original,a))}e+=n}return e}}_I=OPt();kPt(_I,1,"onFontFamilyValue",SUe,Lq);MPt(_I,Lq);async function UPt(){var e;const t=[];for(const r of document.styleSheets){let n;try{n=r.cssRules}catch{}if(n){for(const i of r.cssRules)if(i instanceof CSSFontFaceRule)t.push(hUe(i.cssText,r.href??document.baseURI));else if(i instanceof CSSImportRule){const a=new URL(i.href,((e=i.parentStyleSheet)==null?void 0:e.href)??document.baseURI);t.push(y4(a.href))}}else r.href&&t.push(y4(r.href))}return sr(await Promise.all(t)).flat()}const y4=dUe(async t=>{const e=_Pt(await t.text(),t.url),r=await Promise.all(e.imports.map(({url:n})=>y4(new URL(n,t.url).href)));return[...e.fontFaces,...sr(r).flat()]});function xUe(t){if(t.shadowRoot)return t.shadowRoot.childNodes;if(NPt(t)){const e=t.assignedNodes();if(e!=null&&e.length)return e}return t.childNodes}function*w4(t){for(const e of xUe(t))DPt(e)&&(yield e)}function EI(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)??globalThis}function DPt(t){return t instanceof EI(t).Element}function jPt(t){return t instanceof EI(t).ShadowRoot}function LPt(t){return"getRootNode"in t&&jPt(t.getRootNode())}function NPt(t){return LPt(t)&&t instanceof EI(t).HTMLSlotElement}function $Pt(t){return t.style}function Nq(t,e){return EI(t).getComputedStyle(t,e)}const Lf={};class QPt{constructor(e){K(this,"styles",new Map);K(this,"fonts",new Lq);this.root=e}readRootElementStyles(e){this.readElementStyles(e,{shouldRespectDefaults:!1,shouldSkipInheritedParentStyles:!1});const r=Array.from(w4(e));for(;r.length;){const n=r.pop();r.push(...w4(n)),this.readElementStyles(n,{shouldRespectDefaults:!0,shouldSkipInheritedParentStyles:!0})}}readElementStyles(e,{shouldRespectDefaults:r=!0,shouldSkipInheritedParentStyles:n=!0}){var s;const i=r?zPt(e.tagName.toLowerCase()):Lf,a=n?((s=this.styles.get(e.parentElement))==null?void 0:s.self)??Lf:Lf,o={self:HPt(e,{defaultStyles:i,parentStyles:a}),before:vCe(e,"::before"),after:vCe(e,"::after")};this.styles.set(e,o)}fetchResources(){const e=[];for(const r of this.styles.values())for(const n of _i(r))if(n)for(const[i,a]of Object.entries(n)){if(!a)continue;i==="font-family"&&this.fonts.onFontFamilyValue(a);const o=EPt(a);o.length!==0&&e.push(...o.map(async({url:s,original:l})=>{const u=await CI(s)??"data:";n[i]=a.replace(l,`url("${u}")`)}))}return Promise.all(e)}unwrapCustomElements(){const e=new Set,r=(n,i)=>{if(e.has(n))return;e.add(n);const a=n.shadowRoot;if(a){const o=document.createElement("div");this.styles.set(o,this.styles.get(n)),o.setAttribute("data-tl-custom-element",n.tagName),(i??n.parentElement).appendChild(o);for(const s of a.childNodes)s instanceof Element?r(s,o):o.appendChild(s.cloneNode(!0));n.remove()}else if(i){if(n.tagName.toLowerCase()==="style")return;const o=n.cloneNode(!1);this.styles.set(o,this.styles.get(n)),i.appendChild(o);for(const s of xUe(n))s instanceof Element?r(s,o):o.appendChild(s.cloneNode(!0))}};for(const n of this.styles.keys())r(n,null)}embedStyles(){let e="";for(const[r,n]of this.styles){if(n.after||n.before){const a=`pseudo-${Xr()}`;r.classList.add(a),n.before&&(e+=`.${a}::before {${yCe(n.before)}}
`),n.after&&(e+=`.${a}::after {${yCe(n.after)}}
`)}const i=$Pt(r);for(const[a,o]of Object.entries(n.self))o&&i.setProperty(a,o);i.fontKerning==="auto"&&(i.fontKerning="normal")}return e}async getFontFaceCss(){return await this.fonts.createCss()}dispose(){KPt()}}function HPt(t,{defaultStyles:e,parentStyles:r}){return t.computedStyleMap?CUe(t.computedStyleMap(),{defaultStyles:e,parentStyles:r}):$q(Nq(t),{defaultStyles:e,parentStyles:r})}function vCe(t,e){const r=Nq(t,e),n=r.getPropertyValue("content");if(!(n===""||n==="none"))return $q(r,{defaultStyles:Lf,parentStyles:Lf})}function CUe(t,{defaultStyles:e,parentStyles:r}){const n={};for(const i of t.keys()){if(!pUe(i))continue;const a=t.get(i).toString();e[i]!==a&&(r[i]===a&&gUe(i)||(n[i]=a))}return n}function $q(t,{defaultStyles:e,parentStyles:r}){const n={};for(const i of t){if(!pUe(i))continue;const a=t.getPropertyValue(i);e[i]!==a&&(r[i]===a&&gUe(i)||(n[i]=a))}return n}function yCe(t){let e="";for(const[r,n]of Object.entries(t))e+=`${r}: ${n};`;return e}let Jp;const wCe={};function qPt(){if(!Jp){const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);const e=ko(t.contentDocument,"frame must have a document"),r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");r.appendChild(n),e.body.appendChild(r),Jp={iframe:t,foreignObject:n,document:e}}return Jp}function KPt(){Jp&&(document.body.removeChild(Jp.iframe),Jp=void 0)}const bCe={defaultStyles:Lf,parentStyles:Lf};function zPt(t){let e=wCe[t];if(!e){const{foreignObject:r,document:n}=qPt(),i=n.createElement(t);r.appendChild(i),e=i.computedStyleMap?CUe(i.computedStyleMap(),bCe):$q(Nq(i),bCe),r.removeChild(i),wCe[t]=e}return e}function WPt(t,e){Array.from(t.attributes).forEach(n=>{e.setAttribute(n.name,n.value)})}function SCe(t,e){return t.replaceWith(e),e}async function xy(t,e){const r=document.createElement("img");e&&WPt(e,r),r.setAttribute("src",t??"data:"),r.setAttribute("decoding","sync"),r.setAttribute("loading","eager");try{await r.decode()}catch{}return r}async function GPt(t){try{const e=t.toDataURL();return await xy(e,t)}catch{return await xy(null,t)}}async function VPt(t){try{const e=await ss.getVideoFrameAsDataUrl(t);return xy(e,t)}catch(e){console.error("Could not get video frame",e)}if(t.poster){const e=await CI(t.poster);return xy(e,t)}return xy(null,t)}async function _Ue(t){if(t instanceof HTMLCanvasElement)return SCe(t,await GPt(t));if(t instanceof HTMLVideoElement)return SCe(t,await VPt(t));if(t instanceof HTMLImageElement){const e=t.currentSrc||t.src,r=await CI(e);t.setAttribute("src",r??"data:"),t.setAttribute("decoding","sync"),t.setAttribute("loading","eager");try{await t.decode()}catch{}return t}else t instanceof HTMLInputElement?t.setAttribute("value",t.value):t instanceof HTMLTextAreaElement&&(t.textContent=t.value);await Promise.all(Array.from(w4(t),e=>_Ue(e)))}function II(t){const e=I.useRef();return I.useLayoutEffect(()=>{e.current=t}),I.useDebugValue(t),I.useCallback((...r)=>{const n=e.current;return fr(n,"fn does not exist"),n(...r)},[])}const Qq=I.createContext(null);function YPt({context:t,editor:e,children:r}){const n=e.options.exportProvider;return y.jsx(W5,{editor:e,children:y.jsx(V2e,{container:e.getContainer(),children:y.jsx(Qq.Provider,{value:t,children:y.jsx(n,{children:r})})})})}function Fb(){return I.useContext(Qq)}function XPt(){const t=I.useContext(Qq),[e]=I.useState(o5);return I.useEffect(()=>(t==null||t.waitUntil(e),()=>{e.resolve()}),[e,t]),II(()=>{e.resolve()})}var JPt=Object.create,EUe=Object.defineProperty,ZPt=Object.getOwnPropertyDescriptor,eTt=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),IUe=t=>{throw TypeError(t)},BUe=(t,e,r)=>e in t?EUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tTt=t=>[,,,JPt(null)],PUe=["class","method","getter","setter","accessor","field","value","get","set"],TUe=t=>t!==void 0&&typeof t!="function"?IUe("Function expected"):t,rTt=(t,e,r,n,i)=>({kind:PUe[t],name:e,metadata:n,addInitializer:a=>r._?IUe("Already initialized"):i.push(TUe(a||null))}),nTt=(t,e)=>BUe(e,eTt("metadata"),t[3]),iTt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},aTt=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=PUe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,ZPt(i,r)),w=n.length-1;w>=0;w--)l=rTt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,TUe(o)&&(m[p]=o);return m&&EUe(i,r,m),i},xCe=(t,e,r)=>BUe(t,typeof e!="symbol"?e+"":e,r),OUe,BI;OUe=[Lo];class Hq{constructor(e){this.maxDelayTimeMs=e,iTt(BI,5,this),xCe(this,"isResolved",!1),xCe(this,"promisesToWaitFor",[])}waitUntil(e){if(this.isResolved)throw new Error("Cannot `waitUntil` - the export has already been resolved. Make sure to call `waitUntil` as soon as possible during an export - ie within the first react effect after rendering.");this.promisesToWaitFor.push(e.catch(r=>console.error("Error whilst waiting for export:",r)))}async resolvePromises(){let e=null;for(;this.promisesToWaitFor.length!==e;)e=this.promisesToWaitFor.length,await Promise.allSettled(this.promisesToWaitFor),await ZQ(0)}async resolve(){const e=ZQ(this.maxDelayTimeMs).then(()=>"timeout"),r=this.resolvePromises().then(()=>"resolved");await Promise.race([e,r])==="timeout"&&console.warn("[tldraw] Export delay timed out after ${this.maxDelayTimeMs}ms"),this.isResolved=!0}}BI=tTt();aTt(BI,1,"waitUntil",OUe,Hq);nTt(BI,Hq);function oTt(t,e,r={}){var w,b;if(!window.document)throw Error("No document");const{scale:n=1,background:i=t.getInstanceState().exportBackground,padding:a=t.options.defaultSvgPadding,preserveAspectRatio:o}=r,s=r.darkMode??t.user.getIsDarkMode(),l=t.getShapeAndDescendantIds(e),u=t.getUnorderedRenderingShapes(!1).filter(({id:C})=>l.has(C));let c=null;if(r.bounds)c=r.bounds;else for(const{id:C}of u){const S=t.getShapeMaskedPageBounds(C);S&&(c?c.union(S):c=S.clone())}if(!c)return;const A=e.length===1&&t.isShapeOfType(t.getShape(e[0]),"frame")?e[0]:null;A||c.expandBy(a);const d=c.width*n,f=c.height*n;try{(b=(w=document.body).focus)==null||b.call(w)}catch{}const p=new Hq(t.options.maxExportDelayMs),g=o5();return p.waitUntil(g),{jsx:y.jsx(sTt,{editor:t,preserveAspectRatio:o,scale:n,pixelRatio:r.pixelRatio??null,bbox:c,background:i,singleFrameShapeId:A,isDarkMode:s,renderingShapes:u,onMount:g.resolve,waitUntil:p.waitUntil}),width:d,height:f,exportDelay:p}}function sTt({editor:t,preserveAspectRatio:e,scale:r,pixelRatio:n,bbox:i,background:a,singleFrameShapeId:o,isDarkMode:s,renderingShapes:l,onMount:u,waitUntil:c}){const A=im(),d=oA({isDarkMode:s}),f=P5("export state",{defsById:{},shapeElements:null}),{defsById:p,shapeElements:g}=Ce(f),m=II(C=>{f.update(S=>{if(Xs(S.defsById,C.key))return S;const x=Promise.resolve(C.getElement());return c(x.then(_=>{f.update(B=>({...B,defsById:{...B.defsById,[C.key]:{pending:!1,element:_}}}))})),{...S,defsById:{...S.defsById,[C.key]:{pending:!0,element:x}}}})}),w=I.useMemo(()=>({isDarkMode:s,waitUntil:c,addExportDef:m,scale:r,pixelRatio:n,async resolveAssetUrl(C,S){const x=t.getAsset(C);return!x||x.type!=="image"&&x.type!=="video"?null:await t.resolveAssetUrl(C,{screenScale:r*(S/x.props.w),shouldResolveToOriginal:n===null,dpr:n??void 0})}}),[s,c,m,r,n,t]),b=I.useRef(!1);return I.useLayoutEffect(()=>{if(b.current)throw new Error("SvgExport should only render once - do not use with react strict mode");b.current=!0,(async()=>{const C={},S=l.map(async({id:_,opacity:B,index:T,backgroundIndex:R})=>{var F,j;if(_===o)return[];const P=t.getShape(_);if(t.isShapeOfType(P,"group"))return[];const M=[],U=t.getShapeUtil(P);if(U.toSvg||U.toBackgroundSvg){const[L,$]=await Promise.all([(F=U.toSvg)==null?void 0:F.call(U,P,w),(j=U.toBackgroundSvg)==null?void 0:j.call(U,P,w)]),Q=t.getShapePageTransform(P);let H=Q.toCssString(),q=1;"scale"in P.props&&P.props.scale!==1&&(q=P.props.scale,H=`${H} scale(${P.props.scale}, ${P.props.scale})`);const Y=t.getShapeMask(P.id),z=Y?nt.From(nt.Inverse(Q)).applyToPoints(Y):null,V=K5(A,P.id);z&&(C[V]={pending:!1,element:y.jsx("clipPath",{id:V,children:y.jsx("path",{d:`M${z.map(({x:X,y:ee})=>`${X/q},${ee/q}`).join("L")}Z`})})}),L&&M.push({zIndex:T,element:y.jsx("g",{transform:H,opacity:B,clipPath:Y?`url(#${V})`:void 0,children:L},`fg_${P.id}`)}),$&&M.push({zIndex:R,element:y.jsx("g",{transform:H,opacity:B,clipPath:Y?`url(#${V})`:void 0,children:$},`bg_${P.id}`)})}else M.push({zIndex:T,element:y.jsx(CCe,{shape:P,util:U,component:uMe,className:"tl-shape",bbox:i,opacity:B},`fg_${P.id}`)}),U.backgroundComponent&&M.push({zIndex:R,element:y.jsx(CCe,{shape:P,util:U,component:cMe,className:"tl-shape tl-shape-background",bbox:i,opacity:B},`bg_${P.id}`)});return M}),x=(await Promise.all(S)).flat();rh.flushSync(()=>{f.update(_=>({..._,shapeElements:x.sort((B,T)=>B.zIndex-T.zIndex).map(({element:B})=>B),defsById:{..._.defsById,...C}}))})})()},[i,t,w,A,l,o,f]),I.useEffect(()=>{g!==null&&u()},[u,g]),y.jsx(YPt,{editor:t,context:w,children:y.jsxs("svg",{preserveAspectRatio:e,direction:"ltr",width:i.width*r,height:i.height*r,viewBox:`${i.minX} ${i.minY} ${i.width} ${i.height}`,strokeLinecap:"round",strokeLinejoin:"round",style:{backgroundColor:a?o?d.solid:d.background:"transparent"},"data-color-mode":s?"dark":"light",className:`tl-container tl-theme__force-sRGB ${s?"tl-theme__dark":"tl-theme__light"}`,children:[y.jsx("defs",{children:Object.entries(p).map(([C,S])=>S.pending?null:y.jsx(I.Fragment,{children:S.element},C))}),g]})})}function CCe({shape:t,util:e,className:r,component:n,bbox:i,opacity:a}){const o=we(),s=nt.Translate(-i.minX,-i.minY).multiply(o.getShapePageTransform(t.id)),l=o.getShapeGeometry(t.id).bounds,u=Math.max(l.width,1),c=Math.max(l.height,1);return y.jsx(q5,{fallback:()=>null,children:y.jsx("foreignObject",{x:i.minX,y:i.minY,width:i.w,height:i.h,className:"tl-shape-foreign-object",children:y.jsx("div",{className:r,"data-shape-type":t.type,style:{clipPath:o.getShapeClipPath(t.id),transform:s.toCssString(),width:u,height:c,opacity:a},children:y.jsx(n,{shape:t,util:e})})})})}let lTt=1;async function uTt(t,e,r={}){const n=oTt(t,e,r);if(!n)return;const i=t.getContainer(),a=document.createElement("div");a.className="tldraw-svg-export",a.inert=!0,a.tabIndex=-1,Object.assign(a.style,{position:"absolute",top:"0px",left:"0px",width:n.width+"px",height:n.height+"px",pointerEvents:"none",opacity:0}),i.appendChild(a);const o=sEe.createRoot(a,{identifierPrefix:`export_${lTt++}_`});try{await Promise.resolve(),rh.flushSync(()=>{o.render(n.jsx)}),await n.exportDelay.resolve();const s=a.firstElementChild;return fr(s instanceof SVGSVGElement,"Expected an SVG element"),await cTt(s),{svg:s,width:n.width,height:n.height}}finally{setTimeout(()=>{o.unmount(),i.removeChild(a)},0)}}async function cTt(t){const e=[...t.querySelectorAll("foreignObject.tl-shape-foreign-object > *")];if(!e.length)return;const r=new QPt(t);try{r.fonts.startFindingCurrentDocumentFontFaces(),await Promise.all(e.map(a=>_Ue(a)));for(const a of e)r.readRootElementStyles(a);await r.fetchResources();const n=await r.getFontFaceCss();r.unwrapCustomElements();const i=r.embedStyles();if(n||i){const a=document.createElementNS("http://www.w3.org/2000/svg","style");a.textContent=`${n}
${i}`,t.prepend(a)}}finally{r.dispose()}}let ZL=null;function ATt(){return ZL||(ZL={maxWidth:eN("width"),maxHeight:eN("height"),maxArea:eN("area")}),ZL}const _Ce=8192,dTt=4096*4096,fTt={area:[16384,14188,11402,11180,10836,8192,4096],height:[8388607,65535,32767,16384,8192,4096],width:[4194303,65535,32767,16384,8192,4096]};function eN(t){const e=document.createElement("canvas");e.width=1,e.height=1;const r=e.getContext("2d");for(const n of fTt[t]){const i=t==="height"?1:n,a=t==="width"?1:n,o=document.createElement("canvas");o.width=i,o.height=a,o.getContext("2d").fillRect(i-1,a-1,1,1),r.drawImage(o,i-1,a-1,1,1,0,0,1,1);const l=r.getImageData(0,0,1,1).data[3]!==0;if(o.width=0,o.height=0,l)return e.width=0,e.height=0,t==="area"?n*n:n}throw e.width=0,e.height=0,Error("Failed to determine maximum canvas dimension")}function hTt(t,e){if(t<=_Ce&&e<=_Ce&&t*e<=dTt)return[t,e];const{maxWidth:r,maxHeight:n,maxArea:i}=ATt(),a=t/e;if(t>r&&(t=r,e=t/a),e>n&&(e=n,t=e*a),t*e>i){const o=Math.sqrt(i/(t*e));t*=o,e*=o}return[t,e]}async function pTt(t,e){const{type:r,width:n,height:i,quality:a=1,pixelRatio:o=2}=e;let[s,l]=hTt(n*o,i*o);s=Math.floor(s),l=Math.floor(l);const u=s/n,c=await zs.blobToDataUrl(new Blob([t],{type:"image/svg+xml"})),A=await new Promise(f=>{const p=Sw();p.crossOrigin="anonymous",p.onload=async()=>{tn.isSafari&&await ZQ(250);const g=document.createElement("canvas"),m=g.getContext("2d");g.width=s,g.height=l,m.imageSmoothingEnabled=!0,m.imageSmoothingQuality="high",m.drawImage(p,0,0,s,l),URL.revokeObjectURL(c),f(g)},p.onerror=()=>{f(null)},p.src=c});if(!A)return null;const d=await new Promise(f=>A.toBlob(p=>{(!p||fi.throwToBlob.get())&&f(null),f(p)},"image/"+r,a));if(!d)return null;if(r==="png"){const f=new DataView(await d.arrayBuffer());return Cu.setPhysChunk(f,u,{type:"image/"+r})}else return d}const Il={menus:pi("open menus",[]),getOpenMenus(t){return t?this.menus.get().filter(e=>e.endsWith("-"+t)):this.menus.get()},addOpenMenu(t,e=""){const r=e?`${t}-${e}`:t,n=new Set(this.menus.get());n.has(r)||(n.add(r),this.menus.set([...n]))},deleteOpenMenu(t,e=""){const r=e?`${t}-${e}`:t,n=new Set(this.menus.get());n.has(r)&&(n.delete(r),this.menus.set([...n]))},clearOpenMenus(t){this.menus.set(t?this.menus.get().filter(e=>!e.endsWith("-"+t)):[])},_hiddenMenus:[],hideOpenMenus(t){if(this._hiddenMenus=[...this.getOpenMenus(t)],this._hiddenMenus.length!==0)for(const e of this._hiddenMenus)this.deleteOpenMenu(e,t)},showOpenMenus(t){if(this._hiddenMenus.length!==0){for(const e of this._hiddenMenus)this.addOpenMenu(e,t);this._hiddenMenus=[]}},isMenuOpen(t,e){return this.getOpenMenus(e).includes(t)},hasOpenMenus(t){return this.getOpenMenus(t).length>0},hasAnyOpenMenus(){return this.getOpenMenus().length>0},forContext(t){return{getOpenMenus:()=>this.getOpenMenus(t),addOpenMenu:e=>this.addOpenMenu(e,t),deleteOpenMenu:e=>this.deleteOpenMenu(e,t),clearOpenMenus:()=>this.clearOpenMenus(t),isMenuOpen:e=>this.isMenuOpen(e,t),hasOpenMenus:()=>this.hasOpenMenus(t),hasAnyOpenMenus:()=>this.hasAnyOpenMenus()}}},b4=new Smt,gTt={maxShapesPerPage:4e3,maxFilesAtOnce:100,maxPages:40,animationMediumMs:320,followChaseViewportSnap:2,doubleClickDurationMs:450,multiClickDurationMs:200,coarseDragDistanceSquared:36,dragDistanceSquared:16,defaultSvgPadding:32,cameraSlideFriction:.09,gridSteps:[{min:-1,mid:.15,step:64},{min:.05,mid:.375,step:16},{min:.15,mid:1,step:4},{min:.7,mid:2.5,step:1}],collaboratorInactiveTimeoutMs:6e4,collaboratorIdleTimeoutMs:3e3,collaboratorCheckIntervalMs:1200,cameraMovingTimeoutMs:64,hitTestMargin:8,edgeScrollDelay:200,edgeScrollEaseDuration:200,edgeScrollSpeed:25,edgeScrollDistance:8,coarsePointerWidth:12,coarseHandleRadius:20,handleRadius:12,longPressDurationMs:500,textShadowLod:.35,adjacentShapeMargin:10,flattenImageBoundsExpand:64,flattenImageBoundsPadding:16,laserDelayMs:1200,maxExportDelayMs:5e3,temporaryAssetPreviewLifetimeMs:18e4,actionShortcutsLocation:"swap",createTextOnCanvasDoubleClick:!0,exportProvider:I.Fragment,enableToolbarKeyboardShortcuts:!0};function ECe(t,e){if(!e)return!1;switch(t.type){case"mixed":return e.type==="mixed";case"shared":return e.type==="shared"&&t.value===e.value;default:throw Pi(t)}}class mTt{constructor(e){K(this,"map");this.map=new Map(e)}get(e){return this.map.get(e)}getAsKnownValue(e){const r=this.get(e);if(r&&r.type!=="mixed")return r.value}get size(){return this.map.size}equals(e){if(this.size!==e.size)return!1;const r=new Set;for(const[n,i]of this){if(!ECe(i,e.get(n)))return!1;r.add(n)}for(const[n,i]of e)if(!r.has(n)&&!ECe(i,this.get(n)))return!1;return!0}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.map[Symbol.iterator]()}}class S4 extends mTt{set(e,r){this.map.set(e,r)}applyValue(e,r){const n=this.get(e);if(!n){this.set(e,{type:"shared",value:r});return}switch(n.type){case"mixed":return;case"shared":n.value!==r&&this.set(e,{type:"mixed"});return;default:Pi(n,"type")}}}function vTt(t,e,r){return Lu(t).then(function(n){return n.arrayBuffer()}).then(function(n){return new File([n],e,{type:r})})}const yTt="https://cdn.tldraw.com";function JA(){return`${yTt}/${q2e}`}function wTt(t){switch(t.type){case"shapes":return`s${t.shapeIds.map(r=>tN(r.slice(6))).join(".")}`;case"page":return"p"+tN(ms.parseId(t.pageId));case"viewport":{const{bounds:e,pageId:r}=t;let n=`v${Math.round(e.x)}.${Math.round(e.y)}.${Math.round(e.w)}.${Math.round(e.h)}`;return r&&(n+="."+tN(ms.parseId(r))),n}default:Pi(t)}}function bTt(t){switch(t[0]){case"s":return{type:"shapes",shapeIds:t.slice(1).split(".").filter(Boolean).map(n=>an(decodeURIComponent(n)))};case"p":return{type:"page",pageId:ms.createId(decodeURIComponent(t.slice(1)))};case"v":{const[r,n,i,a,o]=t.slice(1).split(".");return{type:"viewport",bounds:new Ze(Number(r),Number(n),Number(i),Number(a)),pageId:o?ms.createId(decodeURIComponent(o)):void 0}}default:throw Error("Invalid deep link string")}}function tN(t){return encodeURIComponent(t).replace(/\./g,"%2E")}function STt(t,e){var i;let r=t;const n=new Set(e);for(;n.has(r);)r=(i=/^.*(\d+)$/.exec(r))!=null&&i[1]?r.replace(/(\d+)(?=\D?)$/,a=>(+a+1).toString()):`${r} 1`;return r}function Y0(t,e,r,n){if(r.length===0)return[];const i=new Map;for(const o of sr(r.map(s=>t.getShape(s)))){const{parentId:s}=o;i.has(s)||i.set(s,{children:sr(t.getSortedChildIdsForParent(s).map(l=>t.getShape(l))),moving:new Set}),i.get(s).moving.add(o)}const a=[];switch(e){case"toBack":{i.forEach(({moving:o,children:s})=>xTt(o,s,a));break}case"toFront":{i.forEach(({moving:o,children:s})=>CTt(o,s,a));break}case"forward":{i.forEach(({moving:o,children:s})=>_Tt(t,o,s,a,n));break}case"backward":{i.forEach(({moving:o,children:s})=>ETt(t,o,s,a,n));break}}return a}function xTt(t,e,r){const n=e.length;if(t.size===n)return;let i,a;for(let o=0;o<n;o++){const s=e[o];if(t.has(s))i=s.index,t.delete(s);else{a=s.index;break}}if(t.size!==0){const o=Bg(i,a,t.size);r.push(...Array.from(t.values()).sort(Qa).map((s,l)=>({...s,index:o[l]})))}}function CTt(t,e,r){const n=e.length;if(t.size===n)return;let i,a;for(let o=n-1;o>-1;o--){const s=e[o];if(t.has(s))a=s.index,t.delete(s);else{i=s.index;break}}if(t.size!==0){const o=Bg(i,a,t.size);r.push(...Array.from(t.values()).sort(Qa).map((s,l)=>({...s,index:o[l]})))}}function ICe(t,e){const r=t.getShapeGeometry(e),n=t.getShapePageTransform(e);return!r||!n?null:n.applyToPoints(r.vertices)}function RUe(t,e){const r=Array.from(e).map(i=>{const a=ICe(t,i);return a?{shape:i,vertices:a}:null}).filter(Boolean);return i=>{const a=ICe(t,i);return a?r.some(o=>jq(o.vertices,a)):!1}}function _Tt(t,e,r,n,i){var l;const a=RUe(t,e),o=r.length;if(e.size===o)return;let s={name:"skipping"};for(let u=0;u<o;u++){const c=e.has(r[u]);switch(s.name){case"skipping":{if(!c)continue;s={name:"selecting",selectIndex:u};break}case"selecting":{if(c||!(i!=null&&i.considerAllShapes)&&!a(r[u]))continue;const{selectIndex:A}=s;Bg(r[u].index,(l=r[u+1])==null?void 0:l.index,u-A).forEach((d,f)=>{const p=r[A+f];e.has(p)&&n.push({...p,index:d})}),s={name:"skipping"};break}}}}function ETt(t,e,r,n,i){var l;const a=RUe(t,e),o=r.length;if(e.size===o)return;let s={name:"skipping"};for(let u=o-1;u>-1;u--){const c=e.has(r[u]);switch(s.name){case"skipping":{if(!c)continue;s={name:"selecting",selectIndex:u};break}case"selecting":{if(c||!(i!=null&&i.considerAllShapes)&&!a(r[u]))continue;Bg((l=r[u-1])==null?void 0:l.index,r[u].index,s.selectIndex-u).forEach((A,d)=>{const f=r[u+d+1];e.has(f)&&n.push({...f,index:A})}),s={name:"skipping"};break}}}}function MUe({editor:t,ids:e}){const r=sr(e.map(o=>t.getShape(o))),n=t.getShapesSharedRotation(e),i=t.getShapesRotatedPageBounds(e);if(!i)return null;const a=i.center.clone().rotWith(i.point,n);return{pageCenter:a,initialCursorAngle:a.angle(t.inputs.originPagePoint),initialShapesRotation:n,shapeSnapshots:r.map(o=>({shape:o,initialPagePoint:t.getShapePageTransform(o.id).point()}))}}function Lx({delta:t,editor:e,snapshot:r,stage:n,centerOverride:i}){const{pageCenter:a,shapeSnapshots:o}=r;e.updateShapes(o.map(({shape:l,initialPagePoint:u})=>{const c=Fo(l.parentId)?e.getShapePageTransform(l.parentId):nt.Identity(),A=k.RotWith(u,i??a,t),d=nt.applyToPoint(nt.Inverse(c),A),f=Df(l.rotation+t);return{id:l.id,type:l.type,x:d.x,y:d.y,rotation:f}}));const s=[];o.forEach(({shape:l})=>{var d,f,p;const u=e.getShape(l.id);if(!u)return;const c=e.getShapeUtil(l);if(n==="start"||n==="one-off"){const g=(d=c.onRotateStart)==null?void 0:d.call(c,l);g&&s.push(g)}const A=(f=c.onRotate)==null?void 0:f.call(c,l,u);if(A&&s.push(A),n==="end"||n==="one-off"){const g=(p=c.onRotateEnd)==null?void 0:p.call(c,l,u);g&&s.push(g)}}),s.length>0&&e.updateShapes(s)}const ITt=t=>{const{store:e}=t,r=e.query.filterHistory("binding"),n=e.query.records("binding");function i(){const a=n.get(),o=new Map;for(const s of a){const{fromId:l,toId:u}=s,c=o.get(l);c?c.push(s):o.set(l,[s]);const A=o.get(u);A?A.push(s):o.set(u,[s])}return o}return je("arrowBindingsIndex",(a,o)=>{if(Uf(a))return i();const s=a,l=r.getDiffSince(o);if(l===As)return i();let u;function c(f){u??(u=new Map(s));const p=u.get(f.fromId),g=p==null?void 0:p.filter(b=>b.id!==f.id);g!=null&&g.length?u.set(f.fromId,g):u.delete(f.fromId);const m=u.get(f.toId),w=m==null?void 0:m.filter(b=>b.id!==f.id);w!=null&&w.length?u.set(f.toId,w):u.delete(f.toId)}function A(f){u??(u=new Map(s));let p=u.get(f);return p?p===s.get(f)&&(p=p.slice(0),u.set(f,p)):(p=[],u.set(f,p)),p}function d(f){A(f.fromId).push(f),A(f.toId).push(f)}for(const f of l){for(const p of _i(f.added))d(p);for(const[p,g]of _i(f.updated))c(p),d(g);for(const p of _i(f.removed))c(p)}return u??s})};function BTt(t,e,r){const n=t.getShapeMaskedPageBounds(e);return n===void 0?!0:!r.includes(n)}const PTt=t=>{function e(r){const n=r.getCurrentPageShapeIds(),i=r.getViewportPageBounds(),a=new Set;return n.forEach(o=>{BTt(r,o,i)&&a.add(o)}),a}return je("getCulledShapes",r=>{if(Uf(r))return e(t);const n=e(t);if(r.size!==n.size)return n;for(const i of r)if(!n.has(i))return n;return r})},TTt=t=>{const e=t.query.ids("shape"),r=t.query.filterHistory("shape");function n(){const i={},a=e.get(),o=Array(a.size);return a.forEach(s=>o.push(t.get(s))),o.sort(Qa),o.forEach(s=>{i[s.parentId]||(i[s.parentId]=[]),i[s.parentId].push(s.id)}),i}return je("parentsToChildrenWithIndexes",(i,a)=>{if(Uf(i))return n();const o=r.getDiffSince(a);if(o===As)return n();if(o.length===0)return i;let s=null;const l=A=>{s||(s={...i}),s[A]?s[A]===i[A]&&(s[A]=[...s[A]]):s[A]=[]},u=new Set;let c;for(let A=0,d=o.length;A<d;A++){c=o[A];for(const f of Object.values(c.added))jp(f)&&(l(f.parentId),s[f.parentId].push(f.id),u.add(s[f.parentId]));for(const[f,p]of Object.values(c.updated))if(jp(p)&&jp(f)){if(f.parentId!==p.parentId)l(f.parentId),l(p.parentId),s[f.parentId].splice(s[f.parentId].indexOf(p.id),1),s[p.parentId].push(p.id),u.add(s[p.parentId]);else if(f.index!==p.index){l(p.parentId);const g=s[p.parentId].indexOf(p.id);s[p.parentId][g]=p.id,u.add(s[p.parentId])}}for(const f of Object.values(c.removed))jp(f)&&(l(f.parentId),s[f.parentId].splice(s[f.parentId].indexOf(f.id),1))}for(const A of u){const d=sr(A.map(f=>t.get(f)));d.sort(Qa),A.splice(0,A.length,...d.map(f=>f.id))}return s??i})},rN=(t,e,r)=>{for(;!To(r.parentId);){const n=t.get(r.parentId);if(!n)return!1;r=n}return r.parentId===e},OTt=(t,e)=>{const r=t.query.ids("shape");let n=null;function i(){const a=e();return n=a,new Set([...r.get()].filter(o=>rN(t,a,t.get(o))))}return je("_shapeIdsInCurrentPage",(a,o)=>{if(Uf(a))return i();const s=e();if(s!==n)return i();const l=t.history.getDiffSince(o);if(l===As)return i();const u=new kx(a);for(const A of l){for(const d of Object.values(A.added))jp(d)&&rN(t,s,d)&&u.add(d.id);for(const[d,f]of Object.values(A.updated))jp(f)&&(rN(t,s,f)?u.add(f.id):u.remove(f.id));for(const d of Object.keys(A.removed))Fo(d)&&u.remove(d)}const c=u.get();return c?Zv(c.value,c.diff):a})};var RTt=Object.create,FUe=Object.defineProperty,MTt=Object.getOwnPropertyDescriptor,FTt=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),kUe=t=>{throw TypeError(t)},UUe=(t,e,r)=>e in t?FUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kTt=t=>[,,,RTt(null)],DUe=["class","method","getter","setter","accessor","field","value","get","set"],jUe=t=>t!==void 0&&typeof t!="function"?kUe("Function expected"):t,UTt=(t,e,r,n,i)=>({kind:DUe[t],name:e,metadata:n,addInitializer:a=>r._?kUe("Already initialized"):i.push(jUe(a||null))}),DTt=(t,e)=>UUe(e,FTt("metadata"),t[3]),jTt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},LUe=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=DUe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,MTt(i,r)),w=n.length-1;w>=0;w--)l=UTt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,jUe(o)&&(m[p]=o);return m&&FUe(i,r,m),i},mp=(t,e,r)=>UUe(t,typeof e!="symbol"?e+"":e,r),NUe,$Ue,kb;const LTt=40;$Ue=[Lo],NUe=[Lo];class PI{constructor(e){this.editor=e,jTt(kb,5,this),mp(this,"_clickId",""),mp(this,"_clickTimeout"),mp(this,"_clickScreenPoint"),mp(this,"_previousScreenPoint"),mp(this,"_clickState","idle"),mp(this,"lastPointerInfo",{})}_getClickTimeout(e,r=Xr()){this._clickId=r,clearTimeout(this._clickTimeout),this._clickTimeout=this.editor.timers.setTimeout(()=>{if(this._clickState===e&&this._clickId===r){switch(this._clickState){case"pendingTriple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"double_click",phase:"settle"});break}case"pendingQuadruple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"triple_click",phase:"settle"});break}case"pendingOverflow":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"settle"});break}}this._clickState="idle"}},e==="idle"||e==="pendingDouble"?this.editor.options.doubleClickDurationMs:this.editor.options.multiClickDurationMs)}get clickState(){return this._clickState}handlePointerEvent(e){switch(e.name){case"pointer_down":{if(!this._clickState)return e;switch(this._clickScreenPoint=k.From(e.point),this._previousScreenPoint&&k.Dist2(this._previousScreenPoint,this._clickScreenPoint)>LTt**2&&(this._clickState="idle"),this._previousScreenPoint=this._clickScreenPoint,this.lastPointerInfo=e,this._clickState){case"pendingDouble":return this._clickState="pendingTriple",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"double_click",phase:"down"};case"pendingTriple":return this._clickState="pendingQuadruple",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"triple_click",phase:"down"};case"pendingQuadruple":return this._clickState="pendingOverflow",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"quadruple_click",phase:"down"};case"idle":{this._clickState="pendingDouble";break}case"pendingOverflow":{this._clickState="overflow";break}}return this._clickTimeout=this._getClickTimeout(this._clickState),e}case"pointer_up":{if(!this._clickState)return e;switch(this._clickScreenPoint=k.From(e.point),this._clickState){case"pendingTriple":return{...this.lastPointerInfo,type:"click",name:"double_click",phase:"up"};case"pendingQuadruple":return{...this.lastPointerInfo,type:"click",name:"triple_click",phase:"up"};case"pendingOverflow":return{...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"up"}}return e}case"pointer_move":return this._clickState!=="idle"&&this._clickScreenPoint&&k.Dist2(this._clickScreenPoint,this.editor.inputs.currentScreenPoint)>(this.editor.getInstanceState().isCoarsePointer?this.editor.options.coarseDragDistanceSquared:this.editor.options.dragDistanceSquared)&&this.cancelDoubleClickTimeout(),e}return e}cancelDoubleClickTimeout(){this._clickTimeout=clearTimeout(this._clickTimeout),this._clickState="idle"}}kb=kTt();LUe(kb,1,"_getClickTimeout",$Ue,PI);LUe(kb,1,"cancelDoubleClickTimeout",NUe,PI);DTt(kb,PI);class NTt{constructor(e){K(this,"_isEdgeScrolling",!1);K(this,"_edgeScrollDuration",-1);this.editor=e}updateEdgeScrolling(e){const{editor:r}=this,n=this.getEdgeScroll();if(n.x===0&&n.y===0)this._isEdgeScrolling&&(this._isEdgeScrolling=!1,this._edgeScrollDuration=0);else if(this._isEdgeScrolling||(this._isEdgeScrolling=!0,this._edgeScrollDuration=0),this._edgeScrollDuration+=e,this._edgeScrollDuration>r.options.edgeScrollDelay){const i=r.options.edgeScrollEaseDuration>0?Ji.easeInCubic(Math.min(1,this._edgeScrollDuration/(r.options.edgeScrollDelay+r.options.edgeScrollEaseDuration))):1;this.moveCameraWhenCloseToEdge({x:n.x*i,y:n.y*i})}}getEdgeProximityFactors(e,r,n,i,a){const{editor:o}=this,s=o.options.edgeScrollDistance,l=n?o.options.coarsePointerWidth:0,u=e-l,c=e+l,A=i?0:s,d=a?r:r-s;return u<A?Math.min(1,(A-u)/s):c>d?-Math.min(1,(c-d)/s):0}getEdgeScroll(){const{editor:e}=this,{inputs:{currentScreenPoint:{x:r,y:n}}}=e,i=e.getViewportScreenBounds(),{isCoarsePointer:a,insets:[o,s,l,u]}=e.getInstanceState(),c=this.getEdgeProximityFactors(r,i.w,a,u,s),A=this.getEdgeProximityFactors(n,i.h,a,o,l);return{x:c,y:A}}moveCameraWhenCloseToEdge(e){const{editor:r}=this;if(!r.inputs.isDragging||r.inputs.isPanning||r.getCameraOptions().isLocked||e.x===0&&e.y===0)return;const n=r.getViewportScreenBounds(),i=n.w<1e3?.612:1,a=n.h<1e3?.612:1,o=r.getZoomLevel(),s=r.user.getEdgeScrollSpeed()*r.options.edgeScrollSpeed,l=s*e.x*i/o,u=s*e.y*a/o,{x:c,y:A,z:d}=r.getCamera();r.setCamera(new k(c+l,A+u,d))}}class $Tt{constructor(e,r){K(this,"disposeSideEffectListener");this.editor=e,this.disposeSideEffectListener=e.sideEffects.registerAfterChangeHandler("instance",(i,a)=>{i.isFocused!==a.isFocused&&this.updateContainerClass()});const n=e.getInstanceState().isFocused;r!==n&&e.updateInstanceState({isFocused:!!r}),this.updateContainerClass()}updateContainerClass(){const e=this.editor.getContainer();this.editor.getInstanceState().isFocused?e.classList.add("tl-container__focused"):e.classList.remove("tl-container__focused")}focus(){this.editor.getContainer().focus()}blur(){this.editor.complete(),this.editor.getContainer().blur()}dispose(){var e;(e=this.disposeSideEffectListener)==null||e.call(this)}}function Ov(t){return HTt}class QTt{constructor(){K(this,"length",0);K(this,"head",null);K(this,"tail",this)}push(e){return new qq(e,this)}toArray(){return Nc}[Symbol.iterator](){return{next(){return{value:void 0,done:!0}}}}}const HTt=new QTt;class qq{constructor(e,r){K(this,"length");this.head=e,this.tail=r,this.length=r.length+1}push(e){return new qq(e,this)}toArray(){return Array.from(this)}[Symbol.iterator](){let e=this;return{next(){if(e.length){const r=e.head;return e=e.tail,{value:r,done:!1}}else return{value:void 0,done:!0}}}}}class qTt{constructor(e){K(this,"store");K(this,"dispose");K(this,"state","recording");K(this,"pendingDiff",new zTt);K(this,"stacks",pi("HistoryManager.stacks",{undos:Ov(),redos:Ov()},{isEqual:(e,r)=>e.undos===r.undos&&e.redos===r.redos}));K(this,"annotateError");K(this,"_isInBatch",!1);this.store=e.store,this.annotateError=e.annotateError??bw,this.dispose=this.store.addHistoryInterceptor((r,n)=>{if(n==="user")switch(this.state){case"recording":this.pendingDiff.apply(r.changes),this.stacks.update(({undos:i})=>({undos:i,redos:Ov()}));break;case"recordingPreserveRedoStack":this.pendingDiff.apply(r.changes);break;case"paused":break;default:Pi(this.state)}})}flushPendingDiff(){if(this.pendingDiff.isEmpty())return;const e=this.pendingDiff.clear();this.stacks.update(({undos:r,redos:n})=>({undos:r.push({type:"diff",diff:e}),redos:n}))}getNumUndos(){return this.stacks.get().undos.length+(this.pendingDiff.isEmpty()?0:1)}getNumRedos(){return this.stacks.get().redos.length}batch(e,r){const n=this.state;n!=="paused"&&(r!=null&&r.history)&&(this.state=KTt[r.history]);try{if(this._isInBatch)return Ao(e),this;this._isInBatch=!0;try{Ao(e)}catch(i){throw this.annotateError(i),i}finally{this._isInBatch=!1}return this}finally{this.state=n}}_undo({pushToRedoStack:e,toMark:r=void 0}){var i;const n=this.state;this.state="paused";try{let{undos:a,redos:o}=this.stacks.get();const s=this.pendingDiff.clear(),l=t2e(s),u=u4(s);e&&!l&&(o=o.push({type:"diff",diff:s}));let c=!1;if(l)for(;((i=a.head)==null?void 0:i.type)==="stop";){const A=a.head;if(a=a.tail,e&&(o=o.push(A)),A.id===r){c=!0;break}}if(!c)e:for(;a.head;){const A=a.head;switch(a=a.tail,e&&(o=o.push(A)),A.type){case"diff":by(u,[u4(A.diff)]);break;case"stop":if(!r)break e;if(A.id===r){c=!0;break e}break;default:Pi(A)}}if(!c&&r)return this;this.store.applyDiff(u,{ignoreEphemeralKeys:!0}),this.store.ensureStoreIsUsable(),this.stacks.set({undos:a,redos:o})}finally{this.state=n}return this}undo(){return this._undo({pushToRedoStack:!0}),this}redo(){var r;const e=this.state;this.state="paused";try{this.flushPendingDiff();let{undos:n,redos:i}=this.stacks.get();if(i.length===0)return this;for(;((r=i.head)==null?void 0:r.type)==="stop";)n=n.push(i.head),i=i.tail;const a=kC();for(;i.head;){const o=i.head;if(n=n.push(o),i=i.tail,o.type==="diff")by(a,[o.diff]);else break}this.store.applyDiff(a,{ignoreEphemeralKeys:!0}),this.store.ensureStoreIsUsable(),this.stacks.set({undos:n,redos:i})}finally{this.state=e}return this}bail(){return this._undo({pushToRedoStack:!1}),this}bailToMark(e){return this._undo({pushToRedoStack:!1,toMark:e}),this}squashToMark(e){var a;let r=this.stacks.get().undos;const n=[];for(;r.head&&!(r.head.type==="stop"&&r.head.id===e);)r.head.type==="diff"&&n.push(r.head.diff),r=r.tail;if(!r.head||((a=r.head)==null?void 0:a.id)!==e)return console.error("Could not find mark to squash to: ",e),this;if(n.length===0)return this;const i=kC();return by(i,n.reverse()),this.stacks.update(({redos:o})=>({undos:r.push({type:"diff",diff:i}),redos:o})),this}_mark(e){Ao(()=>{this.flushPendingDiff(),this.stacks.update(({undos:r,redos:n})=>({undos:r.push({type:"stop",id:e}),redos:n}))})}clear(){this.stacks.set({undos:Ov(),redos:Ov()}),this.pendingDiff.clear()}getMarkIdMatching(e){let r=this.stacks.get().undos;for(;r.head;){if(r.head.type==="stop"&&r.head.id.includes(e))return r.head.id;r=r.tail}return null}debug(){const{undos:e,redos:r}=this.stacks.get();return{undos:e.toArray(),redos:r.toArray(),pendingDiff:this.pendingDiff.debug(),state:this.state}}}const KTt={record:"recording","record-preserveRedoStack":"recordingPreserveRedoStack",ignore:"paused"};class zTt{constructor(){K(this,"diff",kC());K(this,"isEmptyAtom",pi("PendingDiff.isEmpty",!0))}clear(){const e=this.diff;return this.diff=kC(),this.isEmptyAtom.set(!0),e}isEmpty(){return this.isEmptyAtom.get()}apply(e){by(this.diff,[e]),this.isEmptyAtom.set(t2e(this.diff))}debug(){return{diff:this.diff,isEmpty:this.isEmpty()}}}class WTt{constructor(e){K(this,"scribbleItems",new Map);K(this,"state","paused");this.editor=e}addScribble(e,r=Xr()){const n={id:r,scribble:{id:r,size:20,color:"accent",opacity:.8,delay:0,points:[],shrink:.1,taper:!0,...e,state:"starting"},timeoutMs:0,delayRemaining:e.delay??0,prev:null,next:null};return this.scribbleItems.set(r,n),n}reset(){this.editor.updateInstanceState({scribbles:[]}),this.scribbleItems.clear()}stop(e){const r=this.scribbleItems.get(e);if(!r)throw Error(`Scribble with id ${e} not found`);return r.delayRemaining=Math.min(r.delayRemaining,200),r.scribble.state="stopping",r}addPoint(e,r,n,i=.5){const a=this.scribbleItems.get(e);if(!a)throw Error(`Scribble with id ${e} not found`);const{prev:o}=a,s={x:r,y:n,z:i};return(!o||k.Dist(o,s)>=1)&&(a.next=s),a}tick(e){this.scribbleItems.size!==0&&this.editor.run(()=>{this.scribbleItems.forEach(r=>{if(r.scribble.state==="starting"){const{next:l,prev:u}=r;l&&l!==u&&(r.prev=l,r.scribble.points.push(l)),r.scribble.points.length>8&&(r.scribble.state="active");return}r.delayRemaining>0&&(r.delayRemaining=Math.max(0,r.delayRemaining-e)),r.timeoutMs+=e,r.timeoutMs>=16&&(r.timeoutMs=0);const{delayRemaining:n,timeoutMs:i,prev:a,next:o,scribble:s}=r;switch(s.state){case"active":{o&&o!==a?(r.prev=o,s.points.push(o),n===0&&s.points.length>8&&s.points.shift()):i===0&&(s.points.length>1?s.points.shift():r.delayRemaining=s.delay);break}case"stopping":{if(r.delayRemaining===0&&i===0){if(s.points.length===1){this.scribbleItems.delete(r.id);return}s.shrink&&(s.size=Math.max(1,s.size*(1-s.shrink))),s.points.shift()}break}}}),this.editor.updateInstanceState({scribbles:Array.from(this.scribbleItems.values()).map(({scribble:r})=>({...r,points:[...r.points]})).slice(-5)})})}}var GTt=Object.create,QUe=Object.defineProperty,VTt=Object.getOwnPropertyDescriptor,YTt=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),HUe=t=>{throw TypeError(t)},qUe=(t,e,r)=>e in t?QUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,XTt=t=>[,,,GTt(null)],KUe=["class","method","getter","setter","accessor","field","value","get","set"],zUe=t=>t!==void 0&&typeof t!="function"?HUe("Function expected"):t,JTt=(t,e,r,n,i)=>({kind:KUe[t],name:e,metadata:n,addInitializer:a=>r._?HUe("Already initialized"):i.push(zUe(a||null))}),ZTt=(t,e)=>qUe(e,YTt("metadata"),t[3]),eOt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},TI=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=KUe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,VTt(i,r)),w=n.length-1;w>=0;w--)l=JTt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,zUe(o)&&(m[p]=o);return m&&QUe(i,r,m),i},tOt=(t,e,r)=>qUe(t,e+"",r),WUe,GUe,VUe,YUe,xh;const Ht=t=>Math.round(t*10**8)/10**8;function Bc(t,e,r,n,i){const a=t.filter(s=>(n==="forward"?s.startNode.id===e:s.endNode.id===e)&&Ht(s.length)===Ht(r)&&El(s.breadthIntersection[0],s.breadthIntersection[1],i[0],i[1]));if(a.length===0)return[];const o=new Set;return a.forEach(s=>{const l=n==="forward"?s.endNode.id:s.startNode.id;if(!o.has(l)){o.add(l);const u=Bc(t,l,r,n,El(s.breadthIntersection[0],s.breadthIntersection[1],i[0],i[1]));a.push(...u)}}),a}function rOt(t){t.sort((e,r)=>r.gaps.length-e.gaps.length);for(let e=t.length-1;e>0;e--){const r=t[e];for(let n=e-1;n>=0;n--){const i=t[n];if(i.direction===r.direction&&r.gaps.every(a=>i.gaps.some(o=>Ht(a.startEdge[0].x)===Ht(o.startEdge[0].x)&&Ht(a.startEdge[0].y)===Ht(o.startEdge[0].y)&&Ht(a.startEdge[1].x)===Ht(o.startEdge[1].x)&&Ht(a.startEdge[1].y)===Ht(o.startEdge[1].y))&&i.gaps.some(o=>Ht(a.endEdge[0].x)===Ht(o.endEdge[0].x)&&Ht(a.endEdge[0].y)===Ht(o.endEdge[0].y)&&Ht(a.endEdge[1].x)===Ht(o.endEdge[1].x)&&Ht(a.endEdge[1].y)===Ht(o.endEdge[1].y)))){t.splice(e,1);break}}}}YUe=[je],VUe=[je],GUe=[je],WUe=[je];class mm{constructor(e){this.manager=e,eOt(xh,5,this),tOt(this,"editor"),this.editor=e.editor}getSnapPointsCache(){const{editor:e}=this;return e.store.createComputedCache("snapPoints",r=>{const n=e.getShapePageTransform(r.id);if(!n)return;const a=e.getShapeUtil(r).getBoundsSnapGeometry(r).points??e.getShapeGeometry(r).bounds.cornersAndCenter;if(!(!n||!a))return a.map((o,s)=>{const{x:l,y:u}=nt.applyToPoint(n,o);return{x:l,y:u,id:`${r.id}:${s}`}})})}getSnapPoints(e){return this.getSnapPointsCache().get(e)??[]}getSnappablePoints(){const e=this.getSnapPointsCache(),r=this.manager.getSnappableShapes(),n=[];for(const i of r){const a=e.get(i);a&&n.push(...a)}return n}getSnappableGapNodes(){return Array.from(this.manager.getSnappableShapes(),e=>({id:e,pageBounds:ko(this.editor.getShapePageBounds(e))}))}getVisibleGaps(){const e=[],r=[];let n,i;const a=this.getSnappableGapNodes().sort((s,l)=>s.pageBounds.minX-l.pageBounds.minX);for(let s=0;s<a.length;s++){n=a[s];for(let l=s+1;l<a.length;l++)i=a[l],n.pageBounds.maxX<i.pageBounds.minX&&_v(n.pageBounds.minY,n.pageBounds.maxY,i.pageBounds.minY,i.pageBounds.maxY)&&e.push({startNode:n,endNode:i,startEdge:[new k(n.pageBounds.maxX,n.pageBounds.minY),new k(n.pageBounds.maxX,n.pageBounds.maxY)],endEdge:[new k(i.pageBounds.minX,i.pageBounds.minY),new k(i.pageBounds.minX,i.pageBounds.maxY)],length:i.pageBounds.minX-n.pageBounds.maxX,breadthIntersection:El(n.pageBounds.minY,n.pageBounds.maxY,i.pageBounds.minY,i.pageBounds.maxY)})}const o=a.sort((s,l)=>s.pageBounds.minY-l.pageBounds.minY);for(let s=0;s<o.length;s++){n=o[s];for(let l=s+1;l<o.length;l++)i=o[l],n.pageBounds.maxY<i.pageBounds.minY&&_v(n.pageBounds.minX,n.pageBounds.maxX,i.pageBounds.minX,i.pageBounds.maxX)&&r.push({startNode:n,endNode:i,startEdge:[new k(n.pageBounds.minX,n.pageBounds.maxY),new k(n.pageBounds.maxX,n.pageBounds.maxY)],endEdge:[new k(i.pageBounds.minX,i.pageBounds.minY),new k(i.pageBounds.maxX,i.pageBounds.minY)],length:i.pageBounds.minY-n.pageBounds.maxY,breadthIntersection:El(n.pageBounds.minX,n.pageBounds.maxX,i.pageBounds.minX,i.pageBounds.maxX)})}return{horizontal:e,vertical:r}}snapTranslateShapes({lockedAxis:e,initialSelectionPageBounds:r,initialSelectionSnapPoints:n,dragDelta:i}){var m,w;const a=this.manager.getSnapThreshold(),o=this.getSnappablePoints(),s=r.clone().translate(i),l=n.map(({x:b,y:C},S)=>({id:"selection:"+S,x:b+i.x,y:C+i.y})),u=o,c=[],A=[],d=new k(a,a);this.collectPointSnaps({minOffset:d,nearestSnapsX:c,nearestSnapsY:A,otherNodeSnapPoints:u,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:s,nearestSnapsX:c,nearestSnapsY:A,minOffset:d});const f=new k(e==="x"?0:((m=c[0])==null?void 0:m.nudge)??0,e==="y"?0:((w=A[0])==null?void 0:w.nudge)??0);d.x=0,d.y=0,c.length=0,A.length=0,l.forEach(b=>{b.x+=f.x,b.y+=f.y}),s.translate(f),this.collectPointSnaps({minOffset:d,nearestSnapsX:c,nearestSnapsY:A,otherNodeSnapPoints:u,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:s,nearestSnapsX:c,nearestSnapsY:A,minOffset:d});const p=this.getPointSnapLines({nearestSnapsX:c,nearestSnapsY:A}),g=this.getGapSnapLines({selectionPageBounds:s,nearestSnapsX:c,nearestSnapsY:A});return this.manager.setIndicators([...g,...p]),{nudge:f}}snapResizeShapes({initialSelectionPageBounds:e,dragDelta:r,handle:n,isAspectRatioLocked:i,isResizingFromCenter:a}){var B,T;const o=this.manager.getSnapThreshold(),{box:s,scaleX:l,scaleY:u}=Ze.Resize(e,n,a?r.x*2:r.x,a?r.y*2:r.y,i);let c=n;l<0&&(c=gbt(c)),u<0&&(c=pbt(c)),a&&(s.center=e.center);const A=c==="top"||c==="bottom",d=c==="left"||c==="right",f=BCe(c,s),p=this.getSnappablePoints(),g=[],m=[],w=new k(o,o);this.collectPointSnaps({minOffset:w,nearestSnapsX:g,nearestSnapsY:m,otherNodeSnapPoints:p,selectionSnapPoints:f});const b=new k(A?0:((B=g[0])==null?void 0:B.nudge)??0,d?0:((T=m[0])==null?void 0:T.nudge)??0);if(i&&mbt(c)&&b.len()!==0){const R=g.length&&m.length?Math.abs(b.x)<Math.abs(b.y)?"x":"y":g.length?"x":"y",P=e.aspectRatio;R==="x"?(m.length=0,b.y=b.x/P,(c==="bottom_left"||c==="top_right")&&(b.y=-b.y)):(g.length=0,b.x=b.y*P,(c==="bottom_left"||c==="top_right")&&(b.x=-b.x))}const C=k.Add(r,b),{box:S}=Ze.Resize(e,n,a?C.x*2:C.x,a?C.y*2:C.y,i);a&&(S.center=e.center);const x=BCe("any",S);g.length=0,m.length=0,w.x=0,w.y=0,this.collectPointSnaps({minOffset:w,nearestSnapsX:g,nearestSnapsY:m,otherNodeSnapPoints:p,selectionSnapPoints:x});const _=this.getPointSnapLines({nearestSnapsX:g,nearestSnapsY:m});return this.manager.setIndicators([..._]),{nudge:b}}collectPointSnaps({selectionSnapPoints:e,otherNodeSnapPoints:r,minOffset:n,nearestSnapsX:i,nearestSnapsY:a}){for(const o of e)for(const s of r){const l=k.Sub(o,s),u=Math.abs(l.x),c=Math.abs(l.y);Ht(u)<=Ht(n.x)&&(Ht(u)<Ht(n.x)&&(i.length=0),i.push({type:"points",points:{thisPoint:o,otherPoint:s},nudge:s.x-o.x}),n.x=u),Ht(c)<=Ht(n.y)&&(Ht(c)<Ht(n.y)&&(a.length=0),a.push({type:"points",points:{thisPoint:o,otherPoint:s},nudge:s.y-o.y}),n.y=c)}}collectGapSnaps({selectionPageBounds:e,minOffset:r,nearestSnapsX:n,nearestSnapsY:i}){const{horizontal:a,vertical:o}=this.getVisibleGaps();for(const s of a){if(!_v(s.breadthIntersection[0],s.breadthIntersection[1],e.minY,e.maxY))continue;const u=s.startEdge[0].x+s.length/2-e.center.x;if(s.length>e.width&&Ht(Math.abs(u))<=Ht(r.x)){Ht(Math.abs(u))<Ht(r.x)&&(n.length=0),r.x=Math.abs(u);const w={type:"gap_center",gap:s,nudge:u},b=n.find(({type:S})=>S==="gap_center"),C=b&&El(s.breadthIntersection[0],s.breadthIntersection[1],b.gap.breadthIntersection[0],b.gap.breadthIntersection[1]);b&&b.gap.length>s.length&&C?n[n.indexOf(b)]=w:(!b||!C)&&n.push(w)}const A=s.startNode.pageBounds.minX-s.length,d=e.maxX,f=A-d;Ht(Math.abs(f))<=Ht(r.x)&&(Ht(Math.abs(f))<Ht(r.x)&&(n.length=0),r.x=Math.abs(f),n.push({type:"gap_duplicate",gap:s,protrusionDirection:"left",nudge:f}));const p=s.endNode.pageBounds.maxX+s.length,g=e.minX,m=p-g;Ht(Math.abs(m))<=Ht(r.x)&&(Ht(Math.abs(m))<Ht(r.x)&&(n.length=0),r.x=Math.abs(m),n.push({type:"gap_duplicate",gap:s,protrusionDirection:"right",nudge:m}))}for(const s of o){if(!_v(s.breadthIntersection[0],s.breadthIntersection[1],e.minX,e.maxX))continue;const u=s.startEdge[0].y+s.length/2-e.center.y;if(s.length>e.height&&Ht(Math.abs(u))<=Ht(r.y)){Ht(Math.abs(u))<Ht(r.y)&&(i.length=0),r.y=Math.abs(u);const w={type:"gap_center",gap:s,nudge:u},b=i.find(({type:S})=>S==="gap_center"),C=b&&_v(b.gap.breadthIntersection[0],b.gap.breadthIntersection[1],s.breadthIntersection[0],s.breadthIntersection[1]);b&&b.gap.length>s.length&&C?i[i.indexOf(b)]=w:(!b||!C)&&i.push(w);continue}const A=s.startNode.pageBounds.minY-s.length,d=e.maxY,f=A-d;Ht(Math.abs(f))<=Ht(r.y)&&(Ht(Math.abs(f))<Ht(r.y)&&(i.length=0),r.y=Math.abs(f),i.push({type:"gap_duplicate",gap:s,protrusionDirection:"top",nudge:f}));const p=s.endNode.pageBounds.maxY+s.length,g=e.minY,m=p-g;Ht(Math.abs(m))<=Ht(r.y)&&(Ht(Math.abs(m))<Ht(r.y)&&(i.length=0),r.y=Math.abs(m),i.push({type:"gap_duplicate",gap:s,protrusionDirection:"bottom",nudge:m}))}}getPointSnapLines({nearestSnapsX:e,nearestSnapsY:r}){const n={},i={};if(e.length>0){for(const a of e)if(a.type==="points"){const o=Ht(a.points.otherPoint.x);n[o]||(n[o]=[]),n[o].push(a.points)}}if(r.length>0){for(const a of r)if(a.type==="points"){const o=Ht(a.points.otherPoint.y);i[o]||(i[o]=[]),i[o].push(a.points)}}return Object.values(n).concat(Object.values(i)).map(a=>({id:Xr(),type:"points",points:s5(a.map(o=>k.From(o.otherPoint)).concat(a.map(o=>k.From(o.thisPoint))),(o,s)=>o.equals(s))}))}getGapSnapLines({selectionPageBounds:e,nearestSnapsX:r,nearestSnapsY:n}){const{vertical:i,horizontal:a}=this.getVisibleGaps(),o={top:e.sides[0],right:e.sides[1],bottom:[e.corners[3],e.corners[2]],left:[e.corners[0],e.corners[3]]},s=[];if(r.length>0)for(const l of r){if(l.type==="points")continue;const{gap:{breadthIntersection:u,startEdge:c,startNode:A,endNode:d,length:f,endEdge:p}}=l;switch(l.type){case"gap_center":{const g=(f-e.width)/2,m=El(u[0],u[1],e.minY,e.maxY);s.push({type:"gaps",direction:"horizontal",id:Xr(),gaps:[...Bc(a,A.id,g,"backward",m),{startEdge:c,endEdge:o.left},{startEdge:o.right,endEdge:p},...Bc(a,d.id,g,"forward",m)]});break}case"gap_duplicate":{const g=El(u[0],u[1],e.minY,e.maxY);s.push({type:"gaps",direction:"horizontal",id:Xr(),gaps:l.protrusionDirection==="left"?[{startEdge:o.right,endEdge:c.map(m=>m.clone().addXY(-A.pageBounds.width,0))},{startEdge:c,endEdge:p},...Bc(a,d.id,f,"forward",g)]:[...Bc(a,A.id,f,"backward",g),{startEdge:c,endEdge:p},{startEdge:p.map(m=>m.clone().addXY(l.gap.endNode.pageBounds.width,0)),endEdge:o.left}]});break}}}if(n.length>0)for(const l of n){if(l.type==="points")continue;const{gap:{breadthIntersection:u,startEdge:c,startNode:A,endNode:d,length:f,endEdge:p}}=l;switch(l.type){case"gap_center":{const g=(f-e.height)/2,m=El(u[0],u[1],e.minX,e.maxX);s.push({type:"gaps",direction:"vertical",id:Xr(),gaps:[...Bc(i,A.id,g,"backward",m),{startEdge:c,endEdge:o.top},{startEdge:o.bottom,endEdge:p},...Bc(i,l.gap.endNode.id,g,"forward",m)]});break}case"gap_duplicate":{const g=El(u[0],u[1],e.minX,e.maxX);s.push({type:"gaps",direction:"vertical",id:Xr(),gaps:l.protrusionDirection==="top"?[{startEdge:o.bottom,endEdge:c.map(m=>m.clone().addXY(0,-A.pageBounds.height))},{startEdge:c,endEdge:p},...Bc(i,d.id,f,"forward",g)]:[...Bc(i,A.id,f,"backward",g),{startEdge:c,endEdge:p},{startEdge:p.map(m=>m.clone().addXY(0,d.pageBounds.height)),endEdge:o.top}]})}break}}return rOt(s),s}}xh=XTt();TI(xh,1,"getSnapPointsCache",YUe,mm);TI(xh,1,"getSnappablePoints",VUe,mm);TI(xh,1,"getSnappableGapNodes",GUe,mm);TI(xh,1,"getVisibleGaps",WUe,mm);ZTt(xh,mm);function BCe(t,e){const{minX:r,maxX:n,minY:i,maxY:a}=e,o=[];switch(t){case"top":case"left":case"top_left":case"any":o.push({id:"top_left",handle:"top_left",x:r,y:i})}switch(t){case"top":case"right":case"top_right":case"any":o.push({id:"top_right",handle:"top_right",x:n,y:i})}switch(t){case"bottom":case"right":case"bottom_right":case"any":o.push({id:"bottom_right",handle:"bottom_right",x:n,y:a})}switch(t){case"bottom":case"left":case"bottom_left":case"any":o.push({id:"bottom_left",handle:"bottom_left",x:r,y:a})}return o}var nOt=Object.create,XUe=Object.defineProperty,iOt=Object.getOwnPropertyDescriptor,aOt=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),JUe=t=>{throw TypeError(t)},ZUe=(t,e,r)=>e in t?XUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oOt=t=>[,,,nOt(null)],eDe=["class","method","getter","setter","accessor","field","value","get","set"],tDe=t=>t!==void 0&&typeof t!="function"?JUe("Function expected"):t,sOt=(t,e,r,n,i)=>({kind:eDe[t],name:e,metadata:n,addInitializer:a=>r._?JUe("Already initialized"):i.push(tDe(a||null))}),lOt=(t,e)=>ZUe(e,aOt("metadata"),t[3]),uOt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},cOt=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=eDe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,iOt(i,r)),w=n.length-1;w>=0;w--)l=sOt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,tDe(o)&&(m[p]=o);return m&&XUe(i,r,m),i},AOt=(t,e,r)=>ZUe(t,e+"",r),rDe,OI;const dOt=()=>null,fOt=()=>[];rDe=[je];class Kq{constructor(e){this.manager=e,uOt(OI,5,this),AOt(this,"editor"),this.editor=e.editor}getSnapGeometryCache(){const{editor:e}=this;return e.store.createComputedCache("handle snap geometry",r=>{const n=e.getShapeUtil(r).getHandleSnapGeometry(r),i=n.getSelfSnapOutline?n.getSelfSnapOutline.bind(n):dOt,a=n.getSelfSnapPoints?n.getSelfSnapPoints.bind(n):fOt;return{outline:n.outline===void 0?e.getShapeGeometry(r):n.outline,points:n.points??[],getSelfSnapOutline:i,getSelfSnapPoints:a}})}*iterateSnapPointsInPageSpace(e,r){var i,a;const n=(i=this.getSnapGeometryCache().get(e))==null?void 0:i.getSelfSnapPoints(r);if(n&&n.length){const o=ko(this.editor.getShapePageTransform(e));for(const s of n)yield o.applyToPoint(s)}for(const o of this.manager.getSnappableShapes()){if(o===e)continue;const s=(a=this.getSnapGeometryCache().get(o))==null?void 0:a.points;if(!s||!s.length)continue;const l=ko(this.editor.getShapePageTransform(o));for(const u of s)yield l.applyToPoint(u)}}*iterateSnapOutlines(e,r){var i,a;const n=(i=this.getSnapGeometryCache().get(e))==null?void 0:i.getSelfSnapOutline(r);n&&(yield{shapeId:e,outline:n});for(const o of this.manager.getSnappableShapes()){if(o===e)continue;const s=(a=this.getSnapGeometryCache().get(o))==null?void 0:a.outline;s&&(yield{shapeId:o,outline:s})}}getHandleSnapPosition({currentShapeId:e,handle:r,handleInPageSpace:n}){const i=this.manager.getSnapThreshold();let a=i,o=null;for(const u of this.iterateSnapPointsInPageSpace(e,r))k.DistMin(n,u,a)&&(a=k.Dist(n,u),o=u);if(o)return o;let s=i,l=null;for(const{shapeId:u,outline:c}of this.iterateSnapOutlines(e,r)){const A=ko(this.editor.getShapePageTransform(u)),d=this.editor.getPointInShapeSpace(u,n),f=c.nearestPoint(d),p=A.applyToPoint(f);k.DistMin(n,p,s)&&(s=k.Dist(n,p),l=p)}return l||null}snapHandle({currentShapeId:e,handle:r}){const i=ko(this.editor.getShapePageTransform(e)).applyToPoint(r),a=this.getHandleSnapPosition({currentShapeId:e,handle:r,handleInPageSpace:i});return a?(this.manager.setIndicators([{id:Xr(),type:"points",points:[a]}]),{nudge:k.Sub(a,i)}):null}}OI=oOt();cOt(OI,1,"getSnapGeometryCache",rDe,Kq);lOt(OI,Kq);var hOt=Object.create,nDe=Object.defineProperty,pOt=Object.getOwnPropertyDescriptor,gOt=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),iDe=t=>{throw TypeError(t)},aDe=(t,e,r)=>e in t?nDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mOt=t=>[,,,hOt(null)],oDe=["class","method","getter","setter","accessor","field","value","get","set"],sDe=t=>t!==void 0&&typeof t!="function"?iDe("Function expected"):t,vOt=(t,e,r,n,i)=>({kind:oDe[t],name:e,metadata:n,addInitializer:a=>r._?iDe("Already initialized"):i.push(sDe(a||null))}),yOt=(t,e)=>aDe(e,gOt("metadata"),t[3]),wOt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},zq=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=oDe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,pOt(i,r)),w=n.length-1;w>=0;w--)l=vOt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,sDe(o)&&(m[p]=o);return m&&nDe(i,r,m),i},nN=(t,e,r)=>aDe(t,typeof e!="symbol"?e+"":e,r),lDe,uDe,cDe,vm;cDe=[je],uDe=[je],lDe=[je];class Ub{constructor(e){this.editor=e,wOt(vm,5,this),nN(this,"shapeBounds"),nN(this,"handles"),nN(this,"_snapIndicators",pi("snapLines",void 0)),this.shapeBounds=new mm(this),this.handles=new Kq(this)}getIndicators(){return this._snapIndicators.get()??Nc}clearIndicators(){this.getIndicators().length&&this._snapIndicators.set(void 0)}setIndicators(e){this._snapIndicators.set(e)}getSnapThreshold(){return 8/this.editor.getZoomLevel()}getSnappableShapes(){const{editor:e}=this,r=e.getViewportPageBounds(),n=e.getSelectedShapeIds(),i=new Set,a=o=>{if(Fo(o)){const l=e.getShape(o);l&&e.isShapeOfType(l,"frame")&&i.add(o)}const s=e.getSortedChildIdsForParent(o);for(const l of s){if(n.includes(l))continue;const u=e.getShape(l);if(!u||!e.getShapeUtil(u).canSnap(u))continue;const A=e.getShapePageBounds(l);if(A&&r.includes(A)){if(e.isShapeOfType(u,"group")){a(l);continue}i.add(l)}}};return a(this.getCurrentCommonAncestor()??e.getCurrentPageId()),i}getCurrentCommonAncestor(){return this.editor.findCommonAncestor(this.editor.getSelectedShapes())}}vm=mOt();zq(vm,1,"getSnapThreshold",cDe,Ub);zq(vm,1,"getSnappableShapes",uDe,Ub);zq(vm,1,"getCurrentCommonAncestor",lDe,Ub);yOt(vm,Ub);const bOt=/\r?\n|\r/g;function PCe(t){return t.replace(bOt,`
`).split(`
`).map(e=>e||" ").join(`
`)}const SOt={start:"left","start-legacy":"left",middle:"center","middle-legacy":"center",end:"right","end-legacy":"right"},xOt=/\s/;class COt{constructor(e){K(this,"baseElem");this.editor=e,this.baseElem=document.createElement("div"),this.baseElem.classList.add("tl-text"),this.baseElem.classList.add("tl-text-measure"),this.baseElem.tabIndex=-1}measureText(e,r){const n=this.baseElem.cloneNode();this.editor.getContainer().appendChild(n),n.setAttribute("dir","auto"),n.style.setProperty("unicode-bidi","plaintext"),n.style.setProperty("font-family",r.fontFamily),n.style.setProperty("font-style",r.fontStyle),n.style.setProperty("font-weight",r.fontWeight),n.style.setProperty("font-size",r.fontSize+"px"),n.style.setProperty("line-height",r.lineHeight*r.fontSize+"px"),n.style.setProperty("max-width",r.maxWidth===null?null:r.maxWidth+"px"),n.style.setProperty("min-width",r.minWidth===null?null:r.minWidth+"px"),n.style.setProperty("padding",r.padding),n.style.setProperty("overflow-wrap",r.disableOverflowWrapBreaking?"normal":"break-word"),n.textContent=PCe(e);const i=n.scrollWidth,a=n.getBoundingClientRect();return n.remove(),{x:0,y:0,w:a.width,h:a.height,scrollWidth:i}}measureElementTextNodeSpans(e,{shouldTruncateToFirstLine:r=!1}={}){const n=[],i=e.getBoundingClientRect(),a=-i.left,o=-i.top,s=new Range,l=e.childNodes[0];let u=0,c=null,A=null,d=0,f=0,p=!1;for(const g of e.childNodes)if(g.nodeType===Node.TEXT_NODE)for(const m of g.textContent??""){s.setStart(l,u),s.setEnd(l,u+m.length);const w=s.getClientRects(),b=w[w.length-1],C=b.top+o,S=b.left+a,x=b.right+a,_=S<f,B=xOt.test(m);if(B!==A||C!==d||!c){if(c){if(r&&C!==d){p=!0;break}n.push(c)}c={box:{x:S,y:C,w:b.width,h:b.height},text:m},f=S}else _&&(c.box.x=S),c.box.w=_?c.box.w+b.width:x-c.box.x,c.text+=m;m===`
`&&(f=0),A=B,d=C,u+=m.length}return c&&n.push(c),{spans:n,didTruncate:p}}measureTextSpans(e,r){if(e==="")return[];const n=this.baseElem.cloneNode();this.editor.getContainer().appendChild(n);const i=Math.ceil(r.width-r.padding*2);n.setAttribute("dir","auto"),n.style.setProperty("unicode-bidi","plaintext"),n.style.setProperty("width",`${i}px`),n.style.setProperty("height","min-content"),n.style.setProperty("font-size",`${r.fontSize}px`),n.style.setProperty("font-family",r.fontFamily),n.style.setProperty("font-weight",r.fontWeight),n.style.setProperty("line-height",`${r.lineHeight*r.fontSize}px`),n.style.setProperty("text-align",SOt[r.textAlign]),n.style.setProperty("font-style",r.fontStyle);const a=r.overflow==="truncate-ellipsis"||r.overflow==="truncate-clip";a&&(n.style.setProperty("overflow-wrap","anywhere"),n.style.setProperty("word-break","break-all"));const o=PCe(e);n.textContent=o;const{spans:s,didTruncate:l}=this.measureElementTextNodeSpans(n,{shouldTruncateToFirstLine:a});if(r.overflow==="truncate-ellipsis"&&l){n.textContent="";const u=Math.ceil(this.measureElementTextNodeSpans(n).spans[0].box.w);n.style.setProperty("width",`${i-u}px`),n.textContent=o;const c=this.measureElementTextNodeSpans(n,{shouldTruncateToFirstLine:!0}).spans,A=c[c.length-1];return c.push({text:"",box:{x:Math.min(A.box.x+A.box.w,r.width-r.padding-u),y:A.box.y,w:u,h:A.box.h}}),c}return n.remove(),s}}var _Ot=Object.create,ADe=Object.defineProperty,EOt=Object.getOwnPropertyDescriptor,IOt=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),dDe=t=>{throw TypeError(t)},fDe=(t,e,r)=>e in t?ADe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BOt=t=>[,,,_Ot(null)],hDe=["class","method","getter","setter","accessor","field","value","get","set"],pDe=t=>t!==void 0&&typeof t!="function"?dDe("Function expected"):t,POt=(t,e,r,n,i)=>({kind:hDe[t],name:e,metadata:n,addInitializer:a=>r._?dDe("Already initialized"):i.push(pDe(a||null))}),TOt=(t,e)=>fDe(e,IOt("metadata"),t[3]),OOt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},gDe=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=hDe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,EOt(i,r)),w=n.length-1;w>=0;w--)l=POt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,pDe(o)&&(m[p]=o);return m&&ADe(i,r,m),i},X0=(t,e,r)=>fDe(t,typeof e!="symbol"?e+"":e,r),mDe,vDe,Db;const TCe=gRe;vDe=[Lo],mDe=[Lo];class RI{constructor(e){this.editor=e,OOt(Db,5,this),X0(this,"cancelRaf"),X0(this,"isPaused",!0),X0(this,"now",0),X0(this,"prevPoint",new k),this.editor.disposables.add(this.dispose),this.start()}start(){var e;this.isPaused=!1,(e=this.cancelRaf)==null||e.call(this),this.cancelRaf=TCe(this.tick),this.now=Date.now()}tick(){if(this.isPaused)return;const e=Date.now(),r=e-this.now;this.now=e,this.updatePointerVelocity(r),this.editor.emit("frame",r),this.editor.emit("tick",r),this.cancelRaf=TCe(this.tick)}dispose(){var e;this.isPaused=!0,(e=this.cancelRaf)==null||e.call(this)}updatePointerVelocity(e){const{prevPoint:r,editor:{inputs:{currentScreenPoint:n,pointerVelocity:i}}}=this;if(e===0)return;const a=k.Sub(n,r);this.prevPoint=n.clone();const o=a.len(),s=o?a.div(o):new k(0,0),l=i.clone().lrp(s.mul(o/e),.5);Math.abs(l.x)<.01&&(l.x=0),Math.abs(l.y)<.01&&(l.y=0),i.equals(l)||(this.editor.inputs.pointerVelocity=l)}}Db=BOt();gDe(Db,1,"tick",vDe,RI);gDe(Db,1,"dispose",mDe,RI);TOt(Db,RI);var ROt=Object.create,yDe=Object.defineProperty,MOt=Object.getOwnPropertyDescriptor,FOt=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),wDe=t=>{throw TypeError(t)},bDe=(t,e,r)=>e in t?yDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kOt=t=>[,,,ROt(null)],SDe=["class","method","getter","setter","accessor","field","value","get","set"],xDe=t=>t!==void 0&&typeof t!="function"?wDe("Function expected"):t,UOt=(t,e,r,n,i)=>({kind:SDe[t],name:e,metadata:n,addInitializer:a=>r._?wDe("Already initialized"):i.push(xDe(a||null))}),DOt=(t,e)=>bDe(e,FOt("metadata"),t[3]),jOt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},sl=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=SDe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,MOt(i,r)),w=n.length-1;w>=0;w--)l=UOt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,xDe(o)&&(m[p]=o);return m&&yDe(i,r,m),i},OCe=(t,e,r)=>bDe(t,typeof e!="symbol"?e+"":e,r),CDe,_De,EDe,IDe,BDe,PDe,TDe,ODe,RDe,MDe,FDe,kDe,mo;kDe=[je],FDe=[je],MDe=[je],RDe=[je],ODe=[je],TDe=[je],PDe=[je],BDe=[je],IDe=[je],EDe=[je],_De=[je],CDe=[je];class zo{constructor(e,r){if(this.user=e,this.inferDarkMode=r,jOt(mo,5,this),OCe(this,"systemColorScheme",pi("systemColorScheme","light")),OCe(this,"disposables",new Set),typeof window>"u"||!("matchMedia"in window))return;const n=window.matchMedia("(prefers-color-scheme: dark)");n!=null&&n.matches&&this.systemColorScheme.set("dark");const i=a=>{a.matches?this.systemColorScheme.set("dark"):this.systemColorScheme.set("light")};n==null||n.addEventListener("change",i),this.disposables.add(()=>n==null?void 0:n.removeEventListener("change",i))}dispose(){this.disposables.forEach(e=>e())}updateUserPreferences(e){this.user.setUserPreferences({...this.user.userPreferences.get(),...e})}getUserPreferences(){return{id:this.getId(),name:this.getName(),locale:this.getLocale(),color:this.getColor(),animationSpeed:this.getAnimationSpeed(),isSnapMode:this.getIsSnapMode(),colorScheme:this.user.userPreferences.get().colorScheme,isDarkMode:this.getIsDarkMode(),isWrapMode:this.getIsWrapMode(),isDynamicResizeMode:this.getIsDynamicResizeMode()}}getIsDarkMode(){switch(this.user.userPreferences.get().colorScheme){case"dark":return!0;case"light":return!1;case"system":return this.systemColorScheme.get()==="dark";default:return this.inferDarkMode?this.systemColorScheme.get()==="dark":!1}}getEdgeScrollSpeed(){return this.user.userPreferences.get().edgeScrollSpeed??yu.edgeScrollSpeed}getAnimationSpeed(){return this.user.userPreferences.get().animationSpeed??yu.animationSpeed}getId(){return this.user.userPreferences.get().id}getName(){return this.user.userPreferences.get().name??yu.name}getLocale(){return this.user.userPreferences.get().locale??yu.locale}getColor(){return this.user.userPreferences.get().color??yu.color}getIsSnapMode(){return this.user.userPreferences.get().isSnapMode??yu.isSnapMode}getIsWrapMode(){return this.user.userPreferences.get().isWrapMode??yu.isWrapMode}getIsDynamicResizeMode(){return this.user.userPreferences.get().isDynamicSizeMode??yu.isDynamicSizeMode}getIsPasteAtCursorMode(){return this.user.userPreferences.get().isPasteAtCursorMode??yu.isPasteAtCursorMode}}mo=kOt();sl(mo,1,"getUserPreferences",kDe,zo);sl(mo,1,"getIsDarkMode",FDe,zo);sl(mo,1,"getEdgeScrollSpeed",MDe,zo);sl(mo,1,"getAnimationSpeed",RDe,zo);sl(mo,1,"getId",ODe,zo);sl(mo,1,"getName",TDe,zo);sl(mo,1,"getLocale",PDe,zo);sl(mo,1,"getColor",BDe,zo);sl(mo,1,"getIsSnapMode",IDe,zo);sl(mo,1,"getIsWrapMode",EDe,zo);sl(mo,1,"getIsDynamicResizeMode",_De,zo);sl(mo,1,"getIsPasteAtCursorMode",CDe,zo);DOt(mo,zo);const LOt={wheel:"onWheel",pointer_down:"onPointerDown",pointer_move:"onPointerMove",long_press:"onLongPress",pointer_up:"onPointerUp",right_click:"onRightClick",middle_click:"onMiddleClick",key_down:"onKeyDown",key_up:"onKeyUp",key_repeat:"onKeyRepeat",cancel:"onCancel",complete:"onComplete",interrupt:"onInterrupt",double_click:"onDoubleClick",triple_click:"onTripleClick",quadruple_click:"onQuadrupleClick",tick:"onTick"},NOt=["brushing","cropping","dragging","dragging_handle","drawing","erasing","lasering","resizing","rotating","scribble_brushing","translating"];class Pt{constructor(e,r){K(this,"performanceTracker");K(this,"id");K(this,"type");K(this,"shapeType");K(this,"initial");K(this,"children");K(this,"isLockable");K(this,"parent");K(this,"_path");K(this,"_current");K(this,"_isActive");K(this,"_currentToolIdMask",pi("curent tool id mask",void 0));this.editor=e;const{id:n,children:i,initial:a,isLockable:o}=this.constructor;this.id=n,this._isActive=pi("toolIsActive"+this.id,!1),this._current=pi("toolState"+this.id,void 0),this._path=je("toolPath"+this.id,()=>{const s=this.getCurrent();return this.id+(s?`.${s.getPath()}`:"")}),this.parent=r??{},this.parent?i&&a?(this.type="branch",this.initial=a,this.children=Object.fromEntries(i().map(s=>[s.id,new s(this.editor,this)])),this._current.set(this.children[this.initial])):this.type="leaf":(this.type="root",i&&a&&(this.initial=a,this.children=Object.fromEntries(i().map(s=>[s.id,new s(this.editor,this)])),this._current.set(this.children[this.initial]))),this.isLockable=o,this.performanceTracker=new WOe}getPath(){return this._path.get()}getCurrent(){return this._current.get()}getIsActive(){return this._isActive.get()}transition(e,r={}){var a;const n=e.split(".");let i=this;for(let o=0;o<n.length;o++){const s=n[o],l=i.getCurrent(),u=(a=i.children)==null?void 0:a[s];if(!u)throw Error(`${i.id} - no child state exists with the id ${s}.`);if((l==null?void 0:l.id)!==u.id&&(l==null||l.exit(r,s),i._current.set(u),u.enter(r,(l==null?void 0:l.id)||"initial"),!u.getIsActive()))break;i=u}return this}handleEvent(e){var i;const r=LOt[e.name],n=this._current.__unsafe__getWithoutCapture();(i=this[r])==null||i.call(this,e),this._isActive.__unsafe__getWithoutCapture()&&n&&n===this._current.__unsafe__getWithoutCapture()&&n.handleEvent(e)}enter(e,r){var n;if(fi.measurePerformance.get()&&NOt.includes(this.id)&&this.performanceTracker.start(this.id),this._isActive.set(!0),(n=this.onEnter)==null||n.call(this,e,r),this.children&&this.initial&&this.getIsActive()){const i=this.children[this.initial];this._current.set(i),i.enter(e,r)}}exit(e,r){var n,i;fi.measurePerformance.get()&&this.performanceTracker.isStarted()&&this.performanceTracker.stop(),this._isActive.set(!1),(n=this.onExit)==null||n.call(this,e,r),this.getIsActive()||(i=this.getCurrent())==null||i.exit(e,r)}getCurrentToolIdMask(){return this._currentToolIdMask.get()}setCurrentToolIdMask(e){this._currentToolIdMask.set(e)}}K(Pt,"id"),K(Pt,"initial"),K(Pt,"children"),K(Pt,"isLockable",!0);class x4 extends Pt{static children(){return[]}onKeyDown(e){var r;switch(e.code){case"KeyZ":{if(!(e.shiftKey||e.ctrlKey)){const n=this.getCurrent();n&&((r=n.getCurrent())==null?void 0:r.id)==="idle"&&this.children.zoom&&this.editor.setCurrentTool("zoom",{...e,onInteractionEnd:n.id})}break}}}}K(x4,"id","root"),K(x4,"initial","");var $Ot=Object.create,UDe=Object.defineProperty,QOt=Object.getOwnPropertyDescriptor,DDe=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),jDe=t=>{throw TypeError(t)},LDe=(t,e,r)=>e in t?UDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,HOt=t=>[,,,$Ot((t==null?void 0:t[DDe("metadata")])??null)],NDe=["class","method","getter","setter","accessor","field","value","get","set"],$De=t=>t!==void 0&&typeof t!="function"?jDe("Function expected"):t,qOt=(t,e,r,n,i)=>({kind:NDe[t],name:e,metadata:n,addInitializer:a=>r._?jDe("Already initialized"):i.push($De(a||null))}),KOt=(t,e)=>LDe(e,DDe("metadata"),t[3]),zOt=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},mt=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=NDe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,QOt(i,r)),w=n.length-1;w>=0;w--)l=qOt(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,$De(o)&&(m[p]=o);return m&&UDe(i,r,m),i},jt=(t,e,r)=>LDe(t,typeof e!="symbol"?e+"":e,r),QDe,HDe,qDe,KDe,zDe,WDe,GDe,VDe,YDe,XDe,JDe,ZDe,eje,tje,rje,nje,ije,aje,oje,sje,lje,uje,cje,Aje,dje,fje,hje,pje,gje,mje,vje,yje,wje,bje,Sje,xje,Cje,_je,Eje,Ije,Bje,Pje,Tje,Oje,Rje,Mje,Fje,kje,Uje,Dje,jje,Lje,Nje,$je,Qje,Hje,qje,Kje,zje,Wje,Gje,Vje,Yje,Xje,Jje,Zje,eLe,tLe,rLe,nLe,iLe,C4,pt;class ht extends(C4=MTe,iLe=[je],nLe=[je],rLe=[je],tLe=[je],eLe=[je],Zje=[je],Jje=[je],Xje=[je],Yje=[je],Vje=[je],Gje=[je],Wje=[je],zje=[je],Kje=[je],qje=[je],Hje=[je],Qje=[je],$je=[je],Nje=[je],Lje=[je],jje=[je],Dje=[je],Uje=[je],kje=[je],Fje=[je],Mje=[je],Rje=[je],Oje=[je],Tje=[je],Pje=[je],Bje=[je],Ije=[je],Eje=[je],_je=[je],Cje=[je],xje=[je],Sje=[je],bje=[je],wje=[je],yje=[je],vje=[je],mje=[je],gje=[je],pje=[je],hje=[je],fje=[je],dje=[je],Aje=[je],cje=[je],uje=[je],lje=[je],sje=[je],oje=[je],aje=[je],ije=[je],nje=[je],rje=[je],tje=[je],eje=[je],ZDe=[je],JDe=[je],XDe=[je],YDe=[je],VDe=[je({isEqual:(e,r)=>e.equals(r)})],GDe=[je],WDe=[je],zDe=[je],KDe=[Lo],qDe=[Lo],HDe=[Lo],QDe=[Lo],C4){constructor({store:e,user:r,shapeUtils:n,bindingUtils:i,tools:a,getContainer:o,cameraOptions:s,initialState:l,autoFocus:u,inferDarkMode:c,options:A,isShapeHidden:d}){var R;super(),zOt(pt,5,this),jt(this,"_isShapeHiddenPredicate"),jt(this,"options"),jt(this,"contextId",Xr()),jt(this,"store"),jt(this,"root"),jt(this,"disposables",new Set),jt(this,"isDisposed",!1),jt(this,"_tickManager"),jt(this,"snaps"),jt(this,"timers",b4.forContext(this.contextId)),jt(this,"user"),jt(this,"textMeasure"),jt(this,"environment",tn),jt(this,"scribbles"),jt(this,"sideEffects"),jt(this,"edgeScrollManager"),jt(this,"focusManager"),jt(this,"getContainer"),jt(this,"shapeUtils"),jt(this,"styleProps"),jt(this,"bindingUtils"),jt(this,"history"),jt(this,"_shouldIgnoreShapeLock",!1),jt(this,"_crashingError",null),jt(this,"_isChangingStyleTimeout",-1),jt(this,"menus",Il.forContext(this.contextId)),jt(this,"_cameraOptions",pi("camera options",Bre)),jt(this,"_viewportAnimation",null),jt(this,"_willSetInitialBounds",!0),jt(this,"_isLockedOnFollowingUser",pi("isLockedOnFollowingUser",!1)),jt(this,"_cameraState",pi("camera state","idle")),jt(this,"_cameraStateTimeoutRemaining",0),jt(this,"_currentPageShapeIds"),jt(this,"_shapeGeometryCaches",{}),jt(this,"_parentIdsToChildIds"),jt(this,"animatingShapes",new Map),jt(this,"externalAssetContentHandlers",{file:null,url:null}),jt(this,"temporaryAssetPreview",new Map),jt(this,"externalContentHandlers",{text:null,files:null,embed:null,"svg-text":null,url:null,tldraw:null,excalidraw:null}),jt(this,"inputs",{originPagePoint:new k,originScreenPoint:new k,previousPagePoint:new k,previousScreenPoint:new k,currentPagePoint:new k,currentScreenPoint:new k,keys:new Set,buttons:new Set,isPen:!1,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1,isDragging:!1,isPointing:!1,isPinching:!1,isEditing:!1,isPanning:!1,isSpacebarPanning:!1,pointerVelocity:new k}),jt(this,"_clickManager",new PI(this)),jt(this,"_prevCursor","default"),jt(this,"_shiftKeyTimeout",-1),jt(this,"_altKeyTimeout",-1),jt(this,"_ctrlKeyTimeout",-1),jt(this,"_metaKeyTimeout",-1),jt(this,"_restoreToolId","select"),jt(this,"_pinchStart",1),jt(this,"_didPinch",!1),jt(this,"_selectedShapeIdsAtPointerDown",[]),jt(this,"_longPressTimeout",-1),jt(this,"capturedPointerId",null),jt(this,"performanceTracker"),jt(this,"performanceTrackerTimeout",-1),jt(this,"_pendingEventsForNextTick",[]),this._isShapeHiddenPredicate=d,this.options={...gTt,...A},this.store=e,this.disposables.add(this.store.dispose.bind(this.store)),this.history=new qTt({store:e,annotateError:P=>{this.annotateError(P,{origin:"history.batch",willCrashApp:!0}),this.crash(P)}}),this.snaps=new Ub(this),this.disposables.add(this.timers.dispose),this._cameraOptions.set({...Bre,...s}),this.user=new zo(r??_Me(),c??!1),this.disposables.add(()=>this.user.dispose()),this.getContainer=o,this.textMeasure=new COt(this),this._tickManager=new RI(this);class f extends x4{}K(f,"initial",l??""),this.root=new f(this),this.root.children={};const p=AUe(n),g={},m={},w=new Map;for(const P of p){const M=new P(this);g[P.type]=M;const U=s2e(P.props??{});m[P.type]=U;for(const F of U.keys())if(!w.has(F.id))w.set(F.id,F);else if(w.get(F.id)!==F)throw Error(`Multiple style props with id "${F.id}" in use. Style prop IDs must be unique.`)}this.shapeUtils=g,this.styleProps=m;const b=uUe(i),C={};for(const P of b){const M=new P(this);C[P.type]=M}this.bindingUtils=C;for(const P of[...a]){if(Xs(this.root.children,P.id))throw Error(`Can't override tool with id "${P.id}"`);this.root.children[P.id]=new P(this,this.root)}this.scribbles=new WTt(this);const S=(P,M)=>{let U=null;const F=P.selectedShapeIds.filter($=>!M.has($));F.length!==P.selectedShapeIds.length&&(U||(U={...P}),U.selectedShapeIds=F);const j=P.erasingShapeIds.filter($=>!M.has($));j.length!==P.erasingShapeIds.length&&(U||(U={...P}),U.erasingShapeIds=j),P.hoveredShapeId&&M.has(P.hoveredShapeId)&&(U||(U={...P}),U.hoveredShapeId=null),P.editingShapeId&&M.has(P.editingShapeId)&&(U||(U={...P}),U.editingShapeId=null);const L=P.hintingShapeIds.filter($=>!M.has($));return L.length!==P.hintingShapeIds.length&&(U||(U={...P}),U.hintingShapeIds=L),P.focusedGroupId&&M.has(P.focusedGroupId)&&(U||(U={...P}),U.focusedGroupId=null),U};this.sideEffects=this.store.sideEffects;let x=new Map;const _=new Set,B=new Set;let T=new Set;if(this.disposables.add(this.sideEffects.registerOperationCompleteHandler(()=>{var P,M,U,F;_.clear();for(const j of B){B.delete(j);const L=this.getShape(j);if(!L)continue;const $=this.getShapeUtil(L),Q=(P=$.onChildrenChange)==null?void 0:P.call($,L);Q!=null&&Q.length&&this.updateShapes(Q)}if(T.size){const j=T;T=new Set;for(const L of j){const $=this.getBindingUtil(L);(M=$.onOperationComplete)==null||M.call($)}}if(x.size){const j=x;x=new Map;for(const L of j.values())(F=(U=this.getBindingUtil(L.binding)).onAfterDelete)==null||F.call(U,L)}this.emit("update")})),this.disposables.add(this.sideEffects.register({shape:{afterChange:(P,M)=>{var U,F,j,L;for(const $ of this.getBindingsInvolvingShape(M))T.add($.type),$.fromId===M.id&&((F=(U=this.getBindingUtil($)).onAfterChangeFromShape)==null||F.call(U,{binding:$,shapeBefore:P,shapeAfter:M})),$.toId===M.id&&((L=(j=this.getBindingUtil($)).onAfterChangeToShape)==null||L.call(j,{binding:$,shapeBefore:P,shapeAfter:M}));if(P.parentId!==M.parentId){const $=Q=>{var q,Y,z,V;const H=this.getShape(Q);if(H)for(const X of this.getBindingsInvolvingShape(H))T.add(X.type),X.fromId===H.id&&((Y=(q=this.getBindingUtil(X)).onAfterChangeFromShape)==null||Y.call(q,{binding:X,shapeBefore:H,shapeAfter:H})),X.toId===H.id&&((V=(z=this.getBindingUtil(X)).onAfterChangeToShape)==null||V.call(z,{binding:X,shapeBefore:H,shapeAfter:H}))};$(M.id),this.visitDescendants(M.id,$)}if(P.parentId!==M.parentId&&To(M.parentId)){const $=new Set([P.id]);this.visitDescendants(P.id,Q=>{$.add(Q)});for(const Q of this.getPageStates()){if(Q.pageId===M.parentId)continue;const H=S(Q,$);H&&this.store.put([H])}}P.parentId&&Fo(P.parentId)&&B.add(P.parentId),M.parentId!==P.parentId&&Fo(M.parentId)&&B.add(M.parentId)},beforeDelete:P=>{var j,L,$,Q;if(_.has(P.id))return;P.parentId&&Fo(P.parentId)&&B.add(P.parentId),_.add(P.id);const M=[];for(const H of this.getBindingsInvolvingShape(P)){T.add(H.type),M.push(H.id);const q=this.getBindingUtil(H);H.fromId===P.id?((j=q.onBeforeIsolateToShape)==null||j.call(q,{binding:H,removedShape:P}),(L=q.onBeforeDeleteFromShape)==null||L.call(q,{binding:H,shape:P})):(($=q.onBeforeIsolateFromShape)==null||$.call(q,{binding:H,removedShape:P}),(Q=q.onBeforeDeleteToShape)==null||Q.call(q,{binding:H,shape:P}))}M.length&&this.deleteBindings(M);const U=new Set([P.id]),F=sr(this.getPageStates().map(H=>S(H,U)));F.length&&this.store.put(F)}},binding:{beforeCreate:P=>{var U,F;const M=(F=(U=this.getBindingUtil(P)).onBeforeCreate)==null?void 0:F.call(U,{binding:P});return M||P},afterCreate:P=>{var M,U;T.add(P.type),(U=(M=this.getBindingUtil(P)).onAfterCreate)==null||U.call(M,{binding:P})},beforeChange:(P,M)=>{var F,j;const U=(j=(F=this.getBindingUtil(M)).onBeforeChange)==null?void 0:j.call(F,{bindingBefore:P,bindingAfter:M});return U||M},afterChange:(P,M)=>{var U,F;T.add(M.type),(F=(U=this.getBindingUtil(M)).onAfterChange)==null||F.call(U,{bindingBefore:P,bindingAfter:M})},beforeDelete:P=>{var M,U;(U=(M=this.getBindingUtil(P)).onBeforeDelete)==null||U.call(M,{binding:P})},afterDelete:P=>{var M,U;(U=(M=this.getBindingUtil(P)).onAfterDelete)==null||U.call(M,{binding:P}),T.add(P.type)}},page:{afterCreate:P=>{const M=Bu.createId(P.id),U=Rl.createId(P.id);this.store.has(M)||this.store.put([Bu.create({id:M})]),this.store.has(U)||this.store.put([Rl.create({id:U,pageId:P.id})])},afterDelete:(P,M)=>{var j,L;if(((j=this.getInstanceState())==null?void 0:j.currentPageId)===P.id){const $=(L=this.getPages().find(Q=>Q.id!==P.id))==null?void 0:L.id;$?this.store.put([{...this.getInstanceState(),currentPageId:$}]):M==="user"&&this.store.ensureStoreIsUsable()}const U=Bu.createId(P.id),F=Rl.createId(P.id);this.store.remove([U,F])}},instance:{afterChange:(P,M,U)=>{var F;if(!this.store.has(M.currentPageId)){const j=this.store.has(P.currentPageId)?P.currentPageId:(F=this.getPages()[0])==null?void 0:F.id;j?this.store.update(M.id,L=>({...L,currentPageId:j})):U==="user"&&this.store.ensureStoreIsUsable()}}},instance_page_state:{afterChange:(P,M)=>{if((P==null?void 0:P.selectedShapeIds)!==(M==null?void 0:M.selectedShapeIds)){const U=M.selectedShapeIds.filter(j=>{var $,Q;let L=($=this.getShape(j))==null?void 0:$.parentId;for(;Fo(L);){if(M.selectedShapeIds.includes(L))return!1;L=(Q=this.getShape(L))==null?void 0:Q.parentId}return!0});let F=null;if(U.length>0){const j=this.findCommonAncestor(sr(U.map(L=>this.getShape(L))),L=>this.isShapeOfType(L,"group"));j&&(F=j)}else M!=null&&M.focusedGroupId&&(F=M.focusedGroupId);(U.length!==M.selectedShapeIds.length||F!==M.focusedGroupId)&&this.store.put([{...M,selectedShapeIds:U,focusedGroupId:F??null}])}}}})),this._currentPageShapeIds=OTt(this.store,()=>this.getCurrentPageId()),this._parentIdsToChildIds=TTt(this.store),this.disposables.add(this.store.listen(P=>{this.emit("change",P)})),this.disposables.add(this.history.dispose),this.run(()=>{this.store.ensureStoreIsUsable(),this._updateCurrentPageState({editingShapeId:null,hoveredShapeId:null,erasingShapeIds:[]})},{history:"ignore"}),l&&this.root.children[l]===void 0)throw Error(`No state found for initialState "${l}".`);if(this.root.enter(void 0,"initial"),this.edgeScrollManager=new NTt(this),this.focusManager=new $Tt(this,u),this.disposables.add(this.focusManager.dispose.bind(this.focusManager)),this.getInstanceState().followingUserId&&this.stopFollowingUser(),this.on("tick",this._flushEventsForTick),this.timers.requestAnimationFrame(()=>{this._tickManager.start()}),this.performanceTracker=new WOe,(R=this.store.props.collaboration)!=null&&R.mode){const P=this.store.props.collaboration.mode;this.disposables.add(ku("update collaboration mode",()=>{this.store.put([{...this.getInstanceState(),isReadonly:P.get()==="readonly"}])}))}}getIsShapeHiddenCache(){return this._isShapeHiddenPredicate?this.store.createComputedCache("isShapeHidden",e=>this.findShapeAncestor(e,n=>this.isShapeHidden(n))?!0:this._isShapeHiddenPredicate(e,this)??!1):null}isShapeHidden(e){return this._isShapeHiddenPredicate?!!this.getIsShapeHiddenCache().get(typeof e=="string"?e:e.id):!1}dispose(){this.disposables.forEach(e=>e()),this.disposables.clear(),this.isDisposed=!0}getShapeUtil(e){const r=typeof e=="string"?e:e.type,n=qa(this.shapeUtils,r);return fr(n,`No shape util found for type "${r}"`),n}hasShapeUtil(e){const r=typeof e=="string"?e:e.type;return Xs(this.shapeUtils,r)}getBindingUtil(e){const r=typeof e=="string"?e:e.type,n=qa(this.bindingUtils,r);return fr(n,`No binding util found for type "${r}"`),n}undo(){return this._flushEventsForTick(0),this.complete(),this.history.undo(),this}getCanUndo(){return this.history.getNumUndos()>0}redo(){return this._flushEventsForTick(0),this.complete(),this.history.redo(),this}clearHistory(){return this.history.clear(),this}getCanRedo(){return this.history.getNumRedos()>0}mark(e){return console.warn(typeof e=="string"?`[tldraw] \`editor.history.mark("${e}")\` is deprecated. Please use \`const myMarkId = editor.markHistoryStoppingPoint()\` instead.`:"[tldraw] `editor.mark()` is deprecated. Use `editor.markHistoryStoppingPoint()` instead."),this.history._mark(e??Xr()),this}markHistoryStoppingPoint(e){const r=`[${e??"stop"}]_${Xr()}`;return this.history._mark(r),r}getMarkIdMatching(e){return this.history.getMarkIdMatching(e)}squashToMark(e){return this.history.squashToMark(e),this}bail(){return this.history.bail(),this}bailToMark(e){return this.history.bailToMark(e),this}run(e,r){const n=this._shouldIgnoreShapeLock;this._shouldIgnoreShapeLock=(r==null?void 0:r.ignoreShapeLock)??n;try{this.history.batch(e,r)}finally{this._shouldIgnoreShapeLock=n}return this}batch(e,r){return this.run(e,r)}annotateError(e,{origin:r,willCrashApp:n,tags:i,extras:a}){const o=this.createErrorAnnotations(r,n);return u5(e,{tags:{...o.tags,...i},extras:{...o.extras,...a}}),n&&this.store.markAsPossiblyCorrupted(),this}createErrorAnnotations(e,r){try{const n=this.getEditingShapeId();return{tags:{origin:e,willCrashApp:r},extras:{activeStateNode:this.root.getPath(),selectedShapes:this.getSelectedShapes().map(i=>{const{props:a,...o}=i,{text:s,richText:l,...u}=a;return{...o,props:u}}),selectionCount:this.getSelectedShapes().length,editingShape:n?this.getShape(n):void 0,inputs:this.inputs,pageState:this.getCurrentPageState(),instanceState:this.getInstanceState(),collaboratorCount:this.getCollaboratorsOnCurrentPage().length}}}catch{return{tags:{origin:e,willCrashApp:r},extras:{}}}}getCrashingError(){return this._crashingError}crash(e){return this._crashingError=e,this.store.markAsPossiblyCorrupted(),this.emit("crash",{error:e}),this}getPath(){return this.root.getPath().split("root.")[1]}isIn(e){const r=e.split(".").reverse();let n=this.root;for(;r.length>0;){const i=r.pop();if(!i)return!0;const a=n.getCurrent();if((a==null?void 0:a.id)===i){if(r.length===0)return!0;n=a;continue}else return!1}return!1}isInAny(...e){return e.some(r=>this.isIn(r))}setCurrentTool(e,r={}){return this.root.transition(e,r),this}getCurrentTool(){return this.root.getCurrent()}getCurrentToolId(){const e=this.getCurrentTool();return e?e.getCurrentToolIdMask()??e.id:""}getStateDescendant(e){var i;const r=e.split(".").reverse();let n=this.root;for(;r.length>0;){const a=r.pop();if(!a)return n;const o=(i=n.children)==null?void 0:i[a];if(!o)return;n=o}return n}getDocumentSettings(){return this.store.get(d4)}updateDocumentSettings(e){return this.run(()=>{this.store.put([{...this.getDocumentSettings(),...e}])},{history:"ignore"}),this}getInstanceState(){return this.store.get(co)}updateInstanceState(e,r){return this._updateInstanceState(e,{history:"ignore",...r}),e.isChangingStyle!==void 0&&(clearTimeout(this._isChangingStyleTimeout),e.isChangingStyle===!0&&(this._isChangingStyleTimeout=this.timers.setTimeout(()=>{this._updateInstanceState({isChangingStyle:!1},{history:"ignore"})},1e3))),this}_updateInstanceState(e,r){this.run(()=>{this.store.put([{...this.getInstanceState(),...e}])},r)}getOpenMenus(){return this.menus.getOpenMenus()}addOpenMenu(e){return this.menus.addOpenMenu(e),this}deleteOpenMenu(e){return this.menus.deleteOpenMenu(e),this}clearOpenMenus(){return this.menus.clearOpenMenus(),this}getIsMenuOpen(){return this.menus.hasAnyOpenMenus()}setCursor(e){return this.updateInstanceState({cursor:{...this.getInstanceState().cursor,...e}}),this}getPageStates(){return this._getPageStatesQuery().get()}_getPageStatesQuery(){return this.store.query.records("instance_page_state")}getCurrentPageState(){return this.store.get(this._getCurrentPageStateId())}_getCurrentPageStateId(){return Rl.createId(this.getCurrentPageId())}updateCurrentPageState(e){return this._updateCurrentPageState(e),this}_updateCurrentPageState(e){this.store.update(e.id??this.getCurrentPageState().id,r=>({...r,...e}))}getSelectedShapeIds(){return this.getCurrentPageState().selectedShapeIds}getSelectedShapes(){const{selectedShapeIds:e}=this.getCurrentPageState();return sr(e.map(r=>this.store.get(r)))}setSelectedShapes(e){return this.run(()=>{const r=e.map(a=>typeof a=="string"?a:a.id),{selectedShapeIds:n}=this.getCurrentPageState(),i=new Set(n);if(r.length===i.size&&r.every(a=>i.has(a)))return null;this.store.put([{...this.getCurrentPageState(),selectedShapeIds:r}])},{history:"record-preserveRedoStack"})}isAncestorSelected(e){const r=typeof e=="string"?e:(e==null?void 0:e.id)??null,n=this.getShape(r);if(!n)return!1;const i=this.getSelectedShapeIds();return!!this.findShapeAncestor(n,a=>i.includes(a.id))}select(...e){const r=typeof e[0]=="string"?e:e.map(n=>n.id);return this.setSelectedShapes(r),this}deselect(...e){const r=typeof e[0]=="string"?e:e.map(i=>i.id),n=this.getSelectedShapeIds();return n.length>0&&r.length>0&&this.setSelectedShapes(n.filter(i=>!r.includes(i))),this}selectAll(){const e=this.getSortedChildIdsForParent(this.getCurrentPageId());return e.length<=0?this:(this.setSelectedShapes(this._getUnlockedShapeIds(e)),this)}selectNone(){return this.getSelectedShapeIds().length>0&&this.setSelectedShapes([]),this}getOnlySelectedShapeId(){var e;return((e=this.getOnlySelectedShape())==null?void 0:e.id)??null}getOnlySelectedShape(){const e=this.getSelectedShapes();return e.length===1?e[0]:null}getShapesPageBounds(e){const r=sr(e.map(n=>this.getShapePageBounds(n)));return r.length===0?null:Ze.Common(r)}getSelectionPageBounds(){return this.getShapesPageBounds(this.getSelectedShapeIds())}getShapesSharedRotation(e){let r=!1,n=0;for(let i=0,a=e.length;i<a;i++){const o=this.getShapePageTransform(e[i]);if(o)if(r){if(o.rotation()!==n)return 0}else r=!0,n=o.rotation()}return n}getSelectionRotation(){return this.getShapesSharedRotation(this.getSelectedShapeIds())}getShapesRotatedPageBounds(e){if(e.length===0)return;const r=this.getShapesSharedRotation(e);if(r===0)return this.getShapesPageBounds(e)??void 0;if(e.length===1){const i=this.getShapeGeometry(e[0]).bounds.clone(),a=this.getShapePageTransform(e[0]);return i.point=a.applyToPoint(i.point),i}const n=Ze.FromPoints(e.flatMap(i=>{const a=this.getShapePageTransform(i);return a?a.applyToPoints(this.getShapeGeometry(i).bounds.corners):[]}).map(i=>i.rot(-r)));return n.point=n.point.rot(r),n}getSelectionRotatedPageBounds(){return this.getShapesRotatedPageBounds(this.getSelectedShapeIds())}getSelectionRotatedScreenBounds(){const e=this.getSelectionRotatedPageBounds();if(!e)return;const{x:r,y:n}=this.pageToScreen(e.point),i=this.getZoomLevel();return new Ze(r,n,e.width*i,e.height*i)}getFocusedGroupId(){return this.getCurrentPageState().focusedGroupId??this.getCurrentPageId()}getFocusedGroup(){const e=this.getFocusedGroupId();return e?this.getShape(e):void 0}setFocusedGroup(e){const r=typeof e=="string"?e:(e==null?void 0:e.id)??null;if(r!==null){const n=this.getShape(r);if(!n)throw Error(`Editor.setFocusedGroup: Shape with id ${r} does not exist`);if(!this.isShapeOfType(n,"group"))throw Error(`Editor.setFocusedGroup: Cannot set focused group to shape of type ${n.type}`)}return r===this.getFocusedGroupId()?this:this.run(()=>{this.store.update(this.getCurrentPageState().id,n=>({...n,focusedGroupId:r}))},{history:"record-preserveRedoStack"})}popFocusedGroupId(){const e=this.getFocusedGroup();if(e){const r=this.findShapeAncestor(e,n=>this.isShapeOfType(n,"group"));this.setFocusedGroup((r==null?void 0:r.id)??null),this.select(e.id)}else this.setFocusedGroup(null),this.selectNone();return this}getEditingShapeId(){return this.getCurrentPageState().editingShapeId}getEditingShape(){const e=this.getEditingShapeId();return e?this.getShape(e):void 0}setEditingShape(e){const r=typeof e=="string"?e:(e==null?void 0:e.id)??null;if(r!==this.getEditingShapeId()){if(r){const n=this.getShape(r);if(n&&this.getShapeUtil(n).canEdit(n))return this.run(()=>{this._updateCurrentPageState({editingShapeId:r})},{history:"ignore"}),this}this.run(()=>{this._updateCurrentPageState({editingShapeId:null})},{history:"ignore"})}return this}getHoveredShapeId(){return this.getCurrentPageState().hoveredShapeId}getHoveredShape(){const e=this.getHoveredShapeId();return e?this.getShape(e):void 0}setHoveredShape(e){const r=typeof e=="string"?e:(e==null?void 0:e.id)??null;return r===this.getHoveredShapeId()?this:(this.run(()=>{this.updateCurrentPageState({hoveredShapeId:r})},{history:"ignore"}),this)}getHintingShapeIds(){return this.getCurrentPageState().hintingShapeIds}getHintingShape(){const e=this.getHintingShapeIds();return sr(e.map(r=>this.getShape(r)))}setHintingShapes(e){const r=typeof e[0]=="string"?e:e.map(n=>n.id);return this.run(()=>{this._updateCurrentPageState({hintingShapeIds:s5(r)})},{history:"ignore"}),this}getErasingShapeIds(){return this.getCurrentPageState().erasingShapeIds}getErasingShapes(){const e=this.getErasingShapeIds();return sr(e.map(r=>this.getShape(r)))}setErasingShapes(e){const r=typeof e[0]=="string"?e:e.map(i=>i.id);r.sort();const n=this.getErasingShapeIds();return this.run(()=>{if(r.length===n.length){for(let i=0;i<r.length;i++)if(r[i]!==n[i]){this._updateCurrentPageState({erasingShapeIds:r});break}}else this._updateCurrentPageState({erasingShapeIds:r})},{history:"ignore"}),this}getCroppingShapeId(){return this.getCurrentPageState().croppingShapeId}setCroppingShape(e){const r=typeof e=="string"?e:(e==null?void 0:e.id)??null;return r!==this.getCroppingShapeId()&&this.run(()=>{if(!r)this.updateCurrentPageState({croppingShapeId:null});else{const n=this.getShape(r),i=this.getShapeUtil(n);n&&i.canCrop(n)&&this.updateCurrentPageState({croppingShapeId:r})}},{history:"ignore"}),this}_unsafe_getCameraId(){return Bu.createId(this.getCurrentPageId())}getCamera(){const e=this.store.get(this._unsafe_getCameraId());if(this._isLockedOnFollowingUser.get()){const r=this.getCameraForFollowing();if(r)return{...e,...r}}return e}getViewportPageBoundsForFollowing(){const e=this.getInstanceState().followingUserId;if(!e)return null;const r=this.getCollaborators().find(A=>A.userId===e);if(!r||!r.camera||!r.screenBounds)return null;const{w:n,h:i}=r.screenBounds,{x:a,y:o,z:s}=r.camera,l=new Ze(-a,-o,n/s,i/s),u=this.getViewportScreenBounds().clone(),c=u.width/u.height;return u.width=l.width,u.height=u.width/c,u.height<l.height&&(u.height=l.height,u.width=u.height*c),u.center=l.center,u}getCameraForFollowing(){const e=this.getViewportPageBoundsForFollowing();return e?{x:-e.x,y:-e.y,z:this.getViewportScreenBounds().w/e.width}:null}getZoomLevel(){return this.getCamera().z}getInitialZoom(){const e=this.getCameraOptions();if(!e.constraints||e.constraints.initialZoom==="default")return 1;const{zx:r,zy:n}=MCe(this,e);switch(e.constraints.initialZoom){case"fit-min":return Math.max(r,n);case"fit-max":return Math.min(r,n);case"fit-x":return r;case"fit-y":return n;case"fit-min-100":return Math.min(1,Math.max(r,n));case"fit-max-100":return Math.min(1,Math.min(r,n));case"fit-x-100":return Math.min(1,r);case"fit-y-100":return Math.min(1,n);default:throw Pi(e.constraints.initialZoom)}}getBaseZoom(){const e=this.getCameraOptions();if(!e.constraints||e.constraints.baseZoom==="default")return 1;const{zx:r,zy:n}=MCe(this,e);switch(e.constraints.baseZoom){case"fit-min":return Math.max(r,n);case"fit-max":return Math.min(r,n);case"fit-x":return r;case"fit-y":return n;case"fit-min-100":return Math.min(1,Math.max(r,n));case"fit-max-100":return Math.min(1,Math.min(r,n));case"fit-x-100":return Math.min(1,r);case"fit-y-100":return Math.min(1,n);default:throw Pi(e.constraints.baseZoom)}}getCameraOptions(){return this._cameraOptions.get()}setCameraOptions(e){var n;const r=On({...this._cameraOptions.__unsafe__getWithoutCapture(),...e});return((n=r.zoomSteps)==null?void 0:n.length)<1&&(r.zoomSteps=[1]),this._cameraOptions.set(r),this.setCamera(this.getCamera()),this}getConstrainedCamera(e,r){const n=this.getCamera();let{x:i,y:a,z:o=n.z}=e;if(!(r!=null&&r.force)){const s=this.getCameraOptions(),l=s.zoomSteps[0],u=Aa(s.zoomSteps),c=this.getViewportScreenBounds();if(s.constraints){const{constraints:A}=s,d=Math.min(A.padding.y,c.w/2),f=Math.min(A.padding.x,c.h/2),p=Ze.From(s.constraints.bounds),g=(c.w-f*2)/p.w,m=(c.h-d*2)/p.h,w=this.getBaseZoom(),b=u*w,C=l*w;if(r!=null&&r.reset&&(o=this.getInitialZoom()),o<C||o>b){const{x:U,y:F,z:j}=n,L=-U+c.w/j/2,$=-F+c.h/j/2;o=sa(o,C,b);const Q=-U+c.w/o/2,H=-F+c.h/o/2;i=U+Q-L,a=F+H-$}const S=f/o-p.x,x=d/o-p.y,_=(c.w-f*2)/o-p.w,B=(c.h-d*2)/o-p.h,T=S+_*A.origin.x,R=x+B*A.origin.y,P=typeof A.behavior=="string"?A.behavior:A.behavior.x,M=typeof A.behavior=="string"?A.behavior:A.behavior.y;if(r!=null&&r.reset)i=T,a=R;else{switch(P){case"fixed":{i=T;break}case"contain":{o<g?i=T:i=sa(i,S+_,S);break}case"inside":{o<g?i=sa(i,S,(c.w-f)/o-p.w):i=sa(i,S+_,S);break}case"outside":{i=sa(i,f/o-p.w,(c.w-f)/o);break}case"free":break;default:throw Pi(P)}switch(M){case"fixed":{a=R;break}case"contain":{o<m?a=R:a=sa(a,x+B,x);break}case"inside":{o<m?a=sa(a,x,(c.h-d)/o-p.h):a=sa(a,x+B,x);break}case"outside":{a=sa(a,d/o-p.h,(c.h-d)/o);break}case"free":break;default:throw Pi(M)}}}else if(o>u||o<l){const{x:A,y:d,z:f}=n;o=sa(o,l,u),i=A+(-A+c.w/o/2)-(-A+c.w/f/2),a=d+(-d+c.h/o/2)-(-d+c.h/f/2)}}return{x:i,y:a,z:o}}_setCamera(e,r){const n=this.getCamera(),{x:i,y:a,z:o}=this.getConstrainedCamera(e,r);return n.x===i&&n.y===a&&n.z===o?this:(Ao(()=>{const s={...n,x:i,y:a,z:o};this.run(()=>{this.store.put([s])},{history:"ignore"});const{currentScreenPoint:l,currentPagePoint:u}=this.inputs,{screenBounds:c}=this.store.unsafeGetWithoutCapture(co);if(l.x/o-i!==u.x||l.y/o-a!==u.y){const A={type:"pointer",target:"canvas",name:"pointer_move",point:k.AddXY(l,c.x,c.y),pointerId:Pre.CAMERA_MOVE,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,shiftKey:this.inputs.shiftKey,metaKey:this.inputs.metaKey,accelKey:Ha(this.inputs),button:0,isPen:this.getInstanceState().isPenMode??!1};r!=null&&r.immediate?this._flushEventForTick(A):this.dispatch(A)}this._tickCameraState()}),this)}setCamera(e,r){const{isLocked:n}=this._cameraOptions.__unsafe__getWithoutCapture();if(n&&!(r!=null&&r.force))return this;this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser();const i=k.Cast(e);Tv.Number.isFinite(i.x)||(i.x=0),Tv.Number.isFinite(i.y)||(i.y=0),(i.z===void 0||!Tv.Number.isFinite(i.z))&&(e.z=this.getZoomLevel());const a=this.getConstrainedCamera(i,r);if(r!=null&&r.animation){const{width:o,height:s}=this.getViewportScreenBounds();this._animateToViewport(new Ze(-a.x,-a.y,o/a.z,s/a.z),r)}else this._setCamera(a,{...r,force:!0});return this}centerOnPoint(e,r){const{isLocked:n}=this.getCameraOptions();if(n&&!(r!=null&&r.force))return this;const{width:i,height:a}=this.getViewportPageBounds();return this.setCamera(new k(-(e.x-i/2),-(e.y-a/2),this.getCamera().z),r),this}zoomToFit(e){const r=[...this.getCurrentPageShapeIds()];if(r.length<=0)return this;const n=Ze.Common(sr(r.map(i=>this.getShapePageBounds(i))));return this.zoomToBounds(n,e),this}resetZoom(e=this.getViewportScreenCenter(),r){const{isLocked:n,constraints:i}=this.getCameraOptions();if(n&&!(r!=null&&r.force))return this;const a=this.getCamera(),{x:o,y:s,z:l}=a,{x:u,y:c}=e;let A=1;if(i){const d=this.getInitialZoom();l!==d&&(A=d)}return this.setCamera(new k(o+(u/A-u)-(u/l-u),s+(c/A-c)-(c/l-c),A),r),this}zoomIn(e=this.getViewportScreenCenter(),r){const{isLocked:n}=this.getCameraOptions();if(n&&!(r!=null&&r.force))return this;const{x:i,y:a,z:o}=this.getCamera(),{zoomSteps:s}=this.getCameraOptions();if(s!==null&&s.length>1){const l=this.getBaseZoom();let u=Aa(s)*l;for(let c=1;c<s.length;c++){const A=s[c-1]*l,d=s[c]*l;if(!(d-o<=(d-A)/2)){u=d;break}}this.setCamera(new k(i+(e.x/u-e.x)-(e.x/o-e.x),a+(e.y/u-e.y)-(e.y/o-e.y),u),r)}return this}zoomOut(e=this.getViewportScreenCenter(),r){const{isLocked:n}=this.getCameraOptions();if(n&&!(r!=null&&r.force))return this;const{zoomSteps:i}=this.getCameraOptions();if(i!==null&&i.length>1){const a=this.getBaseZoom(),{x:o,y:s,z:l}=this.getCamera();let u=i[0]*a;for(let c=i.length-1;c>0;c--){const A=i[c-1]*a,d=i[c]*a;if(!(d-l>=(d-A)/2)){u=A;break}}this.setCamera(new k(o+(e.x/u-e.x)-(e.x/l-e.x),s+(e.y/u-e.y)-(e.y/l-e.y),u),r)}return this}zoomToSelection(e){const{isLocked:r}=this.getCameraOptions();if(r&&!(e!=null&&e.force))return this;const n=this.getSelectionPageBounds();return n&&this.zoomToBounds(n,{targetZoom:Math.max(1,this.getZoomLevel()),...e}),this}zoomToBounds(e,r){const n=this._cameraOptions.__unsafe__getWithoutCapture();if(n.isLocked&&!(r!=null&&r.force))return this;const i=this.getViewportScreenBounds(),a=(r==null?void 0:r.inset)??Math.min(Zyt,i.width*.28),o=this.getBaseZoom(),s=n.zoomSteps[0],l=Aa(n.zoomSteps);let u=sa(Math.min((i.width-a)/e.w,(i.height-a)/e.h),s*o,l*o);return(r==null?void 0:r.targetZoom)!==void 0&&(u=Math.min(r.targetZoom,u)),this.setCamera(new k(-e.x+(i.width-e.w*u)/2/u,-e.y+(i.height-e.h*u)/2/u,u),r),this}stopCameraAnimation(){return this.emit("stop-camera-animation"),this}_animateViewport(e){if(!this._viewportAnimation)return;this._viewportAnimation.elapsed+=e;const{elapsed:r,easing:n,duration:i,start:a,end:o}=this._viewportAnimation;if(r>i){this.off("tick",this._animateViewport),this._viewportAnimation=null,this._setCamera(new k(-o.x,-o.y,this.getViewportScreenBounds().width/o.width));return}const s=i-r,l=n(1-s/i),u=a.minX+(o.minX-a.minX)*l,c=a.minY+(o.minY-a.minY)*l,A=a.maxX+(o.maxX-a.maxX)*l;this._setCamera(new k(-u,-c,this.getViewportScreenBounds().width/(A-u)),{force:!0})}_animateToViewport(e,r={animation:Nk}){const{animation:n,...i}=r;if(!n)return;const{duration:a=0,easing:o=Ji.easeInOutCubic}=n,s=this.user.getAnimationSpeed(),l=this.getViewportPageBounds();return this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser(),a===0||s===0?this._setCamera(new k(-e.x,-e.y,this.getViewportScreenBounds().width/e.width),{...i}):(this._viewportAnimation={elapsed:0,duration:a/s,easing:o,start:l.clone(),end:e.clone()},this.once("stop-camera-animation",()=>{this.off("tick",this._animateViewport),this._viewportAnimation=null}),this.on("tick",this._animateViewport),this)}slideCamera(e={}){const{isLocked:r}=this.getCameraOptions();if(r&&!(e!=null&&e.force))return this;if(this.user.getAnimationSpeed()===0)return this;this.stopCameraAnimation();const{speed:i,friction:a=this.options.cameraSlideFriction,direction:o,speedThreshold:s=.01}=e;let l=Math.min(i,1);const u=()=>{this.off("tick",c),this.off("stop-camera-animation",u)};this.once("stop-camera-animation",u);const c=A=>{const{x:d,y:f,z:p}=this.getCamera(),g=k.Mul(o,l*A/p);l*=1-a,l<s?u():this._setCamera(new k(d+g.x,f+g.y,p))};return this.on("tick",c),this}zoomToUser(e,r={animation:{duration:500}}){const n=this.getCollaborators().find(a=>a.userId===e);if(!n)return this;const i=n.cursor;return i?(this.run(()=>{this.getInstanceState().followingUserId!==null&&this.stopFollowingUser();const a=n.currentPageId===this.getCurrentPageId();a||this.setCurrentPage(n.currentPageId),r&&r.animation&&!a&&(r.animation=void 0),this.centerOnPoint(i,r);const{highlightedUserIds:o}=this.getInstanceState();this.updateInstanceState({highlightedUserIds:[...o,e]}),this.timers.setTimeout(()=>{const s=[...this.getInstanceState().highlightedUserIds],l=s.indexOf(e);l<0||(s.splice(l,1),this.updateInstanceState({highlightedUserIds:s}))},this.options.collaboratorIdleTimeoutMs)}),this):this}updateViewportScreenBounds(e,r=!1){if(e instanceof HTMLElement){const s=e.getBoundingClientRect();e=new Ze(s.left||s.x,s.top||s.y,Math.max(s.width,1),Math.max(s.height,1))}else e.width=Math.max(e.width,1),e.height=Math.max(e.height,1);const n=[e.minY!==0,!od(document.body.scrollWidth,e.maxX,1),!od(document.body.scrollHeight,e.maxY,1),e.minX!==0],{_willSetInitialBounds:i}=this;this._willSetInitialBounds=!1;const{screenBounds:a,insets:o}=this.getInstanceState();if(e.equals(a)&&n.every((s,l)=>s===o[l]))return this;if(i)this.updateInstanceState({screenBounds:e.toJson(),insets:n}),this.setCamera(this.getCamera());else if(r&&!this.getInstanceState().followingUserId){const s=this.getViewportPageBounds().center;this.updateInstanceState({screenBounds:e.toJson(),insets:n}),this.centerOnPoint(s)}else this.updateInstanceState({screenBounds:e.toJson(),insets:n}),this._setCamera(k.From({...this.getCamera()}));return this._tickCameraState(),this}getViewportScreenBounds(){const{x:e,y:r,w:n,h:i}=this.getInstanceState().screenBounds;return new Ze(e,r,n,i)}getViewportScreenCenter(){const e=this.getViewportScreenBounds();return new k(e.midX-e.minX,e.midY-e.minY)}getViewportPageBounds(){const{w:e,h:r}=this.getViewportScreenBounds(),{x:n,y:i,z:a}=this.getCamera();return new Ze(-n,-i,e/a,r/a)}screenToPage(e){const{screenBounds:r}=this.store.unsafeGetWithoutCapture(co),{x:n,y:i,z:a=1}=this.getCamera();return new k((e.x-r.x)/a-n,(e.y-r.y)/a-i,e.z??.5)}pageToScreen(e){const{screenBounds:r}=this.store.unsafeGetWithoutCapture(co),{x:n,y:i,z:a=1}=this.getCamera();return new k((e.x+n)*a+r.x,(e.y+i)*a+r.y,e.z??.5)}pageToViewport(e){const{x:r,y:n,z:i=1}=this.getCamera();return new k((e.x+r)*i,(e.y+n)*i,e.z??.5)}_getCollaboratorsQuery(){return this.store.query.records("instance_presence",()=>({userId:{neq:this.user.getId()}}))}getCollaborators(){const e=this._getCollaboratorsQuery().get();return e.length?[...new Set(e.map(n=>n.userId))].sort().map(n=>Lgt(e.filter(a=>a.userId===n),a=>a.lastActivityTimestamp??0)):Nc}getCollaboratorsOnCurrentPage(){const e=this.getCurrentPageId();return this.getCollaborators().filter(r=>r.currentPageId===e)}startFollowingUser(e){this.stopFollowingUser();const r=this._getCollaboratorsQuery().get().filter(a=>a.userId===e);if(!r.length)return console.warn("User not found"),this;const n=this.user.getId();if(n||console.warn("You should set the userId for the current instance before following a user"),r.some(a=>a.followingUserId===n))return this;const i=je("latestLeaderPresence",()=>this.getCollaborators().find(a=>a.userId===e));return Ao(()=>{this.updateInstanceState({followingUserId:e},{history:"ignore"});const a=ku("update current page",()=>{const l=i.get();if(!l){this.stopFollowingUser();return}l.currentPageId!==this.getCurrentPageId()&&this.getPage(l.currentPageId)&&this.run(()=>{this.store.put([{...this.getInstanceState(),currentPageId:l.currentPageId}]),this._isLockedOnFollowingUser.set(!0)},{history:"ignore"})}),o=()=>{a(),this._isLockedOnFollowingUser.set(!1),this.off("frame",s),this.off("stop-following",o)},s=()=>{if(!i.get()){this.stopFollowingUser();return}if(this._isLockedOnFollowingUser.get())return;const u=this.user.getAnimationSpeed();if(u===0){this._isLockedOnFollowingUser.set(!0);return}const c=this.getViewportPageBoundsForFollowing();if(!c){this.stopFollowingUser();return}const A=this.getViewportPageBounds(),d=Math.abs(c.minX-A.minX)+Math.abs(c.maxX-A.maxX),f=Math.abs(c.minY-A.minY)+Math.abs(c.maxY-A.maxY);if(d<this.options.followChaseViewportSnap&&f<this.options.followChaseViewportSnap){this._isLockedOnFollowingUser.set(!0);return}const p=sa(u*.5,.1,.8),g=new Ze(wr(A.minX,c.minX,p),wr(A.minY,c.minY,p),wr(A.width,c.width,p),wr(A.height,c.height,p)),m=new k(-g.x,-g.y,this.getViewportScreenBounds().width/g.width);this.stopCameraAnimation(),this._setCamera(m)};this.once("stop-following",o),this.addListener("frame",s),s()}),this}stopFollowingUser(){return this.run(()=>{this.store.put([this.getCamera()]),this._isLockedOnFollowingUser.set(!1),this.updateInstanceState({followingUserId:null}),this.emit("stop-following")},{history:"ignore"}),this}getUnorderedRenderingShapes(e){const r=[];let n=this.options.maxShapesPerPage*2,i=this.options.maxShapesPerPage;const a=this.getErasingShapeIds(),o=(l,u,c)=>{const A=this.getShape(l);if(!A||this.isShapeHidden(A))return;u*=A.opacity;let d=!1;const f=this.getShapeUtil(A);e&&(d=!c&&a.includes(l),d&&(u*=.32)),r.push({id:l,shape:A,util:f,index:n,backgroundIndex:i,opacity:u}),n+=1,i+=1;const p=this.getSortedChildIdsForParent(l);if(!p.length)return;let g=null;f.providesBackgroundForChildren(A)&&(g=i,i=n,n+=this.options.maxShapesPerPage);for(const m of p)o(m,u,c||d);g!==null&&(i=g)},s=e?[this.getCurrentPage()]:this.getPages();for(const l of s)for(const u of this.getSortedChildIdsForParent(l.id))o(u,1,!1);return r}_decayCameraStateTimeout(e){this._cameraStateTimeoutRemaining-=e,!(this._cameraStateTimeoutRemaining>0)&&(this.off("tick",this._decayCameraStateTimeout),this._cameraState.set("idle"))}_tickCameraState(){this._cameraStateTimeoutRemaining=this.options.cameraMovingTimeoutMs,this._cameraState.__unsafe__getWithoutCapture()==="idle"&&(this._cameraState.set("moving"),this.on("tick",this._decayCameraStateTimeout))}getCameraState(){return this._cameraState.get()}getRenderingShapes(){return this.getUnorderedRenderingShapes(!0).sort(mmt)}_getAllPagesQuery(){return this.store.query.records("page")}getPages(){return Array.from(this._getAllPagesQuery().get()).sort(Qa)}getCurrentPage(){return this.getPage(this.getCurrentPageId())}getCurrentPageId(){return this.getInstanceState().currentPageId}getPage(e){return this.store.get(typeof e=="string"?e:e.id)}getCurrentPageShapeIds(){return this._currentPageShapeIds.get()}getCurrentPageShapeIdsSorted(){return Array.from(this.getCurrentPageShapeIds()).sort()}getPageShapeIds(e){const r=typeof e=="string"?e:e.id,n=this.store.query.exec("shape",{parentId:{eq:r}});return this.getShapeAndDescendantIds(n.map(i=>i.id))}setCurrentPage(e){const r=typeof e=="string"?e:e.id;return this.store.has(r)?(this.stopFollowingUser(),this.complete(),this.run(()=>{this.store.put([{...this.getInstanceState(),currentPageId:r}]),this.setCamera(this.getCamera())},{history:"record-preserveRedoStack"})):(console.error("Tried to set the current page id to a page that doesn't exist."),this)}updatePage(e){return this.getIsReadonly()?this:this.getPage(e.id)?this.run(()=>this.store.update(e.id,n=>({...n,...e}))):this}createPage(e){return this.run(()=>{if(this.getIsReadonly()||this.getPages().length>=this.options.maxPages)return;const r=this.getPages(),n=STt(e.name??"Page 1",r.map(o=>o.name));let i=e.index;(!i||r.some(o=>o.index===i))&&(i=Iu(r[r.length-1].index));const a=ms.create({meta:{},...e,name:n,index:i});this.store.put([a])}),this}deletePage(e){const r=typeof e=="string"?e:e.id;return this.run(()=>{if(this.getIsReadonly())return;const n=this.getPages();if(n.length===1)return;const i=this.getPage(r);if(i){if(r===this.getCurrentPageId()){const a=n.findIndex(s=>s.id===r),o=n[a-1]??n[a+1];this.setCurrentPage(o.id)}this.store.remove([i.id])}}),this}duplicatePage(e,r=ms.createId()){if(this.getPages().length>=this.options.maxPages)return this;const n=typeof e=="string"?e:e.id,i=this.getPage(n);if(!i)return this;const a={...this.getCamera()},o=this.getContentFromCurrentPage(this.getSortedChildIdsForParent(i.id));return this.run(()=>{var u;const s=this.getPages(),l=xw(i.index,(u=s[s.indexOf(i)+1])==null?void 0:u.index);if(this.createPage({name:i.name+" Copy",id:r,index:l}),this.setCurrentPage(r),this.setCamera(a),o)return this.putContentOntoCurrentPage(o)}),this}renamePage(e,r){const n=typeof e=="string"?e:e.id;return this.getIsReadonly()?this:(this.updatePage({id:n,name:r}),this)}_getAllAssetsQuery(){return this.store.query.records("asset")}getAssets(){return this._getAllAssetsQuery().get()}createAssets(e){return this.getIsReadonly()?this:e.length<=0?this:(this.run(()=>this.store.put(e),{history:"ignore"}),this)}updateAssets(e){return this.getIsReadonly()?this:e.length<=0?this:(this.run(()=>{this.store.put(e.map(r=>({...this.store.get(r.id),...r})))},{history:"ignore"}),this)}deleteAssets(e){if(this.getIsReadonly())return this;const r=typeof e[0]=="string"?e:e.map(n=>n.id);return r.length<=0?this:(this.run(()=>this.store.remove(r),{history:"ignore"}),this)}getAsset(e){return this.store.get(typeof e=="string"?e:e.id)}async resolveAssetUrl(e,r){if(!e)return null;const n=this.getAsset(e);if(!n)return null;const{screenScale:i=1,shouldResolveToOriginal:a=!1,dpr:o=this.getInstanceState().devicePixelRatio}=r,l=(c=>Math.pow(2,Math.ceil(Math.log2(c))))(i),u="connection"in navigator?navigator.connection.effectiveType:null;return await this.store.props.assets.resolve(n,{screenScale:i||1,steppedScreenScale:l,dpr:o,networkEffectiveType:u,shouldResolveToOriginal:a})}async uploadAsset(e,r,n){return await this.store.props.assets.upload(e,r,n)}getShapeGeometry(e,r){const n=(r==null?void 0:r.context)??"none";return this._shapeGeometryCaches[n]||(this._shapeGeometryCaches[n]=this.store.createComputedCache("bounds",i=>this.getShapeUtil(i).getGeometry(i,r),{areRecordsEqual:(i,a)=>i.props===a.props})),this._shapeGeometryCaches[n].get(typeof e=="string"?e:e.id)}_getShapeHandlesCache(){return this.store.createComputedCache("handles",e=>{var r,n;return(n=(r=this.getShapeUtil(e)).getHandles)==null?void 0:n.call(r,e)})}getShapeHandles(e){return this._getShapeHandlesCache().get(typeof e=="string"?e:e.id)}getShapeLocalTransform(e){const r=typeof e=="string"?e:e.id,n=this.getShape(r);if(!n)throw Error("Editor.getTransform: shape not found");return nt.Identity().translate(n.x,n.y).rotate(n.rotation)}_getShapePageTransformCache(){return this.store.createComputedCache("pageTransformCache",e=>{if(To(e.parentId))return this.getShapeLocalTransform(e);const r=this._getShapePageTransformCache().get(e.parentId)??nt.Identity();return nt.Compose(r,this.getShapeLocalTransform(e))})}getShapeParentTransform(e){const r=typeof e=="string"?e:e.id,n=this.getShape(r);return!n||To(n.parentId)?nt.Identity():this._getShapePageTransformCache().get(n.parentId)??nt.Identity()}getShapePageTransform(e){const r=typeof e=="string"?e:e.id;return this._getShapePageTransformCache().get(r)??nt.Identity()}_getShapePageBoundsCache(){return this.store.createComputedCache("pageBoundsCache",e=>{const r=this._getShapePageTransformCache().get(e.id);return r?Ze.FromPoints(nt.applyToPoints(r,this.getShapeGeometry(e).vertices)):new Ze})}getShapePageBounds(e){return this._getShapePageBoundsCache().get(typeof e=="string"?e:e.id)}_getShapeClipPathCache(){return this.store.createComputedCache("clipPathCache",e=>{const r=this._getShapeMaskCache().get(e.id);if(!r)return;if(r.length===0)return"polygon(0px 0px, 0px 0px, 0px 0px)";const n=this._getShapePageTransformCache().get(e.id);return n?`polygon(${nt.applyToPoints(nt.Inverse(n),r).map(a=>`${a.x}px ${a.y}px`).join(",")})`:void 0})}getShapeClipPath(e){return this._getShapeClipPathCache().get(typeof e=="string"?e:e.id)}_getShapeMaskCache(){return this.store.createComputedCache("pageMaskCache",e=>{if(To(e.parentId))return;const r=this.getShapeAncestors(e.id).filter(i=>this.isShapeOfType(i,"frame"));return r.length===0?void 0:r.map(i=>this._getShapePageTransformCache().get(i.id).applyToPoints(this.getShapeGeometry(i).vertices)).reduce((i,a)=>{if(!(a&&i))return;const o=gCe(i,a);return o?o.map(k.Cast):[]})})}getShapeMask(e){return this._getShapeMaskCache().get(typeof e=="string"?e:e.id)}getShapeMaskedPageBounds(e){return typeof e!="string"&&(e=e.id),this._getShapeMaskedPageBoundsCache().get(e)}_getShapeMaskedPageBoundsCache(){return this.store.createComputedCache("shapeMaskedPageBoundsCache",e=>{const r=this._getShapePageBoundsCache().get(e.id);if(!r)return;const n=this._getShapeMaskCache().get(e.id);if(n){if(n.length===0)return;const{corners:i}=r;if(i.every((o,s)=>o&&k.Equals(o,n[s])))return r.clone();const a=gCe(n,i);return a?Ze.FromPoints(a):void 0}return r})}getShapeAncestors(e,r=[]){const n=typeof e=="string"?e:e.id,i=this.getShape(n);if(!i)return r;const a=i.parentId;if(To(a))return r.reverse(),r;const o=this.store.get(a);return o?(r.push(o),this.getShapeAncestors(o,r)):r}findShapeAncestor(e,r){const n=typeof e=="string"?e:e.id,i=this.getShape(n);if(!i)return;const a=i.parentId;if(To(a))return;const o=this.getShape(a);if(o)return r(o)?o:this.findShapeAncestor(o,r)}hasAncestor(e,r){const n=typeof e=="string"?e:e==null?void 0:e.id,i=n&&this.getShape(n);return i?i.parentId===r?!0:this.hasAncestor(this.getShapeParent(i),r):!1}findCommonAncestor(e,r){var l;if(e.length===0)return;const n=typeof e[0]=="string"?e:e.map(u=>u.id),i=sr(n.map(u=>this.getShape(u)));if(i.length===1){const u=i[0].parentId;return To(u)?void 0:r?(l=this.findShapeAncestor(i[0],r))==null?void 0:l.id:u}const[a,...o]=i;let s=this.getShapeParent(a);for(;s;){if(r&&!r(s)){s=this.getShapeParent(s);continue}if(o.every(u=>this.hasAncestor(u,s.id)))return s.id;s=this.getShapeParent(s)}}isShapeOrAncestorLocked(e){const r=typeof e=="string"?this.getShape(e):e;return r===void 0?!1:r.isLocked?!0:this.isShapeOrAncestorLocked(this.getShapeParent(r))}_notVisibleShapes(){return PTt(this)}getCulledShapes(){const e=this._notVisibleShapes().get(),r=this.getSelectedShapeIds(),n=this.getEditingShapeId(),i=new Set(e);return n&&i.delete(n),r.forEach(a=>{i.delete(a)}),i}getCurrentPageBounds(){let e;return this.getCurrentPageShapeIdsSorted().forEach(r=>{const n=this.getShapeMaskedPageBounds(r);n&&(e?e=e.expand(n):e=n.clone())}),e}getSelectedShapeAtPoint(e){const r=this.getSelectedShapeIds();return this.getCurrentPageShapesSorted().filter(n=>n.type!=="group"&&r.includes(n.id)).reverse().find(n=>this.isPointInShape(n,e,{hitInside:!0,margin:0}))}getShapeAtPoint(e,r={}){const n=this.getZoomLevel(),i=this.getViewportPageBounds(),{filter:a,margin:o=0,hitLocked:s=!1,hitLabels:l=!1,hitInside:u=!1,hitFrameInside:c=!1}=r;let A=1/0,d=null,f=1/0,p=null;const g=(r.renderingOnly?this.getCurrentPageRenderingShapesSorted():this.getCurrentPageShapesSorted()).filter(m=>{if(m.isLocked&&!s||this.isShapeHidden(m)||this.isShapeOfType(m,"group"))return!1;const w=this.getShapeMask(m);return w&&!ds(e,w)?!1:a?a(m):!0});for(let m=g.length-1;m>=0;m--){const w=g[m],b=this.getShapeGeometry(w),C=b instanceof tl,S=this.getPointInShapeSpace(w,e);if(this.isShapeOfType(w,"frame")||(this.isShapeOfType(w,"arrow")||this.isShapeOfType(w,"geo")&&w.props.fill==="none")&&w.props.text.trim()){for(const _ of b.children)if(_.isLabel&&_.isPointInBounds(S))return w}if(this.isShapeOfType(w,"frame")){const _=b.distanceToPoint(S,u);if(Math.abs(_)<=o)return p||w;if(b.hitTestPoint(S,0,!0))return p||d||(c?w:void 0);continue}let x;if(C){let _=1/0;for(const B of b.children){if(B.isLabel&&!l)continue;const T=B.distanceToPoint(S,u);T<_&&(_=T)}x=_}else o===0&&(b.bounds.w<1||b.bounds.h<1)||b.bounds.containsPoint(S,o)?x=b.distanceToPoint(S,u):x=1/0;if(b.isClosed){if(x<=o){if(b.isFilled||C&&b.children[0].isFilled)return p||w;if(this.getShapePageBounds(w).contains(i))continue;if(Math.abs(x)<o)Math.abs(x)<f&&(f=Math.abs(x),p=w);else if(!p){const{area:_}=b;_<A&&(A=_,d=w)}}}else if(x<this.options.hitTestMargin/n)return w}return p||d||void 0}getShapesAtPoint(e,r={}){return this.getCurrentPageShapes().filter(n=>!this.isShapeHidden(n)&&this.isPointInShape(n,e,r))}isPointInShape(e,r,n={}){const{hitInside:i=!1,margin:a=0}=n,o=typeof e=="string"?e:e.id,s=this.getShapeMask(o);return s&&!ds(r,s)?!1:this.getShapeGeometry(o).hitTestPoint(this.getPointInShapeSpace(e,r),a,i)}getPointInShapeSpace(e,r){const n=typeof e=="string"?e:e.id;return this._getShapePageTransformCache().get(n).clone().invert().applyToPoint(r)}getPointInParentSpace(e,r){const n=typeof e=="string"?e:e.id,i=this.getShape(n);if(!i)return new k(0,0);if(To(i.parentId))return k.From(r);const a=this.getShapePageTransform(i.parentId);return a?a.clone().invert().applyToPoint(r):k.From(r)}getCurrentPageShapes(){return Array.from(this.getCurrentPageShapeIds(),e=>this.store.get(e))}getCurrentPageShapesSorted(){const e=[],r=this.getSortedChildIdsForParent(this.getCurrentPageId());for(let n=0,i=r.length;n<i;n++)aLe(this,r[n],e);return e}getCurrentPageRenderingShapesSorted(){const e=this.getCulledShapes();return this.getCurrentPageShapesSorted().filter(({id:r})=>!e.has(r)&&!this.isShapeHidden(r))}isShapeOfType(e,r){const n=typeof e=="string"?this.getShape(e):e;return n?n.type===r:!1}getShape(e){const r=typeof e=="string"?e:e.id;if(Fo(r))return this.store.get(r)}getShapeParent(e){const r=typeof e=="string"?e:e==null?void 0:e.id;if(!r)return;const n=this.getShape(r);if(!(n===void 0||!Fo(n.parentId)))return this.store.get(n.parentId)}getShapeNearestSibling(e,r){return r?r.parentId===e.parentId?r:this.findShapeAncestor(r,i=>i.parentId===e.parentId):void 0}isShapeInPage(e,r=this.getCurrentPageId()){const n=typeof e=="string"?e:e.id,i=this.getShape(n);if(!i)return!1;let a=!1;if(i.parentId===r)a=!0;else{let o=this.getShape(i.parentId);e:for(;o;){if(o.parentId===r){a=!0;break e}o=this.getShape(o.parentId)}}return a}getAncestorPageId(e){const r=typeof e=="string"?e:e==null?void 0:e.id,n=r&&this.getShape(r);if(n)return To(n.parentId)?n.parentId:this.getAncestorPageId(this.getShape(n.parentId))}reparentShapes(e,r,n){const i=typeof e[0]=="string"?e:e.map(d=>d.id);if(i.length===0)return this;const a=[],o=To(r)?nt.Identity():this.getShapePageTransform(r),s=o.rotation();let l=[];const u=sr(this.getSortedChildIdsForParent(r).map(d=>this.getShape(d)));if(n){const d=u.find(f=>f.index===n);if(d){const f=u[u.indexOf(d)+1];f?l=Bg(n,f.index,i.length):l=UM(n,i.length)}else{const f=u.sort(Qa).find(p=>p.index>n);f?l=Bg(n,f.index,i.length):l=UM(n,i.length)}}else{const d=u.length&&u[u.length-1];l=d?UM(d.index,i.length):Cw(i.length)}const c=o.clone().invert(),A=sr(i.map(d=>this.getShape(d)));return this.run(()=>{for(let d=0;d<A.length;d++){const f=A[d],p=this.getShapePageTransform(f);if(!p)continue;const g=p.point();if(!g)continue;const m=c.applyToPoint(g),w=p.rotation()-s;a.push({id:f.id,type:f.type,parentId:r,x:m.x,y:m.y,rotation:w,index:l[d]})}this.updateShapes(a)},{ignoreShapeLock:!0}),this}getHighestIndexForParent(e){const r=typeof e=="string"?e:e.id,n=this._parentIdsToChildIds.get()[r];if(!n||n.length===0)return"a1";const i=this.getShape(n[n.length-1]);return Iu(i.index)}getSortedChildIdsForParent(e){const r=typeof e=="string"?e:e.id,n=this._parentIdsToChildIds.get()[r];return n||Nc}visitDescendants(e,r){const n=typeof e=="string"?e:e.id,i=this.getSortedChildIdsForParent(n);for(const a of i)r(a)!==!1&&this.visitDescendants(a,r);return this}getShapeAndDescendantIds(e){const r=new Set;for(const n of e.map(i=>this.getShape(i)).sort(Qa))r.add(n.id),this.visitDescendants(n,i=>{r.add(i)});return r}getDroppingOverShape(e,r=[]){const n=this.getCurrentPageShapesSorted();for(let i=n.length-1;i>=0;i--){const a=n[i];if(this.isShapeHidden(a)||this.getSelectedShapeIds().includes(a.id)||!this.getShapeUtil(a).canDropShapes(a,r)||r.find(s=>s.id===a.id||this.hasAncestor(a,s.id)))continue;const o=this.getShapeMaskedPageBounds(a.id);if(o&&o.containsPoint(e)&&this.getShapeGeometry(a).hitTestPoint(this.getPointInShapeSpace(a,e),0,!0))return a}}getOutermostSelectableShape(e,r){const n=typeof e=="string"?e:e.id,i=this.getShape(n);let a=i,o=i;const s=this.getFocusedGroup();for(;o;){if(this.isShapeOfType(o,"group")&&(s==null?void 0:s.id)!==o.id&&!this.hasAncestor(s,o.id)&&((r==null?void 0:r(o))??!0))a=o;else if((s==null?void 0:s.id)===o.id)break;o=this.getShapeParent(o)}return a}_getBindingsIndexCache(){const e=ITt(this);return this.store.createComputedCache("bindingsIndex",r=>e.get().get(r.id))}getBinding(e){return this.store.get(e)}getBindingsFromShape(e,r){const n=typeof e=="string"?e:e.id;return this.getBindingsInvolvingShape(n).filter(i=>i.fromId===n&&i.type===r)}getBindingsToShape(e,r){const n=typeof e=="string"?e:e.id;return this.getBindingsInvolvingShape(n).filter(i=>i.toId===n&&i.type===r)}getBindingsInvolvingShape(e,r){const n=typeof e=="string"?e:e.id,i=this._getBindingsIndexCache().get(n)??Nc;return r?i.filter(a=>a.type===r):i}createBindings(e){const r=[];for(const n of e){const i=this.getShape(n.fromId),a=this.getShape(n.toId);if(!i||!a||!this.canBindShapes({fromShape:i,toShape:a,binding:n}))continue;const s=this.getBindingUtil(n.type).getDefaultProps(),l=this.store.schema.types.binding.create({...n,id:n.id??jf(),props:{...s,...n.props}});r.push(l)}return this.store.put(r),this}createBinding(e){return this.createBindings([e])}updateBindings(e){const r=[];for(const n of e){if(!n)continue;const i=this.getBinding(n.id);if(!i)continue;const a=mu(i,n);if(a===i)continue;const o=this.getShape(a.fromId),s=this.getShape(a.toId);!o||!s||this.canBindShapes({fromShape:o,toShape:s,binding:a})&&r.push(a)}return this.store.put(r),this}updateBinding(e){return this.updateBindings([e])}deleteBindings(e,{isolateShapes:r=!1}={}){const n=e.map(i=>typeof i=="string"?i:i.id);return r?this.store.atomic(()=>{var i,a;for(const o of n){const s=this.getBinding(o);if(!s)continue;const l=this.getBindingUtil(s);(i=l.onBeforeIsolateFromShape)==null||i.call(l,{binding:s,removedShape:this.getShape(s.toId)}),(a=l.onBeforeIsolateToShape)==null||a.call(l,{binding:s,removedShape:this.getShape(s.fromId)}),this.store.remove([o])}}):this.store.remove(n),this}deleteBinding(e,r){return this.deleteBindings([e],r)}canBindShapes({fromShape:e,toShape:r,binding:n}){const i=typeof e=="string"?e:e.type,a=typeof r=="string"?r:r.type,o=typeof n=="string"?n:n.type,s={fromShapeType:i,toShapeType:a,bindingType:o};return i===a?this.getShapeUtil(i).canBind(s):this.getShapeUtil(i).canBind(s)&&this.getShapeUtil(a).canBind(s)}rotateShapesBy(e,r,n){const i=typeof e[0]=="string"?e:e.map(o=>o.id);if(i.length<=0)return this;const a=MUe({editor:this,ids:i});return a?(Lx({delta:r,snapshot:a,editor:this,stage:"one-off",centerOverride:n==null?void 0:n.center}),this):this}getChangesToTranslateShape(e,r){var l,u,c;let n=e;const i=this.getShapeUtil(e),a=(l=i.onTranslateStart)==null?void 0:l.call(i,n);a&&(n=mu(n,a)),n=mu(n,{id:e.id,type:e.type,x:r.x,y:r.y});const o=(u=i.onTranslate)==null?void 0:u.call(i,e,n);o&&(n=mu(n,o));const s=(c=i.onTranslateEnd)==null?void 0:c.call(i,e,n);return s&&(n=mu(n,s)),n}nudgeShapes(e,r){const n=typeof e[0]=="string"?e:e.map(a=>a.id);if(n.length<=0)return this;const i=[];for(const a of n){const o=this.getShape(a),s=k.From(r),l=this.getShapeParentTransform(o);l&&s.rot(-l.rotation()),i.push(this.getChangesToTranslateShape(o,s.add(o)))}return this.updateShapes(i),this}duplicateShapes(e,r){return this.run(()=>{const n=typeof e[0]=="string"?e:e.map(d=>d.id);if(n.length<=0)return this;const i=new Set(n),a=this.getShapeAndDescendantIds(n),o=[...a].reverse(),s=new Map;for(const d of a)s.set(d,an());const{shapesToCreateWithOriginals:l,bindingsToCreate:u}=RCe(this,a,d=>{const f=[];for(const g of d){const m=this.getBinding(g);if(!m)continue;const w=jf();f.push({...m,id:w,fromId:ko(s.get(m.fromId)),toId:ko(s.get(m.toId))})}const p=[];for(const g of o){const m=ko(s.get(g)),w=this.getShape(g);if(!w)continue;let b=0,C=0;if(r&&i.has(g)){const S=this.getShapeParentTransform(w),x=new k(r.x,r.y).rot(-S.rotation());b=x.x,C=x.y}p.push({shape:{...w,id:m,x:w.x+b,y:w.y+C,index:"a1",parentId:s.get(w.parentId)??w.parentId},originalShape:w})}return{shapesToCreateWithOriginals:p,bindingsToCreate:f}});l.forEach(({shape:d,originalShape:f})=>{const p=f.parentId,g=this.getSortedChildIdsForParent(p),m=g.indexOf(f.id),w=g[m+1],b=w?this.getShape(w):void 0,C=xw(f.index,b==null?void 0:b.index);d.index=C});const c=l.map(({shape:d})=>d);if(c.length+this.getCurrentPageShapeIds().size>this.options.maxShapesPerPage){J0(this);return}if(this.createShapes(c),this.createBindings(u),this.setSelectedShapes(sr(n.map(d=>s.get(d)))),r!==void 0){const d=this.getSelectionPageBounds(),f=this.getViewportPageBounds();d&&!f.contains(d)&&this.centerOnPoint(d.center,{animation:{duration:this.options.animationMediumMs}})}}),this}moveShapesToPage(e,r){const n=typeof e[0]=="string"?e:e.map(s=>s.id);if(n.length===0)return this;if(this.getIsReadonly())return this;const i=this.getCurrentPageId();if(r===i)return this;if(!this.store.has(r))return this;const a=this.getContentFromCurrentPage(n);if(!a)return this;if(this.getPageShapeIds(r).size+a.shapes.length>this.options.maxShapesPerPage)return J0(this,r),this;const o=this.getCamera().z;return this.run(()=>{this.deleteShapes(n),this.setCurrentPage(r),this.setFocusedGroup(null),this.selectNone(),this.putContentOntoCurrentPage(a,{select:!0,preserveIds:!0,preservePosition:!0}),this.setCamera({...this.getCamera(),z:o}),this.centerOnPoint(this.getSelectionRotatedPageBounds().center)}),this}toggleLock(e){const r=typeof e[0]=="string"?e:e.map(o=>o.id);if(this.getIsReadonly()||r.length===0)return this;let n=!0,i=!0;const a=[];for(const o of r){const s=this.getShape(o);s&&(a.push(s),s.isLocked?i=!1:n=!1)}return this.run(()=>{i?(this.updateShapes(a.map(o=>({id:o.id,type:o.type,isLocked:!0}))),this.setSelectedShapes([])):n?this.updateShapes(a.map(o=>({id:o.id,type:o.type,isLocked:!1}))):this.updateShapes(a.map(o=>({id:o.id,type:o.type,isLocked:!0})))}),this}sendToBack(e){const r=typeof e[0]=="string"?e:e.map(i=>i.id),n=Y0(this,"toBack",r,{considerAllShapes:!0});return n&&this.updateShapes(n),this}sendBackward(e,r={}){const n=typeof e[0]=="string"?e:e.map(a=>a.id),i=Y0(this,"backward",n,r);return i&&this.updateShapes(i),this}bringForward(e,r={}){const n=typeof e[0]=="string"?e:e.map(a=>a.id),i=Y0(this,"forward",n,r);return i&&this.updateShapes(i),this}bringToFront(e){const r=typeof e[0]=="string"?e:e.map(i=>i.id),n=Y0(this,"toFront",r);return n&&this.updateShapes(n),this}collectShapesViaArrowBindings(e){const{initialShapes:r,resultShapes:n,resultBounds:i,bindings:a,visited:o}=e;for(const s of a)for(const l of[s.fromId,s.toId])if(!o.has(l)){const u=r.find(c=>c.id===l);if(u&&!o.has(u.id)){o.add(u.id);const c=this.getShapePageBounds(u);if(!c)continue;n.push(u),i.push(c),this.collectShapesViaArrowBindings({...e,bindings:this.getBindingsInvolvingShape(u,"arrow")})}}}flipShapes(e,r){if(this.getIsReadonly())return this;const n=typeof e[0]=="string"?e:e.map(l=>l.id),i=sr(n.map(l=>this.getShape(l)));for(const l of i)if(this.isShapeOfType(l,"group")){const u=sr(this.getSortedChildIdsForParent(l.id).map(c=>this.getShape(c)));i.push(...u)}const a=[],o=[];for(const l of i){const u=this.getShapeUtil(l);if(!u.canBeLaidOut(l,{type:"flip",shapes:i}))continue;const c=this.getShapePageBounds(l),A=this.getShapeGeometry(l).bounds,d=this.getShapePageTransform(l.id);c&&A&&d&&(a.push({shape:l,localBounds:A,pageTransform:d,isAspectRatioLocked:u.isAspectRatioLocked(l)}),o.push(c))}if(!a.length)return this;const s=Ze.Common(o).center;return this.run(()=>{for(const{shape:l,localBounds:u,pageTransform:c,isAspectRatioLocked:A}of a)this.resizeShape(l.id,{x:r==="horizontal"?-1:1,y:r==="vertical"?-1:1},{initialBounds:u,initialPageTransform:c,initialShape:l,isAspectRatioLocked:A,mode:"scale_shape",scaleOrigin:s,scaleAxisRotation:0})}),this}stackShapes(e,r,n){var m,w;const i=typeof e[0]=="string"?e:e.map(b=>b.id);if(this.getIsReadonly())return this;const a=sr(i.map(b=>this.getShape(b))),o=[],s=new Set;for(const b of a){if(s.has(b.id))continue;s.add(b.id);const C=this.getShapePageBounds(b);if(!C||!((w=(m=this.getShapeUtil(b)).canBeLaidOut)!=null&&w.call(m,b,{type:"stack",shapes:a})))continue;const S=[b],x=[C];this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(b.id,"arrow"),initialShapes:a,resultShapes:S,resultBounds:x,visited:s});const _=Ze.Common(x);_&&o.push({shapes:S,pageBounds:_})}const l=o.length;if(n===0&&l<3||l<2)return this;let u,c,A,d;r==="horizontal"?(u="x",c="minX",A="maxX",d="width"):(u="y",c="minY",A="maxY",d="height");let f=0;if(n===0){const b={};o.sort((S,x)=>S.pageBounds[c]-x.pageBounds[c]);for(let S=0;S<l-1;S++){const x=o[S],B=o[S+1].pageBounds[c]-x.pageBounds[A];b[B]||(b[B]=0),b[B]++}let C=1;for(const[S,x]of Object.entries(b))x>C&&(C=x,f=parseFloat(S));if(C===1){let S=0;for(const[x,_]of Object.entries(b))f+=parseFloat(x)*_,S+=_;f/=S}}else f=n;const p=[];let g=o[0].pageBounds[A];for(let b=1;b<o.length;b++){const{shapes:C,pageBounds:S}=o[b],x=new k;x[u]=g+f-S[u];for(const _ of C){const B=x.clone(),T=this.getShapeParent(_);if(T){const R=this.getShapePageTransform(T);R&&B.rot(-R.rotation())}B.add(_),p.push(this.getChangesToTranslateShape(_,B))}g+=S[d]+f}return this.updateShapes(p),this}packShapes(e,r){var S,x;if(this.getIsReadonly())return this;const n=typeof e[0]=="string"?e:e.map(_=>_.id),i=sr(n.map(_=>this.getShape(_))),a=[],o=[],s=new Set;for(const _ of i){if(s.has(_.id))continue;s.add(_.id);const B=this.getShapePageBounds(_);if(!B||!((x=(S=this.getShapeUtil(_)).canBeLaidOut)!=null&&x.call(S,_,{type:"pack",shapes:i})))continue;const T=[_],R=[B];this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(_.id,"arrow"),initialShapes:i,resultShapes:T,resultBounds:R,visited:s});const P=Ze.Common(R);P&&(a.push({shapes:T,pageBounds:P,nextPageBounds:P.clone()}),o.push(P))}if(a.length<2)return this;let l=0;for(const{pageBounds:_}of a)l+=_.width*_.height;const u=Ze.Common(o),c=u.width;a.sort((_,B)=>_.pageBounds.width-B.pageBounds.width).sort((_,B)=>_.pageBounds.height-B.pageBounds.height);const A=Math.max(Math.ceil(Math.sqrt(l/.95)),c),d=[new Ze(u.x,u.y,A,1/0)];let f=0,p=0,g,m;for(const{nextPageBounds:_}of a)for(let B=d.length-1;B>=0;B--)if(g=d[B],!(_.width>g.width||_.height>g.height)){_.x=g.x,_.y=g.y,p=Math.max(p,_.maxY),f=Math.max(f,_.maxX),_.width===g.width&&_.height===g.height?(m=d.pop(),B<d.length&&(d[B]=m)):_.height===g.height?(g.x+=_.width+r,g.width-=_.width+r):_.width===g.width?(g.y+=_.height+r,g.height-=_.height+r):(d.push(new Ze(g.x+(_.width+r),g.y,g.width-(_.width+r),_.height)),g.y+=_.height+r,g.height-=_.height+r);break}const w=Ze.Common(a.map(_=>_.nextPageBounds)),b=k.Sub(u.center,w.center),C=[];for(const{shapes:_,pageBounds:B,nextPageBounds:T}of a){const R=k.Sub(T.point,B.point).add(b);for(const P of _){const M=R.clone();if(this.getShapeParent(P)){const F=this.getShapeParentTransform(P);F&&M.rot(-F.rotation())}M.add(P),C.push(this.getChangesToTranslateShape(P,M))}}return C.length&&this.updateShapes(C),this}alignShapes(e,r){var c,A;if(this.getIsReadonly())return this;const n=typeof e[0]=="string"?e:e.map(d=>d.id),i=sr(n.map(d=>this.getShape(d))),a=[],o=[],s=new Set;for(const d of i){if(s.has(d.id))continue;s.add(d.id);const f=this.getShapePageBounds(d);if(!f||!((A=(c=this.getShapeUtil(d)).canBeLaidOut)!=null&&A.call(c,d,{type:"align",shapes:i})))continue;const p=[d],g=[f];this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(d.id,"arrow"),initialShapes:i,resultShapes:p,resultBounds:g,visited:s});const m=Ze.Common(g);m&&(a.push({shapes:p,pageBounds:m}),o.push(m))}if(a.length<2)return this;const l=Ze.Common(o),u=[];return a.forEach(({shapes:d,pageBounds:f})=>{const p=new k;switch(r){case"top":{p.y=l.minY-f.minY;break}case"center-vertical":{p.y=l.midY-f.minY-f.height/2;break}case"bottom":{p.y=l.maxY-f.minY-f.height;break}case"left":{p.x=l.minX-f.minX;break}case"center-horizontal":{p.x=l.midX-f.minX-f.width/2;break}case"right":{p.x=l.maxX-f.minX-f.width;break}}for(const g of d){const m=p.clone(),w=this.getShapeParent(g);if(w){const b=this.getShapePageTransform(w);b&&m.rot(-b.rotation())}m.add(g),u.push(this.getChangesToTranslateShape(g,m))}}),this.updateShapes(u),this}distributeShapes(e,r){var C,S;if(this.getIsReadonly())return this;const n=typeof e[0]=="string"?e:e.map(x=>x.id),i=sr(n.map(x=>this.getShape(x))),a=[],o=new Set;for(const x of i){if(o.has(x.id))continue;o.add(x.id);const _=this.getShapePageBounds(x);if(!_||!((S=(C=this.getShapeUtil(x)).canBeLaidOut)!=null&&S.call(C,x,{type:"distribute",shapes:i})))continue;const B=[x],T=[_];this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(x.id,"arrow"),initialShapes:i,resultShapes:B,resultBounds:T,visited:o});const R=Ze.Common(T);R&&a.push({shapes:B,pageBounds:R})}if(a.length<3)return this;let s,l,u,c;r==="horizontal"?(s="x",l="minX",u="maxX",c="width"):(s="y",l="minY",u="maxY",c="height");const A=[],d=a.sort((x,_)=>x.pageBounds[l]-_.pageBounds[l])[0],f=a.sort((x,_)=>_.pageBounds[u]-x.pageBounds[u])[0];if(d===f){const x=new Set(d.shapes.map(_=>_.id));return this.distributeShapes(n.filter(_=>!x.has(_)),r)}const p=a.filter(x=>x!==d&&x!==f).sort((x,_)=>x.pageBounds[l]===_.pageBounds[l]?x.shapes[0].id<_.shapes[0].id?-1:1:x.pageBounds[l]-_.pageBounds[l]),g=d.pageBounds[u],m=f.pageBounds[l]-g,w=p.reduce((x,_)=>x+_.pageBounds[c],0),b=(m-w)/(p.length+1);for(let x=g+b,_=0;_<p.length;_++){const{shapes:B,pageBounds:T}=p[_],R=new k;R[s]=x-T[s],x+T[c]>f.pageBounds[u]-1&&(R[s]=f.pageBounds[u]-T[u]-1);for(const P of B){const M=R.clone(),U=this.getShapeParent(P);if(U){const F=this.getShapePageTransform(U);F&&M.rot(-F.rotation())}M.add(P),A.push(this.getChangesToTranslateShape(P,M))}x+=T[c]+b}return this.updateShapes(A),this}stretchShapes(e,r){var d,f;const n=typeof e[0]=="string"?e:e.map(p=>p.id);if(this.getIsReadonly())return this;const i=sr(n.map(p=>this.getShape(p))).filter(p=>{var g;return((g=this.getShapePageTransform(p))==null?void 0:g.rotation())%(Or/2)===0}),a=[],o=[],s=new Set;for(const p of i){if(s.has(p.id))continue;s.add(p.id);const g=this.getShapePageBounds(p);if(!g)continue;const m=[p],w=[g];if(!((f=(d=this.getShapeUtil(p)).canBeLaidOut)!=null&&f.call(d,p,{type:"stretch",shapes:i})))continue;this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(p.id,"arrow"),initialShapes:i,resultShapes:m,resultBounds:w,visited:s});const b=Ze.Common(w);b&&(a.push({shapes:m,pageBounds:b}),o.push(b))}if(a.length<2)return this;const l=Ze.Common(o);let u,c,A;return r==="horizontal"?(u="x",c="minX",A="width"):(u="y",c="minY",A="height"),this.run(()=>{a.forEach(({shapes:p,pageBounds:g})=>{const m=new k;m[u]=l[c]-g[c];const w=g.center.clone();w[u]=l[c];const b=new k(1,1);b[u]=l[A]/g[A];for(const C of p){const S=m.clone(),x=this.getShapeParentTransform(C);x&&m.rot(-x.rotation()),S.add(C);const _=this.getChangesToTranslateShape(C,S);this.updateShape(_),this.resizeShape(C.id,b,{initialBounds:this.getShapeGeometry(C).bounds,scaleOrigin:w,isAspectRatioLocked:this.getShapeUtil(C).isAspectRatioLocked(C),scaleAxisRotation:0})}})}),this}resizeShape(e,r,n={}){var p,g,m;const i=typeof e=="string"?e:e.id;if(this.getIsReadonly())return this;Tv.Number.isFinite(r.x)||(r=new k(1,r.y)),Tv.Number.isFinite(r.y)||(r=new k(r.x,1));const a=n.initialShape??this.getShape(i);if(!a)return this;const o=n.scaleOrigin??((p=this.getShapePageBounds(i))==null?void 0:p.center);if(!o)return this;const s=n.initialPageTransform?nt.Cast(n.initialPageTransform):this.getShapePageTransform(i);if(!s)return this;const l=s.rotation();if(l==null)return this;const u=n.scaleAxisRotation??l,c=n.initialBounds??this.getShapeGeometry(i).bounds;if(!c)return this;const A=n.isAspectRatioLocked??this.getShapeUtil(a).isAspectRatioLocked(a);if(!WRe(l,u))return this._resizeUnalignedShape(i,r,{...n,initialBounds:c,scaleOrigin:o,scaleAxisRotation:u,initialPageTransform:s,isAspectRatioLocked:A,initialShape:a});const d=this.getShapeUtil(a);A&&(Math.abs(r.x)>Math.abs(r.y)?r=new k(r.x,Math.sign(r.y)*Math.abs(r.x)):r=new k(Math.sign(r.x)*Math.abs(r.y),r.y));let f=!1;if(d.onResize&&d.canResize(a)){const w=this._scalePagePoint(nt.applyToPoint(s,new k(0,0)),o,r,u),b=this.getPointInParentSpace(a.id,w),C=new k(r.x,r.y),S=od((l-u)%Math.PI,0);C.x=S?r.x:r.y,C.y=S?r.y:r.x;const x=nt.applyToPoint(s,new k),{x:_,y:B}=this.getPointInParentSpace(a.id,x);let T=a;n.skipStartAndEndCallbacks||(T=mu(a,((g=d.onResizeStart)==null?void 0:g.call(d,a))??void 0));const R=d.onResize({...a,x:_,y:B},{newPoint:b,handle:n.dragHandle??"bottom_right",mode:n.mode??"scale_shape",scaleX:C.x,scaleY:C.y,initialBounds:c,initialShape:a});R&&(f=!0),T=mu(T,{id:i,type:a.type,x:b.x,y:b.y,...R}),n.skipStartAndEndCallbacks||(T=mu(T,((m=d.onResizeEnd)==null?void 0:m.call(d,a,T))??void 0)),this.updateShapes([T])}if(!f){const w=nt.applyToPoint(s,c.center),b=this._scalePagePoint(w,o,r,u),C=this.getPointInParentSpace(a.id,w),S=this.getPointInParentSpace(a.id,b),x=k.Sub(S,C);this.updateShapes([{id:i,type:a.type,x:a.x+x.x,y:a.y+x.y}])}return this}_scalePagePoint(e,r,n,i){const a=k.RotWith(e,r,-i).sub(r),o=k.MulV(a,n);return k.Add(o,r).rotWith(r,i)}_resizeUnalignedShape(e,r,n){const{type:i}=n.initialShape,a=new k(r.x,r.y);if(Math.abs(r.x)>Math.abs(r.y)?a.x=Math.sign(r.x)*Math.abs(r.y):a.y=Math.sign(r.y)*Math.abs(r.x),this.resizeShape(e,a,{initialShape:n.initialShape,initialBounds:n.initialBounds,isAspectRatioLocked:n.isAspectRatioLocked}),Math.sign(r.x)*Math.sign(r.y)<0){let{rotation:m}=nt.Decompose(n.initialPageTransform);m-=2*m,this.updateShapes([{id:e,type:i,rotation:m}])}const o=nt.applyToPoint(n.initialPageTransform,n.initialBounds.center),s=this._scalePagePoint(o,n.scaleOrigin,r,n.scaleAxisRotation),l=this.getShapePageBounds(e),u=this.getShapePageTransform(e),c=l.center,A=u.point();if(!c||!A)return this;const d=k.Sub(s,c),f=k.Add(A,d),{x:p,y:g}=this.getPointInParentSpace(e,f);return this.updateShapes([{id:e,type:i,x:p,y:g}]),this}getInitialMetaForShape(e){return{}}createShape(e){return this.createShapes([e]),this}createShapes(e){if(!Array.isArray(e))throw Error("Editor.createShapes: must provide an array of shapes or shape partials");if(this.getIsReadonly())return this;if(e.length<=0)return this;const r=this.getCurrentPageShapeIds();if(e.length+r.size>this.options.maxShapesPerPage)return J0(this),this;const i=this.getFocusedGroupId();return this.run(()=>{var c,A;const a=this.getCurrentPageShapesSorted(),o=e.map(d=>{if(d.id||(d={id:an(),...d}),!d.parentId||!(this.store.has(d.parentId)||e.some(f=>f.id===d.parentId))){let f=this.getFocusedGroupId();for(let g=a.length-1;g>=0;g--){const m=a[g];if(!this.isShapeHidden(m)&&this.getShapeUtil(m).canReceiveNewChildrenOfType(m,d.type)&&this.isPointInShape(m,{x:d.x??0,y:d.y??0},{margin:0,hitInside:!0})){f=m.id;break}}const p=d.parentId;if(f===d.id&&(f=i),f!==p&&(d={...d},d.parentId=f,Fo(f))){const g=this.getPointInShapeSpace(this.getShape(f),{x:d.x??0,y:d.y??0});d.x=g.x,d.y=g.y,d.rotation=-this.getShapePageTransform(f).rotation()+(d.rotation??0)}}return d}),s=new Map,l=[],{opacityForNextShape:u}=this.getInstanceState();for(const d of o){const f=this.getShapeUtil(d);let p=d.index;if(!p){const b=d.parentId??i;s.has(b)||s.set(b,this.getHighestIndexForParent(b)),p=s.get(b),s.set(b,Iu(p))}const g=f.getDefaultProps();for(const[b,C]of this.styleProps[d.type])g[C]=this.getStyleForNextShape(b);let m=this.store.schema.types.shape.create({...d,index:p,opacity:d.opacity??u,parentId:d.parentId??i,props:"props"in d?{...g,...d.props}:g});if(m.index===void 0)throw Error("no index!");const w=(A=(c=this.getShapeUtil(m)).onBeforeCreate)==null?void 0:A.call(c,m);w&&(m=w),l.push(m)}l.forEach(d=>{d.meta={...this.getInitialMetaForShape(d),...d.meta}}),this.store.put(l)}),this}animateShape(e,r={animation:Nk}){return this.animateShapes([e],r)}animateShapes(e,r={animation:Nk}){if(!r.animation)return this;const{duration:n=500,easing:i=Ji.linear}=r.animation,a=Xr();let o=n,s;const l=[];let u,c;for(let d=0,f=e.length;d<f;d++){if(u=e[d],!u)continue;const p=this.getShape(u.id);p&&(c={start:On(p),end:mu(On(p),u)},l.push(c),this.animatingShapes.set(p.id,a))}const A=d=>{var m,w;if(o-=d,o<0){const{animatingShapes:b}=this,C=e.filter(S=>S&&b.get(S.id)===a);C.length&&this.updateShapes(C),this.off("tick",A);return}s=i(1-o/n);const{animatingShapes:f}=this,p=[];let g;for(let b=0,C=l.length;b<C;b++){const{start:S,end:x}=l[b];g=f.get(S.id),g===a&&p.push({...x,x:S.x+(x.x-S.x)*s,y:S.y+(x.y-S.y)*s,opacity:S.opacity+(x.opacity-S.opacity)*s,rotation:S.rotation+(x.rotation-S.rotation)*s,props:((w=(m=this.getShapeUtil(x)).getInterpolatedProps)==null?void 0:w.call(m,S,x,s))??x.props})}this._updateShapes(p)};return this.on("tick",A),this}groupShapes(e,r={}){var p;const{groupId:n=an(),select:i=!0}=r;if(!Array.isArray(e))throw Error("Editor.groupShapes: must provide an array of shapes or shape ids");if(this.getIsReadonly())return this;const a=typeof e[0]=="string"?e:e.map(g=>g.id);if(a.length<=1)return this;const o=sr((this._shouldIgnoreShapeLock?a:this._getUnlockedShapeIds(a)).map(g=>this.getShape(g))),s=o.sort(Qa).map(g=>g.id),l=Ze.Common(sr(o.map(g=>this.getShapePageBounds(g)))),{x:u,y:c}=l.point,A=this.findCommonAncestor(o)??this.getCurrentPageId();if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const d=o.filter(g=>g.parentId===A).sort(Qa),f=(p=d[d.length-1])==null?void 0:p.index;return this.run(()=>{this.createShapes([{id:n,type:"group",parentId:A,index:f,x:u,y:c,opacity:1,props:{}}]),this.reparentShapes(s,n),i&&this.select(n)}),this}ungroupShapes(e,r={}){if(this.getIsReadonly())return this;const{select:n=!0}=r,i=typeof e[0]=="string"?e:e.map(l=>l.id),a=sr((this._shouldIgnoreShapeLock?i:this._getUnlockedShapeIds(i)).map(l=>this.getShape(l)));if(a.length===0)return this;if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const o=new Set,s=[];return a.forEach(l=>{this.isShapeOfType(l,"group")?s.push(l):o.add(l.id)}),s.length===0?this:(this.run(()=>{let l;for(let u=0,c=s.length;u<c;u++){l=s[u];const A=this.getSortedChildIdsForParent(l.id);for(let d=0,f=A.length;d<f;d++)o.add(A[d]);this.reparentShapes(A,l.parentId,l.index)}this.deleteShapes(s.map(u=>u.id)),n&&this.select(...o)}),this)}updateShape(e){return this.updateShapes([e]),this}updateShapes(e){const r=Array(e.length);for(let n=0,i=e.length;n<i;n++){const a=e[n];if(!a)continue;const o=this.getShape(a.id);if(o){if(!this._shouldIgnoreShapeLock){if(o.isLocked){if(!(Object.hasOwn(a,"isLocked")&&!a.isLocked))continue}else if(this.isShapeOrAncestorLocked(o))continue}this.animatingShapes.delete(a.id),r.push(a)}}return this._updateShapes(r),this}_updateShapes(e){this.getIsReadonly()||this.run(()=>{var a,o;const r=[];let n,i;for(let s=0,l=e.length;s<l;s++){const u=e[s];u&&(n=this.getShape(u.id),n&&(i=mu(n,u),i!==n&&(i=((o=(a=this.getShapeUtil(n)).onBeforeUpdate)==null?void 0:o.call(a,n,i))??i,r.push(i))))}this.store.put(r)})}_getUnlockedShapeIds(e){return e.filter(r=>{var n;return!((n=this.getShape(r))!=null&&n.isLocked)})}deleteShapes(e){if(this.getIsReadonly())return this;if(!Array.isArray(e))throw Error("Editor.deleteShapes: must provide an array of shapes or shapeIds");const r=typeof e[0]=="string"?e:e.map(a=>a.id),n=this._shouldIgnoreShapeLock?r:this._getUnlockedShapeIds(r);if(n.length===0)return this;const i=new Set(n);for(const a of n)this.visitDescendants(a,o=>{i.add(o)});return this.run(()=>this.store.remove([...i]))}deleteShape(e){return this.deleteShapes([typeof e=="string"?e:e.id]),this}_extractSharedStyles(e,r){if(this.isShapeOfType(e,"group")){const n=this._parentIdsToChildIds.get()[e.id];if(!n)return;for(let i=0,a=n.length;i<a;i++)this._extractSharedStyles(this.getShape(n[i]),r)}else for(const[n,i]of this.styleProps[e.type])r.applyValue(n,qa(e.props,i))}_getSelectionSharedStyles(){const e=this.getSelectedShapes(),r=new S4;for(const n of e)this._extractSharedStyles(n,r);return r}getStyleForNextShape(e){const r=this.getInstanceState().stylesForNextShape[e.id];return r===void 0?e.defaultValue:r}getShapeStyleIfExists(e,r){const n=this.styleProps[e.type].get(r);if(n!==void 0)return qa(e.props,n)}getSharedStyles(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0)return this._getSelectionSharedStyles();const e=this.root.getCurrent(),r=new S4;if(!e)return r;if(e.shapeType)for(const n of this.styleProps[e.shapeType].keys())r.applyValue(n,this.getStyleForNextShape(n));return r}getSharedOpacity(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0){const e=[],r=i=>{const a=this.getShape(i);if(a)if(this.isShapeOfType(a,"group"))for(const o of this.getSortedChildIdsForParent(a.id))r(o);else e.push(a)};for(const i of this.getSelectedShapeIds())r(i);let n=null;for(const i of e)if(n===null)n=i.opacity;else if(n!==i.opacity)return{type:"mixed"};if(n!==null)return{type:"shared",value:n}}return{type:"shared",value:this.getInstanceState().opacityForNextShape}}setOpacityForNextShapes(e,r){return this.updateInstanceState({opacityForNextShape:e},r),this}setOpacityForSelectedShapes(e){const r=this.getSelectedShapes();if(r.length>0){const n=[],i=a=>{if(this.isShapeOfType(a,"group")){const o=this.getSortedChildIdsForParent(a);for(const s of o)i(this.getShape(s))}else n.push(a)};for(const a of r)i(a);this.updateShapes(n.map(a=>({id:a.id,type:a.type,opacity:e})))}return this}setStyleForNextShapes(e,r,n){const i=this.getInstanceState().stylesForNextShape;return this.updateInstanceState({stylesForNextShape:{...i,[e.id]:r}},n),this}setStyleForSelectedShapes(e,r){const n=this.getSelectedShapes();if(n.length>0){const i=[],a=o=>{if(this.isShapeOfType(o,"group")){const s=this.getSortedChildIdsForParent(o.id);for(const l of s)a(this.getShape(l))}else{const s=this.getShapeUtil(o),l=this.styleProps[o.type].get(e);if(l){const u={id:o.id,type:o.type,props:{[l]:r}};i.push({util:s,originalShape:o,updatePartial:u})}}};for(const o of n)a(o);this.updateShapes(i.map(({updatePartial:o})=>o))}return this}registerExternalAssetHandler(e,r){return this.externalAssetContentHandlers[e]=r,this}createTemporaryAssetPreview(e,r){if(this.temporaryAssetPreview.has(e))return this.temporaryAssetPreview.get(e);const n=URL.createObjectURL(r);return this.temporaryAssetPreview.set(e,n),setTimeout(()=>{this.temporaryAssetPreview.delete(e),URL.revokeObjectURL(n)},this.options.temporaryAssetPreviewLifetimeMs),n}getTemporaryAssetPreview(e){return this.temporaryAssetPreview.get(e)}async getAssetForExternalContent(e){var r,n;return await((n=(r=this.externalAssetContentHandlers)[e.type])==null?void 0:n.call(r,e))}hasExternalAssetHandler(e){return!!this.externalAssetContentHandlers[e]}registerExternalContentHandler(e,r){return this.externalContentHandlers[e]=r,this}async putExternalContent(e){var r,n;return(n=(r=this.externalContentHandlers)[e.type])==null?void 0:n.call(r,e)}getContentFromCurrentPage(e){const r=typeof e[0]=="string"?e:e.map(i=>i.id);if(!r||r.length===0)return;const n=this.getShapeAndDescendantIds(r);return RCe(this,n,i=>{const a=[];for(const c of i){const A=this.getBinding(c);A&&a.push(A)}const o=[],s=[];for(const c of n){const A=this.getShape(c);if(!A)continue;if(!n.has(A.parentId)){const f=this.getShapePageTransform(A.id),p=f.point();s.push({...A,x:p.x,y:p.y,rotation:f.rotation(),parentId:this.getCurrentPageId()}),o.push(A.id)}else s.push(A)}const l=[],u=new Set;for(const c of s){if(!("assetId"in c.props))continue;const A=c.props.assetId;if(!A||u.has(A))continue;u.add(A);const d=this.getAsset(A);d&&l.push(d)}return{schema:this.store.schema.serialize(),shapes:s,rootShapeIds:o,bindings:a,assets:l}})}async resolveAssetsInContent(e){if(!e)return;const r=[];return await Promise.allSettled(e.assets.map(async n=>{var i,a,o;if((n.type==="image"||n.type==="video")&&!((i=n.props.src)!=null&&i.startsWith("data:image"))&&!((a=n.props.src)!=null&&a.startsWith("data:video"))&&!((o=n.props.src)!=null&&o.startsWith("http"))){const s=On(n),l=await this.store.props.assets.resolve(n,{screenScale:1,steppedScreenScale:1,dpr:1,networkEffectiveType:null,shouldResolveToOriginal:!0});s.props.src=await zs.blobToDataUrl(await Lu(l).then(u=>u.blob())),r.push(s)}else r.push(n)})),e.assets=r,e}putContentOntoCurrentPage(e,r={}){var P,M,U;if(this.getIsReadonly())return this;if(!e.schema)throw Error(`Could not put content:
content is missing a schema.`);const{select:n=!1,preserveIds:i=!1,preservePosition:a=!1}=r;let{point:o=void 0}=r;const s=this.getCurrentPageId(),{rootShapeIds:l}=e,u=[],c=[],A=[],d={store:{...Object.fromEntries(e.assets.map(F=>[F.id,F])),...Object.fromEntries(e.shapes.map(F=>[F.id,F])),...Object.fromEntries(((P=e.bindings)==null?void 0:P.map(F=>[F.id,F]))??[])},schema:e.schema},f=this.store.schema.migrateStoreSnapshot(d);if(f.type==="error")throw Error("Could not put content: could not migrate content");for(const F of Object.values(f.value))switch(F.typeName){case"asset":{u.push(F);break}case"shape":{c.push(F);break}case"binding":{A.push(F);break}}const p=new Map(i?c.map(F=>[F.id,F.id]):c.map(F=>[F.id,an()])),g=new Map(i?A.map(F=>[F.id,F.id]):A.map(F=>[F.id,jf()]));let m=this.getCurrentPageId(),w=1/0,b=[];for(const F of this.getSelectedShapes()){if(w===0)break;const j=this.isShapeOfType(F,"frame"),L=this.getShapeAncestors(F);j&&L.push(F);const $=j?L.length+1:L.length;if($<w)w=$,b=L,m=j?F.id:F.parentId;else if($===w){if(b.length!==L.length)throw Error(`Ancestors: ${b.length} !== ${L.length}`);if(b.length===0){m=s;break}else{m=s;for(let Q=0;Q<b.length&&L[Q]===b[Q];Q++)m=L[Q].id}}}let C=!1;if(!To(m)){const F=this.getShape(m);if(F){if(!this.getViewportPageBounds().includes(this.getShapePageBounds(F)))m=s;else if(l.length===1){const j=c.find(L=>L.id===l[0]);this.isShapeOfType(F,"frame")&&this.isShapeOfType(j,"frame")&&j.props.w===(F==null?void 0:F.props.w)&&j.props.h===(F==null?void 0:F.props.h)&&(C=!0)}}else m=s}C||(C=p.has(m)),C&&(m=this.getShape(m).parentId);let S=this.getHighestIndexForParent(m);const x=[],_=c.map(F=>{const j=p.get(F.id),L={...F,id:j};return l.includes(F.id)&&(L.parentId=s,x.push(L)),p.has(L.parentId)?L.parentId=p.get(F.parentId):(l.push(L.id),L.index=S,S=Iu(S)),L});if(_.length+this.getCurrentPageShapeIds().size>this.options.maxShapesPerPage)return J0(this),this;const B=A.map(F=>({...F,id:ko(g.get(F.id)),fromId:ko(p.get(F.fromId)),toId:ko(p.get(F.toId))})),T=[],R=[];for(const F of u)this.store.has(F.id)||((F.type==="image"&&((M=F.props.src)!=null&&M.startsWith("data:image"))||F.type==="video"&&((U=F.props.src)!=null&&U.startsWith("data:video")))&&(R.push(On(F)),F.props.src=null),T.push(F));return Promise.allSettled(R.map(async F=>{const j=await vTt(F.props.src,F.props.name,F.props.mimeType??"image/png"),L=await this.getAssetForExternalContent({type:"file",file:j,assetId:F.id});if(!L){this.deleteAssets([F.id]);return}this.updateAssets([{...L,id:F.id}])})),this.run(()=>{T.length>0&&this.createAssets(T),this.createShapes(_),this.createBindings(B),n&&this.select(...x.map(Q=>Q.id)),m!==s&&this.reparentShapes(x.map(Q=>Q.id),m);const F=_.map(Q=>this.getShape(Q.id)),j=Ze.Common(F.map(Q=>this.getShapePageBounds(Q)));if(o===void 0)if(To(m)){const Q=this.getViewportPageBounds();a||Q.includes(Ze.From(j))?o=j.center:o=Q.center}else{const Q=this.getShape(m);o=nt.applyToPoint(this.getShapePageTransform(Q),this.getShapeGeometry(Q).bounds.center)}if(x.length===1){const Q=x[0];if(this.isShapeOfType(Q,"frame"))for(;this.getShapesAtPoint(o).some(H=>this.isShapeOfType(H,"frame")&&H.props.w===Q.props.w&&H.props.h===Q.props.h);)o.x+=j.w+16}const L=Ze.Common(sr(x.map(({id:Q})=>this.getShapePageBounds(Q)))).center,$=k.Sub(o,L);this.updateShapes(x.map(({id:Q})=>{const H=this.getShape(Q),q=this.getShapeParentTransform(Q).decompose().rotation,Y=k.Rot($,-q);return{id:H.id,type:H.type,x:H.x+Y.x,y:H.y+Y.y}}))}),this}async getSvgElement(e,r={}){const n=e.length===0?this.getCurrentPageShapeIdsSorted():typeof e[0]=="string"?e:e.map(i=>i.id);if(n.length!==0)return uTt(this,n,r)}async getSvgString(e,r={}){const n=await this.getSvgElement(e,r);return n?{svg:new XMLSerializer().serializeToString(n.svg),width:n.width,height:n.height}:void 0}async getSvg(e,r={}){const n=await this.getSvgElement(e,r);if(n)return n.svg}async toImage(e,r={}){const n={format:"png",scale:1,pixelRatio:r.format==="svg"?void 0:2,...r},i=await this.getSvgString(e,n);if(!i)throw new Error("Could not create SVG");switch(n.format){case"svg":return{blob:new Blob([i.svg],{type:"image/svg+xml"}),width:i.width,height:i.height};case"jpeg":case"png":case"webp":{const a=await pTt(i.svg,{type:n.format,quality:n.quality,pixelRatio:n.pixelRatio,width:i.width,height:i.height});if(!a)throw new Error("Could not construct image.");return{blob:a,width:i.width,height:i.height}}default:Pi(n.format)}}_updateInputsFromEvent(e){const{pointerVelocity:r,previousScreenPoint:n,previousPagePoint:i,currentScreenPoint:a,currentPagePoint:o}=this.inputs,{screenBounds:s}=this.store.unsafeGetWithoutCapture(co),{x:l,y:u,z:c}=j0(()=>this.getCamera()),A=e.point.x-s.x,d=e.point.y-s.y,f=e.point.z??.5;n.setTo(a),i.setTo(o),a.set(A,d);const p=A/c-l,g=d/c-u;isFinite(p)&&isFinite(g)&&o.set(p,g,f),this.inputs.isPen=e.type==="pointer"&&e.isPen,(e.name==="pointer_down"||this.inputs.isPinching)&&(r.set(0,0),this.inputs.originScreenPoint.setTo(a),this.inputs.originPagePoint.setTo(o)),this.run(()=>{var m;this.store.put([{id:HC,typeName:"pointer",x:o.x,y:o.y,lastActivityTimestamp:e.type==="pointer"&&e.pointerId===Pre.CAMERA_MOVE?((m=this.store.unsafeGetWithoutCapture(HC))==null?void 0:m.lastActivityTimestamp)??this._tickManager.now:this._tickManager.now,meta:{}}])},{history:"ignore"})}cancel(){return this.dispatch({type:"misc",name:"cancel"}),this}interrupt(){return this.dispatch({type:"misc",name:"interrupt"}),this}complete(){return this.dispatch({type:"misc",name:"complete"}),this}focus({focusContainer:e=!0}={}){return this.getIsFocused()?this:(e&&this.focusManager.focus(),this.updateInstanceState({isFocused:!0}),this)}blur({blurContainer:e=!0}={}){return this.getIsFocused()?(e?this.focusManager.blur():this.complete(),this.updateInstanceState({isFocused:!1}),this):this}getIsFocused(){return this.getInstanceState().isFocused}getIsReadonly(){return this.getInstanceState().isReadonly}getSnapshot(){return hPt(this.store)}loadSnapshot(e,r){return sUe(this.store,e,r),this}_zoomToFitPageContentAt100Percent(){const e=this.getCurrentPageBounds();e&&this.zoomToBounds(e,{immediate:!0,targetZoom:this.getBaseZoom()})}_navigateToDeepLink(e){this.run(()=>{switch(e.type){case"page":{const r=this.getPage(e.pageId);r&&this.setCurrentPage(r),this._zoomToFitPageContentAt100Percent();return}case"shapes":{const r=sr(e.shapeIds.map(o=>this.getShape(o))),n={};for(const o of r){const s=this.getAncestorPageId(o);s&&(n[s]??(n[s]=[]),n[s].push(o))}const[i,a]=Object.entries(n).sort(([o,s],[l,u])=>u.length-s.length)[0]??["",[]];if(!i||!a.length)this._zoomToFitPageContentAt100Percent();else{this.setCurrentPage(i);const o=Ze.Common(a.map(s=>this.getShapePageBounds(s)));this.zoomToBounds(o,{immediate:!0,targetZoom:this.getBaseZoom()})}return}case"viewport":{if(e.pageId){if(!this.getPage(e.pageId)){this._zoomToFitPageContentAt100Percent();return}this.setCurrentPage(e.pageId)}this.zoomToBounds(e.bounds,{immediate:!0,inset:0});return}default:Pi(e)}})}navigateToDeepLink(e){if(e&&"type"in e)return this._navigateToDeepLink(e),this;const n=new URL((e==null?void 0:e.url)??window.location.href).searchParams.get((e==null?void 0:e.param)??"d");if(!n)return this._zoomToFitPageContentAt100Percent(),this;try{this._navigateToDeepLink(bTt(n))}catch(i){console.warn(i),this._zoomToFitPageContentAt100Percent()}return this}createDeepLink(e){const r=new URL((e==null?void 0:e.url)??window.location.href);return r.searchParams.set((e==null?void 0:e.param)??"d",wTt((e==null?void 0:e.to)??{type:"viewport",pageId:this.options.maxPages===1?void 0:this.getCurrentPageId(),bounds:this.getViewportPageBounds()})),r}registerDeepLinkListener(e){if(e!=null&&e.getUrl&&!(e!=null&&e.onChange))throw Error("[tldraw:urlStateSync] If you specify getUrl, you must also specify the onChange callback.");const r=je("url with state",()=>{var l,u;const o=((l=e==null?void 0:e.getUrl)==null?void 0:l.call(e,this))??window.location.href;return this.createDeepLink({param:e==null?void 0:e.param,url:o,to:(u=e==null?void 0:e.getTarget)==null?void 0:u.call(e,this)}).toString()}),n=(e==null?void 0:e.onChange)??(()=>{var s;const o=this.createDeepLink({param:e==null?void 0:e.param,to:(s=e==null?void 0:e.getTarget)==null?void 0:s.call(e,this)});window.history.replaceState({},document.title,o.toString())}),i=l5(o=>o(),(e==null?void 0:e.debounceMs)??500),a=ku("update url on state change",()=>n(new URL(r.get()),this),{scheduleEffect:i});return()=>{a(),i.cancel()}}cancelDoubleClick(){this._clickManager.cancelDoubleClickTimeout()}_setShiftKeyTimeout(){this.inputs.shiftKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Shift",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,metaKey:this.inputs.metaKey,accelKey:Ha(this.inputs),code:"ShiftLeft"})}_setAltKeyTimeout(){this.inputs.altKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Alt",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,metaKey:this.inputs.metaKey,accelKey:Ha(this.inputs),code:"AltLeft"})}_setCtrlKeyTimeout(){this.inputs.ctrlKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Ctrl",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,metaKey:this.inputs.metaKey,accelKey:Ha(this.inputs),code:"ControlLeft"})}_setMetaKeyTimeout(){this.inputs.metaKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Meta",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,metaKey:this.inputs.metaKey,accelKey:Ha(this.inputs),code:"MetaLeft"})}dispatch(e){return this._pendingEventsForNextTick.push(e),e.type==="pointer"&&e.name==="pointer_move"||e.type==="wheel"||e.type==="pinch"||this._flushEventsForTick(0),this}_flushEventsForTick(e){this.run(()=>{if(this._pendingEventsForNextTick.length>0){const r=[...this._pendingEventsForNextTick];this._pendingEventsForNextTick.length=0;for(const n of r)this._flushEventForTick(n)}e>0&&this.root.handleEvent({type:"misc",name:"tick",elapsed:e}),this.scribbles.tick(e)})}_flushEventForTick(e){if(this.getCrashingError())return this;this.emit("before-event",e);const{inputs:r}=this,{type:n}=e;if(e.type==="misc"){(e.name==="cancel"||e.name==="complete")&&(this.inputs.isDragging=!1,this.inputs.isPanning&&(this.inputs.isPanning=!1,this.inputs.isSpacebarPanning=!1,this.setCursor({type:this._prevCursor,rotation:0}))),this.root.handleEvent(e);return}e.shiftKey?(clearTimeout(this._shiftKeyTimeout),this._shiftKeyTimeout=-1,r.shiftKey=!0):!e.shiftKey&&r.shiftKey&&this._shiftKeyTimeout===-1&&(this._shiftKeyTimeout=this.timers.setTimeout(this._setShiftKeyTimeout,150)),e.altKey?(clearTimeout(this._altKeyTimeout),this._altKeyTimeout=-1,r.altKey=!0):!e.altKey&&r.altKey&&this._altKeyTimeout===-1&&(this._altKeyTimeout=this.timers.setTimeout(this._setAltKeyTimeout,150)),e.ctrlKey?(clearTimeout(this._ctrlKeyTimeout),this._ctrlKeyTimeout=-1,r.ctrlKey=!0):!e.ctrlKey&&r.ctrlKey&&this._ctrlKeyTimeout===-1&&(this._ctrlKeyTimeout=this.timers.setTimeout(this._setCtrlKeyTimeout,150)),e.metaKey?(clearTimeout(this._metaKeyTimeout),this._metaKeyTimeout=-1,r.metaKey=!0):!e.metaKey&&r.metaKey&&this._metaKeyTimeout===-1&&(this._metaKeyTimeout=this.timers.setTimeout(this._setMetaKeyTimeout,150));const{originPagePoint:i,currentPagePoint:a}=r;r.isPointing||(r.isDragging=!1);const o=this.store.unsafeGetWithoutCapture(co),s=this.store.get(this._getCurrentPageStateId()),l=this._cameraOptions.__unsafe__getWithoutCapture();switch(n){case"pinch":{if(l.isLocked)return;switch(clearTimeout(this._longPressTimeout),this._updateInputsFromEvent(e),e.name){case"pinch_start":{if(r.isPinching)return;r.isEditing||(this._pinchStart=this.getCamera().z,this._selectedShapeIdsAtPointerDown.length||(this._selectedShapeIdsAtPointerDown=[...s.selectedShapeIds]),this._didPinch=!0,r.isPinching=!0,this.interrupt());return}case"pinch":{if(!r.isPinching)return;const{point:{z:u=1},delta:{x:c,y:A}}=e,{x:d,y:f}=k.SubXY(e.point,o.screenBounds.x,o.screenBounds.y);this.stopCameraAnimation(),o.followingUserId&&this.stopFollowingUser();const{x:p,y:g,z:m}=j0(()=>this.getCamera()),{panSpeed:w,zoomSpeed:b}=l;this._setCamera(new k(p+c*w/m-d/m+d/(u*b),g+A*w/m-f/m+f/(u*b),u*b),{immediate:!0});return}case"pinch_end":{if(!r.isPinching)return this;r.isPinching=!1;const{_selectedShapeIdsAtPointerDown:u}=this;this.setSelectedShapes(this._selectedShapeIdsAtPointerDown),this._selectedShapeIdsAtPointerDown=[],this._didPinch&&(this._didPinch=!1,u.length>0&&this.once("tick",()=>{this._didPinch||this.setSelectedShapes(u)}));return}}}case"wheel":{if(l.isLocked)return;this._updateInputsFromEvent(e);const{panSpeed:u,zoomSpeed:c,wheelBehavior:A}=l;if(A!=="none"){this.stopCameraAnimation(),o.followingUserId&&this.stopFollowingUser();const{x:d,y:f,z:p}=j0(()=>this.getCamera()),{x:g,y:m,z:w=0}=e.delta;let b=A;switch(r.ctrlKey&&(b=A==="pan"?"zoom":"pan"),b){case"zoom":{const{x:C,y:S}=this.inputs.currentScreenPoint;let x=w;A==="zoom"&&(Math.abs(m)>10?x=10*Math.sign(m)/100:x=m/100);const _=p+(x??0)*c*p;this._setCamera(new k(d+(C/_-C)-(C/p-C),f+(S/_-S)-(S/p-S),_),{immediate:!0}),this.maybeTrackPerformance("Zooming");return}case"pan":{this._setCamera(new k(d+g*u/p,f+m*u/p,p),{immediate:!0}),this.maybeTrackPerformance("Panning");return}}}break}case"pointer":{if(r.isPinching)return;this._updateInputsFromEvent(e);const{isPen:u}=e,{isPenMode:c}=o;switch(e.name){case"pointer_down":{if(c&&!u)return;if(this.inputs.isPanning||(this._longPressTimeout=this.timers.setTimeout(()=>{const A=this.getViewportScreenBounds();this.dispatch({...e,point:this.inputs.originScreenPoint.clone().addXY(A.x,A.y),name:"long_press"})},this.options.longPressDurationMs)),this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds(),e.button===Tre&&(this.capturedPointerId=e.pointerId),r.buttons.add(e.button),r.isPointing=!0,r.isDragging=!1,!c&&u&&this.updateInstanceState({isPenMode:!0}),e.button===Ore?(this._restoreToolId=this.getCurrentToolId(),this.complete(),this.setCurrentTool("eraser")):e.button===K0&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0,clearTimeout(this._longPressTimeout)),this.inputs.isPanning)return this.stopCameraAnimation(),this.setCursor({type:"grabbing",rotation:0}),this;break}case"pointer_move":{if(!u&&c)return;const{x:A,y:d,z:f}=j0(()=>this.getCamera());if(this.inputs.isPanning&&this.inputs.isPointing){const{currentScreenPoint:p,previousScreenPoint:g}=this.inputs,{panSpeed:m}=l,w=k.Sub(p,g);this.setCamera(new k(A+w.x*m/f,d+w.y*m/f,f),{immediate:!0}),this.maybeTrackPerformance("Panning");return}r.isPointing&&!r.isDragging&&k.Dist2(i,a)*this.getZoomLevel()>(o.isCoarsePointer?this.options.coarseDragDistanceSquared:this.options.dragDistanceSquared)/f&&(r.isDragging=!0,clearTimeout(this._longPressTimeout));break}case"pointer_up":{if(r.isDragging=!1,r.isPointing=!1,clearTimeout(this._longPressTimeout),r.buttons.delete(e.button),o.isPenMode&&!u)return;if(this.capturedPointerId===e.pointerId&&(this.capturedPointerId=null,e.button=0),r.isPanning){r.keys.has("Space")||(r.isPanning=!1,r.isSpacebarPanning=!1);const A=this.inputs.pointerVelocity,d=Math.min(2,A.len());switch(e.button){case Tre:{this.setCursor({type:"grab",rotation:0});break}case K0:this.inputs.keys.has(" ")?this.setCursor({type:"grab",rotation:0}):this.setCursor({type:this._prevCursor,rotation:0})}d>0&&this.slideCamera({speed:d,direction:A})}else e.button===Ore&&(this.complete(),this.setCurrentTool(this._restoreToolId));break}}break}case"keyboard":{switch(e.key==="ShiftRight"&&(e.key="ShiftLeft"),e.key==="AltRight"&&(e.key="AltLeft"),e.code==="ControlRight"&&(e.code="ControlLeft"),e.code==="MetaRight"&&(e.code="MetaLeft"),e.name){case"key_down":{if(r.keys.add(e.code),e.code==="Space"&&!e.ctrlKey&&(this.inputs.isPanning||(this._prevCursor=o.cursor.type),this.inputs.isPanning=!0,this.inputs.isSpacebarPanning=!0,clearTimeout(this._longPressTimeout),this.setCursor({type:this.inputs.isPointing?"grabbing":"grab",rotation:0})),this.inputs.isSpacebarPanning){let u;switch(e.code){case"ArrowUp":{u=new k(0,-1);break}case"ArrowRight":{u=new k(1,0);break}case"ArrowDown":{u=new k(0,1);break}case"ArrowLeft":{u=new k(-1,0);break}}if(u){const c=this.getViewportPageBounds(),A=c.clone().translate(u.mulV({x:c.w,y:c.h}));this._animateToViewport(A,{animation:{duration:320}})}}break}case"key_up":{r.keys.delete(e.code),e.code==="Space"&&(this.inputs.buttons.has(K0)||(this.inputs.isPanning=!1,this.inputs.isSpacebarPanning=!1,this.setCursor({type:this._prevCursor,rotation:0})));break}}break}}if(e.type==="pointer"){e.button===K0?e.name="middle_click":e.button===G5&&(e.name="right_click");const{isPenMode:u}=this.store.unsafeGetWithoutCapture(co);if(e.isPen===u){const c=this._clickManager.handlePointerEvent(e);if(e.name!==c.name){this.root.handleEvent(e),this.emit("event",e),this.root.handleEvent(c),this.emit("event",c);return}}}return this.root.handleEvent(e),this.emit("event",e),e.type==="pointer"&&e.name==="pointer_down"&&this.menus.clearOpenMenus(),this}maybeTrackPerformance(e){fi.measurePerformance.get()&&(this.performanceTracker.isStarted()?clearTimeout(this.performanceTrackerTimeout):this.performanceTracker.start(e),this.performanceTrackerTimeout=this.timers.setTimeout(()=>{this.performanceTracker.stop()},50))}}pt=HOt(C4);mt(pt,1,"getIsShapeHiddenCache",iLe,ht);mt(pt,1,"getCanUndo",nLe,ht);mt(pt,1,"getCanRedo",rLe,ht);mt(pt,1,"getPath",tLe,ht);mt(pt,1,"getCurrentTool",eLe,ht);mt(pt,1,"getCurrentToolId",Zje,ht);mt(pt,1,"getDocumentSettings",Jje,ht);mt(pt,1,"getInstanceState",Xje,ht);mt(pt,1,"getOpenMenus",Yje,ht);mt(pt,1,"getIsMenuOpen",Vje,ht);mt(pt,1,"getPageStates",Gje,ht);mt(pt,1,"_getPageStatesQuery",Wje,ht);mt(pt,1,"getCurrentPageState",zje,ht);mt(pt,1,"_getCurrentPageStateId",Kje,ht);mt(pt,1,"getSelectedShapeIds",qje,ht);mt(pt,1,"getSelectedShapes",Hje,ht);mt(pt,1,"getOnlySelectedShapeId",Qje,ht);mt(pt,1,"getOnlySelectedShape",$je,ht);mt(pt,1,"getSelectionPageBounds",Nje,ht);mt(pt,1,"getSelectionRotation",Lje,ht);mt(pt,1,"getSelectionRotatedPageBounds",jje,ht);mt(pt,1,"getSelectionRotatedScreenBounds",Dje,ht);mt(pt,1,"getFocusedGroupId",Uje,ht);mt(pt,1,"getFocusedGroup",kje,ht);mt(pt,1,"getEditingShapeId",Fje,ht);mt(pt,1,"getEditingShape",Mje,ht);mt(pt,1,"getHoveredShapeId",Rje,ht);mt(pt,1,"getHoveredShape",Oje,ht);mt(pt,1,"getHintingShapeIds",Tje,ht);mt(pt,1,"getHintingShape",Pje,ht);mt(pt,1,"getErasingShapeIds",Bje,ht);mt(pt,1,"getErasingShapes",Ije,ht);mt(pt,1,"_unsafe_getCameraId",Eje,ht);mt(pt,1,"getCamera",_je,ht);mt(pt,1,"getViewportPageBoundsForFollowing",Cje,ht);mt(pt,1,"getCameraForFollowing",xje,ht);mt(pt,1,"getZoomLevel",Sje,ht);mt(pt,1,"getViewportScreenBounds",bje,ht);mt(pt,1,"getViewportScreenCenter",wje,ht);mt(pt,1,"getViewportPageBounds",yje,ht);mt(pt,1,"_getCollaboratorsQuery",vje,ht);mt(pt,1,"getCollaborators",mje,ht);mt(pt,1,"getCollaboratorsOnCurrentPage",gje,ht);mt(pt,1,"getRenderingShapes",pje,ht);mt(pt,1,"_getAllPagesQuery",hje,ht);mt(pt,1,"getPages",fje,ht);mt(pt,1,"getCurrentPageId",dje,ht);mt(pt,1,"getCurrentPageShapeIdsSorted",Aje,ht);mt(pt,1,"_getAllAssetsQuery",cje,ht);mt(pt,1,"_getShapeHandlesCache",uje,ht);mt(pt,1,"_getShapePageTransformCache",lje,ht);mt(pt,1,"_getShapePageBoundsCache",sje,ht);mt(pt,1,"_getShapeClipPathCache",oje,ht);mt(pt,1,"_getShapeMaskCache",aje,ht);mt(pt,1,"_getShapeMaskedPageBoundsCache",ije,ht);mt(pt,1,"_notVisibleShapes",nje,ht);mt(pt,1,"getCulledShapes",rje,ht);mt(pt,1,"getCurrentPageBounds",tje,ht);mt(pt,1,"getCurrentPageShapes",eje,ht);mt(pt,1,"getCurrentPageShapesSorted",ZDe,ht);mt(pt,1,"getCurrentPageRenderingShapesSorted",JDe,ht);mt(pt,1,"_getBindingsIndexCache",XDe,ht);mt(pt,1,"_getSelectionSharedStyles",YDe,ht);mt(pt,1,"getSharedStyles",VDe,ht);mt(pt,1,"getSharedOpacity",GDe,ht);mt(pt,1,"getIsFocused",WDe,ht);mt(pt,1,"getIsReadonly",zDe,ht);mt(pt,1,"_setShiftKeyTimeout",KDe,ht);mt(pt,1,"_setAltKeyTimeout",qDe,ht);mt(pt,1,"_setCtrlKeyTimeout",HDe,ht);mt(pt,1,"_setMetaKeyTimeout",QDe,ht);KOt(pt,ht);function J0(t,e=t.getCurrentPageId()){const r=t.getPage(e).name;t.emit("max-shapes",{name:r,pageId:e,count:t.options.maxShapesPerPage})}function mu(t,e){if(!e)return t;let r=null;const n=Object.entries(e);for(let i=0,a=n.length;i<a;i++){const[o,s]=n[i];if(s!==void 0&&!(o==="id"||o==="type"||o==="typeName")&&s!==t[o]){if(r||(r={...t}),o==="props"||o==="meta"){r[o]={...t[o]};for(const[l,u]of Object.entries(s))r[o][l]=u;continue}r[o]=s}}return r||t}function aLe(t,e,r){const n=t.getShape(e);if(!n)return;r.push(n);const i=t.getSortedChildIdsForParent(e);for(let a=0,o=i.length;a<o;a++)aLe(t,i[a],r)}function RCe(t,e,r){let n;if(t.run(()=>{const i=t.store.extractingChanges(()=>{const a=new Set,o=new Set;for(const s of e)if(t.getShape(s))for(const u of t.getBindingsInvolvingShape(s)){const c=e.has(u.fromId),A=e.has(u.toId);if(c&&A){a.add(u.id);continue}(!c||!A)&&o.add(u.id)}t.deleteBindings([...o],{isolateShapes:!0});try{n=id.ok(r(a))}catch(s){n=id.err(s)}});t.store.applyDiff(u4(i),{runCallbacks:!1})},{history:"ignore"}),n.ok)return n.value;throw n.error}function MCe(t,e){if(!e.constraints)throw Error("Should have constraints here");const{padding:{x:r,y:n}}=e.constraints,i=t.getViewportScreenBounds(),a=Ze.From(e.constraints.bounds),o=(i.w-r*2)/a.w,s=(i.h-n*2)/a.h;return{zx:o,zy:s}}function jb(){const t=we(),e=Fb();return Ce("isDarkMode",()=>(e==null?void 0:e.isDarkMode)??t.user.getIsDarkMode(),[e,t])}const FCe="<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'/>",kCe="<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'/>",Z0='<path d="M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z" fill="white"/>';function kA(t,e,r,n,i,a=16,o=16){const s=(-r-e)*(Or/180),l=Math.sin(s),u=Math.cos(s),c=1*u-1*l,A=1*l+1*u;return`url("data:image/svg+xml,<svg height='32' width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg' style='color: ${i};'><defs><filter id='shadow' y='-40%' x='-40%' width='180px' height='180%' color-interpolation-filters='sRGB'><feDropShadow dx='${c}' dy='${A}' stdDeviation='1.2' flood-opacity='.5'/></filter></defs><g fill='none' transform='rotate(${e+r} 16 16)${n?" scale(-1,-1) translate(0, -32)":""}' filter='url(%23shadow)'>`+t.replaceAll('"',"'")+`</g></svg>") ${a} ${o}, pointer`}const WOt=["default","pointer","cross","move","grab","grabbing","text","zoom-in","zoom-out"],GOt={none:()=>"none","ew-resize":(t,e,r)=>kA(kCe,t,0,e,r),"ns-resize":(t,e,r)=>kA(kCe,t,90,e,r),"nesw-resize":(t,e,r)=>kA(FCe,t,0,e,r),"nwse-resize":(t,e,r)=>kA(FCe,t,90,e,r),"nwse-rotate":(t,e,r)=>kA(Z0,t,0,e,r),"nesw-rotate":(t,e,r)=>kA(Z0,t,90,e,r),"senw-rotate":(t,e,r)=>kA(Z0,t,180,e,r),"swne-rotate":(t,e,r)=>kA(Z0,t,270,e,r)};function es(t,e=0,r="black"){return GOt[t](avt(e),!1,r)}function VOt(){const t=we(),e=$i(),r=jb();ad("useCursor",()=>{const{type:n,rotation:i}=t.getInstanceState().cursor;if(WOt.includes(n)){e.style.setProperty("--tl-cursor",`var(--tl-cursor-${n})`);return}e.style.setProperty("--tl-cursor",es(n,i,r?"white":"black"))},[t,e,r])}function YOt(){const t=we(),e=$i(),r=jb(),n=Ce(fi.forceSrgb);ce.useEffect(()=>{r?(e.setAttribute("data-color-mode","dark"),e.classList.remove("tl-theme__light"),e.classList.add("tl-theme__dark")):(e.setAttribute("data-color-mode","light"),e.classList.remove("tl-theme__dark"),e.classList.add("tl-theme__light")),n?e.classList.add("tl-theme__force-sRGB"):e.classList.remove("tl-theme__force-sRGB")},[t,e,n,r])}function XOt(){const[t,e]=I.useState(0);I.useEffect(()=>e(r=>r+1),[])}const JOt=t=>t.props.src,ZOt={upload:async(t,e)=>({src:await zs.blobToDataUrl(e)})};function eRt(t){return"schema"in t&&t.schema?t.schema:Hyt({shapes:"shapeUtils"in t&&t.shapeUtils?UCe(AUe(t.shapeUtils)):void 0,bindings:"bindingUtils"in t&&t.bindingUtils?UCe(uUe(t.bindingUtils)):void 0,migrations:"migrations"in t?t.migrations:void 0})}function YC({initialData:t,defaultName:e="",id:r,assets:n=ZOt,onMount:i,collaboration:a,...o}={}){const s=eRt(o),l=new F5({id:r,schema:s,initialData:t,props:{defaultName:e,assets:{upload:n.upload,resolve:n.resolve??JOt},onMount:u=>{fr(u instanceof ht),i==null||i(u)},collaboration:a}});if(o.snapshot){if(t)throw new Error("Cannot provide both initialData and snapshot");sUe(l,o.snapshot,{forceOverwriteSessionState:!0})}return l}function UCe(t){return Object.fromEntries(t.map(e=>[e.type,{props:e.props,migrations:e.migrations}]))}function tRt(){window.alert(`Oops! We could not save changes to your browser's storage. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.
 If your hard disk is full, try clearing up some space and then reload the page.`)}function rRt(){window.alert(`Oops! We could not access your browser's storageand the app won't work correctly without that. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.`)}const nRt=350,iRt=1e4,DCe=Symbol("UPDATE_INSTANCE_STATE"),aRt=t=>t;class oRt{constructor(e){K(this,"onmessage")}postMessage(e){}close(){}}const sRt=typeof BroadcastChannel>"u"?oRt:BroadcastChannel;class lRt{constructor(e,{persistenceKey:r,sessionId:n=VC,onLoad:i,onLoadError:a},o=new sRt(`tldraw-tab-sync-${r}`)){K(this,"disposables",new Set);K(this,"diffQueue",[]);K(this,"didDispose",!1);K(this,"shouldDoFullDBWrite",!0);K(this,"isReloading",!1);K(this,"persistenceKey");K(this,"sessionId");K(this,"serializedSchema");K(this,"isDebugging",!1);K(this,"documentTypes");K(this,"$sessionStateSnapshot");K(this,"db");K(this,"initTime",Date.now());K(this,"isPersisting",!1);K(this,"didLastWriteError",!1);K(this,"scheduledPersistTimeout",null);this.store=e,this.channel=o,typeof window<"u"&&(window.tlsync=this),this.persistenceKey=r,this.sessionId=n,this.db=new FC(r),this.disposables.add(()=>this.db.close()),this.serializedSchema=this.store.schema.serialize(),this.$sessionStateSnapshot=Fq(this.store),this.disposables.add(e.listen(({changes:s})=>{this.diffQueue.push(s),this.channel.postMessage(aRt({type:"diff",storeId:this.store.id,changes:s,schema:this.serializedSchema})),this.schedulePersist()},{source:"user",scope:"document"})),this.disposables.add(e.listen(()=>{this.diffQueue.push(DCe),this.schedulePersist()},{scope:"session"})),this.connect(i,a),this.documentTypes=new Set(Object.values(this.store.schema.types).filter(s=>s.scope==="document").map(s=>s.typeName))}debug(...e){this.isDebugging&&console.debug(...e)}async connect(e,r){this.debug("connecting");let n;try{n=await this.db.load({sessionId:this.sessionId})}catch(i){r(i),rRt();return}if(this.debug("loaded data from store",n,"didDispose",this.didDispose),!this.didDispose)try{if(n){const i=Object.fromEntries(n.records.map(l=>[l.id,l])),a=n.sessionStateSnapshot??fPt(i),o=this.store.schema.migrateStoreSnapshot({store:i,schema:n.schema??this.store.schema.serializeEarliestVersion()});if(o.type==="error"){console.error("failed to migrate store",o),r(new Error(`Failed to migrate store: ${o.reason}`));return}const s=Object.values(o.value).filter(l=>this.documentTypes.has(l.typeName));s.length>0&&this.store.mergeRemoteChanges(()=>{this.store.put(s,"initialize")}),a&&m4(this.store,a,{forceOverwrite:!0})}this.channel.onmessage=({data:i})=>{var s,l;this.debug("got message",i);const a=i,o=this.store.schema.getMigrationsSince(a.schema);if(o.ok){if(o.value.length>0){this.debug("telling them to reload"),this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.shouldDoFullDBWrite=!0,this.persistIfNeeded();return}}else{if(Date.now()-this.initTime<5e3){r(new Error("Schema mismatch, please close other tabs and reload the page"));return}this.debug("reloading"),this.isReloading=!0,(l=(s=window==null?void 0:window.location)==null?void 0:s.reload)==null||l.call(s);return}a.type==="diff"&&(this.debug("applying diff"),Ao(()=>{this.store.mergeRemoteChanges(()=>{this.store.applyDiff(a.changes)})}))},this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.disposables.add(()=>{this.channel.close()}),e(this)}catch(i){if(this.debug("error loading data from store",i),this.didDispose)return;r(i);return}}close(){this.debug("closing"),this.didDispose=!0,this.disposables.forEach(e=>e())}schedulePersist(){this.debug("schedulePersist",this.scheduledPersistTimeout),!this.scheduledPersistTimeout&&(this.scheduledPersistTimeout=setTimeout(()=>{this.scheduledPersistTimeout=null,this.persistIfNeeded()},this.didLastWriteError?iRt:nRt))}persistIfNeeded(){this.debug("persistIfNeeded",{isPersisting:this.isPersisting,isReloading:this.isReloading,shouldDoFullDBWrite:this.shouldDoFullDBWrite,diffQueueLength:this.diffQueue.length,storeIsPossiblyCorrupt:this.store.isPossiblyCorrupted()}),this.scheduledPersistTimeout&&(clearTimeout(this.scheduledPersistTimeout),this.scheduledPersistTimeout=null),!this.isPersisting&&(this.isReloading||this.store.isPossiblyCorrupted()||(this.shouldDoFullDBWrite||this.diffQueue.length>0)&&this.doPersist())}async doPersist(){if(fr(!this.isPersisting,"persist already in progress"),this.didDispose)return;this.isPersisting=!0,this.debug("doPersist start");const e=this.diffQueue;this.diffQueue=[];try{if(this.shouldDoFullDBWrite)this.shouldDoFullDBWrite=!1,await this.db.storeSnapshot({schema:this.store.schema,snapshot:this.store.serialize(),sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()});else{const r=M5(e.filter(n=>n!==DCe));await this.db.storeChanges({changes:r,schema:this.store.schema,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()})}this.didLastWriteError=!1}catch(r){this.shouldDoFullDBWrite=!0,this.didLastWriteError=!0,console.error("failed to store changes in indexed db",r),tRt(),typeof window<"u"&&window.location.reload()}this.isPersisting=!1,this.debug("doPersist end"),this.schedulePersist()}}function oLe(t){const e=I.useRef(t),[r,n]=I.useState(t);r!==e.current&&n(e.current);const i=I.useCallback(a=>{typeof a=="function"?e.current=a(e.current):e.current=a,n(e.current)},[]);return[r,i]}function uRt(t){const[e,r]=oLe({status:"loading"});return t=om(t),I.useEffect(()=>{const{persistenceKey:n,sessionId:i,...a}=t;if(!n){r({status:"not-synced",store:YC(a)});return}r({status:"loading"});const o=new zl,s={upload:async(A,d)=>(await c.db.storeAsset(A.id,d),{src:A.id}),resolve:async A=>A.props.src?A.props.src.startsWith("asset:")?await o.get(A,async()=>{const d=await c.db.getAsset(A.id);return d?URL.createObjectURL(d):null}):A.props.src:null,...a.assets},l=YC({...a,assets:s});let u=!1;const c=new lRt(l,{sessionId:i,persistenceKey:n,onLoad(){u||r({store:l,status:"synced-local"})},onLoadError(A){u||r({status:"error",error:A})}});return()=>{u=!0,c.close()}},[t,r]),e}function cRt(){const t=we(),e=$i();I.useEffect(()=>{const r=a=>e.style.setProperty("--tl-zoom",a.toString()),n=l5(r,100),i=new nm("useZoomCss",()=>{t.getCurrentPageShapeIds().size<300?r(t.getZoomLevel()):n(t.getZoomLevel())});return i.attach(),i.execute(),()=>{i.detach(),n.cancel()}},[t,e])}function _4(t){const e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0,i=t.length;n<i;n++)r[n]=t.charCodeAt(n);return e}function ARt(t){const e=atob(t),r=_4(e);return crypto.subtle.importKey("spki",new Uint8Array(r),{name:"ECDSA",namedCurve:"P-256"},!0,["verify"])}const dRt=5,ty={ANNUAL_LICENSE:1,PERPETUAL_LICENSE:2,INTERNAL_LICENSE:4,WITH_WATERMARK:8},fRt=Math.max(...Object.values(ty)),ry={ID:0,HOSTS:1,FLAGS:2,EXPIRY_DATE:3},hRt=Object.keys(ry).length,iN="sales@tldraw.com",pRt=`${JA()}/watermarks/watermark-track.svg`;class MI{constructor(e,r,n){K(this,"publicKey","MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEHJh0uUfxHtCGyerXmmatE368Hd9rI6LH9oPDQihnaCryRFWEVeOvf9U/SPbyxX74LFyJs5tYeAHq5Nc0Ax25LQ");K(this,"isDevelopment");K(this,"isTest");K(this,"isCryptoAvailable");K(this,"state",pi("license state","pending"));K(this,"verbose",!0);this.isTest=!1,this.isDevelopment=this.getIsDevelopment(n),this.publicKey=r||this.publicKey,this.isCryptoAvailable=!!crypto.subtle,this.getLicenseFromKey(e).then(i=>{const a=gRt(i);!this.isDevelopment&&a&&Lu(pRt),a?this.state.set("unlicensed"):i.isLicensedWithWatermark?this.state.set("licensed-with-watermark"):this.state.set("licensed")})}getIsDevelopment(e){return e==="development"?!0:e==="production"?!1:window.location.protocol!=="https:"||window.location.hostname==="localhost"}async extractLicenseKey(e){const[r,n]=e.split("."),[i,a]=r.split("/");if(!i.startsWith("tldraw-"))throw new Error(`Unsupported prefix '${i}'`);const o=await ARt(this.publicKey);let s;try{s=await crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},o,new Uint8Array(_4(atob(n))),new Uint8Array(_4(atob(a))))}catch(u){throw console.error(u),new Error("Could not perform signature validation")}if(!s)throw new Error("Invalid signature");let l;try{l=JSON.parse(atob(a))}catch{throw new Error("Could not parse object")}return l.length>hRt&&this.outputMessages(["License key contains some unknown properties.","You may want to update tldraw packages to a newer version to get access to new functionality."]),{id:l[ry.ID],hosts:l[ry.HOSTS],flags:l[ry.FLAGS],expiryDate:l[ry.EXPIRY_DATE]}}async getLicenseFromKey(e){if(!e)return this.isDevelopment||this.outputNoLicenseKeyProvided(),{isLicenseParseable:!1,reason:"no-key-provided"};if(this.isDevelopment&&!this.isCryptoAvailable)return this.verbose&&(console.log("tldraw: you seem to be in a development environment that does not support crypto. License not verified."),console.log("You should check that this works in production separately.")),{isLicenseParseable:!1,reason:"has-key-development-mode"};let r=e.replace(/[\u200B-\u200D\uFEFF]/g,"");r=r.replace(/\r?\n|\r/g,"");try{const n=await this.extractLicenseKey(r),i=new Date(n.expiryDate),a=this.isFlagEnabled(n.flags,ty.ANNUAL_LICENSE),o=this.isFlagEnabled(n.flags,ty.PERPETUAL_LICENSE),s={license:n,isLicenseParseable:!0,isDevelopment:this.isDevelopment,isDomainValid:this.isDomainValid(n),expiryDate:i,isAnnualLicense:a,isAnnualLicenseExpired:a&&this.isAnnualLicenseExpired(i),isPerpetualLicense:o,isPerpetualLicenseExpired:o&&this.isPerpetualLicenseExpired(i),isInternalLicense:this.isFlagEnabled(n.flags,ty.INTERNAL_LICENSE),isLicensedWithWatermark:this.isFlagEnabled(n.flags,ty.WITH_WATERMARK)};return this.outputLicenseInfoIfNeeded(s),s}catch(n){return this.outputInvalidLicenseKey(n.message),{isLicenseParseable:!1,reason:"invalid-license-key"}}}isDomainValid(e){const r=window.location.hostname.toLowerCase();return e.hosts.some(n=>{const i=n.toLowerCase().trim();if(i===r||`www.${i}`===r||i===`www.${r}`||n==="*")return!0;if(n.includes("*")){const a=new RegExp(n.replace(/\*/g,".*?"));return a.test(r)||a.test(`www.${r}`)}return!1})}getExpirationDateWithoutGracePeriod(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}getExpirationDateWithGracePeriod(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+dRt+1)}isAnnualLicenseExpired(e){const r=this.getExpirationDateWithGracePeriod(e),n=new Date>=r;return!n&&new Date>=this.getExpirationDateWithoutGracePeriod(e)&&this.outputMessages(["tldraw license is about to expire, you are in a grace period.",`Please reach out to ${iN} if you would like to renew your license.`]),n}isPerpetualLicenseExpired(e){const r=this.getExpirationDateWithGracePeriod(e),n={major:new Date(Ire.major),minor:new Date(Ire.minor)};return n.major>=r||n.minor>=r}isFlagEnabled(e,r){return(e&r)===r}outputNoLicenseKeyProvided(){}outputInvalidLicenseKey(e){this.outputMessages(["Invalid tldraw license key",`Reason: ${e}`])}outputLicenseInfoIfNeeded(e){e.isAnnualLicenseExpired&&this.outputMessages(["Your tldraw license has expired!",`Please reach out to ${iN} to renew.`]),!e.isDomainValid&&!e.isDevelopment&&this.outputMessages(["This tldraw license key is not valid for this domain!",`Please reach out to ${iN} if you would like to use tldraw on other domains.`]),e.license.flags>=fRt*2&&this.outputMessages(["This tldraw license contains some unknown flags.","You may want to update tldraw packages to a newer version to get access to new functionality."])}outputMessages(e){if(!this.isTest&&this.verbose){this.outputDelimiter();for(const r of e)console.log(`%c${r}`,"color: white; background: crimson; padding: 2px; border-radius: 3px;");this.outputDelimiter()}}outputDelimiter(){console.log("%c-------------------------------------------------------------------","color: white; background: crimson; padding: 2px; border-radius: 3px;")}}K(MI,"className","tl-watermark_SEE-LICENSE");function gRt(t){if(!t.isLicenseParseable||!t.isDomainValid&&!t.isDevelopment)return!0;if(t.isPerpetualLicenseExpired||t.isAnnualLicenseExpired){if(t.isInternalLicense)throw new Error("License: Internal license expired.");return!0}return!1}const sLe=I.createContext({}),mRt=()=>I.useContext(sLe);function vRt({licenseKey:t,children:e}){const[r]=I.useState(()=>new MI(t));return y.jsx(sLe.Provider,{value:r,children:e})}function Ld(t){if(!t)throw Error("usePassThroughWheelEvents must be passed a ref");const e=$i();I.useEffect(()=>{function r(i){if(i.isSpecialRedispatchedEvent)return;const a=t.current;if(a&&a.scrollHeight>a.clientHeight)return;dr(i);const o=e.querySelector(".tl-canvas");if(!o)return;const s=new WheelEvent("wheel",i);s.isSpecialRedispatchedEvent=!0,o.dispatchEvent(s)}const n=t.current;if(n)return n.addEventListener("wheel",r,{passive:!1}),()=>{n.removeEventListener("wheel",r)}},[e,t])}const yRt='<svg xmlns="http://www.w3.org/2000/svg" width="3001" height="1000" fill="none"><path fill="#000" d="M590.656 300.449c0 49.706-40.294 90-90 90-49.705 0-90-40.294-90-90 0-49.705 40.295-90 90-90 49.706 0 90 40.295 90 90M569.431 719.011c-15.247 32.821-56.006 91.589-98.338 91.438-32.004-.115-38.642-30.904-17.414-50.856 17.381-16.337 28.246-48.075 31.995-72.719.415-2.728-1.556-5.197-4.272-5.679-39.666-7.04-70.746-40.877-70.746-83.417 0-48.23 38.983-87.329 87.07-87.329 39.936 0 70.172 22.237 83.369 52.397 18.839 43.055 7.117 115.733-11.664 156.165M2613.29 385.681V239.319c0-11.363 9.22-20.569 20.59-20.569h8.26c11.37 0 20.59 9.206 20.59 20.569v36.911c0 8.629 7 15.625 15.63 15.625h35.25c8.63 0 15.63-6.996 15.63-15.625v-36.911c0-11.363 9.22-20.569 20.59-20.569h8.17c11.37 0 20.59 9.206 20.59 20.569v146.362c0 11.363-9.22 20.569-20.59 20.569h-8.17c-11.37 0-20.59-9.206-20.59-20.569v-36.999c0-8.63-7-15.625-15.63-15.625h-35.25c-8.63 0-15.63 6.995-15.63 15.625v36.999c0 11.363-9.22 20.569-20.59 20.569h-8.26c-11.37 0-20.59-9.206-20.59-20.569M2391.97 239.319v146.362c0 11.348-9.16 20.569-20.49 20.569h-8.2c-11.33 0-20.49-9.221-20.49-20.569V239.319c0-11.348 9.16-20.569 20.49-20.569h8.2c11.33 0 20.49 9.221 20.49 20.569M2098.23 391.43l-42.69-146.361c-3.85-13.171 6.06-26.319 19.79-26.319h10.6c9.59 0 17.93 6.611 20.08 15.952l17.01 73.045c1.48 6.348 10.47 6.478 12.14.176l19.47-73.838c2.38-9.04 10.57-15.335 19.93-15.335h12.1c9.37 0 17.56 6.3 19.94 15.346l19.49 74.067c1.66 6.305 10.65 6.178 12.13-.171l17.09-73.294c2.15-9.339 10.49-15.948 20.08-15.948h10.53c13.72 0 23.63 13.141 19.79 26.31l-42.63 146.361c-2.56 8.789-10.63 14.829-19.79 14.829h-15.68c-9.12 0-17.16-5.98-19.76-14.709l-21.17-71.059c-1.77-5.948-10.19-5.957-11.97-.012l-21.33 71.071c-2.6 8.729-10.64 14.709-19.76 14.709h-15.59c-9.17 0-17.23-6.035-19.8-14.82M2443.23 218.75h118.59c11.38 0 20.62 9.195 20.62 20.557s-9.24 20.556-20.62 20.556h-24.79c-5.53 0-10 4.477-10 10v115.818c0 11.368-9.25 20.569-20.63 20.569h-7.65c-11.39 0-20.63-9.201-20.63-20.569V269.863c0-5.523-4.48-10-10-10h-24.89c-11.37 0-20.61-9.195-20.61-20.556s9.24-20.557 20.61-20.557M1174.15 218.75h24.64c8.35 0 15.88 5.042 19.04 12.764l34.61 83.942c2.13 5.161 9.44 5.155 11.56-.01l34.43-83.932a20.58 20.58 0 0 1 19.04-12.764h24.64c11.37 0 20.58 9.208 20.58 20.569v146.362c0 11.361-9.21 20.569-20.58 20.569h-7.09c-11.36 0-20.58-9.208-20.58-20.569l-.12-50.645c-.01-6.888-9.53-8.688-12.06-2.283l-23.46 59.332a20.57 20.57 0 0 1-19.14 13.009h-3.03a20.57 20.57 0 0 1-19.15-13.046l-23.47-59.68c-2.52-6.416-12.05-4.623-12.06 2.271l-.13 51.042c0 11.361-9.21 20.569-20.57 20.569h-7.1c-11.36 0-20.57-9.208-20.57-20.569V239.319c0-11.361 9.21-20.569 20.57-20.569"/><path fill="#000" fill-rule="evenodd" d="m1449.94 391.836 6.12-19.392a6.255 6.255 0 0 1 5.96-4.369l50.22-.061a6.24 6.24 0 0 1 5.96 4.348l6.23 19.486c2.71 8.581 10.71 14.402 19.74 14.402h9.34c14.13 0 24.15-13.791 19.61-27.151l-49.74-146.361c-2.85-8.37-10.74-13.988-19.61-13.988h-33.16c-8.87 0-16.77 5.618-19.61 13.988l-49.74 146.361c-4.54 13.36 5.48 27.151 19.61 27.151h9.32c9.04 0 17.04-5.827 19.75-14.414m31.1-98.858c1.85-5.807 10.08-5.796 11.91.016l8.83 27.916c1.28 4.028-1.73 8.134-5.96 8.134h-17.74c-4.23 0-7.24-4.119-5.95-8.151zM1681.81 406.25c18.91 0 35.39-3.686 49.36-11.168 13.97-7.544 24.73-18.394 32.24-32.489 7.56-14.105 11.29-30.866 11.29-50.182 0-19.256-3.73-35.957-11.29-50.004-7.57-14.094-18.35-24.912-32.32-32.397-13.91-7.545-30.4-11.26-49.37-11.26h-49.5c-11.38 0-20.63 9.201-20.63 20.569v146.362c0 11.368 9.25 20.569 20.63 20.569zm23.13-47.701c-6.62 3.215-14.85 4.886-24.79 4.886-10.49 0-19-8.507-19-19v-64.34c0-10.149 8.23-18.376 18.38-18.376 10.18 0 18.56 1.703 25.23 4.974 6.59 3.149 11.63 8.315 15.08 15.633 3.45 7.269 5.28 17.268 5.28 30.162 0 12.891-1.82 22.951-5.28 30.347-3.39 7.319-8.36 12.509-14.9 15.714" clip-rule="evenodd"/><path fill="#000" d="M1804.21 385.681V239.319c0-11.361 9.21-20.569 20.58-20.569h91.28c11.36 0 20.57 9.202 20.57 20.557s-9.21 20.556-20.57 20.556h-54.64a7.807 7.807 0 0 0-7.81 7.813v16.366a7.806 7.806 0 0 0 7.81 7.812h48.13c11.37 0 20.58 9.246 20.58 20.602s-9.21 20.601-20.58 20.601h-48.13a7.806 7.806 0 0 0-7.81 7.812v16.455a7.807 7.807 0 0 0 7.81 7.813h54.64c11.36 0 20.57 9.202 20.57 20.556s-9.21 20.557-20.57 20.557h-91.28c-11.37 0-20.58-9.208-20.58-20.569"/><path fill="#000" fill-rule="evenodd" d="M2875.5 68.75h-2750c-31.066 0-56.25 25.184-56.25 56.25v750c0 31.066 25.184 56.25 56.25 56.25h2750c31.07 0 56.25-25.184 56.25-56.25V125c0-31.066-25.18-56.25-56.25-56.25M125.5 0C56.464 0 .5 55.964.5 125v750c0 69.036 55.965 125 125 125h2750c69.04 0 125-55.964 125-125V125c0-69.036-55.96-125-125-125z" clip-rule="evenodd"/><path fill="#000" d="M2476.06 804.813c-10.54 0-19.82-6.947-22.81-17.068L2390.79 575.7c-4.49-15.248 6.92-30.534 22.8-30.534h27.75c11.1 0 20.72 7.686 23.18 18.52L2489 671.402c2.07 9.093 14.93 9.321 17.32.308l28.83-108.844c2.76-10.435 12.19-17.7 22.98-17.7h25.17c10.8 0 20.25 7.293 22.99 17.755l28.27 107.739c2.36 9.001 15.18 8.829 17.3-.232l25.01-106.888c2.51-10.763 12.1-18.374 23.14-18.374h27.87c15.88 0 27.29 15.286 22.8 30.534l-62.46 212.045a23.78 23.78 0 0 1-22.81 17.068h-32.12c-10.39 0-19.58-6.763-22.69-16.696l-32.08-102.694c-2.62-8.397-14.51-8.331-17.04.095l-30.74 102.346c-3.02 10.061-12.27 16.949-22.76 16.949zM1742.44 804.813h-75.81c-13.09 0-23.71-10.656-23.71-23.801V568.967c0-13.145 10.62-23.801 23.71-23.801h74.8c26.6 0 49.59 5.198 68.95 15.594 19.45 10.312 34.44 25.187 44.96 44.627 10.61 19.355 15.91 42.556 15.91 69.602q0 40.57-15.78 69.73c-10.53 19.355-25.43 34.231-44.71 44.627-19.28 10.311-42.05 15.467-68.32 15.467m-29.3-83.642c0 13.145 10.61 23.801 23.71 23.801h3.06c12.8 0 23.7-2.07 32.71-6.212 9.09-4.141 16-11.283 20.71-21.426q7.2-15.213 7.2-42.345 0-27.13-7.32-42.344c-4.8-10.143-11.87-17.285-21.22-21.426-9.26-4.142-20.63-6.212-34.1-6.212h-1.04c-13.1 0-23.71 10.656-23.71 23.801zM1460.86 804.813c-13.12 0-23.76-10.656-23.76-23.801V568.967c0-13.145 10.64-23.801 23.76-23.801h22.84c13.13 0 23.76 10.656 23.76 23.801v155.247c0 13.145 10.64 23.801 23.76 23.801h57.27c13.12 0 23.76 10.656 23.76 23.801v9.196c0 13.145-10.64 23.801-23.76 23.801zM1204.45 601.964c-13.13 0-23.77-10.656-23.77-23.801v-9.196c0-13.145 10.64-23.801 23.77-23.801h177.89c13.13 0 23.78 10.656 23.78 23.801v9.196c0 13.145-10.65 23.801-23.78 23.801h-39.38c-8.21 0-14.86 6.66-14.86 14.875v164.173c0 13.145-10.64 23.801-23.78 23.801h-21.85c-13.13 0-23.78-10.656-23.78-23.801V616.839c0-8.215-6.65-14.875-14.86-14.875z"/><path fill="#000" fill-rule="evenodd" d="M2223.05 787.891c-3.02 10.047-12.27 16.922-22.74 16.922h-25.43c-16.19 0-27.64-15.862-22.57-31.261l69.88-212.045c3.21-9.753 12.31-16.341 22.56-16.341h61.84c10.25 0 19.35 6.588 22.56 16.341l69.87 212.045c5.08 15.399-6.37 31.261-22.56 31.261h-25.43c-10.48 0-19.72-6.875-22.74-16.922l-6.7-22.2a14.84 14.84 0 0 0-14.21-10.576h-63.42c-6.55 0-12.32 4.296-14.22 10.576zm76.13-96.945-14.13-48.436c-2.46-8.451-14.36-8.602-17.04-.217l-15.46 48.436c-1.84 5.759 2.45 11.645 8.48 11.645h29.6c5.94 0 10.22-5.715 8.55-11.428" clip-rule="evenodd"/><path fill="#000" d="M1939.6 804.813c-13.13 0-23.77-10.656-23.77-23.801V568.967c0-13.145 10.64-23.801 23.77-23.801h88.13c19.24 0 36.08 3.508 50.51 10.523s25.65 17.115 33.67 30.3q12.03 19.779 12.03 47.416c0 18.595-4.14 34.273-12.41 47.036-7.64 11.913-18.18 21.101-31.63 27.564-16.98 8.159-36 11.104-54.7 11.104h-43.07c-76.56 0 4.08-135.84 4.08-84.706v7.996c0 12.117 9.81 21.941 21.91 21.941 8.12 0 16.3-.345 24.04-3.043 5.91-2.113 10.43-5.451 13.55-10.015 3.2-4.565 4.81-10.523 4.81-17.877 0-7.437-1.61-13.481-4.81-18.129-3.12-4.733-7.64-8.199-13.55-10.396-7.05-2.766-14.67-3.423-22.18-3.423-13.13 0-23.77 10.656-23.77 23.801v47.71c0 11.825 11.14 16.003 19.91 20.752 12.31 6.671 7.58 25.389-6.42 25.389-7.45 0-13.49 6.048-13.49 13.508v48.395c0 13.145-10.63 23.801-23.76 23.801zm134.89-106.758 5.41 9.95 33.51 61.622c8.62 15.86-2.84 35.186-20.87 35.186h-22.27c-8.74 0-16.77-4.798-20.92-12.496l-35.05-65.04a15.52 15.52 0 0 0-13.66-8.168c-42.24 0 40.62-82.154 73.85-21.054M931.652 0h68.748v1000h-68.748z"/></svg>',wRt='<svg xmlns="http://www.w3.org/2000/svg" width="400" height="1601" fill="none"><path fill="#000" d="M72 1319.8c0-10.73 7.071-20.18 17.372-23.22l215.823-63.62c15.519-4.57 31.078 7.05 31.078 23.22v28.26c0 11.31-7.824 21.1-18.85 23.61l-109.636 24.94c-9.254 2.1-9.487 15.2-.313 17.63l110.784 29.37a24.21 24.21 0 0 1 18.015 23.4v25.64c0 11-7.423 20.62-18.071 23.41l-109.659 28.79c-9.162 2.41-8.986 15.47.236 17.63l108.792 25.46c10.955 2.56 18.702 12.33 18.702 23.57v28.39c0 16.17-15.559 27.79-31.078 23.22l-215.823-63.62c-10.3-3.04-17.372-12.49-17.372-23.22v-32.72c0-10.59 6.883-19.95 16.994-23.11l104.523-32.67c8.547-2.67 8.479-14.79-.096-17.36l-104.17-31.3C79.01 1372.42 72 1363 72 1352.31zM72 572.638V495.43c0-13.336 10.846-24.147 24.225-24.147h215.823c13.379 0 24.225 10.811 24.225 24.147v76.179q0 40.645-15.872 70.228-15.743 29.712-45.422 45.79-29.55 16.206-70.843 16.206-41.292 0-70.971-16.078-29.55-16.077-45.422-45.532Q72 612.767 72 572.638m85.132-29.84c-13.379 0-24.225 10.81-24.225 24.146v3.122q0 19.55 6.323 33.313 6.323 13.89 21.807 21.094 15.485 7.332 43.099 7.331t43.1-7.46q15.484-7.33 21.807-21.608 6.323-14.15 6.323-34.728v-1.064c0-13.336-10.846-24.146-24.225-24.146zM72 285.858c0-13.363 10.846-24.197 24.225-24.197h215.823c13.379 0 24.225 10.834 24.225 24.197v23.27c0 13.364-10.846 24.197-24.225 24.197H154.035c-13.379 0-24.225 10.834-24.225 24.197v58.328c0 13.364-10.846 24.197-24.225 24.197h-9.36C82.845 440.047 72 429.214 72 415.85zM278.463 24.72c0-13.374 10.846-24.216 24.225-24.216h9.36c13.379 0 24.225 10.842 24.225 24.216v181.174c0 13.374-10.846 24.216-24.225 24.216h-9.36c-13.379 0-24.225-10.842-24.225-24.216v-40.108c0-8.359-6.779-15.135-15.141-15.135H96.225c-13.38 0-24.225-10.842-24.225-24.216v-22.256c0-13.374 10.846-24.216 24.225-24.216h167.097c8.362 0 15.141-6.776 15.141-15.135z"/><path fill="#000" fill-rule="evenodd" d="M89.224 1062.13C78.997 1059.04 72 1049.63 72 1038.96v-25.9c0-16.486 16.145-28.147 31.818-22.979l215.823 71.169a24.19 24.19 0 0 1 16.632 22.98v62.97c0 10.45-6.706 19.71-16.632 22.98l-215.823 71.17C88.145 1246.51 72 1234.86 72 1218.37v-25.9c0-10.67 6.997-20.08 17.224-23.17l22.595-6.81a15.13 15.13 0 0 0 10.765-14.48v-64.59a15.13 15.13 0 0 0-10.765-14.48zm98.672 77.53 49.299-14.39c8.601-2.51 8.755-14.62.22-17.35l-49.299-15.75c-5.861-1.88-11.852 2.49-11.852 8.64v30.14c0 6.05 5.817 10.41 11.632 8.71" clip-rule="evenodd"/><path fill="#000" d="M72 773.439c0-13.367 10.846-24.203 24.225-24.203h215.823c13.379 0 24.225 10.836 24.225 24.203v89.762q0 29.395-10.711 51.439-10.71 22.046-30.84 34.293t-48.261 12.248q-28.388 0-47.873-12.635-18.187-11.672-28.056-32.218c-8.303-17.289-11.301-36.661-11.301-55.705v-43.867c0-77.976 138.26 4.16 86.215 4.16h-8.138c-12.334 0-22.332 9.989-22.332 22.311 0 8.269.351 16.6 3.097 24.487q3.225 9.024 10.194 13.794 6.968 4.899 18.194 4.899 11.356 0 18.453-4.899 7.226-4.77 10.581-13.794c2.815-7.188 3.484-14.944 3.484-22.596 0-13.366-10.846-24.202-24.225-24.202h-48.56c-12.036 0-16.288 11.345-21.122 20.272-6.79 12.539-25.841 7.72-25.841-6.536 0-7.586-6.156-13.736-13.749-13.736H96.225C82.845 820.916 72 810.08 72 796.714zm108.66 137.378-10.128 5.511-62.72 34.131C91.67 959.243 72 947.569 72 929.205V906.52a24.2 24.2 0 0 1 12.719-21.299l66.199-35.696a15.82 15.82 0 0 0 8.313-13.921c0-43.012 83.618 41.371 21.429 75.213"/></svg>';function bRt(t){return Ce("watermarkState",()=>t.state.get(),[t])}const SRt=`data:image/svg+xml;utf8,${encodeURIComponent(yRt)}`,xRt=`data:image/svg+xml;utf8,${encodeURIComponent(wRt)}`,CRt=I.memo(function(){const e=mRt(),r=we(),n=Ce("is mobile",()=>r.getViewportScreenBounds().width<700,[r]),i=bRt(e);return["licensed-with-watermark","unlicensed"].includes(i)?y.jsxs(y.Fragment,{children:[y.jsx(ERt,{}),y.jsx(_Rt,{src:n?xRt:SRt})]}):null}),_Rt=I.memo(function({src:e}){const r=we(),n=Ce("debug mode",()=>r.getInstanceState().isDebugMode,[r]),i=Ce("is mobile",()=>r.getViewportScreenBounds().width<700,[r]),a=V5(),o=I.useRef(null);Ld(o);const s=`url('${e}') center 100% / 100% no-repeat`,l="https://tldraw.dev";return y.jsx("div",{ref:o,className:MI.className,"data-debug":n,"data-mobile":i,draggable:!1,...a,children:tn.isWebview?y.jsx("a",{draggable:!1,role:"button",onPointerDown:u=>{mi(u),dr(u)},onClick:()=>WE.openWindow(l,"_blank"),style:{mask:s,WebkitMask:s}}):y.jsx("a",{href:l,target:"_blank",rel:"noreferrer",draggable:!1,onPointerDown:u=>{mi(u)},style:{mask:s,WebkitMask:s}})})}),ERt=I.memo(function(){const e=MI.className,r=`/* ------------------- SEE LICENSE -------------------
The tldraw watermark is part of tldraw's license. It is shown for unlicensed
or "licensed-with-watermark" users. By using this library, you agree to
preserve the watermark's behavior, keeping it visible, unobscured, and
available to user-interaction.

To remove the watermark, please purchase a license at tldraw.dev.
*/

	.${e} {
		position: absolute;
		bottom: var(--space-2);
		right: var(--space-2);
		width: 96px;
		height: 32px;
		display: flex;
		align-items: center;
		justify-content: center;
		z-index: var(--layer-watermark) !important;
		background-color: color-mix(in srgb, var(--color-background) 62%, transparent);
		opacity: 1;
		border-radius: 5px;
		pointer-events: all;
		padding: 2px;
		box-sizing: content-box;
	}

	.${e} > a {
		position: absolute;
		width: 96px;
		height: 32px;
		pointer-events: all;
		cursor: inherit;
		color: var(--color-text);
		opacity: .38;
		background-color: currentColor;
	}

	.${e}[data-debug='true'] {
		bottom: 46px;
	}

	.${e}[data-mobile='true'] {
		border-radius: 4px 0px 0px 4px;
		right: -2px;
		width: 8px;
		height: 48px;
	}

	.${e}[data-mobile='true'] > a {
		width: 8px;
		height: 32px;
	}

	@media (hover: hover) {
		.${e} > a {
			pointer-events: none;
		}

		.${e}:hover {
			background-color: var(--color-background);
			transition: background-color 0.2s ease-in-out;
			transition-delay: 0.32s;
		}

		.${e}:hover > a {
			animation: delayed_link 0.2s forwards ease-in-out;
			animation-delay: 0.32s;
		}
	}

	@keyframes delayed_link {
		0% {
			cursor: inherit;
			opacity: .38;
			pointer-events: none;
		}
		100% {
			cursor: pointer;
			opacity: 1;
			pointer-events: all;
		}
	}`;return y.jsx("style",{children:r})}),IRt=[],BRt=[],PRt=[],TRt="tl-container",ORt=I.memo(function({store:e,components:r,className:n,user:i,options:a,...o}){const[s,l]=I.useState(null),u=I.useMemo(()=>i??_Me(),[i]),c=(r==null?void 0:r.ErrorFallback)===void 0?gMe:r==null?void 0:r.ErrorFallback,A={...o,shapeUtils:o.shapeUtils??IRt,bindingUtils:o.bindingUtils??BRt,tools:o.tools??PRt,components:r,options:om(a)};return y.jsx("div",{ref:l,"data-tldraw":q2e,draggable:!1,className:Mt(`${TRt} tl-theme__light`,n),onPointerDown:mi,tabIndex:-1,children:y.jsx(Iw,{fallback:c,onError:d=>u5(d,{tags:{origin:"react.tldraw-before-app"}}),children:s&&y.jsx(vRt,{licenseKey:o.licenseKey,children:y.jsx(V2e,{container:s,children:y.jsx(lSt,{overrides:r,children:e?e instanceof F5?y.jsx(uLe,{...A,store:e,user:u}):y.jsx(lLe,{...A,store:e,user:u}):y.jsx(RRt,{...A,store:e,user:u})})})})})})});function RRt(t){const{defaultName:e,snapshot:r,initialData:n,shapeUtils:i,bindingUtils:a,persistenceKey:o,sessionId:s,user:l,assets:u,migrations:c}=t,A=uRt({shapeUtils:i,bindingUtils:a,initialData:n,persistenceKey:o,sessionId:s,defaultName:e,snapshot:r,assets:u,migrations:c});return y.jsx(lLe,{...t,store:A,user:l})}const lLe=I.memo(function({store:e,user:r,...n}){const i=$i();I.useLayoutEffect(()=>{r.userPreferences.get().colorScheme==="dark"&&(i.classList.remove("tl-theme__light"),i.classList.add("tl-theme__dark"))},[i,r]);const{LoadingScreen:a}=Rn();switch(e.status){case"error":throw e.error;case"loading":return a?y.jsx(a,{}):null}return y.jsx(uLe,{...n,store:e.store,user:r})}),aN=()=>document.location.search.includes("tldraw_preserve_focus");function uLe({onMount:t,children:e,store:r,tools:n,shapeUtils:i,bindingUtils:a,user:o,initialState:s,autoFocus:l=!0,inferDarkMode:u,cameraOptions:c,options:A,licenseKey:d,deepLinks:f,isShapeHidden:p}){const{ErrorFallback:g}=Rn(),m=$i(),[w,b]=oLe(null),C=I.useRef(null),S=om(f===!0?{}:f),x=I.useRef({autoFocus:l&&!aN(),inferDarkMode:u,initialState:s,cameraOptions:c,deepLinks:S});I.useLayoutEffect(()=>{x.current={autoFocus:l&&!aN(),inferDarkMode:u,initialState:s,cameraOptions:c,deepLinks:S}},[l,u,s,c,S]),I.useLayoutEffect(()=>{const{autoFocus:T,inferDarkMode:R,initialState:P,cameraOptions:M,deepLinks:U}=x.current,F=new ht({store:r,shapeUtils:i,bindingUtils:a,tools:n,getContainer:()=>m,user:o,initialState:P,autoFocus:T,inferDarkMode:R,cameraOptions:M,options:A,licenseKey:d,isShapeHidden:p});return F.updateViewportScreenBounds(C.current??m),U&&(U!=null&&U.getUrl?F.navigateToDeepLink({...U,url:U.getUrl(F)}):F.navigateToDeepLink(U)),b(F),()=>{F.dispose()}},[a,m,A,i,r,n,o,b,d,p]),I.useLayoutEffect(()=>{if(w&&S)return w.registerDeepLinkListener(S)},[w,S]),I.useLayoutEffect(()=>{w&&c&&w.setCameraOptions(c)},[w,c]);const _=I.useSyncExternalStore(I.useCallback(T=>w?(w.on("crash",T),()=>w.off("crash",T)):()=>{},[w]),()=>(w==null?void 0:w.getCrashingError())??null);I.useEffect(function(){if(!w)return;function R(){w&&w.focus()}function P(){w&&w.blur()}if(l&&aN())return w.getContainer().addEventListener("pointerdown",R),document.body.addEventListener("pointerdown",P),()=>{var M;(M=w.getContainer())==null||M.removeEventListener("pointerdown",R),document.body.removeEventListener("pointerdown",P)}},[w,l]);const{Canvas:B}=Rn();return w?y.jsx(Iw,{fallback:g,onError:T=>w.annotateError(T,{origin:"react.tldraw",willCrashApp:!0}),children:_?y.jsx(FRt,{crashingError:_}):y.jsx(W5,{editor:w,children:y.jsxs(MRt,{onMount:t,children:[e??(B?y.jsx(B,{},w.contextId):null),y.jsx(CRt,{})]})})}):y.jsx("div",{className:"tl-canvas",ref:C})}function MRt({children:t,onMount:e}){return cRt(),VOt(),YOt(),XOt(),ALe(r=>{const n=r.store.props.onMount(r),i=e==null?void 0:e(r);return()=>{n==null||n(),i==null||i()}}),t}function FRt({crashingError:t}){throw t}function Wq({children:t}){return y.jsx("div",{className:"tl-loading",children:t})}function cLe({children:t}){return y.jsx("div",{className:"tl-loading",children:t})}function ALe(t){const e=we(),r=II(n=>{let i;return n.run(()=>{i=t==null?void 0:t(n),n.emit("mount")},{history:"ignore"}),window.tldrawReady=!0,i});ce.useLayoutEffect(()=>{if(e)return r==null?void 0:r(e)},[e,r])}function sd({children:t,className:e="",...r}){return y.jsx("div",{...r,className:Mt("tl-html-container",e),children:t})}class Nx{constructor(e){this.editor=e}}K(Nx,"props"),K(Nx,"migrations"),K(Nx,"type");function FI(t,e,r={}){const{newPoint:n,handle:i,scaleX:a,scaleY:o}=e,{minWidth:s=1,maxWidth:l=1/0,minHeight:u=1,maxHeight:c=1/0}=r;let A=t.props.w*a,d=t.props.h*o;const f=new k(0,0);if(A>0){if(A<s){switch(i){case"top_left":case"left":case"bottom_left":{f.x=A-s;break}case"top":case"bottom":{f.x=(A-s)/2;break}default:f.x=0}A=s}}else if(f.x=A,A=-A,A<s){switch(i){case"top_left":case"left":case"bottom_left":{f.x=-A;break}default:f.x=-s}A=s}if(d>0){if(d<u){switch(i){case"top_left":case"top":case"top_right":{f.y=d-u;break}case"right":case"left":{f.y=(d-u)/2;break}default:f.y=0}d=u}}else if(f.y=d,d=-d,d<u){switch(i){case"top_left":case"top":case"top_right":{f.y=-d;break}default:f.y=-u}d=u}const{x:p,y:g}=f.rot(t.rotation).add(n);return{...t,x:p,y:g,props:{w:Math.min(l,A),h:Math.min(c,d)}}}class ym extends Ul{getGeometry(e){return new Qu({width:e.props.w,height:e.props.h,isFilled:!0})}onResize(e,r){return FI(e,r)}getHandleSnapGeometry(e){return{points:this.getGeometry(e).bounds.cornersAndCenter}}getInterpolatedProps(e,r,n){return{...r.props,w:wr(e.props.w,r.props.w,n),h:wr(e.props.h,r.props.h,n)}}}var ON;let kRt=(ON=class extends Pt{onPointerDown(e){this.parent.transition("pointing",e)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onCancel(){this.editor.setCurrentTool("select")}},K(ON,"id","idle"),ON);var RN;let URt=(RN=class extends Pt{onPointerMove(e){if(this.editor.inputs.isDragging){const{originPagePoint:r}=this.editor.inputs,n=this.parent.shapeType,i=an(),a=this.editor.markHistoryStoppingPoint(`creating_box:${i}`),o=Ll(r,this.editor);this.editor.createShapes([{id:i,type:n,x:o.x,y:o.y,props:{w:1,h:1}}]).select(i);const s=this.parent;this.editor.setCurrentTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creatingMarkId:a,creationCursorOffset:{x:1,y:1},onInteractionEnd:this.parent.id,onCreate:s.onCreate?l=>{var u;return(u=s.onCreate)==null?void 0:u.call(s,l)}:void 0})}}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.cancel()}complete(){const{originPagePoint:e}=this.editor.inputs,r=this.parent.shapeType,n=an();this.editor.markHistoryStoppingPoint(`creating_box:${n}`),this.editor.createShapes([{id:n,type:r,x:e.x,y:e.y}]);const i=this.editor.getShape(n);if(!i){this.cancel();return}let{w:a,h:o}=i.props;const s=new k(a/2,o/2),l=this.editor.getShapeParentTransform(i);l&&s.rot(-l.rotation());let u=1;this.editor.user.getIsDynamicResizeMode()&&(u=1/this.editor.getZoomLevel(),a*=u,o*=u,s.mul(u));const c=On(i),A=Ll(new k(i.x-s.x,i.y-s.y),this.editor);c.x=A.x,c.y=A.y,c.props.w=a,c.props.h=o,"scale"in i.props&&(c.props.scale=u),this.editor.updateShape(c),this.editor.setSelectedShapes([n]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select.idle")}cancel(){this.parent.transition("idle")}},K(RN,"id","pointing"),RN);function Ll(t,e){const r=e.getInstanceState().isGridMode,n=e.getDocumentSettings().gridSize;return r?t.clone().snapToGrid(n):t.clone()}class E4 extends Pt{static children(){return[kRt,URt]}}K(E4,"id","box"),K(E4,"initial","idle");function DRt(t,e,r){const n=I.useRef(!1),i=I.useCallback(o=>{n.current=o,o?Il.addOpenMenu(t):Il.deleteOpenMenu(t),e==null||e(o)},[t,e]),a=Ce("is menu open",()=>Il.getOpenMenus().includes(t),[t]);return I.useEffect(()=>(n.current&&(r==null||r("open-menu"),Il.addOpenMenu(t)),()=>{n.current&&(Il.deleteOpenMenu(t),Il.getOpenMenus().forEach(o=>{o.startsWith(t)&&(r==null||r("close-menu"),Il.deleteOpenMenu(o))}),n.current=!1)}),[t,r]),[a,i]}function kI(t){const e=we();return Ce("isEditing",()=>e.getEditingShapeId()===t,[e,t])}function wu(t){const e=we();return I.useMemo(function(){const i=u=>{if(u.isKilled)return;if(u.button===G5){e.dispatch({type:"pointer",target:"selection",handle:t,name:"right_click",...ls(u)});return}if(u.button!==0)return;const c=WC(u.currentTarget);function A(){c.removeEventListener("pointerup",A),wb(c,u)}yb(c,u),c.addEventListener("pointerup",A),e.dispatch({name:"pointer_down",type:"pointer",target:"selection",handle:t,...ls(u)}),mi(u)};let a,o;function s(u){u.isKilled||u.button===0&&(u.clientX===a&&u.clientY===o||(a=u.clientX,o=u.clientY,e.dispatch({name:"pointer_move",type:"pointer",target:"selection",handle:t,...ls(u)})))}return{onPointerDown:i,onPointerMove:s,onPointerUp:u=>{u.isKilled||u.button===0&&e.dispatch({name:"pointer_up",type:"pointer",target:"selection",handle:t,...ls(u)})}}},[e,t])}function jRt(t){const[e,r]=I.useState(()=>({store:YC(t),opts:t}));if(!eRe(e.opts,t)){const n={store:YC(t),opts:t};return r(n),n.store}return e.store}const LRt=20,NRt=8;function Gq(t,e=LRt){return Math.max(NRt,Math.ceil(t/e))}class Lp extends Md{constructor(r){super({...r,isFilled:!1,isClosed:!1});K(this,"_center");K(this,"radius");K(this,"start");K(this,"end");K(this,"largeArcFlag");K(this,"sweepFlag");K(this,"measure");K(this,"angleStart");K(this,"angleEnd");const{center:n,sweepFlag:i,largeArcFlag:a,start:o,end:s}=r;if(o.equals(s))throw Error("Arc must have different start and end points.");this.angleStart=k.Angle(n,o),this.angleEnd=k.Angle(n,s),this.radius=k.Dist(n,o),this.measure=ovt(this.angleStart,this.angleEnd,i,a),this.start=o,this.end=s,this.sweepFlag=i,this.largeArcFlag=a,this._center=n}nearestPoint(r){const{_center:n,measure:i,radius:a,angleEnd:o,angleStart:s,start:l,end:u}=this,c=o4(i,s,o,n.angle(r));if(c<=0)return l;if(c>=1)return u;const A=n.clone().add(r.clone().sub(n).uni().mul(a));let d,f=1/0,p;for(const g of[l,u,A])p=k.Dist2(r,g),p<f&&(d=g,f=p);if(!d)throw Error("nearest point not found");return d}hitTestLineSegment(r,n){const{_center:i,radius:a,measure:o,angleStart:s,angleEnd:l}=this,u=Mb(r,n,i,a);return u===null?!1:u.some(c=>{const A=o4(o,s,l,i.angle(c));return A>=0&&A<=1})}getVertices(){const{_center:r,measure:n,length:i,radius:a,angleStart:o}=this,s=[];for(let l=0,u=Gq(Math.abs(i));l<u+1;l++){const c=l/u*n,A=o+c;s.push(Hf(r,a,A))}return s}getSvgPathData(r=!0){const{start:n,end:i,radius:a,largeArcFlag:o,sweepFlag:s}=this;return`${r?`M${n.toFixed()}`:""} A${a} ${a} 0 ${o} ${s} ${i.toFixed()}`}getLength(){return this.measure*this.radius}}class Vq extends Md{constructor(r){super({isClosed:!0,...r});K(this,"_center");K(this,"radius");K(this,"x");K(this,"y");this.config=r;const{x:n=0,y:i=0,radius:a}=r;this.x=n,this.y=i,this._center=new k(a+n,a+i),this.radius=a}getBounds(){return new Ze(this.x,this.y,this.radius*2,this.radius*2)}getVertices(){const{_center:r,radius:n}=this,i=nn*n,a=[];for(let o=0,s=Gq(i);o<s;o++){const l=o/s*nn;a.push(Hf(r,n,l))}return a}nearestPoint(r){const{_center:n,radius:i}=this;return n.equals(r)?k.AddXY(n,i,0):n.clone().add(r.clone().sub(n).uni().mul(i))}hitTestLineSegment(r,n,i=0){const{_center:a,radius:o}=this;return Mb(r,n,a,o+i)!==null}getSvgPathData(){const{_center:r,radius:n}=this;return`M${r.x+n},${r.y} a${n},${n} 0 1,0 ${n*2},0a${n},${n} 0 1,0 -${n*2},0`}}class La extends gm{constructor(r){const{start:n,cp1:i,cp2:a,end:o}=r;super({...r,points:[n,o]});K(this,"a");K(this,"b");K(this,"c");K(this,"d");this.a=n,this.b=i,this.c=a,this.d=o}getVertices(){const r=[],{a:n,b:i,c:a,d:o}=this;for(let s=0,l=10;s<=l;s++){const u=s/l;r.push(new k((1-u)*(1-u)*(1-u)*n.x+3*((1-u)*(1-u))*u*i.x+3*(1-u)*(u*u)*a.x+u*u*u*o.x,(1-u)*(1-u)*(1-u)*n.y+3*((1-u)*(1-u))*u*i.y+3*(1-u)*(u*u)*a.y+u*u*u*o.y))}return r}midPoint(){return La.GetAtT(this,.5)}nearestPoint(r){let n,i=1/0,a,o;for(const s of this.segments)o=s.nearestPoint(r),a=k.Dist2(o,r),a<i&&(n=o,i=a);if(!n)throw Error("nearest point not found");return n}getSvgPathData(r=!0){const{a:n,b:i,c:a,d:o}=this;return`${r?`M ${n.toFixed()} `:""} C${i.toFixed()} ${a.toFixed()} ${o.toFixed()}`}static GetAtT(r,n){const{a:i,b:a,c:o,d:s}=r;return new k((1-n)*(1-n)*(1-n)*i.x+3*((1-n)*(1-n))*n*a.x+3*(1-n)*(n*n)*o.x+n*n*n*s.x,(1-n)*(1-n)*(1-n)*i.y+3*((1-n)*(1-n))*n*a.y+3*(1-n)*(n*n)*o.y+n*n*n*s.y)}getLength(r=32){let n,i=this.a,a=0;for(let o=1;o<=r;o++)n=La.GetAtT(this,o/r),a+=k.Dist(i,n),i=n;return a}}class $Rt extends Md{constructor(r){super({...r,isClosed:!1,isFilled:!1});K(this,"points");K(this,"_segments");const{points:n}=r;this.points=n}get segments(){if(!this._segments){this._segments=[];const{points:r}=this,n=r.length,i=n-2,a=1.25;for(let o=0;o<n-1;o++){const s=o===0?r[0]:r[o-1],l=r[o],u=r[o+1],c=o===i?u:r[o+2],A=l,d=o===0?s:new k(l.x+(u.x-s.x)/6*a,l.y+(u.y-s.y)/6*a),f=o===i?u:new k(u.x-(c.x-l.x)/6*a,u.y-(c.y-l.y)/6*a),p=u;this._segments.push(new La({start:A,cp1:d,cp2:f,end:p}))}}return this._segments}getLength(){return this.segments.reduce((r,n)=>r+n.length,0)}getVertices(){const r=this.segments.reduce((n,i)=>n.concat(i.vertices),[]);return r.push(this.points[this.points.length-1]),r}nearestPoint(r){let n,i=1/0,a,o;for(const s of this.segments)o=s.nearestPoint(r),a=k.Dist2(o,r),a<i&&(n=o,i=a);if(!n)throw Error("nearest point not found");return n}hitTestLineSegment(r,n){return this.segments.some(i=>i.hitTestLineSegment(r,n))}getSvgPathData(){let r=this.segments.reduce((n,i,a)=>n+i.getSvgPathData(a===0),"");return this.isClosed&&(r+="Z"),r}}class QRt extends Md{constructor(r){super({...r,isClosed:!0});K(this,"w");K(this,"h");K(this,"_edges");this.config=r;const{width:n,height:i}=r;this.w=n,this.h=i}get edges(){if(!this._edges){const{vertices:r}=this;this._edges=[];for(let n=0,i=r.length;n<i;n++){const a=r[n],o=r[(n+1)%i];this._edges.push(new Fc({start:a,end:o}))}}return this._edges}getVertices(){const r=Math.max(1,this.w),n=Math.max(1,this.h),i=r/2,a=n/2,o=Math.pow(i-a,2)/Math.pow(i+a,2),s=Or*(i+a)*(1+3*o/(10+Math.sqrt(4-3*o))),l=Gq(s),u=nn/l,c=Math.cos(u),A=Math.sin(u);let d=0,f=1,p=0,g=1;const m=Array(l);for(let w=0;w<l;w++)m[w]=new k(i+i*f,a+a*d),p=A*f+c*d,g=c*f-A*d,d=p,f=g;return m}nearestPoint(r){let n,i=1/0,a,o;for(const s of this.edges)o=s.nearestPoint(r),a=k.Dist2(o,r),a<i&&(n=o,i=a);if(!n)throw Error("nearest point not found");return n}hitTestLineSegment(r,n){return this.edges.some(i=>i.hitTestLineSegment(r,n))}getBounds(){return new Ze(0,0,this.w,this.h)}getLength(){const{w:r,h:n}=this,i=r/2,a=n/2,o=Math.max(0,i),s=Math.max(0,a);return KRe(o,s)}getSvgPathData(r=!1){const{w:n,h:i}=this,a=n/2,o=i/2,s=Math.max(0,a),l=Math.max(0,o);return`${r?`M${a-s},${o}`:""} a${s},${l},0,1,1,${s*2},0a${s},${l},0,1,1,-${s*2},0`}}class HRt extends Md{constructor(r){super({...r,isClosed:!0});K(this,"w");K(this,"h");K(this,"a");K(this,"b");K(this,"c");K(this,"d");this.config=r;const{width:n,height:i}=r;if(this.w=n,this.h=i,i>n){const a=n/2;this.a=new Lp({start:new k(0,a),end:new k(n,a),center:new k(n/2,a),sweepFlag:1,largeArcFlag:1}),this.b=new Fc({start:new k(n,a),end:new k(n,i-a)}),this.c=new Lp({start:new k(n,i-a),end:new k(0,i-a),center:new k(n/2,i-a),sweepFlag:1,largeArcFlag:1}),this.d=new Fc({start:new k(0,i-a),end:new k(0,a)})}else{const a=i/2;this.a=new Lp({start:new k(a,i),end:new k(a,0),center:new k(a,a),sweepFlag:1,largeArcFlag:1}),this.b=new Fc({start:new k(a,0),end:new k(n-a,0)}),this.c=new Lp({start:new k(n-a,0),end:new k(n-a,i),center:new k(n-a,a),sweepFlag:1,largeArcFlag:1}),this.d=new Fc({start:new k(n-a,i),end:new k(a,i)})}}nearestPoint(r){let n,i=1/0,a,o;const{a:s,b:l,c:u,d:c}=this;for(const A of[s,l,u,c])o=A.nearestPoint(r),a=k.Dist2(o,r),a<i&&(n=o,i=a);if(!n)throw Error("nearest point not found");return n}hitTestLineSegment(r,n){const{a:i,b:a,c:o,d:s}=this;return[i,a,o,s].some(l=>l.hitTestLineSegment(r,n))}getVertices(){const{a:r,b:n,c:i,d:a}=this;return[r,n,i,a].reduce((o,s)=>(o.push(...s.vertices),o),[])}getBounds(){return new Ze(0,0,this.w,this.h)}getLength(){const{h:r,w:n}=this;return r>n?(Or*(n/2)+(r-n))*2:(Or*(r/2)+(n-r))*2}getSvgPathData(){const{a:r,b:n,c:i,d:a}=this;return[r,n,i,a].map((o,s)=>o.getSvgPathData(s===0)).join(" ")+" Z"}}async function qRt({shouldReload:t=!0}={}){ymt();for(const e of FC.connectedInstances)await e.close();await Promise.all(R5().map(e=>JRe(e))),vmt(),t&&window.location.reload()}typeof window<"u"&&(window.__tldraw__hardReset=qRt);function KRt(t,e="_blank"){WE.openWindow(t,e)}Id("@tldraw/editor","3.9.0","esm");function dLe(){const[t,e]=I.useState(!1);return I.useEffect(()=>{if(typeof window>"u"||!("matchMedia"in window))return;const r=window.matchMedia("(prefers-reduced-motion: reduce)"),n=()=>{e(r.matches)};return n(),r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),t}const fLe=()=>{},hLe=I.createContext(null);function zRt({onEvent:t,children:e}){return y.jsx(hLe.Provider,{value:t??fLe,children:e})}function xa(){return I.useContext(hLe)??fLe}function Et(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function WRt(t,e){const r=I.createContext(e),n=a=>{const{children:o,...s}=a,l=I.useMemo(()=>s,Object.values(s));return y.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=I.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function ic(t,e=[]){let r=[];function n(a,o){const s=I.createContext(o),l=r.length;r=[...r,o];const u=A=>{var w;const{scope:d,children:f,...p}=A,g=((w=d==null?void 0:d[t])==null?void 0:w[l])||s,m=I.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:m,children:f})};u.displayName=a+"Provider";function c(A,d){var g;const f=((g=d==null?void 0:d[t])==null?void 0:g[l])||s,p=I.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${A}\` must be used within \`${a}\``)}return[u,c]}const i=()=>{const a=r.map(o=>I.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return I.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,GRt(i,...e)]}function GRt(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const A=l(a)[`__scope${u}`];return{...s,...A}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function jCe(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UI(...t){return e=>{let r=!1;const n=t.map(i=>{const a=jCe(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():jCe(t[i],null)}}}}function Sn(...t){return I.useCallback(UI(...t),t)}var Gf=I.forwardRef((t,e)=>{const{children:r,...n}=t,i=I.Children.toArray(r),a=i.find(YRt);if(a){const o=a.props.children,s=i.map(l=>l===a?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return y.jsx(I4,{...n,ref:e,children:I.isValidElement(o)?I.cloneElement(o,void 0,s):null})}return y.jsx(I4,{...n,ref:e,children:r})});Gf.displayName="Slot";var I4=I.forwardRef((t,e)=>{const{children:r,...n}=t;if(I.isValidElement(r)){const i=JRt(r),a=XRt(n,r.props);return r.type!==I.Fragment&&(a.ref=e?UI(e,i):i),I.cloneElement(r,a)}return I.Children.count(r)>1?I.Children.only(null):null});I4.displayName="SlotClone";var VRt=({children:t})=>y.jsx(y.Fragment,{children:t});function YRt(t){return I.isValidElement(t)&&t.type===VRt}function XRt(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{a(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function JRt(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var ZRt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rr=ZRt.reduce((t,e)=>{const r=I.forwardRef((n,i)=>{const{asChild:a,...o}=n,s=a?Gf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(s,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Yq(t,e){t&&rh.flushSync(()=>t.dispatchEvent(e))}function DI(t){const e=t+"CollectionProvider",[r,n]=ic(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:p,children:g}=f,m=ce.useRef(null),w=ce.useRef(new Map).current;return y.jsx(i,{scope:p,itemMap:w,collectionRef:m,children:g})};o.displayName=e;const s=t+"CollectionSlot",l=ce.forwardRef((f,p)=>{const{scope:g,children:m}=f,w=a(s,g),b=Sn(p,w.collectionRef);return y.jsx(Gf,{ref:b,children:m})});l.displayName=s;const u=t+"CollectionItemSlot",c="data-radix-collection-item",A=ce.forwardRef((f,p)=>{const{scope:g,children:m,...w}=f,b=ce.useRef(null),C=Sn(p,b),S=a(u,g);return ce.useEffect(()=>(S.itemMap.set(b,{ref:b,...w}),()=>void S.itemMap.delete(b))),y.jsx(Gf,{[c]:"",ref:C,children:m})});A.displayName=u;function d(f){const p=a(t+"CollectionConsumer",f);return ce.useCallback(()=>{const m=p.collectionRef.current;if(!m)return[];const w=Array.from(m.querySelectorAll(`[${c}]`));return Array.from(p.itemMap.values()).sort((S,x)=>w.indexOf(S.ref.current)-w.indexOf(x.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:l,ItemSlot:A},d,n]}var e2t=I.createContext(void 0);function Xq(t){const e=I.useContext(e2t);return t||e||"ltr"}function va(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function t2t(t,e=globalThis==null?void 0:globalThis.document){const r=va(t);I.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var r2t="DismissableLayer",B4="dismissableLayer.update",n2t="dismissableLayer.pointerDownOutside",i2t="dismissableLayer.focusOutside",LCe,pLe=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lb=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,u=I.useContext(pLe),[c,A]=I.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=I.useState({}),p=Sn(e,B=>A(B)),g=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(m),b=c?g.indexOf(c):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=w,x=o2t(B=>{const T=B.target,R=[...u.branches].some(P=>P.contains(T));!S||R||(i==null||i(B),o==null||o(B),B.defaultPrevented||s==null||s())},d),_=s2t(B=>{const T=B.target;[...u.branches].some(P=>P.contains(T))||(a==null||a(B),o==null||o(B),B.defaultPrevented||s==null||s())},d);return t2t(B=>{b===u.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&s&&(B.preventDefault(),s()))},d),I.useEffect(()=>{if(c)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(LCe=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),NCe(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=LCe)}},[c,d,r,u]),I.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),NCe())},[c,u]),I.useEffect(()=>{const B=()=>f({});return document.addEventListener(B4,B),()=>document.removeEventListener(B4,B)},[]),y.jsx(Rr.div,{...l,ref:p,style:{pointerEvents:C?S?"auto":"none":void 0,...t.style},onFocusCapture:Et(t.onFocusCapture,_.onFocusCapture),onBlurCapture:Et(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Et(t.onPointerDownCapture,x.onPointerDownCapture)})});Lb.displayName=r2t;var a2t="DismissableLayerBranch",gLe=I.forwardRef((t,e)=>{const r=I.useContext(pLe),n=I.useRef(null),i=Sn(e,n);return I.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),y.jsx(Rr.div,{...t,ref:i})});gLe.displayName=a2t;function o2t(t,e=globalThis==null?void 0:globalThis.document){const r=va(t),n=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){mLe(n2t,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function s2t(t,e=globalThis==null?void 0:globalThis.document){const r=va(t),n=I.useRef(!1);return I.useEffect(()=>{const i=a=>{a.target&&!n.current&&mLe(i2t,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NCe(){const t=new CustomEvent(B4);document.dispatchEvent(t)}function mLe(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Yq(i,a):i.dispatchEvent(a)}var l2t=Lb,u2t=gLe,oN=0;function Jq(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$Ce()),document.body.insertAdjacentElement("beforeend",t[1]??$Ce()),oN++,()=>{oN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),oN--}},[])}function $Ce(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sN="focusScope.autoFocusOnMount",lN="focusScope.autoFocusOnUnmount",QCe={bubbles:!1,cancelable:!0},c2t="FocusScope",jI=I.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=I.useState(null),u=va(i),c=va(a),A=I.useRef(null),d=Sn(e,g=>l(g)),f=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let g=function(C){if(f.paused||!s)return;const S=C.target;s.contains(S)?A.current=S:NA(A.current,{select:!0})},m=function(C){if(f.paused||!s)return;const S=C.relatedTarget;S!==null&&(s.contains(S)||NA(A.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const x of C)x.removedNodes.length>0&&NA(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",m);const b=new MutationObserver(w);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",m),b.disconnect()}}},[n,s,f.paused]),I.useEffect(()=>{if(s){qCe.add(f);const g=document.activeElement;if(!s.contains(g)){const w=new CustomEvent(sN,QCe);s.addEventListener(sN,u),s.dispatchEvent(w),w.defaultPrevented||(A2t(g2t(vLe(s)),{select:!0}),document.activeElement===g&&NA(s))}return()=>{s.removeEventListener(sN,u),setTimeout(()=>{const w=new CustomEvent(lN,QCe);s.addEventListener(lN,c),s.dispatchEvent(w),w.defaultPrevented||NA(g??document.body,{select:!0}),s.removeEventListener(lN,c),qCe.remove(f)},0)}}},[s,u,c,f]);const p=I.useCallback(g=>{if(!r&&!n||f.paused)return;const m=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(m&&w){const b=g.currentTarget,[C,S]=d2t(b);C&&S?!g.shiftKey&&w===S?(g.preventDefault(),r&&NA(C,{select:!0})):g.shiftKey&&w===C&&(g.preventDefault(),r&&NA(S,{select:!0})):w===b&&g.preventDefault()}},[r,n,f.paused]);return y.jsx(Rr.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});jI.displayName=c2t;function A2t(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(NA(n,{select:e}),document.activeElement!==r)return}function d2t(t){const e=vLe(t),r=HCe(e,t),n=HCe(e.reverse(),t);return[r,n]}function vLe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function HCe(t,e){for(const r of t)if(!f2t(r,{upTo:e}))return r}function f2t(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function h2t(t){return t instanceof HTMLInputElement&&"select"in t}function NA(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&h2t(t)&&e&&t.select()}}var qCe=p2t();function p2t(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=KCe(t,e),t.unshift(e)},remove(e){var r;t=KCe(t,e),(r=t[0])==null||r.resume()}}}function KCe(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function g2t(t){return t.filter(e=>e.tagName!=="A")}var gd=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},m2t=h1.useId||(()=>{}),v2t=0;function Hc(t){const[e,r]=I.useState(m2t());return gd(()=>{t||r(n=>n??String(v2t++))},[t]),t||(e?`radix-${e}`:"")}const y2t=["top","right","bottom","left"],md=Math.min,ns=Math.max,XC=Math.round,ex=Math.floor,Uu=t=>({x:t,y:t}),w2t={left:"right",right:"left",bottom:"top",top:"bottom"},b2t={start:"end",end:"start"};function P4(t,e,r){return ns(t,md(e,r))}function Jc(t,e){return typeof t=="function"?t(e):t}function Zc(t){return t.split("-")[0]}function wm(t){return t.split("-")[1]}function Zq(t){return t==="x"?"y":"x"}function e6(t){return t==="y"?"height":"width"}function vd(t){return["top","bottom"].includes(Zc(t))?"y":"x"}function t6(t){return Zq(vd(t))}function S2t(t,e,r){r===void 0&&(r=!1);const n=wm(t),i=t6(t),a=e6(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=JC(o)),[o,JC(o)]}function x2t(t){const e=JC(t);return[T4(t),e,T4(e)]}function T4(t){return t.replace(/start|end/g,e=>b2t[e])}function C2t(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function _2t(t,e,r,n){const i=wm(t);let a=C2t(Zc(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(T4)))),a}function JC(t){return t.replace(/left|right|bottom|top/g,e=>w2t[e])}function E2t(t){return{top:0,right:0,bottom:0,left:0,...t}}function yLe(t){return typeof t!="number"?E2t(t):{top:t,right:t,bottom:t,left:t}}function ZC(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function zCe(t,e,r){let{reference:n,floating:i}=t;const a=vd(e),o=t6(e),s=e6(o),l=Zc(e),u=a==="y",c=n.x+n.width/2-i.width/2,A=n.y+n.height/2-i.height/2,d=n[s]/2-i[s]/2;let f;switch(l){case"top":f={x:c,y:n.y-i.height};break;case"bottom":f={x:c,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:A};break;case"left":f={x:n.x-i.width,y:A};break;default:f={x:n.x,y:n.y}}switch(wm(e)){case"start":f[o]-=d*(r&&u?-1:1);break;case"end":f[o]+=d*(r&&u?-1:1);break}return f}const I2t=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:A}=zCe(u,n,l),d=n,f={},p=0;for(let g=0;g<s.length;g++){const{name:m,fn:w}=s[g],{x:b,y:C,data:S,reset:x}=await w({x:c,y:A,initialPlacement:n,placement:d,strategy:i,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});c=b??c,A=C??A,f={...f,[m]:{...f[m],...S}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(u=x.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:c,y:A}=zCe(u,d,l)),g=-1)}return{x:c,y:A,placement:d,strategy:i,middlewareData:f}};async function Bw(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:A="floating",altBoundary:d=!1,padding:f=0}=Jc(e,t),p=yLe(f),m=s[d?A==="floating"?"reference":"floating":A],w=ZC(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(m)))==null||r?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),b=A==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},x=ZC(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:C,strategy:l}):b);return{top:(w.top-x.top+p.top)/S.y,bottom:(x.bottom-w.bottom+p.bottom)/S.y,left:(w.left-x.left+p.left)/S.x,right:(x.right-w.right+p.right)/S.x}}const B2t=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:u,padding:c=0}=Jc(t,e)||{};if(u==null)return{};const A=yLe(c),d={x:r,y:n},f=t6(i),p=e6(f),g=await o.getDimensions(u),m=f==="y",w=m?"top":"left",b=m?"bottom":"right",C=m?"clientHeight":"clientWidth",S=a.reference[p]+a.reference[f]-d[f]-a.floating[p],x=d[f]-a.reference[f],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let B=_?_[C]:0;(!B||!await(o.isElement==null?void 0:o.isElement(_)))&&(B=s.floating[C]||a.floating[p]);const T=S/2-x/2,R=B/2-g[p]/2-1,P=md(A[w],R),M=md(A[b],R),U=P,F=B-g[p]-M,j=B/2-g[p]/2+T,L=P4(U,j,F),$=!l.arrow&&wm(i)!=null&&j!==L&&a.reference[p]/2-(j<U?P:M)-g[p]/2<0,Q=$?j<U?j-U:j-F:0;return{[f]:d[f]+Q,data:{[f]:L,centerOffset:j-L-Q,...$&&{alignmentOffset:Q}},reset:$}}}),P2t=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:A=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Jc(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=Zc(i),b=vd(s),C=Zc(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),x=d||(C||!g?[JC(s)]:x2t(s)),_=p!=="none";!d&&_&&x.push(..._2t(s,g,p,S));const B=[s,...x],T=await Bw(e,m),R=[];let P=((n=a.flip)==null?void 0:n.overflows)||[];if(c&&R.push(T[w]),A){const j=S2t(i,o,S);R.push(T[j[0]],T[j[1]])}if(P=[...P,{placement:i,overflows:R}],!R.every(j=>j<=0)){var M,U;const j=(((M=a.flip)==null?void 0:M.index)||0)+1,L=B[j];if(L)return{data:{index:j,overflows:P},reset:{placement:L}};let $=(U=P.filter(Q=>Q.overflows[0]<=0).sort((Q,H)=>Q.overflows[1]-H.overflows[1])[0])==null?void 0:U.placement;if(!$)switch(f){case"bestFit":{var F;const Q=(F=P.filter(H=>{if(_){const q=vd(H.placement);return q===b||q==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(q=>q>0).reduce((q,Y)=>q+Y,0)]).sort((H,q)=>H[1]-q[1])[0])==null?void 0:F[0];Q&&($=Q);break}case"initialPlacement":$=s;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function WCe(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GCe(t){return y2t.some(e=>t[e]>=0)}const T2t=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Jc(t,e);switch(n){case"referenceHidden":{const a=await Bw(e,{...i,elementContext:"reference"}),o=WCe(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:GCe(o)}}}case"escaped":{const a=await Bw(e,{...i,altBoundary:!0}),o=WCe(a,r.floating);return{data:{escapedOffsets:o,escaped:GCe(o)}}}default:return{}}}}};async function O2t(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Zc(r),s=wm(r),l=vd(r)==="y",u=["left","top"].includes(o)?-1:1,c=a&&l?-1:1,A=Jc(e,t);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return s&&typeof p=="number"&&(f=s==="end"?p*-1:p),l?{x:f*c,y:d*u}:{x:d*u,y:f*c}}const R2t=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await O2t(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},M2t=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:m=>{let{x:w,y:b}=m;return{x:w,y:b}}},...l}=Jc(t,e),u={x:r,y:n},c=await Bw(e,l),A=vd(Zc(i)),d=Zq(A);let f=u[d],p=u[A];if(a){const m=d==="y"?"top":"left",w=d==="y"?"bottom":"right",b=f+c[m],C=f-c[w];f=P4(b,f,C)}if(o){const m=A==="y"?"top":"left",w=A==="y"?"bottom":"right",b=p+c[m],C=p-c[w];p=P4(b,p,C)}const g=s.fn({...e,[d]:f,[A]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[d]:a,[A]:o}}}}}},F2t=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Jc(t,e),c={x:r,y:n},A=vd(i),d=Zq(A);let f=c[d],p=c[A];const g=Jc(s,e),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const C=d==="y"?"height":"width",S=a.reference[d]-a.floating[C]+m.mainAxis,x=a.reference[d]+a.reference[C]-m.mainAxis;f<S?f=S:f>x&&(f=x)}if(u){var w,b;const C=d==="y"?"width":"height",S=["top","left"].includes(Zc(i)),x=a.reference[A]-a.floating[C]+(S&&((w=o.offset)==null?void 0:w[A])||0)+(S?0:m.crossAxis),_=a.reference[A]+a.reference[C]+(S?0:((b=o.offset)==null?void 0:b[A])||0)-(S?m.crossAxis:0);p<x?p=x:p>_&&(p=_)}return{[d]:f,[A]:p}}}},k2t=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...u}=Jc(t,e),c=await Bw(e,u),A=Zc(i),d=wm(i),f=vd(i)==="y",{width:p,height:g}=a.floating;let m,w;A==="top"||A==="bottom"?(m=A,w=d===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(w=A,m=d==="end"?"top":"bottom");const b=g-c.top-c.bottom,C=p-c.left-c.right,S=md(g-c[m],b),x=md(p-c[w],C),_=!e.middlewareData.shift;let B=S,T=x;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=C),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(B=b),_&&!d){const P=ns(c.left,0),M=ns(c.right,0),U=ns(c.top,0),F=ns(c.bottom,0);f?T=p-2*(P!==0||M!==0?P+M:ns(c.left,c.right)):B=g-2*(U!==0||F!==0?U+F:ns(c.top,c.bottom))}await l({...e,availableWidth:T,availableHeight:B});const R=await o.getDimensions(s.floating);return p!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function LI(){return typeof window<"u"}function bm(t){return wLe(t)?(t.nodeName||"").toLowerCase():"#document"}function hs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ac(t){var e;return(e=(wLe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wLe(t){return LI()?t instanceof Node||t instanceof hs(t).Node:!1}function Nl(t){return LI()?t instanceof Element||t instanceof hs(t).Element:!1}function Hu(t){return LI()?t instanceof HTMLElement||t instanceof hs(t).HTMLElement:!1}function VCe(t){return!LI()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hs(t).ShadowRoot}function Nb(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=$l(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function U2t(t){return["table","td","th"].includes(bm(t))}function NI(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function r6(t){const e=n6(),r=Nl(t)?$l(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function D2t(t){let e=yd(t);for(;Hu(e)&&!Pg(e);){if(r6(e))return e;if(NI(e))return null;e=yd(e)}return null}function n6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pg(t){return["html","body","#document"].includes(bm(t))}function $l(t){return hs(t).getComputedStyle(t)}function $I(t){return Nl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yd(t){if(bm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VCe(t)&&t.host||ac(t);return VCe(e)?e.host:e}function bLe(t){const e=yd(t);return Pg(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hu(e)&&Nb(e)?e:bLe(e)}function Pw(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=bLe(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=hs(i);if(a){const s=O4(o);return e.concat(o,o.visualViewport||[],Nb(i)?i:[],s&&r?Pw(s):[])}return e.concat(i,Pw(i,[],r))}function O4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SLe(t){const e=$l(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Hu(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=XC(r)!==a||XC(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function i6(t){return Nl(t)?t:t.contextElement}function Zp(t){const e=i6(t);if(!Hu(e))return Uu(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=SLe(e);let o=(a?XC(r.width):r.width)/n,s=(a?XC(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const j2t=Uu(0);function xLe(t){const e=hs(t);return!n6()||!e.visualViewport?j2t:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function L2t(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==hs(t)?!1:e}function Vf(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=i6(t);let o=Uu(1);e&&(n?Nl(n)&&(o=Zp(n)):o=Zp(t));const s=L2t(a,r,n)?xLe(a):Uu(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,c=i.width/o.x,A=i.height/o.y;if(a){const d=hs(a),f=n&&Nl(n)?hs(n):n;let p=d,g=O4(p);for(;g&&n&&f!==p;){const m=Zp(g),w=g.getBoundingClientRect(),b=$l(g),C=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,S=w.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,A*=m.y,l+=C,u+=S,p=hs(g),g=O4(p)}}return ZC({width:c,height:A,x:l,y:u})}function a6(t,e){const r=$I(t).scrollLeft;return e?e.left+r:Vf(ac(t)).left+r}function CLe(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:a6(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function N2t(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=ac(n),s=e?NI(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},u=Uu(1);const c=Uu(0),A=Hu(n);if((A||!A&&!a)&&((bm(n)!=="body"||Nb(o))&&(l=$I(n)),Hu(n))){const f=Vf(n);u=Zp(n),c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}const d=o&&!A&&!a?CLe(o,l,!0):Uu(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:r.y*u.y-l.scrollTop*u.y+c.y+d.y}}function $2t(t){return Array.from(t.getClientRects())}function Q2t(t){const e=ac(t),r=$I(t),n=t.ownerDocument.body,i=ns(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=ns(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+a6(t);const s=-r.scrollTop;return $l(n).direction==="rtl"&&(o+=ns(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function H2t(t,e){const r=hs(t),n=ac(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const u=n6();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function q2t(t,e){const r=Vf(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Hu(t)?Zp(t):Uu(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:o,height:s,x:l,y:u}}function YCe(t,e,r){let n;if(e==="viewport")n=H2t(t,r);else if(e==="document")n=Q2t(ac(t));else if(Nl(e))n=q2t(e,r);else{const i=xLe(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ZC(n)}function _Le(t,e){const r=yd(t);return r===e||!Nl(r)||Pg(r)?!1:$l(r).position==="fixed"||_Le(r,e)}function K2t(t,e){const r=e.get(t);if(r)return r;let n=Pw(t,[],!1).filter(s=>Nl(s)&&bm(s)!=="body"),i=null;const a=$l(t).position==="fixed";let o=a?yd(t):t;for(;Nl(o)&&!Pg(o);){const s=$l(o),l=r6(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Nb(o)&&!l&&_Le(t,o))?n=n.filter(c=>c!==o):i=s,o=yd(o)}return e.set(t,n),n}function z2t(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?NI(e)?[]:K2t(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,c)=>{const A=YCe(e,c,i);return u.top=ns(A.top,u.top),u.right=md(A.right,u.right),u.bottom=md(A.bottom,u.bottom),u.left=ns(A.left,u.left),u},YCe(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function W2t(t){const{width:e,height:r}=SLe(t);return{width:e,height:r}}function G2t(t,e,r){const n=Hu(e),i=ac(e),a=r==="fixed",o=Vf(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=Uu(0);if(n||!n&&!a)if((bm(e)!=="body"||Nb(i))&&(s=$I(e)),n){const d=Vf(e,!0,a,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=a6(i));const u=i&&!n&&!a?CLe(i,s):Uu(0),c=o.left+s.scrollLeft-l.x-u.x,A=o.top+s.scrollTop-l.y-u.y;return{x:c,y:A,width:o.width,height:o.height}}function uN(t){return $l(t).position==="static"}function XCe(t,e){if(!Hu(t)||$l(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ac(t)===r&&(r=r.ownerDocument.body),r}function ELe(t,e){const r=hs(t);if(NI(t))return r;if(!Hu(t)){let i=yd(t);for(;i&&!Pg(i);){if(Nl(i)&&!uN(i))return i;i=yd(i)}return r}let n=XCe(t,e);for(;n&&U2t(n)&&uN(n);)n=XCe(n,e);return n&&Pg(n)&&uN(n)&&!r6(n)?r:n||D2t(t)||r}const V2t=async function(t){const e=this.getOffsetParent||ELe,r=this.getDimensions,n=await r(t.floating);return{reference:G2t(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Y2t(t){return $l(t).direction==="rtl"}const X2t={convertOffsetParentRelativeRectToViewportRelativeRect:N2t,getDocumentElement:ac,getClippingRect:z2t,getOffsetParent:ELe,getElementRects:V2t,getClientRects:$2t,getDimensions:W2t,getScale:Zp,isElement:Nl,isRTL:Y2t};function ILe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function J2t(t,e){let r=null,n;const i=ac(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:c,top:A,width:d,height:f}=u;if(s||e(),!d||!f)return;const p=ex(A),g=ex(i.clientWidth-(c+d)),m=ex(i.clientHeight-(A+f)),w=ex(c),C={rootMargin:-p+"px "+-g+"px "+-m+"px "+-w+"px",threshold:ns(0,md(1,l))||1};let S=!0;function x(_){const B=_[0].intersectionRatio;if(B!==l){if(!S)return o();B?o(!1,B):n=setTimeout(()=>{o(!1,1e-7)},1e3)}B===1&&!ILe(u,t.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(x,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(x,C)}r.observe(t)}return o(!0),a}function Z2t(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=i6(t),c=i||a?[...u?Pw(u):[],...Pw(e)]:[];c.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const A=u&&s?J2t(u,r):null;let d=-1,f=null;o&&(f=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=f)==null||C.observe(e)})),r()}),u&&!l&&f.observe(u),f.observe(e));let p,g=l?Vf(t):null;l&&m();function m(){const w=Vf(t);g&&!ILe(g,w)&&r(),g=w,p=requestAnimationFrame(m)}return r(),()=>{var w;c.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),A==null||A(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const eMt=R2t,tMt=M2t,rMt=P2t,nMt=k2t,iMt=T2t,JCe=B2t,aMt=F2t,oMt=(t,e,r)=>{const n=new Map,i={platform:X2t,...r},a={...i.platform,_c:n};return I2t(t,e,{...i,platform:a})};var $x=typeof document<"u"?I.useLayoutEffect:I.useEffect;function e_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!e_(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!e_(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function BLe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZCe(t,e){const r=BLe(t);return Math.round(e*r)/r}function cN(t){const e=I.useRef(t);return $x(()=>{e.current=t}),e}function sMt(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=t,[c,A]=I.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=I.useState(n);e_(d,n)||f(n);const[p,g]=I.useState(null),[m,w]=I.useState(null),b=I.useCallback(H=>{H!==_.current&&(_.current=H,g(H))},[]),C=I.useCallback(H=>{H!==B.current&&(B.current=H,w(H))},[]),S=a||p,x=o||m,_=I.useRef(null),B=I.useRef(null),T=I.useRef(c),R=l!=null,P=cN(l),M=cN(i),U=cN(u),F=I.useCallback(()=>{if(!_.current||!B.current)return;const H={placement:e,strategy:r,middleware:d};M.current&&(H.platform=M.current),oMt(_.current,B.current,H).then(q=>{const Y={...q,isPositioned:U.current!==!1};j.current&&!e_(T.current,Y)&&(T.current=Y,rh.flushSync(()=>{A(Y)}))})},[d,e,r,M,U]);$x(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,A(H=>({...H,isPositioned:!1})))},[u]);const j=I.useRef(!1);$x(()=>(j.current=!0,()=>{j.current=!1}),[]),$x(()=>{if(S&&(_.current=S),x&&(B.current=x),S&&x){if(P.current)return P.current(S,x,F);F()}},[S,x,F,P,R]);const L=I.useMemo(()=>({reference:_,floating:B,setReference:b,setFloating:C}),[b,C]),$=I.useMemo(()=>({reference:S,floating:x}),[S,x]),Q=I.useMemo(()=>{const H={position:r,left:0,top:0};if(!$.floating)return H;const q=ZCe($.floating,c.x),Y=ZCe($.floating,c.y);return s?{...H,transform:"translate("+q+"px, "+Y+"px)",...BLe($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:Y}},[r,s,$.floating,c.x,c.y]);return I.useMemo(()=>({...c,update:F,refs:L,elements:$,floatingStyles:Q}),[c,F,L,$,Q])}const lMt=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?JCe({element:n.current,padding:i}).fn(r):{}:n?JCe({element:n,padding:i}).fn(r):{}}}},uMt=(t,e)=>({...eMt(t),options:[t,e]}),cMt=(t,e)=>({...tMt(t),options:[t,e]}),AMt=(t,e)=>({...aMt(t),options:[t,e]}),dMt=(t,e)=>({...rMt(t),options:[t,e]}),fMt=(t,e)=>({...nMt(t),options:[t,e]}),hMt=(t,e)=>({...iMt(t),options:[t,e]}),pMt=(t,e)=>({...lMt(t),options:[t,e]});var gMt="Arrow",PLe=I.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return y.jsx(Rr.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});PLe.displayName=gMt;var mMt=PLe;function TLe(t){const[e,r]=I.useState(void 0);return gd(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var o6="Popper",[OLe,QI]=ic(o6),[vMt,RLe]=OLe(o6),MLe=t=>{const{__scopePopper:e,children:r}=t,[n,i]=I.useState(null);return y.jsx(vMt,{scope:e,anchor:n,onAnchorChange:i,children:r})};MLe.displayName=o6;var FLe="PopperAnchor",kLe=I.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=RLe(FLe,r),o=I.useRef(null),s=Sn(e,o);return I.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:y.jsx(Rr.div,{...i,ref:s})});kLe.displayName=FLe;var s6="PopperContent",[yMt,wMt]=OLe(s6),ULe=I.forwardRef((t,e)=>{var de,oe,re,se,he,ae;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:A="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=t,m=RLe(s6,r),[w,b]=I.useState(null),C=Sn(e,Ee=>b(Ee)),[S,x]=I.useState(null),_=TLe(S),B=(_==null?void 0:_.width)??0,T=(_==null?void 0:_.height)??0,R=n+(a!=="center"?"-"+a:""),P=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},M=Array.isArray(u)?u:[u],U=M.length>0,F={padding:P,boundary:M.filter(SMt),altBoundary:U},{refs:j,floatingStyles:L,placement:$,isPositioned:Q,middlewareData:H}=sMt({strategy:"fixed",placement:R,whileElementsMounted:(...Ee)=>Z2t(...Ee,{animationFrame:f==="always"}),elements:{reference:m.anchor},middleware:[uMt({mainAxis:i+T,alignmentAxis:o}),l&&cMt({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?AMt():void 0,...F}),l&&dMt({...F}),fMt({...F,apply:({elements:Ee,rects:Oe,availableWidth:Ne,availableHeight:De})=>{const{width:Le,height:st}=Oe.reference,ut=Ee.floating.style;ut.setProperty("--radix-popper-available-width",`${Ne}px`),ut.setProperty("--radix-popper-available-height",`${De}px`),ut.setProperty("--radix-popper-anchor-width",`${Le}px`),ut.setProperty("--radix-popper-anchor-height",`${st}px`)}}),S&&pMt({element:S,padding:s}),xMt({arrowWidth:B,arrowHeight:T}),d&&hMt({strategy:"referenceHidden",...F})]}),[q,Y]=LLe($),z=va(p);gd(()=>{Q&&(z==null||z())},[Q,z]);const V=(de=H.arrow)==null?void 0:de.x,X=(oe=H.arrow)==null?void 0:oe.y,ee=((re=H.arrow)==null?void 0:re.centerOffset)!==0,[J,le]=I.useState();return gd(()=>{w&&le(window.getComputedStyle(w).zIndex)},[w]),y.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:Q?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(se=H.transformOrigin)==null?void 0:se.x,(he=H.transformOrigin)==null?void 0:he.y].join(" "),...((ae=H.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(yMt,{scope:r,placedSide:q,onArrowChange:x,arrowX:V,arrowY:X,shouldHideArrow:ee,children:y.jsx(Rr.div,{"data-side":q,"data-align":Y,...g,ref:C,style:{...g.style,animation:Q?void 0:"none"}})})})});ULe.displayName=s6;var DLe="PopperArrow",bMt={top:"bottom",right:"left",bottom:"top",left:"right"},jLe=I.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=wMt(DLe,n),o=bMt[a.placedSide];return y.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:y.jsx(mMt,{...i,ref:r,style:{...i.style,display:"block"}})})});jLe.displayName=DLe;function SMt(t){return t!==null}var xMt=t=>({name:"transformOrigin",options:t,fn(e){var m,w,b;const{placement:r,rects:n,middlewareData:i}=e,o=((m=i.arrow)==null?void 0:m.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,c]=LLe(r),A={start:"0%",center:"50%",end:"100%"}[c],d=(((w=i.arrow)==null?void 0:w.x)??0)+s/2,f=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let p="",g="";return u==="bottom"?(p=o?A:`${d}px`,g=`${-l}px`):u==="top"?(p=o?A:`${d}px`,g=`${n.floating.height+l}px`):u==="right"?(p=`${-l}px`,g=o?A:`${f}px`):u==="left"&&(p=`${n.floating.width+l}px`,g=o?A:`${f}px`),{data:{x:p,y:g}}}});function LLe(t){const[e,r="center"]=t.split("-");return[e,r]}var l6=MLe,u6=kLe,NLe=ULe,$Le=jLe,CMt="Portal",$b=I.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=I.useState(!1);gd(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?jv.createPortal(y.jsx(Rr.div,{...n,ref:e}),o):null});$b.displayName=CMt;function _Mt(t,e){return I.useReducer((r,n)=>e[r][n]??r,t)}var eu=t=>{const{present:e,children:r}=t,n=EMt(e),i=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),a=Sn(n.ref,IMt(i));return typeof r=="function"||n.isPresent?I.cloneElement(i,{ref:a}):null};eu.displayName="Presence";function EMt(t){const[e,r]=I.useState(),n=I.useRef({}),i=I.useRef(t),a=I.useRef("none"),o=t?"mounted":"unmounted",[s,l]=_Mt(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const u=tx(n.current);a.current=s==="mounted"?u:"none"},[s]),gd(()=>{const u=n.current,c=i.current;if(c!==t){const d=a.current,f=tx(u);t?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),gd(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,A=f=>{const g=tx(n.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!i.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},d=f=>{f.target===e&&(a.current=tx(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",A),e.addEventListener("animationend",A),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",A),e.removeEventListener("animationend",A)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:I.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function tx(t){return(t==null?void 0:t.animationName)||"none"}function IMt(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Nd({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=BMt({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,s=va(r),l=I.useCallback(u=>{if(a){const A=typeof u=="function"?u(t):u;A!==t&&s(A)}else i(u)},[a,t,i,s]);return[o,l]}function BMt({defaultProp:t,onChange:e}){const r=I.useState(t),[n]=r,i=I.useRef(n),a=va(e);return I.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var AN="rovingFocusGroup.onEntryFocus",PMt={bubbles:!1,cancelable:!0},HI="RovingFocusGroup",[R4,QLe,TMt]=DI(HI),[OMt,HLe]=ic(HI,[TMt]),[RMt,MMt]=OMt(HI),qLe=I.forwardRef((t,e)=>y.jsx(R4.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(R4.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(FMt,{...t,ref:e})})}));qLe.displayName=HI;var FMt=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...A}=t,d=I.useRef(null),f=Sn(e,d),p=Xq(a),[g=null,m]=Nd({prop:o,defaultProp:s,onChange:l}),[w,b]=I.useState(!1),C=va(u),S=QLe(r),x=I.useRef(!1),[_,B]=I.useState(0);return I.useEffect(()=>{const T=d.current;if(T)return T.addEventListener(AN,C),()=>T.removeEventListener(AN,C)},[C]),y.jsx(RMt,{scope:r,orientation:n,dir:p,loop:i,currentTabStopId:g,onItemFocus:I.useCallback(T=>m(T),[m]),onItemShiftTab:I.useCallback(()=>b(!0),[]),onFocusableItemAdd:I.useCallback(()=>B(T=>T+1),[]),onFocusableItemRemove:I.useCallback(()=>B(T=>T-1),[]),children:y.jsx(Rr.div,{tabIndex:w||_===0?-1:0,"data-orientation":n,...A,ref:f,style:{outline:"none",...t.style},onMouseDown:Et(t.onMouseDown,()=>{x.current=!0}),onFocus:Et(t.onFocus,T=>{const R=!x.current;if(T.target===T.currentTarget&&R&&!w){const P=new CustomEvent(AN,PMt);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=S().filter($=>$.focusable),U=M.find($=>$.active),F=M.find($=>$.id===g),L=[U,F,...M].filter(Boolean).map($=>$.ref.current);WLe(L,c)}}x.current=!1}),onBlur:Et(t.onBlur,()=>b(!1))})})}),KLe="RovingFocusGroupItem",zLe=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=t,s=Hc(),l=a||s,u=MMt(KLe,r),c=u.currentTabStopId===l,A=QLe(r),{onFocusableItemAdd:d,onFocusableItemRemove:f}=u;return I.useEffect(()=>{if(n)return d(),()=>f()},[n,d,f]),y.jsx(R4.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:y.jsx(Rr.span,{tabIndex:c?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Et(t.onMouseDown,p=>{n?u.onItemFocus(l):p.preventDefault()}),onFocus:Et(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Et(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=DMt(p,u.orientation,u.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=A().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const b=w.indexOf(p.currentTarget);w=u.loop?jMt(w,b+1):w.slice(b+1)}setTimeout(()=>WLe(w))}})})})});zLe.displayName=KLe;var kMt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UMt(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function DMt(t,e,r){const n=UMt(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return kMt[n]}function WLe(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function jMt(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var LMt=qLe,NMt=zLe,$Mt=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vp=new WeakMap,rx=new WeakMap,nx={},dN=0,GLe=function(t){return t&&(t.host||GLe(t.parentNode))},QMt=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=GLe(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},HMt=function(t,e,r,n){var i=QMt(e,Array.isArray(t)?t:[t]);nx[r]||(nx[r]=new WeakMap);var a=nx[r],o=[],s=new Set,l=new Set(i),u=function(A){!A||s.has(A)||(s.add(A),u(A.parentNode))};i.forEach(u);var c=function(A){!A||l.has(A)||Array.prototype.forEach.call(A.children,function(d){if(s.has(d))c(d);else try{var f=d.getAttribute(n),p=f!==null&&f!=="false",g=(vp.get(d)||0)+1,m=(a.get(d)||0)+1;vp.set(d,g),a.set(d,m),o.push(d),g===1&&p&&rx.set(d,!0),m===1&&d.setAttribute(r,"true"),p||d.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",d,w)}})};return c(e),s.clear(),dN++,function(){o.forEach(function(A){var d=vp.get(A)-1,f=a.get(A)-1;vp.set(A,d),a.set(A,f),d||(rx.has(A)||A.removeAttribute(n),rx.delete(A)),f||A.removeAttribute(r)}),dN--,dN||(vp=new WeakMap,vp=new WeakMap,rx=new WeakMap,nx={})}},c6=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=$Mt(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),HMt(n,i,r,"aria-hidden")):function(){return null}},_u=function(){return _u=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_u.apply(this,arguments)};function VLe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function qMt(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Qx="right-scroll-bar-position",Hx="width-before-scroll-bar",KMt="with-scroll-bars-hidden",zMt="--removed-body-scroll-bar-size";function fN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function WMt(t,e){var r=I.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var GMt=typeof window<"u"?I.useLayoutEffect:I.useEffect,e_e=new WeakMap;function VMt(t,e){var r=WMt(null,function(n){return t.forEach(function(i){return fN(i,n)})});return GMt(function(){var n=e_e.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||fN(s,null)}),a.forEach(function(s){i.has(s)||fN(s,o)})}e_e.set(r,t)},[t]),r}function YMt(t){return t}function XMt(t,e){e===void 0&&(e=YMt);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var c=o;o=[],c.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),r}}}};return i}function JMt(t){t===void 0&&(t={});var e=XMt(null);return e.options=_u({async:!0,ssr:!1},t),e}var YLe=function(t){var e=t.sideCar,r=VLe(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,_u({},r))};YLe.isSideCarExport=!0;function ZMt(t,e){return t.useMedium(e),YLe}var XLe=JMt(),hN=function(){},qI=I.forwardRef(function(t,e){var r=I.useRef(null),n=I.useState({onScrollCapture:hN,onWheelCapture:hN,onTouchMoveCapture:hN}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,A=t.shards,d=t.sideCar,f=t.noIsolation,p=t.inert,g=t.allowPinchZoom,m=t.as,w=m===void 0?"div":m,b=t.gapMode,C=VLe(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=d,x=VMt([r,e]),_=_u(_u({},C),i);return I.createElement(I.Fragment,null,c&&I.createElement(S,{sideCar:XLe,removeScrollBar:u,shards:A,noIsolation:f,inert:p,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?I.cloneElement(I.Children.only(s),_u(_u({},_),{ref:x})):I.createElement(w,_u({},_,{className:l,ref:x}),s))});qI.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qI.classNames={fullWidth:Hx,zeroRight:Qx};var eFt=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tFt(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eFt();return e&&t.setAttribute("nonce",e),t}function rFt(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nFt(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iFt=function(){var t=0,e=null;return{add:function(r){t==0&&(e=tFt())&&(rFt(e,r),nFt(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aFt=function(){var t=iFt();return function(e,r){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},JLe=function(){var t=aFt(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},oFt={left:0,top:0,right:0,gap:0},pN=function(t){return parseInt(t||"",10)||0},sFt=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[pN(r),pN(n),pN(i)]},lFt=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return oFt;var e=sFt(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},uFt=JLe(),eg="data-scroll-locked",cFt=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(KMt,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(eg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qx,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Hx,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Qx," .").concat(Qx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hx," .").concat(Hx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(eg,`] {
    `).concat(zMt,": ").concat(s,`px;
  }
`)},t_e=function(){var t=parseInt(document.body.getAttribute(eg)||"0",10);return isFinite(t)?t:0},AFt=function(){I.useEffect(function(){return document.body.setAttribute(eg,(t_e()+1).toString()),function(){var t=t_e()-1;t<=0?document.body.removeAttribute(eg):document.body.setAttribute(eg,t.toString())}},[])},dFt=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;AFt();var a=I.useMemo(function(){return lFt(i)},[i]);return I.createElement(uFt,{styles:cFt(a,!e,i,r?"":"!important")})},M4=!1;if(typeof window<"u")try{var ix=Object.defineProperty({},"passive",{get:function(){return M4=!0,!0}});window.addEventListener("test",ix,ix),window.removeEventListener("test",ix,ix)}catch{M4=!1}var yp=M4?{passive:!1}:!1,fFt=function(t){return t.tagName==="TEXTAREA"},ZLe=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!fFt(t)&&r[e]==="visible")},hFt=function(t){return ZLe(t,"overflowY")},pFt=function(t){return ZLe(t,"overflowX")},r_e=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=eNe(t,n);if(i){var a=tNe(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gFt=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},mFt=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},eNe=function(t,e){return t==="v"?hFt(e):pFt(e)},tNe=function(t,e){return t==="v"?gFt(e):mFt(e)},vFt=function(t,e){return t==="h"&&e==="rtl"?-1:1},yFt=function(t,e,r,n,i){var a=vFt(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),u=!1,c=o>0,A=0,d=0;do{var f=tNe(t,s),p=f[0],g=f[1],m=f[2],w=g-m-a*p;(p||w)&&eNe(t,s)&&(A+=w,d+=p),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(c&&Math.abs(A)<1||!c&&Math.abs(d)<1)&&(u=!0),u},ax=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n_e=function(t){return[t.deltaX,t.deltaY]},i_e=function(t){return t&&"current"in t?t.current:t},wFt=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bFt=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SFt=0,wp=[];function xFt(t){var e=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),i=I.useState(SFt++)[0],a=I.useState(JLe)[0],o=I.useRef(t);I.useEffect(function(){o.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=qMt([t.lockRef.current],(t.shards||[]).map(i_e),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=I.useCallback(function(g,m){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=ax(g),b=r.current,C="deltaX"in g?g.deltaX:b[0]-w[0],S="deltaY"in g?g.deltaY:b[1]-w[1],x,_=g.target,B=Math.abs(C)>Math.abs(S)?"h":"v";if("touches"in g&&B==="h"&&_.type==="range")return!1;var T=r_e(B,_);if(!T)return!0;if(T?x=B:(x=B==="v"?"h":"v",T=r_e(B,_)),!T)return!1;if(!n.current&&"changedTouches"in g&&(C||S)&&(n.current=x),!x)return!0;var R=n.current||x;return yFt(R,m,g,R==="h"?C:S)},[]),l=I.useCallback(function(g){var m=g;if(!(!wp.length||wp[wp.length-1]!==a)){var w="deltaY"in m?n_e(m):ax(m),b=e.current.filter(function(x){return x.name===m.type&&(x.target===m.target||m.target===x.shadowParent)&&wFt(x.delta,w)})[0];if(b&&b.should){m.cancelable&&m.preventDefault();return}if(!b){var C=(o.current.shards||[]).map(i_e).filter(Boolean).filter(function(x){return x.contains(m.target)}),S=C.length>0?s(m,C[0]):!o.current.noIsolation;S&&m.cancelable&&m.preventDefault()}}},[]),u=I.useCallback(function(g,m,w,b){var C={name:g,delta:m,target:w,should:b,shadowParent:CFt(w)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(S){return S!==C})},1)},[]),c=I.useCallback(function(g){r.current=ax(g),n.current=void 0},[]),A=I.useCallback(function(g){u(g.type,n_e(g),g.target,s(g,t.lockRef.current))},[]),d=I.useCallback(function(g){u(g.type,ax(g),g.target,s(g,t.lockRef.current))},[]);I.useEffect(function(){return wp.push(a),t.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:d}),document.addEventListener("wheel",l,yp),document.addEventListener("touchmove",l,yp),document.addEventListener("touchstart",c,yp),function(){wp=wp.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,yp),document.removeEventListener("touchmove",l,yp),document.removeEventListener("touchstart",c,yp)}},[]);var f=t.removeScrollBar,p=t.inert;return I.createElement(I.Fragment,null,p?I.createElement(a,{styles:bFt(i)}):null,f?I.createElement(dFt,{gapMode:t.gapMode}):null)}function CFt(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _Ft=ZMt(XLe,xFt);var KI=I.forwardRef(function(t,e){return I.createElement(qI,_u({},t,{ref:e,sideCar:_Ft}))});KI.classNames=qI.classNames;var F4=["Enter"," "],EFt=["ArrowDown","PageUp","Home"],rNe=["ArrowUp","PageDown","End"],IFt=[...EFt,...rNe],BFt={ltr:[...F4,"ArrowRight"],rtl:[...F4,"ArrowLeft"]},PFt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qb="Menu",[Tw,TFt,OFt]=DI(Qb),[Ch,zI]=ic(Qb,[OFt,QI,HLe]),Hb=QI(),nNe=HLe(),[iNe,$d]=Ch(Qb),[RFt,qb]=Ch(Qb),aNe=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,s=Hb(e),[l,u]=I.useState(null),c=I.useRef(!1),A=va(a),d=Xq(i);return I.useEffect(()=>{const f=()=>{c.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>c.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),y.jsx(l6,{...s,children:y.jsx(iNe,{scope:e,open:r,onOpenChange:A,content:l,onContentChange:u,children:y.jsx(RFt,{scope:e,onClose:I.useCallback(()=>A(!1),[A]),isUsingKeyboardRef:c,dir:d,modal:o,children:n})})})};aNe.displayName=Qb;var MFt="MenuAnchor",A6=I.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Hb(r);return y.jsx(u6,{...i,...n,ref:e})});A6.displayName=MFt;var d6="MenuPortal",[FFt,oNe]=Ch(d6,{forceMount:void 0}),sNe=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=$d(d6,e);return y.jsx(FFt,{scope:e,forceMount:r,children:y.jsx(eu,{present:r||a.open,children:y.jsx($b,{asChild:!0,container:i,children:n})})})};sNe.displayName=d6;var Js="MenuContent",[kFt,f6]=Ch(Js),lNe=I.forwardRef((t,e)=>{const r=oNe(Js,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=$d(Js,t.__scopeMenu),o=qb(Js,t.__scopeMenu);return y.jsx(Tw.Provider,{scope:t.__scopeMenu,children:y.jsx(eu,{present:n||a.open,children:y.jsx(Tw.Slot,{scope:t.__scopeMenu,children:o.modal?y.jsx(UFt,{...i,ref:e}):y.jsx(DFt,{...i,ref:e})})})})}),UFt=I.forwardRef((t,e)=>{const r=$d(Js,t.__scopeMenu),n=I.useRef(null),i=Sn(e,n);return I.useEffect(()=>{const a=n.current;if(a)return c6(a)},[]),y.jsx(h6,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Et(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),DFt=I.forwardRef((t,e)=>{const r=$d(Js,t.__scopeMenu);return y.jsx(h6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),h6=I.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:A,onInteractOutside:d,onDismiss:f,disableOutsideScroll:p,...g}=t,m=$d(Js,r),w=qb(Js,r),b=Hb(r),C=nNe(r),S=TFt(r),[x,_]=I.useState(null),B=I.useRef(null),T=Sn(e,B,m.onContentChange),R=I.useRef(0),P=I.useRef(""),M=I.useRef(0),U=I.useRef(null),F=I.useRef("right"),j=I.useRef(0),L=p?KI:I.Fragment,$=p?{as:Gf,allowPinchZoom:!0}:void 0,Q=q=>{var de,oe;const Y=P.current+q,z=S().filter(re=>!re.disabled),V=document.activeElement,X=(de=z.find(re=>re.ref.current===V))==null?void 0:de.textValue,ee=z.map(re=>re.textValue),J=VFt(ee,Y,X),le=(oe=z.find(re=>re.textValue===J))==null?void 0:oe.ref.current;(function re(se){P.current=se,window.clearTimeout(R.current),se!==""&&(R.current=window.setTimeout(()=>re(""),1e3))})(Y),le&&setTimeout(()=>le.focus())};I.useEffect(()=>()=>window.clearTimeout(R.current),[]),Jq();const H=I.useCallback(q=>{var z,V;return F.current===((z=U.current)==null?void 0:z.side)&&XFt(q,(V=U.current)==null?void 0:V.area)},[]);return y.jsx(kFt,{scope:r,searchRef:P,onItemEnter:I.useCallback(q=>{H(q)&&q.preventDefault()},[H]),onItemLeave:I.useCallback(q=>{var Y;H(q)||((Y=B.current)==null||Y.focus(),_(null))},[H]),onTriggerLeave:I.useCallback(q=>{H(q)&&q.preventDefault()},[H]),pointerGraceTimerRef:M,onPointerGraceIntentChange:I.useCallback(q=>{U.current=q},[]),children:y.jsx(L,{...$,children:y.jsx(jI,{asChild:!0,trapped:i,onMountAutoFocus:Et(a,q=>{var Y;q.preventDefault(),(Y=B.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:y.jsx(Lb,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:A,onInteractOutside:d,onDismiss:f,children:y.jsx(LMt,{asChild:!0,...C,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:_,onEntryFocus:Et(l,q=>{w.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(NLe,{role:"menu","aria-orientation":"vertical","data-state":_Ne(m.open),"data-radix-menu-content":"",dir:w.dir,...b,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:Et(g.onKeyDown,q=>{const z=q.target.closest("[data-radix-menu-content]")===q.currentTarget,V=q.ctrlKey||q.altKey||q.metaKey,X=q.key.length===1;z&&(q.key==="Tab"&&q.preventDefault(),!V&&X&&Q(q.key));const ee=B.current;if(q.target!==ee||!IFt.includes(q.key))return;q.preventDefault();const le=S().filter(de=>!de.disabled).map(de=>de.ref.current);rNe.includes(q.key)&&le.reverse(),WFt(le)}),onBlur:Et(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:Et(t.onPointerMove,Ow(q=>{const Y=q.target,z=j.current!==q.clientX;if(q.currentTarget.contains(Y)&&z){const V=q.clientX>j.current?"right":"left";F.current=V,j.current=q.clientX}}))})})})})})})});lNe.displayName=Js;var jFt="MenuGroup",p6=I.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return y.jsx(Rr.div,{role:"group",...n,ref:e})});p6.displayName=jFt;var LFt="MenuLabel",uNe=I.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return y.jsx(Rr.div,{...n,ref:e})});uNe.displayName=LFt;var t_="MenuItem",a_e="menu.itemSelect",WI=I.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=I.useRef(null),o=qb(t_,t.__scopeMenu),s=f6(t_,t.__scopeMenu),l=Sn(e,a),u=I.useRef(!1),c=()=>{const A=a.current;if(!r&&A){const d=new CustomEvent(a_e,{bubbles:!0,cancelable:!0});A.addEventListener(a_e,f=>n==null?void 0:n(f),{once:!0}),Yq(A,d),d.defaultPrevented?u.current=!1:o.onClose()}};return y.jsx(cNe,{...i,ref:l,disabled:r,onClick:Et(t.onClick,c),onPointerDown:A=>{var d;(d=t.onPointerDown)==null||d.call(t,A),u.current=!0},onPointerUp:Et(t.onPointerUp,A=>{var d;u.current||(d=A.currentTarget)==null||d.click()}),onKeyDown:Et(t.onKeyDown,A=>{const d=s.searchRef.current!=="";r||d&&A.key===" "||F4.includes(A.key)&&(A.currentTarget.click(),A.preventDefault())})})});WI.displayName=t_;var cNe=I.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=f6(t_,r),s=nNe(r),l=I.useRef(null),u=Sn(e,l),[c,A]=I.useState(!1),[d,f]=I.useState("");return I.useEffect(()=>{const p=l.current;p&&f((p.textContent??"").trim())},[a.children]),y.jsx(Tw.ItemSlot,{scope:r,disabled:n,textValue:i??d,children:y.jsx(NMt,{asChild:!0,...s,focusable:!n,children:y.jsx(Rr.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Et(t.onPointerMove,Ow(p=>{n?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Et(t.onPointerLeave,Ow(p=>o.onItemLeave(p))),onFocus:Et(t.onFocus,()=>A(!0)),onBlur:Et(t.onBlur,()=>A(!1))})})})}),NFt="MenuCheckboxItem",ANe=I.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return y.jsx(gNe,{scope:t.__scopeMenu,checked:r,children:y.jsx(WI,{role:"menuitemcheckbox","aria-checked":r_(r)?"mixed":r,...i,ref:e,"data-state":v6(r),onSelect:Et(i.onSelect,()=>n==null?void 0:n(r_(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ANe.displayName=NFt;var dNe="MenuRadioGroup",[$Ft,QFt]=Ch(dNe,{value:void 0,onValueChange:()=>{}}),fNe=I.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=va(n);return y.jsx($Ft,{scope:t.__scopeMenu,value:r,onValueChange:a,children:y.jsx(p6,{...i,ref:e})})});fNe.displayName=dNe;var hNe="MenuRadioItem",pNe=I.forwardRef((t,e)=>{const{value:r,...n}=t,i=QFt(hNe,t.__scopeMenu),a=r===i.value;return y.jsx(gNe,{scope:t.__scopeMenu,checked:a,children:y.jsx(WI,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":v6(a),onSelect:Et(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});pNe.displayName=hNe;var g6="MenuItemIndicator",[gNe,HFt]=Ch(g6,{checked:!1}),mNe=I.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=HFt(g6,r);return y.jsx(eu,{present:n||r_(a.checked)||a.checked===!0,children:y.jsx(Rr.span,{...i,ref:e,"data-state":v6(a.checked)})})});mNe.displayName=g6;var qFt="MenuSeparator",vNe=I.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return y.jsx(Rr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});vNe.displayName=qFt;var KFt="MenuArrow",yNe=I.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Hb(r);return y.jsx($Le,{...i,...n,ref:e})});yNe.displayName=KFt;var m6="MenuSub",[zFt,wNe]=Ch(m6),bNe=t=>{const{__scopeMenu:e,children:r,open:n=!1,onOpenChange:i}=t,a=$d(m6,e),o=Hb(e),[s,l]=I.useState(null),[u,c]=I.useState(null),A=va(i);return I.useEffect(()=>(a.open===!1&&A(!1),()=>A(!1)),[a.open,A]),y.jsx(l6,{...o,children:y.jsx(iNe,{scope:e,open:n,onOpenChange:A,content:u,onContentChange:c,children:y.jsx(zFt,{scope:e,contentId:Hc(),triggerId:Hc(),trigger:s,onTriggerChange:l,children:r})})})};bNe.displayName=m6;var ny="MenuSubTrigger",SNe=I.forwardRef((t,e)=>{const r=$d(ny,t.__scopeMenu),n=qb(ny,t.__scopeMenu),i=wNe(ny,t.__scopeMenu),a=f6(ny,t.__scopeMenu),o=I.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,u={__scopeMenu:t.__scopeMenu},c=I.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return I.useEffect(()=>c,[c]),I.useEffect(()=>{const A=s.current;return()=>{window.clearTimeout(A),l(null)}},[s,l]),y.jsx(A6,{asChild:!0,...u,children:y.jsx(cNe,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":_Ne(r.open),...t,ref:UI(e,i.onTriggerChange),onClick:A=>{var d;(d=t.onClick)==null||d.call(t,A),!(t.disabled||A.defaultPrevented)&&(A.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Et(t.onPointerMove,Ow(A=>{a.onItemEnter(A),!A.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),c()},100))})),onPointerLeave:Et(t.onPointerLeave,Ow(A=>{var f,p;c();const d=(f=r.content)==null?void 0:f.getBoundingClientRect();if(d){const g=(p=r.content)==null?void 0:p.dataset.side,m=g==="right",w=m?-5:5,b=d[m?"left":"right"],C=d[m?"right":"left"];a.onPointerGraceIntentChange({area:[{x:A.clientX+w,y:A.clientY},{x:b,y:d.top},{x:C,y:d.top},{x:C,y:d.bottom},{x:b,y:d.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(A),A.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Et(t.onKeyDown,A=>{var f;const d=a.searchRef.current!=="";t.disabled||d&&A.key===" "||BFt[n.dir].includes(A.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),A.preventDefault())})})})});SNe.displayName=ny;var xNe="MenuSubContent",CNe=I.forwardRef((t,e)=>{const r=oNe(Js,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=$d(Js,t.__scopeMenu),o=qb(Js,t.__scopeMenu),s=wNe(xNe,t.__scopeMenu),l=I.useRef(null),u=Sn(e,l);return y.jsx(Tw.Provider,{scope:t.__scopeMenu,children:y.jsx(eu,{present:n||a.open,children:y.jsx(Tw.Slot,{scope:t.__scopeMenu,children:y.jsx(h6,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{var A;o.isUsingKeyboardRef.current&&((A=l.current)==null||A.focus()),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:Et(t.onFocusOutside,c=>{c.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Et(t.onEscapeKeyDown,c=>{o.onClose(),c.preventDefault()}),onKeyDown:Et(t.onKeyDown,c=>{var f;const A=c.currentTarget.contains(c.target),d=PFt[o.dir].includes(c.key);A&&d&&(a.onOpenChange(!1),(f=s.trigger)==null||f.focus(),c.preventDefault())})})})})})});CNe.displayName=xNe;function _Ne(t){return t?"open":"closed"}function r_(t){return t==="indeterminate"}function v6(t){return r_(t)?"indeterminate":t?"checked":"unchecked"}function WFt(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function GFt(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function VFt(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=GFt(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function YFt(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,u=e[o].x,c=e[o].y;l>n!=c>n&&r<(u-s)*(n-l)/(c-l)+s&&(i=!i)}return i}function XFt(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return YFt(r,e)}function Ow(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ENe=aNe,INe=A6,BNe=sNe,PNe=lNe,TNe=p6,ONe=uNe,RNe=WI,MNe=ANe,FNe=fNe,kNe=pNe,UNe=mNe,DNe=vNe,jNe=yNe,LNe=bNe,NNe=SNe,$Ne=CNe,y6="ContextMenu",[JFt,F3t]=ic(y6,[zI]),Za=zI(),[ZFt,QNe]=JFt(y6),HNe=t=>{const{__scopeContextMenu:e,children:r,onOpenChange:n,dir:i,modal:a=!0}=t,[o,s]=I.useState(!1),l=Za(e),u=va(n),c=I.useCallback(A=>{s(A),u(A)},[u]);return y.jsx(ZFt,{scope:e,open:o,onOpenChange:c,modal:a,children:y.jsx(ENe,{...l,dir:i,open:o,onOpenChange:c,modal:a,children:r})})};HNe.displayName=y6;var qNe="ContextMenuTrigger",KNe=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,disabled:n=!1,...i}=t,a=QNe(qNe,r),o=Za(r),s=I.useRef({x:0,y:0}),l=I.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...s.current})}),u=I.useRef(0),c=I.useCallback(()=>window.clearTimeout(u.current),[]),A=d=>{s.current={x:d.clientX,y:d.clientY},a.onOpenChange(!0)};return I.useEffect(()=>c,[c]),I.useEffect(()=>void(n&&c()),[n,c]),y.jsxs(y.Fragment,{children:[y.jsx(INe,{...o,virtualRef:l}),y.jsx(Rr.span,{"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:n?t.onContextMenu:Et(t.onContextMenu,d=>{c(),A(d),d.preventDefault()}),onPointerDown:n?t.onPointerDown:Et(t.onPointerDown,ox(d=>{c(),u.current=window.setTimeout(()=>A(d),700)})),onPointerMove:n?t.onPointerMove:Et(t.onPointerMove,ox(c)),onPointerCancel:n?t.onPointerCancel:Et(t.onPointerCancel,ox(c)),onPointerUp:n?t.onPointerUp:Et(t.onPointerUp,ox(c))})]})});KNe.displayName=qNe;var ekt="ContextMenuPortal",w6=t=>{const{__scopeContextMenu:e,...r}=t,n=Za(e);return y.jsx(BNe,{...n,...r})};w6.displayName=ekt;var zNe="ContextMenuContent",WNe=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=QNe(zNe,r),a=Za(r),o=I.useRef(!1);return y.jsx(PNe,{...a,...n,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:s=>{var l;(l=t.onCloseAutoFocus)==null||l.call(t,s),!s.defaultPrevented&&o.current&&s.preventDefault(),o.current=!1},onInteractOutside:s=>{var l;(l=t.onInteractOutside)==null||l.call(t,s),!s.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WNe.displayName=zNe;var tkt="ContextMenuGroup",GNe=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(TNe,{...i,...n,ref:e})});GNe.displayName=tkt;var rkt="ContextMenuLabel",nkt=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(ONe,{...i,...n,ref:e})});nkt.displayName=rkt;var ikt="ContextMenuItem",VNe=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(RNe,{...i,...n,ref:e})});VNe.displayName=ikt;var akt="ContextMenuCheckboxItem",YNe=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(MNe,{...i,...n,ref:e})});YNe.displayName=akt;var okt="ContextMenuRadioGroup",skt=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(FNe,{...i,...n,ref:e})});skt.displayName=okt;var lkt="ContextMenuRadioItem",ukt=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(kNe,{...i,...n,ref:e})});ukt.displayName=lkt;var ckt="ContextMenuItemIndicator",Akt=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(UNe,{...i,...n,ref:e})});Akt.displayName=ckt;var dkt="ContextMenuSeparator",fkt=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(DNe,{...i,...n,ref:e})});fkt.displayName=dkt;var hkt="ContextMenuArrow",pkt=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(jNe,{...i,...n,ref:e})});pkt.displayName=hkt;var gkt="ContextMenuSub",XNe=t=>{const{__scopeContextMenu:e,children:r,onOpenChange:n,open:i,defaultOpen:a}=t,o=Za(e),[s,l]=Nd({prop:i,defaultProp:a,onChange:n});return y.jsx(LNe,{...o,open:s,onOpenChange:l,children:r})};XNe.displayName=gkt;var mkt="ContextMenuSubTrigger",JNe=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx(NNe,{...i,...n,ref:e})});JNe.displayName=mkt;var vkt="ContextMenuSubContent",ZNe=I.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,i=Za(r);return y.jsx($Ne,{...i,...n,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZNe.displayName=vkt;function ox(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var ykt=HNe,wkt=KNe,bkt=w6,Skt=WNe,xkt=YNe,b6="DropdownMenu",[Ckt,k3t]=ic(b6,[zI]),eo=zI(),[_kt,e$e]=Ckt(b6),t$e=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=t,l=eo(e),u=I.useRef(null),[c=!1,A]=Nd({prop:i,defaultProp:a,onChange:o});return y.jsx(_kt,{scope:e,triggerId:Hc(),triggerRef:u,contentId:Hc(),open:c,onOpenChange:A,onOpenToggle:I.useCallback(()=>A(d=>!d),[A]),modal:s,children:y.jsx(ENe,{...l,open:c,onOpenChange:A,dir:n,modal:s,children:r})})};t$e.displayName=b6;var r$e="DropdownMenuTrigger",n$e=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=e$e(r$e,r),o=eo(r);return y.jsx(INe,{asChild:!0,...o,children:y.jsx(Rr.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:UI(e,a.triggerRef),onPointerDown:Et(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:Et(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});n$e.displayName=r$e;var Ekt="DropdownMenuPortal",i$e=t=>{const{__scopeDropdownMenu:e,...r}=t,n=eo(e);return y.jsx(BNe,{...n,...r})};i$e.displayName=Ekt;var a$e="DropdownMenuContent",o$e=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=e$e(a$e,r),a=eo(r),o=I.useRef(!1);return y.jsx(PNe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Et(t.onCloseAutoFocus,s=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:Et(t.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;(!i.modal||c)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o$e.displayName=a$e;var Ikt="DropdownMenuGroup",s$e=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(TNe,{...i,...n,ref:e})});s$e.displayName=Ikt;var Bkt="DropdownMenuLabel",Pkt=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(ONe,{...i,...n,ref:e})});Pkt.displayName=Bkt;var Tkt="DropdownMenuItem",l$e=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(RNe,{...i,...n,ref:e})});l$e.displayName=Tkt;var Okt="DropdownMenuCheckboxItem",u$e=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(MNe,{...i,...n,ref:e})});u$e.displayName=Okt;var Rkt="DropdownMenuRadioGroup",Mkt=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(FNe,{...i,...n,ref:e})});Mkt.displayName=Rkt;var Fkt="DropdownMenuRadioItem",kkt=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(kNe,{...i,...n,ref:e})});kkt.displayName=Fkt;var Ukt="DropdownMenuItemIndicator",Dkt=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(UNe,{...i,...n,ref:e})});Dkt.displayName=Ukt;var jkt="DropdownMenuSeparator",Lkt=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(DNe,{...i,...n,ref:e})});Lkt.displayName=jkt;var Nkt="DropdownMenuArrow",$kt=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(jNe,{...i,...n,ref:e})});$kt.displayName=Nkt;var Qkt=t=>{const{__scopeDropdownMenu:e,children:r,open:n,onOpenChange:i,defaultOpen:a}=t,o=eo(e),[s=!1,l]=Nd({prop:n,defaultProp:a,onChange:i});return y.jsx(LNe,{...o,open:s,onOpenChange:l,children:r})},Hkt="DropdownMenuSubTrigger",c$e=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx(NNe,{...i,...n,ref:e})});c$e.displayName=Hkt;var qkt="DropdownMenuSubContent",A$e=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eo(r);return y.jsx($Ne,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A$e.displayName=qkt;var S6=t$e,x6=n$e,GI=i$e,C6=o$e,Kkt=s$e,zkt=l$e,Wkt=u$e,Gkt=Qkt,Vkt=c$e,Ykt=A$e;function vn(t,e){var i;const r=new Set;for(const a of e){const o=t.getShape(a);if(!o)continue;t.getShapeUtil(o).onDragShapesOut&&r.add(o);const s=t.getShape(o.parentId);s&&t.getShapeUtil(s).onDragShapesOut&&r.add(s)}const n=new Map;for(const a of r){const o=d$e(t,a);o.length&&n.set(a,o)}for(const[a,o]of n){const s=t.getShapeUtil(a),l=sr(o.map(u=>t.getShape(u)));(i=s.onDragShapesOut)==null||i.call(s,a,l)}}function d$e(t,e){const r=t.getSortedChildIdsForParent(e.id);if(r.length===0)return[];const n=t.getShapePageBounds(e);if(!n)return[];let i,a,o;const s=[];for(const l of r){const u=t.getShapePageBounds(l);if(!u)continue;if(!n.includes(u)){s.push(l);continue}i??(i=t.getShapeGeometry(e)),a??(a=t.getShapePageTransform(e)),o??(o=a.applyToPoints(i.vertices));const c=t.getShapePageTransform(l).clone().invert().applyToPoints(o),{vertices:A,isClosed:d}=t.getShapeGeometry(l);if(!A.some(f=>ds(f,c))){if(d){if(jq(c,A))continue}else if(vPt(c,A))continue;s.push(l)}}return s}function n_(t,e,r=!1){t.select(e),t.setEditingShape(e),t.setCurrentTool("select.editing_shape",{target:"shape",shape:e}),r&&t.emit("select-all-text",{shapeId:e.id})}function Xkt(t,e){const r=sr(e.map(i=>t.getShape(i)).filter(i=>i&&t.isShapeOfType(i,"frame")));if(!r.length)return;const n=[];t.run(()=>{r.map(i=>{const a=t.getSortedChildIdsForParent(i.id);a.length&&(t.reparentShapes(a,i.parentId,i.index),n.push(...a))}),t.setSelectedShapes(n),t.deleteShapes(e)})}const Jkt=50;function Zkt(t,e,r={}){const n=t.getShape(e);if(!n)return;const i=t.getSortedChildIdsForParent(n.id),a=sr(i.map(f=>t.getShape(f)));if(!a.length)return;const o=Ze.FromPoints(a.flatMap(f=>{const p=t.getShapeGeometry(f.id);return t.getShapeLocalTransform(f).applyToPoints(p.vertices)})),{padding:s=Jkt}=r,l=o.w+2*s,u=o.h+2*s,c=s-o.minX,A=s-o.minY;if(c===0&&A===0&&n.props.w===l&&n.props.h===u)return;const d=new k(c,A).rot(n.rotation);t.run(()=>{const f=i.map(p=>{const g=t.getShape(p);return{id:g.id,type:g.type,x:g.x+c,y:g.y+A}});f.push({id:n.id,type:n.type,x:n.x-d.x,y:n.y-d.y,props:{w:l,h:u}}),t.updateShapes(f)})}const f$e=I.createContext(null);function eUt({assetUrls:t,children:e}){return I.useEffect(()=>{for(const r of Object.values(t.icons)){const n=Sw();n.src=r,n.decode()}for(const r of Object.values(t.embedIcons)){const n=Sw();n.src=r,n.decode()}},[t]),y.jsx(f$e.Provider,{value:t,children:e})}function _6(){const t=I.useContext(f$e);if(!t)throw new Error("useAssetUrls must be used within an AssetUrlsProvider");return t}const k4={"action.convert-to-bookmark":"Convert to Bookmark","action.convert-to-embed":"Convert to Embed","action.open-embed-link":"Open link","action.align-bottom":"Align bottom","action.align-center-horizontal":"Align horizontally","action.align-center-vertical":"Align vertically","action.align-center-horizontal.short":"Align H","action.align-center-vertical.short":"Align V","action.align-left":"Align left","action.align-right":"Align right","action.align-top":"Align top","action.back-to-content":"Back to content","action.bring-forward":"Bring forward","action.bring-to-front":"Bring to front","action.copy-as-png.short":"PNG","action.copy-as-png":"Copy as PNG","action.copy-as-svg.short":"SVG","action.copy-as-svg":"Copy as SVG","action.copy":"Copy","action.cut":"Cut","action.delete":"Delete","action.unlock-all":"Unlock all","action.distribute-horizontal":"Distribute horizontally","action.distribute-vertical":"Distribute vertically","action.distribute-horizontal.short":"Distribute H","action.distribute-vertical.short":"Distribute V","action.duplicate":"Duplicate","action.edit-link":"Edit link","action.exit-pen-mode":"Exit pen mode","action.export-as-png.short":"PNG","action.export-as-png":"Export as PNG","action.export-as-svg.short":"SVG","action.export-as-svg":"Export as SVG","action.export-all-as-png.short":"PNG","action.export-all-as-png":"Export as PNG","action.export-all-as-svg.short":"SVG","action.export-all-as-svg":"Export as SVG","action.fit-frame-to-content":"Fit to content","action.flip-horizontal":"Flip horizontally","action.flip-vertical":"Flip vertically","action.flip-horizontal.short":"Flip H","action.flip-vertical.short":"Flip V","action.fork-project":"Fork this project","action.fork-project-on-tldraw":"Fork project on tldraw","action.group":"Group","action.insert-embed":"Insert embed","action.insert-media":"Upload media","action.leave-shared-project":"Leave shared project","action.new-project":"New project","action.new-shared-project":"New shared project","action.open-cursor-chat":"Cursor chat","action.open-file":"Open file","action.pack":"Pack","action.paste":"Paste","action.paste-error-title":"Pasting failed","action.paste-error-description":"Could not paste due to missing clipboard permissions. Please enable the permissions and try again.","action.print":"Print","action.redo":"Redo","action.remove-frame":"Remove frame","action.rename":"Rename","action.rotate-ccw":"Rotate counterclockwise","action.rotate-cw":"Rotate clockwise","action.save-copy":"Save a copy","action.select-all":"Select all","action.select-none":"Select none","action.send-backward":"Send backward","action.send-to-back":"Send to back","action.share-project":"Share this project","action.stack-horizontal":"Stack horizontally","action.stack-vertical":"Stack vertically","action.stack-horizontal.short":"Stack H","action.stack-vertical.short":"Stack V","action.stop-following":"Stop following","action.stretch-horizontal":"Stretch horizontally","action.stretch-vertical":"Stretch vertically","action.stretch-horizontal.short":"Stretch H","action.stretch-vertical.short":"Stretch V","action.toggle-auto-size":"Toggle auto size","action.toggle-dark-mode.menu":"Dark mode","action.toggle-dark-mode":"Toggle dark mode","action.toggle-paste-at-cursor.menu":"Paste at cursor","action.toggle-paste-at-cursor":"Toggle paste at cursor","action.toggle-wrap-mode.menu":"Select on wrap","action.toggle-wrap-mode":"Toggle Select on wrap","action.toggle-reduce-motion.menu":"Reduce motion","action.toggle-reduce-motion":"Toggle reduce motion","action.toggle-edge-scrolling.menu":"Edge scrolling","action.toggle-edge-scrolling":"Toggle edge scrolling","action.toggle-debug-mode.menu":"Debug mode","action.toggle-debug-mode":"Toggle debug mode","action.toggle-focus-mode.menu":"Focus mode","action.toggle-focus-mode":"Toggle focus mode","action.toggle-dynamic-size-mode.menu":"Dynamic size","action.toggle-dynamic-size-mode":"Toggle dynamic size","action.toggle-grid.menu":"Show grid","action.toggle-grid":"Toggle grid","action.toggle-lock":"Toggle locked","action.flatten-to-image":"Flatten","action.toggle-snap-mode.menu":"Always snap","action.toggle-snap-mode":"Toggle always snap","action.toggle-tool-lock.menu":"Tool lock","action.toggle-tool-lock":"Toggle tool lock","action.toggle-transparent.context-menu":"Transparent","action.toggle-transparent.menu":"Transparent","action.toggle-transparent":"Toggle transparent background","action.undo":"Undo","action.ungroup":"Ungroup","action.zoom-in":"Zoom in","action.zoom-out":"Zoom out","action.zoom-to-100":"Zoom to 100%","action.zoom-to-fit":"Zoom to fit","action.zoom-to-selection":"Zoom to selection","assets.files.size-too-big":"File size is too big","assets.files.type-not-allowed":"File type is not allowed","assets.files.upload-failed":"Upload failed","assets.files.amount-too-many":"Too many files","assets.url.failed":"Couldnt load URL preview","theme.dark":"Dark","theme.light":"Light","theme.system":"System","color-style.white":"White","color-style.black":"Black","color-style.blue":"Blue","color-style.green":"Green","color-style.grey":"Grey","color-style.light-blue":"Light blue","color-style.light-green":"Light green","color-style.light-red":"Light red","color-style.light-violet":"Light violet","color-style.orange":"Orange","color-style.red":"Red","color-style.violet":"Violet","color-style.yellow":"Yellow","fill-style.none":"None","document.default-name":"Untitled","fill-style.semi":"Semi","fill-style.solid":"Solid","fill-style.pattern":"Pattern","fill-style.fill":"Fill","dash-style.dashed":"Dashed","dash-style.dotted":"Dotted","dash-style.draw":"Draw","dash-style.solid":"Solid","size-style.s":"Small","size-style.m":"Medium","size-style.l":"Large","size-style.xl":"Extra large","opacity-style.0.1":"10%","opacity-style.0.25":"25%","opacity-style.0.5":"50%","opacity-style.0.75":"75%","opacity-style.1":"100%","font-style.draw":"Draw","font-style.sans":"Sans","font-style.serif":"Serif","font-style.mono":"Mono","align-style.start":"Start","align-style.middle":"Middle","align-style.end":"End","align-style.justify":"Justify","verticalAlign-style.start":"Top","verticalAlign-style.middle":"Middle","verticalAlign-style.end":"Bottom","geo-style.arrow-down":"Arrow down","geo-style.arrow-left":"Arrow left","geo-style.arrow-right":"Arrow right","geo-style.arrow-up":"Arrow up","geo-style.diamond":"Diamond","geo-style.ellipse":"Ellipse","geo-style.hexagon":"Hexagon","geo-style.octagon":"Octagon","geo-style.oval":"Oval","geo-style.cloud":"Cloud","geo-style.pentagon":"Pentagon","geo-style.rectangle":"Rectangle","geo-style.rhombus-2":"Rhombus 2","geo-style.rhombus":"Rhombus","geo-style.star":"Star","geo-style.trapezoid":"Trapezoid","geo-style.triangle":"Triangle","geo-style.x-box":"X box","geo-style.check-box":"Check box","arrowheadStart-style.none":"None","arrowheadStart-style.arrow":"Arrow","arrowheadStart-style.bar":"Bar","arrowheadStart-style.diamond":"Diamond","arrowheadStart-style.dot":"Dot","arrowheadStart-style.inverted":"Inverted","arrowheadStart-style.pipe":"Pipe","arrowheadStart-style.square":"Square","arrowheadStart-style.triangle":"Triangle","arrowheadEnd-style.none":"None","arrowheadEnd-style.arrow":"Arrow","arrowheadEnd-style.bar":"Bar","arrowheadEnd-style.diamond":"Diamond","arrowheadEnd-style.dot":"Dot","arrowheadEnd-style.inverted":"Inverted","arrowheadEnd-style.pipe":"Pipe","arrowheadEnd-style.square":"Square","arrowheadEnd-style.triangle":"Triangle","spline-style.line":"Line","spline-style.cubic":"Cubic","tool.select":"Select","tool.hand":"Hand","tool.draw":"Draw","tool.eraser":"Eraser","tool.arrow-down":"Arrow down","tool.arrow-left":"Arrow left","tool.arrow-right":"Arrow right","tool.arrow-up":"Arrow up","tool.arrow":"Arrow","tool.cloud":"Cloud","tool.diamond":"Diamond","tool.ellipse":"Ellipse","tool.hexagon":"Hexagon","tool.highlight":"Highlight","tool.line":"Line","tool.octagon":"Octagon","tool.oval":"Oval","tool.pentagon":"Pentagon","tool.rectangle":"Rectangle","tool.rhombus":"Rhombus","tool.star":"Star","tool.trapezoid":"Trapezoid","tool.triangle":"Triangle","tool.x-box":"X box","tool.check-box":"Check box","tool.asset":"Asset","tool.frame":"Frame","tool.note":"Note","tool.laser":"Laser","tool.embed":"Embed","tool.text":"Text","tool.pointer-down":"Pointer down","menu.title":"Menu","menu.theme":"Theme","menu.copy-as":"Copy as","menu.edit":"Edit","menu.export-as":"Export as","menu.file":"File","menu.language":"Language","menu.preferences":"Preferences","menu.view":"View","context-menu.edit":"Edit","context-menu.arrange":"Arrange","context-menu.copy-as":"Copy as","context-menu.export-as":"Export as","context-menu.export-all-as":"Export","context-menu.move-to-page":"Move to page","context-menu.reorder":"Reorder","page-menu.title":"Pages","page-menu.create-new-page":"Create new page","page-menu.max-page-count-reached":"Max pages reached","page-menu.new-page-initial-name":"Page 1","page-menu.edit-start":"Edit","page-menu.edit-done":"Done","page-menu.go-to-page":"Go to page","page-menu.submenu.rename":"Rename","page-menu.submenu.duplicate-page":"Duplicate","page-menu.submenu.title":"Menu","page-menu.submenu.move-down":"Move down","page-menu.submenu.move-up":"Move up","page-menu.submenu.delete":"Delete","share-menu.title":"Share","share-menu.save-note":"Download this project to your computer as a .tldr file.","share-menu.fork-note":"Create a new shared project based on this snapshot.","share-menu.share-project":"Share this project","share-menu.copy-link":"Copy editor link","share-menu.create-snapshot-link":"Copy snapshot link","share-menu.snapshot-link-note":"Capture and share this project as a read-only snapshot link.","share-menu.copy-readonly-link":"Copy viewer link","share-menu.offline-note":"Create a new shared project based on your current project.","share-menu.copy-link-note":"Anyone with the link will be able to view and edit this project.","share-menu.copy-readonly-link-note":"Anyone with the link will be able to access this project.","share-menu.project-too-large":"Sorry, this project cant be shared because its too large. Were working on it!","share-menu.upload-failed":"Sorry, we couldnt upload your project at the moment. Please try again or let us know if the problem persists.","share-menu.creating-project":"Creating the new project","share-menu.copied":"Copied link","document-name-menu.copy-link":"Copy link","status.offline":"Offline","people-menu.title":"People","people-menu.change-name":"Change name","people-menu.change-color":"Change color","people-menu.follow":"Following","people-menu.following":"Following","people-menu.leading":"Following You","people-menu.user":"(You)","people-menu.invite":"Invite others","help-menu.import-tldr-file":"Import file","help-menu.title":"Help and resources","help-menu.about":"About tldraw","help-menu.discord":"Discord","help-menu.github":"GitHub","help-menu.keyboard-shortcuts":"Keyboard shortcuts","help-menu.twitter":"Twitter","help-menu.terms":"Terms of service","help-menu.privacy":"Privacy policy","actions-menu.title":"Actions","edit-link-dialog.title":"Edit link","edit-link-dialog.invalid-url":"A link must be a valid URL.","edit-link-dialog.detail":"Links will open in a new tab.","edit-link-dialog.url":"URL","edit-link-dialog.clear":"Clear","edit-link-dialog.save":"Continue","edit-link-dialog.cancel":"Cancel","embed-dialog.title":"Insert embed","embed-dialog.back":"Back","embed-dialog.create":"Create","embed-dialog.cancel":"Cancel","embed-dialog.url":"URL","embed-dialog.instruction":"Paste in the sites URL to create the embed.","embed-dialog.invalid-url":"We could not create an embed from that URL.","shortcuts-dialog.title":"Keyboard shortcuts","shortcuts-dialog.edit":"Edit","shortcuts-dialog.file":"File","shortcuts-dialog.preferences":"Preferences","shortcuts-dialog.tools":"Tools","shortcuts-dialog.transform":"Transform","shortcuts-dialog.view":"View","shortcuts-dialog.collaboration":"Collaboration","style-panel.title":"Styles","style-panel.align":"Align","style-panel.label-align":"Label align","style-panel.vertical-align":"Vertical align","style-panel.position":"Position","style-panel.arrowheads":"Arrows","style-panel.arrowhead-start":"Start","style-panel.arrowhead-end":"End","style-panel.color":"Color","style-panel.dash":"Dash","style-panel.fill":"Fill","style-panel.font":"Font","style-panel.geo":"Shape","style-panel.mixed":"Mixed","style-panel.opacity":"Opacity","style-panel.size":"Size","style-panel.spline":"Spline","tool-panel.more":"More","navigation-zone.toggle-minimap":"Toggle minimap","navigation-zone.zoom":"Zoom","focus-mode.toggle-focus-mode":"Toggle focus mode","toast.close":"Close","file-system.file-open-error.title":"Could not open file","file-system.file-open-error.not-a-tldraw-file":"The file you tried to open doesnt look like a tldraw file.","file-system.file-open-error.file-format-version-too-new":"The file you tried to open is from a newer version of tldraw. Please reload the page and try again.","file-system.file-open-error.generic-corrupted-file":"The file you tried to open is corrupted.","file-system.confirm-open.title":"Overwrite current project?","file-system.confirm-open.description":"Opening a file will replace your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-open.cancel":"Cancel","file-system.confirm-open.open":"Open file","file-system.confirm-open.dont-show-again":"Dont ask again","file-system.confirm-clear.title":"Clear current project?","file-system.confirm-clear.description":"Creating a new project will clear your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-clear.cancel":"Cancel","file-system.confirm-clear.continue":"Continue","file-system.confirm-clear.dont-show-again":"Dont ask again","file-system.shared-document-file-open-error.title":"Could not open file","file-system.shared-document-file-open-error.description":"Opening files from shared projects is not supported.","sharing.confirm-leave.title":"Leave current project?","sharing.confirm-leave.description":"Are you sure you want to leave this shared project? You can return to it by navigating to its URL.","sharing.confirm-leave.cancel":"Cancel","sharing.confirm-leave.leave":"Leave","sharing.confirm-leave.dont-show-again":"Dont ask again","toast.error.export-fail.title":"Failed export","toast.error.export-fail.desc":"Failed to export image","toast.error.copy-fail.title":"Failed copy","toast.error.copy-fail.desc":"Failed to copy image","context.pages.new-page":"New page","vscode.file-open.desc":"Weve updated this document to work with the current version of tldraw. If youd like to keep the original version (which will work on old.tldraw.com), click below to create a backup.","vscode.file-open.open":"Continue","vscode.file-open.backup":"Backup","vscode.file-open.backup-saved":"Backup saved","vscode.file-open.backup-failed":"Backup failed: this is not a .tldr file.","vscode.file-open.dont-show-again":"Dont ask again","cursor-chat.type-to-chat":"Type to chat"},tUt=new Set(["ar","fa","he","ur","ku"]),bp={locale:"en",label:"English",messages:k4,dir:"ltr"};async function rUt(t,e){if(!(await Lu(e.translations.en)).ok)return console.warn("No main translations found."),bp;if(t==="en")return bp;const n=Ew.find(o=>o.locale===t);if(!n)return console.warn(`No translation found for locale ${t}`),bp;const a=await(await Lu(e.translations[n.locale])).json();if(!a)return console.warn(`No messages found for locale ${t}`),bp;for(const o in bp.messages)a[o];return{locale:t,label:n.label,dir:tUt.has(n.locale)?"rtl":"ltr",messages:{...bp.messages,...a}}}const h$e=I.createContext(null);function p$e(){const t=I.useContext(h$e);if(!t)throw new Error("useCurrentTranslation must be used inside of <TldrawUiContextProvider />");return t}function nUt({overrides:t,locale:e,children:r}){const n=_6(),[i,a]=I.useState(()=>t&&t.en?{locale:"en",label:"English",dir:"ltr",messages:{...k4,...t.en}}:{locale:"en",label:"English",dir:"ltr",messages:k4});return I.useEffect(()=>{let o=!1;async function s(){const l=await rUt(e,n);l&&!o&&(t&&t[e]?a({...l,messages:{...l.messages,...t[e]}}):a(l))}return s(),()=>{o=!0}},[n,e,t]),y.jsx(h$e.Provider,{value:i,children:r})}function Sr(){const t=p$e();return I.useCallback(function(r){return t.messages[r]??r},[t])}const Ut=I.forwardRef(function({children:e,type:r,...n},i){return y.jsx("button",{ref:i,type:"button",draggable:!1,...n,className:Mt("tlui-button",`tlui-button__${r}`,n.className),children:e})});function hi({children:t}){return y.jsx("span",{className:"tlui-button__label",children:t})}var E6="Dialog",[g$e,U3t]=ic(E6),[iUt,tu]=g$e(E6),m$e=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=I.useRef(null),l=I.useRef(null),[u=!1,c]=Nd({prop:n,defaultProp:i,onChange:a});return y.jsx(iUt,{scope:e,triggerRef:s,contentRef:l,contentId:Hc(),titleId:Hc(),descriptionId:Hc(),open:u,onOpenChange:c,onOpenToggle:I.useCallback(()=>c(A=>!A),[c]),modal:o,children:r})};m$e.displayName=E6;var v$e="DialogTrigger",aUt=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=tu(v$e,r),a=Sn(e,i.triggerRef);return y.jsx(Rr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":P6(i.open),...n,ref:a,onClick:Et(t.onClick,i.onOpenToggle)})});aUt.displayName=v$e;var I6="DialogPortal",[oUt,y$e]=g$e(I6,{forceMount:void 0}),w$e=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=tu(I6,e);return y.jsx(oUt,{scope:e,forceMount:r,children:I.Children.map(n,o=>y.jsx(eu,{present:r||a.open,children:y.jsx($b,{asChild:!0,container:i,children:o})}))})};w$e.displayName=I6;var i_="DialogOverlay",b$e=I.forwardRef((t,e)=>{const r=y$e(i_,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=tu(i_,t.__scopeDialog);return a.modal?y.jsx(eu,{present:n||a.open,children:y.jsx(sUt,{...i,ref:e})}):null});b$e.displayName=i_;var sUt=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=tu(i_,r);return y.jsx(KI,{as:Gf,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Rr.div,{"data-state":P6(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Yf="DialogContent",S$e=I.forwardRef((t,e)=>{const r=y$e(Yf,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=tu(Yf,t.__scopeDialog);return y.jsx(eu,{present:n||a.open,children:a.modal?y.jsx(lUt,{...i,ref:e}):y.jsx(uUt,{...i,ref:e})})});S$e.displayName=Yf;var lUt=I.forwardRef((t,e)=>{const r=tu(Yf,t.__scopeDialog),n=I.useRef(null),i=Sn(e,r.contentRef,n);return I.useEffect(()=>{const a=n.current;if(a)return c6(a)},[]),y.jsx(x$e,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Et(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:Et(t.onFocusOutside,a=>a.preventDefault())})}),uUt=I.forwardRef((t,e)=>{const r=tu(Yf,t.__scopeDialog),n=I.useRef(!1),i=I.useRef(!1);return y.jsx(x$e,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),x$e=I.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=tu(Yf,r),l=I.useRef(null),u=Sn(e,l);return Jq(),y.jsxs(y.Fragment,{children:[y.jsx(jI,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:y.jsx(Lb,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":P6(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(AUt,{titleId:s.titleId}),y.jsx(fUt,{contentRef:l,descriptionId:s.descriptionId})]})]})}),B6="DialogTitle",C$e=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=tu(B6,r);return y.jsx(Rr.h2,{id:i.titleId,...n,ref:e})});C$e.displayName=B6;var _$e="DialogDescription",cUt=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=tu(_$e,r);return y.jsx(Rr.p,{id:i.descriptionId,...n,ref:e})});cUt.displayName=_$e;var E$e="DialogClose",I$e=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=tu(E$e,r);return y.jsx(Rr.button,{type:"button",...n,ref:e,onClick:Et(t.onClick,()=>i.onOpenChange(!1))})});I$e.displayName=E$e;function P6(t){return t?"open":"closed"}var B$e="DialogTitleWarning",[D3t,P$e]=WRt(B$e,{contentName:Yf,titleName:B6,docsSlug:"dialog"}),AUt=({titleId:t})=>{const e=P$e(B$e),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},dUt="DialogDescriptionWarning",fUt=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P$e(dUt).contentName}}.`;return I.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},hUt=m$e,pUt=w$e,gUt=b$e,mUt=S$e,vUt=C$e;const qu=I.memo(function({small:e,invertIcon:r,icon:n,color:i,className:a,...o}){const s=_6(),l=s.icons[n]??s.icons["question-mark-circle"],u=I.useRef(null);return I.useLayoutEffect(()=>{l||console.error(`Icon not found: ${n}. Add it to the assetUrls.icons object.`),u!=null&&u.current&&(u.current.style.webkitMask=`url(${l}) center 100% / 100% no-repeat`)},[u,l,n]),n==="none"?y.jsx("div",{className:Mt("tlui-icon tlui-icon__placeholder",{"tlui-icon__small":e},a)}):y.jsx("div",{...o,ref:u,className:Mt("tlui-icon",{"tlui-icon__small":e},a),style:{color:i,mask:`url(${l}) center 100% / 100% no-repeat`,transform:r?"scale(-1, 1)":void 0}})});function gr({icon:t,small:e,invertIcon:r}){return y.jsx(qu,{className:"tlui-button__icon",icon:t,small:e,invertIcon:r})}function VI({className:t,children:e}){return y.jsx("div",{className:Mt("tlui-dialog__header",t),children:e})}function YI({className:t,children:e,style:r}){return y.jsx(vUt,{dir:"ltr",className:Mt("tlui-dialog__header__title",t),style:r,children:e})}function XI(){return y.jsx("div",{className:"tlui-dialog__header__close",children:y.jsx(I$e,{"data-testid":"dialog.close",dir:"ltr",asChild:!0,children:y.jsx(Ut,{type:"icon","aria-label":"Close",onTouchEnd:t=>t.target.click(),children:y.jsx(gr,{small:!0,icon:"cross-2"})})})})}function Rw({className:t,children:e,style:r}){return y.jsx("div",{className:Mt("tlui-dialog__body",t),style:r,children:e})}function T6({className:t,children:e}){return y.jsx("div",{className:Mt("tlui-dialog__footer",t),children:e})}const JI=I.forwardRef(function({className:e,label:r,icon:n,iconLeft:i,autoSelect:a=!1,autoFocus:o=!1,defaultValue:s,placeholder:l,onComplete:u,onValueChange:c,onCancel:A,onFocus:d,onBlur:f,shouldManuallyMaintainScrollPositionWhenFocused:p=!1,children:g,value:m,"data-testid":w},b){const C=Rd(),S=I.useRef(null);I.useImperativeHandle(b,()=>S.current);const x=Sr(),_=I.useRef(s??""),B=I.useRef(s??""),[T,R]=I.useState(!1),P=I.useCallback(j=>{R(!0);const L=j.currentTarget;B.current=L.value,C?C.timers.requestAnimationFrame(()=>{a&&L.select()}):b4.requestAnimationFrame("anon",()=>{a&&L.select()}),d==null||d()},[a,C,d]),M=I.useCallback(j=>{const L=j.currentTarget.value;B.current=L,c==null||c(L)},[c]),U=I.useCallback(j=>{switch(j.key){case"Enter":{j.currentTarget.blur(),mi(j),u==null||u(j.currentTarget.value);break}case"Escape":{j.currentTarget.value=_.current,A==null||A(j.currentTarget.value),j.currentTarget.blur(),mi(j);break}}},[u,A]),F=I.useCallback(j=>{R(!1);const L=j.currentTarget.value;f==null||f(L)},[f]);return I.useEffect(()=>{if(!tn.isIos)return;const j=window.visualViewport;if(T&&p&&j){const L=()=>{var $;($=S.current)==null||$.scrollIntoView({block:"center"})};return j.addEventListener("resize",L),j.addEventListener("scroll",L),C?C.timers.requestAnimationFrame(()=>{var $;($=S.current)==null||$.scrollIntoView({block:"center"})}):b4.requestAnimationFrame("anon",()=>{var $;($=S.current)==null||$.scrollIntoView({block:"center"})}),()=>{j.removeEventListener("resize",L),j.removeEventListener("scroll",L)}}},[T,C,p]),y.jsxs("div",{draggable:!1,className:"tlui-input__wrapper",children:[g,r&&y.jsx("label",{children:x(r)}),i&&y.jsx(qu,{icon:i,className:"tlui-icon-left",small:!0}),y.jsx("input",{ref:S,className:Mt("tlui-input",e),type:"text",defaultValue:s,onKeyDownCapture:U,onChange:M,onFocus:P,onBlur:F,autoFocus:o,placeholder:l,value:m,"data-testid":w}),n&&y.jsx(qu,{icon:n,small:!!r})]})});function o_e(t){return ps.isValid(t)?{isValid:!0,hasProtocol:!0}:ps.isValid("https://"+t)?{isValid:!0,hasProtocol:!1}:{isValid:!1,hasProtocol:!1}}const yUt=wa(function({onClose:e}){const n=we().getOnlySelectedShape();return n&&"url"in n.props&&typeof n.props.url=="string"?y.jsx(wUt,{onClose:e,selectedShape:n}):null}),wUt=wa(function({onClose:e,selectedShape:r}){const n=we(),i=Sr(),a=I.useRef(null);I.useEffect(()=>{n.timers.requestAnimationFrame(()=>{var p;return(p=a.current)==null?void 0:p.focus()})},[n]);const o=I.useRef(r.props.url),[s,l]=I.useState(()=>{const p=o_e(r.props.url),g=p.isValid===!0?p.hasProtocol?r.props.url:"https://"+r.props.url:"https://";return{actual:g,safe:g,valid:!0}}),u=I.useCallback(p=>{const g=p.replace(/https?:\/\/(https?:\/\/)/,(b,C)=>C),m=o_e(g),w=m.isValid===!0?m.hasProtocol?g:"https://"+g:"https://";l({actual:g,safe:w,valid:m.isValid})},[]),c=I.useCallback(()=>{const p=n.getOnlySelectedShape();p&&(n.updateShapes([{id:p.id,type:p.type,props:{url:""}}]),e())},[n,e]),A=I.useCallback(()=>{const p=n.getOnlySelectedShape();p&&(p&&"url"in p.props&&p.props.url!==s.safe&&n.updateShapes([{id:p.id,type:p.type,props:{url:s.safe}}]),e())},[n,e,s]),d=I.useCallback(()=>{e()},[e]);if(!r)return e(),null;const f=o.current&&!s.valid;return y.jsxs(y.Fragment,{children:[y.jsxs(VI,{children:[y.jsx(YI,{children:i("edit-link-dialog.title")}),y.jsx(XI,{})]}),y.jsx(Rw,{children:y.jsxs("div",{className:"tlui-edit-link-dialog",children:[y.jsx(JI,{ref:a,className:"tlui-edit-link-dialog__input",label:"edit-link-dialog.url",autoFocus:!0,value:s.actual,onValueChange:u,onComplete:A,onCancel:d}),y.jsx("div",{children:s.valid?i("edit-link-dialog.detail"):i("edit-link-dialog.invalid-url")})]})}),y.jsxs(T6,{className:"tlui-dialog__footer__actions",children:[y.jsx(Ut,{type:"normal",onClick:d,onTouchEnd:d,children:y.jsx(hi,{children:i("edit-link-dialog.cancel")})}),f?y.jsx(Ut,{type:"danger",onTouchEnd:c,onClick:c,children:y.jsx(hi,{children:i("edit-link-dialog.clear")})}):y.jsx(Ut,{type:"primary",disabled:!s.valid,onTouchEnd:A,onClick:A,children:y.jsx(hi,{children:i("edit-link-dialog.save")})})]})]})});var bUt={};const s_e=/(^\/r\/[^/]+\/?$)/,O6=[{type:"tldraw",title:"tldraw",hostnames:["beta.tldraw.com","tldraw.com","localhost:3000"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,overridePermissions:{"allow-top-navigation":!0},toEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(s_e))return t},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(s_e))return t}},{type:"figma",title:"Figma",hostnames:["figma.com"],width:720,height:500,doesResize:!0,toEmbedUrl:t=>{if(t.match(/https:\/\/([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/)&&!t.includes("figma.com/embed"))return`https://www.figma.com/embed?embed_host=share&url=${t}`},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/embed\/?$/)){const r=e.searchParams.get("url");if(r)return r}}},{type:"google_maps",title:"Google Maps",hostnames:["google.*"],width:720,height:500,doesResize:!0,overridePermissions:{"allow-presentation":!0},toEmbedUrl:t=>{if(t.includes("/maps/embed?"))return t;if(t.includes("/maps/")){const e=t.match(/@(.*?),(.*?),(.*?)z/);let r;if(e){const[,n,i,a]=e;r=`https://${new URL(t).host.replace("www.","")}/maps/embed/v1/view?key=${bUt.NEXT_PUBLIC_GC_API_KEY}&center=${n},${i}&zoom=${a}`}else r="";return r}},fromEmbedUrl:t=>{const e=Yt(t);if(!e)return;if(e.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&e.searchParams.has("center")&&e.searchParams.get("zoom")){const n=e.searchParams.get("zoom"),[i,a]=e.searchParams.get("center").split(",");return`https://www.google.com/maps/@${i},${a},${n}z`}}},{type:"val_town",title:"Val Town",hostnames:["val.town"],minWidth:260,minHeight:100,width:720,height:500,doesResize:!0,toEmbedUrl:t=>{const e=Yt(t),r=e&&e.pathname.match(/\/v\/(.+)\/?/);if(r)return`https://www.val.town/embed/${r[1]}`},fromEmbedUrl:t=>{const e=Yt(t),r=e&&e.pathname.match(/\/embed\/(.+)\/?/);if(r)return`https://www.val.town/v/${r[1]}`}},{type:"codesandbox",title:"CodeSandbox",hostnames:["codesandbox.io"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,toEmbedUrl:t=>{const e=Yt(t),r=e&&e.pathname.match(/\/s\/([^/]+)\/?/);if(r)return`https://codesandbox.io/embed/${r[1]}`},fromEmbedUrl:t=>{const e=Yt(t),r=e&&e.pathname.match(/\/embed\/([^/]+)\/?/);if(r)return`https://codesandbox.io/s/${r[1]}`}},{type:"codepen",title:"Codepen",hostnames:["codepen.io"],minWidth:300,minHeight:300,width:520,height:400,doesResize:!0,toEmbedUrl:t=>{const e=/https:\/\/codepen.io\/([^/]+)\/pen\/([^/]+)/,r=t.match(e);if(r){const[n,i,a]=r;return`https://codepen.io/${i}/embed/${a}`}},fromEmbedUrl:t=>{const e=/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/,r=t.match(e);if(r){const[n,i,a]=r;return`https://codepen.io/${i}/pen/${a}`}}},{type:"scratch",title:"Scratch",hostnames:["scratch.mit.edu"],width:520,height:400,doesResize:!1,toEmbedUrl:t=>{const e=/https?:\/\/scratch.mit.edu\/projects\/([^/]+)/,r=t.match(e);if(r){const[n,i]=r;return`https://scratch.mit.edu/projects/embed/${i}`}},fromEmbedUrl:t=>{const e=/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/,r=t.match(e);if(r){const[n,i]=r;return`https://scratch.mit.edu/projects/${i}`}}},{type:"youtube",title:"YouTube",hostnames:["*.youtube.com","youtube.com","youtu.be"],width:800,height:450,doesResize:!0,overridePermissions:{"allow-presentation":!0,"allow-popups-to-escape-sandbox":!0},isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=Yt(t);if(!e)return;const r=e.hostname.replace(/^www./,"");if(r==="youtu.be")return`https://www.youtube.com/embed/${e.pathname.split("/").filter(Boolean)[0]}`;if((r==="youtube.com"||r==="m.youtube.com")&&e.pathname.match(/^\/watch/))return`https://www.youtube.com/embed/${e.searchParams.get("v")}`},fromEmbedUrl:t=>{const e=Yt(t);if(!e)return;if(e.hostname.replace(/^www./,"")==="youtube.com"){const n=e.pathname.match(/^\/embed\/([^/]+)\/?/);if(n)return`https://www.youtube.com/watch?v=${n[1]}`}}},{type:"google_calendar",title:"Google Calendar",hostnames:["calendar.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,instructionLink:"https://support.google.com/calendar/answer/41207?hl=en",overridePermissions:{"allow-popups-to-escape-sandbox":!0},toEmbedUrl:t=>{const e=Yt(t),r=e==null?void 0:e.searchParams.get("cid");if(e!=null&&e.pathname.match(/\/calendar\/u\/0/)&&r){e.pathname="/calendar/embed";const n=Array.from(e.searchParams.keys());for(const i of n)e.searchParams.delete(i);return e.searchParams.set("src",r),e.href}},fromEmbedUrl:t=>{const e=Yt(t),r=e==null?void 0:e.searchParams.get("src");if(e!=null&&e.pathname.match(/\/calendar\/embed/)&&r){e.pathname="/calendar/u/0";const n=Array.from(e.searchParams.keys());for(const i of n)e.searchParams.delete(i);return e.searchParams.set("cid",r),e.href}}},{type:"google_slides",title:"Google Slides",hostnames:["docs.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,overridePermissions:{"allow-popups-to-escape-sandbox":!0},toEmbedUrl:t=>{const e=Yt(t);if(e!=null&&e.pathname.match(/^\/presentation/)&&(e!=null&&e.pathname.match(/\/pub\/?$/))){e.pathname=e.pathname.replace(/\/pub$/,"/embed");const r=Array.from(e.searchParams.keys());for(const n of r)e.searchParams.delete(n);return e.href}},fromEmbedUrl:t=>{const e=Yt(t);if(e!=null&&e.pathname.match(/^\/presentation/)&&(e!=null&&e.pathname.match(/\/embed\/?$/))){e.pathname=e.pathname.replace(/\/embed$/,"/pub");const r=Array.from(e.searchParams.keys());for(const n of r)e.searchParams.delete(n);return e.href}}},{type:"github_gist",title:"GitHub Gist",hostnames:["gist.github.com"],width:720,height:500,doesResize:!0,toEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/\/([^/]+)\/([0-9a-f]+)$/))return t.split("/").pop()?t:void 0},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/\/([^/]+)\/([0-9a-f]+)$/))return t.split("/").pop()?t:void 0}},{type:"replit",title:"Replit",hostnames:["replit.com"],width:720,height:500,doesResize:!0,toEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/\/@([^/]+)\/([^/]+)/))return`${t}?embed=true`},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/\/@([^/]+)\/([^/]+)/)&&e.searchParams.has("embed"))return e.searchParams.delete("embed"),e.href}},{type:"felt",title:"Felt",hostnames:["felt.com"],width:720,height:500,doesResize:!0,toEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/map\//))return e.origin+"/embed"+e.pathname},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/embed\/map\//))return e.pathname=e.pathname.replace(/^\/embed/,""),e.href}},{type:"spotify",title:"Spotify",hostnames:["open.spotify.com"],width:720,height:500,minHeight:500,overrideOutlineRadius:12,doesResize:!0,toEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/(artist|album)\//))return e.origin+"/embed"+e.pathname},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/embed\/(artist|album)\//))return e.origin+e.pathname.replace(/^\/embed/,"")}},{type:"vimeo",title:"Vimeo",hostnames:["vimeo.com","player.vimeo.com"],width:640,height:360,doesResize:!0,isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=Yt(t);if(e&&e.hostname==="vimeo.com"&&e.pathname.match(/^\/[0-9]+/))return"https://player.vimeo.com/video/"+e.pathname.split("/")[1]+"?title=0&byline=0"},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.hostname==="player.vimeo.com"){const r=e.pathname.match(/^\/video\/([^/]+)\/?$/);if(r)return"https://vimeo.com/"+r[1]}}},{type:"excalidraw",title:"Excalidraw",hostnames:["excalidraw.com"],width:720,height:500,doesResize:!0,isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=Yt(t);if(e&&e.hash.match(/#room=/))return t},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.hash.match(/#room=/))return t}},{type:"observable",title:"Observable",hostnames:["observablehq.com"],width:720,height:500,doesResize:!0,isAspectRatioLocked:!1,backgroundColor:"#fff",toEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/@([^/]+)\/([^/]+)\/?$/))return`${e.origin}/embed${e.pathname}?cell=*`;if(e&&e.pathname.match(/^\/d\/([^/]+)\/?$/)){const r=e.pathname.replace(/^\/d/,"");return`${e.origin}/embed${r}?cell=*`}},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/))return`${e.origin}${e.pathname.replace("/embed","")}#cell-*`;if(e&&e.pathname.match(/^\/embed\/([^/]+)\/?$/))return`${e.origin}${e.pathname.replace("/embed","/d")}#cell-*`}},{type:"desmos",title:"Desmos",hostnames:["desmos.com"],width:700,height:450,doesResize:!0,toEmbedUrl:t=>{const e=Yt(t);if(e&&e.hostname==="www.desmos.com"&&e.pathname.match(/^\/calculator\/([^/]+)\/?$/)&&e.search===""&&e.hash==="")return`${t}?embed`},fromEmbedUrl:t=>{const e=Yt(t);if(e&&e.hostname==="www.desmos.com"&&e.pathname.match(/^\/calculator\/([^/]+)\/?$/)&&e.search==="?embed"&&e.hash==="")return t.replace("?embed","")}}],SUt={"allow-downloads-without-user-activation":!1,"allow-downloads":!1,"allow-modals":!1,"allow-orientation-lock":!1,"allow-pointer-lock":!1,"allow-popups":!0,"allow-popups-to-escape-sandbox":!1,"allow-presentation":!1,"allow-storage-access-by-user-activation":!1,"allow-top-navigation":!1,"allow-top-navigation-by-user-activation":!1,"allow-scripts":!0,"allow-same-origin":!0,"allow-forms":!0},xUt=O6.map(t=>t.type);function CUt(t){return xUt.includes(t)}function _Ut(t){return"icon"in t}function T$e(){const t=we();if(t.hasShapeUtil("embed"))return t.getShapeUtil("embed")}function R6(){const t=T$e();return e=>t?t.getEmbedDefinition(e):void 0}function EUt(){const t=T$e();return t?t.getEmbedDefinitions():[]}const O$e=wa(function({onClose:e}){const r=we(),n=Sr(),i=_6(),[a,o]=I.useState(null),[s,l]=I.useState(""),[u,c]=I.useState(null),[A,d]=I.useState(!1),f=I.useRef(-1),p=EUt(),g=R6();return y.jsxs(y.Fragment,{children:[y.jsxs(VI,{children:[y.jsx(YI,{children:a?`${n("embed-dialog.title")}  ${a.title}`:n("embed-dialog.title")}),y.jsx(XI,{})]}),a?y.jsxs(y.Fragment,{children:[y.jsxs(Rw,{className:"tlui-embed-dialog__enter",children:[y.jsx(JI,{className:"tlui-embed-dialog__input",label:"embed-dialog.url",placeholder:"https://example.com",autoFocus:!0,onValueChange:m=>{l(m);const w=g(m);c(w&&w.definition.type===a.type?w:null),d(!1),clearTimeout(f.current),f.current=r.timers.setTimeout(()=>d(!w),320)}}),s===""?y.jsxs("div",{className:"tlui-embed-dialog__instruction",children:[y.jsx("span",{children:n("embed-dialog.instruction")})," ",a.instructionLink&&y.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:a.instructionLink,className:"tlui-embed-dialog__instruction__link",children:["Learn more.",y.jsx(qu,{icon:"external-link",small:!0})]})]}):y.jsx("div",{className:"tlui-embed-dialog__warning",children:A?n("embed-dialog.invalid-url"):""})]}),y.jsxs(T6,{className:"tlui-dialog__footer__actions",children:[y.jsx(Ut,{type:"normal",onClick:()=>{o(null),c(null),l("")},children:y.jsx(hi,{children:n("embed-dialog.back")})}),y.jsx("div",{className:"tlui-embed__spacer"}),y.jsx(Ut,{type:"normal",onClick:e,children:y.jsx(hi,{children:n("embed-dialog.cancel")})}),y.jsx(Ut,{type:"primary",disabled:!u,onClick:()=>{u&&(r.putExternalContent({type:"embed",url:s,point:r.getViewportPageBounds().center,embed:u.definition}),e())},children:y.jsx(hi,{children:n("embed-dialog.create")})})]})]}):y.jsx(y.Fragment,{children:y.jsx(Rw,{className:"tlui-embed-dialog__list",children:p.map(m=>{const w=CUt(m.type)?i.embedIcons[m.type]:_Ut(m)?m.icon:void 0;return y.jsxs(Ut,{type:"menu",onClick:()=>o(m),children:[y.jsx(hi,{children:m.title}),w&&y.jsx("div",{className:"tlui-embed-dialog__item__image",style:{backgroundImage:`url(${w})`}})]},m.type)})})})]})});async function IUt(t,e,r){const n=sr(e.map(s=>{const l=t.getShape(s);if(!(!l||t.getShapeUtil(l.type).toSvg===void 0))return l}));if(n.length===0)return;if(n.length===1){const s=n[0];if(!s||t.isShapeOfType(s,"image"))return}const i=[];if(r!==void 0){const s=n.map(l=>({shape:l,bounds:t.getShapeMaskedPageBounds(l).clone().expandBy(r)}));for(let l=0;l<s.length;l++){const u=s[l];if(l===0){i[0]={shapes:[u.shape],bounds:u.bounds};continue}let c=!1;for(const A of i)if(A.bounds.includes(u.bounds)){A.shapes.push(u.shape),A.bounds.expand(u.bounds),c=!0;break}c||i.push({shapes:[u.shape],bounds:u.bounds})}}else{const s=Ze.Common(n.map(l=>t.getShapeMaskedPageBounds(l)));i.push({shapes:n,bounds:s})}const a=t.options.flattenImageBoundsPadding;for(const s of i){r!==void 0&&s.bounds.expandBy(-r);const l=await t.getSvgString(s.shapes,{padding:a});if(!(l!=null&&l.svg))continue;const u=await t.getAssetForExternalContent({type:"file",file:new File([l.svg],"asset.svg",{type:"image/svg+xml"})});u&&(s.asset=u)}const o=[];return Ao(()=>{for(const s of i){const{asset:l,bounds:u,shapes:c}=s;if(!l)continue;const A=t.findCommonAncestor(c)??t.getCurrentPageId();if(!A)continue;let d="a1";for(const w of c)if(w.parentId===A){w.index>d&&(d=w.index);break}let f,p,g;if(Fo(A)){const w=t.getShape(A);if(!w)continue;const b=t.getPointInShapeSpace(w,{x:u.x,y:u.y});g=t.getShapePageTransform(A).rotation(),b.sub(new k(a,a).rot(-g)),f=b.x,p=b.y}else f=u.x-a,p=u.y-a,g=0;t.deleteShapes(c),t.createAssets([{...l,id:l.id}]);const m=an();t.createShape({id:m,type:"image",index:d,parentId:A,x:f,y:p,rotation:-g,props:{assetId:l.id,w:u.w+a*2,h:u.h+a*2}}),o.push(m)}}),o}function ZI(){const t=Rd();return(t==null?void 0:t.store.props.collaboration)!==void 0}function BUt(){const t=Rd();return Ce("sync status",()=>{var e;return(e=t==null?void 0:t.store.props.collaboration)!=null&&e.status?t.store.props.collaboration.status.get():null},[t])}const gN=[0,389,436,476,580,640,840,1023];var ai=(t=>(t[t.ZERO=0]="ZERO",t[t.MOBILE_XXS=1]="MOBILE_XXS",t[t.MOBILE_XS=2]="MOBILE_XS",t[t.MOBILE_SM=3]="MOBILE_SM",t[t.MOBILE=4]="MOBILE",t[t.TABLET_SM=5]="TABLET_SM",t[t.TABLET=6]="TABLET",t[t.DESKTOP=7]="DESKTOP",t))(ai||{});const R$e=ce.createContext(null);function PUt({forceMobile:t=!1,children:e}){const r=Rd(),n=Ce("breakpoint",()=>{const{width:i}=(r==null?void 0:r.getViewportScreenBounds())??{width:window.innerWidth},a=t?ai.MOBILE_SM:gN.length-1;for(let o=0;o<a;o++)if(i>gN[o]&&i<=gN[o+1])return o;return a},[r]);return y.jsx(R$e.Provider,{value:n,children:e})}function vo(){const t=I.useContext(R$e);if(t===null)throw new Error("useBreakpoint must be used inside of the <BreakpointProvider /> component");return t}const U4=I.createContext(null);function TUt({context:t,children:e}){const r=I.useContext(U4),n=xa(),i=P5("dialogs",[]),a=I.useMemo(()=>({dialogs:i,addDialog(o){const s=o.id??Xr();return i.update(l=>[...l.filter(u=>u.id!==o.id),{...o,id:s}]),n("open-menu",{source:"dialog",id:s}),Il.addOpenMenu(s,t),s},removeDialog(o){var l;const s=i.get().find(u=>u.id===o);return s&&((l=s.onClose)==null||l.call(s),n("close-menu",{source:"dialog",id:o}),Il.deleteOpenMenu(o,t),i.update(u=>u.filter(c=>c!==s))),o},clearDialogs(){const o=i.get();o.length!==0&&(o.forEach(s=>{var l;(l=s.onClose)==null||l.call(s),n("close-menu",{source:"dialog",id:s.id}),Il.deleteOpenMenu(s.id,t)}),i.set([]))}}),[n,i,t]);return r?y.jsx(y.Fragment,{children:e}):y.jsx(U4.Provider,{value:a,children:e})}function Kb(){const t=I.useContext(U4);if(!t)throw new Error("useDialogs must be used within a DialogsProvider");return t}var OUt="VisuallyHidden",M6=I.forwardRef((t,e)=>y.jsx(Rr.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));M6.displayName=OUt;var F6="ToastProvider",[k6,RUt,MUt]=DI("Toast"),[M$e,j3t]=ic("Toast",[MUt]),[FUt,eB]=M$e(F6),F$e=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,l]=I.useState(null),[u,c]=I.useState(0),A=I.useRef(!1),d=I.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${F6}\`. Expected non-empty \`string\`.`),y.jsx(k6.Provider,{scope:e,children:y.jsx(FUt,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:I.useCallback(()=>c(f=>f+1),[]),onToastRemove:I.useCallback(()=>c(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:d,children:o})})};F$e.displayName=F6;var k$e="ToastViewport",kUt=["F8"],D4="toast.viewportPause",j4="toast.viewportResume",U$e=I.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=kUt,label:i="Notifications ({hotkey})",...a}=t,o=eB(k$e,r),s=RUt(r),l=I.useRef(null),u=I.useRef(null),c=I.useRef(null),A=I.useRef(null),d=Sn(e,A,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;I.useEffect(()=>{const m=w=>{var C;n.length!==0&&n.every(S=>w[S]||w.code===S)&&((C=A.current)==null||C.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),I.useEffect(()=>{const m=l.current,w=A.current;if(p&&m&&w){const b=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(D4);w.dispatchEvent(_),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(j4);w.dispatchEvent(_),o.isClosePausedRef.current=!1}},S=_=>{!m.contains(_.relatedTarget)&&C()},x=()=>{m.contains(document.activeElement)||C()};return m.addEventListener("focusin",b),m.addEventListener("focusout",S),m.addEventListener("pointermove",b),m.addEventListener("pointerleave",x),window.addEventListener("blur",b),window.addEventListener("focus",C),()=>{m.removeEventListener("focusin",b),m.removeEventListener("focusout",S),m.removeEventListener("pointermove",b),m.removeEventListener("pointerleave",x),window.removeEventListener("blur",b),window.removeEventListener("focus",C)}}},[p,o.isClosePausedRef]);const g=I.useCallback(({tabbingDirection:m})=>{const b=s().map(C=>{const S=C.ref.current,x=[S,...GUt(S)];return m==="forwards"?x:x.reverse()});return(m==="forwards"?b.reverse():b).flat()},[s]);return I.useEffect(()=>{const m=A.current;if(m){const w=b=>{var x,_,B;const C=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!C){const T=document.activeElement,R=b.shiftKey;if(b.target===m&&R){(x=u.current)==null||x.focus();return}const U=g({tabbingDirection:R?"backwards":"forwards"}),F=U.findIndex(j=>j===T);mN(U.slice(F+1))?b.preventDefault():R?(_=u.current)==null||_.focus():(B=c.current)==null||B.focus()}};return m.addEventListener("keydown",w),()=>m.removeEventListener("keydown",w)}},[s,g]),y.jsxs(u2t,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&y.jsx(L4,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});mN(m)}}),y.jsx(k6.Slot,{scope:r,children:y.jsx(Rr.ol,{tabIndex:-1,...a,ref:d})}),p&&y.jsx(L4,{ref:c,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});mN(m)}})]})});U$e.displayName=k$e;var D$e="ToastFocusProxy",L4=I.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=eB(D$e,r);return y.jsx(M6,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(s))&&n()}})});L4.displayName=D$e;var tB="Toast",UUt="toast.swipeStart",DUt="toast.swipeMove",jUt="toast.swipeCancel",LUt="toast.swipeEnd",j$e=I.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s=!0,l]=Nd({prop:n,defaultProp:i,onChange:a});return y.jsx(eu,{present:r||s,children:y.jsx(QUt,{open:s,...o,ref:e,onClose:()=>l(!1),onPause:va(t.onPause),onResume:va(t.onResume),onSwipeStart:Et(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Et(t.onSwipeMove,u=>{const{x:c,y:A}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:Et(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Et(t.onSwipeEnd,u=>{const{x:c,y:A}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),l(!1)})})})});j$e.displayName=tB;var[NUt,$Ut]=M$e(tB,{onClose(){}}),QUt=I.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:A,onSwipeCancel:d,onSwipeEnd:f,...p}=t,g=eB(tB,r),[m,w]=I.useState(null),b=Sn(e,j=>w(j)),C=I.useRef(null),S=I.useRef(null),x=i||g.duration,_=I.useRef(0),B=I.useRef(x),T=I.useRef(0),{onToastAdd:R,onToastRemove:P}=g,M=va(()=>{var L;(m==null?void 0:m.contains(document.activeElement))&&((L=g.viewport)==null||L.focus()),o()}),U=I.useCallback(j=>{!j||j===1/0||(window.clearTimeout(T.current),_.current=new Date().getTime(),T.current=window.setTimeout(M,j))},[M]);I.useEffect(()=>{const j=g.viewport;if(j){const L=()=>{U(B.current),u==null||u()},$=()=>{const Q=new Date().getTime()-_.current;B.current=B.current-Q,window.clearTimeout(T.current),l==null||l()};return j.addEventListener(D4,$),j.addEventListener(j4,L),()=>{j.removeEventListener(D4,$),j.removeEventListener(j4,L)}}},[g.viewport,x,l,u,U]),I.useEffect(()=>{a&&!g.isClosePausedRef.current&&U(x)},[a,x,g.isClosePausedRef,U]),I.useEffect(()=>(R(),()=>P()),[R,P]);const F=I.useMemo(()=>m?K$e(m):null,[m]);return g.viewport?y.jsxs(y.Fragment,{children:[F&&y.jsx(HUt,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),y.jsx(NUt,{scope:r,onClose:M,children:rh.createPortal(y.jsx(k6.ItemSlot,{scope:r,children:y.jsx(l2t,{asChild:!0,onEscapeKeyDown:Et(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Rr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Et(t.onKeyDown,j=>{j.key==="Escape"&&(s==null||s(j.nativeEvent),j.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Et(t.onPointerDown,j=>{j.button===0&&(C.current={x:j.clientX,y:j.clientY})}),onPointerMove:Et(t.onPointerMove,j=>{if(!C.current)return;const L=j.clientX-C.current.x,$=j.clientY-C.current.y,Q=!!S.current,H=["left","right"].includes(g.swipeDirection),q=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Y=H?q(0,L):0,z=H?0:q(0,$),V=j.pointerType==="touch"?10:2,X={x:Y,y:z},ee={originalEvent:j,delta:X};Q?(S.current=X,sx(DUt,A,ee,{discrete:!1})):l_e(X,g.swipeDirection,V)?(S.current=X,sx(UUt,c,ee,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(L)>V||Math.abs($)>V)&&(C.current=null)}),onPointerUp:Et(t.onPointerUp,j=>{const L=S.current,$=j.target;if($.hasPointerCapture(j.pointerId)&&$.releasePointerCapture(j.pointerId),S.current=null,C.current=null,L){const Q=j.currentTarget,H={originalEvent:j,delta:L};l_e(L,g.swipeDirection,g.swipeThreshold)?sx(LUt,f,H,{discrete:!0}):sx(jUt,d,H,{discrete:!0}),Q.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),HUt=t=>{const{__scopeToast:e,children:r,...n}=t,i=eB(tB,e),[a,o]=I.useState(!1),[s,l]=I.useState(!1);return zUt(()=>o(!0)),I.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:y.jsx($b,{asChild:!0,children:y.jsx(M6,{...n,children:a&&y.jsxs(y.Fragment,{children:[i.label," ",r]})})})},qUt="ToastTitle",L$e=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return y.jsx(Rr.div,{...n,ref:e})});L$e.displayName=qUt;var KUt="ToastDescription",N$e=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return y.jsx(Rr.div,{...n,ref:e})});N$e.displayName=KUt;var $$e="ToastAction",Q$e=I.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?y.jsx(q$e,{altText:r,asChild:!0,children:y.jsx(U6,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$$e}\`. Expected non-empty \`string\`.`),null)});Q$e.displayName=$$e;var H$e="ToastClose",U6=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=$Ut(H$e,r);return y.jsx(q$e,{asChild:!0,children:y.jsx(Rr.button,{type:"button",...n,ref:e,onClick:Et(t.onClick,i.onClose)})})});U6.displayName=H$e;var q$e=I.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return y.jsx(Rr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function K$e(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),WUt(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...K$e(n))}}),e}function sx(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Yq(i,a):i.dispatchEvent(a)}var l_e=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function zUt(t=()=>{}){const e=va(t);gd(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function WUt(t){return t.nodeType===t.ELEMENT_NODE}function GUt(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function mN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var VUt=j$e,YUt=L$e,XUt=N$e,JUt=Q$e,u_e=U6;const N4=I.createContext(null);function ZUt({children:t}){const e=P5("toasts",[]),r=I.useContext(N4),n=I.useMemo(()=>({toasts:e,addToast(i){const a=i.id??Xr();return e.update(o=>[...o.filter(s=>s.id!==i.id),{...i,id:a}]),a},removeToast(i){return e.update(a=>a.filter(o=>o.id!==i)),i},clearToasts(){e.set([])}}),[e]);return r?y.jsx(y.Fragment,{children:t}):y.jsx(F$e,{children:y.jsx(N4.Provider,{value:n,children:t})})}function AA(){const t=I.useContext(N4);if(!t)throw new Error("useToasts must be used within a ToastsProvider");return t}var qx={exports:{}};qx.exports;var c_e;function eDt(){return c_e||(c_e=1,function(t){var e=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function o(l,u){if(!a[l]){a[l]={};for(var c=0;c<l.length;c++)a[l][l.charAt(c)]=c}return a[l][u]}var s={compressToBase64:function(l){if(l==null)return"";var u=s._compress(l,6,function(c){return n.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(u){return o(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=s.compress(l),c=new Uint8Array(u.length*2),A=0,d=u.length;A<d;A++){var f=u.charCodeAt(A);c[A*2]=f>>>8,c[A*2+1]=f%256}return c},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var u=new Array(l.length/2),c=0,A=u.length;c<A;c++)u[c]=l[c*2]*256+l[c*2+1];var d=[];return u.forEach(function(f){d.push(r(f))}),s.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(u){return o(i,l.charAt(u))}))},compress:function(l){return s._compress(l,16,function(u){return r(u)})},_compress:function(l,u,c){if(l==null)return"";var A,d,f={},p={},g="",m="",w="",b=2,C=3,S=2,x=[],_=0,B=0,T;for(T=0;T<l.length;T+=1)if(g=l.charAt(T),Object.prototype.hasOwnProperty.call(f,g)||(f[g]=C++,p[g]=!0),m=w+g,Object.prototype.hasOwnProperty.call(f,m))w=m;else{if(Object.prototype.hasOwnProperty.call(p,w)){if(w.charCodeAt(0)<256){for(A=0;A<S;A++)_=_<<1,B==u-1?(B=0,x.push(c(_)),_=0):B++;for(d=w.charCodeAt(0),A=0;A<8;A++)_=_<<1|d&1,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=d>>1}else{for(d=1,A=0;A<S;A++)_=_<<1|d,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=0;for(d=w.charCodeAt(0),A=0;A<16;A++)_=_<<1|d&1,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=d>>1}b--,b==0&&(b=Math.pow(2,S),S++),delete p[w]}else for(d=f[w],A=0;A<S;A++)_=_<<1|d&1,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=d>>1;b--,b==0&&(b=Math.pow(2,S),S++),f[m]=C++,w=String(g)}if(w!==""){if(Object.prototype.hasOwnProperty.call(p,w)){if(w.charCodeAt(0)<256){for(A=0;A<S;A++)_=_<<1,B==u-1?(B=0,x.push(c(_)),_=0):B++;for(d=w.charCodeAt(0),A=0;A<8;A++)_=_<<1|d&1,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=d>>1}else{for(d=1,A=0;A<S;A++)_=_<<1|d,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=0;for(d=w.charCodeAt(0),A=0;A<16;A++)_=_<<1|d&1,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=d>>1}b--,b==0&&(b=Math.pow(2,S),S++),delete p[w]}else for(d=f[w],A=0;A<S;A++)_=_<<1|d&1,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=d>>1;b--,b==0&&(b=Math.pow(2,S),S++)}for(d=2,A=0;A<S;A++)_=_<<1|d&1,B==u-1?(B=0,x.push(c(_)),_=0):B++,d=d>>1;for(;;)if(_=_<<1,B==u-1){x.push(c(_));break}else B++;return x.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var A=[],d=4,f=4,p=3,g="",m=[],w,b,C,S,x,_,B,T={val:c(0),position:u,index:1};for(w=0;w<3;w+=1)A[w]=w;for(C=0,x=Math.pow(2,2),_=1;_!=x;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),C|=(S>0?1:0)*_,_<<=1;switch(C){case 0:for(C=0,x=Math.pow(2,8),_=1;_!=x;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),C|=(S>0?1:0)*_,_<<=1;B=r(C);break;case 1:for(C=0,x=Math.pow(2,16),_=1;_!=x;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),C|=(S>0?1:0)*_,_<<=1;B=r(C);break;case 2:return""}for(A[3]=B,b=B,m.push(B);;){if(T.index>l)return"";for(C=0,x=Math.pow(2,p),_=1;_!=x;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),C|=(S>0?1:0)*_,_<<=1;switch(B=C){case 0:for(C=0,x=Math.pow(2,8),_=1;_!=x;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),C|=(S>0?1:0)*_,_<<=1;A[f++]=r(C),B=f-1,d--;break;case 1:for(C=0,x=Math.pow(2,16),_=1;_!=x;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),C|=(S>0?1:0)*_,_<<=1;A[f++]=r(C),B=f-1,d--;break;case 2:return m.join("")}if(d==0&&(d=Math.pow(2,p),p++),A[B])g=A[B];else if(B===f)g=b+b.charAt(0);else return null;m.push(g),A[f++]=b+g.charAt(0),d--,b=g,d==0&&(d=Math.pow(2,p),p++)}}};return s}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})}(qx)),qx.exports}var tDt=eDt();const z$e=kr(tDt),D6="web image/vnd.tldraw+png",rDt={png:D6},nDt={[D6]:"image/png"};function iDt(t){return qa(rDt,t)??null}function aDt(t){return qa(nDt,t)??t}function oDt(t){return typeof ClipboardItem<"u"&&"supports"in ClipboardItem&&ClipboardItem.supports(t)}function sDt(t){const e=Object.entries(t);for(const[r,n]of e)n.catch(i=>console.error(i));return navigator.clipboard.write([new ClipboardItem(t)]).catch(r=>(console.error(r),Promise.all(e.map(async([n,i])=>[n,await i])).then(n=>{const i=ZOe(n);return navigator.clipboard.write([new ClipboardItem(i)])})))}async function lDt(t,e,r,n){const i=e.map(a=>a instanceof File?a:new File([a],"tldrawFile",{type:a.type}));t.markHistoryStoppingPoint("paste"),await t.putExternalContent({type:"files",files:i,point:r,ignoreParent:!1,sources:n})}async function $4(t,e,r,n){return t.markHistoryStoppingPoint("paste"),await t.putExternalContent({type:"url",point:r,url:e,sources:n})}const uDt=[D6,"image/png","image/jpeg","image/webp","image/svg+xml"];function cDt(t){const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t.trim(),e.body.textContent||e.body.innerText||""}const ADt=t=>{try{const e=new URL(t);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}},dDt=t=>{const e=t.split(/[\n\s]/);for(const r of e)try{const n=new URL(r);if(!(n.protocol==="http:"||n.protocol==="https:"))return}catch{return}return oMe(e)},fDt=t=>/^<svg/.test(t),hDt=["input","select","textarea"];function vN(t){const{activeElement:e}=document;return t.menus.hasAnyOpenMenus()||e&&(e.getAttribute("contenteditable")||hDt.indexOf(e.tagName.toLowerCase())>-1)}const lx=(t,e,r,n)=>{const i=dDt(e);if(i)for(const a of i)$4(t,a,r);else ADt(e)?$4(t,e,r):fDt(e)?(t.markHistoryStoppingPoint("paste"),t.putExternalContent({type:"svg-text",text:e,point:r,sources:n})):(t.markHistoryStoppingPoint("paste"),t.putExternalContent({type:"text",text:e,point:r,sources:n}))},pDt=async(t,e,r)=>{if(t.getEditingShapeId()!==null)return;if(!e)throw Error("No clipboard data");const n=[];for(const i of Object.values(e.items))switch(i.kind){case"file":{n.push({type:"file",source:new Promise(a=>a(i.getAsFile()))});break}case"string":{i.type==="text/html"?n.push({type:"html",source:new Promise(a=>i.getAsString(a))}):i.type==="text/plain"?n.push({type:"text",source:new Promise(a=>i.getAsString(a))}):n.push({type:i.type,source:new Promise(a=>i.getAsString(a))});break}}G$e(t,n,r)},W$e=async({editor:t,clipboardItems:e,point:r,fallbackFiles:n})=>{const i=[];for(const a of e){for(const o of uDt)if(a.types.includes(o)){const s=a.getType(o).then(l=>zs.rewriteMimeType(l,aDt(o)));i.push({type:"blob",source:s});break}a.types.includes("text/html")&&i.push({type:"html",source:(async()=>{const o=await a.getType("text/html");return await zs.blobToText(o)})()}),a.types.includes("text/uri-list")&&i.push({type:"url",source:(async()=>{const o=await a.getType("text/uri-list");return await zs.blobToText(o)})()}),a.types.includes("text/plain")&&i.push({type:"text",source:(async()=>{const o=await a.getType("text/plain");return await zs.blobToText(o)})()})}return n!=null&&n.length&&i.length===1&&i[0].type==="text"&&(i.pop(),i.push(...n.map(a=>({type:"file",source:Promise.resolve(a)})))),await G$e(t,i,r)};async function G$e(t,e,r){const n=e.filter(a=>(a.type==="file"||a.type==="blob")&&a.source!==null);if(n.length){if(n.length>t.options.maxFilesAtOnce)throw Error("Too many files");const a=sr(await Promise.all(n.map(o=>o.source)));return await lDt(t,a,r)}const i=await Promise.all(e.filter(a=>a.type!=="file").map(a=>new Promise(o=>{const s=a;if(s.type==="file"){o({type:"error",data:null,reason:"unexpected file"});return}s.source.then(l=>{var c;const u=(c=l.match(/<div data-tldraw[^>]*>(.*)<\/div>/))==null?void 0:c[1];if(u)try{const A=z$e.decompressFromBase64(u);if(A===null){o({type:"error",data:A,reason:"found tldraw data comment but could not parse base64"});return}else{const d=JSON.parse(A);if(d.type!=="application/tldraw"&&o({type:"error",data:d,reason:`found tldraw data comment but JSON was of a different type: ${d.type}`}),typeof d.data=="string"){o({type:"error",data:d,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"});return}o({type:"tldraw",data:d.data});return}}catch{o({type:"error",data:u,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"});return}else{if(s.type==="html"){o({type:"text",data:l,subtype:"html"});return}if(s.type==="url"){o({type:"text",data:l,subtype:"url"});return}try{const A=JSON.parse(l);if(A.type==="excalidraw/clipboard"){o({type:"excalidraw",data:A});return}else{o({type:"text",data:l,subtype:"json"});return}}catch{o({type:"text",data:l,subtype:"text"});return}}o({type:"error",data:l,reason:"unhandled case"})})})));for(const a of i)if(a.type==="tldraw"){t.markHistoryStoppingPoint("paste"),t.putExternalContent({type:"tldraw",content:a.data,point:r});return}for(const a of i)if(a.type==="excalidraw"){t.markHistoryStoppingPoint("paste"),t.putExternalContent({type:"excalidraw",content:a.data,point:r});return}for(const a of i){if(a.type==="text"&&a.subtype==="html"){const s=new DOMParser().parseFromString(a.data,"text/html").querySelector("body");if(s&&Array.from(s.children).filter(u=>u.nodeType===1).length===1&&s.firstElementChild&&s.firstElementChild.tagName==="A"&&s.firstElementChild.hasAttribute("href")&&s.firstElementChild.getAttribute("href")!==""){const u=s.firstElementChild.getAttribute("href");lx(t,u,r,i);return}if(!i.some(u=>u.type==="text"&&u.subtype!=="html")&&a.data.trim()){lx(t,cDt(a.data),r,i);return}}if(a.type==="text"&&a.subtype==="text"&&a.data.startsWith("<iframe ")){const s=new DOMParser().parseFromString(a.data,"text/html").querySelector("body");if(s&&Array.from(s.children).filter(u=>u.nodeType===1).length===1&&s.firstElementChild&&s.firstElementChild.tagName==="IFRAME"&&s.firstElementChild.hasAttribute("src")&&s.firstElementChild.getAttribute("src")!==""){const u=s.firstElementChild.getAttribute("src");lx(t,u,r,i);return}}}for(const a of i)if(a.type==="text"&&a.subtype==="url"){$4(t,a.data,r,i);return}for(const a of i)if(a.type==="text"&&a.subtype==="text"&&a.data.trim()){lx(t,a.data,r,i);return}}const a_=async t=>{var n;const e=await t.resolveAssetsInContent(t.getContentFromCurrentPage(t.getSelectedShapeIds()));if(!e){navigator&&navigator.clipboard&&navigator.clipboard.writeText("");return}const r=z$e.compressToBase64(JSON.stringify({type:"application/tldraw",kind:"content",data:e}));if(!(typeof navigator>"u")){const i=e.shapes.map(a=>t.getShapeUtil(a).getText(a)).filter(xmt);if((n=navigator.clipboard)!=null&&n.write){const a=new Blob([`<div data-tldraw>${r}</div>`],{type:"text/html"});let o=i.join(" ");o===""&&(o=" "),navigator.clipboard.write([new ClipboardItem({"text/html":a,"text/plain":new Blob([o],{type:"text/plain"})})])}else navigator.clipboard.writeText&&navigator.clipboard.writeText(`<div data-tldraw>${r}</div>`)}};function gDt(){const t=we(),e=xa(),r=I.useCallback(async function(o){t.getSelectedShapeIds().length!==0&&(await a_(t),e("copy",{source:o}))},[t,e]),n=I.useCallback(async function(o){t.getSelectedShapeIds().length!==0&&(await a_(t),t.deleteShapes(t.getSelectedShapeIds()),e("cut",{source:o}))},[t,e]),i=I.useCallback(async function(o,s,l){t.getEditingShapeId()===null&&(Array.isArray(o)&&o[0]instanceof ClipboardItem?(W$e({editor:t,clipboardItems:o,point:l}),e("paste",{source:"menu"})):navigator.clipboard.read().then(u=>{i(u,s,l)}))},[t,e]);return{copy:r,cut:n,paste:i}}function mDt(){const t=we(),e=xa(),r=Ce("editor.isFocused",()=>t.getInstanceState().isFocused,[t]);I.useEffect(()=>{if(!r)return;const n=async l=>{t.getSelectedShapeIds().length===0||t.getEditingShapeId()!==null||vN(t)||(dr(l),await a_(t),e("copy",{source:"kbd"}))};async function i(l){t.getSelectedShapeIds().length===0||t.getEditingShapeId()!==null||vN(t)||(dr(l),await a_(t),t.deleteShapes(t.getSelectedShapeIds()),e("cut",{source:"kbd"}))}let a=!1;const o=l=>{l.button===1&&(a=!0,t.timers.requestAnimationFrame(()=>{a=!1}))},s=l=>{var d,f;if(a){mi(l);return}if(t.getEditingShapeId()!==null||vN(t))return;let u,c=!1;t.inputs.shiftKey&&(c=!0),t.user.getIsPasteAtCursorMode()&&(c=!c),c&&(u=t.inputs.currentPagePoint);const A=()=>{l.clipboardData&&pDt(t,l.clipboardData,u)};if((d=navigator.clipboard)!=null&&d.read){const p=Array.from(((f=l.clipboardData)==null?void 0:f.files)||[]);navigator.clipboard.read().then(g=>{Array.isArray(g)&&g[0]instanceof ClipboardItem&&W$e({editor:t,clipboardItems:g,point:u,fallbackFiles:p})},()=>{A()})}else A();dr(l),e("paste",{source:"kbd"})};return document.addEventListener("copy",n),document.addEventListener("cut",i),document.addEventListener("paste",s),document.addEventListener("pointerup",o),()=>{document.removeEventListener("copy",n),document.removeEventListener("cut",i),document.removeEventListener("paste",s),document.removeEventListener("pointerup",o)}},[t,e,r])}const A_e={jpeg:"image/jpeg",png:"image/png",webp:"image/webp",svg:"text/plain"};function vDt(t,e,r={}){const n=e!=null&&e.length?e:[...t.getCurrentPageShapeIds()],i=r.format??"png";return{blobPromise:t.toImage(n,r).then(a=>zs.rewriteMimeType(a.blob,A_e[i])),mimeType:A_e[i]}}function yDt(...t){const[e,r,n]=typeof t[2]=="string"?[t[0],t[1],{...t[3],format:t[2]}]:t;if(!navigator.clipboard)return Promise.reject(new Error("Copy not supported"));if(navigator.clipboard.write){const{blobPromise:i,mimeType:a}=vDt(e,r,n),o={[a]:i},s=iDt(n.format);return s&&oDt(s)&&(o[s]=i.then(l=>zs.rewriteMimeType(l,s))),sDt(o)}switch(n.format){case"svg":return wDt(async()=>{const i=await e.getSvgString(r,n);if(!i)throw new Error("Failed to copy");return i.svg});case"png":throw new Error("Copy not supported");default:Pi(n.format)}}async function wDt(t){var e,r;await((r=(e=navigator.clipboard)==null?void 0:e.writeText)==null?void 0:r.call(e,await t()))}function bDt(){const t=we(),{addToast:e}=AA(),r=Sr();return I.useCallback((n,i="svg")=>{yDt(t,n,{format:i}).catch(()=>{e({id:"copy-fail",severity:"warning",title:r("toast.error.copy-fail.title"),description:r("toast.error.copy-fail.desc")})})},[t,e,r])}async function SDt(...t){const[e,r,n]=typeof t[2]=="object"?t:[t[0],t[1],{...t[4],format:t[2]??"png",name:t[3]}];let i=n.name;if(!i&&(i=`shapes at ${d_e()}`,r.length===1)){const s=e.getShape(r[0]);e.isShapeOfType(s,"frame")?i=s.props.name||"frame":i=`${KE(s.id)} at ${d_e()}`}i+=`.${n.format}`;const{blob:a}=await e.toImage(r,n),o=new File([a],i,{type:a.type});xDt(o)}function d_e(){const t=new Date,e=String(t.getFullYear()).slice(2),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return`${e}-${r}-${n} ${i}.${a}.${o}`}function xDt(t){const e=document.createElement("a"),r=URL.createObjectURL(t);e.href=r,e.download=t.name,e.click(),URL.revokeObjectURL(r)}function CDt(){const t=we(),{addToast:e}=AA(),r=Sr();return I.useCallback((n,i="png",a)=>{SDt(t,n,{format:i,name:a,scale:1}).catch(o=>{console.error(o.message),e({id:"export-fail",title:r("toast.error.export-fail.title"),description:r("toast.error.export-fail.desc"),severity:"error"})})},[t,e,r])}const V$e=ce.createContext([]);function _Dt(){const t=we(),e=I.useRef(),r=KA(ce.useContext(V$e));return I.useEffect(()=>{const n=window.document.createElement("input");n.type="file",n.accept=(r==null?void 0:r.join(","))??Jgt,n.multiple=!0,e.current=n;async function i(a){const o=a.target.files;!o||o.length===0||(t.markHistoryStoppingPoint("insert media"),await t.putExternalContent({type:"files",files:Array.from(o),point:t.getViewportPageBounds().center,ignoreParent:!1}),n.value="")}return n.addEventListener("change",i),()=>{e.current=void 0,n.removeEventListener("change",i)}},[t,r]),I.useCallback(()=>{var n;(n=e.current)==null||n.click()},[e])}function EDt(){const t=we(),e=I.useRef(null),r=I.useRef(null);return I.useCallback(async function(){const i=document.createElement("div"),a=document.createElement("style"),o=(w,b)=>{w&&(w.innerHTML=""),b&&document.head.contains(b)&&document.head.removeChild(b),w&&document.body.contains(w)&&document.body.removeChild(w)};o(e.current,r.current),e.current=i,r.current=a;const s=`tl-print-surface-${Xr()}`;i.className=s,a.innerHTML=`
			.${s} {
				display: none;
			}

			.${s} svg {
				max-width: 100%;
				height: 100%;
				display: block;
			}

			@media print {				  
				html, body {
					min-height: 100%;
					height: 100%;
					margin: 0;
				}

				body {
					position: relative;
				}

				body > * {
					display: none;
				}

				.tldraw__editor {
					display: none;
				}

				.${s} {
					display: block !important;
					background: white;
					min-height: 100%;
					height: 100%;
					max-width: 100%;
				}

				.${s}__item {
					padding: 10mm;
					display: flex;
					min-height: 100%;
					flex-direction: column;
					page-break-after: always;
					position: relative;
					overflow: hidden;
					height: 100%;
				}

				.${s}__item__main {
					flex: 1;
					display: flex;
					align-items: center;
					justify-content: center;
					max-height: 100%;
				}

				.${s}__item__header {
					display: none;
				}

				.${s}__item__footer {
					display: none;
					text-align: right;
				}

				.${s}__item__footer__hide {
					display: none;
				}

				
			}

		`;const l=()=>{document.head.appendChild(a),document.body.appendChild(i)},u=()=>{t.once("tick",()=>{o(i,a)})};window.addEventListener("beforeprint",l),window.addEventListener("afterprint",u);function c(w,b,C){try{i.innerHTML+=`<div class="${s}__item">
        <div class="${s}__item__header">
          ${w.replace(/</g,"&lt;").replace(/>/g,"&gt;")}
        </div>
        <div class="${s}__item__main">
          ${C}
        </div>
        <div class="${s}__item__footer ${s}__item__footer__${b?"":"hide"}">
          ${b??""}
        </div>
      </div>`}catch(S){console.error(S)}}function A(){tn.isChromeForIos?(l(),window.print()):tn.isSafari?(l(),document.execCommand("print",!1)):window.print()}const d=t.getSelectedShapeIds(),f=t.getCurrentPageId(),p=t.getPages(),m={scale:1,background:!1,darkMode:!1,preserveAspectRatio:"xMidYMid meet"};if(t.getSelectedShapeIds().length>0){const w=await t.getSvgString(d,m);if(w){const b=p.find(C=>C.id===f);c(`tldraw  ${b==null?void 0:b.name}`,null,w.svg),A()}}else{const w=t.getCurrentPage(),b=await t.getSvgString(t.getSortedChildIdsForParent(w.id),m);b&&(c(`tldraw  ${w.name}`,null,b.svg),A())}window.removeEventListener("beforeprint",l),window.removeEventListener("afterprint",u)},[t])}function j6(){const{addToast:t,removeToast:e,clearToasts:r}=AA(),{addDialog:n,clearDialogs:i,removeDialog:a}=Kb(),o=Sr(),s=_Dt(),l=EDt(),{cut:u,copy:c,paste:A}=gDt(),d=bDt(),f=CDt(),p=R6(),m=vo()<ai.TABLET_SM;return I.useMemo(()=>({addToast:t,removeToast:e,clearToasts:r,addDialog:n,removeDialog:a,clearDialogs:i,msg:o,isMobile:m,insertMedia:s,printSelectionOrPages:l,cut:u,copy:c,paste:A,copyAs:d,exportAs:f,getEmbedDefinition:p}),[t,e,r,n,a,i,o,m,s,l,u,c,A,d,f,p])}function IDt(t,e){const r={};for(const n of t)if(n.translations)for(const[i,a]of cs(n.translations)){let o=r[i];o||(o=r[i]={}),Object.assign(o,a)}return{actions:(n,i,a)=>{for(const o of t)o.actions&&(i=o.actions(n,i,a));return i},tools:(n,i,a)=>{for(const o of t)o.tools&&(i=o.tools(n,i,{...e,...a}));return i},translations:r}}function Y$e(t){return I.useMemo(()=>t,t)}function BDt(t){const e=Y$e(t==null?[]:Array.isArray(t)?t:[t]);return I.useMemo(()=>{const r={};for(const n of e)if(n.translations)for(const[i,a]of cs(n.translations)){let o=r[i];o||(o=r[i]={}),Object.assign(o,a)}return r},[e])}function PDt(t){const e=j6(),r=Y$e(t==null?[]:Array.isArray(t)?t:[t]);return I.useMemo(()=>IDt(r,e),[r,e])}const X$e=I.createContext(null);function TDt(t){return Object.fromEntries(t.map(e=>[e.id,e]))}function ux(t,e){if(t.getSelectedShapes().length===0)return t.getDocumentSettings().name||e}function ODt({overrides:t,children:e}){const r=we(),n=ZI(),i=j6(),a=xa(),o=i.msg("document.default-name"),s=I.useMemo(()=>{function l(){return r.isIn("select")||(r.complete(),r.setCurrentTool("select")),!1}function u(){return r.isIn("select")&&r.getSelectedShapeIds().length>0}const c=[{id:"edit-link",label:"action.edit-link",icon:"link",onSelect(d){u()&&(l()||(a("edit-link",{source:d}),r.markHistoryStoppingPoint("edit-link"),i.addDialog({component:yUt})))}},{id:"insert-embed",label:"action.insert-embed",kbd:"$i",onSelect(d){a("insert-embed",{source:d}),i.addDialog({component:O$e})}},{id:"insert-media",label:"action.insert-media",kbd:"$u",onSelect(d){a("insert-media",{source:d}),i.insertMedia()}},{id:"undo",label:"action.undo",icon:"undo",kbd:"$z",onSelect(d){a("undo",{source:d}),r.undo()}},{id:"redo",label:"action.redo",icon:"redo",kbd:"$!z",onSelect(d){a("redo",{source:d}),r.redo()}},{id:"export-as-svg",label:{default:"action.export-as-svg",menu:"action.export-as-svg.short","context-menu":"action.export-as-svg.short"},readonlyOk:!0,onSelect(d){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(a("export-as",{format:"svg",source:d}),i.exportAs(f,"svg",ux(r,o)))}},{id:"export-as-png",label:{default:"action.export-as-png",menu:"action.export-as-png.short","context-menu":"action.export-as-png.short"},readonlyOk:!0,onSelect(d){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(a("export-as",{format:"png",source:d}),i.exportAs(f,"png",ux(r,o)))}},{id:"export-all-as-svg",label:{default:"action.export-all-as-svg",menu:"action.export-all-as-svg.short","context-menu":"action.export-all-as-svg.short"},readonlyOk:!0,onSelect(d){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(a("export-all-as",{format:"svg",source:d}),i.exportAs(Array.from(r.getCurrentPageShapeIds()),"svg",ux(r,o)))}},{id:"export-all-as-png",label:{default:"action.export-all-as-png",menu:"action.export-all-as-png.short","context-menu":"action.export-all-as-png.short"},readonlyOk:!0,onSelect(d){const f=Array.from(r.getCurrentPageShapeIds().values());f.length!==0&&(a("export-all-as",{format:"png",source:d}),i.exportAs(f,"png",ux(r,o)))}},{id:"copy-as-svg",label:{default:"action.copy-as-svg",menu:"action.copy-as-svg.short","context-menu":"action.copy-as-svg.short"},kbd:"$!c",readonlyOk:!0,onSelect(d){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(a("copy-as",{format:"svg",source:d}),i.copyAs(f,"svg"))}},{id:"copy-as-png",label:{default:"action.copy-as-png",menu:"action.copy-as-png.short","context-menu":"action.copy-as-png.short"},readonlyOk:!0,onSelect(d){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(a("copy-as",{format:"png",source:d}),i.copyAs(f,"png"))}},{id:"toggle-auto-size",label:"action.toggle-auto-size",onSelect(d){u()&&(l()||(a("toggle-auto-size",{source:d}),r.markHistoryStoppingPoint("toggling auto size"),r.run(()=>{const f=r.getSelectedShapes().filter(p=>r.isShapeOfType(p,"text")&&p.props.autoSize===!1);r.updateShapes(f.map(p=>({id:p.id,type:p.type,props:{...p.props,w:8,autoSize:!0}}))),vn(r,f.map(p=>p.id))})))}},{id:"open-embed-link",label:"action.open-embed-link",readonlyOk:!0,onSelect(d){a("open-embed-link",{source:d});const f=r.getSelectedShapeIds(),p="No embed shapes selected";if(f.length!==1){console.error(p);return}const g=r.getShape(f[0]);if(!g||!r.isShapeOfType(g,"embed")){console.error(p);return}KRt(g.props.url,"_blank")}},{id:"select-zoom-tool",readonlyOk:!0,kbd:"z",onSelect(d){var f,p;if(((f=r.root.getCurrent())==null?void 0:f.id)!=="zoom"&&(a("zoom-tool",{source:d}),!(r.inputs.shiftKey||r.inputs.ctrlKey))){const g=r.root.getCurrent();g&&((p=g.getCurrent())==null?void 0:p.id)==="idle"&&r.setCurrentTool("zoom",{onInteractionEnd:g.id,maskAs:"zoom"})}}},{id:"convert-to-bookmark",label:"action.convert-to-bookmark",onSelect(d){u()&&(l()||r.run(()=>{a("convert-to-bookmark",{source:d});const f=r.getSelectedShapes(),p=[],g=[];for(const m of f){if(!m||!r.isShapeOfType(m,"embed")||!m.props.url)continue;const w=new k(m.x,m.y);w.rot(-m.rotation),w.add(new k(m.props.w/2-300/2,m.props.h/2-320/2)),w.rot(m.rotation);const b={id:an(),type:"bookmark",rotation:m.rotation,x:w.x,y:w.y,opacity:1,props:{url:m.props.url}};p.push(b),g.push(m.id)}r.markHistoryStoppingPoint("convert shapes to bookmark"),r.deleteShapes(g),r.createShapes(p)}))}},{id:"convert-to-embed",label:"action.convert-to-embed",onSelect(d){u()&&(l()||(a("convert-to-embed",{source:d}),r.run(()=>{const f=r.getSelectedShapeIds(),p=sr(f.map(w=>r.getShape(w))),g=[],m=[];for(const w of p){if(!r.isShapeOfType(w,"bookmark"))continue;const{url:b}=w.props,C=i.getEmbedDefinition(b);if(!C||!C.definition)continue;const{width:S,height:x}=C.definition,_=new k(w.x,w.y);_.rot(-w.rotation),_.add(new k(w.props.w/2-S/2,w.props.h/2-x/2)),_.rot(w.rotation);const B={id:an(),type:"embed",x:_.x,y:_.y,rotation:w.rotation,props:{url:b,w:S,h:x}};g.push(B),m.push(w.id)}r.markHistoryStoppingPoint("convert shapes to embed"),r.deleteShapes(m),r.createShapes(g)})))}},{id:"duplicate",kbd:"$d",label:"action.duplicate",icon:"duplicate",onSelect(d){if(!u()||l())return;a("duplicate-shapes",{source:d});const f=r.getInstanceState();let p,g;if(f.duplicateProps)p=f.duplicateProps.shapeIds,g=f.duplicateProps.offset;else{p=r.getSelectedShapeIds();const m=Ze.Common(sr(p.map(w=>r.getShapePageBounds(w))));g=r.getCameraOptions().isLocked?{x:r.options.adjacentShapeMargin,y:r.options.adjacentShapeMargin}:{x:m.width+r.options.adjacentShapeMargin,y:0}}r.markHistoryStoppingPoint("duplicate shapes"),r.duplicateShapes(p,g),f.duplicateProps&&r.updateInstanceState({duplicateProps:{...f.duplicateProps,shapeIds:r.getSelectedShapeIds()}})}},{id:"ungroup",label:"action.ungroup",kbd:"$!g",icon:"ungroup",onSelect(d){u()&&(l()||(a("ungroup-shapes",{source:d}),r.markHistoryStoppingPoint("ungroup"),r.ungroupShapes(r.getSelectedShapeIds())))}},{id:"group",label:"action.group",kbd:"$g",icon:"group",onSelect(d){if(!u()||l())return;a("group-shapes",{source:d});const f=r.getOnlySelectedShape();f&&r.isShapeOfType(f,"group")?(r.markHistoryStoppingPoint("ungroup"),r.ungroupShapes(r.getSelectedShapeIds())):(r.markHistoryStoppingPoint("group"),r.groupShapes(r.getSelectedShapeIds()))}},{id:"remove-frame",label:"action.remove-frame",kbd:"$!f",onSelect(d){if(!u())return;a("remove-frame",{source:d});const f=r.getSelectedShapes();f.length>0&&f.every(p=>r.isShapeOfType(p,"frame"))&&(r.markHistoryStoppingPoint("remove-frame"),Xkt(r,f.map(p=>p.id)))}},{id:"fit-frame-to-content",label:"action.fit-frame-to-content",onSelect(d){if(!u())return;a("fit-frame-to-content",{source:d});const f=r.getOnlySelectedShape();f&&r.isShapeOfType(f,"frame")&&(r.markHistoryStoppingPoint("fit-frame-to-content"),Zkt(r,f.id))}},{id:"align-left",label:"action.align-left",kbd:"?A",icon:"align-left",onSelect(d){u()&&(l()||(a("align-shapes",{operation:"left",source:d}),r.markHistoryStoppingPoint("align left"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"left"),vn(r,f)})))}},{id:"align-center-horizontal",label:{default:"action.align-center-horizontal","context-menu":"action.align-center-horizontal.short"},kbd:"?H",icon:"align-center-horizontal",onSelect(d){u()&&(l()||(a("align-shapes",{operation:"center-horizontal",source:d}),r.markHistoryStoppingPoint("align center horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"center-horizontal"),vn(r,f)})))}},{id:"align-right",label:"action.align-right",kbd:"?D",icon:"align-right",onSelect(d){u()&&(l()||(a("align-shapes",{operation:"right",source:d}),r.markHistoryStoppingPoint("align right"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"right"),vn(r,f)})))}},{id:"align-center-vertical",label:{default:"action.align-center-vertical","context-menu":"action.align-center-vertical.short"},kbd:"?V",icon:"align-center-vertical",onSelect(d){u()&&(l()||(a("align-shapes",{operation:"center-vertical",source:d}),r.markHistoryStoppingPoint("align center vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"center-vertical"),vn(r,f)})))}},{id:"align-top",label:"action.align-top",icon:"align-top",kbd:"?W",onSelect(d){u()&&(l()||(a("align-shapes",{operation:"top",source:d}),r.markHistoryStoppingPoint("align top"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"top"),vn(r,f)})))}},{id:"align-bottom",label:"action.align-bottom",icon:"align-bottom",kbd:"?S",onSelect(d){u()&&(l()||(a("align-shapes",{operation:"bottom",source:d}),r.markHistoryStoppingPoint("align bottom"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"bottom"),vn(r,f)})))}},{id:"distribute-horizontal",label:{default:"action.distribute-horizontal","context-menu":"action.distribute-horizontal.short"},icon:"distribute-horizontal",kbd:"?!h",onSelect(d){u()&&(l()||(a("distribute-shapes",{operation:"horizontal",source:d}),r.markHistoryStoppingPoint("distribute horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.distributeShapes(f,"horizontal"),vn(r,f)})))}},{id:"distribute-vertical",label:{default:"action.distribute-vertical","context-menu":"action.distribute-vertical.short"},icon:"distribute-vertical",kbd:"?!V",onSelect(d){u()&&(l()||(a("distribute-shapes",{operation:"vertical",source:d}),r.markHistoryStoppingPoint("distribute vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.distributeShapes(f,"vertical"),vn(r,f)})))}},{id:"stretch-horizontal",label:{default:"action.stretch-horizontal","context-menu":"action.stretch-horizontal.short"},icon:"stretch-horizontal",onSelect(d){u()&&(l()||(a("stretch-shapes",{operation:"horizontal",source:d}),r.markHistoryStoppingPoint("stretch horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.stretchShapes(f,"horizontal"),vn(r,f)})))}},{id:"stretch-vertical",label:{default:"action.stretch-vertical","context-menu":"action.stretch-vertical.short"},icon:"stretch-vertical",onSelect(d){u()&&(l()||(a("stretch-shapes",{operation:"vertical",source:d}),r.markHistoryStoppingPoint("stretch vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.stretchShapes(f,"vertical"),vn(r,f)})))}},{id:"flip-horizontal",label:{default:"action.flip-horizontal","context-menu":"action.flip-horizontal.short"},kbd:"!h",onSelect(d){u()&&(l()||(a("flip-shapes",{operation:"horizontal",source:d}),r.markHistoryStoppingPoint("flip horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.flipShapes(f,"horizontal"),vn(r,f)})))}},{id:"flip-vertical",label:{default:"action.flip-vertical","context-menu":"action.flip-vertical.short"},kbd:"!v",onSelect(d){u()&&(l()||(a("flip-shapes",{operation:"vertical",source:d}),r.markHistoryStoppingPoint("flip vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.flipShapes(f,"vertical"),vn(r,f)})))}},{id:"pack",label:"action.pack",icon:"pack",onSelect(d){u()&&(l()||(a("pack-shapes",{source:d}),r.markHistoryStoppingPoint("pack"),r.run(()=>{const f=r.getSelectedShapeIds();r.packShapes(f,r.options.adjacentShapeMargin),vn(r,f)})))}},{id:"stack-vertical",label:{default:"action.stack-vertical","context-menu":"action.stack-vertical.short"},icon:"stack-vertical",onSelect(d){u()&&(l()||(a("stack-shapes",{operation:"vertical",source:d}),r.markHistoryStoppingPoint("stack-vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.stackShapes(f,"vertical",16),vn(r,f)})))}},{id:"stack-horizontal",label:{default:"action.stack-horizontal","context-menu":"action.stack-horizontal.short"},icon:"stack-horizontal",onSelect(d){u()&&(l()||(a("stack-shapes",{operation:"horizontal",source:d}),r.markHistoryStoppingPoint("stack-horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.stackShapes(f,"horizontal",16),vn(r,f)})))}},{id:"bring-to-front",label:"action.bring-to-front",kbd:"]",icon:"bring-to-front",onSelect(d){u()&&(l()||(a("reorder-shapes",{operation:"toFront",source:d}),r.markHistoryStoppingPoint("bring to front"),r.bringToFront(r.getSelectedShapeIds())))}},{id:"bring-forward",label:"action.bring-forward",icon:"bring-forward",kbd:"?]",onSelect(d){u()&&(l()||(a("reorder-shapes",{operation:"forward",source:d}),r.markHistoryStoppingPoint("bring forward"),r.bringForward(r.getSelectedShapeIds())))}},{id:"send-backward",label:"action.send-backward",icon:"send-backward",kbd:"?[",onSelect(d){u()&&(l()||(a("reorder-shapes",{operation:"backward",source:d}),r.markHistoryStoppingPoint("send backward"),r.sendBackward(r.getSelectedShapeIds())))}},{id:"send-to-back",label:"action.send-to-back",icon:"send-to-back",kbd:"[",onSelect(d){u()&&(l()||(a("reorder-shapes",{operation:"toBack",source:d}),r.markHistoryStoppingPoint("send to back"),r.sendToBack(r.getSelectedShapeIds())))}},{id:"cut",label:"action.cut",kbd:"$x",onSelect(d){u()&&(l()||(r.markHistoryStoppingPoint("cut"),i.cut(d)))}},{id:"copy",label:"action.copy",kbd:"$c",readonlyOk:!0,onSelect(d){u()&&(l()||i.copy(d))}},{id:"paste",label:"action.paste",kbd:"$v",onSelect(d){var f;(f=navigator.clipboard)==null||f.read().then(p=>{i.paste(p,d,d==="context-menu"?r.inputs.currentPagePoint:void 0)}).catch(()=>{i.addToast({title:i.msg("action.paste-error-title"),description:i.msg("action.paste-error-description"),severity:"error"})})}},{id:"select-all",label:"action.select-all",kbd:"$a",readonlyOk:!0,onSelect(d){r.run(()=>{l()||(a("select-all-shapes",{source:d}),r.markHistoryStoppingPoint("select all kbd"),r.selectAll())})}},{id:"select-none",label:"action.select-none",readonlyOk:!0,onSelect(d){u()&&(l()||(a("select-none-shapes",{source:d}),r.markHistoryStoppingPoint("select none"),r.selectNone()))}},{id:"delete",label:"action.delete",kbd:",del,backspace",icon:"trash",onSelect(d){u()&&(l()||(a("delete-shapes",{source:d}),r.markHistoryStoppingPoint("delete"),r.deleteShapes(r.getSelectedShapeIds())))}},{id:"rotate-cw",label:"action.rotate-cw",icon:"rotate-cw",onSelect(d){u()&&(l()||(a("rotate-cw",{source:d}),r.markHistoryStoppingPoint("rotate-cw"),r.run(()=>{const f=r.getSelectionRotation()%(bn/2),p=od(f,0)||od(f,bn/2),g=r.getSelectedShapeIds();r.rotateShapesBy(g,bn/2-(p?0:f)),vn(r,g)})))}},{id:"rotate-ccw",label:"action.rotate-ccw",icon:"rotate-ccw",onSelect(d){u()&&(l()||(a("rotate-ccw",{source:d}),r.markHistoryStoppingPoint("rotate-ccw"),r.run(()=>{const f=r.getSelectionRotation()%(bn/2),p=od(f,0),g=r.getSelectedShapeIds();r.rotateShapesBy(g,p?-(bn/2):-f),vn(r,g)})))}},{id:"zoom-in",label:"action.zoom-in",kbd:"$=,=",readonlyOk:!0,onSelect(d){a("zoom-in",{source:d}),r.zoomIn(void 0,{animation:{duration:r.options.animationMediumMs}})}},{id:"zoom-out",label:"action.zoom-out",kbd:"$-,-",readonlyOk:!0,onSelect(d){a("zoom-out",{source:d}),r.zoomOut(void 0,{animation:{duration:r.options.animationMediumMs}})}},{id:"zoom-to-100",label:"action.zoom-to-100",icon:"reset-zoom",kbd:"!0",readonlyOk:!0,onSelect(d){a("reset-zoom",{source:d}),r.resetZoom(void 0,{animation:{duration:r.options.animationMediumMs}})}},{id:"zoom-to-fit",label:"action.zoom-to-fit",kbd:"!1",readonlyOk:!0,onSelect(d){a("zoom-to-fit",{source:d}),r.zoomToFit({animation:{duration:r.options.animationMediumMs}})}},{id:"zoom-to-selection",label:"action.zoom-to-selection",kbd:"!2",readonlyOk:!0,onSelect(d){u()&&(l()||(a("zoom-to-selection",{source:d}),r.zoomToSelection({animation:{duration:r.options.animationMediumMs}})))}},{id:"toggle-snap-mode",label:{default:"action.toggle-snap-mode",menu:"action.toggle-snap-mode.menu"},onSelect(d){a("toggle-snap-mode",{source:d}),r.user.updateUserPreferences({isSnapMode:!r.user.getIsSnapMode()})},checkbox:!0},{id:"toggle-dark-mode",label:{default:"action.toggle-dark-mode",menu:"action.toggle-dark-mode.menu"},kbd:"$/",readonlyOk:!0,onSelect(d){const f=r.user.getIsDarkMode()?"light":"dark";a("color-scheme",{source:d,value:f}),r.user.updateUserPreferences({colorScheme:f})},checkbox:!0},{id:"toggle-wrap-mode",label:{default:"action.toggle-wrap-mode",menu:"action.toggle-wrap-mode.menu"},readonlyOk:!0,onSelect(d){a("toggle-wrap-mode",{source:d}),r.user.updateUserPreferences({isWrapMode:!r.user.getIsWrapMode()})},checkbox:!0},{id:"toggle-dynamic-size-mode",label:{default:"action.toggle-dynamic-size-mode",menu:"action.toggle-dynamic-size-mode.menu"},readonlyOk:!1,onSelect(d){a("toggle-dynamic-size-mode",{source:d}),r.user.updateUserPreferences({isDynamicSizeMode:!r.user.getIsDynamicResizeMode()})},checkbox:!0},{id:"toggle-paste-at-cursor",label:{default:"action.toggle-paste-at-cursor",menu:"action.toggle-paste-at-cursor.menu"},readonlyOk:!1,onSelect(d){a("toggle-paste-at-cursor",{source:d}),r.user.updateUserPreferences({isPasteAtCursorMode:!r.user.getIsPasteAtCursorMode()})},checkbox:!0},{id:"toggle-reduce-motion",label:{default:"action.toggle-reduce-motion",menu:"action.toggle-reduce-motion.menu"},readonlyOk:!0,onSelect(d){a("toggle-reduce-motion",{source:d}),r.user.updateUserPreferences({animationSpeed:r.user.getAnimationSpeed()===0?1:0})},checkbox:!0},{id:"toggle-edge-scrolling",label:{default:"action.toggle-edge-scrolling",menu:"action.toggle-edge-scrolling.menu"},readonlyOk:!0,onSelect(d){a("toggle-edge-scrolling",{source:d}),r.user.updateUserPreferences({edgeScrollSpeed:r.user.getEdgeScrollSpeed()===0?1:0})},checkbox:!0},{id:"toggle-transparent",label:{default:"action.toggle-transparent",menu:"action.toggle-transparent.menu","context-menu":"action.toggle-transparent.context-menu"},readonlyOk:!0,onSelect(d){a("toggle-transparent",{source:d}),r.updateInstanceState({exportBackground:!r.getInstanceState().exportBackground})},checkbox:!0},{id:"toggle-tool-lock",label:{default:"action.toggle-tool-lock",menu:"action.toggle-tool-lock.menu"},kbd:"q",onSelect(d){a("toggle-tool-lock",{source:d}),r.updateInstanceState({isToolLocked:!r.getInstanceState().isToolLocked})},checkbox:!0},{id:"unlock-all",label:"action.unlock-all",onSelect(d){a("unlock-all",{source:d});const f=[];for(const p of r.getCurrentPageShapes())p.isLocked&&f.push({id:p.id,type:p.type,isLocked:!1});f.length>0&&r.updateShapes(f)}},{id:"toggle-focus-mode",label:{default:"action.toggle-focus-mode",menu:"action.toggle-focus-mode.menu"},readonlyOk:!0,kbd:"$.",checkbox:!0,onSelect(d){r.timers.requestAnimationFrame(()=>{r.run(()=>{a("toggle-focus-mode",{source:d}),i.clearDialogs(),i.clearToasts(),r.updateInstanceState({isFocusMode:!r.getInstanceState().isFocusMode})})})}},{id:"toggle-grid",label:{default:"action.toggle-grid",menu:"action.toggle-grid.menu"},readonlyOk:!0,kbd:"$'",onSelect(d){a("toggle-grid-mode",{source:d}),r.updateInstanceState({isGridMode:!r.getInstanceState().isGridMode})},checkbox:!0},{id:"toggle-debug-mode",label:{default:"action.toggle-debug-mode",menu:"action.toggle-debug-mode.menu"},readonlyOk:!0,onSelect(d){a("toggle-debug-mode",{source:d}),r.updateInstanceState({isDebugMode:!r.getInstanceState().isDebugMode})},checkbox:!0},{id:"print",label:"action.print",kbd:"$p",readonlyOk:!0,onSelect(d){a("print",{source:d}),i.printSelectionOrPages()}},{id:"exit-pen-mode",label:"action.exit-pen-mode",icon:"cross-2",readonlyOk:!0,onSelect(d){a("exit-pen-mode",{source:d}),r.updateInstanceState({isPenMode:!1})}},{id:"stop-following",label:"action.stop-following",icon:"cross-2",readonlyOk:!0,onSelect(d){a("stop-following",{source:d}),r.stopFollowingUser()}},{id:"back-to-content",label:"action.back-to-content",icon:"arrow-left",readonlyOk:!0,onSelect(d){a("zoom-to-content",{source:d});const f=r.getSelectionPageBounds()??r.getCurrentPageBounds();f&&r.zoomToBounds(f,{targetZoom:Math.min(1,r.getZoomLevel()),animation:{duration:220}})}},{id:"toggle-lock",label:"action.toggle-lock",kbd:"!l",onSelect(d){r.markHistoryStoppingPoint("locking"),a("toggle-lock",{source:d}),r.toggleLock(r.getSelectedShapeIds())}},{id:"move-to-new-page",label:"context.pages.new-page",onSelect(d){const f=ms.createId(),p=r.getSelectedShapeIds();r.run(()=>{r.markHistoryStoppingPoint("move_shapes_to_page"),r.createPage({name:i.msg("page-menu.new-page-initial-name"),id:f}),r.moveShapesToPage(p,f)}),a("move-to-new-page",{source:d})}},{id:"select-white-color",label:"color-style.white",kbd:"?t",onSelect(d){const f=gs;r.run(()=>{r.markHistoryStoppingPoint("change-color"),r.isIn("select")&&r.setStyleForSelectedShapes(f,"white"),r.setStyleForNextShapes(f,"white")}),a("set-style",{source:d,id:f.id,value:"white"})}},{id:"select-fill-fill",label:"fill-style.fill",kbd:"?f",onSelect(d){const f=Wf;r.run(()=>{r.markHistoryStoppingPoint("change-fill"),r.isIn("select")&&r.setStyleForSelectedShapes(f,"fill"),r.setStyleForNextShapes(f,"fill")}),a("set-style",{source:d,id:f.id,value:"fill"})}},{id:"flatten-to-image",label:"action.flatten-to-image",kbd:"!f",onSelect:async d=>{const f=r.getSelectedShapeIds();if(f.length===0)return;r.markHistoryStoppingPoint("flattening to image"),a("flatten-to-image",{source:d});const p=await IUt(r,f,r.options.flattenImageBoundsExpand);p!=null&&p.length&&r.setSelectedShapes(p)}},{id:"select-geo-tool",kbd:"g",onSelect:async d=>{a("select-tool",{source:d,id:"geo-previous"}),r.setCurrentTool("geo")}}];n&&c.push({id:"open-cursor-chat",label:"action.open-cursor-chat",readonlyOk:!0,kbd:"/",onSelect(d){a("open-cursor-chat",{source:d}),!r.getInstanceState().isCoarsePointer&&r.timers.requestAnimationFrame(()=>{r.updateInstanceState({isChatting:!0})})}});const A=TDt(c);return t?t(r,A,i):A},[i,r,a,t,o,n]);return y.jsx(X$e.Provider,{value:s,children:e})}function _h(){const t=I.useContext(X$e);if(!t)throw new Error("useTools must be used within a ToolProvider");return t}function Mw(t,e){return t?typeof t=="string"?t:e?t[e]??t.default:void 0:void 0}function _s(){const t=Rd();return Ce("isReadonlyMode",()=>!!(t!=null&&t.getIsReadonly()),[t])}const RDt=tn.isDarwin?"":"Ctrl",MDt=tn.isDarwin?"":"Alt";function J$e(t){return t===","?[","]:t.split(",")[0].split("").map(e=>{const r=e.replace(/\$/g,RDt).replace(/\?/g,MDt).replace(/!/g,"");return r[0].toUpperCase()+r.slice(1)})}function Q4(t){return" "+J$e(t).join("")}function Cy({children:t,visibleOnMobileLayout:e=!1}){const r=vo();return!e&&r<ai.MOBILE?null:y.jsx("kbd",{className:"tlui-kbd",children:J$e(t).map((n,i)=>y.jsx("span",{children:n},i))})}const Z$e=I.createContext(null);function rB(){const t=I.useContext(Z$e);if(!t)throw new Error("useTldrawUiMenuContext must be used within a TldrawUiMenuContextProvider");return t}function rl({type:t,sourceId:e,children:r}){return y.jsx(Z$e.Provider,{value:{type:t,sourceId:e},children:r})}function nB({id:t,kbd:e,label:r,readonlyOk:n,onSelect:i,toggle:a=!1,disabled:o=!1,checked:s=!1}){const{type:l,sourceId:u}=rB(),c=_s(),A=Sr();if(c&&!n)return null;const d=Mw(r,l),f=d?A(d):void 0;switch(l){case"menu":return y.jsxs(Wkt,{dir:"ltr",className:"tlui-button tlui-button__menu tlui-button__checkbox",title:f,onSelect:p=>{i==null||i(u),dr(p)},disabled:o,checked:s,children:[y.jsx(qu,{small:!0,icon:a?s?"toggle-on":"toggle-off":s?"check":"none"}),f&&y.jsx("span",{className:"tlui-button__label",draggable:!1,children:f}),e&&y.jsx(Cy,{children:e})]});case"context-menu":return y.jsxs(xkt,{className:"tlui-button tlui-button__menu tlui-button__checkbox",dir:"ltr",title:f,onSelect:p=>{i(u),dr(p)},disabled:o,checked:s,children:[y.jsx(qu,{small:!0,icon:a?s?"toggle-on":"toggle-off":s?"check":"none"}),f&&y.jsx("span",{className:"tlui-button__label",draggable:!1,children:f}),e&&y.jsx(Cy,{children:e})]},t);default:return null}}function dA(t,e){const r=Rd(),n=I.useCallback(o=>{o&&(r==null||r.complete()),e==null||e(o)},[r,e]),i=xa(),a=I.useCallback(o=>{i(o,{source:"unknown",id:t})},[t,i]);return DRt(r?`${t}-${r.contextId}`:t,n,a)}function Xf({id:t,children:e,modal:r=!1,debugOpen:n=!1}){const[i,a]=dA(t);return y.jsx(S6,{open:n||i,dir:"ltr",modal:r,onOpenChange:a,children:e})}function Jf({children:t,...e}){return y.jsx(x6,{dir:"ltr",asChild:!0,onTouchEnd:r=>dr(r),...e,children:t})}function Zf({className:t,side:e="bottom",align:r="start",sideOffset:n=8,alignOffset:i=8,children:a}){const o=$i();return y.jsx(GI,{container:o,children:y.jsx(C6,{className:Mt("tlui-menu",t),side:e,sideOffset:n,align:r,alignOffset:i,collisionPadding:4,children:a})})}function FDt({id:t,children:e}){const[r,n]=dA(t);return y.jsx(Gkt,{open:r,onOpenChange:n,children:e})}function kDt({id:t,label:e,title:r,disabled:n}){return y.jsx(Vkt,{dir:"ltr",asChild:!0,disabled:n,children:y.jsxs(Ut,{"data-testid":t,type:"menu",className:"tlui-menu__submenu__trigger",disabled:n,title:r,children:[y.jsx(hi,{children:e}),y.jsx(gr,{icon:"chevron-right",small:!0})]})})}function UDt({id:t,alignOffset:e=-1,sideOffset:r=-6,size:n="small",children:i}){const a=$i();return y.jsx(GI,{container:a,children:y.jsx(Ykt,{"data-testid":t,className:"tlui-menu tlui-menu__submenu__content",alignOffset:e,sideOffset:r,collisionPadding:4,"data-size":n,children:i})})}function DDt({children:t}){return y.jsx(Kkt,{dir:"ltr",className:"tlui-menu__group",children:t})}function Fw({noClose:t,children:e}){return y.jsx(zkt,{dir:"ltr",asChild:!0,onClick:t?dr:void 0,children:e})}function ur({id:t,label:e,children:r}){const{type:n,sourceId:i}=rB(),a=Sr(),o=Mw(e,n),s=o?a(o):void 0;switch(n){case"panel":return y.jsx("div",{className:"tlui-menu__group","data-testid":`${i}-group.${t}`,children:r});case"menu":return y.jsx(DDt,{"data-testid":`${i}-group.${t}`,children:r});case"context-menu":return y.jsx(GNe,{dir:"ltr",className:"tlui-menu__group","data-testid":`${i}-group.${t}`,children:r});case"keyboard-shortcuts":return y.jsxs("div",{className:"tlui-shortcuts-dialog__group","data-testid":`${i}-group.${t}`,children:[y.jsx("h2",{className:"tlui-shortcuts-dialog__group__title",children:s}),y.jsx("div",{className:"tlui-shortcuts-dialog__group__content",children:r})]});default:return r}}function Wo({id:t,disabled:e=!1,label:r,size:n="small",children:i}){const{type:a,sourceId:o}=rB(),s=$i(),l=Sr(),u=r?typeof r=="string"?r:r[a]??r.default:void 0,c=u?l(u):void 0;switch(a){case"menu":return y.jsxs(FDt,{id:`${o}-sub.${t}`,children:[y.jsx(kDt,{id:`${o}-sub.${t}-button`,disabled:e,label:c,title:c}),y.jsx(UDt,{id:`${o}-sub.${t}-content`,size:n,children:i})]});case"context-menu":return e?null:y.jsxs(jDt,{id:`${o}-sub.${t}`,children:[y.jsx(JNe,{dir:"ltr",disabled:e,asChild:!0,children:y.jsxs(Ut,{"data-testid":`${o}-sub.${t}-button`,type:"menu",className:"tlui-menu__submenu__trigger",children:[y.jsx(hi,{children:c}),y.jsx(gr,{icon:"chevron-right",small:!0})]})}),y.jsx(w6,{container:s,children:y.jsx(ZNe,{"data-testid":`${o}-sub.${t}-content`,className:"tlui-menu tlui-menu__submenu__content",alignOffset:-1,sideOffset:-4,collisionPadding:4,"data-size":n,children:i})})]});default:return i}}function jDt({id:t,children:e}){const[r,n]=dA(t);return y.jsx(XNe,{open:r,onOpenChange:n,children:e})}const LDt=[{colorScheme:"light",label:"theme.light"},{colorScheme:"dark",label:"theme.dark"},{colorScheme:"system",label:"theme.system"}];function NDt(){const t=we(),e=xa(),r=Ce("colorScheme",()=>t.user.getUserPreferences().colorScheme??(t.user.getIsDarkMode()?"dark":"light"),[t]);return y.jsx(Wo,{id:"help menu color-scheme",label:"menu.theme",children:y.jsx(ur,{id:"theme",children:LDt.map(({colorScheme:n,label:i})=>y.jsx(nB,{id:`color-scheme-${n}`,label:i,checked:n===r,readonlyOk:!0,onSelect:()=>{t.user.updateUserPreferences({colorScheme:n}),e("color-scheme",{source:"menu",value:n})}},n))})})}const $Dt=({id:t,component:e,onClose:r,preventBackgroundClose:n})=>{const{removeDialog:i}=Kb(),a=I.useRef(!1),o=$i(),s=I.useCallback(l=>{if(!l){if(r)try{r()}catch(u){console.warn(u)}i(t)}},[t,r,i]);return y.jsx(hUt,{onOpenChange:s,defaultOpen:!0,children:y.jsx(pUt,{container:o,children:y.jsx(gUt,{dir:"ltr",className:"tlui-dialog__overlay",onClick:l=>{a.current||!n&&l.target===l.currentTarget&&s(!1)},children:y.jsx(mUt,{dir:"ltr",className:"tlui-dialog__content","aria-describedby":void 0,onMouseDown:()=>a.current=!0,onMouseUp:()=>a.current=!1,onInteractOutside:l=>{a.current=!1,n&&l.preventDefault()},children:y.jsx(e,{onClose:()=>{a.current=!1,s(!1)}})})})})})},QDt=I.memo(function(){const{dialogs:e}=Kb();return Ce("dialogs",()=>e.get(),[e]).map(n=>y.jsx($Dt,{...n},n.id))}),HDt=4e3,qDt={success:"check-circle",warning:"warning-triangle",error:"cross-circle",info:"info-circle"};function KDt({toast:t}){const{removeToast:e}=AA(),r=Sr(),n=o=>{o||e(t.id)},i=t.actions&&t.actions.length>0,a=t.icon||t.severity&&qDt[t.severity];return y.jsxs(VUt,{onOpenChange:n,className:"tlui-toast__container",duration:t.keepOpen?1/0:HDt,"data-severity":t.severity,children:[a&&y.jsx("div",{className:"tlui-toast__icon",children:y.jsx(qu,{icon:a})}),y.jsxs("div",{className:"tlui-toast__main","data-title":!!t.title,"data-description":!!t.description,"data-actions":!!t.actions,children:[y.jsxs("div",{className:"tlui-toast__content",children:[t.title&&y.jsx(YUt,{className:"tlui-toast__title",children:t.title}),t.description&&y.jsx(XUt,{className:"tlui-toast__description",children:t.description})]}),t.actions&&y.jsxs("div",{className:"tlui-toast__actions",children:[t.actions.map((o,s)=>y.jsx(JUt,{altText:o.label,asChild:!0,onClick:o.onClick,children:y.jsx(Ut,{type:o.type,children:y.jsx(hi,{children:o.label})})},s)),y.jsx(u_e,{asChild:!0,children:y.jsx(Ut,{type:"normal",className:"tlui-toast__close",style:{marginLeft:"auto"},children:y.jsx(hi,{children:t.closeLabel??r("toast.close")})})})]})]}),!i&&y.jsx(u_e,{asChild:!0,children:y.jsx(Ut,{type:"normal",className:"tlui-toast__close",children:y.jsx(hi,{children:t.closeLabel??r("toast.close")})})})]})}const zDt=I.memo(function(){const{toasts:e}=AA(),r=Ce("toasts",()=>e.get(),[]);return y.jsxs(y.Fragment,{children:[r.map(n=>y.jsx(KDt,{toast:n},n.id)),y.jsx(U$e,{className:"tlui-toast__viewport"})]})});function ru({actionId:t="",...e}){const n=_h()[t];return n?y.jsx(nB,{...n,...e}):null}function f_e(t){return y.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",...t,children:y.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[y.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"currentColor",children:y.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}function da({disabled:t=!1,spinner:e=!1,readonlyOk:r=!1,id:n,kbd:i,label:a,icon:o,onSelect:s,noClose:l,isSelected:u}){const{type:c,sourceId:A}=rB(),d=Sr(),[f,p]=I.useState(!1);if(_s()&&!r)return null;const m=Mw(a,c),w=i?Q4(i):void 0,b=m?d(m):void 0,C=b&&w?`${b} ${w}`:b;switch(c){case"menu":return y.jsx(Fw,{children:y.jsxs(Ut,{type:"menu","data-testid":`${A}.${n}`,disabled:t,title:C,onClick:S=>{l&&dr(S),f?p(!1):s(A)},children:[y.jsx(hi,{children:b}),i&&y.jsx(Cy,{children:i})]})});case"context-menu":return t?null:y.jsxs(VNe,{dir:"ltr",title:C,draggable:!1,className:"tlui-button tlui-button__menu","data-testid":`${A}.${n}`,onSelect:S=>{l&&dr(S),f?p(!1):s(A)},children:[y.jsx("span",{className:"tlui-button__label",draggable:!1,children:b}),i&&y.jsx(Cy,{children:i}),e&&y.jsx(f_e,{})]});case"panel":return y.jsxs(Ut,{"data-testid":`${A}.${n}`,type:"menu",title:C,disabled:t,onClick:()=>s(A),children:[y.jsx(hi,{children:b}),e?y.jsx(f_e,{}):o&&y.jsx(gr,{icon:o})]});case"small-icons":case"icons":return y.jsx(Ut,{"data-testid":`${A}.${n}`,type:"icon",title:C,disabled:t,onClick:()=>s(A),children:y.jsx(gr,{icon:o,small:c==="small-icons"})});case"keyboard-shortcuts":return i?y.jsxs("div",{className:"tlui-shortcuts-dialog__key-pair","data-testid":`${A}.${n}`,children:[y.jsx("div",{className:"tlui-shortcuts-dialog__key-pair__key",children:b}),y.jsx("div",{className:"tlui-shortcuts-dialog__key-pair__value",children:y.jsx(Cy,{visibleOnMobileLayout:!0,children:i})})]}):(console.warn(`Menu item '${a}' isn't shown in the keyboard shortcuts dialog because it doesn't have a keyboard shortcut.`),null);case"helper-buttons":return y.jsxs(Ut,{type:"low",onClick:()=>s(A),children:[y.jsx(gr,{icon:o}),y.jsx(hi,{children:b})]});case"toolbar":return y.jsx(Ut,{type:"tool","data-testid":`tools.${n}`,"aria-label":m,"data-value":n,onClick:()=>s("toolbar"),title:C,disabled:t,onTouchStart:S=>{dr(S),s("toolbar")},role:"radio","aria-checked":u?"true":"false",children:y.jsx(gr,{icon:o})});case"toolbar-overflow":return y.jsx(Fw,{"aria-label":a,children:y.jsx(Ut,{type:"icon",className:"tlui-button-grid__button",onClick:()=>{s("toolbar")},"data-testid":`tools.more.${n}`,title:C,disabled:t,role:"radio","aria-checked":u?"true":"false","data-value":n,children:y.jsx(gr,{icon:o})})});default:throw Pi(c)}}function Ue({actionId:t="",...e}){const n=_h()[t];return n?y.jsx(da,{...n,...e}):null}const eQe=I.createContext(null);function WDt({overrides:t,children:e}){const r=we(),n=xa(),i=j6(),a=I.useMemo(()=>{const o=[{id:"select",label:"tool.select",icon:"tool-pointer",kbd:"v",readonlyOk:!0,onSelect(l){if(r.isIn("select")){const u=r.root.getCurrent();u.exit({},u.id),u.enter({},u.id)}r.setCurrentTool("select"),n("select-tool",{source:l,id:"select"})}},{id:"hand",label:"tool.hand",icon:"tool-hand",kbd:"h",readonlyOk:!0,onSelect(l){r.setCurrentTool("hand"),n("select-tool",{source:l,id:"hand"})}},{id:"eraser",label:"tool.eraser",icon:"tool-eraser",kbd:"e",onSelect(l){r.setCurrentTool("eraser"),n("select-tool",{source:l,id:"eraser"})}},{id:"draw",label:"tool.draw",icon:"tool-pencil",kbd:"d,b,x",onSelect(l){r.setCurrentTool("draw"),n("select-tool",{source:l,id:"draw"})}},...[...Ml.values].map(l=>({id:l,label:`tool.${l}`,meta:{geo:l},kbd:l==="rectangle"?"r":l==="ellipse"?"o":void 0,icon:"geo-"+l,onSelect(u){r.run(()=>{r.setStyleForNextShapes(Ml,l),r.setCurrentTool("geo"),n("select-tool",{source:u,id:`geo-${l}`})})}})),{id:"arrow",label:"tool.arrow",icon:"tool-arrow",kbd:"a",onSelect(l){r.setCurrentTool("arrow"),n("select-tool",{source:l,id:"arrow"})}},{id:"line",label:"tool.line",icon:"tool-line",kbd:"l",onSelect(l){r.setCurrentTool("line"),n("select-tool",{source:l,id:"line"})}},{id:"frame",label:"tool.frame",icon:"tool-frame",kbd:"f",onSelect(l){r.setCurrentTool("frame"),n("select-tool",{source:l,id:"frame"})}},{id:"text",label:"tool.text",icon:"tool-text",kbd:"t",onSelect(l){r.setCurrentTool("text"),n("select-tool",{source:l,id:"text"})}},{id:"asset",label:"tool.asset",icon:"tool-media",kbd:"$u",onSelect(l){i.insertMedia(),n("select-tool",{source:l,id:"media"})}},{id:"note",label:"tool.note",icon:"tool-note",kbd:"n",onSelect(l){r.setCurrentTool("note"),n("select-tool",{source:l,id:"note"})}},{id:"laser",label:"tool.laser",readonlyOk:!0,icon:"tool-laser",kbd:"k",onSelect(l){r.setCurrentTool("laser"),n("select-tool",{source:l,id:"laser"})}},{id:"embed",label:"tool.embed",icon:"dot",onSelect(l){i.addDialog({component:O$e}),n("select-tool",{source:l,id:"embed"})}},{id:"highlight",label:"tool.highlight",icon:"tool-highlight",kbd:"!d",onSelect(l){r.setCurrentTool("highlight"),n("select-tool",{source:l,id:"highlight"})}}];o.push();const s=Object.fromEntries(o.map(l=>[l.id,l]));return t?t(r,s,i):s},[t,r,n,i]);return y.jsx(eQe.Provider,{value:a,children:e})}function L6(){const t=I.useContext(eQe);if(!t)throw new Error("useTools must be used within a ToolProvider");return t}function Oo({toolId:t="",...e}){const n=L6()[t];return n?y.jsx(da,{...n,...e}):null}function GDt({children:t}){const e=we();return Ce("shouldDisplayHandles",()=>{if(e.isInAny("select.idle","select.pointing_handle","select.pointing_shape"))return!0;if(e.isInAny("select.editing_shape")){const n=e.getOnlySelectedShape();return n&&e.isShapeOfType(n,"note")}return!1},[e])?y.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:t}):null}const{PI:VDt}=Math,tg=VDt+1e-4;function tQe(t,e={}){const{size:r=16,smoothing:n=.5}=e;if(t.length===0||r<=0)return{left:[],right:[]};const i=t[0],a=t[t.length-1],o=a.runningLength,s=Math.pow(r*n,2),l=[],u=[];let c=t[0].vector,A=t[0].point,d=A,f=A,p=d,g=!1,m;for(let w=0;w<t.length;w++){m=t[w];const{point:b,vector:C}=t[w],S=m.vector.dpr(c),x=(w<t.length-1?t[w+1]:t[w]).vector,_=w<t.length-1?x.dpr(m.vector):1,B=S<0&&!g,T=_!==null&&_<.2;if(B||T){if(_>-.62&&o-m.runningLength>m.radius){const P=c.clone().mul(m.radius);c.clone().cpr(x)<0?(f=k.Add(b,P),p=k.Sub(b,P)):(f=k.Sub(b,P),p=k.Add(b,P)),l.push(f),u.push(p)}else{const P=c.clone().mul(m.radius).per(),M=k.Sub(m.input,P);for(let U=1/13,F=0;F<1;F+=U)f=k.RotWith(M,m.input,tg*F),l.push(f),p=k.RotWith(M,m.input,tg+tg*-F),u.push(p)}A=f,d=p,T&&(g=!0);continue}if(g=!1,m===i||m===a){const P=k.Per(C).mul(m.radius);l.push(k.Sub(b,P)),u.push(k.Add(b,P));continue}const R=k.Lrp(x,C,_).per().mul(m.radius);f=k.Sub(b,R),(w<=1||k.Dist2(A,f)>s)&&(l.push(f),A=f),p=k.Add(b,R),(w<=1||k.Dist2(d,p)>s)&&(u.push(p),d=p),c=C}return{left:l,right:u}}function N6(t,e={}){const{size:r=16,start:n={},end:i={},last:a=!1}=e,{cap:o=!0}=n,{cap:s=!0}=i;if(t.length===0||r<=0)return[];const l=t[0],u=t[t.length-1],c=u.runningLength,A=n.taper===!1?0:n.taper===!0?Math.max(r,c):n.taper,d=i.taper===!1?0:i.taper===!0?Math.max(r,c):i.taper,{left:f,right:p}=tQe(t,e),g=l.point,m=t.length>1?t[t.length-1].point:k.AddXY(l.point,1,1);if(t.length===1&&(!(A||d)||a)){const S=k.Add(g,k.Sub(g,m).uni().per().mul(-l.radius)),x=[];for(let _=1/13,B=_;B<=1;B+=_)x.push(k.RotWith(S,g,tg*2*B));return x}const w=[];if(!(A||d&&t.length===1))if(o)for(let S=1/8,x=S;x<=1;x+=S){const _=k.RotWith(p[0],g,tg*x);w.push(_)}else{const S=k.Sub(f[0],p[0]),x=k.Mul(S,.5),_=k.Mul(S,.51);w.push(k.Sub(g,x),k.Sub(g,_),k.Add(g,_),k.Add(g,x))}const b=[],C=u.vector.clone().per().neg();if(d||A&&t.length===1)b.push(m);else if(s){const S=k.Add(m,k.Mul(C,u.radius));for(let x=1/29,_=x;_<1;_+=x)b.push(k.RotWith(S,m,tg*3*_))}else b.push(k.Add(m,k.Mul(C,u.radius)),k.Add(m,k.Mul(C,u.radius*.99)),k.Sub(m,k.Mul(C,u.radius*.99)),k.Sub(m,k.Mul(C,u.radius)));return f.concat(b,p.reverse(),w)}const YDt=.025,XDt=.01;function Ku(t,e={}){var m;const{streamline:r=.5,size:n=16,simulatePressure:i=!1}=e;if(t.length===0)return[];const a=.15+(1-r)*.85;let o=t.map(k.From),s=0;if(!i){let w=o[0];for(;w&&!(w.z>=YDt);)o.shift(),w=o[0]}if(!i){let w=o[o.length-1];for(;w&&!(w.z>=XDt);)o.pop(),w=o[o.length-1]}if(o.length===0)return[{point:k.From(t[0]),input:k.From(t[0]),pressure:i?.5:.15,vector:new k(1,1),distance:0,runningLength:0,radius:1}];let l=o[1];for(;l&&!(k.Dist2(l,o[0])>(n/3)**2);)o[0].z=Math.max(o[0].z,l.z),o.splice(1,1),l=o[1];const u=o.pop();for(l=o[o.length-1];l&&!(k.Dist2(l,u)>(n/3)**2);)o.pop(),l=o[o.length-1],s++;o.push(u);const c=e.last||!e.simulatePressure||o.length>1&&k.Dist2(o[o.length-1],o[o.length-2])<n**2||s>0;if(o.length===2&&e.simulatePressure){const w=o[1];o=o.slice(0,-1);for(let b=1;b<5;b++){const C=k.Lrp(o[0],w,b/4);C.z=(o[0].z+(w.z-o[0].z))*b/4,o.push(C)}}const A=[{point:o[0],input:o[0],pressure:i?.5:o[0].z,vector:new k(1,1),distance:0,runningLength:0,radius:1}];let d=0,f=A[0],p,g;c&&r>0&&o.push(o[o.length-1].clone());for(let w=1,b=o.length;w<b;w++)p=!a||e.last&&w===b-1?o[w].clone():o[w].clone().lrp(f.point,1-a),!f.point.equals(p)&&(g=k.Dist(p,f.point),d+=g,!(w<4&&d<n)&&(f={input:o[w],point:p,pressure:i?.5:o[w].z,vector:k.Sub(f.point,p).uni(),distance:g,runningLength:d,radius:1},A.push(f)));if((m=A[1])!=null&&m.vector&&(A[0].vector=A[1].vector.clone()),d<1){const w=Math.max(.5,...A.map(b=>b.pressure));A.forEach(b=>b.pressure=w)}return A}const{min:UA}=Math,yN=.275;function iB(t,e){const{size:r=16,thinning:n=.5,simulatePressure:i=!0,easing:a=m=>m,start:o={},end:s={}}=e,{easing:l=Ji.easeOutQuad}=o,{easing:u=Ji.easeOutCubic}=s,c=t[t.length-1].runningLength;let A,d=t[0].pressure,f;if(!i&&c<r){const m=t.reduce((w,b)=>Math.max(w,b.pressure),.5);return t.forEach(w=>{w.pressure=m,w.radius=r*a(.5-n*(.5-w.pressure))}),t}else{let m;for(let w=0,b=t.length;w<b&&(f=t[w],!(f.runningLength>r*5));w++){const C=UA(1,f.distance/r);if(i){const S=UA(1,1-C);m=UA(1,d+(S-d)*(C*yN))}else m=UA(1,d+(f.pressure-d)*.5);d=d+(m-d)*.5}for(let w=0;w<t.length;w++){if(f=t[w],n){let{pressure:b}=f;const C=UA(1,f.distance/r);if(i){const S=UA(1,1-C);b=UA(1,d+(S-d)*(C*yN))}else b=UA(1,d+(b-d)*(C*yN));f.radius=r*a(.5-n*(.5-b)),d=b}else f.radius=r/2;A===void 0&&(A=f.radius)}}const p=o.taper===!1?0:o.taper===!0?Math.max(r,c):o.taper,g=s.taper===!1?0:s.taper===!0?Math.max(r,c):s.taper;if(p||g)for(let m=0;m<t.length;m++){f=t[m];const{runningLength:w}=f,b=w<p?l(w/p):1,C=c-w<g?u((c-w)/g):1;f.radius=Math.max(.01,f.radius*Math.min(b,C))}return t}function JDt(t,e={}){return N6(iB(Ku(t,e),e),e)}function h_e({scribble:t,zoom:e,color:r,opacity:n,className:i}){if(!t.points.length)return null;const a=JDt(t.points,{size:t.size/e,start:{taper:t.taper,easing:Ji.linear},last:t.state==="stopping",simulatePressure:!1,streamline:.32});let o;if(a.length<4){const s=t.size/e/2,{x:l,y:u}=t.points[t.points.length-1];o=`M ${l-s},${u} a ${s},${s} 0 1,0 ${s*2},0 a ${s},${s} 0 1,0 ${-s*2},0`}else o=X5(a);return y.jsx("svg",{className:i&&Mt("tl-overlays__item",i),children:y.jsx("path",{className:"tl-scribble",d:o,fill:r??`var(--color-${t.color})`,opacity:n??t.opacity})})}const ZDt=({bounds:t,rotation:e})=>{const r=we();return Ce("should display",()=>r.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_shape","select.pointing_selection","text.resizing"),[r])?y.jsx(AMe,{bounds:t,rotation:e}):null};function ejt({size:t,width:e,height:r,hideAlternateHandles:n}){const i=ye(t/3),a=i/2;return y.jsxs("svg",{className:"tl-overlays__item",children:[y.jsx("polyline",{className:"tl-corner-crop-handle",points:`
						${ye(0-a)},${ye(t)} 
						${ye(0-a)},${ye(0-a)} 
						${ye(t)},${ye(0-a)}`,strokeWidth:i,"data-testid":"selection.crop.top_left","aria-label":"top_left handle"}),y.jsx("line",{className:Mt("tl-corner-crop-edge-handle",{"tl-hidden":n}),x1:ye(e/2-t),y1:ye(0-a),x2:ye(e/2+t),y2:ye(0-a),strokeWidth:i,"data-testid":"selection.crop.top","aria-label":"top handle"}),y.jsx("polyline",{className:Mt("tl-corner-crop-handle",{"tl-hidden":n}),points:`
						${ye(e-t)},${ye(0-a)} 
						${ye(e+a)},${ye(0-a)} 
						${ye(e+a)},${ye(t)}`,strokeWidth:i,"data-testid":"selection.crop.top_right","aria-label":"top_right handle"}),y.jsx("line",{className:Mt("tl-corner-crop-edge-handle",{"tl-hidden":n}),x1:ye(e+a),y1:ye(r/2-t),x2:ye(e+a),y2:ye(r/2+t),strokeWidth:i,"data-testid":"selection.crop.right","aria-label":"right handle"}),y.jsx("polyline",{className:"tl-corner-crop-handle",points:`
						${ye(e+a)},${ye(r-t)} 
						${ye(e+a)},${ye(r+a)}
						${ye(e-t)},${ye(r+a)}`,strokeWidth:i,"data-testid":"selection.crop.bottom_right","aria-label":"bottom_right handle"}),y.jsx("line",{className:Mt("tl-corner-crop-edge-handle",{"tl-hidden":n}),x1:ye(e/2-t),y1:ye(r+a),x2:ye(e/2+t),y2:ye(r+a),strokeWidth:i,"data-testid":"selection.crop.bottom","aria-label":"bottom handle"}),y.jsx("polyline",{className:Mt("tl-corner-crop-handle",{"tl-hidden":n}),points:`
						${ye(0+t)},${ye(r+a)} 
						${ye(0-a)},${ye(r+a)}
						${ye(0-a)},${ye(r-t)}`,strokeWidth:i,"data-testid":"selection.crop.bottom_left","aria-label":"bottom_left handle"}),y.jsx("line",{className:Mt("tl-corner-crop-edge-handle",{"tl-hidden":n}),x1:ye(0-a),y1:ye(r/2-t),x2:ye(0-a),y2:ye(r/2+t),strokeWidth:i,"data-testid":"selection.crop.left","aria-label":"left handle"})]})}const tjt=wa(function({bounds:e,rotation:r}){const n=we(),i=I.useRef(null),a=_s(),o=wu("top"),s=wu("right"),l=wu("bottom"),u=wu("left"),c=wu("top_left"),A=wu("top_right"),d=wu("bottom_right"),f=wu("bottom_left"),p=n.getInstanceState().cursor.type==="default",g=n.getInstanceState().isCoarsePointer,m=n.getOnlySelectedShape(),w=m&&n.isShapeOrAncestorLocked(m),b=m?n.getShapeUtil(m).expandSelectionOutlinePx(m):0,C=b instanceof Ze?e.clone().expand(b).zeroFix():e.clone().expandBy(b).zeroFix();if(am(i,e==null?void 0:e.x,e==null?void 0:e.y,1,n.getSelectionRotation(),{x:C.x-e.x,y:C.y-e.y}),m&&n.isShapeHidden(m))return null;const S=n.getZoomLevel(),x=n.getInstanceState().isChangingStyle,_=C.width,B=C.height,T=8/S,R=_<T*2,P=B<T*2,M=_<T*4,U=B<T*4,F=_<T*5,j=B<T*5,L=g?1.75:1,$=6/S*L,Q=(M?$/2:$)*(L*.75),H=(U?$/2:$)*(L*.75),q=(m?!n.getShapeUtil(m).hideSelectionBoundsFg(m):!0)&&!x;let Y=q&&n.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_canvas","select.pointing_selection","select.pointing_shape","select.crop.idle","select.crop.pointing_crop","select.crop.pointing_crop_handle","select.pointing_resize_handle")||q&&n.isIn("select.resizing")&&m&&n.isShapeOfType(m,"text");m&&Y&&tn.isFirefox&&n.isShapeOfType(m,"embed")&&(Y=!1);const z=n.isInAny("select.crop.idle","select.crop.pointing_crop","select.crop.pointing_crop_handle")&&!x&&!a,V=n.isInAny("select.idle","select.pointing_selection","select.pointing_shape","select.crop.idle")&&!x&&!a,X=!g&&!(R||P)&&(V||z)&&(m?!n.getShapeUtil(m).hideRotateHandle(m):!0)&&!w,ee=g&&(!M||!U)&&(V||z)&&(m?!n.getShapeUtil(m).hideRotateHandle(m):!0)&&!w,J=V&&(m?n.getShapeUtil(m).canResize(m)&&!n.getShapeUtil(m).hideResizeHandles(m):!0)&&!z&&!w,le=R||P,de=R&&P,oe=F||j,re=J||z,se=!X,he=!V||!ee,ae=!V||!re,Ee=!V||!re||le,Oe=!V||!re||le,Ne=!V||!re||de&&!z;let De=!0,Le=!0;if(z)De=oe,Le=oe;else if(J){De=le||de||g;const it=g&&m&&m.type==="text";Le=De&&!it}const st=Math.min(24/S,B-H*3),ut=V&&g&&m&&n.isShapeOfType(m,"text")&&st*S>=4;return y.jsx("svg",{className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:y.jsxs("g",{ref:i,children:[Y&&y.jsx("rect",{className:"tl-selection__fg__outline",width:ye(_),height:ye(B)}),y.jsx(cx,{"data-testid":"selection.rotate.top-left",cx:0,cy:0,targetSize:$,corner:"top_left_rotate",cursor:p?es("nwse-rotate",r):void 0,isHidden:se}),y.jsx(cx,{"data-testid":"selection.rotate.top-right",cx:_+$*3,cy:0,targetSize:$,corner:"top_right_rotate",cursor:p?es("nesw-rotate",r):void 0,isHidden:se}),y.jsx(cx,{"data-testid":"selection.rotate.bottom-left",cx:0,cy:B+$*3,targetSize:$,corner:"bottom_left_rotate",cursor:p?es("swne-rotate",r):void 0,isHidden:se}),y.jsx(cx,{"data-testid":"selection.rotate.bottom-right",cx:_+$*3,cy:B+$*3,targetSize:$,corner:"bottom_right_rotate",cursor:p?es("senw-rotate",r):void 0,isHidden:se}),y.jsx(njt,{"data-testid":"selection.rotate.mobile",cx:M?-$*1.5:_/2,cy:M?B/2:-$*1.5,size:T,isHidden:he}),y.jsx("rect",{className:Mt("tl-transparent",{"tl-hidden":De}),"data-testid":"selection.resize.top","aria-label":"top target",pointerEvents:"all",x:0,y:ye(0-(U?H*2:H)),width:ye(_),height:ye(Math.max(1,H*2)),style:p?{cursor:es("ns-resize",r)}:void 0,...o}),y.jsx("rect",{className:Mt("tl-transparent",{"tl-hidden":Le}),"data-testid":"selection.resize.right","aria-label":"right target",pointerEvents:"all",x:ye(_-(M?0:Q)),y:0,height:ye(B),width:ye(Math.max(1,Q*2)),style:p?{cursor:es("ew-resize",r)}:void 0,...s}),y.jsx("rect",{className:Mt("tl-transparent",{"tl-hidden":De}),"data-testid":"selection.resize.bottom","aria-label":"bottom target",pointerEvents:"all",x:0,y:ye(B-(U?0:H)),width:ye(_),height:ye(Math.max(1,H*2)),style:p?{cursor:es("ns-resize",r)}:void 0,...l}),y.jsx("rect",{className:Mt("tl-transparent",{"tl-hidden":Le}),"data-testid":"selection.resize.left","aria-label":"left target",pointerEvents:"all",x:ye(0-(M?Q*2:Q)),y:0,height:ye(B),width:ye(Math.max(1,Q*2)),style:p?{cursor:es("ew-resize",r)}:void 0,...u}),y.jsx("rect",{className:Mt("tl-transparent",{"tl-hidden":ae}),"data-testid":"selection.target.top-left","aria-label":"top-left target",pointerEvents:"all",x:ye(0-(M?Q*2:Q*1.5)),y:ye(0-(U?H*2:H*1.5)),width:ye(Q*3),height:ye(H*3),style:p?{cursor:es("nwse-resize",r)}:void 0,...c}),y.jsx("rect",{className:Mt("tl-transparent",{"tl-hidden":Ee}),"data-testid":"selection.target.top-right","aria-label":"top-right target",pointerEvents:"all",x:ye(_-(M?0:Q*1.5)),y:ye(0-(U?H*2:H*1.5)),width:ye(Q*3),height:ye(H*3),style:p?{cursor:es("nesw-resize",r)}:void 0,...A}),y.jsx("rect",{className:Mt("tl-transparent",{"tl-hidden":Ne}),"data-testid":"selection.target.bottom-right","aria-label":"bottom-right target",pointerEvents:"all",x:ye(_-(M?Q:Q*1.5)),y:ye(B-(U?H:H*1.5)),width:ye(Q*3),height:ye(H*3),style:p?{cursor:es("nwse-resize",r)}:void 0,...d}),y.jsx("rect",{className:Mt("tl-transparent",{"tl-hidden":Oe}),"data-testid":"selection.target.bottom-left","aria-label":"bottom-left target",pointerEvents:"all",x:ye(0-(M?Q*3:Q*1.5)),y:ye(B-(U?0:H*1.5)),width:ye(Q*3),height:ye(H*3),style:p?{cursor:es("nesw-resize",r)}:void 0,...f}),J&&y.jsxs(y.Fragment,{children:[y.jsx("rect",{"data-testid":"selection.resize.top-left",className:Mt("tl-corner-handle",{"tl-hidden":ae}),"aria-label":"top_left handle",x:ye(0-T/2),y:ye(0-T/2),width:ye(T),height:ye(T)}),y.jsx("rect",{"data-testid":"selection.resize.top-right",className:Mt("tl-corner-handle",{"tl-hidden":Ee}),"aria-label":"top_right handle",x:ye(_-T/2),y:ye(0-T/2),width:ye(T),height:ye(T)}),y.jsx("rect",{"data-testid":"selection.resize.bottom-right",className:Mt("tl-corner-handle",{"tl-hidden":Ne}),"aria-label":"bottom_right handle",x:ye(_-T/2),y:ye(B-T/2),width:ye(T),height:ye(T)}),y.jsx("rect",{"data-testid":"selection.resize.bottom-left",className:Mt("tl-corner-handle",{"tl-hidden":Oe}),"aria-label":"bottom_left handle",x:ye(0-T/2),y:ye(B-T/2),width:ye(T),height:ye(T)})]}),ut&&y.jsxs(y.Fragment,{children:[y.jsx("rect",{"data-testid":"selection.text-resize.left.handle",className:"tl-text-handle","aria-label":"bottom_left handle",x:ye(0-T/4),y:ye(B/2-st/2),rx:T/4,width:ye(T/2),height:ye(st)}),y.jsx("rect",{"data-testid":"selection.text-resize.right.handle",className:"tl-text-handle","aria-label":"bottom_left handle",rx:T/4,x:ye(_-T/4),y:ye(B/2-st/2),width:ye(T/2),height:ye(st)})]}),z&&y.jsx(ejt,{size:T,width:_,height:B,hideAlternateHandles:oe})]})})}),cx=function({cx:e,cy:r,targetSize:n,corner:i,cursor:a,isHidden:o,"data-testid":s}){const l=wu(i);return y.jsx("rect",{className:Mt("tl-transparent","tl-rotate-corner",{"tl-hidden":o}),"data-testid":s,"aria-label":`${i} target`,pointerEvents:"all",x:ye(e-n*3),y:ye(r-n*3),width:ye(Math.max(1,n*3)),height:ye(Math.max(1,n*3)),cursor:a,...l})},rjt=Math.sqrt(Math.PI),njt=function({cx:e,cy:r,size:n,isHidden:i,"data-testid":a}){const o=wu("mobile_rotate"),s=we(),l=Ce("zoom level",()=>s.getZoomLevel(),[s]),u=Math.max(14*(1/l),20/Math.max(1,l));return y.jsxs("g",{children:[y.jsx("circle",{"data-testid":a,pointerEvents:"all",className:Mt("tl-transparent","tl-mobile-rotate__bg",{"tl-hidden":i}),cx:e,cy:r,r:u,...o}),y.jsx("circle",{className:Mt("tl-mobile-rotate__fg",{"tl-hidden":i}),cx:e,cy:r,r:n/rjt})]})};function ijt(){const t=we();return Ce("is in a valid select state",()=>t.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle"),[t])?y.jsx(dMe,{}):null}function H4(t,e,r){const{arrowheadStart:n,arrowheadEnd:i}=e.props,a=Np(t,e,r),o=a.start.clone(),s=a.end.clone(),l=k.Med(o,s);if(k.Equals(o,s))return{bindings:r,isStraight:!0,start:{handle:o,point:o,arrowhead:e.props.arrowheadStart},end:{handle:s,point:s,arrowhead:e.props.arrowheadEnd},middle:l,isValid:!1,length:0};const u=k.Sub(s,o).uni(),c=o_(t,e,"start"),A=o_(t,e,"end"),d=t.getShapePageTransform(e);p_e(s,a.start,d,A),p_e(o,a.end,d,c);let f=0,p=0,g=0,m=0,w=_y*e.props.scale;const b=c&&A&&c.shape===A.shape,C=c&&A?$6(t,c.shape.id,A.shape.id):"safe";C==="safe"&&c&&A&&!b&&!c.isExact&&!A.isExact&&(A.didIntersect&&!c.didIntersect?c.isClosed&&o.setTo(s.clone().add(u.clone().mul(_y*e.props.scale))):A.didIntersect||A.isClosed&&s.setTo(o.clone().sub(u.clone().mul(_y*e.props.scale))));const S=k.Sub(s,o),x=k.Len(S)?S.uni():k.From(S),_=!k.Equals(x,u);b||(C!=="start-contains-end"&&c&&n!=="none"&&!c.isExact&&(g=Tu[e.props.size]/2+("size"in c.shape.props?Tu[c.shape.props.size]/2:0),f=(s_+g)*e.props.scale,w+=g*e.props.scale),C!=="end-contains-start"&&A&&i!=="none"&&!A.isExact&&(m=Tu[e.props.size]/2+("size"in A.shape.props?Tu[A.shape.props.size]/2:0),p=(s_+m)*e.props.scale,w+=m*e.props.scale));const B=o.clone().add(x.clone().mul(f*(_?-1:1))),T=s.clone().sub(x.clone().mul(p*(_?-1:1)));k.DistMin(B,T,w)&&(f!==0&&p!==0?(f*=-1.5,p*=-1.5):f!==0?f*=-1:p!==0&&(p*=-1)),o.add(x.clone().mul(f*(_?-1:1))),s.sub(x.clone().mul(p*(_?-1:1))),_?(c&&A&&s.setTo(k.Add(o,x.clone().mul(-10*e.props.scale))),l.setTo(k.Med(a.start,a.end))):l.setTo(k.Med(o,s));const R=k.Dist(o,s);return{bindings:r,isStraight:!0,start:{handle:a.start,point:o,arrowhead:e.props.arrowheadStart},end:{handle:a.end,point:s,arrowhead:e.props.arrowheadEnd},middle:l,isValid:R>0,length:R}}function p_e(t,e,r,n){if(n===void 0||n.isExact)return;const i=nt.applyToPoint(r,e),a=nt.applyToPoint(r,t),o=nt.applyToPoint(nt.Inverse(n.transform),i),s=nt.applyToPoint(nt.Inverse(n.transform),a),l=n.isClosed,c=(l?Uq:pPt)(o,s,n.outline);let A;if(c!==null&&(A=c.sort((p,g)=>k.Dist2(p,o)-k.Dist2(g,o))[0]??(l?void 0:s)),A===void 0)return;const d=nt.applyToPoint(n.transform,A),f=nt.applyToPoint(nt.Inverse(r),d);t.setTo(f),n.didIntersect=!0}function ajt(t,e,r){const{arrowheadEnd:n,arrowheadStart:i}=e.props,a=e.props.bend;if(Math.abs(a)>Math.abs(e.props.bend*(cjt*e.props.scale)))return H4(t,e,r);const o=Np(t,e,r),s=k.Med(o.start,o.end),l=k.Sub(o.end,o.start),u=k.Len(l)?l.uni():k.From(l),c=k.Add(s,u.per().mul(-a)),A=o_(t,e,"start"),d=o_(t,e,"end"),f=o.start.clone(),p=o.end.clone(),g=c.clone();if(k.Equals(f,p))return{bindings:r,isStraight:!0,start:{handle:f,point:f,arrowhead:e.props.arrowheadStart},end:{handle:p,point:p,arrowhead:e.props.arrowheadEnd},middle:g,isValid:!1,length:0};const m=e.props.bend<0,w=m?vb:zRe,b=g_e(f,p,g),C=k.Angle(b.center,f),S=k.Angle(b.center,p),x=w(C,S);if(b.length===0||b.size===0||!sre(b.length)||!sre(b.size))return H4(t,e,r);const _=f.clone(),B=p.clone(),T=g.clone(),R=t.getShapePageTransform(e);let P=0,M=0,U=_y*e.props.scale;if(A&&!A.isExact){const Y=nt.applyToPoint(R,_),z=nt.applyToPoint(R,b.center),V=nt.applyToPoint(R,B),X=nt.Inverse(A.transform),ee=nt.applyToPoint(X,Y),J=nt.applyToPoint(X,z),le=nt.applyToPoint(X,V),{isClosed:de}=A,oe=de?v4:pCe;let re,se=oe(J,b.radius,A.outline);if(se){const he=J.angle(ee),ae=J.angle(le),Ee=w(he,ae);se=se.filter(Ne=>w(he,J.angle(Ne))<=Ee);const Oe=Ee*.25;se.sort(de?(Ne,De)=>Math.abs(w(he,J.angle(Ne))-Oe)<Math.abs(w(he,J.angle(De))-Oe)?-1:1:(Ne,De)=>w(he,J.angle(Ne))<w(he,J.angle(De))?-1:1),re=se[0]??(de?void 0:ee)}else re=de?void 0:ee;if(re&&(_.setTo(t.getPointInShapeSpace(e,nt.applyToPoint(A.transform,re))),A.didIntersect=!0,i!=="none")){const he=Tu[e.props.size]/2+("size"in A.shape.props?Tu[A.shape.props.size]/2:0);P=(s_+he)*e.props.scale,U+=he*e.props.scale}}if(d&&!d.isExact){const Y=nt.applyToPoint(R,_),z=nt.applyToPoint(R,B),V=nt.applyToPoint(R,b.center),X=nt.Inverse(d.transform),ee=nt.applyToPoint(X,Y),J=nt.applyToPoint(X,V),le=nt.applyToPoint(X,z),de=d.isClosed,oe=de?v4:pCe;let re,se=oe(J,b.radius,d.outline);if(se){const he=J.angle(ee),ae=J.angle(le),Ee=w(he,ae),Oe=Ee*.75;se=se.filter(Ne=>w(he,J.angle(Ne))<=Ee),se.sort(de?(Ne,De)=>Math.abs(w(he,J.angle(Ne))-Oe)<Math.abs(w(he,J.angle(De))-Oe)?-1:1:(Ne,De)=>w(he,J.angle(Ne))<w(he,J.angle(De))?-1:1),se[0]?re=se[0]:re=de?void 0:le}else re=de?void 0:le;if(re&&(B.setTo(t.getPointInShapeSpace(e,nt.applyToPoint(d.transform,re))),d.didIntersect=!0,n!=="none")){const he=Tu[e.props.size]/2+("size"in d.shape.props?Tu[d.shape.props.size]/2:0);M=(s_+he)*e.props.scale,U+=he*e.props.scale}}let F=k.Angle(b.center,_),j=k.Angle(b.center,B),L=w(F,j),$=L*b.radius;const Q=_.clone(),H=B.clone();if(P!==0&&Q.setTo(b.center).add(k.FromAngle(F+L*(P/$*(m?1:-1))).mul(b.radius)),M!==0&&H.setTo(b.center).add(k.FromAngle(j+L*(M/$*(m?-1:1))).mul(b.radius)),k.DistMin(Q,H,U)&&(P!==0&&M!==0?(P*=-1.5,M*=-1.5):P!==0?P*=-2:M!==0&&(M*=-2)),P!==0&&_.setTo(b.center).add(k.FromAngle(F+L*(P/$*(m?1:-1))).mul(b.radius)),M!==0&&B.setTo(b.center).add(k.FromAngle(j+L*(M/$*(m?-1:1))).mul(b.radius)),A&&d&&!A.isExact&&!d.isExact){F=k.Angle(b.center,_),j=k.Angle(b.center,B),L=w(F,j),$=L*b.radius;const Y=$6(t,A.shape.id,d.shape.id);Y==="double-bound"&&$<30?(_.setTo(f),B.setTo(p),T.setTo(g)):Y==="safe"&&(A&&!A.didIntersect&&_.setTo(f),(d&&!d.didIntersect||w(C,F)>w(C,j))&&B.setTo(b.center).add(k.FromAngle(F+L*(Math.min(.9,_y*e.props.scale/$)*(m?1:-1))).mul(b.radius)))}ojt(b.center,b.radius,_,B,T,x,m),_.equals(B)&&(_.setTo(T.clone().addXY(1,1)),B.setTo(T.clone().subXY(1,1))),f.setTo(_),p.setTo(B),g.setTo(T);const q=g_e(f,p,g);return{bindings:r,isStraight:!1,start:{point:f,handle:o.start,arrowhead:e.props.arrowheadStart},end:{point:p,handle:o.end,arrowhead:e.props.arrowheadEnd},middle:g,handleArc:b,bodyArc:q,isValid:q.length!==0&&isFinite(q.center.x)&&isFinite(q.center.y)}}function g_e(t,e,r){const n=T5(t,e,r)??k.Med(t,e),i=k.Dist(n,t),a=+k.Clockwise(t,r,e),o=((t.y-e.y)**2+(t.x-e.x)**2)**.5,s=((e.y-r.y)**2+(e.x-r.x)**2)**.5,l=((r.y-t.y)**2+(r.x-t.x)**2)**.5,u=Math.acos((s*s+l*l-o*o)/(2*s*l))*2,c=+(Or>u),A=(nn-u)*(a?1:-1),d=A*i;return{center:n,radius:i,size:A,length:d,largeArcFlag:c,sweepFlag:a}}function ojt(t,e,r,n,i,a,o){const s=k.Angle(t,r),l=k.Angle(t,n);let u=vb(s,l);if(o||(u=nn-u),i.setTo(t).add(k.FromAngle(s+u*(.5*(o?1:-1))).mul(e)),u>a){i.rotWith(t,Or);const c=n.clone();n.setTo(r),r.setTo(c)}}const sjt=8;function ljt(t){return Math.abs(t.props.bend)<sjt*t.props.scale}function o_(t,e,r){const n=t.getBindingsFromShape(e,"arrow").find(l=>l.props.terminal===r);if(!n)return;const i=t.getShape(n.toId);if(!i)return;const a=t.getShapePageTransform(i),o=t.getShapeGeometry(i,r==="start"?{context:"@tldraw/arrow-start"}:void 0),s=o instanceof tl?o.children[0].vertices:o.vertices;return{shape:i,transform:a,isClosed:o.isClosed,isExact:n.props.isExact,didIntersect:!1,outline:s}}function m_e(t,e,r,n){const i=t.getShape(r.toId);if(i){const{point:a,size:o}=t.getShapeGeometry(i).bounds,s=k.Add(a,k.MulV(r.props.isPrecise||n?r.props.normalizedAnchor:{x:.5,y:.5},o)),l=nt.applyToPoint(t.getShapePageTransform(i),s);return nt.applyToPoint(nt.Inverse(e),l)}else return new k(0,0)}function Do(t,e){const r=t.getBindingsFromShape(e,"arrow");return{start:r.find(n=>n.props.terminal==="start"),end:r.find(n=>n.props.terminal==="end")}}const ujt=Ovt("arrow info",(t,e)=>{const r=Do(t,e);return ljt(e)?H4(t,e,r):ajt(t,e,r)});function Pu(t,e){const r=typeof e=="string"?e:e.id;return ujt.get(t,r)}function Np(t,e,r){var s,l;const n=t.getShapePageTransform(e),i=$6(t,(s=r.start)==null?void 0:s.toId,(l=r.end)==null?void 0:l.toId),a=r.start?m_e(t,n,r.start,i==="double-bound"||i==="start-contains-end"):k.From(e.props.start),o=r.end?m_e(t,n,r.end,i==="double-bound"||i==="end-contains-start"):k.From(e.props.end);return{start:a,end:o}}function Rv(t,e,r,n){const i=typeof e=="string"?e:e.id,a=typeof r=="string"?r:r.id,o=t.getBindingsFromShape(i,"arrow").filter(l=>l.props.terminal===n.terminal);o.length>1&&t.deleteBindings(o.slice(1));const s=o[0];s?t.updateBinding({...s,toId:a,props:n}):t.createBinding({type:"arrow",fromId:i,toId:a,props:n})}function Kx(t,e,r){const n=t.getBindingsFromShape(e,"arrow").filter(i=>i.props.terminal===r);t.deleteBindings(n)}const _y=10,s_=10,cjt=10,Tu={s:2,m:3.5,l:5,xl:10};function $6(t,e,r){if(!e||!r)return"safe";if(e===r)return"double-bound";const n=t.getShapePageBounds(e),i=t.getShapePageBounds(r);if(n&&i){if(n.contains(i))return"start-contains-end";if(i.contains(n))return"end-contains-start"}return"safe"}class zx extends Nx{getDefaultProps(){return{isPrecise:!1,isExact:!1,normalizedAnchor:{x:.5,y:.5}}}onAfterCreate({binding:e}){const r=this.editor.getShape(e.fromId);r&&wN(this.editor,r)}onAfterChange({bindingAfter:e}){const r=this.editor.getShape(e.fromId);r&&wN(this.editor,r)}onAfterChangeFromShape({shapeAfter:e}){wN(this.editor,e)}onAfterChangeToShape({binding:e}){rQe(this.editor,e.fromId)}onBeforeIsolateFromShape({binding:e}){const r=this.editor.getShape(e.fromId);r&&l_({editor:this.editor,arrow:r,terminal:e.props.terminal})}}K(zx,"type","arrow"),K(zx,"props",h2e),K(zx,"migrations",p2e);function rQe(t,e){var m;const r=t.getShape(e);if(!r)return;const n=Do(t,r),{start:i,end:a}=n,o=i?t.getShape(i.toId):void 0,s=a?t.getShape(a.toId):void 0,l=t.getAncestorPageId(r);if(!l)return;let u;if(o&&s)u=t.findCommonAncestor([o,s])??l;else if(o||s){const w=(m=o||s)==null?void 0:m.parentId;w&&w===r.parentId?u=r.parentId:u=l}else return;u&&u!==r.parentId&&t.reparentShapes([e],u);const c=t.getShape(e);if(!c)throw Error("no reparented arrow");const A=t.getShapeNearestSibling(c,o),d=t.getShapeNearestSibling(c,s);let f;if(A&&d)f=A.index>d.index?A:d;else if(A&&!d)f=A;else if(d&&!A)f=d;else return;let p;const g=t.getSortedChildIdsForParent(f.parentId).map(w=>t.getShape(w)).filter(w=>w.index>f.index);if(g.length){const w=g.find(b=>b.type!=="arrow");if(c.index>f.index&&(!w||c.index<w.index))return;p=xw(f.index,g[0].index)}else p=Iu(f.index);p!==c.index&&t.updateShapes([{id:e,type:"arrow",index:p}])}function wN(t,e){const r=Do(t,e);for(const n of["start","end"]){const i=r[n];if(!i)continue;const a=t.getShape(i.toId),o=t.getAncestorPageId(e)===t.getAncestorPageId(a);(!a||!o)&&l_({editor:t,arrow:e,terminal:n,unbind:!0})}rQe(t,e.id)}function l_({editor:t,arrow:e,terminal:r,unbind:n=!1,useHandle:i=!1}){const a=Pu(t,e);if(!a)throw new Error("expected arrow info");const o=i?a.start.handle:a.start.point,s=i?a.end.handle:a.end.point,l=r==="start"?o:s,u={id:e.id,type:"arrow",props:{[r]:{x:l.x,y:l.y},bend:e.props.bend}};if(!a.isStraight){const c=r==="start"?o:a.start.handle,A=r==="end"?s:a.end.handle,d=k.Med(c,A),f=k.Sub(c,A).per().uni().mul(a.handleArc.radius*2*Math.sign(e.props.bend)),p=Mb(a.handleArc.center,k.Add(d,f),a.handleArc.center,a.handleArc.radius);fr((p==null?void 0:p.length)===1);const g=k.Dist(d,p[0])*Math.sign(e.props.bend);od(g,u.props.bend)||(u.props.bend=g)}t.updateShape(u),n&&Kx(t,e,r)}const nQe=[zx],Wa={lineHeight:1.35,fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",padding:"0px"},Ka={s:2,m:3.5,l:5,xl:10},Tg={s:18,m:24,l:36,xl:44},qc={s:18,m:22,l:26,xl:32},Ajt={s:18,m:20,l:24,xl:28},eA={draw:"var(--tl-font-draw)",sans:"var(--tl-font-sans)",serif:"var(--tl-font-serif)",mono:"var(--tl-font-mono)"},djt=20,Q6=4.25,Ls=16;function fjt(t,e){const r=t.w/e.w,n=t.h/e.h;return r<=1&&n<=1?t:r>n?{w:t.w/r,h:t.h/r}:{w:t.w/n,h:t.h/n}}async function hjt(t,e,r){var w,b,C;const{elements:n,files:i}=e,a={shapes:[],bindings:[],rootShapeIds:[],assets:[],schema:t.store.schema.serialize()},o=new Map,s=new Map,l=t.getCurrentPageId(),u=new Map,c=[],A=new Set;n.forEach(S=>{if(u.set(S.id,an()),S.boundElements!==null)for(const x of S.boundElements)x.type==="text"&&A.add(x.id)});let d=dRe;for(const S of n){if(A.has(S.id))continue;const x=u.get(S.id),_={id:x,typeName:"shape",parentId:l,index:d,x:S.x,y:S.y,rotation:0,isLocked:S.locked,opacity:pjt(S.opacity),meta:{}};switch(S.angle!==0&&s.set(x,S.angle),S.groupIds&&S.groupIds.length>0?o.has(S.groupIds[0])?(w=o.get(S.groupIds[0]))==null||w.push(x):o.set(S.groupIds[0],[x]):c.push(x),S.type){case"rectangle":case"ellipse":case"diamond":{let B="",T="middle";if(S.boundElements!==null){for(const P of S.boundElements)if(P.type==="text"){const M=n.find(U=>U.id===P.id);M&&(B=M.text,T=Sjt[M.textAlign])}}const R=S.backgroundColor==="transparent"?S.strokeColor:S.backgroundColor;a.shapes.push({..._,type:"geo",props:{geo:S.type,url:S.link??"",w:S.width,h:S.height,size:Ax[S.strokeWidth]??"draw",color:Mv[R]??"black",text:B,align:T,dash:dx(S),fill:_jt(S)}});break}case"freedraw":{a.shapes.push({..._,type:"draw",props:{dash:dx(S),size:Ax[S.strokeWidth],color:Mv[S.strokeColor]??"black",segments:[{type:"free",points:S.points.map(([B,T,R=.5])=>({x:B,y:T,z:R}))}]}});break}case"line":{if(S.points.slice().length<2)break;const T=Cw(S.points.length);a.shapes.push({..._,type:"line",props:{dash:dx(S),size:Ax[S.strokeWidth],color:Mv[S.strokeColor]??"black",spline:S.roundness?"cubic":"line",points:{...Object.fromEntries(S.points.map(([R,P],M)=>{const U=T[M];return[U,{id:U,index:U,x:R,y:P}]}))}}});break}case"arrow":{let B="";if(S.boundElements!==null){for(const U of S.boundElements)if(U.type==="text"){const F=n.find(j=>j.id===U.id);F&&(B=F.text)}}const T=S.points[0],R=S.points[S.points.length-1],P=u.get((b=S.startBinding)==null?void 0:b.elementId),M=u.get((C=S.endBinding)==null?void 0:C.elementId);a.shapes.push({..._,type:"arrow",props:{text:B,bend:Cjt(S,T,R),dash:dx(S),size:Ax[S.strokeWidth]??"m",color:Mv[S.strokeColor]??"black",start:{x:T[0],y:T[1]},end:{x:R[0],y:R[1]},arrowheadEnd:v_e[S.endArrowhead]??"none",arrowheadStart:v_e[S.startArrowhead]??"none"}}),P&&a.bindings.push({id:jf(),typeName:"binding",type:"arrow",fromId:x,toId:P,props:{terminal:"start",normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1},meta:{}}),M&&a.bindings.push({id:jf(),typeName:"binding",type:"arrow",fromId:x,toId:M,props:{terminal:"end",normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1},meta:{}});break}case"text":{const{size:B,scale:T}=mjt(S.fontSize);a.shapes.push({..._,type:"text",props:{size:B,scale:T,font:vjt[S.fontFamily]??"draw",color:Mv[S.strokeColor]??"black",text:S.text,textAlign:xjt[S.textAlign]}});break}case"image":{const B=i[S.fileId];if(!B)break;const T=hd.createId();a.assets.push({id:T,typeName:"asset",type:"image",props:{w:S.width,h:S.height,fileSize:B.size,name:S.id??"Untitled",isAnimated:!1,mimeType:B.mimeType,src:B.dataURL},meta:{}}),a.shapes.push({..._,type:"image",props:{w:S.width,h:S.height,assetId:T}})}}d=Iu(d)}const f=r??(t.inputs.shiftKey?t.inputs.currentPagePoint:void 0);t.putContentOntoCurrentPage(a,{point:f,select:!1,preserveIds:!0});for(const S of o.values())if(S.length>1){t.groupShapes(S);const x=t.getShape(S[0]);x!=null&&x.parentId&&Fo(x.parentId)&&c.push(x.parentId)}for(const[S,x]of s)t.select(S),t.rotateShapesBy([S],x);const p=sr(c.map(S=>t.getShape(S))),g=Ze.Common(p.map(S=>t.getShapePageBounds(S))),m=t.getViewportPageBounds().center;t.updateShapes(p.map(S=>{const x={x:(S.x??0)-(g.x+g.w/2),y:(S.y??0)-(g.y+g.h/2)};return{id:S.id,type:S.type,x:m.x+x.x,y:m.y+x.y}})),t.setSelectedShapes(c)}const pjt=t=>{const e=t/100;return e<.2?.1:e<.4?.25:e<.6?.5:e<.8?.75:1},Ax={1:"s",2:"m",3:"l",4:"xl"},gjt={16:"s",20:"m",28:"l",36:"xl"};function mjt(t){const e=gjt[t];return e?{size:e,scale:1}:t<16?{size:"s",scale:t/16}:t>36?{size:"xl",scale:t/36}:{size:"m",scale:1}}const vjt={1:"draw",2:"sans",3:"mono"},yjt={gray:["#f8f9fa","#e9ecef","#ced4da","#868e96","#343a40"],red:["#fff5f5","#ffc9c9","#ff8787","#fa5252","#e03131"],pink:["#fff0f6","#fcc2d7","#f783ac","#e64980","#c2255c"],grape:["#f8f0fc","#eebefa","#da77f2","#be4bdb","#9c36b5"],violet:["#f3f0ff","#d0bfff","#9775fa","#7950f2","#6741d9"],indigo:["#edf2ff","#bac8ff","#748ffc","#4c6ef5","#3b5bdb"],blue:["#e7f5ff","#a5d8ff","#4dabf7","#228be6","#1971c2"],cyan:["#e3fafc","#99e9f2","#3bc9db","#15aabf","#0c8599"],teal:["#e6fcf5","#96f2d7","#38d9a9","#12b886","#099268"],green:["#ebfbee","#b2f2bb","#69db7c","#40c057","#2f9e44"],lime:["#f4fce3","#d8f5a2","#a9e34b","#82c91e","#66a80f"],yellow:["#fff9db","#ffec99","#ffd43b","#fab005","#f08c00"],orange:["#fff4e6","#ffd8a8","#ffa94d","#fd7e14","#e8590c"]};function vu(t,e,r){const n=[0,1,2,3,4].map(i=>yjt[t][i]);return Object.fromEntries(n.map((i,a)=>[i,a<3?e:r]))}const Mv={...vu("gray","grey","black"),...vu("red","light-red","red"),...vu("pink","light-red","red"),...vu("grape","light-violet","violet"),...vu("blue","light-blue","blue"),...vu("cyan","light-blue","blue"),...vu("teal","light-green","green"),...vu("green","light-green","green"),...vu("yellow","yellow","orange"),...vu("orange","yellow","orange"),"#ffffff":"white","#000000":"black"},wjt={solid:"draw",dashed:"dashed",dotted:"dotted"},bjt={"cross-hatch":"pattern",hachure:"pattern",solid:"solid"},Sjt={left:"start",center:"middle",right:"end"},xjt={left:"start",center:"middle",right:"end"},v_e={arrow:"arrow",dot:"dot",triangle:"triangle",bar:"pipe"};function Cjt(t,e,r){let n=0;if(t.points.length>2){const i=new k(e[0],e[1]),a=new k(r[0],r[1]),o=new k(t.points[1][0],t.points[1][1]),s=k.Sub(a,i),l=k.Per(s),u=k.Med(a,i),c=k.Sub(u,l),A=k.Add(u,l),d=k.NearestPointOnLineSegment(c,A,o,!1);n=k.Dist(d,u),k.Clockwise(d,a,u)&&(n*=-1)}return n}const dx=t=>{let e=wjt[t.strokeStyle]??"draw";return e==="draw"&&t.roughness===0&&(e="solid"),e},_jt=t=>t.backgroundColor==="transparent"?"none":bjt[t.fillStyle]??"solid";/*!
 * MIT License
 * Adapted (mostly copied) the work of https://github.com/fregante/text-field-edit
 * Copyright (c) Federico Brigante <opensource@bfred.it> (bfred.it)
 */const $p="  ",lo=class lo{static insertTextFirefox(e,r){e.setRangeText(r,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:r,inputType:"insertText",isComposing:!1}))}static insert(e,r){const n=e.ownerDocument,i=n.activeElement;i!==e&&e.focus(),n.execCommand("insertText",!1,r)||lo.insertTextFirefox(e,r),i===n.body?e.blur():i instanceof HTMLElement&&i!==e&&i.focus()}static set(e,r){e.select(),lo.insert(e,r)}static getSelection(e){const{selectionStart:r,selectionEnd:n}=e;return e.value.slice(r||void 0,n||void 0)}static wrapSelection(e,r,n){const{selectionStart:i,selectionEnd:a}=e,o=lo.getSelection(e);lo.insert(e,r+o+(n??r)),e.selectionStart=(i||0)+r.length,e.selectionEnd=(a||0)+r.length}static replace(e,r,n){let i=0;e.value.replace(r,(...a)=>{const o=i+a[a.length-2],s=a[0].length;e.selectionStart=o,e.selectionEnd=o+s;const l=typeof n=="string"?n:n(...a);return lo.insert(e,l),e.selectionStart=o,i+=l.length-s,l})}static findLineEnd(e,r){const n=e.lastIndexOf(`
`,r-1)+1;return e.charAt(n)!=="	"?r:n+1}static indent(e){var s;const{selectionStart:r,selectionEnd:n,value:i}=e,a=i.slice(r,n),o=(s=/\n/g.exec(a))==null?void 0:s.length;if(o&&o>0){const l=i.lastIndexOf(`
`,r-1)+1,u=e.value.slice(l,n-1),c=u.replace(/^|\n/g,`$&${$p}`),A=c.length-u.length;e.setSelectionRange(l,n-1),lo.insert(e,c),e.setSelectionRange(r+1,n+A)}else lo.insert(e,$p)}static unindent(e){const{selectionStart:r,selectionEnd:n,value:i}=e,a=i.lastIndexOf(`
`,r-1)+1,o=lo.findLineEnd(i,n),s=e.value.slice(a,o),l=s.replace(/(^|\n)(\t| {1,2})/g,"$1"),u=s.length-l.length;e.setSelectionRange(a,o),lo.insert(e,l);const c=/\t| {1,2}/.exec(i.slice(a,r)),A=c?c[0].length:0,d=r-A;e.setSelectionRange(r-A,Math.max(d,n-u))}static indentCE(e){var l;const r=window.getSelection(),n=e.innerText,i=fx(e)??0,a=fx(e)??0,o=n.slice(i,a),s=(l=/\n/g.exec(o))==null?void 0:l.length;if(s&&s>0){const u=n.lastIndexOf(`
`,i-1)+1,c=n.slice(u,a-1),d=c.replace(/^|\n/g,`$&${$p}`).length-c.length;r&&r.setBaseAndExtent(e,i+1,e,a+d)}else{const u=window.getSelection();e.innerText=n.slice(0,i)+$p+n.slice(i),u==null||u.setBaseAndExtent(e,i+1,e,i+2)}}static unindentCE(e){const r=window.getSelection(),n=e.innerText,i=fx(e)??0,a=fx(e)??0,o=n.lastIndexOf(`
`,i-1)+1,s=lo.findLineEnd(n,a),l=n.slice(o,s),u=l.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=l.length-u.length;if(r){r.setBaseAndExtent(e,o,e,s);const A=/\t| {1,2}/.exec(n.slice(o,i)),d=A?A[0].length:0,f=i-d;r.setBaseAndExtent(e,i-d,e,Math.max(f,a-c))}}static normalizeText(e){return e.replace(lo.fixNewLines,`
`)}static normalizeTextForDom(e){return e.replace(lo.fixNewLines,`
`).split(`
`).map(r=>r||" ").join(`
`)}};K(lo,"fixNewLines",/\r?\n|\r/g);let Og=lo;function fx(t){if(typeof window.getSelection>"u")return;const e=window.getSelection();if(!e)return;let r=0;if(e.rangeCount!==0){const n=e.getRangeAt(0),i=n.cloneRange();i.selectNodeContents(t),i.setEnd(n.endContainer,n.endOffset),r=i.toString().length}return r}const Ejt=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/;function iQe(t){return Ejt.test(t)}function Ijt(t){return t.replace(/\t/g,$p)}function Bjt(t){const e=t.split(`
`);for(;e[0]&&e[0].trim().length===0;)e.shift();let r=1/0;for(const n of e)if(n.trim().length>0){const i=n.length-n.trimStart().length;r=Math.min(r,i)}return e.map(n=>n.slice(r)).join(`
`)}const aQe={"&amp;":"&","&quot;":'"',"&apos;":"'","&#34;":'"',"&#38;":"&","&#39;":"'","&#8211;":"","&#8212;":"","&#8216;":"","&#8217;":"","&#8220;":"","&#8221;":"","&#8230;":""},Pjt=new RegExp(Object.keys(aQe).join("|"),"g");function Tjt(t){return t.replace(Pjt,e=>aQe[e])}function Ojt(t){return t.replace(/[ \t]+$/gm,"").replace(/\n+$/,"")}function Rjt(t){return Ojt(Bjt(Ijt(t)))}const oQe=5e3,sQe=10*1024*1024;function Mjt(t,e){t.registerExternalAssetHandler("file",async r=>Fjt(t,r,e)),t.registerExternalAssetHandler("url",async r=>kjt(t,r,e)),t.registerExternalContentHandler("svg-text",async r=>Ujt(t,r)),t.registerExternalContentHandler("embed",r=>Djt(t,r)),t.registerExternalContentHandler("files",async r=>jjt(t,r,e)),t.registerExternalContentHandler("text",async r=>Ljt(t,r)),t.registerExternalContentHandler("url",async r=>Njt(t,r,e)),t.registerExternalContentHandler("tldraw",async r=>$jt(t,r)),t.registerExternalContentHandler("excalidraw",async r=>Qjt(t,r))}async function Fjt(t,{file:e,assetId:r},{acceptedImageMimeTypes:n=lb,acceptedVideoMimeTypes:i=xE,maxAssetSize:a=sQe,maxImageDimension:o=oQe,toasts:s,msg:l}){const u=n.includes(e.type),c=i.includes(e.type);!u&&!c&&s.addToast({title:l("assets.files.type-not-allowed"),severity:"error"}),fr(u||c,`File type not allowed: ${e.type}`),e.size>a&&s.addToast({title:l("assets.files.size-too-big"),severity:"error"}),fr(e.size<=a,`File size too big: ${(e.size/1024).toFixed()}kb > ${(a/1024).toFixed()}kb`);const A=VOe(await e.arrayBuffer());r=r??hd.createId(A);const d=await lQe(e,r,u,c,o),f=await t.uploadAsset(d,e);return d.props.src=f.src,f.meta&&(d.meta={...d.meta,...f.meta}),hd.create(d)}async function kjt(t,{url:e},{toasts:r,msg:n}){var a,o,s,l,u;let i;try{const A=await(await Lu(e,{method:"GET",mode:"no-cors"})).text(),d=new DOMParser().parseFromString(A,"text/html");i={image:((a=d.head.querySelector('meta[property="og:image"]'))==null?void 0:a.getAttribute("content"))??"",favicon:((o=d.head.querySelector('link[rel="apple-touch-icon"]'))==null?void 0:o.getAttribute("href"))??((s=d.head.querySelector('link[rel="icon"]'))==null?void 0:s.getAttribute("href"))??"",title:((l=d.head.querySelector('meta[property="og:title"]'))==null?void 0:l.getAttribute("content"))??e,description:((u=d.head.querySelector('meta[property="og:description"]'))==null?void 0:u.getAttribute("content"))??""},i.image.startsWith("http")||(i.image=new URL(i.image,e).href),i.favicon.startsWith("http")||(i.favicon=new URL(i.favicon,e).href)}catch(c){console.error(c),r.addToast({title:n("assets.url.failed"),severity:"error"}),i={image:"",favicon:"",title:"",description:""}}return{id:hd.createId(c5(e)),typeName:"asset",type:"bookmark",props:{src:e,description:i.description,image:i.image,favicon:i.favicon,title:i.title},meta:{}}}async function Ujt(t,{point:e,text:r}){const n=e??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageBounds().center),i=new DOMParser().parseFromString(r,"image/svg+xml").querySelector("svg");if(!i)throw new Error("No <svg/> element present");let a=parseFloat(i.getAttribute("width")||"0"),o=parseFloat(i.getAttribute("height")||"0");if(!(a&&o)){document.body.appendChild(i);const l=i.getBoundingClientRect();document.body.removeChild(i),a=l.width,o=l.height}const s=await t.getAssetForExternalContent({type:"file",file:new File([r],"asset.svg",{type:"image/svg+xml"})});if(!s)throw Error("Could not create an asset");uQe(t,[s],n)}function Djt(t,{point:e,url:r,embed:n}){const i=e??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageBounds().center),{width:a,height:o}=n,s=an(),l={id:s,type:"embed",x:i.x-(a||450)/2,y:i.y-(o||450)/2,props:{w:a,h:o,url:r}};t.createShapes([l]).select(s)}async function jjt(t,{point:e,files:r},{maxAssetSize:n=sQe,maxImageDimension:i=oQe,acceptedImageMimeTypes:a=lb,acceptedVideoMimeTypes:o=xE,toasts:s,msg:l}){if(r.length>t.options.maxFilesAtOnce){s.addToast({title:l("assets.files.amount-too-big"),severity:"error"});return}const u=e??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageBounds().center),c=new k(u.x,u.y),A=[],d=[];for(const f of r){if(f.size>n){s.addToast({title:l("assets.files.size-too-big"),severity:"error"}),console.warn(`File size too big: ${(f.size/1024).toFixed()}kb > ${(n/1024).toFixed()}kb`);continue}if(!f.type){s.addToast({title:l("assets.files.upload-failed"),severity:"error"}),console.error("No mime type");continue}if(![...a,...o].includes(f.type)){s.addToast({title:l("assets.files.type-not-allowed"),severity:"error"}),console.warn(`${f.name} not loaded - Mime type not allowed ${f.type}.`);continue}const g=a.includes(f.type),m=o.includes(f.type),w=VOe(await f.arrayBuffer()),b=hd.createId(w),C=await lQe(f,b,g,m,i);let S;g&&(S=t.createTemporaryAssetPreview(b,f)),A.push(C),d.push({asset:C,file:f,temporaryAssetPreview:S})}Promise.allSettled(d.map(async f=>{try{const p=await t.getAssetForExternalContent({type:"file",file:f.file});if(!p)throw Error("Could not create an asset");t.updateAssets([{...p,id:f.asset.id}])}catch(p){s.addToast({title:l("assets.files.upload-failed"),severity:"error"}),console.error(p);return}})),uQe(t,A,c)}async function Ljt(t,{point:e,text:r}){const n=e??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageBounds().center),i=t.getShapeUtil("text").getDefaultProps(),a=Rjt(r),o=t.getOnlySelectedShape();if(o&&"text"in o.props){t.updateShapes([{id:o.id,type:o.type,props:{text:a}}]);return}let s,l,u,c="middle";const A=a.split(`
`).length>1,d=iQe(a);A&&(c=A?d?"end":"start":"middle");const f=t.textMeasure.measureText(a,{...Wa,fontFamily:eA[i.font],fontSize:Tg[i.size],maxWidth:null}),p=Math.min(A?t.getViewportPageBounds().width*.9:920,Math.max(200,t.getViewportPageBounds().width*.9));if(f.w>p){const g=t.textMeasure.measureText(a,{...Wa,fontFamily:eA[i.font],fontSize:Tg[i.size],maxWidth:p});s=g.w,l=g.h,u=!1,c=d?"end":"start"}else s=f.w,l=f.h,u=!0;n.y-l/2<t.getViewportPageBounds().minY+40&&(n.y=t.getViewportPageBounds().minY+40+l/2),t.createShapes([{id:an(),type:"text",x:n.x-s/2,y:n.y-l/2,props:{text:a,textAlign:c,autoSize:u,w:s}}])}async function Njt(t,{point:e,url:r},{toasts:n,msg:i}){const a=t.getShapeUtil("embed"),o=a==null?void 0:a.getEmbedDefinition(r);if(o)return t.putExternalContent({type:"embed",url:o.url,point:e,embed:o.definition});const s=e??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageBounds().center),l=hd.createId(c5(r)),u=Hjt(t,r,s);let c=t.getAsset(l),A=!1;if(!c){A=!0;try{const d=await t.getAssetForExternalContent({type:"url",url:r});if(!d)throw Error("Could not create an asset");c=d}catch{n.addToast({title:i("assets.url.failed"),severity:"error"});return}}t.run(()=>{A&&t.createAssets([c]),t.updateShapes([{id:u.id,type:u.type,props:{assetId:c.id}}])})}async function $jt(t,{point:e,content:r}){t.run(()=>{const n=t.getSelectionPageBounds();t.markHistoryStoppingPoint("paste"),t.putContentOntoCurrentPage(r,{point:e,select:!0});const i=t.getSelectionPageBounds();n&&i&&(n!=null&&n.collides(i))&&(t.updateInstanceState({isChangingStyle:!0}),t.timers.setTimeout(()=>{t.updateInstanceState({isChangingStyle:!1})},150))})}async function Qjt(t,{point:e,content:r}){t.run(()=>{hjt(t,r,e)})}async function lQe(t,e,r,n,i){let a=t.type;t.type==="video/quicktime"&&(a="video/mp4");const o=r?await ss.getImageSize(t):await ss.getVideoSize(t),s=await ss.isAnimated(t)||n,l={id:e,type:r?"image":"video",typeName:"asset",props:{name:t.name,src:"",w:o.w,h:o.h,fileSize:t.size,mimeType:a,isAnimated:s},meta:{}};if(i&&isFinite(i)){const u={w:l.props.w,h:l.props.h},c=fjt(u,{w:i,h:i});u!==c&&ss.isStaticImageType(t.type)&&(l.props.w=c.w,l.props.h=c.h)}return l}async function uQe(t,e,r){if(!e.length)return[];const n=k.From(r),i=[];for(let a=0;a<e.length;a++){const o=e[a];switch(o.type){case"image":{i.push({id:an(),type:"image",x:n.x,y:n.y,opacity:1,props:{assetId:o.id,w:o.props.w,h:o.props.h}}),n.x+=o.props.w;break}case"video":i.push({id:an(),type:"video",x:n.x,y:n.y,opacity:1,props:{assetId:o.id,w:o.props.w,h:o.props.h}}),n.x+=o.props.w}}return t.run(()=>{const a=e.filter(o=>!t.getAsset(o.id));a.length&&t.createAssets(a),t.createShapes(i).select(...i.map(o=>o.id)),cQe(t,r)}),i.map(a=>a.id)}function cQe(t,e){const r=t.getViewportPageBounds();let n=t.getSelectionPageBounds();if(n){const i=n.center.sub(e);t.updateShapes(t.getSelectedShapes().map(a=>{const o=t.getShapeParentTransform(a).decompose().rotation,s=k.Rot(i,-o);return{id:a.id,type:a.type,x:a.x-s.x,y:a.y-s.y}}))}if(n=t.getSelectionPageBounds(),n&&t.getInstanceState().isGridMode){const i=t.getDocumentSettings().gridSize,a=new k(n.minX,n.minY),o=a.clone().snapToGrid(i),s=k.Sub(a,o);t.updateShapes(t.getSelectedShapes().map(l=>{const u={x:l.x-s.x,y:l.y-s.y};return{id:l.id,type:l.type,x:u.x,y:u.y}}))}n=t.getSelectionPageBounds(),n&&!r.contains(n)&&t.zoomToSelection({animation:{duration:t.options.animationMediumMs}})}function Hjt(t,e,r){const n={id:an(),type:"bookmark",x:r.x-150,y:r.y-160,opacity:1,props:{assetId:null,url:e}};return t.run(()=>{t.createShapes([n]).select(n.id),cQe(t,r)}),t.getShape(n.id)}var MN;let qjt=(MN=class extends Pt{onPointerDown(e){this.parent.transition("pointing",e)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onCancel(){this.editor.setCurrentTool("select")}onKeyUp(e){var r;if(e.key==="Enter"){if(this.editor.getIsReadonly())return null;const n=this.editor.getOnlySelectedShape();n&&this.editor.getShapeUtil(n).canEdit(n)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(n.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...e,target:"shape",shape:n}))}}},K(MN,"id","idle"),MN);var FN;let Kjt=(FN=class extends Pt{constructor(){super(...arguments);K(this,"shape");K(this,"markId","");K(this,"preciseTimeout",-1);K(this,"didTimeout",!1)}onEnter(){this.markId="",this.didTimeout=!1;const r=this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{filter:n=>!n.isLocked&&this.editor.canBindShapes({fromShape:"arrow",toShape:n,binding:"arrow"}),margin:0,hitInside:!0,renderingOnly:!0});r?this.editor.setHintingShapes([r.id]):this.createArrowShape(),this.startPreciseTimeout()}onExit(){this.shape=void 0,this.editor.setHintingShapes([]),this.clearPreciseTimeout()}onPointerMove(){if(this.editor.inputs.isDragging){if(this.shape||this.createArrowShape(),!this.shape)throw Error("expected shape");this.updateArrowShapeEndHandle(),this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,handle:{id:"end",type:"vertex",index:"a3",x:0,y:0},isCreating:!0,creatingMarkId:this.markId||void 0,onInteractionEnd:"arrow"})}}onPointerUp(){this.cancel()}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.shape&&this.editor.bailToMark(this.markId),this.editor.setHintingShapes([]),this.parent.transition("idle")}createArrowShape(){var A;const{originPagePoint:r}=this.editor.inputs,n=an();this.markId=this.editor.markHistoryStoppingPoint(`creating_arrow:${n}`);const i=Ll(r,this.editor);this.editor.createShape({id:n,type:"arrow",x:i.x,y:i.y,props:{scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1}});const a=this.editor.getShape(n);if(!a)throw Error("expected shape");const o=this.editor.getShapeHandles(a);if(!o)throw Error("expected handles for arrow");const s=this.editor.getShapeUtil("arrow"),l=this.shape,u=o.find(d=>d.id==="start"),c=(A=s.onHandleDrag)==null?void 0:A.call(s,a,{handle:{...u,x:0,y:0},isPrecise:!0,initial:l});c&&this.editor.updateShapes([c]),this.shape=this.editor.getShape(n),this.editor.select(n)}updateArrowShapeEndHandle(){var i,a;const r=this.shape;if(!r)throw Error("expected shape");const n=this.editor.getShapeHandles(r);if(!n)throw Error("expected handles for arrow");{const o=this.editor.getShapeUtil("arrow"),s=this.shape,l=n.find(c=>c.id==="start"),u=(i=o.onHandleDrag)==null?void 0:i.call(o,r,{handle:{...l,x:0,y:0},isPrecise:this.didTimeout,initial:s});u&&this.editor.updateShapes([u])}{const o=this.editor.getShapeUtil("arrow"),s=this.shape,l=this.editor.getPointInShapeSpace(r,this.editor.inputs.currentPagePoint),u=n.find(A=>A.id==="end"),c=(a=o.onHandleDrag)==null?void 0:a.call(o,this.editor.getShape(r),{handle:{...u,x:l.x,y:l.y},isPrecise:!1,initial:s});c&&this.editor.updateShapes([c])}this.shape=this.editor.getShape(r.id)}startPreciseTimeout(){this.preciseTimeout=this.editor.timers.setTimeout(()=>{this.getIsActive()&&(this.didTimeout=!0)},320)}clearPreciseTimeout(){clearTimeout(this.preciseTimeout)}},K(FN,"id","pointing"),FN);class q4 extends Pt{constructor(){super(...arguments);K(this,"shapeType","arrow")}static children(){return[qjt,Kjt]}}K(q4,"id","arrow"),K(q4,"initial","idle");class H6 extends Pt{constructor(){super(...arguments);K(this,"info",{});K(this,"initialShape");K(this,"shapeType",this.parent.id==="highlight"?"highlight":"draw");K(this,"util",this.editor.getShapeUtil(this.shapeType));K(this,"isPen",!1);K(this,"isPenOrStylus",!1);K(this,"segmentMode","free");K(this,"didJustShiftClickToExtendPreviousShapeLine",!1);K(this,"pagePointWhereCurrentSegmentChanged",{});K(this,"pagePointWhereNextSegmentChanged",null);K(this,"lastRecordedPoint",{});K(this,"mergeNextPoint",!1);K(this,"currentLineLength",0);K(this,"markId",null)}onEnter(r){this.markId=null,this.info=r,this.lastRecordedPoint=this.editor.inputs.currentPagePoint.clone(),this.startShape()}onPointerMove(){const{inputs:r}=this.editor;if(this.isPen&&!r.isPen&&this.markId){this.editor.bailToMark(this.markId),this.startShape();return}this.isPenOrStylus?k.Dist(r.currentPagePoint,this.lastRecordedPoint)>=1/this.editor.getZoomLevel()?(this.lastRecordedPoint=r.currentPagePoint.clone(),this.mergeNextPoint=!1):this.mergeNextPoint=!0:this.mergeNextPoint=!1,this.updateDrawingShape()}onKeyDown(r){if(r.key==="Shift")switch(this.segmentMode){case"free":{this.segmentMode="starting_straight",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break}case"starting_free":this.segmentMode="starting_straight"}this.updateDrawingShape()}onKeyUp(r){if(r.key==="Shift")switch(this.editor.snaps.clearIndicators(),this.segmentMode){case"straight":{this.segmentMode="starting_free",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break}case"starting_straight":{this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";break}}this.updateDrawingShape()}onExit(){this.editor.snaps.clearIndicators(),this.pagePointWhereCurrentSegmentChanged=this.editor.inputs.currentPagePoint.clone()}canClose(){return this.shapeType!=="highlight"}getIsClosed(r,n,i){if(!this.canClose())return!1;const a=Ka[n],o=r[0].points[0],s=r[r.length-1],l=s.points[s.points.length-1];return o!==l&&this.currentLineLength>a*4*i&&k.DistMin(o,l,a*2*i)}startShape(){const{inputs:{originPagePoint:r,isPen:n}}=this.editor;this.markId=this.editor.markHistoryStoppingPoint("draw start");const{z:i=.5}=this.info.point;this.isPen=n,this.isPenOrStylus=n||i>0&&i<.5||i>.5&&i<1;const a=this.isPenOrStylus?i*1.25:.5;if(this.segmentMode=this.editor.inputs.shiftKey?"straight":"free",this.didJustShiftClickToExtendPreviousShapeLine=!1,this.lastRecordedPoint=r.clone(),this.initialShape){const s=this.editor.getShape(this.initialShape.id);if(s&&this.segmentMode==="straight"){this.didJustShiftClickToExtendPreviousShapeLine=!0;const l=Aa(s.props.segments);if(!l)throw Error("Expected a previous segment!");const u=Aa(l.points);if(!u)throw Error("Expected a previous point!");const{x:c,y:A}=this.editor.getPointInShapeSpace(s,r).toFixed(),d={type:this.segmentMode,points:[{x:u.x,y:u.y,z:+a.toFixed(2)},{x:c,y:A,z:+a.toFixed(2)}]},f=nt.applyToPoint(this.editor.getShapePageTransform(s.id),u);this.pagePointWhereCurrentSegmentChanged=f,this.pagePointWhereNextSegmentChanged=null;const p=[...s.props.segments,d];this.currentLineLength<Ka[s.props.size]*4&&(this.currentLineLength=this.getLineLength(p));const g={id:s.id,type:this.shapeType,props:{segments:p}};this.canClose()&&(g.props.isClosed=this.getIsClosed(p,s.props.size,s.props.scale)),this.editor.updateShapes([g]);return}}this.pagePointWhereCurrentSegmentChanged=r.clone();const o=an();this.editor.createShapes([{id:o,type:this.shapeType,x:r.x,y:r.y,props:{isPen:this.isPenOrStylus,scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1,segments:[{type:this.segmentMode,points:[{x:0,y:0,z:+a.toFixed(2)}]}]}}]),this.currentLineLength=0,this.initialShape=this.editor.getShape(o)}updateDrawingShape(){const{initialShape:r}=this,{inputs:n}=this.editor;if(!r)return;const{id:i,props:{size:a,scale:o}}=r,s=this.editor.getShape(i);if(!s)return;const{segments:l}=s.props,{x:u,y:c,z:A}=this.editor.getPointInShapeSpace(s,n.currentPagePoint).toFixed(),d=this.isPenOrStylus?+(n.currentPagePoint.z*1.25).toFixed(2):.5,f={x:u,y:c,z:d};switch(this.segmentMode){case"starting_straight":{const{pagePointWhereNextSegmentChanged:p}=this;if(p===null)throw Error("We should have a point where the segment changed");if(k.Dist2(p,n.currentPagePoint)>this.editor.options.dragDistanceSquared){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="straight";const m=Aa(l);if(!m)throw Error("Expected a previous segment!");const w=Aa(m.points);if(!w)throw Error("Expected a previous last point!");let b;const C=this.editor.getPointInShapeSpace(s,this.pagePointWhereCurrentSegmentChanged).toFixed().toJson();if(m.type==="straight"){this.currentLineLength+=k.Dist(w,C),b={type:"straight",points:[{...w},C]};const x=this.editor.getShapePageTransform(s);this.pagePointWhereCurrentSegmentChanged=nt.applyToPoint(x,w)}else b={type:"straight",points:[C,f]};const S={id:i,type:this.shapeType,props:{segments:[...l,b]}};this.canClose()&&(S.props.isClosed=this.getIsClosed(l,a,o)),this.editor.updateShapes([S])}break}case"starting_free":{const{pagePointWhereNextSegmentChanged:p}=this;if(p===null)throw Error("We should have a point where the segment changed");if(k.Dist2(p,n.currentPagePoint)>this.editor.options.dragDistanceSquared){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";const m=l.slice(),w=m[m.length-1],b=Aa(w.points);if(!b)throw Error("No previous point!");const C={type:"free",points:[...k.PointsBetween(b,f,6).map(_=>({x:Oc(_.x),y:Oc(_.y),z:Oc(_.z)}))]},S=[...m,C];this.currentLineLength<Ka[s.props.size]*4&&(this.currentLineLength=this.getLineLength(S));const x={id:i,type:this.shapeType,props:{segments:S}};this.canClose()&&(x.props.isClosed=this.getIsClosed(S,a,o)),this.editor.updateShapes([x])}break}case"straight":{const p=l.slice(),g=p[p.length-1],{pagePointWhereCurrentSegmentChanged:m}=this,{ctrlKey:w,currentPagePoint:b}=this.editor.inputs;if(!m)throw Error("We should have a point where the segment changed");let C,S=!1;this.didJustShiftClickToExtendPreviousShapeLine?this.editor.inputs.isDragging&&(S=!w,this.didJustShiftClickToExtendPreviousShapeLine=!1):S=!w;let x=this.editor.getPointInShapeSpace(s,b).toFixed().toJson(),_=!1,B;if((this.editor.user.getIsSnapMode()?!w:w)&&p.length>2){let P,M=8/this.editor.getZoomLevel();for(let U=0,F=l.length-2;U<F;U++){const j=l[U];if(!j)break;if(j.type==="free")continue;const L=j.points[0],$=Aa(j.points);if(!(L&&$))continue;const Q=k.NearestPointOnLineSegment(L,$,x);if(k.DistMin(Q,x,M)){P=Q.toFixed().toJson(),M=k.Dist(Q,x),B=j;break}}P&&(_=!0,x=P)}if(_&&B){const P=this.editor.getShapePageTransform(s),M=B.points[0],U=Aa(B.points);if(!U)throw Error("Expected a last point!");const F=nt.applyToPoint(P,M),j=nt.applyToPoint(P,U),L=nt.applyToPoint(P,x);this.editor.snaps.setIndicators([{id:Xr(),type:"points",points:[F,L,j]}])}else{if(this.editor.snaps.clearIndicators(),S){const P=k.Angle(m,b),U=MC(P,24)-P;C=k.RotWith(b,m,U)}else C=b;x=this.editor.getPointInShapeSpace(s,C).toFixed().toJson()}this.currentLineLength+=k.Dist(g.points[0],x),p[p.length-1]={...g,type:"straight",points:[g.points[0],x]};const R={id:i,type:this.shapeType,props:{segments:p}};this.canClose()&&(R.props.isClosed=this.getIsClosed(l,a,o)),this.editor.updateShapes([R]);break}case"free":{const p=l.slice(),g=p[p.length-1],m=[...g.points];if(m.length&&this.mergeNextPoint){const{z:b}=m[m.length-1];m[m.length-1]={x:f.x,y:f.y,z:b?Math.max(b,f.z):f.z}}else this.currentLineLength+=k.Dist(m[m.length-1],f),m.push(f);p[p.length-1]={...g,points:m},this.currentLineLength<Ka[s.props.size]*4&&(this.currentLineLength=this.getLineLength(p));const w={id:i,type:this.shapeType,props:{segments:p}};if(this.canClose()&&(w.props.isClosed=this.getIsClosed(p,a,o)),this.editor.updateShapes([w]),m.length>this.util.options.maxPointsPerShape){this.editor.updateShapes([{id:i,type:this.shapeType,props:{isComplete:!0}}]);const b=an(),C=this.editor.getShape(i).props;this.editor.createShapes([{id:b,type:this.shapeType,x:Oc(n.currentPagePoint.x),y:Oc(n.currentPagePoint.y),props:{isPen:this.isPenOrStylus,scale:C.scale,segments:[{type:"free",points:[{x:0,y:0,z:this.isPenOrStylus?+(A*1.25).toFixed():.5}]}]}}]),this.initialShape=On(this.editor.getShape(b)),this.mergeNextPoint=!1,this.lastRecordedPoint=n.currentPagePoint.clone(),this.currentLineLength=0}break}}}getLineLength(r){let n=0;for(const i of r)for(let a=0;a<i.points.length-1;a++){const o=i.points[a],s=i.points[a+1];n+=k.Dist2(s,o)}return Math.sqrt(n)}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.editor.inputs.isDragging||(this.markId&&this.editor.bailToMark(this.markId),this.cancel())}complete(){const{initialShape:r}=this;r&&(this.editor.updateShapes([{id:r.id,type:r.type,props:{isComplete:!0}}]),this.parent.transition("idle"))}cancel(){this.parent.transition("idle",this.info)}}K(H6,"id","drawing");var kN;let AQe=(kN=class extends Pt{onPointerDown(e){this.parent.transition("drawing",e)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onCancel(){this.editor.setCurrentTool("select")}},K(kN,"id","idle"),kN);class Wx extends Pt{constructor(){super(...arguments);K(this,"shapeType","draw")}static children(){return[AQe,H6]}onExit(){const r=this.children.drawing;r.initialShape=void 0}}K(Wx,"id","draw"),K(Wx,"initial","idle"),K(Wx,"isLockable",!1);class K4 extends E4{constructor(){super(...arguments);K(this,"shapeType","frame")}onCreate(r){if(!r)return;const n=this.editor.getShapePageBounds(r),i=[],a=this.editor.getShapeAncestors(r).map(o=>o.id);this.editor.getSortedChildIdsForParent(r.parentId).map(o=>{const s=this.editor.getShape(o);if(!s||s.id===r.id||s.isLocked)return;const l=this.editor.getShapePageBounds(s);l&&n.contains(l)&&zjt(s,a,r)&&i.push(s.id)}),this.editor.reparentShapes(i,r.id),this.editor.getInstanceState().isToolLocked?this.editor.setCurrentTool("frame"):this.editor.setCurrentTool("select.idle")}}K(K4,"id","frame"),K(K4,"initial","idle");function zjt(t,e,r){return e.includes(t.id)?!1:t.parentId===r.parentId}var UN;let Wjt=(UN=class extends Pt{onPointerDown(e){this.parent.transition("pointing",e)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onKeyUp(e){var r;if(e.key==="Enter"){if(this.editor.getIsReadonly())return null;const n=this.editor.getOnlySelectedShape();n&&this.editor.getShapeUtil(n).canEdit(n)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(n.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...e,target:"shape",shape:n}))}}onCancel(){this.editor.setCurrentTool("select")}},K(UN,"id","idle"),UN);var DN;let Gjt=(DN=class extends Pt{onPointerUp(){this.complete()}onPointerMove(e){if(this.editor.inputs.isDragging){const{originPagePoint:r}=this.editor.inputs,n=an(),i=this.editor.markHistoryStoppingPoint(`creating_geo:${n}`),a=Ll(r,this.editor);this.editor.createShapes([{id:n,type:"geo",x:a.x,y:a.y,props:{w:1,h:1,geo:this.editor.getStyleForNextShape(Ml),scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1}}]).select(n).setCurrentTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creatingMarkId:i,creationCursorOffset:{x:1,y:1},onInteractionEnd:"geo"})}}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.cancel()}complete(){const{originPagePoint:e}=this.editor.inputs,r=an();this.editor.markHistoryStoppingPoint(`creating_geo:${r}`);const n=this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1,i=this.editor.getStyleForNextShape(Ml),a=i==="star"?{w:200,h:190}:i==="cloud"?{w:300,h:180}:{w:200,h:200};this.editor.createShapes([{id:r,type:"geo",x:e.x,y:e.y,props:{geo:this.editor.getStyleForNextShape(Ml),scale:n,...a}}]);const o=this.editor.getShape(r);if(!o)return;const{w:s,h:l}=o.props,u=new k(s/2,l/2).mul(n),c=this.editor.getShapeParentTransform(o);c&&u.rot(-c.rotation());const A=Ll(new k(o.x-u.x,o.y-u.y),this.editor);this.editor.select(r),this.editor.updateShape({id:o.id,type:"geo",x:A.x,y:A.y,props:{geo:this.editor.getStyleForNextShape(Ml),w:s*n,h:l*n}}),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select",{})}cancel(){this.parent.transition("idle")}},K(DN,"id","pointing"),DN);class z4 extends Pt{constructor(){super(...arguments);K(this,"shapeType","geo")}static children(){return[Wjt,Gjt]}}K(z4,"id","geo"),K(z4,"initial","idle");class Gx extends Pt{constructor(){super(...arguments);K(this,"shapeType","highlight")}static children(){return[AQe,H6]}onExit(){const r=this.children.drawing;r.initialShape=void 0}}K(Gx,"id","highlight"),K(Gx,"initial","idle"),K(Gx,"isLockable",!1);var jN;let Vjt=(jN=class extends Pt{constructor(){super(...arguments);K(this,"shapeId","")}onEnter(r){this.shapeId=r.shapeId,this.editor.setCursor({type:"cross",rotation:0})}onPointerDown(){this.parent.transition("pointing",{shapeId:this.shapeId})}onCancel(){this.editor.setCurrentTool("select")}},K(jN,"id","idle"),jN);const y_e=2;var LN;let Yjt=(LN=class extends Pt{constructor(){super(...arguments);K(this,"shape",{});K(this,"markId")}onEnter(r){const{inputs:n}=this.editor,{currentPagePoint:i}=n;this.markId=void 0;const a=r.shapeId&&this.editor.getShape(r.shapeId);if(a&&n.shiftKey){this.markId=this.editor.markHistoryStoppingPoint(`creating_line:${a.id}`),this.shape=a;const o=this.editor.getShapeHandles(this.shape);if(!o)return;const s=o.filter(p=>p.type==="vertex").sort(Qa),l=s[s.length-1],u=s[s.length-2],c=nt.applyToPoint(this.editor.getShapeParentTransform(this.shape),new k(this.shape.x,this.shape.y)),A=k.Sub(i,c).addXY(.1,.1),d=Ll(A,this.editor),f=On(this.shape.props.points);if(k.DistMin(l,u,y_e)||k.DistMin(d,l,y_e))f[l.id]={id:l.id,index:l.index,x:d.x,y:d.y};else{const p=Iu(l.index);f[p]={id:p,index:p,x:d.x,y:d.y}}this.editor.updateShapes([{id:this.shape.id,type:this.shape.type,props:{points:f}}])}else{const o=an();this.markId=this.editor.markHistoryStoppingPoint(`creating_line:${o}`);const s=Ll(i,this.editor);this.editor.createShapes([{id:o,type:"line",x:s.x,y:s.y,props:{scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1}}]),this.editor.select(o),this.shape=this.editor.getShape(o)}}onPointerMove(){if(this.shape&&this.editor.inputs.isDragging){const r=this.editor.getShapeHandles(this.shape);if(!r)throw this.markId&&this.editor.bailToMark(this.markId),Error("No handles found");const n=Aa(r);this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,isCreating:!0,creatingMarkId:this.markId,handle:{...n,x:n.x-.1,y:n.y-.1},onInteractionEnd:"line"})}}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.parent.transition("idle"),this.markId&&this.editor.bailToMark(this.markId),this.editor.snaps.clearIndicators()}complete(){this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clearIndicators()}cancel(){this.markId&&this.editor.bailToMark(this.markId),this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clearIndicators()}},K(LN,"id","pointing"),LN);class W4 extends Pt{constructor(){super(...arguments);K(this,"shapeType","line")}static children(){return[Vjt,Yjt]}}K(W4,"id","line"),K(W4,"initial","idle");var NN;let Xjt=(NN=class extends Pt{onPointerDown(e){this.parent.transition("pointing",e)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onCancel(){this.editor.setCurrentTool("select")}},K(NN,"id","idle"),NN);const Jjt=0,en=200,aB=new k(en/2,en/2),dQe=10,Zjt=t=>[[["a1"],new k(en*.5,en*-.5-t.options.adjacentShapeMargin)],[["a2"],new k(en*1.5+t.options.adjacentShapeMargin,en*.5)],[["a3"],new k(en*.5,en*1.5+t.options.adjacentShapeMargin)],[["a4"],new k(en*-.5-t.options.adjacentShapeMargin,en*.5)]];function eLt(t,e){if(e===1)return Zjt(t);const r=en*e,n=t.options.adjacentShapeMargin*e;return[[["a1"],new k(r*.5,r*-.5-n)],[["a2"],new k(r*1.5+n,r*.5)],[["a3"],new k(r*.5,r*1.5+n)],[["a4"],new k(r*-.5-n,r*.5)]]}function fQe(t,e,r,n,i,a){return Object.fromEntries(eLt(t,a).map(([o,s],l)=>{const u=s.clone();return l===0&&i?u.y-=i:l===2&&n&&(u.y+=n),[o,u.rot(r).add(e)]}))}function hQe(t,e,r,n){const i=new Set(t.getSelectedShapeIds()),a=(en+t.options.adjacentShapeMargin+n)**2,o=new Map,s=[];for(const c of t.getCurrentPageShapes()){if(!t.isShapeOfType(c,"note")||r!==c.props.scale||i.has(c.id))continue;const A=t.getShapePageTransform(c.id);e===A.rotation()&&(o.set(c,t.getShapePageBounds(c).center),s.push(...Object.values(fQe(t,A.point(),e,c.props.growY,n,r))))}const l=s.length;let u;for(const[c,A]of o)for(let d=0;d<l;d++)u=s[d],u&&(k.Dist2(A,u)>a||t.isPointInShape(c,u)&&(s[d]=void 0));return sr(s)}function pQe(t,e,r,n,i=!1){let a;const o=t.getCurrentPageShapesSorted(),s=(en+t.options.adjacentShapeMargin**2)**e.props.scale;for(let l=o.length-1;l>=0;l--){const u=o[l];if(u.type==="note"&&u.id!==e.id){const c=t.getShapePageBounds(u);if(c&&k.Dist2(c.center,r)<s&&t.isPointInShape(u,r)){a=u;break}}}if(t.complete(),!a||i){t.markHistoryStoppingPoint("creating note shape");const l=an();t.createShape({id:l,type:"note",x:r.x,y:r.y,rotation:n,opacity:e.opacity,props:{...e.props,text:"",growY:0,fontSizeAdjustment:0,url:""}});const u=t.getShape(l);if(!u)return;const c=t.getPointInParentSpace(u,k.Sub(r,k.Rot(aB.clone().mul(u.props.scale),n)));t.updateShape({id:l,type:"note",x:c.x,y:c.y}),a=t.getShape(l)}return rLt(t),a}const tLt=16;function rLt(t){const e=t.getSelectionPageBounds(),r=t.getViewportPageBounds();if(e&&!r.contains(e)){const n=e.clone().expandBy(tLt/t.getZoomLevel()).expand(r),i=r.clone().translate({x:(n.center.x-r.center.x)*2,y:(n.center.y-r.center.y)*2});t.zoomToBounds(i,{animation:{duration:t.options.animationMediumMs},inset:0})}}var $N;let nLt=($N=class extends Pt{constructor(){super(...arguments);K(this,"dragged",!1);K(this,"info",{});K(this,"markId","");K(this,"shape",{})}onEnter(){const{editor:r}=this,n=an();this.markId=r.markHistoryStoppingPoint(`creating_note:${n}`);const i=this.editor.inputs.originPagePoint.clone(),a=iLt(this.editor,i,this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1);a&&i.sub(a),this.shape=aLt(this.editor,n,i)}onPointerMove(r){this.editor.inputs.isDragging&&this.editor.setCurrentTool("select.translating",{...r,target:"shape",shape:this.shape,onInteractionEnd:"note",isCreating:!0,creatingMarkId:this.markId,onCreate:()=>{this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape")}})}onPointerUp(){this.complete()}onInterrupt(){this.cancel()}onComplete(){this.complete()}onCancel(){this.cancel()}complete(){this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):(this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape",{...this.info,target:"shape",shape:this.shape}))}cancel(){this.editor.bailToMark(this.markId),this.parent.transition("idle",this.info)}},K($N,"id","pointing"),$N);function iLt(t,e,r){let n=dQe/t.getZoomLevel(),i;for(const a of hQe(t,0,r,0)){const o=k.Sub(e,a),s=o.len();s<n&&(n=s,i=o)}return i}function aLt(t,e,r){t.createShape({id:e,type:"note",x:r.x,y:r.y,props:{scale:t.user.getIsDynamicResizeMode()?1/t.getZoomLevel():1}}).select(e);const n=t.getShape(e),i=t.getShapeGeometry(n).bounds,a=Ll(new k(n.x-i.width/2,n.y-i.height/2),t);return t.updateShapes([{id:e,type:"note",x:a.x,y:a.y}]),t.getShape(e)}class G4 extends Pt{constructor(){super(...arguments);K(this,"shapeType","note")}static children(){return[Xjt,nLt]}}K(G4,"id","note"),K(G4,"initial","idle");function oLt(t){const e=t.getShapeAtPoint(t.inputs.currentPagePoint,{hitInside:!1,hitLabels:!1,margin:t.options.hitTestMargin/t.getZoomLevel(),renderingOnly:!0});if(!e)return t.setHoveredShape(null);let r;const n=t.getOutermostSelectableShape(e);return n===e||n.id===t.getFocusedGroupId()||t.getSelectedShapeIds().includes(n.id)?r=e:r=n,t.setHoveredShape(r.id)}const kc=KOe(oLt,32);var QN;let sLt=(QN=class extends Pt{onPointerMove(e){switch(e.target){case"shape":case"canvas":kc(this.editor)}}onPointerDown(e){this.parent.transition("pointing",e)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onExit(){kc.cancel()}onKeyDown(e){var r;if(e.key==="Enter"){if(this.editor.getIsReadonly())return null;const n=this.editor.getOnlySelectedShape();n&&this.editor.getShapeUtil(n).canEdit(n)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(n.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...e,target:"shape",shape:n}))}}onCancel(){this.editor.setCurrentTool("select")}},K(QN,"id","idle"),QN);var HN;let lLt=(HN=class extends Pt{constructor(){super(...arguments);K(this,"shape");K(this,"markId","");K(this,"enterTime",0)}onEnter(){this.enterTime=Date.now()}onExit(){this.editor.setHintingShapes([])}onPointerMove(r){if(Date.now()-this.enterTime<150)return;const{editor:n}=this,{isPointing:i}=n.inputs;if(!i)return;const{originPagePoint:a,currentPagePoint:o}=n.inputs,s=Math.abs(a.x-o.x),u=Math.sqrt(n.getInstanceState().isCoarsePointer?n.options.coarseDragDistanceSquared:n.options.dragDistanceSquared)*6/n.getZoomLevel();if(s>u){const c=an();this.markId=n.markHistoryStoppingPoint(`creating_text:${c}`);const A=this.createTextShape(c,a,!1,s);if(!A){this.cancel();return}this.shape=n.getShape(A),n.select(c),n.setCurrentTool("select.resizing",{...r,target:"selection",handle:"right",isCreating:!0,creatingMarkId:this.markId,creationCursorOffset:{x:s,y:1},onInteractionEnd:"text",onCreate:()=>{n.setEditingShape(A.id)}})}}onPointerUp(){this.complete()}onComplete(){this.cancel()}onCancel(){this.cancel()}onInterrupt(){this.cancel()}complete(){this.editor.markHistoryStoppingPoint("creating text shape");const r=an(),{originPagePoint:n}=this.editor.inputs;this.createTextShape(r,n,!0,20)&&(this.editor.select(r),this.editor.setEditingShape(r))}cancel(){this.parent.transition("idle"),this.editor.bailToMark(this.markId)}createTextShape(r,n,i,a){this.editor.createShape({id:r,type:"text",x:n.x,y:n.y,props:{text:"",autoSize:i,w:a,scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1}});const o=this.editor.getShape(r);if(!o){this.cancel();return}const s=this.editor.getShapePageBounds(o),l=new k;if(i)switch(o.props.textAlign){case"start":{l.x=0;break}case"middle":{l.x=-s.width/2;break}case"end":{l.x=-s.width;break}}else l.x=0;if(l.y=-s.height/2,Fo(o.parentId)){const A=this.editor.getShapeParentTransform(o);l.rot(-A.rotation())}const u=o.x+l.x,c=o.y+l.y;if(this.editor.getInstanceState().isGridMode){const A=new k(u,c),d=Ll(A,this.editor),f=k.Sub(A,d);this.editor.updateShape({...o,x:u-f.x,y:c-f.y})}else this.editor.updateShape({...o,x:u,y:c});return o}},K(HN,"id","pointing"),HN);class V4 extends Pt{constructor(){super(...arguments);K(this,"shapeType","text")}static children(){return[sLt,lLt]}}K(V4,"id","text"),K(V4,"initial","idle");const uLt=[V4,Wx,z4,G4,W4,K4,q4,Gx];function ll(){return oA({isDarkMode:jb()})}function oB(t){return{key:`${Nu.id}:${t}`,async getElement(){const e=cLt(t);if(!e)return null;const{url:r,fontFaceRule:n}=e,i=await(await Lu(r)).blob(),a=await zs.blobToDataUrl(i),o=n.replace(r,a);return y.jsx("style",{children:o})}}}function cLt(t){const e=c2e[t];for(const r of document.fonts)if(e.includes(r.family)&&"$$_url"in r&&typeof r.$$_url=="string"&&"$$_fontface"in r&&typeof r.$$_fontface=="string")return{url:r.$$_url,fontFaceRule:r.$$_fontface};return null}function q6(t){return{key:`${Nu.id}:${t}`,async getElement(){return t!=="pattern"?null:y.jsx(ALt,{})}}}function ALt(){const t=z6(),e=im(),r=ll(),n=8/12;return y.jsxs(y.Fragment,{children:[y.jsxs("mask",{id:e,children:[y.jsx("rect",{x:"0",y:"0",width:"8",height:"8",fill:"white"}),y.jsxs("g",{strokeLinecap:"round",stroke:"black",children:[y.jsx("line",{x1:n*1,y1:n*3,x2:n*3,y2:n*1}),y.jsx("line",{x1:n*5,y1:n*7,x2:n*7,y2:n*5}),y.jsx("line",{x1:n*9,y1:n*11,x2:n*11,y2:n*9})]})]}),y.jsx("pattern",{id:t(1,r.id),width:"8",height:"8",patternUnits:"userSpaceOnUse",children:y.jsx("rect",{x:"0",y:"0",width:"8",height:"8",fill:r.solid,mask:`url(#${e})`})})]})}function K6(){return{key:`${Nu.id}:pattern`,component:pLt}}const iy=8,w_e=(t,e,r)=>new Promise((n,i)=>{const a=iy*e*t,o=document.createElement("canvas");o.width=a,o.height=a;const s=o.getContext("2d");if(!s)return;s.fillStyle=r?NC.darkMode.solid:NC.lightMode.solid,s.fillRect(0,0,a,a),s.globalCompositeOperation="destination-out",s.lineCap="round",s.lineWidth=1.25*e*t;const l=8/12,u=c=>c*e*t;s.beginPath(),s.moveTo(u(l*1),u(l*3)),s.lineTo(u(l*3),u(l*1)),s.moveTo(u(l*5),u(l*7)),s.lineTo(u(l*7),u(l*5)),s.moveTo(u(l*9),u(l*11)),s.lineTo(u(l*11),u(l*9)),s.stroke(),o.toBlob(c=>{!c||fi.throwToBlob.get()?i():n(c)})}),b_e=(t,e)=>{const r=document.createElement("canvas");r.width=t[0],r.height=t[1];const n=r.getContext("2d");return n?(e(n),r.toDataURL()):""};let bN=null;function dLt(){return bN||(bN={white:b_e([1,1],t=>{t.fillStyle="#f8f9fa",t.fillRect(0,0,1,1)}),black:b_e([1,1],t=>{t.fillStyle="#212529",t.fillRect(0,0,1,1)})}),bN}function gQe(t){return Math.ceil(Math.log2(Math.max(1,t)))}function z6(){const t=kl("hash_pattern");return I.useCallback((e,r)=>{const n=gQe(e);return K5(t,`${r}_${n}`)},[t])}function mQe(t){const e=[],n=gQe(t);for(let i=0;i<=n;i++)e.push(Math.pow(2,i));return e}function fLt(t){const e=dLt();return mQe(t).flatMap(r=>[{zoom:r,url:e.white,theme:"light"},{zoom:r,url:e.black,theme:"dark"}])}function hLt(){const t=we(),e=Ce("devicePixelRatio",()=>t.getInstanceState().devicePixelRatio,[t]),r=Ce("maxZoom",()=>Math.ceil(Aa(t.getCameraOptions().zoomSteps)),[t]),[n,i]=I.useState(!1),[a,o]=I.useState(()=>fLt(r)),s=z6();return I.useEffect(()=>{const u=Promise.all(mQe(r).flatMap(A=>[w_e(e,A,!1).then(d=>({zoom:A,theme:"light",url:URL.createObjectURL(d)})),w_e(e,A,!0).then(d=>({zoom:A,theme:"dark",url:URL.createObjectURL(d)}))]));let c=!1;return u.then(A=>{c||(o(A),i(!0))}),()=>{c=!0,i(!1),u.then(A=>{for(const{url:d}of A)URL.revokeObjectURL(d)})}},[e,r]),{defs:y.jsx(y.Fragment,{children:a.map(u=>{const c=s(u.zoom,u.theme);return y.jsx("pattern",{id:c,width:iy,height:iy,patternUnits:"userSpaceOnUse",children:y.jsx("image",{href:u.url,width:iy,height:iy})},c)})}),isReady:n}}function pLt(){const t=we(),e=I.useRef(null),{defs:r,isReady:n}=hLt();return I.useEffect(()=>{if(n&&tn.isSafari){const i=vQe(e.current);i&&t.timers.requestAnimationFrame(()=>{i.style.display="none",t.timers.requestAnimationFrame(()=>{i.style.display=""})})}},[t,n]),y.jsx("g",{ref:e,"data-testid":n?"ready-pattern-fill-defs":void 0,children:r})}function vQe(t){return t.classList.contains("tl-html-layer")?t:t.parentElement?vQe(t.parentElement):null}const ka=ce.memo(function({theme:e,d:r,color:n,fill:i,scale:a}){switch(i){case"none":return null;case"solid":return y.jsx("path",{fill:e[n].semi,d:r});case"semi":return y.jsx("path",{fill:e.solid,d:r});case"fill":return y.jsx("path",{fill:e[n].fill,d:r});case"pattern":return y.jsx(gLt,{theme:e,color:n,fill:i,d:r,scale:a})}});function gLt({d:t,color:e,theme:r}){const n=we(),i=Fb(),a=Ce("zoomLevel",()=>n.getZoomLevel(),[n]),o=z6(),s=n.getZoomLevel()<=.18;return y.jsxs(y.Fragment,{children:[y.jsx("path",{fill:r[e].pattern,d:t}),y.jsx("path",{fill:i?`url(#${o(1,r.id)})`:s?r[e].semi:`url(#${o(a,r.id)})`,d:t})]})}function mLt(t){return t.replace(/\s/g,"")}function Y4(t,e,r){const{padding:n=0}=r;if(e.length===0)return null;const i=Ze.From(e[0].box);for(const{box:u}of e)i.union(u);const a=n+(r.offsetX??0),o=(r.offsetY??0)+r.fontSize/2+(r.verticalTextAlign==="start"?n:r.verticalTextAlign==="end"?r.height-n-i.height:(Math.ceil(r.height)-i.height)/2);let s=null;const l=[];for(const{text:u,box:c}of e)s!==null&&c.y>s&&l.push(y.jsx("tspan",{alignmentBaseline:"mathematical",x:a,y:c.y+o,children:`
`},l.length)),l.push(y.jsx("tspan",{alignmentBaseline:"mathematical",x:c.x+a,y:c.y+o,unicodeBidi:"plaintext",children:mLt(u)},l.length)),s=c.y;return y.jsx("text",{fontSize:r.fontSize,fontFamily:r.fontFamily,fontStyle:r.fontStyle,fontWeight:r.fontWeight,dominantBaseline:"mathematical",alignmentBaseline:"mathematical",stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,children:l})}function vLt(t,e,r,n){if((t==="start-legacy"||t==="end-legacy")&&r.length!==0){const i=Ze.From(r[0].box);for(const{box:a}of r)i.union(a);if(t==="start-legacy")return(n-2*e-i.width)/2;if(t==="end-legacy")return-(n-2*e-i.width)/2}}function yLt(t){return t==="start-legacy"||t==="middle-legacy"||t==="end-legacy"}function sB({fontSize:t,font:e,align:r,verticalAlign:n,text:i,labelColor:a,bounds:o,padding:s=16,stroke:l=!0}){const u=we(),c=ll(),A={fontSize:t,fontFamily:c2e[e],textAlign:r,verticalTextAlign:n,width:Math.ceil(o.width),height:Math.ceil(o.height),padding:s,lineHeight:Wa.lineHeight,fontStyle:"normal",fontWeight:"normal",overflow:"wrap",offsetX:0,offsetY:0,fill:a,stroke:void 0,strokeWidth:void 0},d=u.textMeasure.measureTextSpans(i,A),f=vLt(r,s,d,o.width);f&&(A.offsetX=f),A.offsetX+=o.x,A.offsetY+=o.y;const p=Y4(u,d,A);let g=null;return l&&(A.fill=c.background,A.stroke=c.background,A.strokeWidth=2,g=Y4(u,d,A)),y.jsxs(y.Fragment,{children:[g,p]})}const wLt=I.forwardRef(function({isEditing:e,text:r,handleFocus:n,handleChange:i,handleKeyDown:a,handleBlur:o,handleInputPointerDown:s,handleDoubleClick:l},u){return y.jsx("textarea",{ref:u,className:"tl-text tl-text-input",name:"text",tabIndex:-1,disabled:!e,readOnly:!e,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",autoSave:"off",placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",defaultValue:r,onFocus:n,onChange:i,onKeyDown:a,onBlur:o,onTouchEnd:mi,onContextMenu:e?mi:void 0,onPointerDown:s,onDoubleClick:l,onDragStart:dr})});function bLt(t,e,r){const n=we(),i=I.useRef(null),a=Ce("isEditing",()=>n.getEditingShapeId()===t,[n]),o=Ce("isEditingAnything",()=>!!n.getEditingShapeId(),[n]);I.useEffect(()=>{function c(A){var d;A.shapeId===t&&((d=i.current)==null||d.select())}return n.on("select-all-text",c),()=>{n.off("select-all-text",c)}},[n,t,a]),I.useEffect(()=>{var c,A,d,f;a&&(document.activeElement!==i.current&&((c=i.current)==null||c.focus()),n.getInstanceState().isCoarsePointer&&((A=i.current)==null||A.select()),tn.isSafari&&((d=i.current)==null||d.blur(),(f=i.current)==null||f.focus()))},[n,a]);const s=I.useCallback(c=>{if(n.getEditingShapeId()===t)switch(c.key){case"Enter":{(c.ctrlKey||c.metaKey)&&n.complete();break}}},[n,t]),l=I.useCallback(c=>{if(n.getEditingShapeId()!==t)return;let A=Og.normalizeText(c.currentTarget.value);const d=A.replace(/\t/g,$p);if(d!==A){const f=c.currentTarget.selectionStart;c.currentTarget.value=d,c.currentTarget.selectionStart=f+(d.length-A.length),c.currentTarget.selectionEnd=f+(d.length-A.length),A=d}n.updateShape({id:t,type:e,props:{text:A}})},[n,t,e]),u=I.useCallback(c=>{n.dispatch({...ls(c),type:"pointer",name:"pointer_down",target:"shape",shape:n.getShape(t)}),mi(c)},[n,t]);return{rInput:i,handleFocus:bw,handleBlur:bw,handleKeyDown:s,handleChange:l,handleInputPointerDown:u,handleDoubleClick:mi,isEmpty:r.trim().length===0,isEditing:a,isEditingAnything:o}}const lB=ce.memo(function({shapeId:e,type:r,text:n,labelColor:i,font:a,fontSize:o,lineHeight:s,align:l,verticalAlign:u,wrap:c,isSelected:A,padding:d=0,onKeyDown:f,classNamePrefix:p,style:g,textWidth:m,textHeight:w}){const{rInput:b,isEmpty:C,isEditing:S,isEditingAnything:x,..._}=bLt(e,r,n),[B,T]=I.useState(n);I.useEffect(()=>{S||T(n)},[S,n]);const R=Og.normalizeTextForDom(n),P=R.length>0,M=yLt(l);if(!S&&!P)return null;const U=p||"tl-text";return y.jsx("div",{className:`${U}-label tl-text-wrapper`,"data-font":a,"data-align":l,"data-hastext":!C,"data-isediting":S,"data-iseditinganything":x,"data-textwrap":!!c,"data-isselected":A,style:{justifyContent:l==="middle"||M?"center":l,alignItems:u==="middle"?"center":u,padding:d,...g},children:y.jsxs("div",{className:`${U}-label__inner tl-text-content__wrapper`,style:{fontSize:o,lineHeight:Math.floor(o*s)+"px",minHeight:Math.floor(o*s)+"px",minWidth:Math.ceil(m||0),color:i,width:m?Math.ceil(m):void 0,height:w?Math.ceil(w):void 0},children:[y.jsx("div",{className:`${U} tl-text tl-text-content`,dir:"auto",children:R.split(`
`).map((F,j)=>y.jsx("div",{dir:"auto",children:F},j))}),(x||A)&&y.jsx(wLt,{ref:b,text:n,isEditing:S,..._,handleKeyDown:f??_.handleKeyDown},B)]})})}),SLt=new zl;function xLt(t){return SLt.get(t,()=>t.store.createComputedCache("arrowLabelSize",e=>{const r=Pu(t,e);let n=0,i=0;const a=r.isStraight?new Fc({start:k.From(r.start.point),end:k.From(r.end.point)}):new Lp({center:k.Cast(r.handleArc.center),start:k.Cast(r.start.point),end:k.Cast(r.end.point),sweepFlag:r.bodyArc.sweepFlag,largeArcFlag:r.bodyArc.largeArcFlag});if(e.props.text.trim()){const o=a.bounds,s=X4(e),{w:l,h:u}=t.textMeasure.measureText(e.props.text,{...Wa,fontFamily:eA[e.props.font],fontSize:s,maxWidth:null});n=l,i=u;let c=!1;if(o.width>o.height?(n=Math.max(Math.min(l,64),Math.min(o.width-64,l)),c=!0):n>16*s&&(n=16*s,c=!0),c){const{w:A,h:d}=t.textMeasure.measureText(e.props.text,{...Wa,fontFamily:eA[e.props.font],fontSize:s,maxWidth:n});n=A,i=d}}return new k(n,i).addScalar(Q6*2*e.props.scale)}))}function W6(t,e){return e.props.text.trim()===""?new k(0,0).addScalar(Q6*2*e.props.scale):xLt(t).get(e.id)??new k(0,0)}function yQe(t){const e=Ka[t.props.size];return(djt+(e-Ka.s)*2+(e===Ka.xl?20:0))*t.props.scale}function CLt(t,e,r){const n=W6(t,e),i=yQe(e),a=k.Nudge(r.start.point,r.end.point,i),o=k.Nudge(r.end.point,r.start.point,i),s=Uq(a,o,Ze.FromCenter(r.middle,n).corners);if(!s||s.length!==2)return{start:.5,end:.5};let[l,u]=s;k.Dist2(l,a)>k.Dist2(u,a)&&([u,l]=s);const c=a.add(k.Sub(r.middle,l)),A=o.add(k.Sub(r.middle,u)),d=k.Dist(r.start.point,c)/r.length,f=k.Dist(r.start.point,A)/r.length;return{start:d,end:f}}function _Lt(t,e,r){const n=W6(t,e),i=yQe(e),a=Math.sign(e.props.bend),o=i/r.handleArc.radius*a,s=k.Angle(r.bodyArc.center,r.start.point)-o,l=k.Angle(r.bodyArc.center,r.end.point)+o,u=Hf(r.bodyArc.center,r.bodyArc.radius,s),c=Hf(r.bodyArc.center,r.bodyArc.radius,l),A=[],d=x_e(r.bodyArc.center,r.bodyArc.radius,s,l,a,Ze.FromCenter(u,n).corners);A.push(new Ai({points:Ze.FromCenter(u,n).corners,debugColor:"lime",isFilled:!1,ignore:!0}));const f=x_e(r.bodyArc.center,r.bodyArc.radius,s,l,a,Ze.FromCenter(c,n).corners);A.push(new Ai({points:Ze.FromCenter(c,n).corners,debugColor:"lime",isFilled:!1,ignore:!0}));for(const B of[...d??[],...f??[],u,c])A.push(new Vq({x:B.x-3,y:B.y-3,radius:3,isFilled:!1,debugColor:"magenta",ignore:!0}));const p=(d&&C_e(r.start.point,d))??r.middle,g=(f&&C_e(r.end.point,f))??r.middle,m=k.Angle(r.bodyArc.center,r.start.point),w=k.Angle(r.bodyArc.center,r.end.point),b=k.Angle(r.bodyArc.center,p),C=k.Angle(r.bodyArc.center,g);if(qA(m,b,a)>qA(m,C,a))return{start:.5,end:.5,dbg:A};const S=qA(m,w,a),x=qA(m,b,a)/S,_=qA(m,C,a)/S;return{start:x,end:_,dbg:A}}function Vx(t,e){let r;const n=[],i=Pu(t,e),a={hasStartBinding:!!i.bindings.start,hasEndBinding:!!i.bindings.end,hasStartArrowhead:i.start.arrowhead!=="none",hasEndArrowhead:i.end.arrowhead!=="none"};if(i.isStraight){const s=CLt(t,e,i),l=S_e(t,e,s,a);r=k.Lrp(i.start.point,i.end.point,l)}else{const s=_Lt(t,e,i);s.dbg&&n.push(...s.dbg);const l=S_e(t,e,s,a),u=ELt(k.Angle(i.bodyArc.center,i.start.point),k.Angle(i.bodyArc.center,i.end.point),Math.sign(e.props.bend),l);r=Hf(i.bodyArc.center,i.bodyArc.radius,u)}const o=W6(t,e);return{box:Ze.FromCenter(r,o),debugGeom:n}}function S_e(t,e,r,n){const{hasEndArrowhead:i,hasEndBinding:a,hasStartBinding:o,hasStartArrowhead:s}=n,l=xQe(t,e);let u=sa(e.props.labelPosition,s||o?r.start:0,i||a?r.end:1);const c=Math.min(.02,500/l*.02);return u=u>=.5-c&&u<=.5+c?.5:u,u}function x_e(t,e,r,n,i,a){const o=v4(t,e,a),s=qA(r,n,i);return o==null?void 0:o.filter(l=>{const u=qA(r,k.Angle(t,l),i);return u>=0&&u<=s})}function C_e(t,e){let r=null,n=-1/0;for(const i of e){const a=k.Dist2(t,i);a>n&&(r=i,n=a)}return r}function ELt(t,e,r,n){const i=qA(t,e,r);return t+i*n*r*-1}function X4(t){return Ajt[t.props.size]*t.props.scale}function ILt(t,e,r){const n=e==="end"?t.end.point:t.start.point,i=e==="end"?t.start.point:t.end.point,a=t.isStraight?k.Dist(i,n):Math.abs(t.bodyArc.length),o=Math.max(Math.min(a/5,r*3),r);let s;if(t.isStraight)s=k.Nudge(n,i,o);else{const l=gPt(n,o,t.handleArc.center,t.handleArc.radius);s=e==="end"?t.handleArc.sweepFlag?l[0]:l[1]:t.handleArc.sweepFlag?l[1]:l[0]}return k.IsNaN(s)&&(s=t.start.point),{point:n,int:s}}function BLt({point:t,int:e}){const r=k.RotWith(e,t,Or/6),n=k.RotWith(e,t,-Or/6);return`M ${r.x} ${r.y} L ${t.x} ${t.y} L ${n.x} ${n.y}`}function PLt({point:t,int:e}){const r=k.RotWith(e,t,Or/6),n=k.RotWith(e,t,-Or/6);return`M ${r.x} ${r.y} L ${n.x} ${n.y} L ${t.x} ${t.y} Z`}function TLt({point:t,int:e}){const r=k.Sub(e,t).div(2),n=k.Add(t,k.Rot(r,bn)),i=k.Sub(t,k.Rot(r,bn));return`M ${n.x} ${n.y} L ${e.x} ${e.y} L ${i.x} ${i.y} Z`}function OLt({point:t,int:e}){const r=k.Lrp(t,e,.45),n=k.Dist(r,t);return`M ${r.x-n},${r.y}
  a ${n},${n} 0 1,0 ${n*2},0
  a ${n},${n} 0 1,0 -${n*2},0 `}function RLt({point:t,int:e}){const r=k.Lrp(t,e,.75),n=k.RotWith(r,t,Or/4),i=k.RotWith(r,t,-Or/4),a=k.Lrp(n,i,.5);return a.add(k.Sub(a,t)),`M ${a.x} ${a.y} L ${i.x} ${i.y} ${t.x} ${t.y} L ${n.x} ${n.y} Z`}function MLt({int:t,point:e}){const r=k.Lrp(e,t,.85),n=k.Sub(r,e).div(2),i=k.Add(e,k.Rot(n,bn)),a=k.Sub(e,k.Rot(n,bn)),o=k.Add(r,k.Rot(n,bn)),s=k.Sub(r,k.Rot(n,bn));return`M ${i.x} ${i.y} L ${o.x} ${o.y} L ${s.x} ${s.y} L ${a.x} ${a.y} Z`}function FLt({int:t,point:e}){const r=k.Sub(t,e).div(2),n=k.Add(e,k.Rot(r,bn)),i=k.Sub(e,k.Rot(r,bn));return`M ${n.x} ${n.y} L ${i.x} ${i.y}`}function u_(t,e,r){const n=e==="end"?t.end.arrowhead:t.start.arrowhead;if(n==="none")return;const i=ILt(t,e,r);if(i){switch(n){case"bar":return FLt(i);case"square":return MLt(i);case"diamond":return RLt(i);case"dot":return OLt(i);case"inverted":return TLt(i);case"arrow":return BLt(i);case"triangle":return PLt(i)}return""}}function kLt(t){const{start:e,end:r,handleArc:{radius:n,largeArcFlag:i,sweepFlag:a}}=t;return`M${e.handle.x},${e.handle.y} A${n} ${n} 0 ${i} ${a} ${r.handle.x},${r.handle.y}`}function wQe(t){const{start:e,end:r,bodyArc:{radius:n,largeArcFlag:i,sweepFlag:a}}=t;return`M${e.point.x},${e.point.y} A${n} ${n} 0 ${i} ${a} ${r.point.x},${r.point.y}`}function bQe(t,e){return`M${t.x},${t.y}L${e.x},${e.y}`}function ULt(t){return bQe(t.start.handle,t.end.handle)}function SQe(t){return bQe(t.start.point,t.end.point)}class Yx extends Ul{constructor(){super(...arguments);K(this,"_resizeInitialBindings",new zl)}canEdit(){return!0}canBind({toShapeType:r}){return r!=="arrow"}canSnap(){return!1}hideResizeHandles(){return!0}hideRotateHandle(){return!0}hideSelectionBoundsBg(){return!0}hideSelectionBoundsFg(){return!0}canBeLaidOut(r,n){if(n.type==="flip"){const i=Do(this.editor,r),{start:a,end:o}=i,{shapes:s=[]}=n;if(a&&!s.find(l=>l.id===a.toId)||o&&!s.find(l=>l.id===o.toId))return!1}return!0}getDefaultProps(){return{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{x:0,y:0},end:{x:2,y:0},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",scale:1}}getGeometry(r){const n=Pu(this.editor,r),i=[],a=n.isStraight?new Fc({start:k.From(n.start.point),end:k.From(n.end.point)}):new Lp({center:k.Cast(n.handleArc.center),start:k.Cast(n.start.point),end:k.Cast(n.end.point),sweepFlag:n.bodyArc.sweepFlag,largeArcFlag:n.bodyArc.largeArcFlag});let o;if(r.props.text.trim()){const s=Vx(this.editor,r);i.push(...s.debugGeom),o=new Qu({x:s.box.x,y:s.box.y,width:s.box.w,height:s.box.h,isFilled:!0,isLabel:!0})}return new tl({children:[...o?[a,o]:[a],...i]})}getHandles(r){const n=Pu(this.editor,r);return[{id:"start",type:"vertex",index:"a0",x:n.start.handle.x,y:n.start.handle.y},{id:"middle",type:"virtual",index:"a2",x:n.middle.x,y:n.middle.y},{id:"end",type:"vertex",index:"a3",x:n.end.handle.x,y:n.end.handle.y}].filter(Boolean)}getText(r){return r.props.text}onHandleDrag(r,{handle:n,isPrecise:i}){const a=n.id,o=Do(this.editor,r);if(a==="middle"){const{start:_,end:B}=Np(this.editor,r,o),T=k.Sub(B,_),R=k.Per(T),P=k.Med(B,_),M=k.Sub(P,R),U=k.Add(P,R),F=k.NearestPointOnLineSegment(M,U,n,!1);let j=k.Dist(F,P);return k.Clockwise(F,B,P)&&(j*=-1),{id:r.id,type:r.type,props:{bend:j}}}const s={id:r.id,type:"arrow",props:{}},l=o[a],c=o[a==="start"?"end":"start"];if(this.editor.inputs.ctrlKey)return Kx(this.editor,r,a),s.props[a]={x:n.x,y:n.y},s;const A=this.editor.getShapePageTransform(r.id).applyToPoint(n),d=this.editor.getShapeAtPoint(A,{hitInside:!0,hitFrameInside:!0,margin:0,filter:_=>!_.isLocked&&this.editor.canBindShapes({fromShape:r,toShape:_,binding:"arrow"})});if(!d){Kx(this.editor,r,a);const _=Ll(new k(n.x,n.y),this.editor);return s.props[a]={x:_.x,y:_.y},s}const f=this.editor.getShapeGeometry(d),p=Ze.ZeroFix(f.bounds),m=this.editor.getShapePageTransform(s.id).applyToPoint(n),w=this.editor.getPointInShapeSpace(d,m);let b=i;b||(!l||l&&d.id!==l.toId)&&(b=this.editor.inputs.pointerVelocity.len()<.5),i||(f.isClosed||(b=!0),c&&d.id===c.toId&&c.props.isPrecise&&(b=!0));const C={x:(w.x-p.minX)/p.width,y:(w.y-p.minY)/p.height};b&&k.Dist(w,p.center)<Math.max(4,Math.min(Math.min(p.width,p.height)*.15,16))/this.editor.getZoomLevel()&&(C.x=.5,C.y=.5);const S={terminal:a,normalizedAnchor:C,isPrecise:b,isExact:this.editor.inputs.altKey};Rv(this.editor,r,d.id,S),this.editor.setHintingShapes([d.id]);const x=Do(this.editor,r);return x.start&&x.end&&x.start.toId===x.end.toId&&k.Equals(x.start.props.normalizedAnchor,x.end.props.normalizedAnchor)&&Rv(this.editor,r,x.end.toId,{...x.end.props,normalizedAnchor:{x:x.end.props.normalizedAnchor.x+.05,y:x.end.props.normalizedAnchor.y}}),s}onTranslateStart(r){const n=Do(this.editor,r),i=Np(this.editor,r,n),a=this.editor.getShapePageTransform(r.id),o=this.editor.getSelectedShapeIds();if(!(n.start&&(o.includes(n.start.toId)||this.editor.isAncestorSelected(n.start.toId))||n.end&&(o.includes(n.end.toId)||this.editor.isAncestorSelected(n.end.toId)))){E_e.set(r,{pagePosition:a.applyToPoint(r),terminalBindings:ub(i,(s,l)=>{const u=n[s];return u?{binding:u,shapePosition:l,pagePosition:a.applyToPoint(l)}:null})}),n.start&&(l_({editor:this.editor,arrow:r,terminal:"start",useHandle:!0}),r=this.editor.getShape(r.id)),n.end&&l_({editor:this.editor,arrow:r,terminal:"end",useHandle:!0});for(const s of["start","end"]){const l=n[s];l&&this.editor.updateBinding({...l,props:{...l.props,isPrecise:!0}})}}}onTranslate(r,n){const i=E_e.get(r);if(!i)return;const a=this.editor.getShapePageTransform(n.id),o=k.Sub(a.applyToPoint(n),i.pagePosition);for(const s of Object.values(i.terminalBindings)){if(!s)continue;const l=k.Add(s.pagePosition,k.Mul(o,.5)),u=this.editor.getShapeAtPoint(l,{hitInside:!0,hitFrameInside:!0,margin:0,filter:c=>!c.isLocked&&this.editor.canBindShapes({fromShape:n,toShape:c,binding:"arrow"})});if((u==null?void 0:u.id)===s.binding.toId){const c=Ze.ZeroFix(this.editor.getShapeGeometry(u).bounds),A=this.editor.getPointInShapeSpace(u,l),d={x:(A.x-c.minX)/c.width,y:(A.y-c.minY)/c.height};Rv(this.editor,n,u.id,{...s.binding.props,normalizedAnchor:d,isPrecise:!0})}else Kx(this.editor,n,s.binding.props.terminal)}}onResize(r,n){const{scaleX:i,scaleY:a}=n,o=this._resizeInitialBindings.get(r,()=>Do(this.editor,r)),s=Np(this.editor,r,o),{start:l,end:u}=On(r.props);let{bend:c}=r.props;o.start||(l.x=s.start.x*i,l.y=s.start.y*a),o.end||(u.x=s.end.x*i,u.y=s.end.y*a);const A=Math.abs(i),d=Math.abs(a),f=o!=null&&o.start?k.From(o.start.props.normalizedAnchor):null,p=o!=null&&o.end?k.From(o.end.props.normalizedAnchor):null;return i<0&&a>=0?(c!==0&&(c*=-1,c*=Math.max(A,d)),f&&(f.x=1-f.x),p&&(p.x=1-p.x)):i>=0&&a<0?(c!==0&&(c*=-1,c*=Math.max(A,d)),f&&(f.y=1-f.y),p&&(p.y=1-p.y)):i>=0&&a>=0?c!==0&&(c*=Math.max(A,d)):i<0&&a<0&&(c!==0&&(c*=Math.max(A,d)),f&&(f.x=1-f.x,f.y=1-f.y),p&&(p.x=1-p.x,p.y=1-p.y)),o.start&&f&&Rv(this.editor,r,o.start.toId,{...o.start.props,normalizedAnchor:f.toJson()}),o.end&&p&&Rv(this.editor,r,o.end.toId,{...o.end.props,normalizedAnchor:p.toJson()}),{props:{start:l,end:u,bend:c}}}onDoubleClickHandle(r,n){switch(n.id){case"start":return{id:r.id,type:r.type,props:{...r.props,arrowheadStart:r.props.arrowheadStart==="none"?"arrow":"none"}};case"end":return{id:r.id,type:r.type,props:{...r.props,arrowheadEnd:r.props.arrowheadEnd==="none"?"arrow":"none"}}}}component(r){const n=ll(),i=this.editor.getOnlySelectedShape(),a=this.editor.isInAny("select.idle","select.pointing_handle","select.dragging_handle","select.translating","arrow.dragging")&&!this.editor.getIsReadonly(),o=Pu(this.editor,r);if(!(o!=null&&o.isValid))return null;const s=Vx(this.editor,r),l=r.id===this.editor.getOnlySelectedShapeId(),c=this.editor.getEditingShapeId()===r.id||r.props.text;return y.jsxs(y.Fragment,{children:[y.jsx(pd,{style:{minWidth:50,minHeight:50},children:y.jsx(__e,{shape:r,shouldDisplayHandles:a&&(i==null?void 0:i.id)===r.id})}),c&&y.jsx(lB,{shapeId:r.id,classNamePrefix:"tl-arrow",type:"arrow",font:r.props.font,fontSize:X4(r),lineHeight:Wa.lineHeight,align:"middle",verticalAlign:"middle",text:r.props.text,labelColor:n[r.props.labelColor].solid,textWidth:s.box.w-Q6*2*r.props.scale,isSelected:l,padding:0,style:{transform:`translate(${s.box.center.x}px, ${s.box.center.y}px)`}})]})}indicator(r){const n=kI(r.id),i=kl(r.id+"_clip"),a=Pu(this.editor,r);if(!a)return null;const{start:o,end:s}=Np(this.editor,r,a==null?void 0:a.bindings),l=this.editor.getShapeGeometry(r),u=l.bounds,c=r.props.text.trim()?l.children[1]:null;if(k.Equals(o,s))return null;const A=Ka[r.props.size]*r.props.scale,d=a.start.arrowhead&&u_(a,"start",A),f=a.end.arrowhead&&u_(a,"end",A),p=a.isStraight?SQe(a):wQe(a),g=d&&a.start.arrowhead!=="arrow"||f&&a.end.arrowhead!=="arrow"||!!c;if(n&&c)return y.jsx("rect",{x:ye(c.x),y:ye(c.y),width:c.w,height:c.h,rx:3.5*r.props.scale,ry:3.5*r.props.scale});const m=!(a.start.arrowhead==="none"||a.start.arrowhead==="arrow"),w=!(a.end.arrowhead==="none"||a.end.arrowhead==="arrow");return y.jsxs("g",{children:[g&&y.jsx("defs",{children:y.jsx(CQe,{hasText:r.props.text.trim().length>0,bounds:u,labelBounds:c?c.getBounds():new Ze(0,0,0,0),as:m&&d?d:"",ae:w&&f?f:""})}),y.jsxs("g",{style:{clipPath:g?`url(#${i})`:void 0,WebkitClipPath:g?`url(#${i})`:void 0},children:[g&&y.jsx("rect",{x:u.minX-100,y:u.minY-100,width:u.width+200,height:u.height+200,opacity:0}),y.jsx("path",{d:p})]}),d&&y.jsx("path",{d}),f&&y.jsx("path",{d:f}),c&&y.jsx("rect",{x:ye(c.x),y:ye(c.y),width:c.w,height:c.h,rx:3.5,ry:3.5})]})}onEditEnd(r){const{id:n,type:i,props:{text:a}}=r;a.trimEnd()!==r.props.text&&this.editor.updateShapes([{id:n,type:i,props:{text:a.trimEnd()}}])}toSvg(r,n){n.addExportDef(q6(r.props.fill)),r.props.text&&n.addExportDef(oB(r.props.font));const i=oA(n),a=1/r.props.scale;return y.jsxs("g",{transform:`scale(${a})`,children:[y.jsx(__e,{shape:r,shouldDisplayHandles:!1}),y.jsx(sB,{fontSize:X4(r),font:r.props.font,align:"middle",verticalAlign:"middle",text:r.props.text,labelColor:i[r.props.labelColor].solid,bounds:Vx(this.editor,r).box.clone().expandBy(-4.25*r.props.scale),padding:0})]})}getCanvasSvgDefs(){return[K6(),{key:"arrow:dot",component:DLt},{key:"arrow:cross",component:jLt}]}getInterpolatedProps(r,n,i){return{...i>.5?n.props:r.props,scale:wr(r.props.scale,n.props.scale,i),start:{x:wr(r.props.start.x,n.props.start.x,i),y:wr(r.props.start.y,n.props.start.y,i)},end:{x:wr(r.props.end.x,n.props.end.x,i),y:wr(r.props.end.y,n.props.end.y,i)},bend:wr(r.props.bend,n.props.bend,i),labelPosition:wr(r.props.labelPosition,n.props.labelPosition,i)}}}K(Yx,"type","arrow"),K(Yx,"props",d2e),K(Yx,"migrations",f2e);function xQe(t,e){const r=Pu(t,e);return r.isStraight?k.Dist(r.start.handle,r.end.handle):Math.abs(r.handleArc.length)}const __e=wa(function({shape:e,shouldDisplayHandles:r}){const n=we(),i=ll(),a=Pu(n,e),o=Ze.ZeroFix(n.getShapeGeometry(e).bounds),s=Do(n,e),l=Ce("force solid",()=>n.getZoomLevel()<.2,[n]),u=kl(e.id+"_clip"),c=kl("arrowhead-dot"),A=kl("arrowhead-cross");if(!(a!=null&&a.isValid))return null;const d=Ka[e.props.size]*e.props.scale,f=a.start.arrowhead&&u_(a,"start",d),p=a.end.arrowhead&&u_(a,"end",d),g=a.isStraight?SQe(a):wQe(a);let m=null;if(r){const _=2/n.getZoomLevel(),{strokeDasharray:B,strokeDashoffset:T}=Bl(xQe(n,e),_,{end:"skip",start:"skip",lengthRatio:2.5});m=s.start||s.end?y.jsx("path",{className:"tl-arrow-hint",d:a.isStraight?ULt(a):kLt(a),strokeDasharray:B,strokeDashoffset:T,strokeWidth:_,markerStart:s.start?s.start.props.isExact?"":s.start.props.isPrecise?`url(#${A})`:`url(#${c})`:"",markerEnd:s.end?s.end.props.isExact?"":s.end.props.isPrecise?`url(#${A})`:`url(#${c})`:"",opacity:.16}):null}const{strokeDasharray:w,strokeDashoffset:b}=Bl(a.isStraight?a.length:Math.abs(a.bodyArc.length),d,{style:e.props.dash,forceSolid:l}),C=Vx(n,e),S=!(a.start.arrowhead==="none"||a.start.arrowhead==="arrow"),x=!(a.end.arrowhead==="none"||a.end.arrowhead==="arrow");return y.jsxs(y.Fragment,{children:[y.jsx("defs",{children:y.jsx("clipPath",{id:u,children:y.jsx(CQe,{hasText:e.props.text.trim().length>0,bounds:o,labelBounds:C.box,as:S&&f?f:"",ae:x&&p?p:""})})}),y.jsxs("g",{fill:"none",stroke:i[e.props.color].solid,strokeWidth:d,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none",children:[m,y.jsxs("g",{style:{clipPath:`url(#${u})`,WebkitClipPath:`url(#${u})`},children:[y.jsx("rect",{x:ye(o.minX-100),y:ye(o.minY-100),width:ye(o.width+200),height:ye(o.height+200),opacity:0}),y.jsx("path",{d:g,strokeDasharray:w,strokeDashoffset:b})]}),f&&S&&e.props.fill!=="none"&&y.jsx(ka,{theme:i,d:f,color:e.props.color,fill:e.props.fill,scale:e.props.scale}),p&&x&&e.props.fill!=="none"&&y.jsx(ka,{theme:i,d:p,color:e.props.color,fill:e.props.fill,scale:e.props.scale}),f&&y.jsx("path",{d:f}),p&&y.jsx("path",{d:p})]})]})});function CQe({hasText:t,bounds:e,labelBounds:r,as:n,ae:i}){const a=`M${ye(e.minX-100)},${ye(e.minY-100)} h${e.width+200} v${e.height+200} h-${e.width+200} Z`,o=`M${ye(r.minX)},${ye(r.minY)} v${r.height} h${r.width} v-${r.height} Z`;return y.jsx("path",{d:`${a}${t?o:""}${n}${i}`})}const E_e=new WeakMap;function DLt(){const t=kl("arrowhead-dot");return y.jsx("marker",{id:t,className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"0",children:y.jsx("circle",{cx:"3",cy:"3",r:"2",strokeDasharray:"100%"})})}function jLt(){const t=kl("arrowhead-cross");return y.jsxs("marker",{id:t,className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"auto",children:[y.jsx("line",{x1:"1.5",y1:"1.5",x2:"4.5",y2:"4.5",strokeDasharray:"100%"}),y.jsx("line",{x1:"1.5",y1:"4.5",x2:"4.5",y2:"1.5",strokeDasharray:"100%"})]})}const I_e="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='none'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 5H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6M19 5h6m0 0v6m0-6L13 17'/%3E%3C/svg%3E";function Rg({url:t}){const e=we(),r=Ce("zoomLevel",()=>e.getZoomLevel()<.32,[e]);return y.jsx("a",{className:Mt("tl-hyperlink-button",{"tl-hyperlink-button__hidden":r}),href:t,target:"_blank",rel:"noopener noreferrer",onPointerDown:mi,onPointerUp:mi,title:t,draggable:!1,children:y.jsx("div",{className:"tl-hyperlink__icon",style:{mask:`url("${I_e}") center 100% / 100% no-repeat`,WebkitMask:`url("${I_e}") center 100% / 100% no-repeat`}})})}const B_e="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='none'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 5H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6M19 5h6m0 0v6m0-6L13 17'/%3E%3C/svg%3E",LLt=[{offsetX:0,offsetY:2,blur:4,spread:0,color:"#00000029"},{offsetX:0,offsetY:3,blur:6,spread:0,color:"#0000001f"}];function c_(t){return LLt.map(r=>{const{offsetX:n,offsetY:i,blur:a,spread:o,color:s}=r,l=new k(n,i),{x:u,y:c}=l.rot(-t);return`${u}px ${c}px ${a}px ${o}px ${s}`}).join(", ")}const NLt=300,_Qe=320,$Lt=46,QLt=101;class Xx extends ym{canResize(){return!1}hideSelectionBoundsFg(){return!0}getText(e){return e.props.url}getDefaultProps(){return{url:"",w:NLt,h:_Qe,assetId:null}}component(e){return y.jsx(HLt,{shape:e,util:this})}indicator(e){return y.jsx("rect",{width:ye(e.props.w),height:ye(e.props.h),rx:"6",ry:"6"})}onBeforeCreate(e){return P_e(this.editor,e)}onBeforeUpdate(e,r){if(e.props.url!==r.props.url)if(ps.isValid(r.props.url))KLt(this.editor,r);else return{...r,props:{...r.props,url:e.props.url}};if(e.props.assetId!==r.props.assetId)return P_e(this.editor,r)}getInterpolatedProps(e,r,n){return{...n>.5?r.props:e.props,w:wr(e.props.w,r.props.w,n),h:wr(e.props.h,r.props.h,n)}}}K(Xx,"type","bookmark"),K(Xx,"props",y2e),K(Xx,"migrations",w2e);function HLt({shape:t,util:e}){const r=t.props.assetId?e.editor.getAsset(t.props.assetId):null,n=!!Fb()&&tn.isSafari,i=e.editor.getShapePageTransform(t).rotation(),a=qLt(t),[o,s]=I.useState(!0),l=()=>s(!1);return y.jsx(sd,{children:y.jsxs("div",{className:Mt("tl-bookmark__container",n&&"tl-bookmark__container--safariExport"),style:{boxShadow:n?void 0:c_(i),maxHeight:t.props.h},children:[(!r||r.props.image)&&y.jsxs("div",{className:"tl-bookmark__image_container",children:[r?y.jsx("img",{className:"tl-bookmark__image",draggable:!1,referrerPolicy:"strict-origin-when-cross-origin",src:r==null?void 0:r.props.image,alt:(r==null?void 0:r.props.title)||""}):y.jsx("div",{className:"tl-bookmark__placeholder"}),(r==null?void 0:r.props.image)&&y.jsx(Rg,{url:t.props.url})]}),y.jsxs("div",{className:"tl-bookmark__copy_container",children:[r!=null&&r.props.title?y.jsx("h2",{className:"tl-bookmark__heading",children:Tjt(r.props.title)}):null,r!=null&&r.props.description&&(r!=null&&r.props.image)?y.jsx("p",{className:"tl-bookmark__description",children:r.props.description}):null,y.jsxs("a",{className:"tl-bookmark__link",href:t.props.url||"",target:"_blank",rel:"noopener noreferrer",onPointerDown:mi,onPointerUp:mi,onClick:mi,children:[o&&(r!=null&&r.props.favicon)?y.jsx("img",{className:"tl-bookmark__favicon",src:r==null?void 0:r.props.favicon,referrerPolicy:"strict-origin-when-cross-origin",onError:l,alt:`favicon of ${a}`}):y.jsx("div",{className:"tl-hyperlink__icon",style:{mask:`url("${B_e}") center 100% / 100% no-repeat`,WebkitMask:`url("${B_e}") center 100% / 100% no-repeat`}}),y.jsx("span",{children:a})]})]})]})})}function P_e(t,e){const r=e.props.assetId?t.getAsset(e.props.assetId):null;let n=_Qe;return r&&(r.props.image||(r.props.title?n=QLt:n=$Lt)),{...e,props:{...e.props,h:n}}}const qLt=t=>{try{return new URL(t.props.url).hostname.replace(/^www\./,"")}catch{return t.props.url}};function KLt(t,e){const{url:r}=e.props,n=hd.createId(c5(r));t.getAsset(n)?e.props.assetId!==n&&t.updateShapes([{id:e.id,type:e.type,props:{assetId:n}}]):(t.updateShapes([{id:e.id,type:e.type,props:{assetId:null}}]),zLt(t,e))}const zLt=l5(async(t,e)=>{if(t.isDisposed)return;const{url:r}=e.props,n=await t.getAssetForExternalContent({type:"url",url:r});n&&t.run(()=>{t.createAssets([n]),t.updateShapes([{id:e.id,type:e.type,props:{assetId:n.id}}])})},500);function eh(t,e=!1){const r=t.length;if(r<2)return"";let n=t[0].point,i=t[1].point;if(r===2)return`M${Fr(n)}L${Fr(i)}`;let a="";for(let o=2,s=r-1;o<s;o++)n=t[o].point,i=t[o+1].point,a+=Uo(n,i);return e?`M${Uo(t[0].point,t[1].point)}Q${Fr(t[1].point)}${Uo(t[1].point,t[2].point)}T${a}${Uo(t[r-1].point,t[0].point)}${Uo(t[0].point,t[1].point)}Z`:`M${Fr(t[0].point)}Q${Fr(t[1].point)}${Uo(t[1].point,t[2].point)}${t.length>3?"T":""}${a}L${Fr(t[r-1].point)}`}function WLt(t,e={}){const{start:r={},end:n={}}=e,{cap:i=!0}=r,{cap:a=!0}=n;fr(!r.taper&&!n.taper,"cap taper not supported here"),fr(!r.easing&&!n.easing,"cap easing not supported here"),fr(i&&a,"cap must be true");const o=Ku(t,e);iB(o,e);const s=GLt(o);let l="";for(const u of s)l+=YLt(u,e);return l}function GLt(t){if(t.length<=2)return[t];const e=[];let r=[t[0]],n=k.Sub(t[1].point,t[0].point).uni(),i,a,o,s,l;for(let u=1,c=t.length;u<c-1;u++){if(o=t[u-1],s=t[u],l=t[u+1],i=k.Sub(l.point,s.point).uni(),a=k.Dpr(n,i),n=i,a<-.8){const A={...s,point:s.input};r.push(A),e.push(SN(r)),r=[A];continue}if(r.push(s),!(a>.7)&&(k.Dist2(o.point,s.point)+k.Dist2(s.point,l.point))/((o.radius+s.radius+l.radius)/3)**2<1.5){r.push(s),e.push(SN(r)),r=[s];continue}}return r.push(t[t.length-1]),e.push(SN(r)),e}function SN(t){const e=t[0];let r;for(;t.length>2&&(r=t[1],k.Dist2(e.point,r.point)<((e.radius+r.radius)/2*.5)**2);)t.splice(1,1);const n=t[t.length-1];let i;for(;t.length>2&&(i=t[t.length-2],k.Dist2(n.point,i.point)<((n.radius+i.radius)/2*.5)**2);)t.splice(t.length-2,1);return t.length>1&&(t[0]={...t[0],vector:k.Sub(t[0].point,t[1].point).uni()},t[t.length-1]={...t[t.length-1],vector:k.Sub(t[t.length-2].point,t[t.length-1].point).uni()}),t}function VLt(t,e,r){return"M "+t+" "+e+" m -"+r+", 0 a "+r+","+r+" 0 1,1 "+r*2+",0 a "+r+","+r+" 0 1,1 -"+r*2+",0"}function YLt(t,e={}){if(t.length===0)return"";if(t.length===1)return VLt(t[0].point.x,t[0].point.y,t[0].radius);const{left:r,right:n}=tQe(t,e);n.reverse();let i=`M${Fr(r[0])}T`;for(let a=1;a<r.length;a++)i+=Uo(r[a-1],r[a]);{const a=t[t.length-1],o=a.radius,s=a.vector.clone().per().neg(),l=k.Add(a.point,k.Mul(s,o)),u=k.Add(a.point,k.Mul(s,-o));i+=`${Fr(l)}A${ye(o)},${ye(o)} 0 0 1 ${Fr(u)}T`}for(let a=1;a<n.length;a++)i+=Uo(n[a-1],n[a]);{const a=t[0],o=a.radius,s=a.vector.clone().per(),l=k.Add(a.point,k.Mul(s,o)),u=k.Add(a.point,k.Mul(s,-o));i+=`${Fr(l)}A${ye(o)},${ye(o)} 0 0 1 ${Fr(u)}Z`}return i}const EQe=(t,e,r)=>{const n=[],i=[];t.forEach(u=>n.push(...u.points)),e.forEach(u=>i.push(...u.points));const a=Math.max(n.length,i.length),o=[],s=[];for(let u=0;u<a;u++)o.push(n[u]||n[n.length-1]),s.push(i[u]||i[i.length-1]);return[{type:"free",points:o.map((u,c)=>{let A=.5;return s[c].z!==void 0&&u.z!==void 0&&(A=wr(u.z,s[c].z,r)),{x:wr(u.x,s[c].x,r),y:wr(u.y,s[c].y,r),z:A}})}]},XLt=t=>t*.65+nvt(t*Or/2)*.35,JLt=t=>({size:t,thinning:.5,streamline:Ig(t,[9,16],[.64,.74],!0),smoothing:.62,easing:Ji.easeOutSine,simulatePressure:!0}),ZLt=t=>({size:1+t*1.2,thinning:.62,streamline:.62,smoothing:.62,simulatePressure:!1,easing:XLt}),T_e=t=>({size:t,thinning:0,streamline:Ig(t,[9,16],[.64,.74],!0),smoothing:.62,simulatePressure:!1,easing:Ji.linear}),eNt=t=>({size:t,thinning:0,streamline:.62,smoothing:.62,simulatePressure:!1,easing:Ji.linear});function G6({strokeWidth:t,showAsComplete:e}){return{size:1+t,thinning:0,streamline:.5,smoothing:.5,simulatePressure:!1,easing:Ji.easeOutSine,last:e}}function J4(t,e,r,n){const i=t.isComplete||r;return n?t.isPen?{...eNt(e),last:i}:{...T_e(e),last:i}:t.dash==="draw"?t.isPen?{...ZLt(e),last:i}:{...JLt(e),last:i}:{...T_e(e),last:i}}function Mg(t){const e=[];for(const r of t)if(r.type==="free"||r.points.length<2)e.push(...r.points.map(k.Cast));else{const n=Math.max(4,Math.floor(k.Dist(r.points[0],r.points[1])/16));e.push(...k.PointsBetween(r.points[0],r.points[1],n))}return e}function tNt(t,e,r){return{draw:"none",solid:"none",dotted:`${r} ${e*2}`,dashed:`${e*2} ${e*2}`}[t.props.dash]}class Jx extends Ul{constructor(){super(...arguments);K(this,"options",{maxPointsPerShape:600})}hideResizeHandles(r){return xN(r)}hideRotateHandle(r){return xN(r)}hideSelectionBoundsFg(r){return xN(r)}getDefaultProps(){return{segments:[],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!1,isClosed:!1,isPen:!1,scale:1}}getGeometry(r){const n=Mg(r.props.segments),i=(Ka[r.props.size]+1)*r.props.scale;if(r.props.segments.length===1){const o=Ze.FromPoints(n);if(o.width<i*2&&o.height<i*2)return new Vq({x:-i,y:-i,radius:i,isFilled:!0})}const a=Ku(n,J4(r.props,i,r.props.isPen,!0)).map(o=>o.point);return r.props.isClosed?new Ai({points:a,isFilled:r.props.fill!=="none"}):new gm({points:a})}component(r){return y.jsx(pd,{children:y.jsx(O_e,{shape:r})})}indicator(r){var c;const n=Mg(r.props.segments);let i=(Ka[r.props.size]+1)*r.props.scale;!Ce("force solid",()=>{const A=this.editor.getZoomLevel();return A<.5&&A<1.5/i},[this.editor,i])&&!r.props.isPen&&r.props.dash==="draw"&&n.length===1&&(i+=Wl(r.id)()*(i/6));const o=r.props.isComplete||((c=Aa(r.props.segments))==null?void 0:c.type)==="straight",s=J4(r.props,i,o,!0),l=Ku(n,s),u=l.length>1?eh(l,r.props.isClosed):IQe(n[0],i);return y.jsx("path",{d:u})}toSvg(r,n){n.addExportDef(q6(r.props.fill));const i=1/r.props.scale;return y.jsx("g",{transform:`scale(${i})`,children:y.jsx(O_e,{shape:r,zoomOverride:1})})}getCanvasSvgDefs(){return[K6()]}onResize(r,n){const{scaleX:i,scaleY:a}=n,o=[];for(const s of r.props.segments)o.push({...s,points:s.points.map(({x:l,y:u,z:c})=>({x:Oc(i*l),y:Oc(a*u),z:c}))});return{props:{segments:o}}}expandSelectionOutlinePx(r){const n=r.props.dash==="draw"?1.6:1;return Ka[r.props.size]*n/2*r.props.scale}getInterpolatedProps(r,n,i){return{...i>.5?n.props:r.props,segments:EQe(r.props.segments,n.props.segments,i),scale:wr(r.props.scale,n.props.scale,i)}}}K(Jx,"type","draw"),K(Jx,"props",S2e),K(Jx,"migrations",x2e);function IQe(t,e){const r=(e+1)*.5;return`M ${t.x} ${t.y} m -${r}, 0 a ${r},${r} 0 1,0 ${r*2},0 a ${r},${r} 0 1,0 -${r*2},0`}function xN(t){return t.props.segments.length===1&&t.props.segments[0].points.length<2}function O_e({shape:t,zoomOverride:e}){var f;const r=ll(),n=we(),i=Mg(t.props.segments),a=t.props.isComplete||((f=Aa(t.props.segments))==null?void 0:f.type)==="straight";let o=(Ka[t.props.size]+1)*t.props.scale;const s=Ce("force solid",()=>{const p=e??n.getZoomLevel();return p<.5&&p<1.5/o},[n,o,e]),l=Ce("dot adjustment",()=>(e??n.getZoomLevel())<.2?0:.1,[n,e]);!s&&!t.props.isPen&&t.props.dash==="draw"&&i.length===1&&(o+=Wl(t.id)()*(o/6));const u=J4(t.props,o,a,s);if(!s&&t.props.dash==="draw")return y.jsxs(y.Fragment,{children:[t.props.isClosed&&t.props.fill&&i.length>1?y.jsx(ka,{d:eh(Ku(i,u),t.props.isClosed),theme:r,color:t.props.color,fill:t.props.isClosed?t.props.fill:"none",scale:t.props.scale}):null,y.jsx("path",{d:WLt(i,u),strokeLinecap:"round",fill:r[t.props.color].solid})]});const c=Ku(i,u),A=c.length<2,d=A?IQe(i[0],0):eh(c,t.props.isClosed);return y.jsxs(y.Fragment,{children:[y.jsx(ka,{d,theme:r,color:t.props.color,fill:A||t.props.isClosed?t.props.fill:"none",scale:t.props.scale}),y.jsx("path",{d,strokeLinecap:"round",fill:A?r[t.props.color].solid:"none",stroke:r[t.props.color].solid,strokeWidth:o,strokeDasharray:A?"none":tNt(t,o,l),strokeDashoffset:"0"})]})}function rNt(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function nNt(t,e){const r=Yt(e);if(!r)return;const n=r.host.replace("www.","");for(const i of t)if(BQe(i.hostnames,n)){const a=i.fromEmbedUrl(e);if(a)return{definition:i,url:a,embedUrl:e}}}const iNt=t=>t.split("*").map(e=>rNt(e)).join(".+"),BQe=(t,e)=>!!t.find(r=>{const n=new RegExp(iNt(r));return e.match(n)});function aNt(t,e){const r=Yt(e);if(!r)return;const n=r.host.replace("www.","");for(const i of t)if(BQe(i.hostnames,n)){const a=i.toEmbedUrl(e);if(a)return{definition:i,embedUrl:a,url:e}}}function oNt(t,e){try{return aNt(t,e)??nNt(t,e)}catch{return}}const sNt=t=>Object.entries(t).filter(([e,r])=>r).map(([e])=>e).join(" "),Tc=class Tc extends ym{static setEmbedDefinitions(e){Tc.embedDefinitions=e}getEmbedDefinitions(){return Tc.embedDefinitions}getEmbedDefinition(e){return oNt(Tc.embedDefinitions,e)}getText(e){return e.props.url}hideSelectionBoundsFg(e){return!this.canResize(e)}canEdit(){return!0}canResize(e){var r,n;return!!((n=(r=this.getEmbedDefinition(e.props.url))==null?void 0:r.definition)!=null&&n.doesResize)}canEditInReadOnly(){return!0}getDefaultProps(){return{w:300,h:300,url:""}}isAspectRatioLocked(e){const r=this.getEmbedDefinition(e.props.url);return(r==null?void 0:r.definition.isAspectRatioLocked)??!1}onResize(e,r){const n=this.isAspectRatioLocked(e),i=this.getEmbedDefinition(e.props.url);let a=(i==null?void 0:i.definition.minWidth)??200,o=(i==null?void 0:i.definition.minHeight)??200;if(n){const s=e.props.w/e.props.h;s>1?a*=s:o/=s}return FI(e,r,{minWidth:a,minHeight:o})}component(e){const r=Fb(),{w:n,h:i,url:a}=e.props,o=kI(e.id),s=this.getEmbedDefinition(a),l=Ce("is hovering",()=>{const{editingShapeId:f,hoveredShapeId:p}=this.editor.getCurrentPageState();if(f&&p!==f){const g=this.editor.getShape(f);if(g&&this.editor.isShapeOfType(g,"embed"))return!0}return!1},[]),u=this.editor.getShapePageTransform(e).rotation();if(r)return y.jsx(sd,{className:"tl-embed-container",id:e.id,children:y.jsx("div",{className:"tl-embed",style:{border:0,boxShadow:c_(u),borderRadius:(s==null?void 0:s.definition.overrideOutlineRadius)??8,background:(s==null?void 0:s.definition.backgroundColor)??"var(--color-background)",width:n,height:i}})});const c=o||l;if(typeof window<"u"&&(window!==window.top||window.self!==window.parent)&&(s==null?void 0:s.definition.type)==="tldraw")return null;if((s==null?void 0:s.definition.type)==="github_gist"){const f=s.url.split("/").pop();if(!f)throw Error("No gist id!");return y.jsx(sd,{className:"tl-embed-container",id:e.id,children:y.jsx(lNt,{id:f,width:ye(n),height:ye(i),isInteractive:c,pageRotation:u})})}const d=sNt({...SUt,...(s==null?void 0:s.definition.overridePermissions)??{}});return y.jsx(sd,{className:"tl-embed-container",id:e.id,children:s!=null&&s.definition?y.jsx("iframe",{className:"tl-embed",sandbox:d,src:s.embedUrl,width:ye(n),height:ye(i),draggable:!1,frameBorder:"0",referrerPolicy:"no-referrer-when-downgrade",style:{border:0,pointerEvents:c?"auto":"none",zIndex:c?"":"-1",boxShadow:c_(u),borderRadius:(s==null?void 0:s.definition.overrideOutlineRadius)??8,background:s==null?void 0:s.definition.backgroundColor}}):null})}indicator(e){const r=this.getEmbedDefinition(e.props.url);return y.jsx("rect",{width:ye(e.props.w),height:ye(e.props.h),rx:(r==null?void 0:r.definition.overrideOutlineRadius)??8,ry:(r==null?void 0:r.definition.overrideOutlineRadius)??8})}getInterpolatedProps(e,r,n){return{...n>.5?r.props:e.props,w:wr(e.props.w,r.props.w,n),h:wr(e.props.h,r.props.h,n)}}};K(Tc,"type","embed"),K(Tc,"props",C2e),K(Tc,"migrations",_2e),K(Tc,"embedDefinitions",O6);let A_=Tc;function lNt({id:t,isInteractive:e,width:r,height:n,style:i,pageRotation:a}){if(!t.match(/^[0-9a-f]+$/))throw Error("No gist id!");return y.jsx("iframe",{className:"tl-embed",draggable:!1,width:ye(r),height:ye(n),frameBorder:"0",scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",style:{...i,pointerEvents:e?"all":"none",zIndex:e?"":"-1",boxShadow:c_(a)},srcDoc:`
			<html>
				<head>
					<base target="_blank">
				</head>
				<body>
					<script src=${`https://gist.github.com/${t}.js`}><\/script>
					<style type="text/css">
						* { margin: 0px; }
						table { height: 100%; background-color: red; }
						.gist { background-color: none; height: 100%;  }
						.gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
					</style>
				</body>
			</html>`})}function Z4(t,e){const i=((Df(t.getShapePageTransform(e.id).rotation())+Math.PI/4)*(2/Math.PI)+4)%4;return Math.floor(i)}const R_e=new WeakMap;function M_e(t,e,r){let n=R_e.get(e.props);if(!n){const i=V6(e.props.name,"Frame")+"",a=t.textMeasure.measureTextSpans(i,r),o=a[0],s=Aa(a);n=s.box.w+s.box.x-o.box.x,R_e.set(e.props,n)}return new Ze(0,-r.height,n,r.height)}function F_e(t,e){return{fontSize:12,fontFamily:"Inter, sans-serif",textAlign:"start",width:t.props.w,height:32,padding:0,lineHeight:1,fontStyle:"normal",fontWeight:"normal",overflow:"truncate-ellipsis",verticalTextAlign:"middle",fill:e,offsetY:-34,offsetX:2}}function PQe(t,e,r){const n=r?"":"px",i=r?"":"deg";let a;switch(e){case 0:a="";break;case 3:a=`translate(${ye(t.props.w)}${n}, 0${n}) rotate(90${i})`;break;case 2:a=`translate(${ye(t.props.w)}${n}, ${ye(t.props.h)}${n}) rotate(180${i})`;break;case 1:a=`translate(0${n}, ${ye(t.props.h)}${n}) rotate(270${i})`;break;default:throw Error("labelSide out of bounds")}return a}const uNt=I.forwardRef(({id:t,name:e,isEditing:r},n)=>{const i=we(),a=I.useCallback(l=>{l.key==="Enter"&&!l.nativeEvent.isComposing&&(mi(l),l.currentTarget.blur(),i.setEditingShape(null))},[i]),o=I.useCallback(l=>{const u=i.getShape(t);if(!u)return;const c=u.props.name,A=l.currentTarget.value.trim();c!==A&&i.updateShapes([{id:t,type:"frame",props:{name:A}}])},[t,i]),s=I.useCallback(l=>{const u=i.getShape(t);if(!u)return;const c=u.props.name,A=l.currentTarget.value;c!==A&&i.updateShapes([{id:t,type:"frame",props:{name:A}}])},[t,i]);return y.jsxs("div",{className:`tl-frame-label ${r?"tl-frame-label__editing":""}`,children:[y.jsx("input",{className:"tl-frame-name-input",ref:n,disabled:!r,readOnly:!r,style:{display:r?void 0:"none"},value:e,autoFocus:!0,onKeyDown:a,onBlur:o,onChange:s}),V6(e,"Frame")+""]})}),cNt=I.memo(function({id:e,name:r,width:n,height:i}){const a=we(),{side:o,translation:s}=Ce("shape rotation",()=>{const c=a.getShape(e);if(!c)return{side:0,translation:"translate(0, 0)"};const A=Z4(a,c);return{side:A,translation:PQe(c,A,!1)}},[a,e]),l=I.useRef(null),u=kI(e);return I.useEffect(()=>{const c=l.current;c&&u&&(c.focus(),c.select())},[l,u]),y.jsx("div",{className:"tl-frame-heading",style:{overflow:u?"visible":"hidden",maxWidth:`calc(var(--tl-zoom) * ${Math.ceil(o===0||o===2?n:i)}px + var(--space-5))`,bottom:"100%",transform:`${s} scale(var(--tl-scale)) translateX(calc(-1 * var(--space-3))`},children:y.jsx("div",{className:"tl-frame-heading-hit-area",children:y.jsx(uNt,{ref:l,id:e,name:r,isEditing:u})})})});function V6(t,e){return t.match(/^\s*$/)?e:t}class Zx extends ym{canEdit(){return!0}getDefaultProps(){return{w:160*2,h:90*2,name:""}}getGeometry(e){const{editor:r}=this,n=r.getZoomLevel(),i=F_e(e,"black"),a=M_e(r,e,i),o=Z4(r,e);let s,l,u,c;const{w:A,h:d}=a,f=Math.min(A,e.props.w*n),p=Math.min(d,e.props.h*n);switch(o){case 0:{s=-8/n,l=(-d-4)/n,u=(f+16)/n,c=d/n;break}case 1:{s=(-d-4)/n,c=(p+16)/n,l=e.props.h-c+8/n,u=d/n;break}case 2:{s=e.props.w-(f+8)/n,l=e.props.h+4/n,u=(p+16)/n,c=d/n;break}case 3:{s=e.props.w+4/n,c=(p+16)/n,l=-8/n,u=d/n;break}}return new tl({children:[new Qu({width:e.props.w,height:e.props.h,isFilled:!1}),new Qu({x:s,y:l,width:u,height:c,isFilled:!0,isLabel:!0})]})}getText(e){return e.props.name}component(e){const r=ll(),n=Ce("is creating this shape",()=>{const i=this.editor.getStateDescendant("select.resizing");if(!i||!i.getIsActive())return!1;const a=i==null?void 0:i.info;return a?a.isCreating&&this.editor.getOnlySelectedShapeId()===e.id:!1},[e.id]);return y.jsxs(y.Fragment,{children:[y.jsx(pd,{children:y.jsx("rect",{className:Mt("tl-frame__body",{"tl-frame__creating":n}),width:e.props.w,height:e.props.h,fill:r.solid,stroke:r.text})}),n?null:y.jsx(cNt,{id:e.id,name:e.props.name,width:e.props.w,height:e.props.h})]})}toSvg(e,r){const n=oA({isDarkMode:r.isDarkMode}),i=Z4(this.editor,e),a=PQe(e,i,!0),o=F_e(e,n.text),s=V6(e.props.name,"Frame")+"",l=M_e(this.editor,e,o),u=this.editor.textMeasure.measureTextSpans(s,o),c=Y4(this.editor,u,o);return y.jsxs(y.Fragment,{children:[y.jsx("rect",{width:e.props.w,height:e.props.h,fill:n.solid,stroke:n.black.solid,strokeWidth:1,rx:1,ry:1}),y.jsxs("g",{transform:a,children:[y.jsx("rect",{x:l.x-8,y:l.y-4,width:l.width+20,height:l.height,fill:n.background,rx:4,ry:4}),c]})]})}indicator(e){return y.jsx("rect",{width:ye(e.props.w),height:ye(e.props.h),className:"tl-frame-indicator"})}canReceiveNewChildrenOfType(e,r){return!e.isLocked}providesBackgroundForChildren(){return!0}canDropShapes(e,r){return!e.isLocked}onDragShapesOver(e,r){r.every(n=>n.parentId===e.id)||this.editor.reparentShapes(r,e.id)}onDragShapesOut(e,r){const n=this.editor.getShape(e.parentId);n&&this.editor.isShapeOfType(n,"group")?this.editor.reparentShapes(r,n.id):this.editor.reparentShapes(r,this.editor.getCurrentPageId())}onResize(e,r){return FI(e,r)}getInterpolatedProps(e,r,n){return{...n>.5?r.props:e.props,w:wr(e.props.w,r.props.w,n),h:wr(e.props.h,r.props.h,n)}}}K(Zx,"type","frame"),K(Zx,"props",E2e),K(Zx,"migrations",I2e);function k_e(t,e){return t>e?(Or*(e/2)+(t-e))*2:(Or*(t/2)+(e-t))*2}function TQe(t,e){return Y6(t,e).map((r,n)=>r.getSvgPathData(n===0)).join(" ")+" Z"}function ANt(t,e,r,n){const i=t/4,a=e/4,o=Wl(n),s=r*.75,l=b=>b.addXY(o()*s,o()*s),u=new k(t/2,e),c=new k(0,a*1.2),A=new k(t/2,a*.9),d=new k(t,a*1.2),f=l(new k(t/2,e)),p=l(new k(0,a*1.2)),g=l(new k(t/2,a*.9)),m=l(new k(t,a*1.2));return[new La({start:u,cp1:new k(i*1.5,a*3),cp2:new k(0,a*2.5),end:c}),new La({start:c,cp1:new k(0,-a*.32),cp2:new k(i*1.85,-a*.32),end:A}),new La({start:A,cp1:new k(i*2.15,-a*.32),cp2:new k(t,-a*.32),end:d}),new La({start:d,cp1:new k(t,a*2.5),cp2:new k(i*2.5,a*3),end:f}),new La({start:f,cp1:new k(i*1.5,a*3),cp2:new k(0,a*2.5),end:p}),new La({start:p,cp1:new k(0,-a*.32),cp2:new k(i*1.85,-a*.32),end:g}),new La({start:g,cp1:new k(i*2.15,-a*.32),cp2:new k(t,-a*.32),end:m}),new La({start:m,cp1:new k(t,a*2.5),cp2:new k(i*2.5,a*3),end:u})].map((b,C)=>b.getSvgPathData(C===0)).join(" ")+" Z"}function Y6(t,e){const r=t/4,n=e/4;return[new La({start:new k(t/2,e),cp1:new k(r*1.5,n*3),cp2:new k(0,n*2.5),end:new k(0,n*1.2)}),new La({start:new k(0,n*1.2),cp1:new k(0,-n*.32),cp2:new k(r*1.85,-n*.32),end:new k(t/2,n*.9)}),new La({start:new k(t/2,n*.9),cp1:new k(r*2.15,-n*.32),cp2:new k(t,-n*.32),end:new k(t,n*1.2)}),new La({start:new k(t,n*1.2),cp1:new k(t,n*2.5),cp2:new k(r*2.5,n*3),end:new k(t/2,e)})]}function dNt(t){return{size:1+t,thinning:.25,end:{taper:t},start:{taper:t},streamline:0,smoothing:1,simulatePressure:!1}}function fNt(t,e,r,n){const i=Wl(t),a=e/2,o=r/2,s=KRe(a,o),l=[],u=nn*i(),c=nn+bn/2+Math.abs(i())*bn,A=Math.max(16,s/10);for(let d=0;d<A;d++){const f=d/(A-1),p=u+f*c,g=Math.cos(p),m=Math.sin(p);l.push(new k(a*g+e*.5+.05*i(),o*m+r/2+.05*i(),Math.min(1,.5+Math.abs(.5-(i()>0?Ji.easeInOutSine(f):Ji.easeInExpo(f)))/2)))}return Ku(l,dNt(n))}function hNt(t,e,r,n){return eh(fNt(t,e,r,n))}function eH(t){let e="M";const r=t.length;let n,i,a;for(let o=0,s=r;o<s;o+=3)n=t[o],i=t[o+1],a=t[o+2],e+=`${Fr(n)}L${Fr(i)}Q${Fr(a)}`;return e+=`${Fr(t[0])}`,e}function tH(t,e,r,n,i){const a=[],o=Wl(t);let s=e[0],l;const u=e.length;for(let c=0,A=u*i;c<A;c++){l=k.AddXY(e[(c+1)%u],o()*r,o()*r);const d=k.Sub(l,s),f=k.Len(d),p=k.Div(d,f).mul(Math.min(f/4,n));a.push(k.Add(s,p),k.Add(l,p.neg()),l),s=l}return a}function pNt(t,e,r){const n=Math.min(t,e)/2,i=Math.max(t,e)-n*2,o=(Math.PI*(n*2)+2*i)/r,s=t>e?[{type:"straight",start:new k(n,0),delta:new k(1,0)},{type:"arc",center:new k(t-n,n),startAngle:-Or/2},{type:"straight",start:new k(t-n,e),delta:new k(-1,0)},{type:"arc",center:new k(n,n),startAngle:Or/2}]:[{type:"straight",start:new k(t,n),delta:new k(0,1)},{type:"arc",center:new k(n,e-n),startAngle:0},{type:"straight",start:new k(0,e-n),delta:new k(0,-1)},{type:"arc",center:new k(n,n),startAngle:Or}];let l=0;const u=[];for(let c=0;c<r;c++){const A=s[0];A.type==="straight"?u.push(k.Add(A.start,k.Mul(A.delta,l))):u.push(Hf(A.center,n,A.startAngle+l/n)),l+=o;let d=A.type==="straight"?i:Or*n;for(;l>d;)l-=d,s.push(s.shift()),d=s[0].type==="straight"?i:Or*n}return u}const gNt={s:50,m:70,l:100,xl:130},mNt=.2;function uB(t,e,r,n,i){const a=Wl(r),o=k_e(t,e),s=Math.max(Math.ceil(o/gNt[n]),6,Math.ceil(o/Math.min(t,e))),l=o/s*mNt,u=Math.max(t-l*2,1),c=Math.max(e-l*2,1),d=k_e(u,c)/s,f=(t-u)/2,p=(e-c)/2,g=pNt(u,c,s).map(S=>S.addXY(f,p)),m=t<20?0:l*.3,w=e<20?0:l*.3,b=g.slice(0);for(let S=0;S<Math.floor(s/2);S++)b[S]=k.AddXY(b[S],a()*m*i,a()*w*i),b[s-S-1]=k.AddXY(b[s-S-1],a()*m*i,a()*w*i);const C=[];for(let S=0;S<b.length;S++){const x=S===b.length-1?0:S+1,_=b[S],B=b[x],T=g[S],R=g[x],P=k.Dist(T,R),M=d-P,F=k.Dist(_,B)/P,j=(Math.max(f,p)+M)*F,L=k.Lrp(T,R,.5).add(k.Sub(R,T).uni().per().mul(j));L.x<0?L.x=0:L.x>t&&(L.x=t),L.y<0?L.y=0:L.y>e&&(L.y=e);const $=T5(_,B,L),Q=k.Dist($||k.Average([_,B]),_);C.push({leftPoint:_,rightPoint:B,arcPoint:L,center:$,radius:Q})}return C}function vNt(t,e,r,n,i){const a=[],o=uB(t,e,r,n,i);for(const{center:s,radius:l,leftPoint:u,rightPoint:c}of o)a.push(...svt(u,c,s,l,10));return a}function rH(t,e,r,n,i){const a=uB(t,e,r,n,i);let o=`M${a[0].leftPoint.toFixed()}`;for(const{leftPoint:s,rightPoint:l,radius:u,center:c}of a){if(c===null){o+=` L${l.toFixed()}`;continue}const A=k.Clockwise(s,l,c)?"0":"1";o+=` A${ye(u)},${ye(u)} 0 ${A},1 ${l.toFixed()}`}return o+=" Z",o}const yNt={s:.5,m:.7,l:.9,xl:1.6};function wNt(t,e,r,n,i){const a=Wl(r),o=yNt[n]*i,s=uB(t,e,r,n,i),c=s.reduce((p,g)=>p+k.Dist2(g.leftPoint,g.rightPoint),0)/s.length>(o*15)**2?p=>k.AddXY(p,a()*o*2,a()*o*2):p=>p;let A=`M${s[0].leftPoint.toFixed()}`,d=c(s[0].leftPoint),f=`M${d.toFixed()}`;for(const{leftPoint:p,center:g,rightPoint:m,radius:w,arcPoint:b}of s){if(g===null){A+=` L${m.toFixed()}`;const T=c(m);f+=` L${T.toFixed()}`,d=T;continue}const C=k.Clockwise(p,m,g)?"0":"1";A+=` A${ye(w)},${ye(w)} 0 ${C},1 ${m.toFixed()}`;const S=c(m),x=c(b),_=T5(d,S,x);if(!_){f+=` L${S.toFixed()}`,d=S;continue}const B=Math.abs(k.Dist(_,d));f+=` A${ye(B)},${ye(B)} 0 ${C},1 ${S.toFixed()}`,d=S}return A+f+" Z"}function nH(t,e){switch(t.geo){case"x-box":return bNt(t.w,t.h,e,t.dash);case"check-box":return SNt(t.w,t.h);default:return}}function bNt(t,e,r,n){const i=n==="draw"?.62:0;if(n==="dashed")return[[new k(0,0),new k(t/2,e/2)],[new k(t,e),new k(t/2,e/2)],[new k(0,e),new k(t/2,e/2)],[new k(t,0),new k(t/2,e/2)]];const a=s=>Math.max(0,Math.min(t,s)),o=s=>Math.max(0,Math.min(e,s));return[[new k(a(r*i),o(r*i)),new k(a(t-r*i),o(e-r*i))],[new k(a(r*i),o(e-r*i)),new k(a(t-r*i),o(r*i))]]}function SNt(t,e){const r=Math.min(t,e)*.82,n=(t-r)/2,i=(e-r)/2,a=s=>Math.max(0,Math.min(t,s)),o=s=>Math.max(0,Math.min(e,s));return[[new k(a(n+r*.25),o(i+r*.52)),new k(a(n+r*.45),o(i+r*.82))],[new k(a(n+r*.45),o(i+r*.82)),new k(a(n+r*.82),o(i+r*.22))]]}function U_e({shape:t,shouldScale:e,forceSolid:r}){const n=e?t.props.scale:1,i=we(),a=ll(),{id:o,props:s}=t,{w:l,color:u,fill:c,dash:A,growY:d,size:f,scale:p}=s,g=Ka[f]*n,m=s.h+d;switch(s.geo){case"cloud":if(A==="solid"){const w=rH(l,m,o,f,p);return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:w,color:u,fill:c,scale:n}),y.jsx("path",{d:w,stroke:a[u].solid,strokeWidth:g,fill:"none"})]})}else if(A==="draw"){const w=wNt(l,m,o,f,p);return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:w,color:u,fill:c,scale:n}),y.jsx("path",{d:w,stroke:a[u].solid,strokeWidth:g,fill:"none"})]})}else{const w=rH(l,m,o,f,p),b=uB(l,m,o,f,p);return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:w,color:u,fill:c,scale:n}),y.jsx("g",{strokeWidth:g,stroke:a[u].solid,fill:"none",pointerEvents:"all",children:b.map(({leftPoint:C,rightPoint:S,center:x,radius:_},B)=>{const T=x?_*Df(Df(k.Angle(x,S))-Df(k.Angle(x,C))):k.Dist(C,S),{strokeDasharray:R,strokeDashoffset:P}=Bl(T,g,{style:A,start:"outset",end:"outset",forceSolid:r});return y.jsx("path",{d:x?`M${C.x},${C.y}A${_},${_},0,0,1,${S.x},${S.y}`:`M${C.x},${C.y}L${S.x},${S.y}`,strokeDasharray:R,strokeDashoffset:P},B)})})]})}case"ellipse":{const w=e?i.getShapeGeometry(t):i.getShapeUtil(t).getGeometry(t),b=w.getSvgPathData(!0);if(A==="dashed"||A==="dotted"){const C=w.length,{strokeDasharray:S,strokeDashoffset:x}=Bl(C<64?C*2:C,g,{style:A,snap:4,closed:!0,forceSolid:r});return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:b,color:u,fill:c,scale:n}),y.jsx("path",{d:b,strokeWidth:g,fill:"none",stroke:a[u].solid,strokeDasharray:S,strokeDashoffset:x})]})}else{const S=(e?i.getShapeGeometry(t):i.getShapeUtil(t).getGeometry(t)).getSvgPathData(!0);return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:S,color:u,fill:c,scale:n}),y.jsx("path",{d:S,stroke:a[u].solid,strokeWidth:g,fill:"none"})]})}}case"oval":{const w=e?i.getShapeGeometry(t):i.getShapeUtil(t).getGeometry(t),b=w.getSvgPathData(!0);if(A==="dashed"||A==="dotted"){const C=w.getLength(),{strokeDasharray:S,strokeDashoffset:x}=Bl(C<64?C*2:C,g,{style:A,snap:4,start:"outset",end:"outset",closed:!0,forceSolid:r});return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:b,color:u,fill:c,scale:n}),y.jsx("path",{d:b,strokeWidth:g,fill:"none",stroke:a[u].solid,strokeDasharray:S,strokeDashoffset:x})]})}else return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:b,color:u,fill:c,scale:n}),y.jsx("path",{d:b,stroke:a[u].solid,strokeWidth:g,fill:"none"})]})}case"heart":if(A==="dashed"||A==="dotted"||A==="solid"){const w=TQe(l,m),b=Y6(l,m);return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:w,color:u,fill:c,scale:n}),b.map((C,S)=>{const{strokeDasharray:x,strokeDashoffset:_}=Bl(C.length,g,{style:A,snap:1,start:"outset",end:"outset",closed:!0,forceSolid:r});return y.jsx("path",{d:C.getSvgPathData(),strokeWidth:g,fill:"none",stroke:a[u].solid,strokeDasharray:x,strokeDashoffset:_,pointerEvents:"all"},`curve_${S}`)})]})}else{const w=ANt(l,m,g,t.id);return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:w,color:u,fill:c,scale:n}),y.jsx("path",{d:w,stroke:a[u].solid,strokeWidth:g,fill:"none"})]})}default:{const w=e?i.getShapeGeometry(t):i.getShapeUtil(t).getGeometry(t),b=w instanceof tl?w.children[0].vertices:w.vertices,C=nH(t.props,g);if(A==="solid"){let S="M"+b[0]+"L"+b.slice(1)+"Z";if(C)for(const[x,_]of C)S+=`M${x.x},${x.y}L${_.x},${_.y}`;return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:S,color:u,fill:c,scale:n}),y.jsx("path",{d:S,stroke:a[u].solid,strokeWidth:g,fill:"none"})]})}else if(A==="dashed"||A==="dotted"){const S="M"+b[0]+"L"+b.slice(1)+"Z";return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:S,color:u,fill:c,scale:n}),y.jsxs("g",{strokeWidth:g,stroke:a[u].solid,fill:"none",pointerEvents:"all",children:[Array.from(Array(b.length)).map((x,_)=>{const B=k.ToFixed(b[_]),T=k.ToFixed(b[(_+1)%b.length]),R=k.Dist(B,T),{strokeDasharray:P,strokeDashoffset:M}=Bl(R,g,{style:A,start:"outset",end:"outset",forceSolid:r});return y.jsx("line",{x1:B.x,y1:B.y,x2:T.x,y2:T.y,strokeDasharray:P,strokeDashoffset:M},_)}),C&&C.map(([x,_],B)=>{const T=k.Dist(x,_),{strokeDasharray:R,strokeDashoffset:P}=Bl(T,g,{style:A,start:"skip",end:"skip",snap:A==="dotted"?4:void 0,forceSolid:r});return y.jsx("path",{d:`M${x.x},${x.y}L${_.x},${_.y}`,stroke:a[u].solid,strokeWidth:g,fill:"none",strokeDasharray:R,strokeDashoffset:P},`line_fg_${B}`)})]})]})}else if(A==="draw"){let S=eH(tH(o,b,g/3,g*2,2));if(C)for(const[_,B]of C)S+=`M${_.toFixed()}L${B.toFixed()}`;const x=eH(tH(o,b,0,g*2,1));return y.jsxs(y.Fragment,{children:[y.jsx(ka,{theme:a,d:x,color:u,fill:c,scale:n}),y.jsx("path",{d:S,stroke:a[u].solid,strokeWidth:g,fill:"none"})]})}}}}const D_e=17*3;class e1 extends ym{canEdit(){return!0}getDefaultProps(){return{w:100,h:100,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",scale:1}}getGeometry(e){const r=Math.max(1,e.props.w),n=Math.max(1,e.props.h+e.props.growY),i=r/2,a=n/2,o=e.props.fill!=="none";let s;switch(e.props.geo){case"cloud":{s=new Ai({points:vNt(r,n,e.id,e.props.size,e.props.scale),isFilled:o});break}case"triangle":{s=new Ai({points:[new k(i,0),new k(r,n),new k(0,n)],isFilled:o});break}case"diamond":{s=new Ai({points:[new k(i,0),new k(r,a),new k(i,n),new k(0,a)],isFilled:o});break}case"pentagon":{s=new Ai({points:Fk(r,n,5),isFilled:o});break}case"hexagon":{s=new Ai({points:Fk(r,n,6),isFilled:o});break}case"octagon":{s=new Ai({points:Fk(r,n,8),isFilled:o});break}case"ellipse":{s=new QRt({width:r,height:n,isFilled:o});break}case"oval":{s=new HRt({width:r,height:n,isFilled:o});break}case"star":{const b=nn/5/2,C=Math.floor(5/4)*2,S=5*2-C,x=0,_=Math.floor(5/2)*2,B=Math.cos(-bn+C*b)*r/2,T=Math.cos(-bn+S*b)*r/2,R=Math.sin(-bn+x*b)*n/2,P=Math.sin(-bn+_*b)*n/2,M=r-Math.abs(B-T),U=n-Math.abs(P-R),F=r/2+T-(r/2-B),j=n/2+R-(n/2-P),L=1,$=(r-F)/2,Q=(n-j)/2,H=(r+M)/2,q=(n+U)/2,Y=H*L/2,z=q*L/2;s=new Ai({points:Array.from(Array(5*2)).map((V,X)=>{const ee=-bn+X*b;return new k($+(X%2?Y:H)*Math.cos(ee),Q+(X%2?z:q)*Math.sin(ee))}),isFilled:o});break}case"rhombus":{const w=Math.min(r*.38,n*.38);s=new Ai({points:[new k(w,0),new k(r,0),new k(r-w,n),new k(0,n)],isFilled:o});break}case"rhombus-2":{const w=Math.min(r*.38,n*.38);s=new Ai({points:[new k(0,0),new k(r-w,0),new k(r,n),new k(w,n)],isFilled:o});break}case"trapezoid":{const w=Math.min(r*.38,n*.38);s=new Ai({points:[new k(w,0),new k(r-w,0),new k(r,n),new k(0,n)],isFilled:o});break}case"arrow-right":{const w=Math.min(r,n)*.38,b=n*.16;s=new Ai({points:[new k(0,b),new k(r-w,b),new k(r-w,0),new k(r,n/2),new k(r-w,n),new k(r-w,n-b),new k(0,n-b)],isFilled:o});break}case"arrow-left":{const w=Math.min(r,n)*.38,b=n*.16;s=new Ai({points:[new k(w,0),new k(w,b),new k(r,b),new k(r,n-b),new k(w,n-b),new k(w,n),new k(0,n/2)],isFilled:o});break}case"arrow-up":{const w=r*.16,b=Math.min(r,n)*.38;s=new Ai({points:[new k(r/2,0),new k(r,b),new k(r-w,b),new k(r-w,n),new k(w,n),new k(w,b),new k(0,b)],isFilled:o});break}case"arrow-down":{const w=r*.16,b=Math.min(r,n)*.38;s=new Ai({points:[new k(w,0),new k(r-w,0),new k(r-w,n-b),new k(r,n-b),new k(r/2,n),new k(0,n-b),new k(w,n-b)],isFilled:o});break}case"check-box":case"x-box":case"rectangle":{s=new Qu({width:r,height:n,isFilled:o});break}case"heart":{const b=Y6(r,n).reduce((C,S)=>(C.push(...S.vertices),C),[]);s=new Ai({points:b,isFilled:o});break}default:Pi(e.props.geo)}const l=hx(this.editor,e),u=r/e.props.scale,c=n/e.props.scale,A=Math.min(100,u/2),d=Math.min(qc[e.props.size]*Wa.lineHeight+Ls*2,c/2),f=Math.min(u,Math.max(l.w,Math.min(A,Math.max(1,u-8)))),p=Math.min(c,Math.max(l.h,Math.min(d,Math.max(1,c-8)))),g=nH(e.props,Ka[e.props.size]*e.props.scale),m=g?g.map(w=>new gm({points:w})):[];return new tl({children:[s,new Qu({x:e.props.align==="start"?0:e.props.align==="end"?(u-f)*e.props.scale:(u-f)/2*e.props.scale,y:e.props.verticalAlign==="start"?0:e.props.verticalAlign==="end"?(c-p)*e.props.scale:(c-p)/2*e.props.scale,width:f*e.props.scale,height:p*e.props.scale,isFilled:!0,isLabel:!0}),...m]})}getHandleSnapGeometry(e){const r=this.getGeometry(e),n=r.children[0];switch(e.props.geo){case"arrow-down":case"arrow-left":case"arrow-right":case"arrow-up":case"check-box":case"diamond":case"hexagon":case"octagon":case"pentagon":case"rectangle":case"rhombus":case"rhombus-2":case"star":case"trapezoid":case"triangle":case"x-box":return{outline:n,points:[...n.getVertices(),r.bounds.center]};case"cloud":case"ellipse":case"heart":case"oval":return{outline:n,points:[r.bounds.center]};default:Pi(e.props.geo)}}getText(e){return e.props.text}onEditEnd(e){const{id:r,type:n,props:{text:i}}=e;i.trimEnd()!==e.props.text&&this.editor.updateShapes([{id:r,type:n,props:{text:i.trimEnd()}}])}component(e){const{id:r,type:n,props:i}=e,{fill:a,font:o,align:s,verticalAlign:l,size:u,text:c}=i,A=ll(),{editor:d}=this,f=Ce("isGeoOnlySelected",()=>e.id===d.getOnlySelectedShapeId(),[]),g=d.getEditingShapeId()!==null||e.props.text,m=Ce("force solid",()=>d.getZoomLevel()<.2,[d]);return y.jsxs(y.Fragment,{children:[y.jsx(pd,{children:y.jsx(U_e,{shape:e,shouldScale:!0,forceSolid:m})}),g&&y.jsx(sd,{style:{overflow:"hidden",width:e.props.w,height:e.props.h+i.growY},children:y.jsx(lB,{shapeId:r,type:n,font:o,fontSize:qc[u]*e.props.scale,lineHeight:Wa.lineHeight,padding:Ls*e.props.scale,fill:a,align:s,verticalAlign:l,text:c,isSelected:f,labelColor:A[i.labelColor].solid,wrap:!0})}),e.props.url&&y.jsx(Rg,{url:e.props.url})]})}indicator(e){const{id:r,props:n}=e,{w:i,size:a}=n,o=n.h+n.growY,s=Ka[a],l=this.editor.getShapeGeometry(e);switch(n.geo){case"ellipse":return n.dash==="draw"?y.jsx("path",{d:hNt(r,i,o,s)}):y.jsx("path",{d:l.getSvgPathData(!0)});case"heart":return y.jsx("path",{d:TQe(i,o)});case"oval":return y.jsx("path",{d:l.getSvgPathData(!0)});case"cloud":return y.jsx("path",{d:rH(i,o,r,a,e.props.scale)});default:{const u=this.editor.getShapeGeometry(e),c=u instanceof tl?u.children[0].vertices:u.vertices;let A;if(n.dash==="draw"){const f=tH(r,c,0,s*2*e.props.scale,1);A=eH(f)}else A="M"+c[0]+"L"+c.slice(1)+"Z";const d=nH(e.props,s);if(d)for(const[f,p]of d)A+=`M${f.x},${f.y}L${p.x},${p.y}`;return y.jsx("path",{d:A})}}}toSvg(e,r){const n={...e,props:{...e.props,w:e.props.w/e.props.scale,h:e.props.h/e.props.scale}},i=n.props;r.addExportDef(q6(i.fill));let a;if(i.text){r.addExportDef(oB(i.font));const o=oA(r),s=new Ze(0,0,i.w,i.h+i.growY);a=y.jsx(sB,{fontSize:qc[i.size],font:i.font,align:i.align,verticalAlign:i.verticalAlign,text:i.text,labelColor:o[i.labelColor].solid,bounds:s,padding:16})}return y.jsxs(y.Fragment,{children:[y.jsx(U_e,{shouldScale:!1,shape:n,forceSolid:!1}),a]})}getCanvasSvgDefs(){return[K6()]}onResize(e,{handle:r,newPoint:n,scaleX:i,scaleY:a,initialShape:o}){const s=o.props.w/o.props.scale,l=o.props.h/o.props.scale,u=o.props.growY/o.props.scale;let c=s*i,A=(l+u)*a,d=0,f=0;const p=D_e;if(e.props.text.trim()){let S=Math.max(Math.abs(c),p),x=Math.max(Math.abs(A),p);S<p&&x===p&&(S=p),S===p&&x<p&&(x=p);const _=hx(this.editor,{...e,props:{...e.props,w:S*e.props.scale,h:x*e.props.scale}}),B=Math.max(Math.abs(c),_.w)*Math.sign(c),T=Math.max(Math.abs(A),_.h)*Math.sign(A);d=Math.abs(B)-Math.abs(c),f=Math.abs(T)-Math.abs(A),c=B,A=T}const g=c*e.props.scale,m=A*e.props.scale,w=new k(0,0);i<0&&(w.x+=g),(r==="left"||r==="top_left"||r==="bottom_left")&&(w.x+=i<0?d:-d),a<0&&(w.y+=m),(r==="top"||r==="top_left"||r==="top_right")&&(w.y+=a<0?f:-f);const{x:b,y:C}=w.rot(e.rotation).add(n);return{x:b,y:C,props:{w:Math.max(Math.abs(g),1),h:Math.max(Math.abs(m),1),growY:0}}}onBeforeCreate(e){if(!e.props.text)return e.props.growY?{...e,props:{...e.props,growY:0}}:void 0;const r=e.props.h/e.props.scale,n=hx(this.editor,e).h;let i=null;if(n>r?i=n-r:e.props.growY&&(i=0),i!==null)return{...e,props:{...e.props,growY:i*e.props.scale}}}onBeforeUpdate(e,r){const n=e.props.text,i=r.props.text;if(n===i&&e.props.font===r.props.font&&e.props.size===r.props.size)return;if(n&&!i)return{...r,props:{...r.props,growY:0}};const a=e.props.w/e.props.scale,o=e.props.h/e.props.scale,s=e.props.growY/e.props.scale,l=hx(this.editor,r);if(!n&&i&&i.length===1){let c=Math.max(a,l.w),A=Math.max(o,l.h);const d=D_e;return a<d&&o<d&&(c=Math.max(c,d),A=Math.max(A,d),c=Math.max(c,A),A=Math.max(c,A)),{...r,props:{...r.props,w:c*r.props.scale,h:A*r.props.scale,growY:0}}}let u=null;if(l.h>o?u=l.h-o:s&&(u=0),u!==null){const c=r.props.w/r.props.scale;return{...r,props:{...r.props,growY:u*r.props.scale,w:Math.max(c,l.w)*r.props.scale}}}if(l.w>a)return{...r,props:{...r.props,w:l.w*r.props.scale}}}onDoubleClick(e){if(this.editor.inputs.altKey)switch(e.props.geo){case"rectangle":return{...e,props:{geo:"check-box"}};case"check-box":return{...e,props:{geo:"rectangle"}}}}getInterpolatedProps(e,r,n){return{...n>.5?r.props:e.props,w:wr(e.props.w,r.props.w,n),h:wr(e.props.h,r.props.h,n),scale:wr(e.props.scale,r.props.scale,n)}}}K(e1,"type","geo"),K(e1,"props",B2e),K(e1,"migrations",P2e);function hx(t,e){const{text:r,font:n,size:i,w:a}=e.props;if(!r)return{w:0,h:0};const o=t.textMeasure.measureText("w",{...Wa,fontFamily:eA[n],fontSize:qc[i],maxWidth:100}),s={s:2,m:3.5,l:5,xl:10},l=t.textMeasure.measureText(r,{...Wa,fontFamily:eA[n],fontSize:qc[i],minWidth:o.w,maxWidth:Math.max(0,Math.ceil(o.w+s[i]),Math.ceil(a/e.props.scale-Ls*2))});return{w:l.w+Ls*2,h:l.h+Ls*2}}function xNt(){const[t,e]=I.useState(!1);return I.useEffect(()=>{const n=CSS.supports("color","color(display-p3 1 1 1)"),i=matchMedia("(color-gamut: p3)");e(n&&i.matches);const a=()=>e(n&&i.matches);return i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[]),Ce(fi.forceSrgb)||!t?"srgb":"p3"}class t1 extends Ul{constructor(){super(...arguments);K(this,"options",{maxPointsPerShape:600,underlayOpacity:.82,overlayOpacity:.35})}hideResizeHandles(r){return px(r)}hideRotateHandle(r){return px(r)}hideSelectionBoundsFg(r){return px(r)}getDefaultProps(){return{segments:[],color:"black",size:"m",isComplete:!1,isPen:!1,scale:1}}getGeometry(r){const n=yf(r);if(px(r))return new Vq({x:-n/2,y:-n/2,radius:n/2,isFilled:!0});const{strokePoints:i,sw:a}=j_e(r,n,!0),o=G6({strokeWidth:a,showAsComplete:!0});return iB(i,o),new Ai({points:N6(i,o),isFilled:!0})}component(r){const n=CN(this.editor,r),i=yf(r);return y.jsx(pd,{children:y.jsx(gx,{shape:r,forceSolid:n,strokeWidth:i,opacity:this.options.overlayOpacity})})}backgroundComponent(r){const n=CN(this.editor,r),i=yf(r);return y.jsx(pd,{children:y.jsx(gx,{shape:r,forceSolid:n,strokeWidth:i,opacity:this.options.underlayOpacity})})}indicator(r){const n=CN(this.editor,r),i=yf(r),{strokePoints:a,sw:o}=j_e(r,i,n),s=Mg(r.props.segments);let l;return a.length<2?l=_Nt(s[0],o):l=eh(a,!1),y.jsx("path",{d:l})}toSvg(r){const n=yf(r),i=n<1.5,a=1/r.props.scale;return y.jsx("g",{transform:`scale(${a})`,children:y.jsx(gx,{forceSolid:i,strokeWidth:n,shape:r,opacity:this.options.overlayOpacity})})}toBackgroundSvg(r){const n=yf(r),i=n<1.5,a=1/r.props.scale;return y.jsx("g",{transform:`scale(${a})`,children:y.jsx(gx,{forceSolid:i,strokeWidth:n,shape:r,opacity:this.options.underlayOpacity})})}onResize(r,n){const{scaleX:i,scaleY:a}=n,o=[];for(const s of r.props.segments)o.push({...s,points:s.points.map(({x:l,y:u,z:c})=>({x:i*l,y:a*u,z:c}))});return{props:{segments:o}}}getInterpolatedProps(r,n,i){return{...i>.5?n.props:r.props,...n.props,segments:EQe(r.props.segments,n.props.segments,i),scale:wr(r.props.scale,n.props.scale,i)}}}K(t1,"type","highlight"),K(t1,"props",R2e),K(t1,"migrations",M2e);function CNt(t){return`M ${t.x} ${t.y} m -${.1}, 0 a ${.1},${.1} 0 1,0 ${.1*2},0 a ${.1},${.1} 0 1,0 -${.1*2},0`}function _Nt(t,e){const r=e/2;return`M ${t.x} ${t.y} m -${r}, 0 a ${r},${r} 0 1,0 ${r*2},0 a ${r},${r} 0 1,0 -${r*2},0`}function j_e(t,e,r){var l;const n=Mg(t.props.segments),i=t.props.isComplete||((l=Aa(t.props.segments))==null?void 0:l.type)==="straight";let a=e;!r&&!t.props.isPen&&n.length===1&&(a+=Wl(t.id)()*(e/6));const o=G6({strokeWidth:a,showAsComplete:i});return{strokePoints:Ku(n,o),sw:a}}function yf(t){return Tg[t.props.size]*1.12*t.props.scale}function px(t){return t.props.segments.length===1&&t.props.segments[0].points.length<2}function gx({strokeWidth:t,forceSolid:e,shape:r,opacity:n}){var d;const i=ll(),a=Mg(r.props.segments);let o=t;!e&&!r.props.isPen&&a.length===1&&(o+=Wl(r.id)()*(o/6));const s=G6({strokeWidth:o,showAsComplete:r.props.isComplete||((d=Aa(r.props.segments))==null?void 0:d.type)==="straight"}),l=Ku(a,s),u=l.length>1?eh(l,!1):CNt(r.props.segments[0].points[0]),c=xNt(),A=i[r.props.color].highlight[c];return y.jsx("path",{d:u,strokeLinecap:"round",fill:"none",pointerEvents:"all",stroke:A,strokeWidth:o,opacity:n})}function CN(t,e){return Ce("forceSolid",()=>{const r=yf(e),n=t.getZoomLevel();return r/n<1.5},[t])}function OQe(){return y.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3,11 L3,3 11,3",strokeWidth:"2"}),y.jsx("path",{d:"M19,27 L27,27 L27,19",strokeWidth:"2"}),y.jsx("path",{d:"M27,3 L3,27",strokeWidth:"2"})]})}const L_e=8;function ENt(){return{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}}}function kw(t,e){if(!e)return{w:t.w,h:t.h};const r=t.w/(e.bottomRight.x-e.topLeft.x),n=t.h/(e.bottomRight.y-e.topLeft.y);return{w:r,h:n}}function INt(t,e,r={}){const{handle:n,change:i,crop:a}=e,{w:o,h:s}=e.uncroppedSize,{minWidth:l=L_e,minHeight:u=L_e}=r,c=On(a),A=new k(t.x,t.y),d=new k(0,0);let f=!1;switch(n){case"top":case"top_left":case"top_right":{if(s<u)break;f=!0,c.topLeft.y=c.topLeft.y+i.y/s,s*(c.bottomRight.y-c.topLeft.y)<u?(c.topLeft.y=c.bottomRight.y-u/s,d.y=(c.topLeft.y-a.topLeft.y)*s):c.topLeft.y<=0?(c.topLeft.y=0,d.y=(c.topLeft.y-a.topLeft.y)*s):d.y=i.y;break}case"bottom":case"bottom_left":case"bottom_right":{if(s<u)break;f=!0,c.bottomRight.y=Math.min(1,c.bottomRight.y+i.y/s),s*(c.bottomRight.y-c.topLeft.y)<u&&(c.bottomRight.y=c.topLeft.y+u/s);break}}switch(n){case"left":case"top_left":case"bottom_left":{if(o<l)break;f=!0,c.topLeft.x=c.topLeft.x+i.x/o,o*(c.bottomRight.x-c.topLeft.x)<l?(c.topLeft.x=c.bottomRight.x-l/o,d.x=(c.topLeft.x-a.topLeft.x)*o):c.topLeft.x<=0?(c.topLeft.x=0,d.x=(c.topLeft.x-a.topLeft.x)*o):d.x=i.x;break}case"right":case"top_right":case"bottom_right":{if(o<l)break;f=!0,c.bottomRight.x=Math.min(1,c.bottomRight.x+i.x/o),o*(c.bottomRight.x-c.topLeft.x)<l&&(c.bottomRight.x=c.topLeft.x+l/o);break}}if(f)return A.add(d.rot(t.rotation)),{id:t.id,type:t.type,x:A.x,y:A.y,props:{w:(c.bottomRight.x-c.topLeft.x)*o,h:(c.bottomRight.y-c.topLeft.y)*s,crop:c}}}function RQe({shapeId:t,assetId:e,width:r}){const n=we(),i=Fb(),a=XPt(),[o,s]=I.useState(()=>({asset:e?n.getAsset(e)??null:null,url:null})),l=I.useRef(!1),u=I.useRef(null);return I.useEffect(()=>{if(!e)return;let c=!1,A;const d=ku("update state",()=>{if(!i&&t&&n.getCulledShapes().has(t))return;const f=n.getAsset(e);if(!f)return;if(!f.props.src){const m=n.getTemporaryAssetPreview(f.id);if(m){u.current!==m&&(u.current=m,s(w=>({...w,isPlaceholder:!0,url:m})),a());return}}const p=i?i.scale*(r/f.props.w):n.getZoomLevel()*(r/f.props.w);function g(m,w){c||u.current!==w&&(l.current=!0,u.current=w,s({asset:m,url:w}),a())}if(l.current){let m=0;const w=()=>{m++,m>500/16&&(N_e(n,e,p,i,b=>g(f,b)),A==null||A())};A==null||A(),n.on("tick",w),A=()=>n.off("tick",w)}else N_e(n,e,p,i,m=>g(f,m))});return()=>{d(),A==null||A(),c=!0}},[n,e,i,a,t,r]),o}function N_e(t,e,r,n,i){t.resolveAssetUrl(e,{screenScale:r,shouldResolveToOriginal:n?n.pixelRatio===null:!1,dpr:(n==null?void 0:n.pixelRatio)??void 0}).then(a=>{i(a)})}async function BNt(t){const r=await(await Lu(t)).blob();return zs.blobToDataUrl(r)}const PNt=new zl;class r1 extends ym{isAspectRatioLocked(){return!0}canCrop(){return!0}getDefaultProps(){return{w:100,h:100,assetId:null,playing:!0,url:"",crop:null,flipX:!1,flipY:!1}}onResize(e,r){let n=FI(e,r);const{flipX:i,flipY:a}=r.initialShape.props,{scaleX:o,scaleY:s,mode:l}=r;if(n={...n,props:{...n.props,flipX:o<0!==i,flipY:s<0!==a}},!e.props.crop)return n;const u=l==="scale_shape"&&o===-1||l==="resize_bounds"&&i!==n.props.flipX,c=l==="scale_shape"&&s===-1||l==="resize_bounds"&&a!==n.props.flipY,{topLeft:A,bottomRight:d}=e.props.crop;return n.props.crop={topLeft:{x:u?1-d.x:A.x,y:c?1-d.y:A.y},bottomRight:{x:u?1-A.x:d.x,y:c?1-A.y:d.y}},n}component(e){return y.jsx(TNt,{shape:e})}indicator(e){return this.editor.getCroppingShapeId()===e.id?null:y.jsx("rect",{width:ye(e.props.w),height:ye(e.props.h)})}async toSvg(e,r){if(!e.props.assetId)return null;const n=this.editor.getAsset(e.props.assetId);if(!n)return null;const{w:i}=kw(e.props,e.props.crop),a=await PNt.get(n,async()=>{let o=await r.resolveAssetUrl(n.id,i);if(!o)return null;if((o.startsWith("blob:")||o.startsWith("http")||o.startsWith("/")||o.startsWith("./"))&&(o=await BNt(o)||""),MQe(this.editor,n.id)){const{promise:s}=kQe(o);o=await s}return o});return a?y.jsx(ONt,{shape:e,src:a}):null}onDoubleClickEdge(e){const r=e.props;if(!r||this.editor.getCroppingShapeId()!==e.id)return;const n=On(r.crop)||{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},{w:i,h:a}=kw(e.props,n),o=new k(n.topLeft.x*i,n.topLeft.y*a).rot(e.rotation),s={id:e.id,type:e.type,x:e.x-o.x,y:e.y-o.y,props:{crop:{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},w:i,h:a}};this.editor.updateShapes([s])}getInterpolatedProps(e,r,n){function i(a,o){var A,d,f,p;if(a.props.crop===null&&o.props.crop===null)return null;const s=((A=a.props.crop)==null?void 0:A.topLeft)||{x:0,y:0},l=((d=a.props.crop)==null?void 0:d.bottomRight)||{x:1,y:1},u=((f=o.props.crop)==null?void 0:f.topLeft)||{x:0,y:0},c=((p=o.props.crop)==null?void 0:p.bottomRight)||{x:1,y:1};return{topLeft:{x:wr(s.x,u.x,n),y:wr(s.y,u.y,n)},bottomRight:{x:wr(l.x,c.x,n),y:wr(l.y,c.y,n)}}}return{...n>.5?r.props:e.props,w:wr(e.props.w,r.props.w,n),h:wr(e.props.h,r.props.h,n),crop:i(e,r)}}}K(r1,"type","image"),K(r1,"props",F2e),K(r1,"migrations",k2e);const TNt=I.memo(function({shape:e}){var b;const r=we(),{w:n}=kw(e.props,e.props.crop),{asset:i,url:a}=RQe({shapeId:e.id,assetId:e.props.assetId,width:n}),o=dLe(),[s,l]=I.useState(""),[u,c]=I.useState(null),A=i&&MQe(r,i.id);I.useEffect(()=>{if(a&&A){const{promise:C,cancel:S}=kQe(a);return C.then(x=>{l(x),c(a)}),()=>{S()}}},[r,A,o,a]);const d=Ce("show crop preview",()=>e.id===r.getOnlySelectedShapeId()&&r.getCroppingShapeId()===e.id&&r.isIn("select.crop"),[r,e.id]),f=o&&(((b=i==null?void 0:i.props.mimeType)==null?void 0:b.includes("video"))||A),p=FQe(e),g=a===u?null:a,m=f?s:u;if(!a&&!(i!=null&&i.props.src))return y.jsxs(sd,{id:e.id,style:{overflow:"hidden",width:e.props.w,height:e.props.h,color:"var(--color-text-3)",backgroundColor:"var(--color-low)",border:"1px solid var(--color-low-border)"},children:[y.jsx("div",{className:Mt("tl-image-container",i&&"tl-image-container-loading"),style:p,children:i?null:y.jsx(OQe,{})}),"url"in e.props&&e.props.url&&y.jsx(Rg,{url:e.props.url})]});const w=A?"anonymous":void 0;return y.jsxs(y.Fragment,{children:[d&&m&&y.jsx("div",{style:p,children:y.jsx("img",{className:"tl-image",style:{...Ey(e),opacity:.1},crossOrigin:w,src:m,referrerPolicy:"strict-origin-when-cross-origin",draggable:!1})}),y.jsxs(sd,{id:e.id,style:{overflow:"hidden",width:e.props.w,height:e.props.h},children:[y.jsxs("div",{className:Mt("tl-image-container"),style:p,children:[m&&y.jsx("img",{className:"tl-image",style:Ey(e),crossOrigin:w,src:m,referrerPolicy:"strict-origin-when-cross-origin",draggable:!1},m),g&&y.jsx("img",{className:"tl-image",style:Ey(e),crossOrigin:w,src:g,referrerPolicy:"strict-origin-when-cross-origin",draggable:!1,onLoad:()=>c(g)},g)]}),e.props.url&&y.jsx(Rg,{url:e.props.url})]})]})});function MQe(t,e){const r=e?t.getAsset(e):void 0;return r?"mimeType"in r.props&&ss.isAnimatedImageType(r==null?void 0:r.props.mimeType)||"isAnimated"in r.props&&r.props.isAnimated:!1}function FQe(t){const e=t.props.crop,r=e==null?void 0:e.topLeft;if(!r)return{width:t.props.w,height:t.props.h};const{w:n,h:i}=kw(t.props,e),a=-r.x*n,o=-r.y*i;return{transform:`translate(${a}px, ${o}px)`,width:n,height:i}}function Ey(t,e){const{flipX:r,flipY:n}=t.props;if(!r&&!n)return;const i=`scale(${r?-1:1}, ${n?-1:1})`;return{transform:`${e?`translate(${r?e.width:0}px, ${n?e.height:0}px)`:""} ${i}`,transformOrigin:e?"0 0":"center center"}}function ONt({shape:t,src:e}){const r=im(),n=FQe(t),i=t.props.crop;if(n.transform&&i){const{transform:a,width:o,height:s}=n,l=(i.bottomRight.x-i.topLeft.x)*o,u=(i.bottomRight.y-i.topLeft.y)*s,c=[new k(0,0),new k(l,0),new k(l,u),new k(0,u)],A=Ey(t,{width:o,height:s});return y.jsxs(y.Fragment,{children:[y.jsx("defs",{children:y.jsx("clipPath",{id:r,children:y.jsx("polygon",{points:c.map(d=>`${d.x},${d.y}`).join(" ")})})}),y.jsx("g",{clipPath:`url(#${r})`,children:y.jsx("image",{href:e,width:o,height:s,style:A?{...A,transform:`${a} ${A.transform}`}:{transform:a}})})]})}else return y.jsx("image",{href:e,width:t.props.w,height:t.props.h,style:Ey(t,{width:t.props.w,height:t.props.h})})}function kQe(t){let e=!1;return{promise:new Promise(n=>{const i=Sw();i.onload=()=>{if(e)return;const a=document.createElement("canvas");a.width=i.width,a.height=i.height;const o=a.getContext("2d");o&&(o.drawImage(i,0,0),n(a.toDataURL()))},i.crossOrigin="anonymous",i.src=t}),cancel:()=>e=!0}}function UQe(t){return{size:t,thinning:.4,streamline:0,smoothing:.5,simulatePressure:!0,last:!0}}function DQe(t,e,r){const n=e.vertices,i=UQe(r);return Ku(n,i)}function RNt(t,e,r){const n=UQe(r);return N6(iB(DQe(t,e,r),n),n)}function MNt(t,e,r){const n=RNt(t,e,r);return X5(n)}function FNt(t,e,r){if(t.props.dash==="draw"){const n=DQe(t,e,r);return eh(n)}return e.getSvgPathData()}function jQe(t,e,r){let n=`M ${Fr(e[0])}L`,i=`M ${Fr(e[0])}L`;const a=r/3,o=r*2,s=Wl(t);let l=e[0],u,c=e[0],A;const d=e.length;for(let f=0,p=d-1;f<p;f++){u=e[f+1],A=k.AddXY(e[f+1],s()*a,s()*a);const g=k.Sub(u,l),m=k.Len(g),w=k.Div(g,m).mul(Math.min(m/4,o)),b=k.Add(l,w),C=k.Add(u,w.neg()),S=k.Sub(A,c),x=k.Len(S),_=k.Div(S,x).mul(Math.min(x/4,o)),B=k.Add(c,_),T=k.Add(A,_.neg());f===p-1?(n+=`${Fr(b)}L ${Fr(u)}`,i+=`${Fr(B)}L ${Fr(A)}`):(n+=`${Fr(b)}L ${Fr(C)}Q ${Fr(u)}`,i+=`${Fr(B)}L ${Fr(T)}Q ${Fr(A)}`,l=u,c=A)}return[n,n+i]}const kNt=new zl;class n1 extends Ul{hideResizeHandles(){return!0}hideRotateHandle(){return!0}hideSelectionBoundsFg(){return!0}hideSelectionBoundsBg(){return!0}getDefaultProps(){const[e,r]=Cw(2);return{dash:"draw",size:"m",color:"black",spline:"line",points:{[e]:{id:e,index:e,x:0,y:0},[r]:{id:r,index:r,x:.1,y:.1}},scale:1}}getGeometry(e){return oy(e)}getHandles(e){return kNt.get(e.props,()=>{const r=oy(e),n=ay(e),i=n.map(a=>({...a,id:a.index,type:"vertex",canSnap:!0}));for(let a=0;a<n.length-1;a++){const o=xw(n[a].index,n[a+1].index),l=r.segments[a].midPoint();i.push({id:o,type:"create",index:o,x:l.x,y:l.y,canSnap:!0})}return i.sort(Qa)})}onResize(e,r){const{scaleX:n,scaleY:i}=r;return{props:{points:ub(e.props.points,(a,{id:o,index:s,x:l,y:u})=>({id:o,index:s,x:l*n,y:u*i}))}}}onBeforeCreate(e){const{props:{points:r}}=e,n=Object.keys(r);if(n.length<2)return;const i=r[n[0]];if(n.every(o=>{const s=r[o];return s.x===i.x&&s.y===i.y})){const o=n[n.length-1];return r[o]={...r[o],x:r[o].x+.1,y:r[o].y+.1},e}}onHandleDrag(e,{handle:r}){if(r.type!=="vertex")return;const n=Ll(new k(r.x,r.y),this.editor);return{...e,props:{...e.props,points:{...e.props.points,[r.id]:{id:r.id,index:r.index,x:n.x,y:n.y}}}}}component(e){return y.jsx(pd,{style:{minWidth:50,minHeight:50},children:y.jsx($_e,{shape:e})})}indicator(e){const r=Tu[e.props.size]*e.props.scale,n=oy(e),{dash:i}=e.props;let a;if(e.props.spline==="line"){const o=n.points;if(i==="solid"||i==="dotted"||i==="dashed")a="M"+o[0]+"L"+o.slice(1);else{const[s]=jQe(e.id,o,r);a=s}}else a=FNt(e,n,r);return y.jsx("path",{d:a})}toSvg(e){return y.jsx($_e,{shouldScale:!0,shape:e})}getHandleSnapGeometry(e){const r=ay(e);return{points:r,getSelfSnapPoints:n=>{const i=this.getHandles(e).filter(a=>a.type==="vertex").findIndex(a=>a.id===n.id);return r.filter((a,o)=>Math.abs(o-i)>1).map(k.From)},getSelfSnapOutline:n=>{const i=this.getHandles(e).filter(o=>o.type==="vertex").findIndex(o=>o.id===n.id),a=oy(e).segments.filter((o,s)=>s!==i-1&&s!==i);return a.length?new tl({children:a}):null}}}getInterpolatedProps(e,r,n){const i=ay(e),a=ay(r),o=[],s=[];let l=dRe;if(i.length>a.length)for(let u=0;u<i.length;u++)o[u]={...i[u]},a[u]===void 0?s[u]={...a[a.length-1],id:l}:s[u]={...a[u],id:l},l=Iu(l);else if(a.length>i.length)for(let u=0;u<a.length;u++)s[u]={...a[u]},i[u]===void 0?o[u]={...i[i.length-1],id:l}:o[u]={...i[u],id:l},l=Iu(l);else for(let u=0;u<a.length;u++)o[u]=i[u],s[u]=a[u];return{...n>.5?r.props:e.props,points:Object.fromEntries(o.map((u,c)=>{const A=s[c];return[u.id,{...u,x:wr(u.x,A.x,n),y:wr(u.y,A.y,n)}]})),scale:wr(e.props.scale,r.props.scale,n)}}}K(n1,"type","line"),K(n1,"props",U2e),K(n1,"migrations",D2e);function ay(t){return Object.values(t.props.points).sort(Qa)}function oy(t){const e=ay(t).map(k.From);switch(t.props.spline){case"cubic":return new $Rt({points:e});case"line":return new gm({points:e})}}function $_e({shape:t,shouldScale:e=!1,forceSolid:r=!1}){const n=ll(),i=oy(t),{dash:a,color:o,size:s}=t.props,l=1/t.props.scale,u=e?l:1,c=Tu[s]*t.props.scale;if(t.props.spline==="line"){if(a==="solid"){const A=i.points,d="M"+A[0]+"L"+A.slice(1);return y.jsx("path",{d,stroke:n[o].solid,strokeWidth:c,fill:"none",transform:`scale(${u})`})}if(a==="dashed"||a==="dotted")return y.jsx("g",{stroke:n[o].solid,strokeWidth:c,transform:`scale(${u})`,children:i.segments.map((A,d)=>{const{strokeDasharray:f,strokeDashoffset:p}=r?{strokeDasharray:"none",strokeDashoffset:"none"}:Bl(A.length,c,{style:a,start:d>0?"outset":"none",end:d<i.segments.length-1?"outset":"none"});return y.jsx("path",{strokeDasharray:f,strokeDashoffset:p,d:A.getSvgPathData(!0),fill:"none"},d)})});if(a==="draw"){const A=i.points,[d,f]=jQe(t.id,A,c);return y.jsx("path",{d:f,stroke:n[o].solid,strokeWidth:c,fill:"none",transform:`scale(${u})`})}}if(t.props.spline==="cubic"){const A=i.getSvgPathData();if(a==="solid")return y.jsx("path",{strokeWidth:c,stroke:n[o].solid,fill:"none",d:A,transform:`scale(${u})`});if(a==="dashed"||a==="dotted")return y.jsx("g",{stroke:n[o].solid,strokeWidth:c,transform:`scale(${u})`,children:i.segments.map((d,f)=>{const{strokeDasharray:p,strokeDashoffset:g}=Bl(d.length,c,{style:a,start:f>0?"outset":"none",end:f<i.segments.length-1?"outset":"none",forceSolid:r});return y.jsx("path",{strokeDasharray:p,strokeDashoffset:g,d:d.getSvgPathData(),fill:"none"},f)})});if(a==="draw")return y.jsx("path",{d:MNt(t,i,c),strokeWidth:1,stroke:n[o].solid,fill:n[o].solid,transform:`scale(${u})`})}}class i1 extends Ul{constructor(){super(...arguments);K(this,"options",{resizeMode:"none"})}canEdit(){return!0}hideResizeHandles(){const{resizeMode:r}=this.options;switch(r){case"none":return!0;case"scale":return!1;default:throw Pi(r)}}isAspectRatioLocked(){return this.options.resizeMode==="scale"}hideSelectionBoundsFg(){return!1}getDefaultProps(){return{color:"black",size:"m",text:"",font:"draw",align:"middle",verticalAlign:"middle",labelColor:"black",growY:0,fontSizeAdjustment:0,url:"",scale:1}}getGeometry(r){const{labelHeight:n,labelWidth:i}=LQe(this.editor,r),{scale:a}=r.props,o=n*a,s=i*a,l=en*a,u=mx(r);return new tl({children:[new Qu({width:l,height:u,isFilled:!0}),new Qu({x:r.props.align==="start"?0:r.props.align==="end"?l-s:(l-s)/2,y:r.props.verticalAlign==="start"?0:r.props.verticalAlign==="end"?u-o:(u-o)/2,width:s,height:o,isFilled:!0,isLabel:!0})]})}getHandles(r){const{scale:n}=r.props;if(this.editor.getInstanceState().isCoarsePointer)return[];const a=this.editor.getZoomLevel();if(a*n<.25)return[];const o=mx(r),s=en*n,l=Jjt/a*n;return a*n<.5?[{id:"bottom",index:"a3",type:"clone",x:s/2,y:o+l}]:[{id:"top",index:"a1",type:"clone",x:s/2,y:-l},{id:"right",index:"a2",type:"clone",x:s+l,y:o/2},{id:"bottom",index:"a3",type:"clone",x:s/2,y:o+l},{id:"left",index:"a4",type:"clone",x:-l,y:o/2}]}onResize(r,n){const{resizeMode:i}=this.options;switch(i){case"none":return;case"scale":return GRe(r,n);default:throw Pi(i)}}getText(r){return r.props.text}component(r){const{id:n,type:i,props:{labelColor:a,scale:o,color:s,font:l,size:u,align:c,text:A,verticalAlign:d,fontSizeAdjustment:f}}=r,p=jNt(n),g=ll(),m=en*o,w=mx(r),b=Ce("shape rotation",()=>{var _;return((_=this.editor.getShapePageTransform(n))==null?void 0:_.rotation())??0},[this.editor]),C=Ce("zoom",()=>this.editor.getZoomLevel()<.35/o,[o,this.editor]),S=Ce("dark mode",()=>this.editor.user.getIsDarkMode(),[this.editor]),x=r.id===this.editor.getOnlySelectedShapeId();return y.jsxs(y.Fragment,{children:[y.jsx("div",{id:n,className:"tl-note__container",style:{width:m,height:w,backgroundColor:g[s].note.fill,borderBottom:C?S?`${2*o}px solid rgb(20, 20, 20)`:`${2*o}px solid rgb(144, 144, 144)`:"none",boxShadow:C?"none":LNt(r.id,b,o)},children:y.jsx(lB,{shapeId:n,type:i,font:l,fontSize:(f||qc[u])*o,lineHeight:Wa.lineHeight,align:c,verticalAlign:d,text:A,isNote:!0,isSelected:x,labelColor:a==="black"?g[s].note.text:g[a].fill,wrap:!0,padding:16*o,onKeyDown:p})}),"url"in r.props&&r.props.url&&y.jsx(Rg,{url:r.props.url})]})}indicator(r){const{scale:n}=r.props;return y.jsx("rect",{rx:n,width:ye(en*n),height:ye(mx(r))})}toSvg(r,n){r.props.text&&n.addExportDef(oB(r.props.font));const i=oA({isDarkMode:n.isDarkMode}),a=NNt(r);return y.jsxs(y.Fragment,{children:[y.jsx("rect",{x:5,y:5,rx:1,width:en-10,height:a.h,fill:"rgba(0,0,0,.1)"}),y.jsx("rect",{rx:1,width:en,height:a.h,fill:i[r.props.color].note.fill}),y.jsx(sB,{fontSize:r.props.fontSizeAdjustment||qc[r.props.size],font:r.props.font,align:r.props.align,verticalAlign:r.props.verticalAlign,text:r.props.text,labelColor:i[r.props.color].note.text,bounds:a,stroke:!1})]})}onBeforeCreate(r){return Q_e(this.editor,r)}onBeforeUpdate(r,n){if(!(r.props.text===n.props.text&&r.props.font===n.props.font&&r.props.size===n.props.size))return Q_e(this.editor,n)}onEditEnd(r){const{id:n,type:i,props:{text:a}}=r;a.trimEnd()!==r.props.text&&this.editor.updateShapes([{id:n,type:i,props:{text:a.trimEnd()}}])}getInterpolatedProps(r,n,i){return{...i>.5?n.props:r.props,scale:wr(r.props.scale,n.props.scale,i)}}}K(i1,"type","note"),K(i1,"props",j2e),K(i1,"migrations",L2e);function Q_e(t,e){const{labelHeight:r,fontSizeAdjustment:n}=LQe(t,e),i=Math.max(0,r-en);if(i!==e.props.growY||n!==e.props.fontSizeAdjustment)return{...e,props:{...e.props,growY:i,fontSizeAdjustment:n}}}function UNt(t,e){const{text:r}=e.props;if(!r)return{labelHeight:qc[e.props.size]*Wa.lineHeight+Ls*2,labelWidth:100,fontSizeAdjustment:0};const n=qc[e.props.size];let i=0,a=0,o=en,s=en;const l=1;do{i=Math.min(n,n-a);const u=t.textMeasure.measureText(r,{...Wa,fontFamily:eA[e.props.font],fontSize:i,maxWidth:en-Ls*2-l,disableOverflowWrapBreaking:!0});if(o=u.h+Ls*2,s=u.w+Ls*2,i<=14){const c=t.textMeasure.measureText(r,{...Wa,fontFamily:eA[e.props.font],fontSize:i,maxWidth:en-Ls*2-l});o=c.h+Ls*2,s=c.w+Ls*2;break}if(u.scrollWidth.toFixed(0)===u.w.toFixed(0))break}while(a++<50);return{labelHeight:o,labelWidth:s,fontSizeAdjustment:i}}const DNt=new zl;function LQe(t,e){return DNt.get(e,()=>UNt(t,e))}function jNt(t){const e=we(),r=p$e();return I.useCallback(n=>{const i=e.getShape(t);if(!i)return;const a=n.key==="Tab",o=(n.metaKey||n.ctrlKey)&&n.key==="Enter";if(a||o){n.preventDefault();const s=e.getShapePageTransform(t),l=s.rotation(),u=!!(r.dir==="rtl"||iQe(i.props.text)),c=(en+e.options.adjacentShapeMargin+(o&&!n.shiftKey?i.props.growY:0))*i.props.scale,A=new k(a?n.shiftKey!=u?-1:1:0,o?n.shiftKey?-1:1:0).mul(c).add(aB.clone().mul(i.props.scale)).rot(l).add(s.point()),d=pQe(e,i,A,l);d&&(e.markHistoryStoppingPoint("editing adjacent shape"),n_(e,d,!0))}},[t,e,r.dir])}function mx(t){return(en+t.props.growY)*t.props.scale}function LNt(t,e,r){const n=Wl(t),i=Math.abs(n())+.5,a=Math.cos(e),o=5*r,s=4*r,l=6*r,u=7*r;return`0px ${o-i}px ${o}px -${o}px rgba(15, 23, 31, .6),
	0px ${(s+i*u)*Math.max(0,a)}px ${l+i*u}px -${s+i*l}px rgba(15, 23, 31, ${(.3+i*.1).toFixed(2)}), 
	0px ${48*r}px ${10*r}px -${10*r}px inset rgba(15, 23, 44, ${((.022+n()*.005)*((1+a)/2)).toFixed(2)})`}function NNt(t){return new Ze(0,0,en,en+t.props.growY)}const $Nt=new zl;class a1 extends Ul{constructor(){super(...arguments);K(this,"options",{extraArrowHorizontalPadding:10})}getDefaultProps(){return{color:"black",size:"m",w:8,text:"",font:"draw",textAlign:"start",autoSize:!0,scale:1}}getMinDimensions(r){return $Nt.get(r.props,n=>H_e(this.editor,n))}getGeometry(r,n){const{scale:i}=r.props,{width:a,height:o}=this.getMinDimensions(r),s=(n==null?void 0:n.context)??"none";return new Qu({x:(s==="@tldraw/arrow-start"?-this.options.extraArrowHorizontalPadding:0)*i,width:(a+(s==="@tldraw/arrow-start"?this.options.extraArrowHorizontalPadding*2:0))*i,height:o*i,isFilled:!0,isLabel:!0})}getText(r){return r.props.text}canEdit(){return!0}isAspectRatioLocked(){return!0}component(r){const{id:n,props:{font:i,size:a,text:o,color:s,scale:l,textAlign:u}}=r,{width:c,height:A}=this.getMinDimensions(r),d=r.id===this.editor.getOnlySelectedShapeId(),f=ll(),p=QNt(n);return y.jsx(lB,{shapeId:n,classNamePrefix:"tl-text-shape",type:"text",font:i,fontSize:Tg[a],lineHeight:Wa.lineHeight,align:u,verticalAlign:"middle",text:o,labelColor:f[s].solid,isSelected:d,textWidth:c,textHeight:A,style:{transform:`scale(${l})`,transformOrigin:"top left"},wrap:!0,onKeyDown:p})}indicator(r){const n=this.editor.getShapeGeometry(r).bounds,i=we();return r.props.autoSize&&i.getEditingShapeId()===r.id?null:y.jsx("rect",{width:ye(n.width),height:ye(n.height)})}toSvg(r,n){r.props.text&&n.addExportDef(oB(r.props.font));const i=this.editor.getShapeGeometry(r).bounds,a=i.width/(r.props.scale??1),o=i.height/(r.props.scale??1),s=oA(n);return y.jsx(sB,{fontSize:Tg[r.props.size],font:r.props.font,align:r.props.textAlign,verticalAlign:"middle",text:r.props.text,labelColor:s[r.props.color].solid,bounds:new Ze(0,0,a,o),padding:0})}onResize(r,n){const{newPoint:i,initialBounds:a,initialShape:o,scaleX:s,handle:l}=n;if(n.mode==="scale_shape"||l!=="right"&&l!=="left")return{id:r.id,type:r.type,...GRe(r,n)};{const u=Math.max(1,Math.abs(a.width*s)),{x:c,y:A}=s<0?k.Sub(i,k.FromAngle(r.rotation).mul(u)):i;return{id:r.id,type:r.type,x:c,y:A,props:{w:u/o.props.scale,autoSize:!1}}}}onEditEnd(r){const{id:n,type:i,props:{text:a}}=r,o=r.props.text.trimEnd();o.length===0?this.editor.deleteShapes([r.id]):o!==r.props.text&&this.editor.updateShapes([{id:n,type:i,props:{text:a.trimEnd()}}])}onBeforeUpdate(r,n){if(!n.props.autoSize)return;const i=r.props.size!==n.props.size||r.props.textAlign!==n.props.textAlign||r.props.font!==n.props.font||r.props.scale!==1&&n.props.scale===1,a=r.props.text!==n.props.text;if(!i&&!a)return;const o=this.getMinDimensions(r),s=H_e(this.editor,n.props),l=o.width*r.props.scale,u=o.height*r.props.scale,c=s.width*n.props.scale,A=s.height*n.props.scale;let d;switch(n.props.textAlign){case"middle":{d=new k((c-l)/2,a?0:(A-u)/2);break}case"end":{d=new k(c-l,a?0:(A-u)/2);break}default:{if(a)break;d=new k(0,(A-u)/2);break}}if(d){d.rot(n.rotation);const{x:f,y:p}=n;return{...n,x:f-d.x,y:p-d.y,props:{...n.props,w:c}}}else return{...n,props:{...n.props,w:c}}}}K(a1,"type","text"),K(a1,"props",N2e),K(a1,"migrations",$2e);function H_e(t,e){const{font:r,text:n,autoSize:i,size:a,w:o}=e,s=i?16:Math.max(16,o),l=Tg[a],u=i?null:Math.floor(Math.max(s,o)),c=t.textMeasure.measureText(n,{...Wa,fontFamily:eA[r],fontSize:l,maxWidth:u});return i&&(c.w+=1),{width:Math.max(s,c.w),height:Math.max(l,c.h)}}function QNt(t){const e=we();return I.useCallback(r=>{if(e.getEditingShapeId()===t)switch(r.key){case"Enter":{(r.ctrlKey||r.metaKey)&&e.complete();break}case"Tab":{dr(r),r.shiftKey?Og.unindent(r.currentTarget):Og.indent(r.currentTarget);break}}},[e,t])}const HNt=new zl;class o1 extends ym{canEdit(){return!0}isAspectRatioLocked(){return!0}getDefaultProps(){return{w:100,h:100,assetId:null,time:0,playing:!0,url:""}}component(e){return y.jsx(qNt,{shape:e})}indicator(e){return y.jsx("rect",{width:ye(e.props.w),height:ye(e.props.h)})}async toSvg(e,r){if(!e.props.assetId)return null;const n=this.editor.getAsset(e.props.assetId);if(!n)return null;const i=await HNt.get(n,async()=>{const a=await r.resolveAssetUrl(n.id,e.props.w);if(!a)return null;const o=await ss.loadVideo(a);return await ss.getVideoFrameAsDataUrl(o,0)});return i?y.jsx("image",{href:i,width:e.props.w,height:e.props.h}):null}}K(o1,"type","video"),K(o1,"props",Q2e),K(o1,"migrations",H2e);const qNt=I.memo(function({shape:e}){const r=we(),n=r.getShapeGeometry(e).bounds.w*r.getZoomLevel()>=110,i=kI(e.id),a=dLe(),{Spinner:o}=Rn(),{asset:s,url:l}=RQe({shapeId:e.id,assetId:e.props.assetId,width:e.props.w}),u=I.useRef(null),[c,A]=I.useState(!1),[d,f]=I.useState(!1);I.useEffect(()=>{const g=()=>f(document.fullscreenElement===u.current);return document.addEventListener("fullscreenchange",g),()=>document.removeEventListener("fullscreenchange",g)});const p=I.useCallback(g=>{g.currentTarget&&A(!0)},[]);return I.useEffect(()=>{const g=u.current;g&&i&&document.activeElement!==g&&g.focus()},[i,c]),I.useEffect(()=>{if(a){const g=u.current;if(!g)return;g.pause(),g.currentTime=0}},[u,a]),y.jsxs(y.Fragment,{children:[y.jsx(sd,{id:e.id,style:{color:"var(--color-text-3)",backgroundColor:s?"transparent":"var(--color-low)",border:s?"none":"1px solid var(--color-low-border)"},children:y.jsx("div",{className:"tl-counter-scaled",children:y.jsx("div",{className:"tl-video-container",children:s?o&&!s.props.src?y.jsx(o,{}):l?y.jsxs(y.Fragment,{children:[y.jsx("video",{ref:u,style:i?{pointerEvents:"all"}:c?void 0:{display:"none"},className:Mt("tl-video",`tl-video-shape-${e.id.split(":")[1]}`,{"tl-video-is-fullscreen":d}),width:"100%",height:"100%",draggable:!1,playsInline:!0,autoPlay:!0,muted:!0,loop:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:i&&n,onLoadedData:p,hidden:!c,children:y.jsx("source",{src:l})}),!c&&o&&y.jsx(o,{})]}):null:y.jsx(OQe,{})})})}),"url"in e.props&&e.props.url&&y.jsx(Rg,{url:e.props.url})]})}),NQe=[a1,Xx,Jx,e1,i1,n1,Zx,Yx,t1,A_,r1,o1];function KNt(t){return t.sideEffects.register({instance_page_state:{afterChange:(e,r)=>{if(e.croppingShapeId!==r.croppingShapeId){const n=t.isIn("select.crop");!e.croppingShapeId&&r.croppingShapeId?n||t.setCurrentTool("select.crop.idle"):e.croppingShapeId&&!r.croppingShapeId&&n&&t.setCurrentTool("select.idle")}if(e.editingShapeId!==r.editingShapeId)if(!e.editingShapeId&&r.editingShapeId){if(!t.isIn("select.editing_shape")){const n=t.getEditingShape();n&&n.type==="text"&&t.isInAny("text.pointing","select.resizing")&&t.getInstanceState().isToolLocked?t.setCurrentTool("select.editing_shape",{isCreatingTextWhileToolLocked:!0}):t.setCurrentTool("select.editing_shape")}}else e.editingShapeId&&!r.editingShapeId&&t.isIn("select.editing_shape")&&t.setCurrentTool("select.idle")}}})}class $Qe extends Pt{constructor(){super(...arguments);K(this,"info",{});K(this,"scribbleId","id");K(this,"markId","");K(this,"excludedShapeIds",new Set)}onEnter(r){this.markId=this.editor.markHistoryStoppingPoint("erase scribble begin"),this.info=r;const{originPagePoint:n}=this.editor.inputs;this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter(a=>{if(this.editor.isShapeOrAncestorLocked(a))return!0;if(this.editor.isShapeOfType(a,"group")||this.editor.isShapeOfType(a,"frame")){const o=this.editor.getPointInShapeSpace(a,n);return this.editor.getShapeGeometry(a).bounds.containsPoint(o)}return!1}).map(a=>a.id));const i=this.editor.scribbles.addScribble({color:"muted-1",size:12});this.scribbleId=i.id,this.update()}pushPointToScribble(){const{x:r,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,r,n)}onExit(){this.editor.setErasingShapes([]),this.editor.scribbles.stop(this.scribbleId)}onPointerMove(){this.update()}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}update(){const{editor:r,excludedShapeIds:n}=this,i=r.getErasingShapeIds(),a=r.getZoomLevel(),o=r.getCurrentPageRenderingShapesSorted(),{inputs:{currentPagePoint:s,previousPagePoint:l}}=r;this.pushPointToScribble();const u=new Set(i),c=this.editor.options.hitTestMargin/a;for(const A of o){if(r.isShapeOfType(A,"group"))continue;const d=r.getShapeMask(A.id);if(d&&!ds(s,d))continue;const f=r.getShapeGeometry(A),p=r.getShapePageTransform(A);if(!f||!p)continue;const g=p.clone().invert(),m=g.applyToPoint(l),w=g.applyToPoint(s),{bounds:b}=f;b.minX-c>Math.max(m.x,w.x)||b.minY-c>Math.max(m.y,w.y)||b.maxX+c<Math.min(m.x,w.x)||b.maxY+c<Math.min(m.y,w.y)||f.hitTestLineSegment(m,w,c)&&u.add(r.getOutermostSelectableShape(A).id)}this.editor.setErasingShapes([...u].filter(A=>!n.has(A)))}complete(){const{editor:r}=this;r.deleteShapes(r.getCurrentPageState().erasingShapeIds),this.parent.transition("idle")}cancel(){const{editor:r}=this;r.bailToMark(this.markId),this.parent.transition("idle",this.info)}}K($Qe,"id","erasing");var qN;let zNt=(qN=class extends Pt{onPointerDown(e){this.parent.transition("pointing",e)}onCancel(){this.editor.setCurrentTool("select")}},K(qN,"id","idle"),qN);var KN;let WNt=(KN=class extends Pt{onEnter(){const e=this.editor.getZoomLevel(),r=this.editor.getCurrentPageRenderingShapesSorted(),{inputs:{currentPagePoint:n}}=this.editor,i=new Set,a=i.size;for(let o=r.length,s=o-1;s>=0;s--){const l=r[s];if(!(this.editor.isShapeOrAncestorLocked(l)||this.editor.isShapeOfType(l,"group"))&&this.editor.isPointInShape(l,n,{hitInside:!1,margin:this.editor.options.hitTestMargin/e})){const u=this.editor.getOutermostSelectableShape(l);if(this.editor.isShapeOfType(u,"frame")&&i.size>a)break;i.add(u.id)}}this.editor.setErasingShapes([...i])}onLongPress(e){this.startErasing(e)}onExit(e,r){r!=="erasing"&&this.editor.setErasingShapes([])}onPointerMove(e){this.editor.inputs.isDragging&&this.startErasing(e)}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.cancel()}startErasing(e){this.parent.transition("erasing",e)}complete(){const e=this.editor.getErasingShapeIds();e.length&&(this.editor.markHistoryStoppingPoint("erase end"),this.editor.deleteShapes(e)),this.parent.transition("idle")}cancel(){this.parent.transition("idle")}},K(KN,"id","pointing"),KN);class s1 extends Pt{static children(){return[zNt,WNt,$Qe]}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}}K(s1,"id","eraser"),K(s1,"initial","idle"),K(s1,"isLockable",!1);class QQe extends Pt{constructor(){super(...arguments);K(this,"initialCamera",new k)}onEnter(){this.initialCamera=k.From(this.editor.getCamera()),this.update()}onPointerMove(){this.update()}onPointerUp(){this.complete()}onCancel(){this.parent.transition("idle")}onComplete(){this.complete()}update(){const{initialCamera:r,editor:n}=this,{currentScreenPoint:i,originScreenPoint:a}=n.inputs,o=k.Sub(i,a).div(n.getZoomLevel());o.len2()!==0&&n.setCamera(r.clone().add(o))}complete(){const{editor:r}=this,{pointerVelocity:n}=r.inputs,i=Math.min(n.len(),2);i>.1&&this.editor.slideCamera({speed:i,direction:n}),this.parent.transition("idle")}}K(QQe,"id","dragging");var zN;let GNt=(zN=class extends Pt{onEnter(){this.editor.setCursor({type:"grab",rotation:0})}onPointerDown(e){this.parent.transition("pointing",e)}onCancel(){this.editor.setCurrentTool("select")}},K(zN,"id","idle"),zN);var WN;let VNt=(WN=class extends Pt{onEnter(){this.editor.stopCameraAnimation(),this.editor.setCursor({type:"grabbing",rotation:0})}onLongPress(){this.startDragging()}onPointerMove(){this.editor.inputs.isDragging&&this.startDragging()}startDragging(){this.parent.transition("dragging")}onPointerUp(){this.complete()}onCancel(){this.complete()}onComplete(){this.complete()}onInterrupt(){this.complete()}complete(){this.parent.transition("idle")}},K(WN,"id","pointing"),WN);class l1 extends Pt{static children(){return[GNt,VNt,QQe]}onDoubleClick(e){if(e.phase==="settle"){const{currentScreenPoint:r}=this.editor.inputs;this.editor.zoomIn(r,{animation:{duration:220,easing:Ji.easeOutQuint}})}}onTripleClick(e){if(e.phase==="settle"){const{currentScreenPoint:r}=this.editor.inputs;this.editor.zoomOut(r,{animation:{duration:320,easing:Ji.easeOutQuint}})}}onQuadrupleClick(e){if(e.phase==="settle"){const r=this.editor.getZoomLevel(),{inputs:{currentScreenPoint:n}}=this.editor;r===1?this.editor.zoomToFit({animation:{duration:400,easing:Ji.easeOutQuint}}):this.editor.resetZoom(n,{animation:{duration:320,easing:Ji.easeOutQuint}})}}}K(l1,"id","hand"),K(l1,"initial","idle"),K(l1,"isLockable",!1);var GN;let YNt=(GN=class extends Pt{onPointerDown(e){this.parent.transition("lasering",e)}},K(GN,"id","idle"),GN);class HQe extends Pt{constructor(){super(...arguments);K(this,"scribbleId","id")}onEnter(){const r=this.editor.scribbles.addScribble({color:"laser",opacity:.7,size:4,delay:this.editor.options.laserDelayMs,shrink:.05,taper:!0});this.scribbleId=r.id,this.pushPointToScribble()}onExit(){this.editor.scribbles.stop(this.scribbleId)}onPointerMove(){this.pushPointToScribble()}onPointerUp(){this.complete()}pushPointToScribble(){const{x:r,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,r,n)}onCancel(){this.cancel()}onComplete(){this.complete()}complete(){this.parent.transition("idle")}cancel(){this.parent.transition("idle")}}K(HQe,"id","lasering");class u1 extends Pt{static children(){return[YNt,HQe]}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}}K(u1,"id","laser"),K(u1,"initial","idle"),K(u1,"isLockable",!1);class qQe extends Pt{constructor(){super(...arguments);K(this,"info",{});K(this,"initialSelectedShapeIds",[]);K(this,"excludedShapeIds",new Set);K(this,"isWrapMode",!1);K(this,"initialStartShape",null)}onEnter(r){const{altKey:n,currentPagePoint:i}=this.editor.inputs;if(this.isWrapMode=this.editor.user.getIsWrapMode(),n){this.parent.transition("scribble_brushing",r);return}this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter(a=>this.editor.isShapeOfType(a,"group")||this.editor.isShapeOrAncestorLocked(a)).map(a=>a.id)),this.info=r,this.initialSelectedShapeIds=this.editor.getSelectedShapeIds().slice(),this.initialStartShape=this.editor.getShapesAtPoint(i)[0],this.hitTestShapes()}onExit(){this.initialSelectedShapeIds=[],this.editor.updateInstanceState({brush:null})}onTick({elapsed:r}){const{editor:n}=this;n.edgeScrollManager.updateEdgeScrolling(r)}onPointerMove(){this.hitTestShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(r){this.editor.setSelectedShapes(this.initialSelectedShapeIds),this.parent.transition("idle",r)}onKeyDown(r){this.editor.inputs.altKey?this.parent.transition("scribble_brushing",r):this.hitTestShapes()}onKeyUp(){this.hitTestShapes()}complete(){this.hitTestShapes(),this.parent.transition("idle")}hitTestShapes(){const{editor:r,excludedShapeIds:n,isWrapMode:i}=this,{inputs:{originPagePoint:a,currentPagePoint:o,shiftKey:s,ctrlKey:l}}=r,u=new Set(s?this.initialSelectedShapeIds:[]),c=i?!l:l,A=Ze.FromPoints([a,o]),{corners:d}=A;let f,p,g,m,w,b;const C=r.getCurrentPageRenderingShapesSorted(),S=r.getCurrentPageId();e:for(let B=0,T=C.length;B<T;B++){if(g=C[B],n.has(g.id)||u.has(g.id)||(m=r.getShapePageBounds(g),!m))continue e;if(A.contains(m)){this.handleHit(g,o,S,u,d);continue e}if(c||r.isShapeOfType(g,"frame"))continue e;if(A.collides(m)){if(w=r.getShapePageTransform(g),!w)continue e;b=w.clone().invert().applyToPoints(d);const R=r.getShapeGeometry(g);t:for(let P=0;P<4;P++)if(f=b[P],p=b[(P+1)%4],R.hitTestLineSegment(f,p,0)){this.handleHit(g,o,S,u,d);break t}}}const x=r.getInstanceState().brush;(!x||!A.equals(x))&&r.updateInstanceState({brush:{...A.toJson()}});const _=r.getSelectedShapeIds();(_.length!==u.size||_.some(B=>!u.has(B)))&&r.setSelectedShapes(Array.from(u))}onInterrupt(){this.editor.updateInstanceState({brush:null})}handleHit(r,n,i,a,o){if(r.parentId===i){a.add(r.id);return}const s=this.editor.getOutermostSelectableShape(r),l=this.editor.getShapeMask(s.id);l&&!jq(l,o)&&!ds(n,l)||a.add(s.id)}}K(qQe,"id","brushing");const Fg={bottom:"ns-resize",top:"ns-resize",left:"ew-resize",right:"ew-resize",bottom_left:"nesw-resize",bottom_right:"nwse-resize",top_left:"nwse-resize",top_right:"nesw-resize",bottom_left_rotate:"swne-rotate",bottom_right_rotate:"senw-rotate",top_left_rotate:"nwse-rotate",top_right_rotate:"nesw-rotate",mobile_rotate:"grabbing"};class KQe extends Pt{constructor(){super(...arguments);K(this,"info",{})}updateCursor(){const r=this.editor.getSelectedShapes(),n=Fg[this.info.handle];this.editor.setCursor({type:n,rotation:r.length===1?this.editor.getSelectionRotation():0})}onEnter(r){this.info=r,this.updateCursor()}onPointerMove(){this.editor.inputs.isDragging&&this.startResizing()}onLongPress(){this.startResizing()}startResizing(){this.editor.getIsReadonly()||this.parent.transition("resizing",this.info)}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}K(KQe,"id","pointing_resize_handle");class X6 extends Pt{constructor(){super(...arguments);K(this,"info",{});K(this,"markId","");K(this,"snapshot",{})}onEnter(r){this.info=r,this.markId=this.editor.markHistoryStoppingPoint("cropping"),this.snapshot=this.createSnapshot(),this.updateShapes()}onPointerMove(){this.updateShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}updateCursor(){if(!this.editor.getSelectedShapes()[0])return;const n=Fg[this.info.handle];this.editor.setCursor({type:n,rotation:this.editor.getSelectionRotation()})}updateShapes(){var d;const{shape:r,cursorHandleOffset:n}=this.snapshot;if(!r)return;const i=this.editor.getShapeUtil(r.type);if(!i)return;const a=this.editor.inputs.currentPagePoint.clone().sub(n),o=this.editor.inputs.originPagePoint.clone().sub(n),s=a.clone().sub(o).rot(-r.rotation),l=r.props.crop??ENt(),u={w:1/(l.bottomRight.x-l.topLeft.x)*r.props.w,h:1/(l.bottomRight.y-l.topLeft.y)*r.props.h},A=(((d=i.onCrop)==null?void 0:d.bind(i))??INt)(r,{handle:this.info.handle,change:s,crop:l,uncroppedSize:u,initialShape:this.snapshot.shape});A&&(this.editor.updateShapes([{id:r.id,type:r.type,...A}]),this.updateCursor())}complete(){this.updateShapes(),vn(this.editor,[this.snapshot.shape.id]),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle"))}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle"))}createSnapshot(){const r=this.editor.getSelectionRotation(),{inputs:{originPagePoint:n}}=this.editor,i=this.editor.getOnlySelectedShape(),a=this.editor.getSelectionRotatedPageBounds(),o=k.RotWith(a.getHandlePoint(this.info.handle),a.point,r),s=k.Sub(n,o);return{shape:i,cursorHandleOffset:s}}}K(X6,"id","cropping");function zQe(t,e=!1){const r=t.getZoomLevel(),{inputs:{currentPagePoint:n}}=t;return t.getShapeAtPoint(n,{hitInside:!1,hitLabels:e,margin:t.options.hitTestMargin/r,renderingOnly:!0})??t.getSelectedShapeAtPoint(n)}function WQe(t,e,r){if(!e)throw Error("Needs to translate a cropped shape!");const{crop:n}=e.props;if(!n)return;const i=t.inputs.shiftKey?Math.abs(r.x)<Math.abs(r.y)?"x":"y":null;i==="x"?r.x=0:i==="y"&&(r.y=0),r.rot(-e.rotation);const{w:a,h:o}=kw(e.props,n),s=n.bottomRight.y-n.topLeft.y,l=n.bottomRight.x-n.topLeft.x,u=On(n);return u.topLeft.x=Math.min(1-l,Math.max(0,u.topLeft.x-r.x/a)),u.topLeft.y=Math.min(1-s,Math.max(0,u.topLeft.y-r.y/o)),u.bottomRight.x=u.topLeft.x+l,u.bottomRight.y=u.topLeft.y+s,{id:e.id,type:e.type,props:{crop:u}}}var VN;let XNt=(VN=class extends Pt{onEnter(){this.editor.setCursor({type:"default",rotation:0});const e=this.editor.getOnlySelectedShape();e&&this.editor.setCroppingShape(e.id)}onExit(){this.editor.setCursor({type:"default",rotation:0})}onCancel(){this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})}onPointerDown(e){var r;if(e.accelKey){this.cancel(),this.editor.root.handleEvent(e);return}switch(e.target){case"canvas":{const n=zQe(this.editor);if(n&&!this.editor.isShapeOfType(n,"group")){this.onPointerDown({...e,shape:n,target:"shape"});return}this.cancel(),this.editor.root.handleEvent(e);break}case"shape":{if(e.shape.id===this.editor.getCroppingShapeId()){this.editor.setCurrentTool("select.crop.pointing_crop",e);return}else(r=this.editor.getShapeUtil(e.shape))!=null&&r.canCrop(e.shape)?(this.editor.setCroppingShape(e.shape.id),this.editor.setSelectedShapes([e.shape.id]),this.editor.setCurrentTool("select.crop.pointing_crop",e)):(this.cancel(),this.editor.root.handleEvent(e));break}case"selection":{switch(e.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":{this.editor.setCurrentTool("select.pointing_rotate_handle",{...e,onInteractionEnd:"select.crop.idle"});break}case"top":case"right":case"bottom":case"left":case"top_left":case"top_right":case"bottom_left":case"bottom_right":{this.editor.setCurrentTool("select.crop.pointing_crop_handle",{...e,onInteractionEnd:"select.crop.idle"});break}default:this.cancel()}break}}}onDoubleClick(e){var a;if(this.editor.inputs.shiftKey||e.phase!=="up")return;const r=this.editor.getCroppingShapeId();if(!r)return;const n=this.editor.getShape(r);if(!n)return;const i=this.editor.getShapeUtil(n);if(i){if(e.target==="selection"){(a=i.onDoubleClickEdge)==null||a.call(i,n);return}this.cancel(),this.editor.root.handleEvent(e)}}onKeyDown(){this.nudgeCroppingImage(!1)}onKeyRepeat(){this.nudgeCroppingImage(!0)}onKeyUp(e){switch(e.code){case"Enter":{this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{});break}}}cancel(){this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})}nudgeCroppingImage(e=!1){const{editor:{inputs:{keys:r}}}=this,n=r.has("ShiftLeft"),i=new k(0,0);if(r.has("ArrowLeft")&&(i.x+=1),r.has("ArrowRight")&&(i.x-=1),r.has("ArrowUp")&&(i.y+=1),r.has("ArrowDown")&&(i.y-=1),i.equals(new k(0,0)))return;n&&i.mul(10);const a=this.editor.getShape(this.editor.getCroppingShapeId());if(!a)return;const o=WQe(this.editor,a,i);o&&(e||this.editor.markHistoryStoppingPoint("translate crop"),this.editor.updateShapes([o]))}},K(VN,"id","idle"),VN);class GQe extends Pt{onCancel(){this.editor.setCurrentTool("select.crop.idle",{})}onPointerMove(e){this.editor.inputs.isDragging&&this.editor.setCurrentTool("select.crop.translating_crop",e)}onPointerUp(e){this.editor.setCurrentTool("select.crop.idle",e)}}K(GQe,"id","pointing_crop");class J6 extends Pt{constructor(){super(...arguments);K(this,"info",{})}onEnter(r){this.info=r,this.parent.setCurrentToolIdMask(r.onInteractionEnd);const n=this.editor.getSelectedShapes()[0];if(!n)return;const i=Fg[this.info.handle];this.editor.setCursor({type:i,rotation:this.editor.getSelectionRotation()}),this.editor.setCroppingShape(n.id)}onExit(){this.editor.setCursor({type:"default",rotation:0}),this.parent.setCurrentToolIdMask(void 0)}onPointerMove(){this.editor.inputs.isDragging&&this.startCropping()}onLongPress(){this.startCropping()}startCropping(){this.editor.getIsReadonly()||this.parent.transition("cropping",{...this.info,onInteractionEnd:this.info.onInteractionEnd})}onPointerUp(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle"))}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle"))}}K(J6,"id","pointing_crop_handle");class VQe extends Pt{constructor(){super(...arguments);K(this,"info",{});K(this,"markId","");K(this,"snapshot",{})}onEnter(r){this.info=r,this.snapshot=this.createSnapshot(),this.markId=this.editor.markHistoryStoppingPoint("translating_crop"),this.editor.setCursor({type:"move",rotation:0}),this.updateShapes()}onExit(){this.editor.setCursor({type:"default",rotation:0})}onPointerMove(){this.updateShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}onKeyDown(r){switch(r.key){case"Alt":case"Shift":{this.updateShapes();return}}}onKeyUp(r){switch(r.key){case"Enter":{this.complete();return}case"Alt":case"Shift":this.updateShapes()}}complete(){this.updateShapes(),this.editor.setCurrentTool("select.crop.idle",this.info)}cancel(){this.editor.bailToMark(this.markId),this.editor.setCurrentTool("select.crop.idle",this.info)}createSnapshot(){return{shape:this.editor.getOnlySelectedShape()}}updateShapes(){const r=this.snapshot.shape;if(!r)return;const{originPagePoint:n,currentPagePoint:i}=this.editor.inputs,a=i.clone().sub(n),o=WQe(this.editor,r,a);o&&this.editor.updateShapes([o])}}K(VQe,"id","translating_crop");class iH extends Pt{constructor(){super(...arguments);K(this,"markId","");K(this,"didExit",!1)}static children(){return[XNt,VQe,GQe,J6,X6]}onEnter(){this.didExit=!1,this.markId=this.editor.markHistoryStoppingPoint("crop")}onExit(){this.didExit||(this.didExit=!0,this.editor.squashToMark(this.markId))}onCancel(){this.didExit||(this.didExit=!0,this.editor.bailToMark(this.markId))}}K(iH,"id","crop"),K(iH,"initial","idle");class YQe extends Pt{constructor(){super(...arguments);K(this,"shapeId","");K(this,"initialHandle",{});K(this,"initialAdjacentHandle",null);K(this,"initialPagePoint",{});K(this,"markId","");K(this,"initialPageTransform");K(this,"initialPageRotation");K(this,"info",{});K(this,"isPrecise",!1);K(this,"isPreciseId",null);K(this,"pointingId",null);K(this,"exactTimeout",-1)}onEnter(r){const{shape:n,isCreating:i,creatingMarkId:a,handle:o}=r;if(this.info=r,this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.shapeId=n.id,this.markId="",i)if(a)this.markId=a;else{const u=this.editor.getMarkIdMatching(`creating:${this.editor.getOnlySelectedShapeId()}`);u&&(this.markId=u)}else this.markId=this.editor.markHistoryStoppingPoint("dragging handle");if(this.initialHandle=On(o),this.editor.isShapeOfType(n,"line")&&this.initialHandle.type==="create"){this.editor.updateShape({...n,props:{points:{...n.props.points,[o.index]:{id:o.index,index:o.index,x:o.x,y:o.y}}}});const c=this.editor.getShapeHandles(n).find(A=>A.index===o.index);this.initialHandle=On(c)}this.initialPageTransform=this.editor.getShapePageTransform(n),this.initialPageRotation=this.initialPageTransform.rotation(),this.initialPagePoint=this.editor.inputs.originPagePoint.clone(),this.editor.setCursor({type:i?"cross":"grabbing",rotation:0});const s=this.editor.getShapeHandles(n).sort(Qa),l=s.findIndex(u=>u.id===r.handle.id);this.initialAdjacentHandle=null;for(let u=l+1;u<s.length;u++){const c=s[u];if(c.type==="vertex"&&c.id!=="middle"&&c.id!==r.handle.id){this.initialAdjacentHandle=c;break}}if(!this.initialAdjacentHandle)for(let u=s.length-1;u>=0;u--){const c=s[u];if(c.type==="vertex"&&c.id!=="middle"&&c.id!==r.handle.id){this.initialAdjacentHandle=c;break}}if(this.editor.isShapeOfType(n,"arrow")){const u=Do(this.editor,n)[r.handle.id];this.isPrecise=!1,u?(this.editor.setHintingShapes([u.toId]),this.isPrecise=u.props.isPrecise,this.isPrecise?this.isPreciseId=u.toId:this.resetExactTimeout()):this.editor.setHintingShapes([])}this.update(),this.editor.select(this.shapeId)}resetExactTimeout(){this.exactTimeout!==-1&&this.clearExactTimeout(),this.exactTimeout=this.editor.timers.setTimeout(()=>{this.getIsActive()&&!this.isPrecise&&(this.isPrecise=!0,this.isPreciseId=this.pointingId,this.update()),this.exactTimeout=-1},750)}clearExactTimeout(){this.exactTimeout!==-1&&(clearTimeout(this.exactTimeout),this.exactTimeout=-1)}onPointerMove(){this.update()}onKeyDown(){this.update()}onKeyUp(){this.update()}onPointerUp(){this.complete()}onComplete(){this.update(),this.complete()}onCancel(){this.cancel()}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.setHintingShapes([]),this.editor.snaps.clearIndicators(),this.editor.setCursor({type:"default",rotation:0})}complete(){this.editor.snaps.clearIndicators(),vn(this.editor,[this.shapeId]);const{onInteractionEnd:r}=this.info;if(this.editor.getInstanceState().isToolLocked&&r){this.editor.setCurrentTool(r,{shapeId:this.shapeId});return}this.parent.transition("idle")}cancel(){this.editor.bailToMark(this.markId),this.editor.snaps.clearIndicators();const{onInteractionEnd:r}=this.info;if(r){this.editor.setCurrentTool(r,{shapeId:this.shapeId});return}this.parent.transition("idle")}update(){var B;const{editor:r,shapeId:n,initialPagePoint:i}=this,{initialHandle:a,initialPageRotation:o,initialAdjacentHandle:s}=this,l=this.editor.getHintingShapeIds(),u=this.editor.user.getIsSnapMode(),{snaps:c,inputs:{currentPagePoint:A,shiftKey:d,ctrlKey:f,altKey:p,pointerVelocity:g}}=r,m=this.info.shape,w=r.getShape(n);if(!w)return;const b=r.getShapeUtil(w);let C=A.clone().sub(i).rot(-o).add(a);if(d&&s&&a.id!=="middle"){const T=k.Angle(s,C),P=MC(T,24)-T;C=k.RotWith(C,s,P)}r.snaps.clearIndicators();let S={...a,x:C.x,y:C.y};if(a.canSnap&&(u?!f:f)){if(!r.getShapePageTransform(w.id))throw Error("Expected a page transform");const R=c.handles.snapHandle({currentShapeId:n,handle:S});R&&(R.nudge.rot(-r.getShapeParentTransform(w).rotation()),C.add(R.nudge),S={...a,x:C.x,y:C.y})}const x=(B=b.onHandleDrag)==null?void 0:B.call(b,w,{handle:S,isPrecise:this.isPrecise||p,initial:m}),_={id:w.id,type:w.type,...x};if(a.type==="vertex"&&this.editor.isShapeOfType(w,"arrow")){const T=Do(r,w)[a.id];T?l[0]!==T.toId&&(r.setHintingShapes([T.toId]),this.pointingId=T.toId,this.isPrecise=g.len()<.5||p,this.isPreciseId=this.isPrecise?T.toId:null,this.resetExactTimeout()):l.length>0&&(r.setHintingShapes([]),this.pointingId=null,this.isPrecise=!1,this.isPreciseId=null,this.resetExactTimeout())}x&&r.updateShapes([_])}}K(YQe,"id","dragging_handle");function XQe(t){return t.isLabel?[t]:t instanceof tl?t.children.filter(e=>e.isLabel):[]}class JQe extends Pt{constructor(){super(...arguments);K(this,"hitShapeForPointerUp",null);K(this,"info",{})}onEnter(r){const n=this.editor.getEditingShape();if(!n)throw Error("Entered editing state without an editing shape");this.hitShapeForPointerUp=null,this.info=r,r.isCreatingTextWhileToolLocked&&this.parent.setCurrentToolIdMask("text"),kc(this.editor),this.editor.select(n)}onExit(){var a;const{editingShapeId:r}=this.editor.getCurrentPageState();if(!r)return;this.editor.setEditingShape(null),kc.cancel();const n=this.editor.getShape(r),i=this.editor.getShapeUtil(n);(a=i.onEditEnd)==null||a.call(i,n),this.info.isCreatingTextWhileToolLocked&&(this.parent.setCurrentToolIdMask(void 0),this.editor.setCurrentTool("text",{}))}onPointerMove(r){if(this.hitShapeForPointerUp&&this.editor.inputs.isDragging){if(this.editor.getIsReadonly()||this.hitShapeForPointerUp.isLocked)return;this.editor.select(this.hitShapeForPointerUp),this.parent.transition("translating",r),this.hitShapeForPointerUp=null;return}switch(r.target){case"shape":case"canvas":{kc(this.editor);return}}}onPointerDown(r){switch(this.hitShapeForPointerUp=null,r.target){case"shape":{const{shape:n}=r,i=this.editor.getEditingShape();if(!i)throw Error("Expected an editing shape!");const a=this.editor.getShapeUtil(n).getGeometry(n),o=XQe(a),s=o.length===1?o[0]:void 0,l=this.editor.isShapeOfType(i,"text")&&i.props.text.trim()==="";if(s&&!l){const u=this.editor.getPointInShapeSpace(n,this.editor.inputs.currentPagePoint);if(s.bounds.containsPoint(u,0)&&s.hitTestPoint(u)){if(n.id===i.id)return;this.hitShapeForPointerUp=n,this.editor.markHistoryStoppingPoint("editing on pointer up"),this.editor.select(n.id);return}}else{if(n.id===i.id)this.editor.isShapeOfType(n,"frame")&&(this.editor.setEditingShape(null),this.parent.transition("idle",r));else{this.parent.transition("pointing_shape",r);return}return}break}}this.parent.transition("idle",r),this.editor.root.handleEvent(r)}onPointerUp(r){const n=this.hitShapeForPointerUp;if(!n)return;this.hitShapeForPointerUp=null;const i=this.editor.getShapeUtil(n);if(!n.isLocked){if(this.editor.getIsReadonly()&&!i.canEditInReadOnly(n)){this.parent.transition("pointing_shape",r);return}this.editor.select(n.id),this.editor.setEditingShape(n.id),kc(this.editor)}}onComplete(r){this.parent.transition("idle",r)}onCancel(r){this.parent.transition("idle",r)}}K(JQe,"id","editing_shape");function q_e(t){const e=t.getOnlySelectedShape();return!!(e&&!t.isShapeOrAncestorLocked(e)&&t.getShapeUtil(e).canCrop(e))}function d_(t,e){const r=t.getSelectedShapeIds(),{currentPagePoint:n}=t.inputs,{shiftKey:i,altKey:a,accelKey:o}=e,s=i||o,l=t.getShapeAtPoint(n,{hitInside:!1,margin:t.options.hitTestMargin/t.getZoomLevel(),hitLabels:!0,renderingOnly:!0,filter:u=>!u.isLocked});if(l){const u=t.getOutermostSelectableShape(l);if(s&&!a)t.cancelDoubleClick(),r.includes(u.id)?(t.markHistoryStoppingPoint("deselecting shape"),t.deselect(u)):(t.markHistoryStoppingPoint("shift selecting shape"),t.setSelectedShapes([...r,u.id]));else{let c;u===l||u.id===t.getFocusedGroupId()||r.includes(u.id)?c=l:c=u,c&&!r.includes(c.id)&&(t.markHistoryStoppingPoint("selecting shape"),t.select(c.id))}}else{if(s)return;{r.length>0&&(t.markHistoryStoppingPoint("selecting none"),t.selectNone());const u=t.getFocusedGroupId();if(Fo(u)){const c=t.getShape(u);t.isPointInShape(c,n,{margin:0,hitInside:!0})||t.setFocusedGroup(null)}}}}const JNt=["Delete","Backspace","[","]","Enter"," ","Shift","Tab"];var YN;let ZNt=(YN=class extends Pt{onEnter(){this.parent.setCurrentToolIdMask(void 0),kc(this.editor),this.editor.setCursor({type:"default",rotation:0})}onExit(){kc.cancel()}onPointerMove(){kc(this.editor)}onPointerDown(e){const r=e.ctrlKey&&q_e(this.editor);switch(e.target){case"canvas":{const n=zQe(this.editor);if(n&&!n.isLocked){this.onPointerDown({...e,shape:n,target:"shape"});return}const i=this.editor.getSelectedShapeIds(),a=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:o}}=this.editor;if((i.length>1||a&&!this.editor.getShapeUtil(a).hideSelectionBoundsBg(a))&&K_e(this.editor,o)){this.onPointerDown({...e,target:"selection"});return}this.parent.transition("pointing_canvas",e);break}case"shape":{const{shape:n}=e;if(this.isOverArrowLabelTest(n)){this.parent.transition("pointing_arrow_label",e);break}if(this.editor.isShapeOrAncestorLocked(n)){this.parent.transition("pointing_canvas",e);break}this.parent.transition("pointing_shape",e);break}case"handle":{if(this.editor.getIsReadonly())break;this.editor.inputs.altKey?this.parent.transition("pointing_shape",e):this.parent.transition("pointing_handle",e);break}case"selection":{switch(e.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":{if(e.accelKey){this.parent.transition("brushing",e);break}this.parent.transition("pointing_rotate_handle",e);break}case"top":case"right":case"bottom":case"left":case"top_left":case"top_right":case"bottom_left":case"bottom_right":{if(r)this.parent.transition("crop.pointing_crop_handle",e);else{if(e.accelKey){this.parent.transition("brushing",e);break}this.parent.transition("pointing_resize_handle",e)}break}default:{const n=this.editor.getHoveredShape();if(n&&!this.editor.getSelectedShapeIds().includes(n.id)&&!n.isLocked){this.onPointerDown({...e,shape:n,target:"shape"});return}this.parent.transition("pointing_selection",e)}}break}}}onDoubleClick(e){var r,n,i,a;if(!(this.editor.inputs.shiftKey||e.phase!=="up")&&!(e.ctrlKey||e.shiftKey))switch(e.target){case"canvas":{const o=this.editor.getHoveredShape(),s=o&&!this.editor.isShapeOfType(o,"group")?o:this.editor.getSelectedShapeAtPoint(this.editor.inputs.currentPagePoint)??this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:this.editor.options.hitTestMargin/this.editor.getZoomLevel(),hitInside:!1}),l=this.editor.getFocusedGroupId();if(s){if(this.editor.isShapeOfType(s,"group")){d_(this.editor,e);return}else{const u=this.editor.getShape(s.parentId);if(u&&this.editor.isShapeOfType(u,"group")&&!(l&&u.id===l)){d_(this.editor,e);return}}this.onDoubleClick({...e,shape:s,target:"shape"});return}this.editor.inputs.shiftKey||this.handleDoubleClickOnCanvas(e);break}case"selection":{if(this.editor.getIsReadonly())break;const o=this.editor.getOnlySelectedShape();if(o){const s=this.editor.getShapeUtil(o);if(!this.canInteractWithShapeInReadOnly(o))return;if(e.handle==="right"||e.handle==="left"||e.handle==="top"||e.handle==="bottom"){const l=(r=s.onDoubleClickEdge)==null?void 0:r.call(s,o);if(l){this.editor.markHistoryStoppingPoint("double click edge"),this.editor.updateShapes([l]),vn(this.editor,[o.id]);return}}if(s.canCrop(o)&&!this.editor.isShapeOrAncestorLocked(o)){this.parent.transition("crop",e);return}this.shouldStartEditingShape(o)&&this.startEditingShape(o,e,!0)}break}case"shape":{const{shape:o}=e,s=this.editor.getShapeUtil(o);if(o.type!=="video"&&o.type!=="embed"&&this.editor.getIsReadonly())break;if(s.onDoubleClick){const l=(n=s.onDoubleClick)==null?void 0:n.call(s,o);if(l){this.editor.updateShapes([l]);return}}if(s.canCrop(o)&&!this.editor.isShapeOrAncestorLocked(o)){this.editor.markHistoryStoppingPoint("select and crop"),this.editor.select((i=e.shape)==null?void 0:i.id),this.parent.transition("crop",e);return}this.shouldStartEditingShape(o)?this.startEditingShape(o,e,!0):this.handleDoubleClickOnCanvas(e);break}case"handle":{if(this.editor.getIsReadonly())break;const{shape:o,handle:s}=e,l=this.editor.getShapeUtil(o),u=(a=l.onDoubleClickHandle)==null?void 0:a.call(l,o,s);u?this.editor.updateShapes([u]):this.shouldStartEditingShape(o)&&this.startEditingShape(o,e,!0)}}}onRightClick(e){switch(e.target){case"canvas":{const r=this.editor.getHoveredShape(),n=r&&!this.editor.isShapeOfType(r,"group")?r:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:this.editor.options.hitTestMargin/this.editor.getZoomLevel(),hitInside:!1,hitLabels:!0,hitLocked:!0,hitFrameInside:!0,renderingOnly:!0});if(n){this.onRightClick({...e,shape:n,target:"shape"});return}const i=this.editor.getSelectedShapeIds(),a=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:o}}=this.editor;if((i.length>1||a&&!this.editor.getShapeUtil(a).hideSelectionBoundsBg(a))&&K_e(this.editor,o)){this.onRightClick({...e,target:"selection"});return}this.editor.selectNone();break}case"shape":{const{selectedShapeIds:r}=this.editor.getCurrentPageState(),{shape:n}=e,i=this.editor.getOutermostSelectableShape(n,a=>!r.includes(a.id));!r.includes(i.id)&&!this.editor.findShapeAncestor(i,a=>r.includes(a.id))&&(this.editor.markHistoryStoppingPoint("selecting shape"),this.editor.setSelectedShapes([i.id]));break}}}onCancel(){this.editor.getFocusedGroupId()!==this.editor.getCurrentPageId()&&this.editor.getSelectedShapeIds().length>0?this.editor.popFocusedGroupId():(this.editor.markHistoryStoppingPoint("clearing selection"),this.editor.selectNone())}onKeyDown(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{this.nudgeSelectedShapes(!1);return}}if(fi.editOnType.get()&&!JNt.includes(e.key)&&!e.altKey&&!e.ctrlKey){const r=this.editor.getOnlySelectedShape();if(r&&this.editor.isShapeOfType(r,"note")&&this.shouldStartEditingShape(r)){this.startEditingShape(r,{...e,target:"shape",shape:r},!0);return}}}onKeyRepeat(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{this.nudgeSelectedShapes(!0);break}}}onKeyUp(e){switch(e.code){case"Enter":{const r=this.editor.getSelectedShapes();if(r.every(i=>this.editor.isShapeOfType(i,"group"))){this.editor.setSelectedShapes(r.flatMap(i=>this.editor.getSortedChildIdsForParent(i.id)));return}const n=this.editor.getOnlySelectedShape();if(n&&this.shouldStartEditingShape(n)){this.startEditingShape(n,{...e,target:"shape",shape:n},!0);return}q_e(this.editor)&&this.parent.transition("crop",e);break}}}shouldStartEditingShape(e=this.editor.getOnlySelectedShape()){return!e||this.editor.isShapeOrAncestorLocked(e)&&e.type!=="embed"||!this.canInteractWithShapeInReadOnly(e)?!1:this.editor.getShapeUtil(e).canEdit(e)}startEditingShape(e,r,n){this.editor.isShapeOrAncestorLocked(e)&&e.type!=="embed"||(this.editor.markHistoryStoppingPoint("editing shape"),n_(this.editor,e,n),this.parent.transition("editing_shape",r))}isOverArrowLabelTest(e){if(!e)return!1;const r=this.editor.getPointInShapeSpace(e,this.editor.inputs.currentPagePoint);if(this.editor.isShapeOfType(e,"arrow")){const n=this.editor.getShapeGeometry(e).children[1];if(n&&ds(r,n.vertices))return!0}return!1}handleDoubleClickOnCanvas(e){if(this.editor.getIsReadonly()||!this.editor.options.createTextOnCanvasDoubleClick)return;this.editor.markHistoryStoppingPoint("creating text shape");const r=an(),{x:n,y:i}=this.editor.inputs.currentPagePoint;this.editor.createShapes([{id:r,type:"text",x:n,y:i,props:{text:"",autoSize:!0}}]);const a=this.editor.getShape(r);if(!a)return;const o=this.editor.getShapeUtil(a);this.editor.getIsReadonly()&&!o.canEditInReadOnly(a)||(this.editor.setEditingShape(r),this.editor.select(r),this.parent.transition("editing_shape",e))}nudgeSelectedShapes(e=!1){const{editor:{inputs:{keys:r}}}=this,n=r.has("ShiftLeft"),i=new k(0,0);if(r.has("ArrowLeft")&&(i.x-=1),r.has("ArrowRight")&&(i.x+=1),r.has("ArrowUp")&&(i.y-=1),r.has("ArrowDown")&&(i.y+=1),i.equals(new k(0,0)))return;e||this.editor.markHistoryStoppingPoint("nudge shapes");const{gridSize:a}=this.editor.getDocumentSettings(),o=this.editor.getInstanceState().isGridMode?n?a*r$t:a:n?e$t:t$t,s=this.editor.getSelectedShapeIds();this.editor.nudgeShapes(s,i.mul(o)),vn(this.editor,s)}canInteractWithShapeInReadOnly(e){return!!(!this.editor.getIsReadonly()||this.editor.getShapeUtil(e).canEditInReadOnly(e))}},K(YN,"id","idle"),YN);const e$t=10,t$t=1,r$t=5;function K_e(t,e){const r=t.getSelectionRotatedPageBounds();if(!r)return!1;const n=t.getSelectionRotation();return n?ds(e,r.corners.map(i=>k.RotWith(i,r.point,n))):r.containsPoint(e)}class ZQe extends Pt{constructor(){super(...arguments);K(this,"shapeId","");K(this,"markId","");K(this,"wasAlreadySelected",!1);K(this,"didDrag",!1);K(this,"didCtrlOnEnter",!1);K(this,"info",{});K(this,"_labelDragOffset",new k(0,0))}updateCursor(){this.editor.setCursor({type:"grabbing",rotation:0})}onEnter(r){const{shape:n}=r;this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.info=r,this.shapeId=n.id,this.didDrag=!1,this.didCtrlOnEnter=r.accelKey,this.wasAlreadySelected=this.editor.getOnlySelectedShapeId()===n.id,this.updateCursor();const a=this.editor.getShapeGeometry(n).children[1];if(!a)throw Error(`Expected to find an arrow label geometry for shape: ${n.id}`);const{currentPagePoint:o}=this.editor.inputs,s=this.editor.getPointInShapeSpace(n,o);if(this._labelDragOffset=k.Sub(a.center,s),this.markId=this.editor.markHistoryStoppingPoint("label-drag start"),r.shiftKey||r.accelKey){const u=this.editor.getSelectedShapeIds();this.editor.setSelectedShapes([...u,this.shapeId]);return}this.editor.setSelectedShapes([this.shapeId])}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.setCursor({type:"default",rotation:0})}onPointerMove(){const{isDragging:r}=this.editor.inputs;if(!r)return;if(this.didCtrlOnEnter){this.parent.transition("brushing",this.info);return}const n=this.editor.getShape(this.shapeId);if(!n)return;const i=Pu(this.editor,n),a=this.editor.getShapeGeometry(n),o=a.children[0],s=this.editor.getPointInShapeSpace(n,this.editor.inputs.currentPagePoint),l=o.nearestPoint(k.Add(s,this._labelDragOffset));let u;if(i.isStraight){const c=k.Dist(i.start.point,i.end.point);u=1-k.Dist(i.end.point,l)/c}else{const{_center:c,measure:A,angleEnd:d,angleStart:f}=a.children[0];u=o4(A,f,d,c.angle(l))}isNaN(u)&&(u=.5),this.didDrag=!0,this.editor.updateShape({id:n.id,type:n.type,props:{labelPosition:u}})}onPointerUp(){const r=this.editor.getShape(this.shapeId);r&&(this.didDrag||!this.wasAlreadySelected?this.complete():this.editor.getIsReadonly()||(this.editor.setEditingShape(r.id),this.editor.setCurrentTool("select.editing_shape")))}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}K(ZQe,"id","pointing_arrow_label");class e4e extends Pt{onEnter(e){e.shiftKey||e.accelKey||this.editor.getSelectedShapeIds().length>0&&(this.editor.markHistoryStoppingPoint("selecting none"),this.editor.selectNone())}onPointerMove(e){this.editor.inputs.isDragging&&this.parent.transition("brushing",e)}onPointerUp(e){d_(this.editor,e),this.complete()}onComplete(){this.complete()}onInterrupt(){this.parent.transition("idle")}complete(){this.parent.transition("idle")}}K(e4e,"id","pointing_canvas");class t4e extends Pt{constructor(){super(...arguments);K(this,"didCtrlOnEnter",!1);K(this,"info",{})}onEnter(r){this.info=r,this.didCtrlOnEnter=r.accelKey;const{shape:n}=r;if(this.editor.isShapeOfType(n,"arrow")){const i=Do(this.editor,n)[r.handle.id];i&&this.editor.setHintingShapes([i.toId])}this.editor.setCursor({type:"grabbing",rotation:0})}onExit(){this.editor.setHintingShapes([]),this.editor.setCursor({type:"default",rotation:0})}onPointerUp(){const{shape:r,handle:n}=this.info;if(this.editor.isShapeOfType(r,"note")){const{editor:i}=this,a=z_e(i,r,n,!1);if(a){n_(i,a,!0);return}}this.parent.transition("idle",this.info)}onPointerMove(r){const{editor:n}=this;n.inputs.isDragging&&(this.didCtrlOnEnter?this.parent.transition("brushing",r):this.startDraggingHandle())}onLongPress(){this.startDraggingHandle()}startDraggingHandle(){const{editor:r}=this;if(r.getIsReadonly())return;const{shape:n,handle:i}=this.info;if(r.isShapeOfType(n,"note")){const a=z_e(r,n,i,!0);if(a){const o=r.getPointInParentSpace(a,r.inputs.originPagePoint).sub(k.Rot(aB.clone().mul(n.props.scale),a.rotation));r.updateShape({...a,x:o.x,y:o.y}),r.setHoveredShape(a.id).select(a.id).setCurrentTool("select.translating",{...this.info,target:"shape",shape:r.getShape(a),onInteractionEnd:"note",isCreating:!0,onCreate:()=>{n_(r,a,!0)}});return}}this.parent.transition("dragging_handle",this.info)}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.parent.transition("idle")}}K(t4e,"id","pointing_handle");function z_e(t,e,r,n){const i=t.getShapePageTransform(e.id),a=i.point(),o=i.rotation(),l=fQe(t,a,o,e.props.growY*e.props.scale,0,e.props.scale)[r.index];if(l)return pQe(t,e,l,o,n)}class r4e extends Pt{constructor(){super(...arguments);K(this,"info",{})}updateCursor(){this.editor.setCursor({type:Fg[this.info.handle],rotation:this.editor.getSelectionRotation()})}onEnter(r){this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.info=r,this.updateCursor()}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.setCursor({type:"default",rotation:0})}onPointerMove(){this.editor.inputs.isDragging&&this.startRotating()}onLongPress(){this.startRotating()}startRotating(){this.editor.getIsReadonly()||this.parent.transition("rotating",this.info)}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}K(r4e,"id","pointing_rotate_handle");class n4e extends Pt{constructor(){super(...arguments);K(this,"info",{})}onEnter(r){this.info=r}onPointerUp(r){d_(this.editor,r),this.parent.transition("idle",r)}onPointerMove(r){this.editor.inputs.isDragging&&this.startTranslating(r)}onLongPress(r){this.startTranslating(r)}startTranslating(r){this.editor.getIsReadonly()||this.parent.transition("translating",r)}onDoubleClick(r){var a,o;const n=this.editor.getHoveredShape(),i=n&&!this.editor.isShapeOfType(n,"group")?n:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{hitInside:!0,margin:0,renderingOnly:!0});if(i){this.parent.transition("idle"),(o=(a=this.parent).onDoubleClick)==null||o.call(a,{...r,target:"shape",shape:this.editor.getShape(i)});return}}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.parent.transition("idle")}}K(n4e,"id","pointing_selection");class i4e extends Pt{constructor(){super(...arguments);K(this,"hitShape",{});K(this,"hitShapeForPointerUp",{});K(this,"isDoubleClick",!1);K(this,"didCtrlOnEnter",!1);K(this,"didSelectOnEnter",!1)}onEnter(r){const n=this.editor.getSelectedShapeIds(),i=this.editor.getSelectionRotatedPageBounds(),a=this.editor.getFocusedGroupId(),{inputs:{currentPagePoint:o}}=this.editor,{shiftKey:s,altKey:l,accelKey:u}=r;this.hitShape=r.shape,this.isDoubleClick=!1,this.didCtrlOnEnter=u;const c=this.editor.getOutermostSelectableShape(r.shape),A=this.editor.findShapeAncestor(c,d=>n.includes(d.id));if(this.didCtrlOnEnter||this.editor.getShapeUtil(r.shape).onClick||c.id===a||n.includes(c.id)||A||n.length>1&&(i!=null&&i.containsPoint(o))){this.didSelectOnEnter=!1,this.hitShapeForPointerUp=c;return}this.didSelectOnEnter=!0,s&&!l?(this.editor.cancelDoubleClick(),n.includes(c.id)||(this.editor.markHistoryStoppingPoint("shift selecting shape"),this.editor.setSelectedShapes([...n,c.id]))):(this.editor.markHistoryStoppingPoint("selecting shape"),this.editor.setSelectedShapes([c.id]))}onPointerUp(r){var c;const n=this.editor.getSelectedShapeIds(),i=this.editor.getFocusedGroupId(),a=this.editor.getZoomLevel(),{inputs:{currentPagePoint:o}}=this.editor,s=r.shiftKey||r.accelKey,l=this.editor.getShapeAtPoint(o,{margin:this.editor.options.hitTestMargin/a,hitInside:!0,renderingOnly:!0})??this.hitShape,u=l?this.editor.getOutermostSelectableShape(l):this.hitShapeForPointerUp;if(u){const A=this.editor.getShapeUtil(u);if(A.onClick){const d=(c=A.onClick)==null?void 0:c.call(A,u);if(d){this.editor.markHistoryStoppingPoint("shape on click"),this.editor.updateShapes([d]),this.parent.transition("idle",r);return}}if(u.id===i){n.length>0?(this.editor.markHistoryStoppingPoint("clearing shape ids"),this.editor.setSelectedShapes([])):this.editor.popFocusedGroupId(),this.parent.transition("idle",r);return}}if(!this.didSelectOnEnter){const A=this.editor.getOutermostSelectableShape(l,d=>!n.includes(d.id));if(n.includes(A.id))if(s)this.editor.markHistoryStoppingPoint("deselecting on pointer up"),this.editor.deselect(u);else if(n.includes(u.id)){if(n.length===1){const d=this.editor.getShapeUtil(u).getGeometry(u),f=XQe(d),p=f.length===1?f[0]:void 0;if(p){const g=this.editor.getPointInShapeSpace(u,o);if(p.bounds.containsPoint(g,0)&&p.hitTestPoint(g)){this.editor.run(()=>{this.editor.markHistoryStoppingPoint("editing on pointer up"),this.editor.select(u.id);const m=this.editor.getShapeUtil(u);this.editor.getIsReadonly()&&!m.canEditInReadOnly(u)||(this.editor.setEditingShape(u.id),this.editor.setCurrentTool("select.editing_shape"),this.isDoubleClick&&this.editor.emit("select-all-text",{shapeId:u.id}))});return}}}this.editor.markHistoryStoppingPoint("selecting on pointer up"),this.editor.select(u.id)}else this.editor.markHistoryStoppingPoint("selecting on pointer up"),this.editor.select(u);else if(s){const d=this.editor.getShapeAncestors(A);this.editor.markHistoryStoppingPoint("shift deselecting on pointer up"),this.editor.setSelectedShapes([...this.editor.getSelectedShapeIds().filter(f=>!d.find(p=>p.id===f)),A.id])}else this.editor.markHistoryStoppingPoint("selecting on pointer up"),this.editor.setSelectedShapes([A.id])}this.parent.transition("idle",r)}onDoubleClick(){this.isDoubleClick=!0}onPointerMove(r){this.editor.inputs.isDragging&&(this.didCtrlOnEnter?this.parent.transition("brushing",r):this.startTranslating(r))}onLongPress(r){this.startTranslating(r)}startTranslating(r){this.editor.getIsReadonly()||(this.editor.focus(),this.parent.transition("translating",r))}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.parent.transition("idle")}}K(i4e,"id","pointing_shape");class a4e extends Pt{constructor(){super(...arguments);K(this,"info",{});K(this,"markId","");K(this,"didHoldCommand",!1);K(this,"creationCursorOffset",{x:0,y:0});K(this,"snapshot",{})}onEnter(r){const{isCreating:n=!1,creatingMarkId:i,creationCursorOffset:a={x:0,y:0}}=r;if(this.info=r,this.didHoldCommand=!1,this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.creationCursorOffset=a,this.snapshot=this._createSnapshot(),this.markId="",n)if(i)this.markId=i;else{const o=this.editor.getMarkIdMatching(`creating:${this.editor.getOnlySelectedShapeId()}`);o&&(this.markId=o)}else this.markId=this.editor.markHistoryStoppingPoint("starting resizing");n&&this.editor.setCursor({type:"cross",rotation:0}),this.handleResizeStart(),this.updateShapes()}onTick({elapsed:r}){const{editor:n}=this;n.edgeScrollManager.updateEdgeScrolling(r)}onPointerMove(){this.updateShapes()}onKeyDown(){this.updateShapes()}onKeyUp(){this.updateShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}complete(){var r,n;if(vn(this.editor,this.snapshot.selectedShapeIds),this.handleResizeEnd(),this.info.isCreating&&this.info.onCreate){(n=(r=this.info).onCreate)==null||n.call(r,this.editor.getOnlySelectedShape());return}if(this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd){this.editor.setCurrentTool(this.info.onInteractionEnd,{});return}this.parent.transition("idle")}handleResizeStart(){const{shapeSnapshots:r}=this.snapshot,n=[];r.forEach(({shape:i})=>{var s;const a=this.editor.getShapeUtil(i),o=(s=a.onResizeStart)==null?void 0:s.call(a,i);o&&n.push(o)}),n.length>0&&this.editor.updateShapes(n)}handleResizeEnd(){const{shapeSnapshots:r}=this.snapshot,n=[];r.forEach(({shape:i})=>{var l;const a=this.editor.getShape(i.id),o=this.editor.getShapeUtil(i),s=(l=o.onResizeEnd)==null?void 0:l.call(o,i,a);s&&n.push(s)}),n.length>0&&this.editor.updateShapes(n)}updateShapes(){const{altKey:r,shiftKey:n}=this.editor.inputs,{frames:i,shapeSnapshots:a,selectionBounds:o,cursorHandleOffset:s,selectedShapeIds:l,selectionRotation:u,canShapesDeform:c}=this.snapshot;let A=n||!c;if(a.size===1){const T=[...a.values()][0];this.editor.isShapeOfType(T.shape,"text")&&(A=!(this.info.handle==="left"||this.info.handle==="right"))}const{ctrlKey:d}=this.editor.inputs,f=this.editor.inputs.currentPagePoint.clone().sub(s).sub(this.creationCursorOffset),p=this.editor.inputs.originPagePoint.clone().sub(s);if(this.editor.getInstanceState().isGridMode&&!d){const{gridSize:T}=this.editor.getDocumentSettings();f.snapToGrid(T)}const g=this.info.handle,m=W_e(g,Math.PI);if(this.editor.snaps.clearIndicators(),(this.editor.user.getIsSnapMode()?!d:d)&&u%bn===0){const{nudge:T}=this.editor.snaps.shapeBounds.snapResizeShapes({dragDelta:k.Sub(f,p),initialSelectionPageBounds:this.snapshot.initialSelectionPageBounds,handle:W_e(g,u),isAspectRatioLocked:A,isResizingFromCenter:r});f.add(T)}const b=k.RotWith(r?o.center:o.getHandlePoint(m),o.point,u),C=k.Sub(f,b).rot(-u),S=k.Sub(p,b).rot(-u),x=k.DivV(C,S);Number.isFinite(x.x)||(x.x=1),Number.isFinite(x.y)||(x.y=1);const _=g==="top"||g==="bottom",B=g==="left"||g==="right";A?B?x.y=Math.abs(x.x):_?x.x=Math.abs(x.y):Math.abs(x.x)>Math.abs(x.y)?x.y=Math.abs(x.x)*(x.y<0?-1:1):x.x=Math.abs(x.y)*(x.x<0?-1:1):(_&&(x.x=1),B&&(x.y=1)),this.info.isCreating||this.updateCursor({dragHandle:g,isFlippedX:x.x<0,isFlippedY:x.y<0,rotation:u});for(const T of a.keys()){const R=a.get(T);this.editor.resizeShape(T,x,{initialShape:R.shape,initialBounds:R.bounds,initialPageTransform:R.pageTransform,dragHandle:g,mode:l.length===1&&T===l[0]?"resize_bounds":"scale_shape",scaleOrigin:b,isAspectRatioLocked:A,scaleAxisRotation:u,skipStartAndEndCallbacks:!0})}if(this.editor.inputs.ctrlKey){this.didHoldCommand=!0;for(const{id:T,children:R}of i){if(!R.length)continue;const P=a.get(T).shape,M=this.editor.getShape(T);if(!(P&&M))continue;const U=M.x-P.x,F=M.y-P.y,j=new k(U,F).rot(-P.rotation);if(j.x!==0||j.y!==0)for(const L of R)this.editor.updateShape({id:L.id,type:L.type,x:L.x-j.x,y:L.y-j.y})}}else if(this.didHoldCommand){this.didHoldCommand=!1;for(const{children:T}of i)if(T.length)for(const R of T)this.editor.updateShape({id:R.id,type:R.type,x:R.x,y:R.y})}}updateCursor({dragHandle:r,isFlippedX:n,isFlippedY:i,rotation:a}){const o={...this.editor.getInstanceState().cursor};switch(r){case"top_left":case"bottom_right":{o.type="nwse-resize",n!==i&&(o.type="nesw-resize");break}case"top_right":case"bottom_left":{o.type="nesw-resize",n!==i&&(o.type="nwse-resize");break}}o.rotation=a,this.editor.setCursor(o)}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.setCursor({type:"default",rotation:0}),this.editor.snaps.clearIndicators()}_createSnapshot(){const r=this.editor.getSelectedShapeIds(),n=this.editor.getSelectionRotation(),{inputs:{originPagePoint:i}}=this.editor,a=this.editor.getSelectionRotatedPageBounds(),o=k.RotWith(a.getHandlePoint(this.info.handle),a.point,n),s=k.Sub(i,o),l=new Map,u=[];r.forEach(A=>{const d=this.editor.getShape(A);if(d){if(d.type==="frame"&&u.push({id:A,children:sr(this.editor.getSortedChildIdsForParent(d).map(f=>this.editor.getShape(f)))}),l.set(d.id,this._createShapeSnapshot(d)),this.editor.isShapeOfType(d,"frame")&&r.length===1)return;this.editor.visitDescendants(d.id,f=>{const p=this.editor.getShape(f);if(p&&(l.set(p.id,this._createShapeSnapshot(p)),this.editor.isShapeOfType(p,"frame")))return!1})}});const c=![...l.values()].some(A=>!WRe(A.pageRotation,n)||A.isAspectRatioLocked);return{shapeSnapshots:l,selectionBounds:a,cursorHandleOffset:s,selectionRotation:n,selectedShapeIds:r,canShapesDeform:c,initialSelectionPageBounds:this.editor.getSelectionPageBounds(),frames:u}}_createShapeSnapshot(r){const n=this.editor.getShapePageTransform(r),i=this.editor.getShapeUtil(r);return{shape:r,bounds:this.editor.getShapeGeometry(r).bounds,pageTransform:n,pageRotation:nt.Decompose(n).rotation,isAspectRatioLocked:i.isAspectRatioLocked(r)}}}K(a4e,"id","resizing");const _N=["top","top_right","right","bottom_right","bottom","bottom_left","left","top_left"];function W_e(t,e){e=e%nn;const r=Math.round(e/(Or/4)),n=_N.indexOf(t);return _N[(n+r)%_N.length]}const G_e=Math.PI/180;class o4e extends Pt{constructor(){super(...arguments);K(this,"snapshot",{});K(this,"info",{});K(this,"markId","")}onEnter(r){this.info=r,this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.markId=this.editor.markHistoryStoppingPoint("rotate start");const n=MUe({editor:this.editor,ids:this.editor.getSelectedShapeIds()});if(!n)return this.parent.transition("idle",this.info);this.snapshot=n;const i=this._getRotationFromPointerPosition({snapToNearestDegree:!1});Lx({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!1}),snapshot:this.snapshot,stage:"start"}),this.editor.setCursor({type:Fg[this.info.handle],rotation:i+this.snapshot.initialShapesRotation})}onExit(){this.editor.setCursor({type:"default",rotation:0}),this.parent.setCurrentToolIdMask(void 0),this.snapshot={}}onPointerMove(){this.update()}onKeyDown(){this.update()}onKeyUp(){this.update()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}update(){const r=this._getRotationFromPointerPosition({snapToNearestDegree:!1});Lx({editor:this.editor,delta:r,snapshot:this.snapshot,stage:"update"}),this.editor.setCursor({type:Fg[this.info.handle],rotation:r+this.snapshot.initialShapesRotation})}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)}complete(){Lx({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!0}),snapshot:this.snapshot,stage:"end"}),vn(this.editor,this.snapshot.shapeSnapshots.map(r=>r.shape.id)),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)}_getRotationFromPointerPosition({snapToNearestDegree:r}){const n=this.editor.getSelectionRotation(),i=this.editor.getSelectionRotatedPageBounds(),{inputs:{shiftKey:a,currentPagePoint:o}}=this.editor,{initialCursorAngle:s,initialShapesRotation:l}=this.snapshot;if(!i)return l;const c=i.center.clone().rotWith(i.point,n).angle(o)-s;let A=l+c;if(a)A=MC(A,24);else if(r&&(A=Math.round(A/G_e)*G_e,this.editor.getInstanceState().isCoarsePointer)){const d=MC(A,4),f=Fx(A,d);Math.abs(f)<ivt(5)&&(A=d)}return A-l}}K(o4e,"id","rotating");class s4e extends Pt{constructor(){super(...arguments);K(this,"hits",new Set);K(this,"size",0);K(this,"scribbleId","id");K(this,"initialSelectedShapeIds",new Set);K(this,"newlySelectedShapeIds",new Set)}onEnter(){this.initialSelectedShapeIds=new Set(this.editor.inputs.shiftKey?this.editor.getSelectedShapeIds():[]),this.newlySelectedShapeIds=new Set,this.size=0,this.hits.clear();const r=this.editor.scribbles.addScribble({color:"selection-stroke",opacity:.32,size:12});this.scribbleId=r.id,this.updateScribbleSelection(!0),this.editor.updateInstanceState({brush:null})}onExit(){this.editor.scribbles.stop(this.scribbleId)}onPointerMove(){this.updateScribbleSelection(!0)}onPointerUp(){this.complete()}onKeyDown(){this.updateScribbleSelection(!1)}onKeyUp(){this.editor.inputs.altKey?this.updateScribbleSelection(!1):this.parent.transition("brushing")}onCancel(){this.cancel()}onComplete(){this.complete()}pushPointToScribble(){const{x:r,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,r,n)}updateScribbleSelection(r){const{editor:n}=this,i=this.editor.getCurrentPageRenderingShapesSorted(),{inputs:{shiftKey:a,originPagePoint:o,previousPagePoint:s,currentPagePoint:l}}=this.editor,{newlySelectedShapeIds:u,initialSelectedShapeIds:c}=this;r&&this.pushPointToScribble();const A=i;let d,f,p,g;const m=0;for(let C=0,S=A.length;C<S;C++){if(d=A[C],n.isShapeOfType(d,"group")||u.has(d.id)||n.isShapeOrAncestorLocked(d)||(f=n.getShapeGeometry(d),n.isShapeOfType(d,"frame")&&f.bounds.containsPoint(n.getPointInShapeSpace(d,o))))continue;const x=n.getShapePageTransform(d);if(!f||!x)continue;const _=x.clone().invert();p=_.applyToPoint(s),g=_.applyToPoint(l);const{bounds:B}=f;if(!(B.minX-m>Math.max(p.x,g.x)||B.minY-m>Math.max(p.y,g.y)||B.maxX+m<Math.min(p.x,g.x)||B.maxY+m<Math.min(p.y,g.y))&&f.hitTestLineSegment(p,g,m)){const T=this.editor.getOutermostSelectableShape(d),R=this.editor.getShapeMask(T.id);if(R&&Uq(s,l,R)!==null&&!ds(l,R))continue;u.add(T.id)}}const w=n.getSelectedShapeIds(),b=new Set(a?[...u,...c]:[...u]);(w.length!==b.size||w.some(C=>!b.has(C)))&&this.editor.setSelectedShapes(Array.from(b))}complete(){this.updateScribbleSelection(!0),this.parent.transition("idle")}cancel(){this.editor.setSelectedShapes([...this.initialSelectedShapeIds]),this.parent.transition("idle")}}K(s4e,"id","scribble_brushing");var n$t=Object.create,l4e=Object.defineProperty,i$t=Object.getOwnPropertyDescriptor,a$t=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),u4e=t=>{throw TypeError(t)},c4e=(t,e,r)=>e in t?l4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,o$t=t=>[,,,n$t(null)],A4e=["class","method","getter","setter","accessor","field","value","get","set"],d4e=t=>t!==void 0&&typeof t!="function"?u4e("Function expected"):t,s$t=(t,e,r,n,i)=>({kind:A4e[t],name:e,metadata:n,addInitializer:a=>r._?u4e("Already initialized"):i.push(d4e(a||null))}),l$t=(t,e)=>c4e(e,a$t("metadata"),t[3]),u$t=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},c$t=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=A4e[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,i$t(i,r)),w=n.length-1;w>=0;w--)l=s$t(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,d4e(o)&&(m[p]=o);return m&&l4e(i,r,m),i},EN=(t,e,r)=>c4e(t,typeof e!="symbol"?e+"":e,r),f4e,cB;const A$t=20,d$t=100;f4e=[Lo];class Z6{constructor(e){this.editor=e,u$t(cB,5,this),EN(this,"prevDroppingShapeId",null),EN(this,"droppingNodeTimer",null),EN(this,"first",!0),e.disposables.add(this.dispose)}updateDroppingNode(e,r){var n;this.first&&(this.editor.setHintingShapes(e.map(i=>this.editor.findShapeAncestor(i,a=>a.type!=="group")).filter(i=>i)),this.prevDroppingShapeId=((n=this.editor.getDroppingOverShape(this.editor.inputs.originPagePoint,e))==null?void 0:n.id)??null,this.first=!1),this.droppingNodeTimer===null?this.setDragTimer(e,A$t,r):this.editor.inputs.pointerVelocity.len()>.5&&(clearTimeout(this.droppingNodeTimer),this.setDragTimer(e,d$t,r))}setDragTimer(e,r,n){this.droppingNodeTimer=this.editor.timers.setTimeout(()=>{this.editor.run(()=>{this.handleDrag(this.editor.inputs.currentPagePoint,e,n)}),this.droppingNodeTimer=null},r)}handleDrag(e,r,n){var l,u,c,A,d;r=sr(r.map(f=>this.editor.getShape(f.id)));const i=((l=this.editor.getDroppingOverShape(e,r))==null?void 0:l.id)??null;if(i===this.prevDroppingShapeId){this.hintParents(r);return}const{prevDroppingShapeId:a}=this,o=a&&this.editor.getShape(a),s=i&&this.editor.getShape(i);o&&((c=(u=this.editor.getShapeUtil(o)).onDragShapesOut)==null||c.call(u,o,r)),s&&((d=(A=this.editor.getShapeUtil(s)).onDragShapesOver)==null||d.call(A,s,r)),this.hintParents(r),n==null||n(),this.prevDroppingShapeId=i}hintParents(e){const r=new Map;for(const i of e){const a=this.editor.findShapeAncestor(i,o=>o.type!=="group");a&&(r.has(a.id)||r.set(a.id,[]),r.get(a.id).push(i.id))}const n=[];for(const[i,a]of r){const o=this.editor.getShape(i);o&&d$e(this.editor,o).length<a.length&&n.push(o.id)}this.editor.setHintingShapes(n)}dropShapes(e){var n,i;const{prevDroppingShapeId:r}=this;if(this.handleDrag(this.editor.inputs.currentPagePoint,e),r){const a=this.editor.getShape(r);if(!a)return;(i=(n=this.editor.getShapeUtil(a)).onDropShapesOver)==null||i.call(n,a,e)}}clear(){this.prevDroppingShapeId=null,this.droppingNodeTimer!==null&&clearTimeout(this.droppingNodeTimer),this.droppingNodeTimer=null,this.editor.setHintingShapes([]),this.first=!0}dispose(){this.clear()}}cB=o$t();c$t(cB,1,"dispose",f4e,Z6);l$t(cB,Z6);var f$t=Object.create,h4e=Object.defineProperty,h$t=Object.getOwnPropertyDescriptor,p4e=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),g4e=t=>{throw TypeError(t)},m4e=(t,e,r)=>e in t?h4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p$t=t=>[,,,f$t((t==null?void 0:t[p4e("metadata")])??null)],v4e=["class","method","getter","setter","accessor","field","value","get","set"],y4e=t=>t!==void 0&&typeof t!="function"?g4e("Function expected"):t,g$t=(t,e,r,n,i)=>({kind:v4e[t],name:e,metadata:n,addInitializer:a=>r._?g4e("Already initialized"):i.push(y4e(a||null))}),m$t=(t,e)=>m4e(e,p4e("metadata"),t[3]),v$t=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},y$t=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=v4e[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,h$t(i,r)),w=n.length-1;w>=0;w--)l=g$t(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,y4e(o)&&(m[p]=o);return m&&h4e(i,r,m),i},$A=(t,e,r)=>m4e(t,typeof e!="symbol"?e+"":e,r),w4e,aH,AB;class dB extends(aH=Pt,w4e=[Lo],aH){constructor(){super(...arguments),v$t(AB,5,this),$A(this,"info",{}),$A(this,"selectionSnapshot",{}),$A(this,"snapshot",{}),$A(this,"markId",""),$A(this,"isCloning",!1),$A(this,"isCreating",!1),$A(this,"dragAndDropManager",new Z6(this.editor))}onCreate(e){}onEnter(e){var a;const{isCreating:r=!1,creatingMarkId:n,onCreate:i=()=>{}}=e;if(!((a=this.editor.getSelectedShapeIds())!=null&&a.length)){this.parent.transition("idle");return}if(this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.isCreating=r,this.markId="",r)if(n)this.markId=n;else{const o=this.editor.getMarkIdMatching(`creating:${this.editor.getOnlySelectedShapeId()}`);o&&(this.markId=o)}else this.markId=this.editor.markHistoryStoppingPoint("translating");if(this.onCreate=i,this.isCloning=!1,this.info=e,this.editor.setCursor({type:"move",rotation:0}),this.selectionSnapshot=V_e(this.editor),!this.isCreating&&this.editor.inputs.altKey){this.startCloning();return}this.snapshot=this.selectionSnapshot,this.handleStart(),this.updateShapes()}onExit(){this.parent.setCurrentToolIdMask(void 0),this.selectionSnapshot={},this.snapshot={},this.editor.snaps.clearIndicators(),this.editor.setCursor({type:"default",rotation:0}),this.dragAndDropManager.clear()}onTick({elapsed:e}){const{editor:r}=this;this.dragAndDropManager.updateDroppingNode(this.snapshot.movingShapes,this.updateParentTransforms),r.edgeScrollManager.updateEdgeScrolling(e)}onPointerMove(){this.updateShapes()}onKeyDown(){if(this.editor.inputs.altKey&&!this.isCloning){this.startCloning();return}this.updateShapes()}onKeyUp(){if(!this.editor.inputs.altKey&&this.isCloning){this.stopCloning();return}this.updateShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}startCloning(){this.isCreating||(this.isCloning=!0,this.reset(),this.markId=this.editor.markHistoryStoppingPoint("translate cloning"),this.editor.duplicateShapes(Array.from(this.editor.getSelectedShapeIds())),this.snapshot=V_e(this.editor),this.handleStart(),this.updateShapes())}stopCloning(){this.isCloning=!1,this.snapshot=this.selectionSnapshot,this.reset(),this.markId=this.editor.markHistoryStoppingPoint("translate"),this.updateShapes()}reset(){this.editor.bailToMark(this.markId)}complete(){var e;this.updateShapes(),this.dragAndDropManager.dropShapes(this.snapshot.movingShapes),vn(this.editor,this.snapshot.movingShapes.map(r=>r.id)),this.handleEnd(),this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.isCreating?(e=this.onCreate)==null||e.call(this,this.editor.getOnlySelectedShape()):this.parent.transition("idle")}cancel(){this.reset(),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.parent.transition("idle",this.info)}handleStart(){const{movingShapes:e}=this.snapshot,r=[];e.forEach(n=>{var o;const i=this.editor.getShapeUtil(n),a=(o=i.onTranslateStart)==null?void 0:o.call(i,n);a&&r.push(a)}),r.length>0&&this.editor.updateShapes(r),this.editor.setHoveredShape(null)}handleEnd(){const{movingShapes:e}=this.snapshot;if(this.isCloning&&e.length>0){const n=k.Average(e.map(a=>this.editor.getShapePageTransform(a.id).point())),i=k.Sub(n,this.selectionSnapshot.averagePagePoint);k.IsNaN(i)||this.editor.updateInstanceState({duplicateProps:{shapeIds:e.map(a=>a.id),offset:{x:i.x,y:i.y}}})}const r=[];e.forEach(n=>{var s;const i=this.editor.getShape(n.id),a=this.editor.getShapeUtil(n),o=(s=a.onTranslateEnd)==null?void 0:s.call(a,n,i);o&&r.push(o)}),r.length>0&&this.editor.updateShapes(r)}updateShapes(){const{snapshot:e}=this;this.dragAndDropManager.updateDroppingNode(e.movingShapes,this.updateParentTransforms),w$t({editor:this.editor,snapshot:e});const{movingShapes:r}=e,n=[];r.forEach(i=>{var l;const a=this.editor.getShape(i.id),o=this.editor.getShapeUtil(i),s=(l=o.onTranslate)==null?void 0:l.call(o,i,a);s&&n.push(s)}),n.length>0&&this.editor.updateShapes(n)}updateParentTransforms(){const{editor:e,snapshot:{shapeSnapshots:r}}=this;r.forEach(n=>{const i=e.getShape(n.shape.id);if(!i)return null;const a=To(i.parentId)?null:nt.Inverse(e.getShapePageTransform(i.parentId));n.parentTransform=a})}}AB=p$t(aH);y$t(AB,1,"updateParentTransforms",w4e,dB);m$t(AB,dB);$A(dB,"id","translating");function V_e(t){var A;const e=[],r=[],n=t.getSelectedShapeIds(),i=sr(n.map(d=>{const f=t.getShape(d);if(!f)return null;e.push(f);const p=t.getShapePageTransform(d),g=p.point(),m=p.rotation();r.push(g);const w=ms.isId(f.parentId)?null:nt.Inverse(t.getShapePageTransform(f.parentId));return{shape:f,pagePoint:g,pageRotation:m,parentTransform:w}})),a=t.getOnlySelectedShape();let o=[];if(a)o=t.snaps.shapeBounds.getSnapPoints(a.id);else{const d=t.getSelectionPageBounds();d&&(o=d.cornersAndCenter.map((f,p)=>({id:"selection:"+p,x:f.x,y:f.y})))}let s,l;const{originPagePoint:u}=t.inputs,c=i.filter(d=>t.isShapeOfType(d.shape,"note")&&t.isPointInShape(d.shape,u));if(c.length!==0)if(c.length===1)l=c[0];else{const d=t.getCurrentPageShapesSorted();l=(A=c.map(f=>({snapshot:f,index:d.findIndex(p=>p.id===f.shape.id)})).sort((f,p)=>p.index-f.index)[0])==null?void 0:A.snapshot}return l&&(s=hQe(t,l.pageRotation,l.shape.props.scale,l.shape.props.growY??0)),{averagePagePoint:k.Average(r),movingShapes:e,shapeSnapshots:i,initialPageBounds:t.getSelectionPageBounds(),initialSnapPoints:o,noteAdjacentPositions:s,noteSnapshot:l}}function w$t({editor:t,snapshot:e}){const{inputs:r}=t,{noteSnapshot:n,noteAdjacentPositions:i,initialPageBounds:a,initialSnapPoints:o,shapeSnapshots:s,averagePagePoint:l}=e,u=t.getInstanceState().isGridMode,c=t.getDocumentSettings().gridSize,A=k.Sub(r.currentPagePoint,r.originPagePoint),d=t.inputs.shiftKey?Math.abs(A.x)<Math.abs(A.y)?"x":"y":null;d==="x"?A.x=0:d==="y"&&(A.y=0),t.snaps.clearIndicators();const f=t.user.getIsSnapMode()?!r.ctrlKey:r.ctrlKey;let p=!1;if(f&&t.inputs.pointerVelocity.len()<.5){const{nudge:b}=t.snaps.shapeBounds.snapTranslateShapes({dragDelta:A,initialSelectionPageBounds:a,lockedAxis:d,initialSelectionSnapPoints:o});A.add(b)}else if(n&&i){const{scale:b}=n.shape.props,C=n.pagePoint.clone().add(A).add(aB.clone().mul(b).rot(n.pageRotation));let S=dQe/t.getZoomLevel(),x=new k(0,0);for(const _ of i){const B=k.Sub(C,_),T=B.len();T<S&&(p=!0,S=T,x=B)}A.sub(x)}const g=k.Add(l,A),m=t.snaps.getIndicators();u&&!r.ctrlKey&&!p&&m.length===0&&g.snapToGrid(c);const w=k.Sub(g,l);t.updateShapes(sr(s.map(({shape:b,pagePoint:C,parentTransform:S})=>{const x=k.Add(C,w),_=S?nt.applyToPoint(S,x):x;return{id:b.id,type:b.type,x:_.x,y:_.y}})))}class c1 extends Pt{constructor(){super(...arguments);K(this,"reactor")}static children(){return[iH,X6,ZNt,e4e,i4e,dB,qQe,s4e,J6,n4e,KQe,JQe,a4e,o4e,r4e,ZQe,t4e,YQe]}cleanUpDuplicateProps(){const r=this.editor.getSelectedShapeIds(),n=this.editor.getInstanceState();if(!n.duplicateProps)return;const i=new Set(n.duplicateProps.shapeIds);r.length===i.size&&r.every(a=>i.has(a))||this.editor.updateInstanceState({duplicateProps:null})}onEnter(){this.reactor=ku("clean duplicate props",()=>{try{this.cleanUpDuplicateProps()}catch(r){console.error(r)}})}onExit(){var r;(r=this.reactor)==null||r.call(this),this.editor.getCurrentPageState().editingShapeId&&this.editor.setEditingShape(null)}}K(c1,"id","select"),K(c1,"initial","idle"),K(c1,"isLockable",!1);class b4e extends Pt{constructor(){super(...arguments);K(this,"info",{})}onEnter(r){this.info=r}onPointerDown(){this.parent.transition("pointing",this.info)}}K(b4e,"id","idle");class S4e extends Pt{constructor(){super(...arguments);K(this,"info",{})}onEnter(r){this.info=r}onPointerUp(){this.complete()}onPointerMove(){this.editor.inputs.isDragging&&this.parent.transition("zoom_brushing",this.info)}onCancel(){this.cancel()}complete(){const{currentScreenPoint:r}=this.editor.inputs;this.editor.inputs.altKey?this.editor.zoomOut(r,{animation:{duration:220}}):this.editor.zoomIn(r,{animation:{duration:220}}),this.parent.transition("idle",this.info)}cancel(){this.parent.transition("idle",this.info)}}K(S4e,"id","pointing");class x4e extends Pt{constructor(){super(...arguments);K(this,"info",{});K(this,"zoomBrush",new Ze)}onEnter(r){this.info=r,this.update()}onExit(){this.editor.updateInstanceState({zoomBrush:null})}onPointerMove(){this.update()}onPointerUp(){this.complete()}onCancel(){this.cancel()}update(){const{inputs:{originPagePoint:r,currentPagePoint:n}}=this.editor;this.zoomBrush.setTo(Ze.FromPoints([r,n])),this.editor.updateInstanceState({zoomBrush:this.zoomBrush.toJson()})}cancel(){this.parent.transition("idle",this.info)}complete(){const{zoomBrush:r}=this,n=8/this.editor.getZoomLevel();if(r.width<n&&r.height<n){const i=this.editor.inputs.currentScreenPoint;this.editor.inputs.altKey?this.editor.zoomOut(i,{animation:{duration:220}}):this.editor.zoomIn(i,{animation:{duration:220}})}else{const i=this.editor.inputs.altKey?this.editor.getZoomLevel()/2:void 0;this.editor.zoomToBounds(r,{targetZoom:i,animation:{duration:220}})}this.parent.transition("idle",this.info)}}K(x4e,"id","zoom_brushing");class A1 extends Pt{constructor(){super(...arguments);K(this,"info",{})}static children(){return[b4e,x4e,S4e]}onEnter(r){this.info=r,this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.updateCursor()}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({zoomBrush:null,cursor:{type:"default",rotation:0}}),this.parent.setCurrentToolIdMask(void 0)}onKeyDown(){this.updateCursor()}onKeyUp(r){this.updateCursor(),r.code==="KeyZ"&&this.complete()}onInterrupt(){this.complete()}complete(){this.info.onInteractionEnd&&this.info.onInteractionEnd!=="select"?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("select")}updateCursor(){this.editor.inputs.altKey?this.editor.setCursor({type:"zoom-out",rotation:0}):this.editor.setCursor({type:"zoom-in",rotation:0})}}K(A1,"id","zoom"),K(A1,"initial","idle"),K(A1,"isLockable",!1);const b$t=[s1,l1,u1,A1,c1];function S$t(){const t=we(),e=Ce("follow",()=>t.getInstanceState().followingUserId,[t]);return e?y.jsx(x$t,{userId:e}):null}function x$t({userId:t}){const e=zE(t);return e?y.jsx("div",{className:"tlui-following-indicator",style:{borderColor:e.color}}):null}let oH={fonts:{draw:`${JA()}/fonts/Shantell_Sans-Tldrawish.woff2`,serif:`${JA()}/fonts/IBMPlexSerif-Medium.woff2`,sansSerif:`${JA()}/fonts/IBMPlexSans-Medium.woff2`,monospace:`${JA()}/fonts/IBMPlexMono-Medium.woff2`}};function C4e(t){return I.useMemo(()=>t?{fonts:{...oH.fonts,...t==null?void 0:t.fonts}}:oH,[t])}const C$t=["align-bottom","align-center-horizontal","align-center-vertical","align-left","align-right","align-top","arrow-left","arrowhead-arrow","arrowhead-bar","arrowhead-diamond","arrowhead-dot","arrowhead-none","arrowhead-square","arrowhead-triangle-inverted","arrowhead-triangle","blob","bring-forward","bring-to-front","broken","check-circle","check","chevron-down","chevron-left","chevron-right","chevron-up","chevrons-ne","chevrons-sw","clipboard-copied","clipboard-copy","color","cross-2","cross-circle","dash-dashed","dash-dotted","dash-draw","dash-solid","disconnected","discord","distribute-horizontal","distribute-vertical","dot","dots-horizontal","dots-vertical","drag-handle-dots","duplicate","edit","external-link","fill-fill","fill-none","fill-pattern","fill-semi","fill-solid","follow","following","font-draw","font-mono","font-sans","font-serif","geo-arrow-down","geo-arrow-left","geo-arrow-right","geo-arrow-up","geo-check-box","geo-cloud","geo-diamond","geo-ellipse","geo-heart","geo-hexagon","geo-octagon","geo-oval","geo-pentagon","geo-rectangle","geo-rhombus-2","geo-rhombus","geo-star","geo-trapezoid","geo-triangle","geo-x-box","github","group","horizontal-align-end","horizontal-align-middle","horizontal-align-start","info-circle","leading","link","lock","menu","minus","mixed","pack","plus","question-mark-circle","question-mark","redo","reset-zoom","rotate-ccw","rotate-cw","send-backward","send-to-back","share-1","size-extra-large","size-large","size-medium","size-small","spline-cubic","spline-line","stack-horizontal","stack-vertical","status-offline","stretch-horizontal","stretch-vertical","text-align-center","text-align-left","text-align-right","toggle-off","toggle-on","tool-arrow","tool-eraser","tool-frame","tool-hand","tool-highlight","tool-laser","tool-line","tool-media","tool-note","tool-pencil","tool-pointer","tool-screenshot","tool-text","trash","twitter","undo","ungroup","unlock","vertical-align-end","vertical-align-middle","vertical-align-start","warning-triangle","zoom-in","zoom-out"];let Fv={...oH,icons:Object.fromEntries(C$t.map(t=>[t,`${JA()}/icons/icon/0_merged.svg#${t}`])),translations:Object.fromEntries(Ew.map(t=>[t.locale,`${JA()}/translations/${t.locale}.json`])),embedIcons:Object.fromEntries(O6.map(t=>[t.type,`${JA()}/embed-icons/${t.type}.png`]))};function _$t(t){return t?{fonts:Object.assign({...Fv.fonts},{...t==null?void 0:t.fonts}),icons:Object.assign({...Fv.icons},{...t==null?void 0:t.icons}),embedIcons:Object.assign({...Fv.embedIcons},{...t==null?void 0:t.embedIcons}),translations:Object.assign({...Fv.translations},{...t==null?void 0:t.translations})}:Fv}var eK="Popover",[_4e,n5t]=ic(eK,[QI]),zb=QI(),[E$t,Qd]=_4e(eK),E4e=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=zb(e),l=I.useRef(null),[u,c]=I.useState(!1),[A=!1,d]=Nd({prop:n,defaultProp:i,onChange:a});return y.jsx(l6,{...s,children:y.jsx(E$t,{scope:e,contentId:Hc(),triggerRef:l,open:A,onOpenChange:d,onOpenToggle:I.useCallback(()=>d(f=>!f),[d]),hasCustomAnchor:u,onCustomAnchorAdd:I.useCallback(()=>c(!0),[]),onCustomAnchorRemove:I.useCallback(()=>c(!1),[]),modal:o,children:r})})};E4e.displayName=eK;var I4e="PopoverAnchor",I$t=I.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Qd(I4e,r),a=zb(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return I.useEffect(()=>(o(),()=>s()),[o,s]),y.jsx(u6,{...a,...n,ref:e})});I$t.displayName=I4e;var B4e="PopoverTrigger",P4e=I.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Qd(B4e,r),a=zb(r),o=Sn(e,i.triggerRef),s=y.jsx(Rr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":F4e(i.open),...n,ref:o,onClick:Et(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:y.jsx(u6,{asChild:!0,...a,children:s})});P4e.displayName=B4e;var tK="PopoverPortal",[B$t,P$t]=_4e(tK,{forceMount:void 0}),T4e=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Qd(tK,e);return y.jsx(B$t,{scope:e,forceMount:r,children:y.jsx(eu,{present:r||a.open,children:y.jsx($b,{asChild:!0,container:i,children:n})})})};T4e.displayName=tK;var kg="PopoverContent",O4e=I.forwardRef((t,e)=>{const r=P$t(kg,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Qd(kg,t.__scopePopover);return y.jsx(eu,{present:n||a.open,children:a.modal?y.jsx(T$t,{...i,ref:e}):y.jsx(O$t,{...i,ref:e})})});O4e.displayName=kg;var T$t=I.forwardRef((t,e)=>{const r=Qd(kg,t.__scopePopover),n=I.useRef(null),i=Sn(e,n),a=I.useRef(!1);return I.useEffect(()=>{const o=n.current;if(o)return c6(o)},[]),y.jsx(KI,{as:Gf,allowPinchZoom:!0,children:y.jsx(R4e,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Et(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Et(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),O$t=I.forwardRef((t,e)=>{const r=Qd(kg,t.__scopePopover),n=I.useRef(!1),i=I.useRef(!1);return y.jsx(R4e,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),R4e=I.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...A}=t,d=Qd(kg,r),f=zb(r);return Jq(),y.jsx(jI,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:y.jsx(Lb,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:c,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>d.onOpenChange(!1),children:y.jsx(NLe,{"data-state":F4e(d.open),role:"dialog",id:d.contentId,...f,...A,ref:e,style:{...A.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),M4e="PopoverClose",R$t=I.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Qd(M4e,r);return y.jsx(Rr.button,{type:"button",...n,ref:e,onClick:Et(t.onClick,()=>i.onOpenChange(!1))})});R$t.displayName=M4e;var M$t="PopoverArrow",F$t=I.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=zb(r);return y.jsx($Le,{...i,...n,ref:e})});F$t.displayName=M$t;function F4e(t){return t?"open":"closed"}var rK=E4e,nK=P4e,iK=T4e,aK=O4e;function oK({id:t,children:e,onOpenChange:r,open:n}){const[i,a]=dA(t,r);return y.jsx(rK,{onOpenChange:a,open:n||i,children:y.jsx("div",{className:"tlui-popover",children:e})})}function sK({children:t}){return y.jsx(nK,{asChild:!0,dir:"ltr",children:t})}function lK({side:t,children:e,align:r="center",sideOffset:n=8,alignOffset:i=0,disableEscapeKeyDown:a=!1}){const o=$i();return y.jsx(iK,{container:o,children:y.jsx(aK,{className:"tlui-popover__content",side:t,sideOffset:n,align:r,alignOffset:i,dir:"ltr",onEscapeKeyDown:s=>a&&s.preventDefault(),children:e})})}function k$t(t){return t.getSelectedShapeIds().map(n=>t.getShape(n)).filter(n=>{if(!n)return!1;if(t.isShapeOfType(n,"arrow")){const i=Do(t,n);if(i.start||i.end)return!1}return!0})}const k4e=()=>{const t=we();return Ce("threeStackableItems",()=>k$t(t).length>2,[t])},fA=()=>{const t=we();return Ce("isInSelectState",()=>t.isIn("select"),[t])},U4e=()=>{const t=we();return Ce("allow group",()=>{const e=t.getSelectedShapes();if(e.length<2)return!1;for(const r of e)if(t.isShapeOfType(r,"arrow")){const n=Do(t,r);if(n.start&&!e.some(i=>i.id===n.start.toId)||n.end&&!e.some(i=>i.id===n.end.toId))return!1}return!0},[t])},D4e=()=>{const t=we();return Ce("allowUngroup",()=>t.getSelectedShapeIds().some(e=>{var r;return((r=t.getShape(e))==null?void 0:r.type)==="group"}),[t])},U$t=typeof window<"u"&&"navigator"in window&&!!navigator.clipboard&&!!navigator.clipboard.read;function j4e(t,e){const r=we();return Ce("selectedShapes",()=>r.getSelectedShapes().length>=t,[r,t,e])}function yo(t,e){const r=we();return Ce("selectedShapes",()=>{const n=r.getSelectedShapes().filter(i=>!r.isShapeOrAncestorLocked(i)).length;return t===void 0?n:n>=t},[r])}function D$t(){const t=we();return Ce("showAutoSizeToggle",()=>{const e=t.getSelectedShapes();return e.length===1&&t.isShapeOfType(e[0],"text")&&e[0].props.autoSize===!1},[t])}function L4e(){const t=we();return Ce("hasLinkShapeSelected",()=>{const e=t.getOnlySelectedShape();return!!(e&&e.type!=="embed"&&"url"in e.props&&!e.isLocked)},[t])}function j$t(){const t=we();return Ce("onlyFlippableShape",()=>{const e=t.getOnlySelectedShape();return e&&(t.isShapeOfType(e,"group")||t.isShapeOfType(e,"image")||t.isShapeOfType(e,"arrow")||t.isShapeOfType(e,"line")||t.isShapeOfType(e,"draw"))},[t])}function N4e(){const t=we();return Ce("useCanRedo",()=>t.getCanRedo(),[t])}function $4e(){const t=we();return Ce("useCanUndo",()=>t.getCanUndo(),[t])}function L$t(){return y.jsxs(y.Fragment,{children:[y.jsx(N$t,{}),y.jsx($$t,{}),y.jsx(Q$t,{}),y.jsx(H$t,{}),y.jsx(q$t,{}),y.jsx(W$t,{}),y.jsx(G$t,{}),y.jsx(V$t,{})]})}function N$t(){const t=yo(2),e=fA(),r=t&&e;return y.jsxs(y.Fragment,{children:[y.jsx(Ue,{actionId:"align-left",disabled:!r}),y.jsx(Ue,{actionId:"align-center-horizontal",disabled:!r}),y.jsx(Ue,{actionId:"align-right",disabled:!r}),y.jsx(Ue,{actionId:"stretch-horizontal",disabled:!r}),y.jsx(Ue,{actionId:"align-top",disabled:!r}),y.jsx(Ue,{actionId:"align-center-vertical",disabled:!r}),y.jsx(Ue,{actionId:"align-bottom",disabled:!r}),y.jsx(Ue,{actionId:"stretch-vertical",disabled:!r})]})}function $$t(){const t=yo(3),e=fA(),r=t&&e;return y.jsxs(y.Fragment,{children:[y.jsx(Ue,{actionId:"distribute-horizontal",disabled:!r}),y.jsx(Ue,{actionId:"distribute-vertical",disabled:!r})]})}function Q$t(){const t=k4e(),e=fA(),r=t&&e;return y.jsxs(y.Fragment,{children:[y.jsx(Ue,{actionId:"stack-horizontal",disabled:!r}),y.jsx(Ue,{actionId:"stack-vertical",disabled:!r})]})}function H$t(){const t=yo(1),e=fA(),r=t&&e;return y.jsxs(y.Fragment,{children:[y.jsx(Ue,{actionId:"send-to-back",disabled:!r}),y.jsx(Ue,{actionId:"send-backward",disabled:!r}),y.jsx(Ue,{actionId:"bring-forward",disabled:!r}),y.jsx(Ue,{actionId:"bring-to-front",disabled:!r})]})}function q$t(){return vo()<ai.TABLET_SM?y.jsx(K$t,{}):y.jsx(z$t,{})}function K$t(){const t=we(),e=Ce("zoom is 1",()=>t.getZoomLevel()===1,[t]);return y.jsx(Ue,{actionId:"zoom-to-100",disabled:e})}function z$t(){const t=yo(1),e=fA(),r=t&&e;return y.jsx(Ue,{actionId:"rotate-ccw",disabled:!r})}function W$t(){const t=yo(1),e=fA(),r=t&&e;return y.jsx(Ue,{actionId:"rotate-cw",disabled:!r})}function G$t(){const t=L4e(),e=fA(),r=t&&e;return y.jsx(Ue,{actionId:"edit-link",disabled:!r})}function V$t(){const t=U4e(),e=D4e();return t?y.jsx(Y_e,{}):e?y.jsx(Y$t,{}):y.jsx(Y_e,{})}function Y_e(){const t=yo(2),e=fA(),r=t&&e;return y.jsx(Ue,{actionId:"group",disabled:!r})}function Y$t(){return y.jsx(Ue,{actionId:"ungroup"})}const X$t=I.memo(function({children:e}){const r=Sr(),n=vo(),i=_s(),a=I.useRef(null);Ld(a);const o=we(),s=Ce("should display quick actions when in readonly",()=>o.isInAny("hand","zoom"),[o]),l=e??y.jsx(L$t,{});if(!(i&&!s))return y.jsxs(oK,{id:"actions-menu",children:[y.jsx(sK,{children:y.jsx(Ut,{type:"icon","data-testid":"actions-menu.button",title:r("actions-menu.title"),children:y.jsx(gr,{icon:"dots-vertical",small:!0})})}),y.jsx(lK,{side:n>=ai.TABLET?"bottom":"top",sideOffset:6,children:y.jsx("div",{ref:a,className:"tlui-actions-menu tlui-buttons__grid","data-testid":"actions-menu.content",children:y.jsx(rl,{type:"icons",sourceId:"actions-menu",children:l})})})]})});function Q4e(){return D$t()?y.jsx(Ue,{actionId:"toggle-auto-size"}):null}function H4e(){return L4e()?y.jsx(Ue,{actionId:"edit-link"}):null}function J$t(){return yo(1)?y.jsx(Ue,{actionId:"duplicate"}):null}function q4e(){const t=we();return Ce("should display flatten option",()=>{if(t.getSelectedShapeIds().length===0)return!1;const n=t.getOnlySelectedShape();return!(n&&t.isShapeOfType(n,"image"))},[t])?y.jsx(Ue,{actionId:"flatten-to-image"}):null}function K4e(){return U4e()?y.jsx(Ue,{actionId:"group"}):null}function z4e(){return D4e()?y.jsx(Ue,{actionId:"ungroup"}):null}function W4e(){const t=we();return Ce("allow unframe",()=>{const r=t.getSelectedShapes();return r.length===0?!1:r.every(n=>t.isShapeOfType(n,"frame"))},[t])?y.jsx(Ue,{actionId:"remove-frame"}):null}function G4e(){const t=we();return Ce("allow fit frame to content",()=>{const r=t.getOnlySelectedShape();return r?t.isShapeOfType(r,"frame")&&t.getSortedChildIdsForParent(r).length>0:!1},[t])?y.jsx(Ue,{actionId:"fit-frame-to-content"}):null}function V4e(){const t=we();return Ce("selected shapes",()=>t.getSelectedShapes().length>0,[t])?y.jsx(Ue,{actionId:"toggle-lock"}):null}function uK(){const t=we(),e=Ce("isTransparentBg",()=>!t.getInstanceState().exportBackground,[t]);return y.jsx(ru,{actionId:"toggle-transparent",checked:e,toggle:!0})}function Z$t(){const t=we(),e=Ce("any shapes",()=>t.getCurrentPageShapeIds().size>0,[t]);return y.jsx(Ue,{actionId:"unlock-all",disabled:!e})}function Y4e(){const t=we(),e=Ce("zoomed to 100",()=>t.getZoomLevel()===1,[t]);return y.jsx(Ue,{actionId:"zoom-to-100",noClose:!0,disabled:e})}function X4e(){const t=we(),e=Ce("has shapes",()=>t.getCurrentPageShapeIds().size>0,[t]);return y.jsx(Ue,{actionId:"zoom-to-fit",disabled:!e,"data-testid":"minimap.zoom-menu.zoom-to-fit",noClose:!0})}function J4e(){const t=we(),e=Ce("has shapes",()=>t.getSelectedShapeIds().length>0,[t]);return y.jsx(Ue,{actionId:"zoom-to-selection",disabled:!e,"data-testid":"minimap.zoom-menu.zoom-to-selection",noClose:!0})}function Z4e(){return y.jsxs(ur,{id:"clipboard",children:[y.jsx(tQt,{}),y.jsx(rQt,{}),y.jsx(nQt,{}),y.jsx(J$t,{}),y.jsx(iQt,{})]})}function eQt(){var r;const t=we(),e=Ce("atLeastOneShapeOnPage",()=>t.getCurrentPageShapeIds().size>0,[t]);return y.jsxs(Wo,{id:"copy-as",label:"context-menu.copy-as",size:"small",disabled:!e,children:[y.jsxs(ur,{id:"copy-as-group",children:[y.jsx(Ue,{actionId:"copy-as-svg"}),!!((r=window.navigator.clipboard)!=null&&r.write)&&y.jsx(Ue,{actionId:"copy-as-png"})]}),y.jsx(ur,{id:"copy-as-bg",children:y.jsx(uK,{})})]})}function tQt(){const t=yo(1);return y.jsx(Ue,{actionId:"cut",disabled:!t})}function rQt(){const t=j4e(1);return y.jsx(Ue,{actionId:"copy",disabled:!t})}function nQt(){const t=U$t;return y.jsx(Ue,{actionId:"paste",disabled:!t})}function eHe(){const t=we();return Ce("atLeastOneShapeOnPage",()=>t.getCurrentPageShapeIds().size>0,[t])?y.jsxs(ur,{id:"conversions",children:[y.jsx(eQt,{}),y.jsxs(Wo,{id:"export-as",label:"context-menu.export-as",size:"small",children:[y.jsxs(ur,{id:"export-as-group",children:[y.jsx(Ue,{actionId:"export-as-svg"}),y.jsx(Ue,{actionId:"export-as-png"})]}),y.jsx(ur,{id:"export-as-bg",children:y.jsx(uK,{})})]})]}):null}function tHe(){const t=we(),e=Ce("atLeastOneShapeOnPage",()=>t.getCurrentPageShapeIds().size>0,[t]);return y.jsx(Ue,{actionId:"select-all",disabled:!e})}function iQt(){const t=yo(1);return y.jsx(Ue,{actionId:"delete",disabled:!t})}function aQt(){const t=_s();return!j4e(1)||t?null:y.jsxs(Wo,{id:"edit",label:"context-menu.edit",size:"small",children:[y.jsx(K4e,{}),y.jsx(z4e,{}),y.jsx(q4e,{}),y.jsx(H4e,{}),y.jsx(G4e,{}),y.jsx(W4e,{}),y.jsx(nHe,{}),y.jsx(rHe,{}),y.jsx(Q4e,{}),y.jsx(V4e,{})]})}function oQt(){const t=yo(2),e=j$t();return _s()||!(t||e)?null:y.jsxs(Wo,{id:"arrange",label:"context-menu.arrange",size:"small",children:[t&&y.jsxs(ur,{id:"align",children:[y.jsx(Ue,{actionId:"align-left"}),y.jsx(Ue,{actionId:"align-center-horizontal"}),y.jsx(Ue,{actionId:"align-right"}),y.jsx(Ue,{actionId:"align-top"}),y.jsx(Ue,{actionId:"align-center-vertical"}),y.jsx(Ue,{actionId:"align-bottom"})]}),y.jsx(sQt,{}),t&&y.jsxs(ur,{id:"stretch",children:[y.jsx(Ue,{actionId:"stretch-horizontal"}),y.jsx(Ue,{actionId:"stretch-vertical"})]}),(t||e)&&y.jsxs(ur,{id:"flip",children:[y.jsx(Ue,{actionId:"flip-horizontal"}),y.jsx(Ue,{actionId:"flip-vertical"})]}),y.jsx(lQt,{})]})}function sQt(){return yo(3)?y.jsxs(ur,{id:"distribute",children:[y.jsx(Ue,{actionId:"distribute-horizontal"}),y.jsx(Ue,{actionId:"distribute-vertical"})]}):null}function lQt(){const t=yo(2),e=k4e();return t?y.jsxs(ur,{id:"order",children:[y.jsx(Ue,{actionId:"pack"}),e&&y.jsx(Ue,{actionId:"stack-horizontal"}),e&&y.jsx(Ue,{actionId:"stack-vertical"})]}):null}function uQt(){const t=_s(),e=yo(1);return t||!e?null:y.jsx(Wo,{id:"reorder",label:"context-menu.reorder",size:"small",children:y.jsxs(ur,{id:"reorder",children:[y.jsx(Ue,{actionId:"bring-to-front"}),y.jsx(Ue,{actionId:"bring-forward"}),y.jsx(Ue,{actionId:"send-backward"}),y.jsx(Ue,{actionId:"send-to-back"})]})})}function cQt(){const t=we(),e=Ce("pages",()=>t.getPages(),[t]),r=Ce("current page id",()=>t.getCurrentPageId(),[t]),{addToast:n}=AA(),i=xa(),a=_s();return!yo(1)||a?null:y.jsxs(Wo,{id:"move-to-page",label:"context-menu.move-to-page",size:"small",children:[y.jsx(ur,{id:"pages",children:e.map(s=>y.jsx(da,{id:s.id,disabled:r===s.id,label:s.name.length>30?`${s.name.slice(0,30)}`:s.name,onSelect:()=>{t.markHistoryStoppingPoint("move_shapes_to_page"),t.moveShapesToPage(t.getSelectedShapeIds(),s.id);const l=t.getPage(s.id);l&&n({title:"Changed Page",description:`Moved to ${l.name}.`,actions:[{label:"Go Back",type:"primary",onClick:()=>{t.markHistoryStoppingPoint("change-page"),t.setCurrentPage(r)}}]}),i("move-to-page",{source:"context-menu"})}},s.id))}),y.jsx(ur,{id:"new-page",children:y.jsx(Ue,{actionId:"move-to-new-page"})})]})}function rHe(){const t=we();return Ce("oneEmbedSelected",()=>{const r=t.getOnlySelectedShape();return r?!!(t.isShapeOfType(r,"embed")&&r.props.url&&!t.isShapeOrAncestorLocked(r)):!1},[t])?y.jsx(Ue,{actionId:"convert-to-bookmark"}):null}function nHe(){const t=we(),e=R6();return Ce("oneEmbeddableBookmarkSelected",()=>{const n=t.getOnlySelectedShape();return n?!!(t.isShapeOfType(n,"bookmark")&&n.props.url&&e(n.props.url)&&!t.isShapeOrAncestorLocked(n)):!1},[t])?y.jsx(Ue,{actionId:"convert-to-embed"}):null}function AQt(){const t=we(),e=Ce("isSnapMode",()=>t.user.getIsSnapMode(),[t]);return y.jsx(ru,{actionId:"toggle-snap-mode",checked:e})}function dQt(){const t=we(),e=Ce("isToolLock",()=>t.getInstanceState().isToolLocked,[t]);return y.jsx(ru,{actionId:"toggle-tool-lock",checked:e})}function fQt(){const t=we(),e=Ce("isGridMode",()=>t.getInstanceState().isGridMode,[t]);return y.jsx(ru,{actionId:"toggle-grid",checked:e})}function hQt(){const t=we(),e=Ce("isWrapMode",()=>t.user.getIsWrapMode(),[t]);return y.jsx(ru,{actionId:"toggle-wrap-mode",checked:e})}function pQt(){const t=we(),e=Ce("isFocusMode",()=>t.getInstanceState().isFocusMode,[t]);return y.jsx(ru,{actionId:"toggle-focus-mode",checked:e})}function gQt(){const t=we(),e=Ce("edgeScrollSpeed",()=>t.user.getEdgeScrollSpeed(),[t]);return y.jsx(ru,{actionId:"toggle-edge-scrolling",checked:e===1})}function mQt(){const t=we(),e=Ce("animationSpeed",()=>t.user.getAnimationSpeed(),[t]);return y.jsx(ru,{actionId:"toggle-reduce-motion",checked:e===0})}function vQt(){const t=we(),e=Ce("isDebugMode",()=>t.getInstanceState().isDebugMode,[t]);return y.jsx(ru,{actionId:"toggle-debug-mode",checked:e})}function yQt(){const t=we(),e=Ce("dynamic resize",()=>t.user.getIsDynamicResizeMode(),[t]);return y.jsx(ru,{actionId:"toggle-dynamic-size-mode",checked:e})}function wQt(){const t=we(),e=Ce("paste at cursor",()=>t.user.getIsPasteAtCursorMode(),[t]);return y.jsx(ru,{actionId:"toggle-paste-at-cursor",checked:e})}function bQt(){const t=we();return Ce("show cursor chat",()=>t.getCurrentToolId()==="select"&&!t.getInstanceState().isCoarsePointer,[t])?y.jsx(Ue,{actionId:"open-cursor-chat"}):null}function SQt(){const t=we(),e=ZI(),r=Ce("isSelectToolActive",()=>t.getCurrentToolId()==="select",[t]),n=Ce("isSinglePageMode",()=>t.options.maxPages<=1,[t]);return r?y.jsxs(y.Fragment,{children:[e&&y.jsx(bQt,{}),y.jsxs(ur,{id:"modify",children:[y.jsx(aQt,{}),y.jsx(oQt,{}),y.jsx(uQt,{}),!n&&y.jsx(cQt,{})]}),y.jsx(Z4e,{}),y.jsx(eHe,{}),y.jsx(ur,{id:"select-all",children:y.jsx(tHe,{})})]}):null}const xQt=I.memo(function({children:e,disabled:r=!1}){const n=we(),{Canvas:i}=Rn(),a=I.useCallback(c=>{if(c){if(n.getInstanceState().isCoarsePointer){const A=n.getSelectedShapes(),{inputs:{currentPagePoint:d}}=n,f=n.getShapesAtPoint(d);if(!n.getSelectedShapes().length||!f.some(p=>A.includes(p))){const p=f.filter(g=>n.isShapeOrAncestorLocked(g));p.length&&n.select(...p.map(g=>g.id))}}}else{const A=n.getOnlySelectedShape();A&&n.isShapeOrAncestorLocked(A)&&n.setSelectedShapes([])}},[n]),o=$i(),[s,l]=dA("context menu",a),u=e??y.jsx(SQt,{});return y.jsxs(ykt,{dir:"ltr",onOpenChange:l,modal:!1,children:[y.jsx(wkt,{onContextMenu:void 0,dir:"ltr",disabled:r,children:i?y.jsx(i,{}):null}),s&&y.jsx(bkt,{container:o,children:y.jsx(Skt,{className:"tlui-menu scrollable","data-testid":"context-menu",alignOffset:-4,collisionPadding:4,onContextMenu:dr,children:y.jsx(rl,{type:"context-menu",sourceId:"context-menu",children:u})})})]})}),CQt=2e3,_Qt=5e3,EQt=wa(function(){const e=we(),{isChatting:r,chatMessage:n}=e.getInstanceState(),i=I.useRef(-1),[a,o]=I.useState("");return I.useEffect(()=>{if(!r&&n||r){const l=r?_Qt:CQt;i.current=e.timers.setTimeout(()=>{e.updateInstanceState({chatMessage:"",isChatting:!1}),o(""),e.focus()},l)}return()=>{clearTimeout(i.current)}},[e,n,r]),r?y.jsx(BQt,{value:a,setValue:o,chatMessage:n}):n.trim()?y.jsx(IQt,{chatMessage:n}):null});function iHe(t){const e=we();I.useLayoutEffect(()=>{var o;if(!t.current)return;const{x:n,y:i}=e.inputs.currentScreenPoint;(o=t.current)==null||o.style.setProperty("transform",`translate(${n}px, ${i}px)`);function a(s){var c;const{minX:l,minY:u}=e.getViewportScreenBounds();(c=t.current)==null||c.style.setProperty("transform",`translate(${s.clientX-l}px, ${s.clientY-u}px)`)}return window.addEventListener("pointermove",a),()=>{window.removeEventListener("pointermove",a)}},[t,e])}const IQt=({chatMessage:t})=>{const e=we(),r=I.useRef(null);return iHe(r),y.jsx("div",{ref:r,className:"tl-cursor-chat tl-cursor-chat__bubble",style:{backgroundColor:e.user.getColor()},children:t})},BQt=wa(function({chatMessage:e,value:r,setValue:n}){const i=we(),a=Sr(),o=I.useRef(null),s=e||a("cursor-chat.type-to-chat");iHe(o),I.useLayoutEffect(()=>{const d=o.current;if(!d)return;const f=i.textMeasure.measureText(r||s,{fontFamily:"var(--font-body)",fontSize:12,fontWeight:"500",fontStyle:"normal",maxWidth:null,lineHeight:1,padding:"6px"});d.style.setProperty("width",f.w+"px")},[i,r,s]),I.useLayoutEffect(()=>{const d=i.timers.requestAnimationFrame(()=>{var f;(f=o.current)==null||f.focus()});return()=>{cancelAnimationFrame(d)}},[i]);const l=I.useCallback(()=>{i.updateInstanceState({isChatting:!1}),i.focus()},[i]),u=I.useCallback(d=>{const{value:f}=d.target;n(f.slice(0,64)),i.updateInstanceState({chatMessage:f})},[i,n]),c=I.useCallback(d=>{const f=o.current;if(!f)return;const{value:p}=f;switch(d.key){case"Enter":{if(dr(d),d.stopPropagation(),!p){l();return}n("");break}case"Escape":{dr(d),d.stopPropagation(),l();break}}},[l,n]),A=I.useCallback(d=>{d.stopPropagation()},[]);return y.jsx("input",{ref:o,className:"tl-cursor-chat",style:{backgroundColor:i.user.getColor()},onBlur:l,onChange:u,onKeyDown:c,onPaste:A,value:r,placeholder:s,spellCheck:!1})});function sH({checked:t}){return y.jsx(qu,{icon:t?"check":"none",className:"tlui-button__icon",small:!0})}function PQt(){const t=we(),{addToast:e}=AA(),{addDialog:r}=Kb(),[n,i]=ce.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsxs(ur,{id:"items",children:[y.jsx(da,{id:"add-toast",onSelect:()=>{e({id:Xr(),title:"Something good happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,severity:"success"}),e({id:Xr(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,severity:"info",actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]}),e({id:Xr(),title:"Something maybe bad happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,severity:"warning",actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]}),e({id:Xr(),title:"Something bad happened",severity:"error",keepOpen:!0})},label:"Show toast"}),y.jsx(da,{id:"show-dialog",label:"Show dialog",onSelect:()=>{r({component:({onClose:a})=>y.jsx(RQt,{displayDontShowAgain:!0,onCancel:()=>a(),onContinue:()=>a()}),onClose:()=>{}})}}),y.jsx(da,{id:"create-shapes",label:"Create 100 shapes",onSelect:()=>MQt(t,100)}),y.jsx(da,{id:"count-nodes",label:"Count shapes / nodes",onSelect:()=>{var s;const a=t.getSelectedShapes(),o=a.length===0?t.getRenderingShapes():a;window.alert(`Shapes ${o.length}, DOM nodes:${(s=document.querySelector(".tl-shapes").querySelectorAll("*"))==null?void 0:s.length}`)}}),(()=>{if(n)throw Error("oh no!");return null})(),y.jsx(da,{id:"throw-error",onSelect:()=>i(!0),label:"Throw error"}),y.jsx(da,{id:"hard-reset",onSelect:pMe,label:"Hard reset"})]}),y.jsxs(ur,{id:"flags",children:[y.jsx(TQt,{}),y.jsx(OQt,{})]})]})}function TQt(){const t=Object.values(fi);return t.length?y.jsx(Wo,{id:"debug flags",label:"Debug Flags",children:y.jsx(ur,{id:"debug flags",children:t.map(e=>y.jsx(aHe,{flag:e},e.name))})}):null}function OQt(){const t=Object.values(ewt);return t.length?y.jsx(Wo,{id:"feature flags",label:"Feature Flags",children:y.jsx(ur,{id:"feature flags",children:t.map(e=>y.jsx(aHe,{flag:e},e.name))})}):null}function RQt({title:t="title",body:e="hello hello hello",cancel:r="Cancel",confirm:n="Continue",displayDontShowAgain:i=!1,onCancel:a,onContinue:o}){const[s,l]=ce.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsxs(VI,{children:[y.jsx(YI,{children:t}),y.jsx(XI,{})]}),y.jsx(Rw,{style:{maxWidth:350},children:e}),y.jsxs(T6,{className:"tlui-dialog__footer__actions",children:[i&&y.jsxs(Ut,{type:"normal",onClick:()=>l(!s),style:{marginRight:"auto"},children:[y.jsx(sH,{checked:s}),y.jsx(hi,{children:"Dont show again"})]}),y.jsx(Ut,{type:"normal",onClick:a,children:y.jsx(hi,{children:r})}),y.jsx(Ut,{type:"primary",onClick:async()=>o(),children:y.jsx(hi,{children:n})})]})]})}const aHe=wa(function({flag:e,onChange:r}){const n=e.get();return y.jsx(nB,{id:e.name,title:e.name,label:e.name.replace(/([a-z0-9])([A-Z])/g,i=>`${i[0]} ${i[1].toLowerCase()}`).replace(/^[a-z]/,i=>i.toUpperCase()),checked:n,onSelect:()=>{e.set(!n),r==null||r(!n)}})});let X_e=0;function MQt(t,e){const r=Array(e),n=Math.floor(Math.sqrt(e));for(let i=0;i<e;i++)X_e++,r[i]={id:an("box"+X_e),type:"geo",x:i%n*132,y:Math.floor(i/n)*132};t.run(()=>{t.createShapes(r).setSelectedShapes(r.map(i=>i.id))})}function FQt({children:t}){const e=t??y.jsx(PQt,{});return y.jsxs(Xf,{id:"debug",children:[y.jsx(Jf,{children:y.jsx(Ut,{type:"icon",title:"Debug menu",children:y.jsx(gr,{icon:"dots-horizontal"})})}),y.jsx(Zf,{side:"top",align:"end",alignOffset:0,children:y.jsx(rl,{type:"menu",sourceId:"debug-panel",children:e})})]})}const kQt=I.memo(function(){const{DebugMenu:e}=Hd(),r=I.useRef(null);return Ld(r),y.jsxs("div",{ref:r,className:"tlui-debug-panel",children:[y.jsx(DQt,{}),y.jsx(jQt,{}),e&&y.jsx(e,{})]})});function UQt(t=!0){const[e,r]=I.useState(0),n=we();I.useEffect(()=>{if(!t)return;const i=()=>r(a=>a+1);return n.on("tick",i),()=>{n.off("tick",i)}},[n,t])}const DQt=wa(function(){UQt();const e=we(),r=e.getPath(),n=e.getHoveredShape(),i=e.getOnlySelectedShape(),a=r==="select.idle"||!r.includes("select.")?n:i,o=a&&r.includes("select.")?` / ${a.type||""}${"geo"in a.props?" / "+a.props.geo:""} / [${k.ToInt(e.getPointInShapeSpace(a,e.inputs.currentPagePoint))}]`:"",s=r.startsWith("select.")&&!r.includes(".idle")?` / [${k.ToInt(e.inputs.originPagePoint)}]  [${k.ToInt(e.inputs.currentPagePoint)}] = ${k.Dist(e.inputs.originPagePoint,e.inputs.currentPagePoint).toFixed(0)}`:"";return y.jsx("div",{className:"tlui-debug-panel__current-state",children:`${r}${o}${s}`})});function jQt(){const t=we(),e=Ce("show_fps",()=>fi.showFps.get(),[fi]),r=I.useRef(null);return I.useEffect(()=>{if(!e)return;const n=250;let i=0,a=-1,o=performance.now(),s=0,l=0,u=!1;function c(){if(l++,s=performance.now()-o,s>n){const A=Math.round(l*(n/s)*(1e3/n));A>i&&(i=A);const d=i*.75;(A<d&&!u||A>=d&&u)&&(u=!u),r.current.innerHTML=`FPS ${A.toString()}`,r.current.className="tlui-debug-panel__fps"+(u?" tlui-debug-panel__fps__slow":""),s-=n,l=0,o=performance.now()}a=t.timers.requestAnimationFrame(c)}return c(),()=>{cancelAnimationFrame(a)}},[e,t]),e?y.jsx("div",{ref:r}):null}const LQt=I.memo(function(){const e=vo(),r=I.useRef(null);Ld(r);const{MainMenu:n,QuickActions:i,ActionsMenu:a,PageMenu:o}=Hd(),s=we(),l=Ce("isSinglePageMode",()=>s.options.maxPages<=1,[s]),u=s.options.actionShortcutsLocation==="menu"?!0:s.options.actionShortcutsLocation==="toolbar"?!1:e>=ai.TABLET;return!n&&!o&&!u?null:y.jsx("div",{ref:r,className:"tlui-menu-zone",children:y.jsxs("div",{className:"tlui-buttons__horizontal",children:[n&&y.jsx(n,{}),o&&!l&&y.jsx(o,{}),u?y.jsxs(y.Fragment,{children:[i&&y.jsx(i,{}),a&&y.jsx(a,{})]}):null]})})});function NQt(){const t=we(),e=_h(),[r,n]=I.useState(!1),i=I.useRef(!1);return ad("toggle showback to content",()=>{const a=i.current,o=t.getCurrentPageShapeIds();let s=!1;o.size&&(s=o.size===t.getCulledShapes().size),a!==s&&(n(s),i.current=s)},[t]),r?y.jsx(Ue,{actionId:"back-to-content",onSelect:()=>{e["back-to-content"].onSelect("helper-buttons"),n(!1)}}):null}function $Qt(){const t=we();return Ce("is pen mode",()=>t.getInstanceState().isPenMode,[t])?y.jsx(Ue,{actionId:"exit-pen-mode"}):null}function QQt(){const t=we(),e=_h();return Ce("is following user",()=>!!t.getInstanceState().followingUserId,[t])?y.jsx(da,{...e["stop-following"]}):null}function HQt(){return y.jsxs(y.Fragment,{children:[y.jsx($Qt,{}),y.jsx(NQt,{}),y.jsx(QQt,{})]})}function qQt({children:t}){const e=t??y.jsx(HQt,{});return y.jsx("div",{className:"tlui-helper-buttons",children:y.jsx(rl,{type:"helper-buttons",sourceId:"helper-buttons",children:e})})}function KQt(){const t=ZI();return y.jsxs(y.Fragment,{children:[y.jsxs(ur,{label:"shortcuts-dialog.tools",id:"tools",children:[y.jsx(Ue,{actionId:"toggle-tool-lock"}),y.jsx(Ue,{actionId:"insert-media"}),y.jsx(Oo,{toolId:"select"}),y.jsx(Oo,{toolId:"draw"}),y.jsx(Oo,{toolId:"eraser"}),y.jsx(Oo,{toolId:"hand"}),y.jsx(Oo,{toolId:"rectangle"}),y.jsx(Oo,{toolId:"ellipse"}),y.jsx(Oo,{toolId:"arrow"}),y.jsx(Oo,{toolId:"line"}),y.jsx(Oo,{toolId:"text"}),y.jsx(Oo,{toolId:"frame"}),y.jsx(Oo,{toolId:"note"}),y.jsx(Oo,{toolId:"laser"}),y.jsx(da,{id:"pointer-down",label:"tool.pointer-down",kbd:",",onSelect:()=>{}})]}),y.jsxs(ur,{label:"shortcuts-dialog.preferences",id:"preferences",children:[y.jsx(Ue,{actionId:"toggle-dark-mode"}),y.jsx(Ue,{actionId:"toggle-focus-mode"}),y.jsx(Ue,{actionId:"toggle-grid"})]}),y.jsxs(ur,{label:"shortcuts-dialog.edit",id:"edit",children:[y.jsx(Ue,{actionId:"undo"}),y.jsx(Ue,{actionId:"redo"}),y.jsx(Ue,{actionId:"cut"}),y.jsx(Ue,{actionId:"copy"}),y.jsx(Ue,{actionId:"paste"}),y.jsx(Ue,{actionId:"select-all"}),y.jsx(Ue,{actionId:"delete"}),y.jsx(Ue,{actionId:"duplicate"})]}),y.jsxs(ur,{label:"shortcuts-dialog.view",id:"view",children:[y.jsx(Ue,{actionId:"zoom-in"}),y.jsx(Ue,{actionId:"zoom-out"}),y.jsx(Ue,{actionId:"zoom-to-100"}),y.jsx(Ue,{actionId:"zoom-to-fit"}),y.jsx(Ue,{actionId:"zoom-to-selection"})]}),y.jsxs(ur,{label:"shortcuts-dialog.transform",id:"transform",children:[y.jsx(Ue,{actionId:"bring-to-front"}),y.jsx(Ue,{actionId:"bring-forward"}),y.jsx(Ue,{actionId:"send-backward"}),y.jsx(Ue,{actionId:"send-to-back"}),y.jsx(Ue,{actionId:"group"}),y.jsx(Ue,{actionId:"ungroup"}),y.jsx(Ue,{actionId:"flip-horizontal"}),y.jsx(Ue,{actionId:"flip-vertical"}),y.jsx(Ue,{actionId:"align-top"}),y.jsx(Ue,{actionId:"align-center-vertical"}),y.jsx(Ue,{actionId:"align-bottom"}),y.jsx(Ue,{actionId:"align-left"}),y.jsx(Ue,{actionId:"align-center-horizontal"}),y.jsx(Ue,{actionId:"align-right"})]}),t&&y.jsx(ur,{label:"shortcuts-dialog.collaboration",id:"collaboration",children:y.jsx(Ue,{actionId:"open-cursor-chat"})})]})}const zQt=I.memo(function({children:e}){const r=Sr(),n=vo(),i=e??y.jsx(KQt,{});return y.jsxs(y.Fragment,{children:[y.jsxs(VI,{className:"tlui-shortcuts-dialog__header",children:[y.jsx(YI,{children:r("shortcuts-dialog.title")}),y.jsx(XI,{})]}),y.jsx(Rw,{className:Mt("tlui-shortcuts-dialog__body",{"tlui-shortcuts-dialog__body__mobile":n<=ai.MOBILE_XS,"tlui-shortcuts-dialog__body__tablet":n<=ai.TABLET}),children:y.jsx(rl,{type:"keyboard-shortcuts",sourceId:"kbd",children:i})}),y.jsx("div",{className:"tlui-dialog__scrim"})]})});function oHe(){const t=Rd(),e=xa(),r=Ce("locale",()=>t==null?void 0:t.user.getLocale(),[t]);return t?y.jsx(Wo,{id:"help menu language",label:"menu.language",children:y.jsx(ur,{id:"languages",children:Ew.map(({locale:n,label:i})=>y.jsx(nB,{id:`language-${n}`,title:n,label:i,checked:n===r,readonlyOk:!0,onSelect:()=>{t.user.updateUserPreferences({locale:n}),e("change-language",{source:"menu",locale:n})}},n))})}):null}function WQt(){return y.jsxs(y.Fragment,{children:[y.jsx(oHe,{}),y.jsx(sHe,{})]})}function sHe(){const{KeyboardShortcutsDialog:t}=Hd(),{addDialog:e}=Kb(),r=I.useCallback(()=>{t&&e({component:t})},[e,t]);return t?y.jsx(da,{id:"keyboard-shortcuts-button",label:"help-menu.keyboard-shortcuts",readonlyOk:!0,onSelect:r}):null}function GQt(){return y.jsxs(y.Fragment,{children:[y.jsxs(ur,{id:"basic",children:[y.jsx(YQt,{}),y.jsx(e4t,{}),y.jsx(VQt,{}),y.jsx(t4t,{})]}),y.jsx(r4t,{})]})}function VQt(){return y.jsxs(Wo,{id:"export-all-as",label:"context-menu.export-all-as",size:"small",children:[y.jsxs(ur,{id:"export-all-as-group",children:[y.jsx(Ue,{actionId:"export-all-as-svg"}),y.jsx(Ue,{actionId:"export-all-as-png"})]}),y.jsx(ur,{id:"export-all-as-bg",children:y.jsx(uK,{})})]})}function YQt(){return y.jsxs(Wo,{id:"edit",label:"menu.edit",children:[y.jsx(ZQt,{}),y.jsx(Z4e,{}),y.jsx(eHe,{}),y.jsx(XQt,{}),y.jsx(JQt,{}),y.jsx(ur,{id:"select-all",children:y.jsx(tHe,{})})]})}function XQt(){return y.jsxs(ur,{id:"misc",children:[y.jsx(K4e,{}),y.jsx(z4e,{}),y.jsx(H4e,{}),y.jsx(Q4e,{}),y.jsx(W4e,{}),y.jsx(G4e,{}),y.jsx(nHe,{}),y.jsx(rHe,{}),y.jsx(q4e,{})]})}function JQt(){return y.jsxs(ur,{id:"lock",children:[y.jsx(V4e,{}),y.jsx(Z$t,{})]})}function ZQt(){const t=$4e(),e=N4e();return y.jsxs(ur,{id:"undo-redo",children:[y.jsx(Ue,{actionId:"undo",disabled:!t}),y.jsx(Ue,{actionId:"redo",disabled:!e})]})}function e4t(){return y.jsx(Wo,{id:"view",label:"menu.view",children:y.jsxs(ur,{id:"view-actions",children:[y.jsx(Ue,{actionId:"zoom-in"}),y.jsx(Ue,{actionId:"zoom-out"}),y.jsx(Y4e,{}),y.jsx(X4e,{}),y.jsx(J4e,{})]})})}function t4t(){return y.jsxs(y.Fragment,{children:[y.jsx(Ue,{actionId:"insert-embed"}),y.jsx(Ue,{actionId:"insert-media"})]})}function r4t(){return y.jsxs(ur,{id:"preferences",children:[y.jsxs(Wo,{id:"preferences",label:"menu.preferences",children:[y.jsxs(ur,{id:"preferences-actions",children:[y.jsx(AQt,{}),y.jsx(dQt,{}),y.jsx(fQt,{}),y.jsx(hQt,{}),y.jsx(pQt,{}),y.jsx(gQt,{}),y.jsx(mQt,{}),y.jsx(yQt,{}),y.jsx(wQt,{}),y.jsx(vQt,{})]}),y.jsx(ur,{id:"color-scheme",children:y.jsx(NDt,{})})]}),y.jsx(oHe,{}),y.jsx(sHe,{})]})}const n4t=I.memo(function({children:e}){const r=$i(),[n,i]=dA("main menu"),a=Sr(),o=e??y.jsx(GQt,{});return y.jsxs(S6,{dir:"ltr",open:n,onOpenChange:i,modal:!1,children:[y.jsx(x6,{asChild:!0,dir:"ltr",children:y.jsx(Ut,{type:"icon","data-testid":"main-menu.button",title:a("menu.title"),children:y.jsx(gr,{icon:"menu",small:!0})})}),y.jsx(GI,{container:r,children:y.jsx(C6,{className:"tlui-menu",side:"bottom",align:"start",collisionPadding:4,alignOffset:0,sideOffset:6,children:y.jsx(rl,{type:"menu",sourceId:"main-menu",children:o})})})]})}),IN={};function kv(t){if(IN[t])return IN[t];const r=document.createElement("canvas").getContext("2d");r.fillStyle=t,r.fillRect(0,0,1,1);const[n,i,a,o]=r.getImageData(0,0,1,1).data,s=new Float32Array([n/255,i/255,a/255,o/255]);return IN[t]=s,s}const d1=10,lHe=4*6*d1+12+4*12;function Pp(t,{center:e,radius:r,numArcSegments:n=20,startAngle:i=0,endAngle:a=nn,offset:o=0}){const s=(a-i)/n;let l=o;for(let u=i;u<a;u+=s)t[l++]=e.x,t[l++]=e.y,t[l++]=e.x+Math.cos(u)*r,t[l++]=e.y+Math.sin(u)*r,t[l++]=e.x+Math.cos(u+s)*r,t[l++]=e.y+Math.sin(u+s)*r;return t}function Tp(t,e,r,n,i,a){t[e++]=r,t[e++]=n,t[e++]=r,t[e++]=n+a,t[e++]=r+i,t[e++]=n,t[e++]=r+i,t[e++]=n,t[e++]=r,t[e++]=n+a,t[e++]=r+i,t[e++]=n+a}function i4t(t,e,r){const n=d1;r=Math.min(r,Math.min(e.w,e.h)/2);const i=Ze.ExpandBy(e,-r);if(i.w<=0||i.h<=0)return Pp(t,{center:e.center,radius:r,numArcSegments:d1*4}),d1*4*6;let a=0;return Tp(t,a,i.minX,i.minY,i.w,i.h),a+=12,Tp(t,a,i.minX,e.minY,i.w,r),a+=12,Tp(t,a,i.maxX,i.minY,r,i.h),a+=12,Tp(t,a,i.minX,i.maxY,i.w,r),a+=12,Tp(t,a,e.minX,i.minY,r,i.h),a+=12,Pp(t,{numArcSegments:n,offset:a,center:i.point,radius:r,startAngle:Or,endAngle:Or*1.5}),a+=n*6,Pp(t,{numArcSegments:n,offset:a,center:k.Add(i.point,new k(i.w,0)),radius:r,startAngle:Or*1.5,endAngle:nn}),a+=n*6,Pp(t,{numArcSegments:n,offset:a,center:k.Add(i.point,i.size),radius:r,startAngle:0,endAngle:bn}),a+=n*6,Pp(t,{numArcSegments:n,offset:a,center:k.Add(i.point,new k(0,i.h)),radius:r,startAngle:bn,endAngle:Or}),lHe}function a4t(t){if(!t)throw new Error("Canvas element not found");const e=t.getContext("webgl2",{premultipliedAlpha:!1});if(!e)throw new Error("Failed to get webgl2 context");const r=`#version 300 es
  precision mediump float;
  
  in vec2 shapeVertexPosition;

	uniform vec4 canvasPageBounds;

	// taken (with thanks) from
	// https://webglfundamentals.org/webgl/lessons/webgl-2d-matrices.html
  void main() {
		// convert the position from pixels to 0.0 to 1.0
		vec2 zeroToOne = (shapeVertexPosition - canvasPageBounds.xy) / canvasPageBounds.zw;
	
		// convert from 0->1 to 0->2
		vec2 zeroToTwo = zeroToOne * 2.0;
	
		// convert from 0->2 to -1->+1 (clipspace)
		vec2 clipSpace = zeroToTwo - 1.0;
	
		gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
  }`,n=e.createShader(e.VERTEX_SHADER);if(!n)throw new Error("Failed to create vertex shader");if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Failed to compile vertex shader");const i=`#version 300 es
  precision mediump float;
  
	uniform vec4 fillColor;
  out vec4 outputColor;

  void main() {
	outputColor = fillColor;
  }`,a=e.createShader(e.FRAGMENT_SHADER);if(!a)throw new Error("Failed to create fragment shader");if(e.shaderSource(a,i),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new Error("Failed to compile fragment shader");const o=e.createProgram();if(!o)throw new Error("Failed to create program");if(e.attachShader(o,n),e.attachShader(o,a),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new Error("Failed to link program");e.useProgram(o);const s=e.getAttribLocation(o,"shapeVertexPosition");if(s<0)throw new Error("Failed to get shapeVertexPosition attribute location");e.enableVertexAttribArray(s);const l=e.getUniformLocation(o,"canvasPageBounds"),u=e.getUniformLocation(o,"fillColor");if(!e.createBuffer())throw new Error("Failed to create buffer");if(!e.createBuffer())throw new Error("Failed to create buffer");return{context:e,selectedShapes:vx(e,1024),unselectedShapes:vx(e,4096),viewport:vx(e,lHe),collaborators:vx(e,1024),prepareTriangles(d,f){e.bindBuffer(e.ARRAY_BUFFER,d.buffer),e.bufferData(e.ARRAY_BUFFER,d.vertices,e.STATIC_DRAW,0,f),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0)},drawTrianglesTransparently(d){e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.drawArrays(e.TRIANGLES,0,d/2),e.disable(e.BLEND)},drawTriangles(d){e.drawArrays(e.TRIANGLES,0,d/2)},setFillColor(d){e.uniform4fv(u,d)},setCanvasPageBounds(d){e.uniform4fv(l,d)}}}function vx(t,e){const r=t.createBuffer();if(!r)throw new Error("Failed to create buffer");return{buffer:r,vertices:new Float32Array(e)}}function J_e(t,e,r){let n=t.vertices.length;for(;n<e+r.length;)n*=2;if(n!=t.vertices.length){const i=new Float32Array(n);i.set(t.vertices),t.vertices=i}t.vertices.set(r,e)}var o4t=Object.create,uHe=Object.defineProperty,s4t=Object.getOwnPropertyDescriptor,l4t=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),cHe=t=>{throw TypeError(t)},AHe=(t,e,r)=>e in t?uHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u4t=t=>[,,,o4t(null)],dHe=["class","method","getter","setter","accessor","field","value","get","set"],fHe=t=>t!==void 0&&typeof t!="function"?cHe("Function expected"):t,c4t=(t,e,r,n,i)=>({kind:dHe[t],name:e,metadata:n,addInitializer:a=>r._?cHe("Already initialized"):i.push(fHe(a||null))}),A4t=(t,e)=>AHe(e,l4t("metadata"),t[3]),d4t=(t,e,r,n)=>{for(var i=0,a=t[e>>1],o=a&&a.length;i<o;i++)a[i].call(r);return n},oc=(t,e,r,n,i,a)=>{for(var o,s,l,u,c=e&7,A=!1,d=!1,f=2,p=dHe[c+5],g=t[f]||(t[f]=[]),m=(i=i.prototype,s4t(i,r)),w=n.length-1;w>=0;w--)l=c4t(c,r,s={},t[3],g),l.static=A,l.private=d,u=l.access={has:b=>r in b},u.get=b=>b[r],o=(0,n[w])(m[p],l),s._=1,fHe(o)&&(m[p]=o);return m&&uHe(i,r,m),i},Ec=(t,e,r)=>AHe(t,typeof e!="symbol"?e+"":e,r),hHe,pHe,gHe,mHe,vHe,yHe,wHe,bHe,SHe,xHe,Es;xHe=[Lo],SHe=[je],bHe=[je],wHe=[je],yHe=[je],vHe=[je],mHe=[je],gHe=[je],pHe=[je],hHe=[Lo];class ul{constructor(e,r,n){this.editor=e,this.elem=r,this.container=n,d4t(Es,5,this),Ec(this,"disposables",[]),Ec(this,"gl"),Ec(this,"shapeGeometryCache"),Ec(this,"colors"),Ec(this,"id",Xr()),Ec(this,"canvasBoundingClientRect",pi("canvasBoundingClientRect",new Ze)),Ec(this,"originPagePoint",new k),Ec(this,"originPageCenter",new k),Ec(this,"isInViewport",!1),this.gl=a4t(r),this.shapeGeometryCache=e.store.createComputedCache("webgl-geometry",i=>{const a=e.getShapeMaskedPageBounds(i.id);if(!a)return null;const o=new Float32Array(12);return Tp(o,0,a.x,a.y,a.w,a.h),o}),this.colors=this._getColors(),this.disposables.push(this._listenForCanvasResize(),ku("minimap render",this.render))}close(){return this.disposables.forEach(e=>e())}_getColors(){const e=getComputedStyle(this.editor.getContainer());return{shapeFill:kv(e.getPropertyValue("--color-text-3").trim()),selectFill:kv(e.getPropertyValue("--color-selected").trim()),viewportFill:kv(e.getPropertyValue("--color-muted-1").trim()),background:kv(e.getPropertyValue("--color-low").trim())}}updateColors(){this.colors=this._getColors()}getDpr(){return this.editor.getInstanceState().devicePixelRatio}getContentPageBounds(){const e=this.editor.getViewportPageBounds(),r=this.editor.getCurrentPageBounds();return r?Ze.Expand(r,e):e}getContentScreenBounds(){const e=this.getContentPageBounds(),r=this.editor.pageToScreen(e.point),n=this.editor.pageToScreen(new k(e.maxX,e.maxY));return new Ze(r.x,r.y,n.x-r.x,n.y-r.y)}_getCanvasBoundingRect(){const{x:e,y:r,width:n,height:i}=this.elem.getBoundingClientRect();return new Ze(e,r,n,i)}getCanvasScreenBounds(){return this.canvasBoundingClientRect.get()}_listenForCanvasResize(){const e=new ResizeObserver(()=>{const r=this._getCanvasBoundingRect();this.canvasBoundingClientRect.set(r)});return e.observe(this.elem),e.observe(this.container),()=>e.disconnect()}getCanvasSize(){const e=this.canvasBoundingClientRect.get(),r=this.getDpr();return new k(e.width*r,e.height*r)}getCanvasClientPosition(){return this.canvasBoundingClientRect.get().point}getCanvasPageBounds(){const e=this.getCanvasScreenBounds(),r=this.getContentPageBounds(),n=e.width/e.height;let i=r.width,a=i/n;a<r.height&&(a=r.height,i=a*n);const o=new Ze(0,0,i,a);return o.center=r.center,o}getZoom(){return this.getCanvasPageBounds().width/this.getCanvasScreenBounds().width}getCanvasPageBoundsArray(){const{x:e,y:r,w:n,h:i}=this.getCanvasPageBounds();return new Float32Array([e,r,n,i])}getMinimapPagePoint(e,r){const n=this.getCanvasPageBounds(),i=this.getCanvasScreenBounds();let a=e-i.x,o=r-i.y;return a*=n.width/i.width,o*=n.height/i.height,a+=n.minX,o+=n.minY,new k(a,o,1)}minimapScreenPointToPagePoint(e,r,n=!1,i=!1){const{editor:a}=this,o=a.getViewportPageBounds();let{x:s,y:l}=this.getMinimapPagePoint(e,r);if(i){const u=this.editor.getCurrentPageBounds()??new Ze,c=u.minX-o.width/2,A=u.maxX+o.width/2,d=u.minY-o.height/2,f=u.maxY+o.height/2,p=Math.max(0,c+o.width-s),g=Math.max(0,-(A-o.width-s)),m=Math.max(0,d+o.height-l),w=Math.max(0,-(f-o.height-l));s+=(p-g)/2,l+=(m-w)/2,s=sa(s,c,A),l=sa(l,d,f)}if(n){const{originPagePoint:u}=this,c=Math.abs(s-u.x),A=Math.abs(l-u.y);c>A?l=u.y:s=u.x}return new k(s,l)}render(){const e=this.gl.context,r=this.getCanvasSize();this.gl.setCanvasPageBounds(this.getCanvasPageBoundsArray()),this.elem.width=r.x,this.elem.height=r.y,e.viewport(0,0,r.x,r.y),e.clearColor(this.colors.background[0],this.colors.background[1],this.colors.background[2],1),e.clear(e.COLOR_BUFFER_BIT);const n=new Set(this.editor.getSelectedShapeIds()),i=this.colors;let a=0,o=0;const s=this.editor.getCurrentPageShapeIdsSorted();for(let l=0,u=s.length;l<u;l++){const c=s[l],A=this.shapeGeometryCache.get(c);if(!A)continue;const d=A.length;n.has(c)?(J_e(this.gl.selectedShapes,a,A),a+=d):(J_e(this.gl.unselectedShapes,o,A),o+=d)}this.drawShapes(this.gl.unselectedShapes,o,i.shapeFill),this.drawShapes(this.gl.selectedShapes,a,i.selectFill),this.drawViewport(),this.drawCollaborators()}drawShapes(e,r,n){this.gl.prepareTriangles(e,r),this.gl.setFillColor(n),this.gl.drawTriangles(r)}drawViewport(){const e=this.editor.getViewportPageBounds(),r=i4t(this.gl.viewport.vertices,e,4*this.getZoom());this.gl.prepareTriangles(this.gl.viewport,r),this.gl.setFillColor(this.colors.viewportFill),this.gl.drawTrianglesTransparently(r),tn.isSafari&&(this.gl.drawTrianglesTransparently(r),this.gl.drawTrianglesTransparently(r),this.gl.drawTrianglesTransparently(r))}drawCollaborators(){const e=this.editor.getCollaboratorsOnCurrentPage();if(!e.length)return;const r=20,n=r*6,i=n*e.length;this.gl.collaborators.vertices.length<i&&(this.gl.collaborators.vertices=new Float32Array(i));const a=this.gl.collaborators.vertices;let o=0;const s=this.getZoom();for(const{cursor:l}of e)l&&(Pp(a,{center:k.From(l),radius:3*s,offset:o,numArcSegments:r}),o+=n);this.gl.prepareTriangles(this.gl.collaborators,i),o=0;for(const{color:l}of e)this.gl.setFillColor(kv(l)),this.gl.context.drawArrays(this.gl.context.TRIANGLES,o/2,n/2),o+=n}}Es=u4t();oc(Es,1,"close",xHe,ul);oc(Es,1,"getDpr",SHe,ul);oc(Es,1,"getContentPageBounds",bHe,ul);oc(Es,1,"getContentScreenBounds",wHe,ul);oc(Es,1,"getCanvasSize",yHe,ul);oc(Es,1,"getCanvasClientPosition",vHe,ul);oc(Es,1,"getCanvasPageBounds",mHe,ul);oc(Es,1,"getZoom",gHe,ul);oc(Es,1,"getCanvasPageBoundsArray",pHe,ul);oc(Es,1,"render",hHe,ul);A4t(Es,ul);function f4t(){const t=we(),e=$i(),r=I.useRef(null),n=I.useRef(!1),i=I.useRef();I.useEffect(()=>{try{const c=new ul(t,r.current,e);return i.current=c,i.current.close}catch(c){t.annotateError(c,{origin:"minimap",willCrashApp:!1}),t.timers.setTimeout(()=>{throw c})}},[t,e]);const a=I.useCallback(c=>{if(!t.getCurrentPageShapeIds().size||!i.current)return;const A=i.current.minimapScreenPointToPagePoint(c.clientX,c.clientY,!1,!1),d=i.current.minimapScreenPointToPagePoint(c.clientX,c.clientY,!1,!0);i.current.originPagePoint.setTo(d),i.current.originPageCenter.setTo(t.getViewportPageBounds().center),t.centerOnPoint(A,{animation:{duration:t.options.animationMediumMs}})},[t]),o=I.useCallback(c=>{if(!i.current)return;const A=c.currentTarget;if(yb(A,c),!t.getCurrentPageShapeIds().size)return;n.current=!0,i.current.isInViewport=!1;const d=i.current.minimapScreenPointToPagePoint(c.clientX,c.clientY,!1,!1),f=t.getViewportPageBounds(),p=i.current.getContentPageBounds();if(new Ze(p.x-f.width/2,p.y-f.height/2,p.width+f.width,p.height+f.height).containsPoint(d)&&!f.containsPoint(d)){i.current.isInViewport=f.containsPoint(d);const w=k.Sub(f.center,f.point),b=k.Add(d,w);i.current.originPagePoint.setTo(b),i.current.originPageCenter.setTo(d),t.centerOnPoint(d,{animation:{duration:t.options.animationMediumMs}})}else{const w=i.current.minimapScreenPointToPagePoint(c.clientX,c.clientY,!1,!0);i.current.isInViewport=f.containsPoint(w),i.current.originPagePoint.setTo(w),i.current.originPageCenter.setTo(f.center)}function m(w){A&&wb(A,w),n.current=!1,document.body.removeEventListener("pointerup",m)}document.body.addEventListener("pointerup",m)},[t]),s=I.useCallback(c=>{if(!i.current)return;const A=i.current.minimapScreenPointToPagePoint(c.clientX,c.clientY,c.shiftKey,!0);if(n.current){if(i.current.isInViewport){const g=i.current.originPagePoint.clone().sub(i.current.originPageCenter);t.centerOnPoint(k.Sub(A,g));return}t.centerOnPoint(A)}const d=i.current.getMinimapPagePoint(c.clientX,c.clientY),f=t.pageToScreen(d),p={type:"pointer",target:"canvas",name:"pointer_move",...ls(c),point:f,isPen:t.getInstanceState().isPenMode};t.dispatch(p)},[t]),l=I.useCallback(c=>{const A=iMe(c);t.dispatch({type:"wheel",name:"wheel",delta:A,point:new k(c.clientX,c.clientY),shiftKey:c.shiftKey,altKey:c.altKey,ctrlKey:c.metaKey||c.ctrlKey,metaKey:c.metaKey,accelKey:Ha(c)})},[t]),u=jb();return I.useEffect(()=>{t.timers.setTimeout(()=>{var c,A;(c=i.current)==null||c.updateColors(),(A=i.current)==null||A.render()})},[u,t]),y.jsx("div",{className:"tlui-minimap",children:y.jsx("canvas",{role:"img","aria-label":"minimap",ref:r,className:"tlui-minimap__canvas",onDoubleClick:a,onPointerMove:s,onPointerDown:o,onWheelCapture:l})})}function h4t(t,e){const[r,n]=ce.useState(e);ce.useLayoutEffect(()=>{const a=h5(t);if(a)try{n(JSON.parse(a))}catch{console.error(`Could not restore value ${t} from local storage.`)}},[t]);const i=ce.useCallback(a=>{n(o=>{const s=typeof a=="function"?a(o):a;return p5(t,JSON.stringify(s)),s})},[t]);return[r,i]}const p4t=I.memo(function(){const e=_h(),r=Sr(),n=vo(),i=I.useRef(null);Ld(i);const[a,o]=h4t("minimap",!0),s=I.useCallback(()=>{o(c=>!c)},[o]),{ZoomMenu:l,Minimap:u}=Hd();return n<ai.MOBILE?null:y.jsxs("div",{ref:i,className:"tlui-navigation-panel",children:[y.jsx("div",{className:"tlui-buttons__horizontal",children:l&&n<ai.TABLET?y.jsx(l,{}):a?y.jsxs(y.Fragment,{children:[l&&y.jsx(l,{}),u&&y.jsx(Ut,{type:"icon","data-testid":"minimap.toggle-button",title:r("navigation-zone.toggle-minimap"),className:"tlui-navigation-panel__toggle",onClick:s,children:y.jsx(gr,{icon:a?"chevrons-ne":"chevrons-sw"})})]}):y.jsxs(y.Fragment,{children:[y.jsx(Ut,{type:"icon","data-testid":"minimap.zoom-out",title:`${r(Mw(e["zoom-out"].label))} ${Q4(e["zoom-out"].kbd)}`,onClick:()=>e["zoom-out"].onSelect("navigation-zone"),children:y.jsx(gr,{icon:"minus"})}),l&&y.jsx(l,{}),y.jsx(Ut,{type:"icon","data-testid":"minimap.zoom-in",title:`${r(Mw(e["zoom-in"].label))} ${Q4(e["zoom-in"].kbd)}`,onClick:()=>e["zoom-in"].onSelect("navigation-zone"),children:y.jsx(gr,{icon:"plus"})}),u&&y.jsx(Ut,{type:"icon","data-testid":"minimap.toggle-button",title:r("navigation-zone.toggle-minimap"),className:"tlui-navigation-panel__toggle",onClick:s,children:y.jsx(gr,{icon:a?"chevrons-ne":"chevrons-sw"})})]})}),u&&n>=ai.TABLET&&!a&&y.jsx(u,{})]})}),g4t=function({name:e,id:r,isCurrentPage:n,onCancel:i}){const a=we(),o=xa(),s=I.useRef(null),l=I.useRef(null),u=I.useCallback(()=>{l.current=a.markHistoryStoppingPoint("rename page")},[a]),c=I.useCallback(d=>{a.renamePage(r,d||"New Page"),o("rename-page",{source:"page-menu"})},[a,r,o]),A=I.useCallback(()=>{l.current&&a.bailToMark(l.current),i()},[a,i]);return y.jsx(JI,{className:"tlui-page-menu__item__input",ref:d=>s.current=d,defaultValue:e,onValueChange:c,onCancel:A,onFocus:u,shouldManuallyMaintainScrollPositionWhenFocused:!0,autoFocus:n,autoSelect:!0})},lH=(t,e,r,n,i)=>{let a;const o=t.getPages(),s=r>n?o[n-1]:o[n],l=r>n?o[n]:o[n+1];s&&!l?a=Iu(s.index):!s&&l?a=gmt(o[0].index):a=xw(s.index,l.index),a!==o[r].index&&(t.markHistoryStoppingPoint("moving page"),t.updatePage({id:e,index:a}),i("move-page",{source:"page-menu"}))},Z_e=wa(function({index:e,listSize:r,item:n,onRename:i}){const a=we(),o=Sr(),s=a.getPages(),l=xa(),u=I.useCallback(()=>{a.markHistoryStoppingPoint("creating page");const f=ms.createId();a.duplicatePage(n.id,f),l("duplicate-page",{source:"page-menu"})},[a,n,l]),c=I.useCallback(()=>{lH(a,n.id,e,e-1,l)},[a,n,e,l]),A=I.useCallback(()=>{lH(a,n.id,e,e+1,l)},[a,n,e,l]),d=I.useCallback(()=>{a.markHistoryStoppingPoint("deleting page"),a.deletePage(n.id),l("delete-page",{source:"page-menu"})},[a,n,l]);return y.jsxs(Xf,{id:`page item submenu ${e}`,children:[y.jsx(Jf,{children:y.jsx(Ut,{type:"icon",title:o("page-menu.submenu.title"),children:y.jsx(gr,{icon:"dots-vertical",small:!0})})}),y.jsx(Zf,{alignOffset:0,side:"right",sideOffset:-4,children:y.jsxs(rl,{type:"menu",sourceId:"page-menu",children:[y.jsxs(ur,{id:"modify",children:[i&&y.jsx(da,{id:"rename",label:"page-menu.submenu.rename",onSelect:i}),y.jsx(da,{id:"duplicate",label:"page-menu.submenu.duplicate-page",onSelect:u,disabled:s.length>=a.options.maxPages}),e>0&&y.jsx(da,{id:"move-up",onSelect:c,label:"page-menu.submenu.move-up"}),e<r-1&&y.jsx(da,{id:"move-down",label:"page-menu.submenu.move-down",onSelect:A})]}),r>1&&y.jsx(ur,{id:"delete",children:y.jsx(da,{id:"delete",onSelect:d,label:"page-menu.submenu.delete"})})]})})]})}),m4t=I.memo(function(){const e=we(),r=xa(),n=Sr(),i=vo(),a=I.useCallback(()=>w(!1),[]),[o,s]=dA("page-menu",a),l=36,u=I.useRef(null),c=Ce("pages",()=>e.getPages(),[e]),A=Ce("currentPage",()=>e.getCurrentPage(),[e]),d=Ce("currentPageId",()=>e.getCurrentPageId(),[e]),f=_s(),p=Ce("maxPageCountReached",()=>e.getPages().length>=e.options.maxPages,[e]),g=Ce("isCoarsePointer",()=>e.getInstanceState().isCoarsePointer,[e]),[m,w]=I.useState(!1),b=I.useCallback(()=>{f||w(F=>!F)},[f]),C=I.useRef({isPointing:!1,status:"idle",pointing:null,startY:0,startIndex:0,dragIndex:0}),[S,x]=I.useState(Object.fromEntries(c.map((F,j)=>[F.id,{y:j*l,offsetY:0,isSelected:!1}])));I.useLayoutEffect(()=>{x(Object.fromEntries(c.map((F,j)=>[F.id,{y:j*l,offsetY:0,isSelected:!1}])))},[l,c]),I.useEffect(()=>{o&&e.timers.requestAnimationFrame(()=>{const F=document.querySelector(`[data-testid="page-menu-item-${d}"]`);if(F){const j=u.current;if(!j)return;const L=F.offsetTop,$=j.scrollTop;L<$&&j.scrollTo({top:L});const Q=L+l,H=j.scrollTop+j.offsetHeight;Q>H&&j.scrollTo({top:Q-j.offsetHeight})}})},[l,d,o,e]);const _=I.useCallback(F=>{const{clientY:j,currentTarget:L}=F,{dataset:{id:$,index:Q}}=L;if(!$||!Q)return;const H=C.current;yb(F.currentTarget,F),H.status="pointing",H.pointing={id:$,index:+Q};const Y=S[$].y;H.startY=j,H.startIndex=Math.max(0,Math.min(Math.round(Y/l),c.length-1))},[l,c.length,S]),B=I.useCallback(F=>{const j=C.current;if(j.status==="pointing"){const{clientY:L}=F,$=L-j.startY;Math.abs($)>5&&(j.status="dragging")}if(j.status==="dragging"){const{clientY:L}=F,$=L-j.startY,Q=S[j.pointing.id],{startIndex:H,pointing:q}=j,Y=Q.y+$,z=Math.max(0,Math.min(Math.round(Y/l),c.length-1)),V={...S};if(V[q.id]={y:Q.y,offsetY:$,isSelected:!0},z!==j.dragIndex){j.dragIndex=z;for(let X=0;X<c.length;X++){const ee=c[X];if(ee.id===j.pointing.id)continue;let{y:J}=V[ee.id];z===H?J=X*l:z<H?z<=X&&X<H?J=(X+1)*l:J=X*l:z>H&&(z>=X&&X>H?J=(X-1)*l:J=X*l),J!==V[ee.id].y&&(V[ee.id]={y:J,offsetY:0,isSelected:!0})}}x(V)}},[l,c,S]),T=I.useCallback(F=>{const j=C.current;if(j.status==="dragging"){const{id:L,index:$}=j.pointing;lH(e,L,$,j.dragIndex,r)}wb(F.currentTarget,F),j.status="idle"},[e,r]),R=I.useCallback(F=>{const j=C.current;F.key==="Escape"&&(j.status==="dragging"&&x(Object.fromEntries(c.map((L,$)=>[L.id,{y:$*l,offsetY:0,isSelected:!1}]))),j.status="idle")},[l,c]),P=I.useCallback(()=>{f||(e.run(()=>{e.markHistoryStoppingPoint("creating page");const F=ms.createId();e.createPage({name:n("page-menu.new-page-initial-name"),id:F}),e.setCurrentPage(F),w(!0)}),r("new-page",{source:"page-menu"}))},[e,n,f,r]),M=I.useCallback(F=>{e.setCurrentPage(F),r("change-page",{source:"page-menu"})},[e,r]),U=I.useCallback((F,j)=>{e.renamePage(F,j),r("rename-page",{source:"page-menu"})},[e,r]);return y.jsxs(oK,{id:"pages",onOpenChange:s,open:o,children:[y.jsx(sK,{"data-testid":"main.page-menu",children:y.jsxs(Ut,{type:"menu",title:A.name,"data-testid":"page-menu.button",className:"tlui-page-menu__trigger",children:[y.jsx("div",{className:"tlui-page-menu__name",children:A.name}),y.jsx(gr,{icon:"chevron-down",small:!0})]})}),y.jsx(lK,{side:"bottom",align:"start",sideOffset:6,disableEscapeKeyDown:m,children:y.jsxs("div",{className:"tlui-page-menu__wrapper",children:[y.jsxs("div",{className:"tlui-page-menu__header",children:[y.jsx("div",{className:"tlui-page-menu__header__title",children:n("page-menu.title")}),!f&&y.jsxs("div",{className:"tlui-buttons__horizontal",children:[y.jsx(Ut,{type:"icon","data-testid":"page-menu.edit",title:n(m?"page-menu.edit-done":"page-menu.edit-start"),onClick:b,children:y.jsx(gr,{icon:m?"check":"edit"})}),y.jsx(Ut,{type:"icon","data-testid":"page-menu.create",title:n(p?"page-menu.max-page-count-reached":"page-menu.create-new-page"),disabled:p,onClick:P,children:y.jsx(gr,{icon:"plus"})})]})]}),y.jsx("div",{"data-testid":"page-menu.list",className:"tlui-page-menu__list tlui-menu__group",style:{height:l*c.length+4},ref:u,children:c.map((F,j)=>{const L=S[F.id]??{position:j*40,offsetY:0};return m?y.jsxs("div",{"data-testid":"page-menu.item",className:"tlui-page_menu__item__sortable",style:{zIndex:F.id===A.id?888:j,transform:`translate(0px, ${L.y+L.offsetY}px)`},children:[y.jsx(Ut,{type:"icon",tabIndex:-1,className:"tlui-page_menu__item__sortable__handle",onPointerDown:_,onPointerUp:T,onPointerMove:B,onKeyDown:R,"data-id":F.id,"data-index":j,children:y.jsx(gr,{icon:"drag-handle-dots"})}),i<ai.TABLET_SM&&g?y.jsxs(Ut,{type:"normal",className:"tlui-page-menu__item__button",onClick:()=>{const $=window.prompt("Rename page",F.name);$&&$!==F.name&&U(F.id,$)},onDoubleClick:b,children:[y.jsx(sH,{checked:F.id===A.id}),y.jsx(hi,{children:F.name})]}):y.jsx("div",{className:"tlui-page_menu__item__sortable__title",style:{height:l},children:y.jsx(g4t,{id:F.id,name:F.name,isCurrentPage:F.id===A.id,onCancel:()=>{w(!1),e.menus.clearOpenMenus()}})}),!f&&y.jsx("div",{className:"tlui-page_menu__item__submenu","data-isediting":m,children:y.jsx(Z_e,{index:j,item:F,listSize:c.length})})]},F.id+"_editing"):y.jsxs("div",{"data-testid":"page-menu.item",className:"tlui-page-menu__item",children:[y.jsxs(Ut,{type:"normal",className:"tlui-page-menu__item__button",onClick:()=>M(F.id),onDoubleClick:b,title:n("page-menu.go-to-page"),children:[y.jsx(sH,{checked:F.id===A.id}),y.jsx(hi,{children:F.name})]}),!f&&y.jsx("div",{className:"tlui-page_menu__item__submenu",children:y.jsx(Z_e,{index:j,item:F,listSize:c.length,onRename:()=>{if(tn.isIos){const $=window.prompt("Rename page",F.name);$&&$!==F.name&&U(F.id,$)}else w(!0),d!==F.id&&M(F.id)}})})]},F.id)})})]})})]})});function v4t(){const t=we(),e=_s(),r=Ce("should display quick actions",()=>t.isInAny("select","hand","zoom"),[t]);if(!(e&&!r))return y.jsxs(y.Fragment,{children:[y.jsx(w4t,{}),y.jsx(y4t,{})]})}function y4t(){const t=yo(1),e=fA(),r=t&&e;return y.jsxs(y.Fragment,{children:[y.jsx(Ue,{actionId:"delete",disabled:!r}),y.jsx(Ue,{actionId:"duplicate",disabled:!r})]})}function w4t(){const t=$4e(),e=N4e();return y.jsxs(y.Fragment,{children:[y.jsx(Ue,{actionId:"undo",disabled:!t}),y.jsx(Ue,{actionId:"redo",disabled:!e})]})}const b4t=I.memo(function({children:e}){const r=e??y.jsx(v4t,{});return y.jsx(rl,{type:"small-icons",sourceId:"quick-actions",children:r})});function S4t({userId:t}){const e=zE(t);return e?y.jsx("div",{className:"tlui-people-menu__avatar",style:{backgroundColor:e.color},children:e.userName==="New User"?"":e.userName[0]??""},t):null}const x4t=wa(function({userId:e}){const r=we(),n=Sr(),i=xa(),a=zE(e),o=I.useCallback(()=>{r.getInstanceState().followingUserId===e?(r.stopFollowingUser(),i("stop-following",{source:"people-menu"})):(r.startFollowingUser(e),i("start-following",{source:"people-menu"}))},[r,e,i]),s=(a==null?void 0:a.followingUserId)===r.user.getId(),l=r.getInstanceState().followingUserId===e;return a?y.jsxs("div",{className:"tlui-people-menu__item tlui-buttons__horizontal",children:[y.jsxs(Ut,{type:"menu",className:"tlui-people-menu__item__button",onClick:()=>r.zoomToUser(e),onDoubleClick:o,children:[y.jsx(qu,{icon:"color",color:a.color}),y.jsx("div",{className:"tlui-people-menu__name",children:a.userName??"New User"})]}),y.jsx(Ut,{type:"icon",className:"tlui-people-menu__item__follow",title:n(s?"people-menu.leading":l?"people-menu.following":"people-menu.follow"),onClick:o,disabled:s,"data-active":l||s,children:y.jsx(gr,{icon:s?"leading":l?"following":"follow"})})]}):null});function C4t({count:t}){return y.jsx("div",{className:"tlui-people-menu__more",children:"+"+Math.abs(t)})}const _4t=wa(function(){const e=we(),r=$i(),n=Sr(),i=xa(),a=I.useRef(!1),[o,s]=I.useState(!1),l=I.useCallback(g=>{s(g)},[]),u=e.user.getColor(),c=I.useCallback(g=>{e.user.updateUserPreferences({color:g}),i("set-color",{source:"people-menu"})},[e,i]),{handleButtonClick:A,handleButtonPointerDown:d,handleButtonPointerEnter:f,handleButtonPointerUp:p}=ce.useMemo(()=>{const g=()=>{a.current=!1,window.removeEventListener("pointerup",g)};return{handleButtonClick:S=>{const{id:x}=S.currentTarget.dataset;x&&u!==x&&c(x)},handleButtonPointerDown:S=>{const{id:x}=S.currentTarget.dataset;x&&(c(x),a.current=!0,window.addEventListener("pointerup",g))},handleButtonPointerEnter:S=>{if(!a.current)return;const{id:x}=S.currentTarget.dataset;x&&c(x)},handleButtonPointerUp:S=>{const{id:x}=S.currentTarget.dataset;x&&c(x)}}},[u,c]);return y.jsxs(rK,{onOpenChange:l,open:o,children:[y.jsx(nK,{dir:"ltr",asChild:!0,children:y.jsx(Ut,{type:"icon",className:"tlui-people-menu__user__color",style:{color:e.user.getColor()},title:n("people-menu.change-color"),children:y.jsx(gr,{icon:"color"})})}),y.jsx(iK,{container:r,children:y.jsx(aK,{dir:"ltr",className:"tlui-menu tlui-people-menu__user__color-picker",align:"start",side:"left",sideOffset:8,children:y.jsx("div",{className:"tlui-buttons__grid",children:g4.map(g=>y.jsx(Ut,{type:"icon","data-id":g,"data-testid":g,"aria-label":g,"data-state":u===g?"hinted":void 0,title:g,className:"tlui-button-grid__button",style:{color:g},onPointerEnter:f,onPointerDown:d,onPointerUp:p,onClick:A,children:y.jsx(gr,{icon:"color"})},g))})})})]})});function E4t(){const t=we(),e=xa(),r=Ce("userName",()=>t.user.getName(),[]),n=Sr(),i=I.useRef(r),a=I.useRef(r),[o,s]=I.useState(!1),l=I.useCallback(()=>{s(d=>!d)},[]),u=I.useCallback(d=>{a.current=d,t.user.updateUserPreferences({name:d})},[t]),c=I.useCallback(()=>{i.current!==a.current&&(e("change-user-name",{source:"people-menu"}),i.current=a.current)},[e]),A=I.useCallback(()=>{s(!1),t.user.updateUserPreferences({name:i.current}),t.menus.clearOpenMenus()},[t]);return y.jsxs("div",{className:"tlui-people-menu__user",children:[y.jsx(_4t,{}),o?y.jsx(JI,{className:"tlui-people-menu__user__input",defaultValue:r,onValueChange:u,onComplete:l,onCancel:A,onBlur:c,shouldManuallyMaintainScrollPositionWhenFocused:!0,autoFocus:!0,autoSelect:!0}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"tlui-people-menu__user__name",onDoubleClick:()=>{o||s(!0)},children:r}),r==="New User"?y.jsx("div",{className:"tlui-people-menu__user__label",children:n("people-menu.user")}):null]}),y.jsx(Ut,{type:"icon",className:"tlui-people-menu__user__edit","data-testid":"people-menu.change-name",title:n("people-menu.change-name"),onClick:l,children:y.jsx(gr,{icon:o?"check":"edit"})})]})}function I4t({displayUserWhenAlone:t,children:e}){const r=Sr(),n=$i(),i=we(),a=sMe(),o=Ce("user",()=>i.user.getColor(),[i]),s=Ce("user",()=>i.user.getName(),[i]),[l,u]=dA("people menu");return y.jsxs(rK,{onOpenChange:u,open:l,children:[y.jsx(nK,{dir:"ltr",asChild:!0,children:y.jsxs("button",{className:"tlui-people-menu__avatars-button",title:r("people-menu.title"),children:[a.length>5&&y.jsx(C4t,{count:a.length-5}),y.jsxs("div",{className:"tlui-people-menu__avatars",children:[a.slice(-5).map(c=>y.jsx(S4t,{userId:c},c)),(t||a.length>0)&&y.jsx("div",{className:"tlui-people-menu__avatar",style:{backgroundColor:o},children:s==="New User"?"":s[0]??""})]})]})}),y.jsx(iK,{container:n,children:y.jsx(aK,{dir:"ltr",className:"tlui-menu",side:"bottom",sideOffset:2,collisionPadding:4,onEscapeKeyDown:dr,children:y.jsxs("div",{className:"tlui-people-menu__wrapper",children:[y.jsx("div",{className:"tlui-people-menu__section",children:y.jsx(E4t,{})}),a.length>0&&y.jsx("div",{className:"tlui-people-menu__section",children:a.map(c=>y.jsx(x4t,{userId:c},c+"_presence"))}),e]})})})]})}function B4t(){return y.jsx("div",{className:"tlui-share-zone",draggable:!1,children:y.jsx(I4t,{displayUserWhenAlone:!0})})}const P4t=Object.freeze([gs,zf,Wf,$u]);function CHe(t=P4t){const e=we();return Ce("getRelevantStyles",()=>{var a;const r=new S4(e.getSharedStyles()),n=!!((a=e.root.getCurrent())!=null&&a.shapeType),i=e.isIn("select")&&e.getSelectedShapeIds().length>0;if(r.size===0&&e.isIn("select")&&e.getSelectedShapeIds().length===0)for(const o of t)r.applyValue(o,e.getStyleForNextShape(o));return n||i||r.size>0?r:null},[e])}const Ws={color:[{value:"black",icon:"color"},{value:"grey",icon:"color"},{value:"light-violet",icon:"color"},{value:"violet",icon:"color"},{value:"blue",icon:"color"},{value:"light-blue",icon:"color"},{value:"yellow",icon:"color"},{value:"orange",icon:"color"},{value:"green",icon:"color"},{value:"light-green",icon:"color"},{value:"light-red",icon:"color"},{value:"red",icon:"color"}],fill:[{value:"none",icon:"fill-none"},{value:"semi",icon:"fill-semi"},{value:"solid",icon:"fill-solid"},{value:"pattern",icon:"fill-pattern"}],dash:[{value:"draw",icon:"dash-draw"},{value:"dashed",icon:"dash-dashed"},{value:"dotted",icon:"dash-dotted"},{value:"solid",icon:"dash-solid"}],size:[{value:"s",icon:"size-small"},{value:"m",icon:"size-medium"},{value:"l",icon:"size-large"},{value:"xl",icon:"size-extra-large"}],font:[{value:"draw",icon:"font-draw"},{value:"sans",icon:"font-sans"},{value:"serif",icon:"font-serif"},{value:"mono",icon:"font-mono"}],textAlign:[{value:"start",icon:"text-align-left"},{value:"middle",icon:"text-align-center"},{value:"end",icon:"text-align-right"}],horizontalAlign:[{value:"start",icon:"horizontal-align-start"},{value:"middle",icon:"horizontal-align-middle"},{value:"end",icon:"horizontal-align-end"}],verticalAlign:[{value:"start",icon:"vertical-align-start"},{value:"middle",icon:"vertical-align-middle"},{value:"end",icon:"vertical-align-end"}],geo:[{value:"rectangle",icon:"geo-rectangle"},{value:"ellipse",icon:"geo-ellipse"},{value:"triangle",icon:"geo-triangle"},{value:"diamond",icon:"geo-diamond"},{value:"star",icon:"geo-star"},{value:"pentagon",icon:"geo-pentagon"},{value:"hexagon",icon:"geo-hexagon"},{value:"octagon",icon:"geo-octagon"},{value:"rhombus",icon:"geo-rhombus"},{value:"rhombus-2",icon:"geo-rhombus-2"},{value:"oval",icon:"geo-oval"},{value:"trapezoid",icon:"geo-trapezoid"},{value:"arrow-left",icon:"geo-arrow-left"},{value:"arrow-up",icon:"geo-arrow-up"},{value:"arrow-down",icon:"geo-arrow-down"},{value:"arrow-right",icon:"geo-arrow-right"},{value:"cloud",icon:"geo-cloud"},{value:"x-box",icon:"geo-x-box"},{value:"check-box",icon:"geo-check-box"},{value:"heart",icon:"geo-heart"}],arrowheadStart:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],arrowheadEnd:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],spline:[{value:"line",icon:"spline-line"},{value:"cubic",icon:"spline-cubic"}]},Bf=I.memo(function(e){const{uiType:r,items:n,title:i,style:a,value:o,onValueChange:s,onHistoryMark:l,theme:u}=e,c=Sr(),A=I.useRef(!1),d=I.useRef(null),{handleButtonClick:f,handleButtonPointerDown:p,handleButtonPointerEnter:g,handleButtonPointerUp:m}=I.useMemo(()=>{const w=()=>{A.current=!1,window.removeEventListener("pointerup",w);const _=d.current;_&&["TEXTAREA","INPUT"].includes(_.nodeName)&&_.focus(),d.current=null};return{handleButtonClick:_=>{const{id:B}=_.currentTarget.dataset;o.type==="shared"&&o.value===B||(l==null||l("point picker item"),s(a,B))},handleButtonPointerDown:_=>{const{id:B}=_.currentTarget.dataset;l==null||l("point picker item"),s(a,B),A.current=!0,d.current=document.activeElement,window.addEventListener("pointerup",w)},handleButtonPointerEnter:_=>{if(!A.current)return;const{id:B}=_.currentTarget.dataset;s(a,B)},handleButtonPointerUp:_=>{const{id:B}=_.currentTarget.dataset;o.type==="shared"&&o.value===B||s(a,B)}}},[o,l,s,a]);return y.jsx("div",{"data-testid":`style.${r}`,className:Mt("tlui-buttons__grid"),children:n.map(w=>y.jsx(Ut,{type:"icon","data-id":w.value,"data-testid":`style.${r}.${w.value}`,"aria-label":w.value,"data-state":o.type==="shared"&&o.value===w.value?"hinted":void 0,title:i+"  "+c(`${r}-style.${w.value}`),className:Mt("tlui-button-grid__button"),style:a===gs?{color:u[w.value].solid}:void 0,onPointerEnter:g,onPointerDown:p,onPointerUp:m,onClick:f,children:y.jsx(gr,{icon:w.icon})},w.value))})});function _He(t,[e,r]){return Math.min(r,Math.max(e,t))}function T4t(t){const e=I.useRef({value:t,previous:t});return I.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var EHe=["PageUp","PageDown"],IHe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BHe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Sm="Slider",[uH,O4t,R4t]=DI(Sm),[PHe,i5t]=ic(Sm,[R4t]),[M4t,fB]=PHe(Sm),THe=I.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[n],value:c,onValueChange:A=()=>{},onValueCommit:d=()=>{},inverted:f=!1,form:p,...g}=t,m=I.useRef(new Set),w=I.useRef(0),C=o==="horizontal"?F4t:k4t,[S=[],x]=Nd({prop:c,defaultProp:u,onChange:M=>{var F;(F=[...m.current][w.current])==null||F.focus(),A(M)}}),_=I.useRef(S);function B(M){const U=N4t(S,M);P(M,U)}function T(M){P(M,w.current)}function R(){const M=_.current[w.current];S[w.current]!==M&&d(S)}function P(M,U,{commit:F}={commit:!1}){const j=q4t(a),L=K4t(Math.round((M-n)/a)*a+n,j),$=_He(L,[n,i]);x((Q=[])=>{const H=j4t(Q,$,U);if(H4t(H,l*a)){w.current=H.indexOf($);const q=String(H)!==String(Q);return q&&F&&d(H),q?H:Q}else return Q})}return y.jsx(M4t,{scope:t.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:w,thumbs:m.current,values:S,orientation:o,form:p,children:y.jsx(uH.Provider,{scope:t.__scopeSlider,children:y.jsx(uH.Slot,{scope:t.__scopeSlider,children:y.jsx(C,{"aria-disabled":s,"data-disabled":s?"":void 0,...g,ref:e,onPointerDown:Et(g.onPointerDown,()=>{s||(_.current=S)}),min:n,max:i,inverted:f,onSlideStart:s?void 0:B,onSlideMove:s?void 0:T,onSlideEnd:s?void 0:R,onHomeKeyDown:()=>!s&&P(n,0,{commit:!0}),onEndKeyDown:()=>!s&&P(i,S.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:U})=>{if(!s){const L=EHe.includes(M.key)||M.shiftKey&&IHe.includes(M.key)?10:1,$=w.current,Q=S[$],H=a*L*U;P(Q+H,$,{commit:!0})}}})})})})});THe.displayName=Sm;var[OHe,RHe]=PHe(Sm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),F4t=I.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:u,...c}=t,[A,d]=I.useState(null),f=Sn(e,C=>d(C)),p=I.useRef(void 0),g=Xq(i),m=g==="ltr",w=m&&!a||!m&&a;function b(C){const S=p.current||A.getBoundingClientRect(),x=[0,S.width],B=cK(x,w?[r,n]:[n,r]);return p.current=S,B(C-S.left)}return y.jsx(OHe,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:y.jsx(MHe,{dir:g,"data-orientation":"horizontal",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const S=b(C.clientX);o==null||o(S)},onSlideMove:C=>{const S=b(C.clientX);s==null||s(S)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:C=>{const x=BHe[w?"from-left":"from-right"].includes(C.key);u==null||u({event:C,direction:x?-1:1})}})})}),k4t=I.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...u}=t,c=I.useRef(null),A=Sn(e,c),d=I.useRef(void 0),f=!i;function p(g){const m=d.current||c.current.getBoundingClientRect(),w=[0,m.height],C=cK(w,f?[n,r]:[r,n]);return d.current=m,C(g-m.top)}return y.jsx(OHe,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:y.jsx(MHe,{"data-orientation":"vertical",...u,ref:A,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const m=p(g.clientY);a==null||a(m)},onSlideMove:g=>{const m=p(g.clientY);o==null||o(m)},onSlideEnd:()=>{d.current=void 0,s==null||s()},onStepKeyDown:g=>{const w=BHe[f?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:w?-1:1})}})})}),MHe=I.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...u}=t,c=fB(Sm,r);return y.jsx(Rr.span,{...u,ref:e,onKeyDown:Et(t.onKeyDown,A=>{A.key==="Home"?(o(A),A.preventDefault()):A.key==="End"?(s(A),A.preventDefault()):EHe.concat(IHe).includes(A.key)&&(l(A),A.preventDefault())}),onPointerDown:Et(t.onPointerDown,A=>{const d=A.target;d.setPointerCapture(A.pointerId),A.preventDefault(),c.thumbs.has(d)?d.focus():n(A)}),onPointerMove:Et(t.onPointerMove,A=>{A.target.hasPointerCapture(A.pointerId)&&i(A)}),onPointerUp:Et(t.onPointerUp,A=>{const d=A.target;d.hasPointerCapture(A.pointerId)&&(d.releasePointerCapture(A.pointerId),a(A))})})}),FHe="SliderTrack",kHe=I.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=fB(FHe,r);return y.jsx(Rr.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});kHe.displayName=FHe;var cH="SliderRange",UHe=I.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=fB(cH,r),a=RHe(cH,r),o=I.useRef(null),s=Sn(e,o),l=i.values.length,u=i.values.map(d=>jHe(d,i.min,i.max)),c=l>1?Math.min(...u):0,A=100-Math.max(...u);return y.jsx(Rr.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...t.style,[a.startEdge]:c+"%",[a.endEdge]:A+"%"}})});UHe.displayName=cH;var AH="SliderThumb",DHe=I.forwardRef((t,e)=>{const r=O4t(t.__scopeSlider),[n,i]=I.useState(null),a=Sn(e,s=>i(s)),o=I.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return y.jsx(U4t,{...t,ref:a,index:o})}),U4t=I.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...a}=t,o=fB(AH,r),s=RHe(AH,r),[l,u]=I.useState(null),c=Sn(e,b=>u(b)),A=l?o.form||!!l.closest("form"):!0,d=TLe(l),f=o.values[n],p=f===void 0?0:jHe(f,o.min,o.max),g=L4t(n,o.values.length),m=d==null?void 0:d[s.size],w=m?$4t(m,p,s.direction):0;return I.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${p}% + ${w}px)`},children:[y.jsx(uH.ItemSlot,{scope:t.__scopeSlider,children:y.jsx(Rr.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:c,style:f===void 0?{display:"none"}:t.style,onFocus:Et(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),A&&y.jsx(D4t,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});DHe.displayName=AH;var D4t=t=>{const{value:e,...r}=t,n=I.useRef(null),i=T4t(e);return I.useEffect(()=>{const a=n.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const u=new Event("input",{bubbles:!0});l.call(a,e),a.dispatchEvent(u)}},[i,e]),y.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function j4t(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,a)=>i-a)}function jHe(t,e,r){const a=100/(r-e)*(t-e);return _He(a,[0,100])}function L4t(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function N4t(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function $4t(t,e,r){const n=t/2,a=cK([0,50],[0,n]);return(n-a(e)*r)*r}function Q4t(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function H4t(t,e){if(e>0){const r=Q4t(t);return Math.min(...r)>=e}return!0}function cK(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function q4t(t){return(String(t).split(".")[1]||"").length}function K4t(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var z4t=THe,W4t=kHe,G4t=UHe,V4t=DHe;const Y4t=I.memo(function({onHistoryMark:e,title:r,steps:n,value:i,label:a,onValueChange:o,["data-testid"]:s}){const l=Sr(),u=I.useCallback(d=>{o(d[0])},[o]),c=I.useCallback(()=>{e("click slider")},[e]),A=I.useCallback(()=>{i&&o(i)},[i,o]);return y.jsx("div",{className:"tlui-slider__container",children:y.jsxs(z4t,{"data-testid":s,className:"tlui-slider","area-label":"Opacity",dir:"ltr",min:0,max:n,step:1,value:i?[i]:void 0,onPointerDown:c,onValueChange:u,onPointerUp:A,title:r+"  "+l(a),children:[y.jsx(W4t,{className:"tlui-slider__track",dir:"ltr",children:i!==null&&y.jsx(G4t,{className:"tlui-slider__range",dir:"ltr"})}),i!==null&&y.jsx(V4t,{className:"tlui-slider__thumb",dir:"ltr"})]})})});function X4t({label:t,uiTypeA:e,uiTypeB:r,labelA:n,labelB:i,itemsA:a,itemsB:o,styleA:s,styleB:l,valueA:u,valueB:c,onValueChange:A}){const d=Sr(),f=I.useMemo(()=>{var g;return((g=a.find(m=>u.type==="shared"&&u.value===m.value))==null?void 0:g.icon)??"mixed"},[a,u]),p=I.useMemo(()=>{var g;return((g=o.find(m=>c.type==="shared"&&c.value===m.value))==null?void 0:g.icon)??"mixed"},[o,c]);return u===void 0&&c===void 0?null:y.jsxs("div",{className:"tlui-style-panel__double-select-picker",children:[y.jsx("div",{title:d(t),className:"tlui-style-panel__double-select-picker-label",children:d(t)}),y.jsxs("div",{className:"tlui-buttons__horizontal",children:[y.jsxs(Xf,{id:`style panel ${e} A`,children:[y.jsx(Jf,{children:y.jsx(Ut,{type:"icon","data-testid":`style.${e}`,title:d(n)+"  "+(u===null||u.type==="mixed"?d("style-panel.mixed"):d(`${e}-style.${u.value}`)),children:y.jsx(gr,{icon:f,small:!0,invertIcon:!0})})}),y.jsx(Zf,{side:"left",align:"center",sideOffset:80,alignOffset:0,children:y.jsx("div",{className:"tlui-buttons__grid",children:a.map((g,m)=>y.jsx(Fw,{"data-testid":`style.${e}.${g.value}`,children:y.jsx(Ut,{type:"icon",onClick:()=>A(s,g.value),title:`${d(n)}  ${d(`${e}-style.${g.value}`)}`,children:y.jsx(gr,{icon:g.icon,invertIcon:!0})},g.value)},m))})})]}),y.jsxs(Xf,{id:`style panel ${r}`,children:[y.jsx(Jf,{children:y.jsx(Ut,{type:"icon","data-testid":`style.${r}`,title:d(i)+"  "+(c===null||c.type==="mixed"?d("style-panel.mixed"):d(`${r}-style.${c.value}`)),children:y.jsx(gr,{icon:p,small:!0})})}),y.jsx(Zf,{side:"left",align:"center",sideOffset:116,alignOffset:0,children:y.jsx("div",{className:"tlui-buttons__grid",children:o.map(g=>y.jsx(Fw,{children:y.jsx(Ut,{type:"icon",title:`${d(i)}  ${d(`${r}-style.${g.value}`)}`,"data-testid":`style.${r}.${g.value}`,onClick:()=>A(l,g.value),children:y.jsx(gr,{icon:g.icon})})},g.value))})})]})]})]})}const J4t=I.memo(X4t);function Z4t({id:t,label:e,uiType:r,stylePanelType:n,style:i,items:a,type:o,value:s,onValueChange:l}){const u=Sr(),c=we(),A=I.useMemo(()=>{var g;return(g=a.find(m=>s.type==="shared"&&m.value===s.value))==null?void 0:g.icon},[a,s]),d=u(`style-panel.${n}`),f=s.type==="mixed"?u("style-panel.mixed"):d+"  "+u(`${r}-style.${s.value}`),p=e?u(e):"";return y.jsxs(Xf,{id:`style panel ${t}`,children:[y.jsx(Jf,{children:y.jsxs(Ut,{type:o,"data-testid":`style.${r}`,title:f,children:[p&&y.jsx(hi,{children:p}),y.jsx(gr,{icon:A??"mixed"})]})}),y.jsx(Zf,{side:"left",align:"center",alignOffset:0,children:y.jsx("div",{className:"tlui-buttons__grid",children:a.map(g=>y.jsx(Fw,{children:y.jsx(Ut,{type:"icon","data-testid":`style.${r}.${g.value}`,title:d+"  "+u(`${r}-style.${g.value}`),onClick:()=>{c.markHistoryStoppingPoint("select style dropdown item"),l(i,g.value)},children:y.jsx(gr,{icon:g.icon})})},g.value))})})]})}const AK=I.memo(Z4t);function eHt({styles:t}){const e=jb();if(!t)return null;const r=t.get(Ml),n=t.get(QC),i=t.get($C),a=t.get(zC),o=t.get(Nu),s=r===void 0,l=n===void 0&&i===void 0,u=a===void 0,c=o===void 0,A=oA({isDarkMode:e});return y.jsxs(y.Fragment,{children:[y.jsx(tHt,{theme:A,styles:t}),!c&&y.jsx(rHt,{theme:A,styles:t}),!(s&&l&&u)&&y.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[y.jsx(nHt,{styles:t}),y.jsx(aHt,{styles:t}),y.jsx(iHt,{styles:t})]})]})}function Wb(){const t=we(),e=xa();return ce.useMemo(()=>function(n,i){t.run(()=>{t.isIn("select")&&t.setStyleForSelectedShapes(n,i),t.setStyleForNextShapes(n,i),t.updateInstanceState({isChangingStyle:!0})}),e("set-style",{source:"style-panel",id:n.id,value:i})},[t,e])}function tHt({styles:t,theme:e}){const r=Sr(),n=we(),i=I.useCallback(A=>n.markHistoryStoppingPoint(A),[n]),a=Wb(),o=t.get(gs),s=t.get(Wf),l=t.get(zf),u=t.get($u),c=s!==void 0||l!==void 0||u!==void 0;return y.jsxs(y.Fragment,{children:[y.jsxs("div",{tabIndex:-1,className:"tlui-style-panel__section__common","aria-label":"style panel styles","data-testid":"style.panel",children:[o===void 0?null:y.jsx(Bf,{title:r("style-panel.color"),uiType:"color",style:gs,items:Ws.color,value:o,onValueChange:a,theme:e,onHistoryMark:i}),y.jsx(oHt,{})]}),c&&y.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[s===void 0?null:y.jsx(Bf,{title:r("style-panel.fill"),uiType:"fill",style:Wf,items:Ws.fill,value:s,onValueChange:a,theme:e,onHistoryMark:i}),l===void 0?null:y.jsx(Bf,{title:r("style-panel.dash"),uiType:"dash",style:zf,items:Ws.dash,value:l,onValueChange:a,theme:e,onHistoryMark:i}),u===void 0?null:y.jsx(Bf,{title:r("style-panel.size"),uiType:"size",style:$u,items:Ws.size,value:u,onValueChange:(A,d)=>{a(A,d);const f=n.getSelectedShapeIds();f.length>0&&vn(n,f)},theme:e,onHistoryMark:i})]})]})}function rHt({theme:t,styles:e}){const r=Sr(),n=Wb(),i=we(),a=I.useCallback(c=>i.markHistoryStoppingPoint(c),[i]),o=e.get(Nu),s=e.get(f4),l=e.get(qC),u=e.get(KC);return o===void 0&&l===void 0?null:y.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel text",children:[o===void 0?null:y.jsx(Bf,{title:r("style-panel.font"),uiType:"font",style:Nu,items:Ws.font,value:o,onValueChange:n,theme:t,onHistoryMark:a}),s===void 0?null:y.jsxs("div",{className:"tlui-style-panel__row",children:[y.jsx(Bf,{title:r("style-panel.align"),uiType:"align",style:f4,items:Ws.textAlign,value:s,onValueChange:n,theme:t,onHistoryMark:a}),y.jsx("div",{className:"tlui-style-panel__row__extra-button",children:y.jsx(Ut,{type:"icon",title:r("style-panel.vertical-align"),"data-testid":"vertical-align",disabled:!0,children:y.jsx(gr,{icon:"vertical-align-middle"})})})]}),l===void 0?null:y.jsxs("div",{className:"tlui-style-panel__row",children:[y.jsx(Bf,{title:r("style-panel.label-align"),uiType:"align",style:qC,items:Ws.horizontalAlign,value:l,onValueChange:n,theme:t,onHistoryMark:a}),y.jsx("div",{className:"tlui-style-panel__row__extra-button",children:u===void 0?y.jsx(Ut,{type:"icon",title:r("style-panel.vertical-align"),"data-testid":"vertical-align",disabled:!0,children:y.jsx(gr,{icon:"vertical-align-middle"})}):y.jsx(AK,{type:"icon",id:"geo-vertical-alignment",uiType:"verticalAlign",stylePanelType:"vertical-align",style:KC,items:Ws.verticalAlign,value:u,onValueChange:n})})]})]})}function nHt({styles:t}){const e=Wb(),r=t.get(Ml);return r===void 0?null:y.jsx(AK,{id:"geo",type:"menu",label:"style-panel.geo",uiType:"geo",stylePanelType:"geo",style:Ml,items:Ws.geo,value:r,onValueChange:e})}function iHt({styles:t}){const e=Wb(),r=t.get(zC);return r===void 0?null:y.jsx(AK,{id:"spline",type:"menu",label:"style-panel.spline",uiType:"spline",stylePanelType:"spline",style:zC,items:Ws.spline,value:r,onValueChange:e})}function aHt({styles:t}){const e=Wb(),r=t.get(QC),n=t.get($C);return!r||!n?null:y.jsx(J4t,{label:"style-panel.arrowheads",uiTypeA:"arrowheadStart",styleA:$C,itemsA:Ws.arrowheadStart,valueA:n,uiTypeB:"arrowheadEnd",styleB:QC,itemsB:Ws.arrowheadEnd,valueB:r,onValueChange:e,labelA:"style-panel.arrowhead-start",labelB:"style-panel.arrowhead-end"})}const Uv=[.1,.25,.5,.75,1];function oHt(){const t=we(),e=I.useCallback(s=>t.markHistoryStoppingPoint(s),[t]),r=Ce("opacity",()=>t.getSharedOpacity(),[t]),n=xa(),i=Sr(),a=ce.useCallback(s=>{const l=Uv[s];t.run(()=>{t.isIn("select")&&t.setOpacityForSelectedShapes(l),t.setOpacityForNextShapes(l),t.updateInstanceState({isChangingStyle:!0})}),n("set-style",{source:"style-panel",id:"opacity",value:s})},[t,n]);if(r===void 0)return null;const o=r.type==="mixed"?-1:Uv.indexOf(jgt(Uv,s=>Math.abs(s-r.value)));return y.jsx(Y4t,{"data-testid":"style.opacity",value:o>=0?o:Uv.length-1,label:r.type==="mixed"?"style-panel.mixed":`opacity-style.${r.value}`,onValueChange:a,steps:Uv.length-1,title:i("style-panel.opacity"),onHistoryMark:e})}const sHt=I.memo(function({isMobile:e,children:r}){const n=we(),i=I.useRef(null);Ld(i);const a=CHe(),o=I.useCallback(()=>{e||n.updateInstanceState({isChangingStyle:!1})},[n,e]),s=r??y.jsx(eHt,{styles:a});return y.jsx("div",{ref:i,className:Mt("tlui-style-panel",{"tlui-style-panel__wrapper":!e}),"data-ismobile":e,onPointerLeave:o,children:s})});function lHt(){const t=we(),e=Sr(),r=CHe(),n=r==null?void 0:r.get(gs),i=oA({isDarkMode:t.user.getIsDarkMode()}),a=((n==null?void 0:n.type)==="shared"?i[n.value]:i.black).solid,o=Ce("disable style panel",()=>t.isInAny("hand","zoom","eraser","laser"),[t]),s=I.useCallback(u=>{u||t.updateInstanceState({isChangingStyle:!1})},[t]),{StylePanel:l}=Hd();return l?y.jsxs(oK,{id:"mobile style menu",onOpenChange:s,children:[y.jsx(sK,{children:y.jsx(Ut,{type:"tool","data-testid":"mobile-styles.button",style:{color:o?"var(--color-muted-1)":a},title:e("style-panel.title"),disabled:o,children:y.jsx(gr,{icon:o?"blob":(n==null?void 0:n.type)==="mixed"?"mixed":"blob"})})}),y.jsx(lK,{side:"top",align:"end",children:l&&y.jsx(l,{isMobile:!0})})]}):null}function uHt(){return y.jsxs(y.Fragment,{children:[y.jsx(AHt,{}),y.jsx(dHt,{}),y.jsx(fHt,{}),y.jsx(hHt,{}),y.jsx(pHt,{}),y.jsx(gHt,{}),y.jsx(mHt,{}),y.jsx(vHt,{}),y.jsx(yHt,{}),y.jsx(wHt,{}),y.jsx(SHt,{}),y.jsx(bHt,{}),y.jsx(_Ht,{}),y.jsx(BHt,{}),y.jsx(xHt,{}),y.jsx(IHt,{}),y.jsx(EHt,{}),y.jsx(CHt,{}),y.jsx(PHt,{}),y.jsx(THt,{}),y.jsx(OHt,{}),y.jsx(RHt,{}),y.jsx(MHt,{}),y.jsx(FHt,{}),y.jsx(kHt,{}),y.jsx(UHt,{}),y.jsx(jHt,{}),y.jsx(DHt,{})]})}function cHt(t){var n;const e=we(),r=(n=t.meta)==null?void 0:n.geo;return Ce("is tool selected",()=>{const i=e.getCurrentToolId(),a=e.getSharedStyles().getAsKnownValue(Ml);return r?i==="geo"&&a===r:i===t.id},[e,t.id,r])}function hn({tool:t}){const e=L6(),r=cHt(e[t]);return y.jsx(Oo,{toolId:t,isSelected:r})}function AHt(){return y.jsx(hn,{tool:"select"})}function dHt(){return y.jsx(hn,{tool:"hand"})}function fHt(){return y.jsx(hn,{tool:"draw"})}function hHt(){return y.jsx(hn,{tool:"eraser"})}function pHt(){return y.jsx(hn,{tool:"arrow"})}function gHt(){return y.jsx(hn,{tool:"text"})}function mHt(){return y.jsx(hn,{tool:"note"})}function vHt(){return y.jsx(Oo,{toolId:"asset"})}function yHt(){return y.jsx(hn,{tool:"rectangle"})}function wHt(){return y.jsx(hn,{tool:"ellipse"})}function bHt(){return y.jsx(hn,{tool:"diamond"})}function SHt(){return y.jsx(hn,{tool:"triangle"})}function xHt(){return y.jsx(hn,{tool:"rhombus"})}function CHt(){return y.jsx(hn,{tool:"heart"})}function _Ht(){return y.jsx(hn,{tool:"hexagon"})}function EHt(){return y.jsx(hn,{tool:"cloud"})}function IHt(){return y.jsx(hn,{tool:"star"})}function BHt(){return y.jsx(hn,{tool:"oval"})}function PHt(){return y.jsx(hn,{tool:"x-box"})}function THt(){return y.jsx(hn,{tool:"check-box"})}function OHt(){return y.jsx(hn,{tool:"arrow-left"})}function RHt(){return y.jsx(hn,{tool:"arrow-up"})}function MHt(){return y.jsx(hn,{tool:"arrow-down"})}function FHt(){return y.jsx(hn,{tool:"arrow-right"})}function kHt(){return y.jsx(hn,{tool:"line"})}function UHt(){return y.jsx(hn,{tool:"highlight"})}function DHt(){return y.jsx(hn,{tool:"frame"})}function jHt(){return y.jsx(hn,{tool:"laser"})}const BN=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function PN(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent&&t.attachEvent("on".concat(e),r)}function Dv(t,e,r,n){t.removeEventListener?t.removeEventListener(e,r,n):t.detachEvent&&t.detachEvent("on".concat(e),r)}function LHe(t,e){const r=e.slice(0,e.length-1);for(let n=0;n<r.length;n++)r[n]=t[r[n].toLowerCase()];return r}function NHe(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let r=e.lastIndexOf("");for(;r>=0;)e[r-1]+=",",e.splice(r,1),r=e.lastIndexOf("");return e}function LHt(t,e){const r=t.length>=e.length?t:e,n=t.length>=e.length?e:t;let i=!0;for(let a=0;a<r.length;a++)n.indexOf(r[a])===-1&&(i=!1);return i}const Uw={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":BN?173:189,"=":BN?61:187,";":BN?59:186,"'":222,"[":219,"]":221,"\\":220},zu={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},f1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ua={16:!1,18:!1,17:!1,91:!1},Gn={};for(let t=1;t<20;t++)Uw["f".concat(t)]=111+t;let Ln=[],Iy=null,$He="all";const Pc=new Map,Gb=t=>Uw[t.toLowerCase()]||zu[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),NHt=t=>Object.keys(Uw).find(e=>Uw[e]===t),$Ht=t=>Object.keys(zu).find(e=>zu[e]===t);function QHe(t){$He=t||"all"}function Dw(){return $He||"all"}function QHt(){return Ln.slice(0)}function HHt(){return Ln.map(t=>NHt(t)||$Ht(t)||String.fromCharCode(t))}function qHt(){const t=[];return Object.keys(Gn).forEach(e=>{Gn[e].forEach(r=>{let{key:n,scope:i,mods:a,shortcut:o}=r;t.push({scope:i,shortcut:o,mods:a,keys:n.split("+").map(s=>Gb(s))})})}),t}function KHt(t){const e=t.target||t.srcElement,{tagName:r}=e;let n=!0;const i=r==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(i||r==="TEXTAREA"||r==="SELECT")&&!e.readOnly)&&(n=!1),n}function zHt(t){return typeof t=="string"&&(t=Gb(t)),Ln.indexOf(t)!==-1}function WHt(t,e){let r,n;t||(t=Dw());for(const i in Gn)if(Object.prototype.hasOwnProperty.call(Gn,i))for(r=Gn[i],n=0;n<r.length;)r[n].scope===t?r.splice(n,1).forEach(o=>{let{element:s}=o;return dK(s)}):n++;Dw()===t&&QHe(e||"all")}function GHt(t){let e=t.keyCode||t.which||t.charCode;const r=Ln.indexOf(e);if(r>=0&&Ln.splice(r,1),t.key&&t.key.toLowerCase()==="meta"&&Ln.splice(0,Ln.length),(e===93||e===224)&&(e=91),e in ua){ua[e]=!1;for(const n in zu)zu[n]===e&&(Gs[n]=!1)}}function HHe(t){if(typeof t>"u")Object.keys(Gn).forEach(i=>{Array.isArray(Gn[i])&&Gn[i].forEach(a=>yx(a)),delete Gn[i]}),dK(null);else if(Array.isArray(t))t.forEach(i=>{i.key&&yx(i)});else if(typeof t=="object")t.key&&yx(t);else if(typeof t=="string"){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];let[i,a]=r;typeof i=="function"&&(a=i,i=""),yx({key:t,scope:i,method:a,splitKey:"+"})}}const yx=t=>{let{key:e,scope:r,method:n,splitKey:i="+"}=t;NHe(e).forEach(o=>{const s=o.split(i),l=s.length,u=s[l-1],c=u==="*"?"*":Gb(u);if(!Gn[c])return;r||(r=Dw());const A=l>1?LHe(zu,s):[],d=[];Gn[c]=Gn[c].filter(f=>{const g=(n?f.method===n:!0)&&f.scope===r&&LHt(f.mods,A);return g&&d.push(f.element),!g}),d.forEach(f=>dK(f))})};function eEe(t,e,r,n){if(e.element!==n)return;let i;if(e.scope===r||e.scope==="all"){i=e.mods.length>0;for(const a in ua)Object.prototype.hasOwnProperty.call(ua,a)&&(!ua[a]&&e.mods.indexOf(+a)>-1||ua[a]&&e.mods.indexOf(+a)===-1)&&(i=!1);(e.mods.length===0&&!ua[16]&&!ua[18]&&!ua[17]&&!ua[91]||i||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(Ln),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function tEe(t,e){const r=Gn["*"];let n=t.keyCode||t.which||t.charCode;if(!Gs.filter.call(this,t))return;if((n===93||n===224)&&(n=91),Ln.indexOf(n)===-1&&n!==229&&Ln.push(n),["metaKey","ctrlKey","altKey","shiftKey"].forEach(s=>{const l=f1[s];t[s]&&Ln.indexOf(l)===-1?Ln.push(l):!t[s]&&Ln.indexOf(l)>-1?Ln.splice(Ln.indexOf(l),1):s==="metaKey"&&t[s]&&(Ln=Ln.filter(u=>u in f1||u===n))}),n in ua){ua[n]=!0;for(const s in zu)zu[s]===n&&(Gs[s]=!0);if(!r)return}for(const s in ua)Object.prototype.hasOwnProperty.call(ua,s)&&(ua[s]=t[f1[s]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(Ln.indexOf(17)===-1&&Ln.push(17),Ln.indexOf(18)===-1&&Ln.push(18),ua[17]=!0,ua[18]=!0);const i=Dw();if(r)for(let s=0;s<r.length;s++)r[s].scope===i&&(t.type==="keydown"&&r[s].keydown||t.type==="keyup"&&r[s].keyup)&&eEe(t,r[s],i,e);if(!(n in Gn))return;const a=Gn[n],o=a.length;for(let s=0;s<o;s++)if((t.type==="keydown"&&a[s].keydown||t.type==="keyup"&&a[s].keyup)&&a[s].key){const l=a[s],{splitKey:u}=l,c=l.key.split(u),A=[];for(let d=0;d<c.length;d++)A.push(Gb(c[d]));A.sort().join("")===Ln.sort().join("")&&eEe(t,l,i,e)}}function Gs(t,e,r){Ln=[];const n=NHe(t);let i=[],a="all",o=document,s=0,l=!1,u=!0,c="+",A=!1,d=!1;for(r===void 0&&typeof e=="function"&&(r=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(o=e.element),e.keyup&&(l=e.keyup),e.keydown!==void 0&&(u=e.keydown),e.capture!==void 0&&(A=e.capture),typeof e.splitKey=="string"&&(c=e.splitKey),e.single===!0&&(d=!0)),typeof e=="string"&&(a=e),d&&HHe(t,a);s<n.length;s++)t=n[s].split(c),i=[],t.length>1&&(i=LHe(zu,t)),t=t[t.length-1],t=t==="*"?"*":Gb(t),t in Gn||(Gn[t]=[]),Gn[t].push({keyup:l,keydown:u,scope:a,mods:i,shortcut:n[s],method:r,key:n[s],splitKey:c,element:o});if(typeof o<"u"&&window){if(!Pc.has(o)){const f=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return tEe(g,o)},p=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;tEe(g,o),GHt(g)};Pc.set(o,{keydownListener:f,keyupListenr:p,capture:A}),PN(o,"keydown",f,A),PN(o,"keyup",p,A)}if(!Iy){const f=()=>{Ln=[]};Iy={listener:f,capture:A},PN(window,"focus",f,A)}}}function VHt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Gn).forEach(r=>{Gn[r].filter(i=>i.scope===e&&i.shortcut===t).forEach(i=>{i&&i.method&&i.method()})})}function dK(t){const e=Object.values(Gn).flat();if(e.findIndex(n=>{let{element:i}=n;return i===t})<0){const{keydownListener:n,keyupListenr:i,capture:a}=Pc.get(t)||{};n&&i&&(Dv(t,"keyup",i,a),Dv(t,"keydown",n,a),Pc.delete(t))}if((e.length<=0||Pc.size<=0)&&(Object.keys(Pc).forEach(i=>{const{keydownListener:a,keyupListenr:o,capture:s}=Pc.get(i)||{};a&&o&&(Dv(i,"keyup",o,s),Dv(i,"keydown",a,s),Pc.delete(i))}),Pc.clear(),Object.keys(Gn).forEach(i=>delete Gn[i]),Iy)){const{listener:i,capture:a}=Iy;Dv(window,"focus",i,a),Iy=null}}const TN={getPressedKeyString:HHt,setScope:QHe,getScope:Dw,deleteScope:WHt,getPressedKeyCodes:QHt,getAllKeyCodes:qHt,isPressed:zHt,filter:KHt,trigger:VHt,unbind:HHe,keyMap:Uw,modifier:zu,modifierMap:f1};for(const t in TN)Object.prototype.hasOwnProperty.call(TN,t)&&(Gs[t]=TN[t]);if(typeof window<"u"){const t=window.hotkeys;Gs.noConflict=e=>(e&&window.hotkeys===Gs&&(window.hotkeys=t),Gs),window.hotkeys=Gs}const rEe=["copy","cut","paste","asset"];function YHt(){const t=we(),e=_s(),r=_h(),n=L6(),i=Ce("is focused",()=>t.getInstanceState().isFocused,[t]);I.useEffect(()=>{if(!i)return;const a=new Array,o=(l,u)=>{Gs(l,{element:document.body},u),a.push(()=>{Gs.unbind(l,u)})},s=(l,u)=>{Gs(l,{element:document.body,keyup:!0,keydown:!1},u),a.push(()=>{Gs.unbind(l,u)})};for(const l of Object.values(r))l.kbd&&(e&&!l.readonlyOk||rEe.includes(l.id)||o(nEe(l.kbd),u=>{sy(t)||(dr(u),l.onSelect("kbd"))}));for(const l of Object.values(n))!l.kbd||!l.readonlyOk&&t.getIsReadonly()||rEe.includes(l.id)||o(nEe(l.kbd),u=>{sy(t)||(dr(u),l.onSelect("kbd"))});return o(",",l=>{if(sy(t)||t.inputs.keys.has("Comma"))return;dr(l),t.focus(),t.inputs.keys.add("Comma");const{x:u,y:c,z:A}=t.inputs.currentPagePoint,d=t.pageToScreen({x:u,y:c}),f={type:"pointer",name:"pointer_down",point:{x:d.x,y:d.y,z:A},shiftKey:l.shiftKey,altKey:l.altKey,ctrlKey:l.metaKey||l.ctrlKey,metaKey:l.metaKey,accelKey:Ha(l),pointerId:0,button:0,isPen:t.getInstanceState().isPenMode,target:"canvas"};t.dispatch(f)}),s(",",l=>{if(sy(t)||!t.inputs.keys.has("Comma"))return;t.inputs.keys.delete("Comma");const{x:u,y:c,z:A}=t.inputs.currentScreenPoint,d={type:"pointer",name:"pointer_up",point:{x:u,y:c,z:A},shiftKey:l.shiftKey,altKey:l.altKey,ctrlKey:l.metaKey||l.ctrlKey,metaKey:l.metaKey,accelKey:Ha(l),pointerId:0,button:0,isPen:t.getInstanceState().isPenMode,target:"canvas"};t.dispatch(d)}),()=>{a.forEach(l=>l())}},[r,n,e,t,i])}function nEe(t){return XHt(t).map(e=>{let r="";const n=e.split("");return n.length===1?r=n[0]:n[0]==="!"?r=`shift+${n[1]}`:n[0]==="?"?n.length===3&&n[1]==="!"?r=`alt+shift+${n[2]}`:r=`alt+${n[1]}`:n[0]==="$"?n[1]==="!"?r=`cmd+shift+${n[2]},ctrl+shift+${n[2]}`:n[1]==="?"?r=`cmd++${n[2]},ctrl+alt+${n[2]}`:r=`cmd+${n[1]},ctrl+${n[1]}`:r=e,r}).join(",")}function XHt(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let r=e.lastIndexOf("");for(;r>=0;)e[r-1]+=",",e.splice(r,1),r=e.lastIndexOf("");return e}function sy(t){return t.menus.hasAnyOpenMenus()||t.getEditingShapeId()!==null||t.getCrashingError()}const JHt=I.createContext(!1),ZHt={1:0,2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,0:9};function e3t({children:t}){const e=we(),r=im(),n=vo(),i=Sr(),a=I.useRef([]),o=Math.min(8,5+n),[s,l]=I.useState(0),u=I.useRef(null),[c,A]=I.useState(null),d=I.useMemo(()=>{const p=c?`:not([data-value="${c}"])`:"";return`
			#${r}_main > *:nth-child(n + ${o+(c?1:2)})${p} {
				display: none;
			}
			#${r}_more > *:nth-child(-n + ${o}) {
				display: none;
			}
        `},[c,r,o]),f=II(()=>{var w;if(!u.current)return;const p=Array.from(u.current.children);l(p.length),p.findIndex(b=>b.getAttribute("data-value")===c)<=o&&A(null);const m=Array.from(u.current.children).findIndex(b=>b.getAttribute("aria-checked")==="true");m!==-1&&(m>=o&&A(p[m].getAttribute("data-value")),a.current=Array.from(((w=u.current)==null?void 0:w.children)??[]).filter(b=>!(b instanceof HTMLElement)||b.tagName.toLowerCase()!=="button"?!1:!!(b.offsetWidth||b.offsetHeight)))});return I.useLayoutEffect(()=>{f()}),I.useLayoutEffect(()=>{if(!u.current)return;const p=new MutationObserver(f);return p.observe(u.current,{childList:!0,subtree:!0,attributeFilter:["data-value","aria-checked"]}),()=>{p.disconnect()}},[f]),I.useEffect(()=>{if(!e.options.enableToolbarKeyboardShortcuts)return;function p(g){var w;if(sy(e)||W2e()||g.ctrlKey||g.metaKey||g.altKey||g.shiftKey)return;const m=ZHt[g.key];typeof m=="number"&&(dr(g),(w=a.current[m])==null||w.click())}return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[e]),y.jsxs(y.Fragment,{children:[y.jsx("style",{children:d}),y.jsxs("div",{className:Mt("tlui-toolbar__tools",{"tlui-toolbar__tools__mobile":n<ai.TABLET_SM}),role:"radiogroup",children:[y.jsx("div",{id:`${r}_main`,ref:u,className:"tlui-toolbar__tools__list",children:y.jsx(rl,{type:"toolbar",sourceId:"toolbar",children:t})}),s>o+1&&y.jsx(JHt.Provider,{value:!0,children:y.jsxs(Xf,{id:"toolbar overflow",modal:!1,children:[y.jsx(Jf,{children:y.jsx(Ut,{title:i("tool-panel.more"),type:"tool",className:"tlui-toolbar__overflow","data-testid":"tools.more-button",children:y.jsx(gr,{icon:"chevron-up"})})}),y.jsx(Zf,{side:"top",align:"center",children:y.jsx("div",{className:"tlui-buttons__grid","data-testid":"tools.more-content",id:`${r}_more`,children:y.jsx(rl,{type:"toolbar-overflow",sourceId:"toolbar",children:t})})})]})})]})]})}function t3t({activeToolId:t}){const e=we(),r=vo(),n=Sr(),i=Ce("is tool locked",()=>e.getInstanceState().isToolLocked,[e]),a=Ce("current tool",()=>e.getCurrentTool(),[e]);return!t||!a.isLockable?null:y.jsx(Ut,{type:"normal",title:n("action.toggle-tool-lock"),"data-testid":"tool-lock",className:Mt("tlui-toolbar__lock-button",{"tlui-toolbar__lock-button__mobile":r<ai.TABLET_SM}),onClick:()=>e.updateInstanceState({isToolLocked:!i}),children:y.jsx(gr,{icon:i?"lock":"unlock",small:!0})})}const r3t=I.memo(function({children:e}){const r=we(),n=vo(),i=_s(),a=Ce("current tool id",()=>r.getCurrentToolId(),[r]),o=I.useRef(null);Ld(o);const{ActionsMenu:s,QuickActions:l}=Hd(),u=r.options.actionShortcutsLocation==="menu"?!1:r.options.actionShortcutsLocation==="toolbar"?!0:n<ai.TABLET;return y.jsx("div",{ref:o,className:"tlui-toolbar",children:y.jsxs("div",{className:"tlui-toolbar__inner",children:[y.jsxs("div",{className:"tlui-toolbar__left",children:[!i&&y.jsxs("div",{className:"tlui-toolbar__extras",children:[u&&y.jsxs("div",{className:"tlui-toolbar__extras__controls tlui-buttons__horizontal",children:[l&&y.jsx(l,{}),s&&y.jsx(s,{})]}),y.jsx(t3t,{activeToolId:a})]}),y.jsx(e3t,{children:e??y.jsx(uHt,{})})]}),n<ai.TABLET_SM&&!i&&y.jsx("div",{className:"tlui-toolbar__tools",children:y.jsx(lHt,{})})]})})});function n3t(){const t=Sr();return y.jsxs("div",{className:Mt("tlui-offline-indicator"),children:[t("status.offline"),y.jsx(qu,{"aria-label":"offline",icon:"status-offline",small:!0})]})}function i3t({maxWidth:t=420,ignoreRightWidth:e=0,stylePanelWidth:r=148,marginBetweenZones:n=12,squeezeAmount:i=52,children:a}){const o=I.useRef(null),s=vo(),l=I.useCallback(()=>{const u=o.current;if(!u)return;const c=u.parentElement.parentElement,A=c.querySelector(".tlui-layout__top__left"),d=c.querySelector(".tlui-layout__top__right"),f=c.offsetWidth,p=A.offsetWidth,g=d.offsetWidth,m=u.offsetWidth-e;let w=(f-m)/2;f%2!==0&&(w-=.5);const b=p+n,C=u.offsetLeft,S=Math.min(f-g-p-2*n,t),x=Math.max(w,b)-C;d.offsetWidth>r&&s<=6?u.style.setProperty("max-width",S-i+"px"):u.style.setProperty("max-width",S+"px"),u.style.setProperty("transform",`translate(${x}px, 0px)`)},[s,e,n,t,i,r]);return I.useLayoutEffect(()=>{const u=o.current;if(!u)return;const c=u.parentElement.parentElement,A=c.querySelector(".tlui-layout__top__left"),d=c.querySelector(".tlui-layout__top__right"),f=new ResizeObserver(l);return f.observe(A),f.observe(d),f.observe(c),f.observe(u),l(),()=>{f.disconnect()}},[l]),I.useLayoutEffect(()=>{l()}),y.jsx("div",{ref:o,className:"tlui-top-panel__container",children:a})}function a3t(){const t=BUt()==="offline";return y.jsx(i3t,{children:t&&y.jsx(n3t,{})})}function o3t(){return y.jsxs(y.Fragment,{children:[y.jsx(Ue,{actionId:"zoom-in",noClose:!0}),y.jsx(Ue,{actionId:"zoom-out",noClose:!0}),y.jsx(Y4e,{}),y.jsx(X4e,{}),y.jsx(J4e,{})]})}const s3t=I.memo(function({children:e}){const r=$i(),[n,i]=dA("zoom menu"),a=e??y.jsx(o3t,{});return y.jsxs(S6,{dir:"ltr",open:n,onOpenChange:i,modal:!1,children:[y.jsx(x6,{asChild:!0,dir:"ltr",children:y.jsx(l3t,{})}),y.jsx(GI,{container:r,children:y.jsx(C6,{className:"tlui-menu",side:"top",align:"start",alignOffset:0,sideOffset:8,collisionPadding:4,children:y.jsx(rl,{type:"menu",sourceId:"zoom-menu",children:a})})})]})}),l3t=I.forwardRef(function(e,r){const n=we(),i=vo(),a=Ce("zoom",()=>n.getZoomLevel(),[n]),o=Sr(),s=I.useCallback(()=>{n.resetZoom(n.getViewportScreenCenter(),{animation:{duration:n.options.animationMediumMs}})},[n]);return y.jsx(Ut,{ref:r,...e,type:"icon",title:`${o("navigation-zone.zoom")}`,"data-testid":"minimap.zoom-menu-button",className:i<ai.TABLET_SM?"tlui-zoom-menu__button":"tlui-zoom-menu__button__pct",onDoubleClick:s,children:i<ai.MOBILE?null:y.jsxs("span",{style:{flexGrow:0,textAlign:"center"},children:[Math.floor(a*100),"%"]})})}),qHe=I.createContext(null);function u3t({overrides:t={},children:e}){const r=om(t),n=ZI();return y.jsx(qHe.Provider,{value:I.useMemo(()=>({ContextMenu:xQt,ActionsMenu:X$t,HelpMenu:null,ZoomMenu:s3t,MainMenu:n4t,Minimap:f4t,StylePanel:sHt,PageMenu:m4t,NavigationPanel:p4t,Toolbar:r3t,KeyboardShortcutsDialog:zQt,QuickActions:b4t,HelperButtons:qQt,DebugPanel:kQt,DebugMenu:FQt,MenuPanel:LQt,SharePanel:n?B4t:null,CursorChatBubble:n?EQt:null,TopPanel:n?a3t:null,Dialogs:QDt,Toasts:zDt,...r}),[r,n]),children:e})}function Hd(){const t=I.useContext(qHe);if(!t)throw new Error("useTldrawUiComponents must be used within a TldrawUiComponentsProvider");return t}const c3t=wa(function({overrides:e,components:r,assetUrls:n,onUiEvent:i,forceMobile:a,mediaMimeTypes:o,children:s}){const l=Rd();return y.jsx(V$e.Provider,{value:o,children:y.jsx(eUt,{assetUrls:_$t(n),children:y.jsx(nUt,{overrides:BDt(e),locale:(l==null?void 0:l.user.getLocale())??yu.locale,children:y.jsx(zRt,{onEvent:i,children:y.jsx(ZUt,{children:y.jsx(TUt,{context:"tla",children:y.jsx(PUt,{forceMobile:a,children:y.jsx(u3t,{overrides:r,children:l?y.jsx(A3t,{overrides:e,children:s}):s})})})})})})})})});function A3t({overrides:t,children:e}){const r=PDt(t);return y.jsx(ODt,{overrides:r.actions,children:y.jsx(WDt,{overrides:r.tools,children:e})})}function d3t(){const t=we(),{addToast:e}=AA();I.useEffect(()=>{function r({name:n,count:i}){e({title:"Maximum Shapes Reached",description:`You've reached the maximum number of shapes allowed on ${n} (${i}). Please delete some shapes or move to a different page to continue.`,severity:"warning"})}return t.addListener("max-shapes",r),()=>{t.removeListener("max-shapes",r)}},[t,e])}const f3t=ce.memo(function({renderDebugMenuItems:e,children:r,hideUi:n,components:i,...a}){return y.jsx(c3t,{...a,components:i,children:y.jsx(h3t,{hideUi:n,renderDebugMenuItems:e,children:r})})}),h3t=ce.memo(function({children:e,hideUi:r,...n}){return y.jsxs(y.Fragment,{children:[e,r?null:y.jsx(p3t,{...n})]})}),p3t=ce.memo(function(){const e=we(),r=Sr(),n=vo(),i=_s(),a=Ce("focus",()=>e.getInstanceState().isFocusMode,[e]),o=Ce("debug",()=>e.getInstanceState().isDebugMode,[e]),{SharePanel:s,TopPanel:l,MenuPanel:u,StylePanel:c,Toolbar:A,HelpMenu:d,NavigationPanel:f,HelperButtons:p,DebugPanel:g,CursorChatBubble:m,Toasts:w,Dialogs:b}=Hd();YHt(),mDt(),d3t();const{"toggle-focus-mode":C}=_h();return y.jsxs("div",{className:Mt("tlui-layout",{"tlui-layout__mobile":n<ai.TABLET_SM}),"data-breakpoint":n,children:[a?y.jsx("div",{className:"tlui-layout__top",children:y.jsx(Ut,{type:"icon",className:"tlui-focus-button",title:r("focus-mode.toggle-focus-mode"),onClick:()=>C.onSelect("menu"),children:y.jsx(gr,{icon:"dot"})})}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"tlui-layout__top",children:[y.jsxs("div",{className:"tlui-layout__top__left",children:[u&&y.jsx(u,{}),p&&y.jsx(p,{})]}),y.jsx("div",{className:"tlui-layout__top__center",children:l&&y.jsx(l,{})}),y.jsxs("div",{className:"tlui-layout__top__right",children:[s&&y.jsx(s,{}),c&&n>=ai.TABLET_SM&&!i&&y.jsx(c,{})]})]}),y.jsxs("div",{className:"tlui-layout__bottom",children:[y.jsxs("div",{className:"tlui-layout__bottom__main",children:[f&&y.jsx(f,{}),A&&y.jsx(A,{}),d&&y.jsx(d,{})]}),o&&g&&y.jsx(g,{})]})]}),w&&y.jsx(w,{}),b&&y.jsx(b,{}),y.jsx(S$t,{}),m&&y.jsx(m,{})]})});async function g3t(t,e){const{url:r,style:n="normal",weight:i="500",display:a,featureSettings:o,stretch:s,unicodeRange:l,variant:u,format:c}=e,A={style:n,weight:i,display:a,featureSettings:o,stretch:s,unicodeRange:l,variant:u},d=new FontFace(t,`url(${r})`,A);return await d.load(),document.fonts.add(d),d.$$_url=r,d.$$_fontface=`
@font-face {
	font-family: ${d.family};
	font-stretch: ${d.stretch};
	font-weight: ${d.weight};
	font-style: ${d.style};
	src: url("${r}") format("${c}")
}`,d}const wx=(t,e)=>{const[r,n]=I.useState(2);return I.useEffect(()=>{let i=!1;return n(2),g3t(t,e).then(()=>{i||n(0)}).catch(a=>{i||(console.error(a),n(1))}),()=>{i=!0}},[t,e]),r};function m3t(t){return{draw:{url:t.fonts.draw,format:t.fonts.draw.split(".").pop()},serif:{url:t.fonts.serif,format:t.fonts.serif.split(".").pop()},sansSerif:{url:t.fonts.sansSerif,format:t.fonts.sansSerif.split(".").pop()},monospace:{url:t.fonts.monospace,format:t.fonts.monospace.split(".").pop()}}}function KHe(t){const e=I.useMemo(()=>m3t(t),[t]),r=[wx("tldraw_draw",e.draw),wx("tldraw_serif",e.serif),wx("tldraw_sans",e.sansSerif),wx("tldraw_mono",e.monospace)];return{error:r.some(n=>n===1),done:!r.some(n=>n===2)}}const v3t=[...b$t,...uLt];function y3t(t){const{children:e,maxImageDimension:r,maxAssetSize:n,acceptedImageMimeTypes:i,acceptedVideoMimeTypes:a,onMount:o,components:s={},shapeUtils:l=[],bindingUtils:u=[],tools:c=[],embeds:A,...d}=t,f=om(s),p=I.useMemo(()=>({Scribble:h_e,ShapeIndicators:ijt,CollaboratorScribble:h_e,SelectionForeground:tjt,SelectionBackground:ZDt,Handles:GDt,...f}),[f]),g=KA(l),m=I.useMemo(()=>FM("type",g,NQe),[g]),w=KA(u),b=I.useMemo(()=>FM("type",w,nQe),[w]),C=KA(c),S=I.useMemo(()=>FM("id",v3t,C),[C]),x=KA(i??lb),_=KA(a??xE),B=I.useMemo(()=>[...x,..._],[x,_]),T=C4e(d.assetUrls),{done:R,error:P}=KHe(T);return P?y.jsx(cLe,{children:"Could not load assets. Please refresh the page."}):R?(m.find(U=>U.type==="embed")&&A&&A_.setEmbedDefinitions(A),y.jsx(ORt,{initialState:"select",...d,components:p,shapeUtils:m,bindingUtils:b,tools:S,children:y.jsxs(f3t,{...d,components:p,mediaMimeTypes:B,children:[y.jsx(w3t,{maxImageDimension:r,maxAssetSize:n,acceptedImageMimeTypes:x,acceptedVideoMimeTypes:_,onMount:o}),e]})})):y.jsx(Wq,{children:y.jsx(J5,{})})}function w3t({maxImageDimension:t,maxAssetSize:e,acceptedImageMimeTypes:r,acceptedVideoMimeTypes:n,onMount:i}){const a=we(),o=AA(),s=Sr();ALe(()=>{const c=[];return c.push(KNt(a)),Mjt(a,{maxImageDimension:t,maxAssetSize:e,acceptedImageMimeTypes:r,acceptedVideoMimeTypes:n,toasts:o,msg:s}),c.push(a.store.props.onMount(a)),c.push(i==null?void 0:i(a)),()=>{c.forEach(A=>A==null?void 0:A())}});const{Canvas:l}=Rn(),{ContextMenu:u}=Hd();return u?y.jsx(u,{}):l?y.jsx(l,{}):null}I.memo(function(e){const[r,n]=I.useState(null),[i,a]=I.useState(null),o=KA(e.shapeUtils??[]),s=I.useMemo(()=>[...NQe,...o],[o]),l=KA(e.bindingUtils??[]),u=I.useMemo(()=>[...nQe,...l],[l]),c=jRt({snapshot:e.snapshot,shapeUtils:s}),A=C4e(e.assetUrls),{done:d,error:f}=KHe(A),{pageId:p,bounds:g,scale:m,pixelRatio:w,background:b,padding:C,darkMode:S,preserveAspectRatio:x,format:_="svg",licenseKey:B}=e;return I.useLayoutEffect(()=>{if(!i||!c||!d)return;let T=!1;const R=document.createElement("div");i.appendChild(R),i.classList.add("tl-container","tl-theme__light");const P=new ht({store:c,shapeUtils:s,bindingUtils:u,tools:[],getContainer:()=>R,licenseKey:B});p&&P.setCurrentPage(p);const M=P.getCurrentPageShapeIds();async function U(){const F=await P.toImage([...M],{bounds:g,scale:m,background:b,padding:C,darkMode:S,preserveAspectRatio:x,format:_});if(!F||T)return;const j=URL.createObjectURL(F.blob);n(j),P.dispose()}return U(),()=>{T=!0}},[_,i,c,s,u,p,g,m,b,C,S,x,d,f,B,w]),I.useEffect(()=>()=>{r&&URL.revokeObjectURL(r)},[r]),f?y.jsx(cLe,{children:"Could not load assets."}):d?y.jsx("div",{ref:a,style:{position:"relative",width:"100%",height:"100%"},children:r&&y.jsx("img",{src:r,referrerPolicy:"strict-origin-when-cross-origin",style:{width:"100%",height:"100%"}})}):y.jsx(Wq,{children:y.jsx(J5,{})})});I.memo(function({children:e}){const r=Sr(),n=vo(),i=I.useRef(null);Ld(i);const a=e??y.jsx(WQt,{});return n<ai.MOBILE?null:y.jsx("div",{ref:i,className:"tlui-help-menu",children:y.jsxs(Xf,{id:"help menu",children:[y.jsx(Jf,{children:y.jsx(Ut,{type:"help",title:r("help-menu.title"),"data-testid":"help-menu.button",children:y.jsx(gr,{icon:"question-mark",small:!0})})}),y.jsx(Zf,{side:"top",align:"end",alignOffset:0,sideOffset:8,children:y.jsx(rl,{type:"menu",sourceId:"help-menu",children:a})})]})})});const b3t=mr({schemaVersion:Ga(1),storeVersion:Ux,recordVersions:LC(nr,mr({version:Ux,subTypeVersions:LC(nr,Ux).optional(),subTypeKey:nr.optional()}))}),S3t=mr({schemaVersion:Ga(2),sequences:LC(nr,Ux)});mr({tldrawFileFormatVersion:Lvt,schema:Nvt("schemaVersion",{1:b3t,2:S3t}),records:fa(mr({id:nr,typeName:nr}).allowUnknownProperties())});Id("tldraw","3.9.0","esm");const x3t=()=>y.jsx("div",{style:{position:"fixed",inset:0,marginTop:"80px"},children:y.jsx(y3t,{persistenceKey:"canvasPage"})}),C3t=()=>{const t=[{title:"Pipeline Tool",description:"Monitor and manage sales pipelines efficiently, track progress, and forecast sales outcomes."},{title:"Rowers Overview",description:"Get a complete overview of rowers (sales representatives), their performance, and key metrics."},{title:"Rowers Chart",description:"Visualize sales data and trends with interactive charts to make informed decisions."},{title:"Sales Tool",description:"Access powerful sales data analytics, track conversions, and optimize sales strategies."},{title:"Win Room",description:"A dedicated space to analyze successful sales deals and refine winning strategies."},{title:"Canvas",description:"A flexible workspace to map out sales strategies, brainstorm, and create actionable plans."}];return y.jsx(qg,{title:"Information",children:y.jsxs(Hg,{maxWidth:"md",sx:{mb:6},children:[y.jsxs(Vs,{elevation:3,sx:{p:4,textAlign:"center",bgcolor:"#f5f5f5"},children:[y.jsx(er,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Welcome to the Sales Analysis Tool"}),y.jsx(er,{variant:"subtitle1",color:"text.secondary",children:"Learn how to use the platform efficiently and make data-driven sales decisions."})]}),y.jsxs(ii,{mt:4,children:[y.jsx(er,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:" Features & Tools"}),y.jsx(x1,{children:t.map((e,r)=>y.jsxs(ce.Fragment,{children:[y.jsx(xp,{children:y.jsx(Cp,{primary:y.jsx(er,{variant:"h6",fontWeight:"bold",children:e.title}),secondary:y.jsx(er,{variant:"body1",children:e.description})})}),r<t.length-1&&y.jsx(ky,{})]},e.title))})]}),y.jsxs(ii,{mt:6,p:3,sx:{bgcolor:"#e3f2fd",borderRadius:2},children:[y.jsx(er,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:" Technical Overview"}),y.jsxs(er,{variant:"body1",paragraph:!0,children:["This tool is built using ",y.jsx("strong",{children:"React"})," with"," ",y.jsx("strong",{children:"Vite"})," for fast development and performance optimization. The UI is powered by ",y.jsx("strong",{children:"MUI"}),", including specialized & tailored styling, for a modern and responsive experience. The usage of popular API's & Libraries such as"," ",y.jsx("strong",{children:"MUI & TlDraw"})," makes the tool easily developed and flexible."]}),y.jsx(er,{variant:"body1",paragraph:!0,children:"The architecture follows a modular approach with the following concepts:"}),y.jsxs(x1,{children:[y.jsx(xp,{children:y.jsx(Cp,{primary:" Component-based structure for scalability."})}),y.jsx(xp,{children:y.jsx(Cp,{primary:" State management using React hooks and context (if applicable)."})}),y.jsx(xp,{children:y.jsx(Cp,{primary:" Routing handled by React Router for seamless navigation."})}),y.jsx(xp,{children:y.jsx(Cp,{primary:" Optimized performance using lazy loading and efficient API calls."})})]})]}),y.jsx(ii,{mt:4,textAlign:"center",children:y.jsx(er,{variant:"body2",color:"text.secondary",children:" Need help? Reach out to the development team!"})})]})})},_3t=()=>{const{login:t}=wH(),e=th(),[r,n]=I.useState(""),[i,a]=I.useState(""),[o,s]=I.useState(""),l=()=>{t(r,i)?e("/"):s("Invalid username or password")};return y.jsx(Hg,{maxWidth:"xs",children:y.jsxs(ii,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",children:[y.jsx("img",{src:MIe,alt:"Logo",style:{width:"150px",marginBottom:"20px"}}),y.jsx(er,{variant:"h5",gutterBottom:!0,children:"Login"}),y.jsx(Nn,{fullWidth:!0,label:"Username",margin:"normal",onChange:u=>n(u.target.value)}),y.jsx(Nn,{fullWidth:!0,type:"password",label:"Password",margin:"normal",onChange:u=>a(u.target.value)}),o&&y.jsx(er,{color:"error",children:o}),y.jsx(Tl,{fullWidth:!0,variant:"contained",color:"primary",onClick:l,sx:{marginTop:2},children:"Login"})]})})},E3t=P_({palette:{primary:{main:"#9900cc"},secondary:{main:"#f50057"},success:{main:"#4caf50"},warning:{main:"#ff9800"},error:{main:"#f44336"},info:{main:"#2196f3"}}}),I3t=()=>y.jsx(e6e,{children:y.jsxs(qqe,{basename:"/ITM8",children:[y.jsx(F7e,{}),y.jsxs(wqe,{children:[y.jsx(Sl,{path:"/login",element:y.jsx(_3t,{})}),y.jsxs(Sl,{element:y.jsx(t6e,{}),children:[y.jsx(Sl,{path:"/",element:y.jsx(k7e,{})}),y.jsx(Sl,{path:"/PipelinePage",element:y.jsx(U7e,{})}),y.jsx(Sl,{path:"/RowersPage",element:y.jsx(Dze,{theme:E3t,children:y.jsx(D7e,{})})}),y.jsx(Sl,{path:"/RowersChartPage",element:y.jsx(bgt,{})}),y.jsx(Sl,{path:"/SalestoolPage",element:y.jsx(Cgt,{})}),y.jsx(Sl,{path:"/WinRoomPage",element:y.jsx(Pgt,{})}),y.jsx(Sl,{path:"/CanvasPage",element:y.jsx(x3t,{})}),y.jsx(Sl,{path:"/information",element:y.jsx(C3t,{})})]})]})]})});sEe.createRoot(document.getElementById("root")).render(y.jsx(I.StrictMode,{children:y.jsx(I3t,{})}));
