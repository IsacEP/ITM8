var SWe=Object.defineProperty;var CWe=(e,t,r)=>t in e?SWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var K=(e,t,r)=>CWe(e,typeof t!="symbol"?t+"":t,r);function _We(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aR={exports:{}},ay={},sR={exports:{}},Sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UV;function EWe(){if(UV)return Sr;UV=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=d&&z[d]||z["@@iterator"],typeof z=="function"?z:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,p={};function v(z,V,G){this.props=z,this.context=V,this.refs=p,this.updater=G||f}v.prototype.isReactComponent={},v.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function y(){}y.prototype=v.prototype;function b(z,V,G){this.props=z,this.context=V,this.refs=p,this.updater=G||f}var x=b.prototype=new y;x.constructor=b,h(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray,C=Object.prototype.hasOwnProperty,_={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function T(z,V,G){var X,Z={},oe=null,ae=null;if(V!=null)for(X in V.ref!==void 0&&(ae=V.ref),V.key!==void 0&&(oe=""+V.key),V)C.call(V,X)&&!B.hasOwnProperty(X)&&(Z[X]=V[X]);var ne=arguments.length-2;if(ne===1)Z.children=G;else if(1<ne){for(var te=Array(ne),se=0;se<ne;se++)te[se]=arguments[se+2];Z.children=te}if(z&&z.defaultProps)for(X in ne=z.defaultProps,ne)Z[X]===void 0&&(Z[X]=ne[X]);return{$$typeof:e,type:z,key:oe,ref:ae,props:Z,_owner:_.current}}function O(z,V){return{$$typeof:e,type:z.type,key:V,ref:z.ref,props:z.props,_owner:z._owner}}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function F(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(G){return V[G]})}var U=/\/+/g;function k(z,V){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):V.toString(36)}function M(z,V,G,X,Z){var oe=typeof z;(oe==="undefined"||oe==="boolean")&&(z=null);var ae=!1;if(z===null)ae=!0;else switch(oe){case"string":case"number":ae=!0;break;case"object":switch(z.$$typeof){case e:case t:ae=!0}}if(ae)return ae=z,Z=Z(ae),z=X===""?"."+k(ae,0):X,S(Z)?(G="",z!=null&&(G=z.replace(U,"$&/")+"/"),M(Z,V,G,"",function(se){return se})):Z!=null&&(P(Z)&&(Z=O(Z,G+(!Z.key||ae&&ae.key===Z.key?"":(""+Z.key).replace(U,"$&/")+"/")+z)),V.push(Z)),1;if(ae=0,X=X===""?".":X+":",S(z))for(var ne=0;ne<z.length;ne++){oe=z[ne];var te=X+k(oe,ne);ae+=M(oe,V,G,te,Z)}else if(te=A(z),typeof te=="function")for(z=te.call(z),ne=0;!(oe=z.next()).done;)oe=oe.value,te=X+k(oe,ne++),ae+=M(oe,V,G,te,Z);else if(oe==="object")throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ae}function D(z,V,G){if(z==null)return z;var X=[],Z=0;return M(z,X,"","",function(oe){return V.call(G,oe,Z++)}),X}function j(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(G){(z._status===0||z._status===-1)&&(z._status=1,z._result=G)},function(G){(z._status===0||z._status===-1)&&(z._status=2,z._result=G)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var $={current:null},Q={transition:null},H={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:Q,ReactCurrentOwner:_};function W(){throw Error("act(...) is not supported in production builds of React.")}return Sr.Children={map:D,forEach:function(z,V,G){D(z,function(){V.apply(this,arguments)},G)},count:function(z){var V=0;return D(z,function(){V++}),V},toArray:function(z){return D(z,function(V){return V})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Sr.Component=v,Sr.Fragment=r,Sr.Profiler=i,Sr.PureComponent=b,Sr.StrictMode=n,Sr.Suspense=l,Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Sr.act=W,Sr.cloneElement=function(z,V,G){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var X=h({},z.props),Z=z.key,oe=z.ref,ae=z._owner;if(V!=null){if(V.ref!==void 0&&(oe=V.ref,ae=_.current),V.key!==void 0&&(Z=""+V.key),z.type&&z.type.defaultProps)var ne=z.type.defaultProps;for(te in V)C.call(V,te)&&!B.hasOwnProperty(te)&&(X[te]=V[te]===void 0&&ne!==void 0?ne[te]:V[te])}var te=arguments.length-2;if(te===1)X.children=G;else if(1<te){ne=Array(te);for(var se=0;se<te;se++)ne[se]=arguments[se+2];X.children=ne}return{$$typeof:e,type:z.type,key:Z,ref:oe,props:X,_owner:ae}},Sr.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Sr.createElement=T,Sr.createFactory=function(z){var V=T.bind(null,z);return V.type=z,V},Sr.createRef=function(){return{current:null}},Sr.forwardRef=function(z){return{$$typeof:s,render:z}},Sr.isValidElement=P,Sr.lazy=function(z){return{$$typeof:u,_payload:{_status:-1,_result:z},_init:j}},Sr.memo=function(z,V){return{$$typeof:c,type:z,compare:V===void 0?null:V}},Sr.startTransition=function(z){var V=Q.transition;Q.transition={};try{z()}finally{Q.transition=V}},Sr.unstable_act=W,Sr.useCallback=function(z,V){return $.current.useCallback(z,V)},Sr.useContext=function(z){return $.current.useContext(z)},Sr.useDebugValue=function(){},Sr.useDeferredValue=function(z){return $.current.useDeferredValue(z)},Sr.useEffect=function(z,V){return $.current.useEffect(z,V)},Sr.useId=function(){return $.current.useId()},Sr.useImperativeHandle=function(z,V,G){return $.current.useImperativeHandle(z,V,G)},Sr.useInsertionEffect=function(z,V){return $.current.useInsertionEffect(z,V)},Sr.useLayoutEffect=function(z,V){return $.current.useLayoutEffect(z,V)},Sr.useMemo=function(z,V){return $.current.useMemo(z,V)},Sr.useReducer=function(z,V,G){return $.current.useReducer(z,V,G)},Sr.useRef=function(z){return $.current.useRef(z)},Sr.useState=function(z){return $.current.useState(z)},Sr.useSyncExternalStore=function(z,V,G){return $.current.useSyncExternalStore(z,V,G)},Sr.useTransition=function(){return $.current.useTransition()},Sr.version="18.3.1",Sr}var DV;function lb(){return DV||(DV=1,sR.exports=EWe()),sR.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jV;function IWe(){if(jV)return ay;jV=1;var e=lb(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,c){var u,d={},A=null,f=null;c!==void 0&&(A=""+c),l.key!==void 0&&(A=""+l.key),l.ref!==void 0&&(f=l.ref);for(u in l)n.call(l,u)&&!o.hasOwnProperty(u)&&(d[u]=l[u]);if(s&&s.defaultProps)for(u in l=s.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:t,type:s,key:A,ref:f,props:d,_owner:i.current}}return ay.Fragment=r,ay.jsx=a,ay.jsxs=a,ay}var LV;function BWe(){return LV||(LV=1,aR.exports=IWe()),aR.exports}var m=BWe(),I=lb();const ue=kr(I),o_=_We({__proto__:null,default:ue},[I]);var SS={},lR={exports:{}},$a={},cR={exports:{}},uR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NV;function PWe(){return NV||(NV=1,function(e){function t(Q,H){var W=Q.length;Q.push(H);e:for(;0<W;){var z=W-1>>>1,V=Q[z];if(0<i(V,H))Q[z]=H,Q[W]=V,W=z;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var H=Q[0],W=Q.pop();if(W!==H){Q[0]=W;e:for(var z=0,V=Q.length,G=V>>>1;z<G;){var X=2*(z+1)-1,Z=Q[X],oe=X+1,ae=Q[oe];if(0>i(Z,W))oe<V&&0>i(ae,Z)?(Q[z]=ae,Q[oe]=W,z=oe):(Q[z]=Z,Q[X]=W,z=X);else if(oe<V&&0>i(ae,W))Q[z]=ae,Q[oe]=W,z=oe;else break e}}return H}function i(Q,H){var W=Q.sortIndex-H.sortIndex;return W!==0?W:Q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,A=3,f=!1,h=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Q){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=Q)n(c),H.sortIndex=H.expirationTime,t(l,H);else break;H=r(c)}}function S(Q){if(p=!1,x(Q),!h)if(r(l)!==null)h=!0,j(C);else{var H=r(c);H!==null&&$(S,H.startTime-Q)}}function C(Q,H){h=!1,p&&(p=!1,y(T),T=-1),f=!0;var W=A;try{for(x(H),d=r(l);d!==null&&(!(d.expirationTime>H)||Q&&!F());){var z=d.callback;if(typeof z=="function"){d.callback=null,A=d.priorityLevel;var V=z(d.expirationTime<=H);H=e.unstable_now(),typeof V=="function"?d.callback=V:d===r(l)&&n(l),x(H)}else n(l);d=r(l)}if(d!==null)var G=!0;else{var X=r(c);X!==null&&$(S,X.startTime-H),G=!1}return G}finally{d=null,A=W,f=!1}}var _=!1,B=null,T=-1,O=5,P=-1;function F(){return!(e.unstable_now()-P<O)}function U(){if(B!==null){var Q=e.unstable_now();P=Q;var H=!0;try{H=B(!0,Q)}finally{H?k():(_=!1,B=null)}}else _=!1}var k;if(typeof b=="function")k=function(){b(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=U,k=function(){D.postMessage(null)}}else k=function(){v(U,0)};function j(Q){B=Q,_||(_=!0,k())}function $(Q,H){T=v(function(){Q(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){h||f||(h=!0,j(C))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var H=3;break;default:H=A}var W=A;A=H;try{return Q()}finally{A=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,H){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var W=A;A=Q;try{return H()}finally{A=W}},e.unstable_scheduleCallback=function(Q,H,W){var z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,Q={id:u++,callback:H,priorityLevel:Q,startTime:W,expirationTime:V,sortIndex:-1},W>z?(Q.sortIndex=W,t(c,Q),r(l)===null&&Q===r(c)&&(p?(y(T),T=-1):p=!0,$(S,W-z))):(Q.sortIndex=V,t(l,Q),h||f||(h=!0,j(C))),Q},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(Q){var H=A;return function(){var W=A;A=H;try{return Q.apply(this,arguments)}finally{A=W}}}}(uR)),uR}var $V;function TWe(){return $V||($V=1,cR.exports=PWe()),cR.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QV;function OWe(){if(QV)return $a;QV=1;var e=lb(),t=TWe();function r(g){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+g,E=1;E<arguments.length;E++)w+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+g+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(g,w){a(g,w),a(g+"Capture",w)}function a(g,w){for(i[g]=w,g=0;g<w.length;g++)n.add(w[g])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function A(g){return l.call(d,g)?!0:l.call(u,g)?!1:c.test(g)?d[g]=!0:(u[g]=!0,!1)}function f(g,w,E,R){if(E!==null&&E.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return R?!1:E!==null?!E.acceptsBooleans:(g=g.toLowerCase().slice(0,5),g!=="data-"&&g!=="aria-");default:return!1}}function h(g,w,E,R){if(w===null||typeof w>"u"||f(g,w,E,R))return!0;if(R)return!1;if(E!==null)switch(E.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function p(g,w,E,R,N,q,Y){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=R,this.attributeNamespace=N,this.mustUseProperty=E,this.propertyName=g,this.type=w,this.sanitizeURL=q,this.removeEmptyString=Y}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(g){v[g]=new p(g,0,!1,g,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(g){var w=g[0];v[w]=new p(w,1,!1,g[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(g){v[g]=new p(g,2,!1,g.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(g){v[g]=new p(g,2,!1,g,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(g){v[g]=new p(g,3,!1,g.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(g){v[g]=new p(g,3,!0,g,null,!1,!1)}),["capture","download"].forEach(function(g){v[g]=new p(g,4,!1,g,null,!1,!1)}),["cols","rows","size","span"].forEach(function(g){v[g]=new p(g,6,!1,g,null,!1,!1)}),["rowSpan","start"].forEach(function(g){v[g]=new p(g,5,!1,g.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(g){return g[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(g){var w=g.replace(y,b);v[w]=new p(w,1,!1,g,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(g){var w=g.replace(y,b);v[w]=new p(w,1,!1,g,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(g){var w=g.replace(y,b);v[w]=new p(w,1,!1,g,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(g){v[g]=new p(g,1,!1,g.toLowerCase(),null,!1,!1)}),v.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(g){v[g]=new p(g,1,!1,g.toLowerCase(),null,!0,!0)});function x(g,w,E,R){var N=v.hasOwnProperty(w)?v[w]:null;(N!==null?N.type!==0:R||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(h(w,E,N,R)&&(E=null),R||N===null?A(w)&&(E===null?g.removeAttribute(w):g.setAttribute(w,""+E)):N.mustUseProperty?g[N.propertyName]=E===null?N.type===3?!1:"":E:(w=N.attributeName,R=N.attributeNamespace,E===null?g.removeAttribute(w):(N=N.type,E=N===3||N===4&&E===!0?"":""+E,R?g.setAttributeNS(R,w,E):g.setAttribute(w,E))))}var S=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),_=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),Q=Symbol.iterator;function H(g){return g===null||typeof g!="object"?null:(g=Q&&g[Q]||g["@@iterator"],typeof g=="function"?g:null)}var W=Object.assign,z;function V(g){if(z===void 0)try{throw Error()}catch(E){var w=E.stack.trim().match(/\n( *(at )?)/);z=w&&w[1]||""}return`
`+z+g}var G=!1;function X(g,w){if(!g||G)return"";G=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(Me){var R=Me}Reflect.construct(g,[],w)}else{try{w.call()}catch(Me){R=Me}g.call(w.prototype)}else{try{throw Error()}catch(Me){R=Me}g()}}catch(Me){if(Me&&R&&typeof Me.stack=="string"){for(var N=Me.stack.split(`
`),q=R.stack.split(`
`),Y=N.length-1,le=q.length-1;1<=Y&&0<=le&&N[Y]!==q[le];)le--;for(;1<=Y&&0<=le;Y--,le--)if(N[Y]!==q[le]){if(Y!==1||le!==1)do if(Y--,le--,0>le||N[Y]!==q[le]){var Ae=`
`+N[Y].replace(" at new "," at ");return g.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",g.displayName)),Ae}while(1<=Y&&0<=le);break}}}finally{G=!1,Error.prepareStackTrace=E}return(g=g?g.displayName||g.name:"")?V(g):""}function Z(g){switch(g.tag){case 5:return V(g.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return g=X(g.type,!1),g;case 11:return g=X(g.type.render,!1),g;case 1:return g=X(g.type,!0),g;default:return""}}function oe(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case B:return"Fragment";case _:return"Portal";case O:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case F:return(g.displayName||"Context")+".Consumer";case P:return(g._context.displayName||"Context")+".Provider";case U:var w=g.render;return g=g.displayName,g||(g=w.displayName||w.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case D:return w=g.displayName||null,w!==null?w:oe(g.type)||"Memo";case j:w=g._payload,g=g._init;try{return oe(g(w))}catch{}}return null}function ae(g){var w=g.type;switch(g.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=w.render,g=g.displayName||g.name||"",w.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(w);case 8:return w===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function ne(g){switch(typeof g){case"boolean":case"number":case"string":case"undefined":return g;case"object":return g;default:return""}}function te(g){var w=g.type;return(g=g.nodeName)&&g.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function se(g){var w=te(g)?"checked":"value",E=Object.getOwnPropertyDescriptor(g.constructor.prototype,w),R=""+g[w];if(!g.hasOwnProperty(w)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var N=E.get,q=E.set;return Object.defineProperty(g,w,{configurable:!0,get:function(){return N.call(this)},set:function(Y){R=""+Y,q.call(this,Y)}}),Object.defineProperty(g,w,{enumerable:E.enumerable}),{getValue:function(){return R},setValue:function(Y){R=""+Y},stopTracking:function(){g._valueTracker=null,delete g[w]}}}}function de(g){g._valueTracker||(g._valueTracker=se(g))}function re(g){if(!g)return!1;var w=g._valueTracker;if(!w)return!0;var E=w.getValue(),R="";return g&&(R=te(g)?g.checked?"true":"false":g.value),g=R,g!==E?(w.setValue(g),!0):!1}function he(g){if(g=g||(typeof document<"u"?document:void 0),typeof g>"u")return null;try{return g.activeElement||g.body}catch{return g.body}}function ye(g,w){var E=w.checked;return W({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??g._wrapperState.initialChecked})}function ke(g,w){var E=w.defaultValue==null?"":w.defaultValue,R=w.checked!=null?w.checked:w.defaultChecked;E=ne(w.value!=null?w.value:E),g._wrapperState={initialChecked:R,initialValue:E,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function Ue(g,w){w=w.checked,w!=null&&x(g,"checked",w,!1)}function Ne(g,w){Ue(g,w);var E=ne(w.value),R=w.type;if(E!=null)R==="number"?(E===0&&g.value===""||g.value!=E)&&(g.value=""+E):g.value!==""+E&&(g.value=""+E);else if(R==="submit"||R==="reset"){g.removeAttribute("value");return}w.hasOwnProperty("value")?lt(g,w.type,E):w.hasOwnProperty("defaultValue")&&lt(g,w.type,ne(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(g.defaultChecked=!!w.defaultChecked)}function Ye(g,w,E){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var R=w.type;if(!(R!=="submit"&&R!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+g._wrapperState.initialValue,E||w===g.value||(g.value=w),g.defaultValue=w}E=g.name,E!==""&&(g.name=""),g.defaultChecked=!!g._wrapperState.initialChecked,E!==""&&(g.name=E)}function lt(g,w,E){(w!=="number"||he(g.ownerDocument)!==g)&&(E==null?g.defaultValue=""+g._wrapperState.initialValue:g.defaultValue!==""+E&&(g.defaultValue=""+E))}var Ve=Array.isArray;function Te(g,w,E,R){if(g=g.options,w){w={};for(var N=0;N<E.length;N++)w["$"+E[N]]=!0;for(E=0;E<g.length;E++)N=w.hasOwnProperty("$"+g[E].value),g[E].selected!==N&&(g[E].selected=N),N&&R&&(g[E].defaultSelected=!0)}else{for(E=""+ne(E),w=null,N=0;N<g.length;N++){if(g[N].value===E){g[N].selected=!0,R&&(g[N].defaultSelected=!0);return}w!==null||g[N].disabled||(w=g[N])}w!==null&&(w.selected=!0)}}function we(g,w){if(w.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},w,{value:void 0,defaultValue:void 0,children:""+g._wrapperState.initialValue})}function Be(g,w){var E=w.value;if(E==null){if(E=w.children,w=w.defaultValue,E!=null){if(w!=null)throw Error(r(92));if(Ve(E)){if(1<E.length)throw Error(r(93));E=E[0]}w=E}w==null&&(w=""),E=w}g._wrapperState={initialValue:ne(E)}}function Ze(g,w){var E=ne(w.value),R=ne(w.defaultValue);E!=null&&(E=""+E,E!==g.value&&(g.value=E),w.defaultValue==null&&g.defaultValue!==E&&(g.defaultValue=E)),R!=null&&(g.defaultValue=""+R)}function me(g){var w=g.textContent;w===g._wrapperState.initialValue&&w!==""&&w!==null&&(g.value=w)}function Se(g){switch(g){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(g,w){return g==null||g==="http://www.w3.org/1999/xhtml"?Se(w):g==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":g}var it,ft=function(g){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,E,R,N){MSApp.execUnsafeLocalFunction(function(){return g(w,E,R,N)})}:g}(function(g,w){if(g.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in g)g.innerHTML=w;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=it.firstChild;g.firstChild;)g.removeChild(g.firstChild);for(;w.firstChild;)g.appendChild(w.firstChild)}});function ee(g,w){if(w){var E=g.firstChild;if(E&&E===g.lastChild&&E.nodeType===3){E.nodeValue=w;return}}g.textContent=w}var ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(ce).forEach(function(g){pe.forEach(function(w){w=w+g.charAt(0).toUpperCase()+g.substring(1),ce[w]=ce[g]})});function xe(g,w,E){return w==null||typeof w=="boolean"||w===""?"":E||typeof w!="number"||w===0||ce.hasOwnProperty(g)&&ce[g]?(""+w).trim():w+"px"}function $e(g,w){g=g.style;for(var E in w)if(w.hasOwnProperty(E)){var R=E.indexOf("--")===0,N=xe(E,w[E],R);E==="float"&&(E="cssFloat"),R?g.setProperty(E,N):g[E]=N}}var ve=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(g,w){if(w){if(ve[g]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(r(137,g));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(r(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(r(61))}if(w.style!=null&&typeof w.style!="object")throw Error(r(62))}}function xt(g,w){if(g.indexOf("-")===-1)return typeof w.is=="string";switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var De=null;function We(g){return g=g.target||g.srcElement||window,g.correspondingUseElement&&(g=g.correspondingUseElement),g.nodeType===3?g.parentNode:g}var Je=null,nt=null,At=null;function kt(g){if(g=zv(g)){if(typeof Je!="function")throw Error(r(280));var w=g.stateNode;w&&(w=jx(w),Je(g.stateNode,g.type,w))}}function sr(g){nt?At?At.push(g):At=[g]:nt=g}function xr(){if(nt){var g=nt,w=At;if(At=nt=null,kt(g),w)for(g=0;g<w.length;g++)kt(w[g])}}function pr(g,w){return g(w)}function Pn(){}var ai=!1;function Ec(g,w,E){if(ai)return g(w,E);ai=!0;try{return pr(g,w,E)}finally{ai=!1,(nt!==null||At!==null)&&(Pn(),xr())}}function Hs(g,w){var E=g.stateNode;if(E===null)return null;var R=jx(E);if(R===null)return null;E=R[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(g=g.type,R=!(g==="button"||g==="input"||g==="select"||g==="textarea")),g=!R;break e;default:g=!1}if(g)return null;if(E&&typeof E!="function")throw Error(r(231,w,typeof E));return E}var Tl=!1;if(s)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Tl=!1}function Do(g,w,E,R,N,q,Y,le,Ae){var Me=Array.prototype.slice.call(arguments,3);try{w.apply(E,Me)}catch(et){this.onError(et)}}var ls=!1,Ji=null,Ln=!1,Ol=null,qs={onError:function(g){ls=!0,Ji=g}};function pi(g,w,E,R,N,q,Y,le,Ae){ls=!1,Ji=null,Do.apply(qs,arguments)}function Ni(g,w,E,R,N,q,Y,le,Ae){if(pi.apply(this,arguments),ls){if(ls){var Me=Ji;ls=!1,Ji=null}else throw Error(r(198));Ln||(Ln=!0,Ol=Me)}}function ha(g){var w=g,E=g;if(g.alternate)for(;w.return;)w=w.return;else{g=w;do w=g,(w.flags&4098)!==0&&(E=w.return),g=w.return;while(g)}return w.tag===3?E:null}function Ao(g){if(g.tag===13){var w=g.memoizedState;if(w===null&&(g=g.alternate,g!==null&&(w=g.memoizedState)),w!==null)return w.dehydrated}return null}function Pe(g){if(ha(g)!==g)throw Error(r(188))}function tt(g){var w=g.alternate;if(!w){if(w=ha(g),w===null)throw Error(r(188));return w!==g?null:g}for(var E=g,R=w;;){var N=E.return;if(N===null)break;var q=N.alternate;if(q===null){if(R=N.return,R!==null){E=R;continue}break}if(N.child===q.child){for(q=N.child;q;){if(q===E)return Pe(N),g;if(q===R)return Pe(N),w;q=q.sibling}throw Error(r(188))}if(E.return!==R.return)E=N,R=q;else{for(var Y=!1,le=N.child;le;){if(le===E){Y=!0,E=N,R=q;break}if(le===R){Y=!0,R=N,E=q;break}le=le.sibling}if(!Y){for(le=q.child;le;){if(le===E){Y=!0,E=q,R=N;break}if(le===R){Y=!0,R=q,E=N;break}le=le.sibling}if(!Y)throw Error(r(189))}}if(E.alternate!==R)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?g:w}function Fe(g){return g=tt(g),g!==null?be(g):null}function be(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var w=be(g);if(w!==null)return w;g=g.sibling}return null}var ze=t.unstable_scheduleCallback,$t=t.unstable_cancelCallback,_t=t.unstable_shouldYield,dn=t.unstable_requestPaint,nr=t.unstable_now,Xn=t.unstable_getCurrentPriorityLevel,Oi=t.unstable_ImmediatePriority,Ge=t.unstable_UserBlockingPriority,An=t.unstable_NormalPriority,pa=t.unstable_LowPriority,Zi=t.unstable_IdlePriority,Rl=null,fo=null;function Fu(g){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(Rl,g,void 0,(g.current.flags&128)===128)}catch{}}var ga=Math.clz32?Math.clz32:Gd,Ev=Math.log,Iv=Math.LN2;function Gd(g){return g>>>=0,g===0?32:31-(Ev(g)/Iv|0)|0}var Ml=64,zs=4194304;function Ic(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function Fl(g,w){var E=g.pendingLanes;if(E===0)return 0;var R=0,N=g.suspendedLanes,q=g.pingedLanes,Y=E&268435455;if(Y!==0){var le=Y&~N;le!==0?R=Ic(le):(q&=Y,q!==0&&(R=Ic(q)))}else Y=E&~N,Y!==0?R=Ic(Y):q!==0&&(R=Ic(q));if(R===0)return 0;if(w!==0&&w!==R&&(w&N)===0&&(N=R&-R,q=w&-w,N>=q||N===16&&(q&4194240)!==0))return w;if((R&4)!==0&&(R|=E&16),w=g.entangledLanes,w!==0)for(g=g.entanglements,w&=R;0<w;)E=31-ga(w),N=1<<E,R|=g[E],w&=~N;return R}function Bv(g,w){switch(g){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pv(g,w){for(var E=g.suspendedLanes,R=g.pingedLanes,N=g.expirationTimes,q=g.pendingLanes;0<q;){var Y=31-ga(q),le=1<<Y,Ae=N[Y];Ae===-1?((le&E)===0||(le&R)!==0)&&(N[Y]=Bv(le,w)):Ae<=w&&(g.expiredLanes|=le),q&=~le}}function Yd(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function Cx(){var g=Ml;return Ml<<=1,(Ml&4194240)===0&&(Ml=64),g}function wp(g){for(var w=[],E=0;31>E;E++)w.push(g);return w}function Of(g,w,E){g.pendingLanes|=w,w!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,w=31-ga(w),g[w]=E}function kT(g,w){var E=g.pendingLanes&~w;g.pendingLanes=w,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=w,g.mutableReadLanes&=w,g.entangledLanes&=w,w=g.entanglements;var R=g.eventTimes;for(g=g.expirationTimes;0<E;){var N=31-ga(E),q=1<<N;w[N]=0,R[N]=-1,g[N]=-1,E&=~q}}function bp(g,w){var E=g.entangledLanes|=w;for(g=g.entanglements;E;){var R=31-ga(E),N=1<<R;N&w|g[R]&w&&(g[R]|=w),E&=~N}}var Ur=0;function ku(g){return g&=-g,1<g?4<g?(g&268435455)!==0?16:536870912:4:1}var _x,Tv,kl,Ex,Ix,Ov=!1,xp=[],Bc=null,jo=null,Ul=null,Rf=new Map,Pc=new Map,Tc=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bx(g,w){switch(g){case"focusin":case"focusout":Bc=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Rf.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(w.pointerId)}}function Xd(g,w,E,R,N,q){return g===null||g.nativeEvent!==q?(g={blockedOn:w,domEventName:E,eventSystemFlags:R,nativeEvent:q,targetContainers:[N]},w!==null&&(w=zv(w),w!==null&&Tv(w)),g):(g.eventSystemFlags|=R,w=g.targetContainers,N!==null&&w.indexOf(N)===-1&&w.push(N),g)}function Px(g,w,E,R,N){switch(w){case"focusin":return Bc=Xd(Bc,g,w,E,R,N),!0;case"dragenter":return jo=Xd(jo,g,w,E,R,N),!0;case"mouseover":return Ul=Xd(Ul,g,w,E,R,N),!0;case"pointerover":var q=N.pointerId;return Rf.set(q,Xd(Rf.get(q)||null,g,w,E,R,N)),!0;case"gotpointercapture":return q=N.pointerId,Pc.set(q,Xd(Pc.get(q)||null,g,w,E,R,N)),!0}return!1}function Mv(g){var w=kf(g.target);if(w!==null){var E=ha(w);if(E!==null){if(w=E.tag,w===13){if(w=Ao(E),w!==null){g.blockedOn=w,Ix(g.priority,function(){kl(E)});return}}else if(w===3&&E.stateNode.current.memoizedState.isDehydrated){g.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}g.blockedOn=null}function Oc(g){if(g.blockedOn!==null)return!1;for(var w=g.targetContainers;0<w.length;){var E=wn(g.domEventName,g.eventSystemFlags,w[0],g.nativeEvent);if(E===null){E=g.nativeEvent;var R=new E.constructor(E.type,E);De=R,E.target.dispatchEvent(R),De=null}else return w=zv(E),w!==null&&Tv(w),g.blockedOn=E,!1;w.shift()}return!0}function Fv(g,w,E){Oc(g)&&E.delete(w)}function UT(){Ov=!1,Bc!==null&&Oc(Bc)&&(Bc=null),jo!==null&&Oc(jo)&&(jo=null),Ul!==null&&Oc(Ul)&&(Ul=null),Rf.forEach(Fv),Pc.forEach(Fv)}function Mf(g,w){g.blockedOn===w&&(g.blockedOn=null,Ov||(Ov=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,UT)))}function Ff(g){function w(N){return Mf(N,g)}if(0<xp.length){Mf(xp[0],g);for(var E=1;E<xp.length;E++){var R=xp[E];R.blockedOn===g&&(R.blockedOn=null)}}for(Bc!==null&&Mf(Bc,g),jo!==null&&Mf(jo,g),Ul!==null&&Mf(Ul,g),Rf.forEach(w),Pc.forEach(w),E=0;E<Tc.length;E++)R=Tc[E],R.blockedOn===g&&(R.blockedOn=null);for(;0<Tc.length&&(E=Tc[0],E.blockedOn===null);)Mv(E),E.blockedOn===null&&Tc.shift()}var ie=S.ReactCurrentBatchConfig,ge=!0;function Ke(g,w,E,R){var N=Ur,q=ie.transition;ie.transition=null;try{Ur=1,en(g,w,E,R)}finally{Ur=N,ie.transition=q}}function It(g,w,E,R){var N=Ur,q=ie.transition;ie.transition=null;try{Ur=4,en(g,w,E,R)}finally{Ur=N,ie.transition=q}}function en(g,w,E,R){if(ge){var N=wn(g,w,E,R);if(N===null)YT(g,w,R,rr,E),Bx(g,R);else if(Px(N,g,w,E,R))R.stopPropagation();else if(Bx(g,R),w&4&&-1<Rv.indexOf(g)){for(;N!==null;){var q=zv(N);if(q!==null&&_x(q),q=wn(g,w,E,R),q===null&&YT(g,w,R,rr,E),q===N)break;N=q}N!==null&&R.stopPropagation()}else YT(g,w,R,null,E)}}var rr=null;function wn(g,w,E,R){if(rr=null,g=We(R),g=kf(g),g!==null)if(w=ha(g),w===null)g=null;else if(E=w.tag,E===13){if(g=Ao(w),g!==null)return g;g=null}else if(E===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;g=null}else w!==g&&(g=null);return rr=g,null}function gi(g){switch(g){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xn()){case Oi:return 1;case Ge:return 4;case An:case pa:return 16;case Zi:return 536870912;default:return 16}default:return 16}}var bn=null,fn=null,eo=null;function ka(){if(eo)return eo;var g,w=fn,E=w.length,R,N="value"in bn?bn.value:bn.textContent,q=N.length;for(g=0;g<E&&w[g]===N[g];g++);var Y=E-g;for(R=1;R<=Y&&w[E-R]===N[q-R];R++);return eo=N.slice(g,1<R?1-R:void 0)}function mi(g){var w=g.keyCode;return"charCode"in g?(g=g.charCode,g===0&&w===13&&(g=13)):g=w,g===10&&(g=13),32<=g||g===13?g:0}function ho(){return!0}function ma(){return!1}function si(g){function w(E,R,N,q,Y){this._reactName=E,this._targetInst=N,this.type=R,this.nativeEvent=q,this.target=Y,this.currentTarget=null;for(var le in g)g.hasOwnProperty(le)&&(E=g[le],this[le]=E?E(q):q[le]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?ho:ma,this.isPropagationStopped=ma,this}return W(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),w}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(g){return g.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=si(Lo),Jd=W({},Lo,{view:0,detail:0}),Sp=si(Jd),Zd,DT,kv,Tx=W({},Jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LT,button:0,buttons:0,relatedTarget:function(g){return g.relatedTarget===void 0?g.fromElement===g.srcElement?g.toElement:g.fromElement:g.relatedTarget},movementX:function(g){return"movementX"in g?g.movementX:(g!==kv&&(kv&&g.type==="mousemove"?(Zd=g.screenX-kv.screenX,DT=g.screenY-kv.screenY):DT=Zd=0,kv=g),Zd)},movementY:function(g){return"movementY"in g?g.movementY:DT}}),_W=si(Tx),XKe=W({},Tx,{dataTransfer:0}),JKe=si(XKe),ZKe=W({},Jd,{relatedTarget:0}),jT=si(ZKe),e8e=W({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),t8e=si(e8e),r8e=W({},Lo,{clipboardData:function(g){return"clipboardData"in g?g.clipboardData:window.clipboardData}}),n8e=si(r8e),i8e=W({},Lo,{data:0}),EW=si(i8e),o8e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a8e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s8e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l8e(g){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(g):(g=s8e[g])?!!w[g]:!1}function LT(){return l8e}var c8e=W({},Jd,{key:function(g){if(g.key){var w=o8e[g.key]||g.key;if(w!=="Unidentified")return w}return g.type==="keypress"?(g=mi(g),g===13?"Enter":String.fromCharCode(g)):g.type==="keydown"||g.type==="keyup"?a8e[g.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LT,charCode:function(g){return g.type==="keypress"?mi(g):0},keyCode:function(g){return g.type==="keydown"||g.type==="keyup"?g.keyCode:0},which:function(g){return g.type==="keypress"?mi(g):g.type==="keydown"||g.type==="keyup"?g.keyCode:0}}),u8e=si(c8e),d8e=W({},Tx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IW=si(d8e),A8e=W({},Jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LT}),f8e=si(A8e),h8e=W({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),p8e=si(h8e),g8e=W({},Tx,{deltaX:function(g){return"deltaX"in g?g.deltaX:"wheelDeltaX"in g?-g.wheelDeltaX:0},deltaY:function(g){return"deltaY"in g?g.deltaY:"wheelDeltaY"in g?-g.wheelDeltaY:"wheelDelta"in g?-g.wheelDelta:0},deltaZ:0,deltaMode:0}),m8e=si(g8e),v8e=[9,13,27,32],NT=s&&"CompositionEvent"in window,Uv=null;s&&"documentMode"in document&&(Uv=document.documentMode);var y8e=s&&"TextEvent"in window&&!Uv,BW=s&&(!NT||Uv&&8<Uv&&11>=Uv),PW=" ",TW=!1;function OW(g,w){switch(g){case"keyup":return v8e.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RW(g){return g=g.detail,typeof g=="object"&&"data"in g?g.data:null}var Cp=!1;function w8e(g,w){switch(g){case"compositionend":return RW(w);case"keypress":return w.which!==32?null:(TW=!0,PW);case"textInput":return g=w.data,g===PW&&TW?null:g;default:return null}}function b8e(g,w){if(Cp)return g==="compositionend"||!NT&&OW(g,w)?(g=ka(),eo=fn=bn=null,Cp=!1,g):null;switch(g){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return BW&&w.locale!=="ko"?null:w.data;default:return null}}var x8e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MW(g){var w=g&&g.nodeName&&g.nodeName.toLowerCase();return w==="input"?!!x8e[g.type]:w==="textarea"}function FW(g,w,E,R){sr(R),w=kx(w,"onChange"),0<w.length&&(E=new Dl("onChange","change",null,E,R),g.push({event:E,listeners:w}))}var Dv=null,jv=null;function S8e(g){JW(g,0)}function Ox(g){var w=Pp(g);if(re(w))return g}function C8e(g,w){if(g==="change")return w}var kW=!1;if(s){var $T;if(s){var QT="oninput"in document;if(!QT){var UW=document.createElement("div");UW.setAttribute("oninput","return;"),QT=typeof UW.oninput=="function"}$T=QT}else $T=!1;kW=$T&&(!document.documentMode||9<document.documentMode)}function DW(){Dv&&(Dv.detachEvent("onpropertychange",jW),jv=Dv=null)}function jW(g){if(g.propertyName==="value"&&Ox(jv)){var w=[];FW(w,jv,g,We(g)),Ec(S8e,w)}}function _8e(g,w,E){g==="focusin"?(DW(),Dv=w,jv=E,Dv.attachEvent("onpropertychange",jW)):g==="focusout"&&DW()}function E8e(g){if(g==="selectionchange"||g==="keyup"||g==="keydown")return Ox(jv)}function I8e(g,w){if(g==="click")return Ox(w)}function B8e(g,w){if(g==="input"||g==="change")return Ox(w)}function P8e(g,w){return g===w&&(g!==0||1/g===1/w)||g!==g&&w!==w}var jl=typeof Object.is=="function"?Object.is:P8e;function Lv(g,w){if(jl(g,w))return!0;if(typeof g!="object"||g===null||typeof w!="object"||w===null)return!1;var E=Object.keys(g),R=Object.keys(w);if(E.length!==R.length)return!1;for(R=0;R<E.length;R++){var N=E[R];if(!l.call(w,N)||!jl(g[N],w[N]))return!1}return!0}function LW(g){for(;g&&g.firstChild;)g=g.firstChild;return g}function NW(g,w){var E=LW(g);g=0;for(var R;E;){if(E.nodeType===3){if(R=g+E.textContent.length,g<=w&&R>=w)return{node:E,offset:w-g};g=R}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=LW(E)}}function $W(g,w){return g&&w?g===w?!0:g&&g.nodeType===3?!1:w&&w.nodeType===3?$W(g,w.parentNode):"contains"in g?g.contains(w):g.compareDocumentPosition?!!(g.compareDocumentPosition(w)&16):!1:!1}function QW(){for(var g=window,w=he();w instanceof g.HTMLIFrameElement;){try{var E=typeof w.contentWindow.location.href=="string"}catch{E=!1}if(E)g=w.contentWindow;else break;w=he(g.document)}return w}function HT(g){var w=g&&g.nodeName&&g.nodeName.toLowerCase();return w&&(w==="input"&&(g.type==="text"||g.type==="search"||g.type==="tel"||g.type==="url"||g.type==="password")||w==="textarea"||g.contentEditable==="true")}function T8e(g){var w=QW(),E=g.focusedElem,R=g.selectionRange;if(w!==E&&E&&E.ownerDocument&&$W(E.ownerDocument.documentElement,E)){if(R!==null&&HT(E)){if(w=R.start,g=R.end,g===void 0&&(g=w),"selectionStart"in E)E.selectionStart=w,E.selectionEnd=Math.min(g,E.value.length);else if(g=(w=E.ownerDocument||document)&&w.defaultView||window,g.getSelection){g=g.getSelection();var N=E.textContent.length,q=Math.min(R.start,N);R=R.end===void 0?q:Math.min(R.end,N),!g.extend&&q>R&&(N=R,R=q,q=N),N=NW(E,q);var Y=NW(E,R);N&&Y&&(g.rangeCount!==1||g.anchorNode!==N.node||g.anchorOffset!==N.offset||g.focusNode!==Y.node||g.focusOffset!==Y.offset)&&(w=w.createRange(),w.setStart(N.node,N.offset),g.removeAllRanges(),q>R?(g.addRange(w),g.extend(Y.node,Y.offset)):(w.setEnd(Y.node,Y.offset),g.addRange(w)))}}for(w=[],g=E;g=g.parentNode;)g.nodeType===1&&w.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<w.length;E++)g=w[E],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var O8e=s&&"documentMode"in document&&11>=document.documentMode,_p=null,qT=null,Nv=null,zT=!1;function HW(g,w,E){var R=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;zT||_p==null||_p!==he(R)||(R=_p,"selectionStart"in R&&HT(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Nv&&Lv(Nv,R)||(Nv=R,R=kx(qT,"onSelect"),0<R.length&&(w=new Dl("onSelect","select",null,w,E),g.push({event:w,listeners:R}),w.target=_p)))}function Rx(g,w){var E={};return E[g.toLowerCase()]=w.toLowerCase(),E["Webkit"+g]="webkit"+w,E["Moz"+g]="moz"+w,E}var Ep={animationend:Rx("Animation","AnimationEnd"),animationiteration:Rx("Animation","AnimationIteration"),animationstart:Rx("Animation","AnimationStart"),transitionend:Rx("Transition","TransitionEnd")},KT={},qW={};s&&(qW=document.createElement("div").style,"AnimationEvent"in window||(delete Ep.animationend.animation,delete Ep.animationiteration.animation,delete Ep.animationstart.animation),"TransitionEvent"in window||delete Ep.transitionend.transition);function Mx(g){if(KT[g])return KT[g];if(!Ep[g])return g;var w=Ep[g],E;for(E in w)if(w.hasOwnProperty(E)&&E in qW)return KT[g]=w[E];return g}var zW=Mx("animationend"),KW=Mx("animationiteration"),WW=Mx("animationstart"),VW=Mx("transitionend"),GW=new Map,YW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eA(g,w){GW.set(g,w),o(w,[g])}for(var WT=0;WT<YW.length;WT++){var VT=YW[WT],R8e=VT.toLowerCase(),M8e=VT[0].toUpperCase()+VT.slice(1);eA(R8e,"on"+M8e)}eA(zW,"onAnimationEnd"),eA(KW,"onAnimationIteration"),eA(WW,"onAnimationStart"),eA("dblclick","onDoubleClick"),eA("focusin","onFocus"),eA("focusout","onBlur"),eA(VW,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $v="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F8e=new Set("cancel close invalid load scroll toggle".split(" ").concat($v));function XW(g,w,E){var R=g.type||"unknown-event";g.currentTarget=E,Ni(R,w,void 0,g),g.currentTarget=null}function JW(g,w){w=(w&4)!==0;for(var E=0;E<g.length;E++){var R=g[E],N=R.event;R=R.listeners;e:{var q=void 0;if(w)for(var Y=R.length-1;0<=Y;Y--){var le=R[Y],Ae=le.instance,Me=le.currentTarget;if(le=le.listener,Ae!==q&&N.isPropagationStopped())break e;XW(N,le,Me),q=Ae}else for(Y=0;Y<R.length;Y++){if(le=R[Y],Ae=le.instance,Me=le.currentTarget,le=le.listener,Ae!==q&&N.isPropagationStopped())break e;XW(N,le,Me),q=Ae}}}if(Ln)throw g=Ol,Ln=!1,Ol=null,g}function Tn(g,w){var E=w[rO];E===void 0&&(E=w[rO]=new Set);var R=g+"__bubble";E.has(R)||(ZW(w,g,2,!1),E.add(R))}function GT(g,w,E){var R=0;w&&(R|=4),ZW(E,g,R,w)}var Fx="_reactListening"+Math.random().toString(36).slice(2);function Qv(g){if(!g[Fx]){g[Fx]=!0,n.forEach(function(E){E!=="selectionchange"&&(F8e.has(E)||GT(E,!1,g),GT(E,!0,g))});var w=g.nodeType===9?g:g.ownerDocument;w===null||w[Fx]||(w[Fx]=!0,GT("selectionchange",!1,w))}}function ZW(g,w,E,R){switch(gi(w)){case 1:var N=Ke;break;case 4:N=It;break;default:N=en}E=N.bind(null,w,E,g),N=void 0,!Tl||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(N=!0),R?N!==void 0?g.addEventListener(w,E,{capture:!0,passive:N}):g.addEventListener(w,E,!0):N!==void 0?g.addEventListener(w,E,{passive:N}):g.addEventListener(w,E,!1)}function YT(g,w,E,R,N){var q=R;if((w&1)===0&&(w&2)===0&&R!==null)e:for(;;){if(R===null)return;var Y=R.tag;if(Y===3||Y===4){var le=R.stateNode.containerInfo;if(le===N||le.nodeType===8&&le.parentNode===N)break;if(Y===4)for(Y=R.return;Y!==null;){var Ae=Y.tag;if((Ae===3||Ae===4)&&(Ae=Y.stateNode.containerInfo,Ae===N||Ae.nodeType===8&&Ae.parentNode===N))return;Y=Y.return}for(;le!==null;){if(Y=kf(le),Y===null)return;if(Ae=Y.tag,Ae===5||Ae===6){R=q=Y;continue e}le=le.parentNode}}R=R.return}Ec(function(){var Me=q,et=We(E),at=[];e:{var Xe=GW.get(g);if(Xe!==void 0){var Ct=Dl,Rt=g;switch(g){case"keypress":if(mi(E)===0)break e;case"keydown":case"keyup":Ct=u8e;break;case"focusin":Rt="focus",Ct=jT;break;case"focusout":Rt="blur",Ct=jT;break;case"beforeblur":case"afterblur":Ct=jT;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=_W;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=JKe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=f8e;break;case zW:case KW:case WW:Ct=t8e;break;case VW:Ct=p8e;break;case"scroll":Ct=Sp;break;case"wheel":Ct=m8e;break;case"copy":case"cut":case"paste":Ct=n8e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=IW}var Ut=(w&4)!==0,vi=!Ut&&g==="scroll",Ce=Ut?Xe!==null?Xe+"Capture":null:Xe;Ut=[];for(var fe=Me,Ie;fe!==null;){Ie=fe;var dt=Ie.stateNode;if(Ie.tag===5&&dt!==null&&(Ie=dt,Ce!==null&&(dt=Hs(fe,Ce),dt!=null&&Ut.push(Hv(fe,dt,Ie)))),vi)break;fe=fe.return}0<Ut.length&&(Xe=new Ct(Xe,Rt,null,E,et),at.push({event:Xe,listeners:Ut}))}}if((w&7)===0){e:{if(Xe=g==="mouseover"||g==="pointerover",Ct=g==="mouseout"||g==="pointerout",Xe&&E!==De&&(Rt=E.relatedTarget||E.fromElement)&&(kf(Rt)||Rt[Uu]))break e;if((Ct||Xe)&&(Xe=et.window===et?et:(Xe=et.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,Ct?(Rt=E.relatedTarget||E.toElement,Ct=Me,Rt=Rt?kf(Rt):null,Rt!==null&&(vi=ha(Rt),Rt!==vi||Rt.tag!==5&&Rt.tag!==6)&&(Rt=null)):(Ct=null,Rt=Me),Ct!==Rt)){if(Ut=_W,dt="onMouseLeave",Ce="onMouseEnter",fe="mouse",(g==="pointerout"||g==="pointerover")&&(Ut=IW,dt="onPointerLeave",Ce="onPointerEnter",fe="pointer"),vi=Ct==null?Xe:Pp(Ct),Ie=Rt==null?Xe:Pp(Rt),Xe=new Ut(dt,fe+"leave",Ct,E,et),Xe.target=vi,Xe.relatedTarget=Ie,dt=null,kf(et)===Me&&(Ut=new Ut(Ce,fe+"enter",Rt,E,et),Ut.target=Ie,Ut.relatedTarget=vi,dt=Ut),vi=dt,Ct&&Rt)t:{for(Ut=Ct,Ce=Rt,fe=0,Ie=Ut;Ie;Ie=Ip(Ie))fe++;for(Ie=0,dt=Ce;dt;dt=Ip(dt))Ie++;for(;0<fe-Ie;)Ut=Ip(Ut),fe--;for(;0<Ie-fe;)Ce=Ip(Ce),Ie--;for(;fe--;){if(Ut===Ce||Ce!==null&&Ut===Ce.alternate)break t;Ut=Ip(Ut),Ce=Ip(Ce)}Ut=null}else Ut=null;Ct!==null&&e9(at,Xe,Ct,Ut,!1),Rt!==null&&vi!==null&&e9(at,vi,Rt,Ut,!0)}}e:{if(Xe=Me?Pp(Me):window,Ct=Xe.nodeName&&Xe.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&Xe.type==="file")var Dt=C8e;else if(MW(Xe))if(kW)Dt=B8e;else{Dt=E8e;var zt=_8e}else(Ct=Xe.nodeName)&&Ct.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(Dt=I8e);if(Dt&&(Dt=Dt(g,Me))){FW(at,Dt,E,et);break e}zt&&zt(g,Xe,Me),g==="focusout"&&(zt=Xe._wrapperState)&&zt.controlled&&Xe.type==="number"&&lt(Xe,"number",Xe.value)}switch(zt=Me?Pp(Me):window,g){case"focusin":(MW(zt)||zt.contentEditable==="true")&&(_p=zt,qT=Me,Nv=null);break;case"focusout":Nv=qT=_p=null;break;case"mousedown":zT=!0;break;case"contextmenu":case"mouseup":case"dragend":zT=!1,HW(at,E,et);break;case"selectionchange":if(O8e)break;case"keydown":case"keyup":HW(at,E,et)}var Kt;if(NT)e:{switch(g){case"compositionstart":var tr="onCompositionStart";break e;case"compositionend":tr="onCompositionEnd";break e;case"compositionupdate":tr="onCompositionUpdate";break e}tr=void 0}else Cp?OW(g,E)&&(tr="onCompositionEnd"):g==="keydown"&&E.keyCode===229&&(tr="onCompositionStart");tr&&(BW&&E.locale!=="ko"&&(Cp||tr!=="onCompositionStart"?tr==="onCompositionEnd"&&Cp&&(Kt=ka()):(bn=et,fn="value"in bn?bn.value:bn.textContent,Cp=!0)),zt=kx(Me,tr),0<zt.length&&(tr=new EW(tr,g,null,E,et),at.push({event:tr,listeners:zt}),Kt?tr.data=Kt:(Kt=RW(E),Kt!==null&&(tr.data=Kt)))),(Kt=y8e?w8e(g,E):b8e(g,E))&&(Me=kx(Me,"onBeforeInput"),0<Me.length&&(et=new EW("onBeforeInput","beforeinput",null,E,et),at.push({event:et,listeners:Me}),et.data=Kt))}JW(at,w)})}function Hv(g,w,E){return{instance:g,listener:w,currentTarget:E}}function kx(g,w){for(var E=w+"Capture",R=[];g!==null;){var N=g,q=N.stateNode;N.tag===5&&q!==null&&(N=q,q=Hs(g,E),q!=null&&R.unshift(Hv(g,q,N)),q=Hs(g,w),q!=null&&R.push(Hv(g,q,N))),g=g.return}return R}function Ip(g){if(g===null)return null;do g=g.return;while(g&&g.tag!==5);return g||null}function e9(g,w,E,R,N){for(var q=w._reactName,Y=[];E!==null&&E!==R;){var le=E,Ae=le.alternate,Me=le.stateNode;if(Ae!==null&&Ae===R)break;le.tag===5&&Me!==null&&(le=Me,N?(Ae=Hs(E,q),Ae!=null&&Y.unshift(Hv(E,Ae,le))):N||(Ae=Hs(E,q),Ae!=null&&Y.push(Hv(E,Ae,le)))),E=E.return}Y.length!==0&&g.push({event:w,listeners:Y})}var k8e=/\r\n?/g,U8e=/\u0000|\uFFFD/g;function t9(g){return(typeof g=="string"?g:""+g).replace(k8e,`
`).replace(U8e,"")}function Ux(g,w,E){if(w=t9(w),t9(g)!==w&&E)throw Error(r(425))}function Dx(){}var XT=null,JT=null;function ZT(g,w){return g==="textarea"||g==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var eO=typeof setTimeout=="function"?setTimeout:void 0,D8e=typeof clearTimeout=="function"?clearTimeout:void 0,r9=typeof Promise=="function"?Promise:void 0,j8e=typeof queueMicrotask=="function"?queueMicrotask:typeof r9<"u"?function(g){return r9.resolve(null).then(g).catch(L8e)}:eO;function L8e(g){setTimeout(function(){throw g})}function tO(g,w){var E=w,R=0;do{var N=E.nextSibling;if(g.removeChild(E),N&&N.nodeType===8)if(E=N.data,E==="/$"){if(R===0){g.removeChild(N),Ff(w);return}R--}else E!=="$"&&E!=="$?"&&E!=="$!"||R++;E=N}while(E);Ff(w)}function tA(g){for(;g!=null;g=g.nextSibling){var w=g.nodeType;if(w===1||w===3)break;if(w===8){if(w=g.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return g}function n9(g){g=g.previousSibling;for(var w=0;g;){if(g.nodeType===8){var E=g.data;if(E==="$"||E==="$!"||E==="$?"){if(w===0)return g;w--}else E==="/$"&&w++}g=g.previousSibling}return null}var Bp=Math.random().toString(36).slice(2),Rc="__reactFiber$"+Bp,qv="__reactProps$"+Bp,Uu="__reactContainer$"+Bp,rO="__reactEvents$"+Bp,N8e="__reactListeners$"+Bp,$8e="__reactHandles$"+Bp;function kf(g){var w=g[Rc];if(w)return w;for(var E=g.parentNode;E;){if(w=E[Uu]||E[Rc]){if(E=w.alternate,w.child!==null||E!==null&&E.child!==null)for(g=n9(g);g!==null;){if(E=g[Rc])return E;g=n9(g)}return w}g=E,E=g.parentNode}return null}function zv(g){return g=g[Rc]||g[Uu],!g||g.tag!==5&&g.tag!==6&&g.tag!==13&&g.tag!==3?null:g}function Pp(g){if(g.tag===5||g.tag===6)return g.stateNode;throw Error(r(33))}function jx(g){return g[qv]||null}var nO=[],Tp=-1;function rA(g){return{current:g}}function On(g){0>Tp||(g.current=nO[Tp],nO[Tp]=null,Tp--)}function xn(g,w){Tp++,nO[Tp]=g.current,g.current=w}var nA={},No=rA(nA),Ua=rA(!1),Uf=nA;function Op(g,w){var E=g.type.contextTypes;if(!E)return nA;var R=g.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===w)return R.__reactInternalMemoizedMaskedChildContext;var N={},q;for(q in E)N[q]=w[q];return R&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=w,g.__reactInternalMemoizedMaskedChildContext=N),N}function Da(g){return g=g.childContextTypes,g!=null}function Lx(){On(Ua),On(No)}function i9(g,w,E){if(No.current!==nA)throw Error(r(168));xn(No,w),xn(Ua,E)}function o9(g,w,E){var R=g.stateNode;if(w=w.childContextTypes,typeof R.getChildContext!="function")return E;R=R.getChildContext();for(var N in R)if(!(N in w))throw Error(r(108,ae(g)||"Unknown",N));return W({},E,R)}function Nx(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||nA,Uf=No.current,xn(No,g),xn(Ua,Ua.current),!0}function a9(g,w,E){var R=g.stateNode;if(!R)throw Error(r(169));E?(g=o9(g,w,Uf),R.__reactInternalMemoizedMergedChildContext=g,On(Ua),On(No),xn(No,g)):On(Ua),xn(Ua,E)}var Du=null,$x=!1,iO=!1;function s9(g){Du===null?Du=[g]:Du.push(g)}function Q8e(g){$x=!0,s9(g)}function iA(){if(!iO&&Du!==null){iO=!0;var g=0,w=Ur;try{var E=Du;for(Ur=1;g<E.length;g++){var R=E[g];do R=R(!0);while(R!==null)}Du=null,$x=!1}catch(N){throw Du!==null&&(Du=Du.slice(g+1)),ze(Oi,iA),N}finally{Ur=w,iO=!1}}return null}var Rp=[],Mp=0,Qx=null,Hx=0,Ks=[],Ws=0,Df=null,ju=1,Lu="";function jf(g,w){Rp[Mp++]=Hx,Rp[Mp++]=Qx,Qx=g,Hx=w}function l9(g,w,E){Ks[Ws++]=ju,Ks[Ws++]=Lu,Ks[Ws++]=Df,Df=g;var R=ju;g=Lu;var N=32-ga(R)-1;R&=~(1<<N),E+=1;var q=32-ga(w)+N;if(30<q){var Y=N-N%5;q=(R&(1<<Y)-1).toString(32),R>>=Y,N-=Y,ju=1<<32-ga(w)+N|E<<N|R,Lu=q+g}else ju=1<<q|E<<N|R,Lu=g}function oO(g){g.return!==null&&(jf(g,1),l9(g,1,0))}function aO(g){for(;g===Qx;)Qx=Rp[--Mp],Rp[Mp]=null,Hx=Rp[--Mp],Rp[Mp]=null;for(;g===Df;)Df=Ks[--Ws],Ks[Ws]=null,Lu=Ks[--Ws],Ks[Ws]=null,ju=Ks[--Ws],Ks[Ws]=null}var cs=null,us=null,Nn=!1,Ll=null;function c9(g,w){var E=Xs(5,null,null,0);E.elementType="DELETED",E.stateNode=w,E.return=g,w=g.deletions,w===null?(g.deletions=[E],g.flags|=16):w.push(E)}function u9(g,w){switch(g.tag){case 5:var E=g.type;return w=w.nodeType!==1||E.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(g.stateNode=w,cs=g,us=tA(w.firstChild),!0):!1;case 6:return w=g.pendingProps===""||w.nodeType!==3?null:w,w!==null?(g.stateNode=w,cs=g,us=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(E=Df!==null?{id:ju,overflow:Lu}:null,g.memoizedState={dehydrated:w,treeContext:E,retryLane:1073741824},E=Xs(18,null,null,0),E.stateNode=w,E.return=g,g.child=E,cs=g,us=null,!0):!1;default:return!1}}function sO(g){return(g.mode&1)!==0&&(g.flags&128)===0}function lO(g){if(Nn){var w=us;if(w){var E=w;if(!u9(g,w)){if(sO(g))throw Error(r(418));w=tA(E.nextSibling);var R=cs;w&&u9(g,w)?c9(R,E):(g.flags=g.flags&-4097|2,Nn=!1,cs=g)}}else{if(sO(g))throw Error(r(418));g.flags=g.flags&-4097|2,Nn=!1,cs=g}}}function d9(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;cs=g}function qx(g){if(g!==cs)return!1;if(!Nn)return d9(g),Nn=!0,!1;var w;if((w=g.tag!==3)&&!(w=g.tag!==5)&&(w=g.type,w=w!=="head"&&w!=="body"&&!ZT(g.type,g.memoizedProps)),w&&(w=us)){if(sO(g))throw A9(),Error(r(418));for(;w;)c9(g,w),w=tA(w.nextSibling)}if(d9(g),g.tag===13){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));e:{for(g=g.nextSibling,w=0;g;){if(g.nodeType===8){var E=g.data;if(E==="/$"){if(w===0){us=tA(g.nextSibling);break e}w--}else E!=="$"&&E!=="$!"&&E!=="$?"||w++}g=g.nextSibling}us=null}}else us=cs?tA(g.stateNode.nextSibling):null;return!0}function A9(){for(var g=us;g;)g=tA(g.nextSibling)}function Fp(){us=cs=null,Nn=!1}function cO(g){Ll===null?Ll=[g]:Ll.push(g)}var H8e=S.ReactCurrentBatchConfig;function Kv(g,w,E){if(g=E.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(r(309));var R=E.stateNode}if(!R)throw Error(r(147,g));var N=R,q=""+g;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===q?w.ref:(w=function(Y){var le=N.refs;Y===null?delete le[q]:le[q]=Y},w._stringRef=q,w)}if(typeof g!="string")throw Error(r(284));if(!E._owner)throw Error(r(290,g))}return g}function zx(g,w){throw g=Object.prototype.toString.call(w),Error(r(31,g==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":g))}function f9(g){var w=g._init;return w(g._payload)}function h9(g){function w(Ce,fe){if(g){var Ie=Ce.deletions;Ie===null?(Ce.deletions=[fe],Ce.flags|=16):Ie.push(fe)}}function E(Ce,fe){if(!g)return null;for(;fe!==null;)w(Ce,fe),fe=fe.sibling;return null}function R(Ce,fe){for(Ce=new Map;fe!==null;)fe.key!==null?Ce.set(fe.key,fe):Ce.set(fe.index,fe),fe=fe.sibling;return Ce}function N(Ce,fe){return Ce=AA(Ce,fe),Ce.index=0,Ce.sibling=null,Ce}function q(Ce,fe,Ie){return Ce.index=Ie,g?(Ie=Ce.alternate,Ie!==null?(Ie=Ie.index,Ie<fe?(Ce.flags|=2,fe):Ie):(Ce.flags|=2,fe)):(Ce.flags|=1048576,fe)}function Y(Ce){return g&&Ce.alternate===null&&(Ce.flags|=2),Ce}function le(Ce,fe,Ie,dt){return fe===null||fe.tag!==6?(fe=eR(Ie,Ce.mode,dt),fe.return=Ce,fe):(fe=N(fe,Ie),fe.return=Ce,fe)}function Ae(Ce,fe,Ie,dt){var Dt=Ie.type;return Dt===B?et(Ce,fe,Ie.props.children,dt,Ie.key):fe!==null&&(fe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===j&&f9(Dt)===fe.type)?(dt=N(fe,Ie.props),dt.ref=Kv(Ce,fe,Ie),dt.return=Ce,dt):(dt=pS(Ie.type,Ie.key,Ie.props,null,Ce.mode,dt),dt.ref=Kv(Ce,fe,Ie),dt.return=Ce,dt)}function Me(Ce,fe,Ie,dt){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Ie.containerInfo||fe.stateNode.implementation!==Ie.implementation?(fe=tR(Ie,Ce.mode,dt),fe.return=Ce,fe):(fe=N(fe,Ie.children||[]),fe.return=Ce,fe)}function et(Ce,fe,Ie,dt,Dt){return fe===null||fe.tag!==7?(fe=Kf(Ie,Ce.mode,dt,Dt),fe.return=Ce,fe):(fe=N(fe,Ie),fe.return=Ce,fe)}function at(Ce,fe,Ie){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=eR(""+fe,Ce.mode,Ie),fe.return=Ce,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case C:return Ie=pS(fe.type,fe.key,fe.props,null,Ce.mode,Ie),Ie.ref=Kv(Ce,null,fe),Ie.return=Ce,Ie;case _:return fe=tR(fe,Ce.mode,Ie),fe.return=Ce,fe;case j:var dt=fe._init;return at(Ce,dt(fe._payload),Ie)}if(Ve(fe)||H(fe))return fe=Kf(fe,Ce.mode,Ie,null),fe.return=Ce,fe;zx(Ce,fe)}return null}function Xe(Ce,fe,Ie,dt){var Dt=fe!==null?fe.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Dt!==null?null:le(Ce,fe,""+Ie,dt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:return Ie.key===Dt?Ae(Ce,fe,Ie,dt):null;case _:return Ie.key===Dt?Me(Ce,fe,Ie,dt):null;case j:return Dt=Ie._init,Xe(Ce,fe,Dt(Ie._payload),dt)}if(Ve(Ie)||H(Ie))return Dt!==null?null:et(Ce,fe,Ie,dt,null);zx(Ce,Ie)}return null}function Ct(Ce,fe,Ie,dt,Dt){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Ce=Ce.get(Ie)||null,le(fe,Ce,""+dt,Dt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case C:return Ce=Ce.get(dt.key===null?Ie:dt.key)||null,Ae(fe,Ce,dt,Dt);case _:return Ce=Ce.get(dt.key===null?Ie:dt.key)||null,Me(fe,Ce,dt,Dt);case j:var zt=dt._init;return Ct(Ce,fe,Ie,zt(dt._payload),Dt)}if(Ve(dt)||H(dt))return Ce=Ce.get(Ie)||null,et(fe,Ce,dt,Dt,null);zx(fe,dt)}return null}function Rt(Ce,fe,Ie,dt){for(var Dt=null,zt=null,Kt=fe,tr=fe=0,no=null;Kt!==null&&tr<Ie.length;tr++){Kt.index>tr?(no=Kt,Kt=null):no=Kt.sibling;var Hr=Xe(Ce,Kt,Ie[tr],dt);if(Hr===null){Kt===null&&(Kt=no);break}g&&Kt&&Hr.alternate===null&&w(Ce,Kt),fe=q(Hr,fe,tr),zt===null?Dt=Hr:zt.sibling=Hr,zt=Hr,Kt=no}if(tr===Ie.length)return E(Ce,Kt),Nn&&jf(Ce,tr),Dt;if(Kt===null){for(;tr<Ie.length;tr++)Kt=at(Ce,Ie[tr],dt),Kt!==null&&(fe=q(Kt,fe,tr),zt===null?Dt=Kt:zt.sibling=Kt,zt=Kt);return Nn&&jf(Ce,tr),Dt}for(Kt=R(Ce,Kt);tr<Ie.length;tr++)no=Ct(Kt,Ce,tr,Ie[tr],dt),no!==null&&(g&&no.alternate!==null&&Kt.delete(no.key===null?tr:no.key),fe=q(no,fe,tr),zt===null?Dt=no:zt.sibling=no,zt=no);return g&&Kt.forEach(function(fA){return w(Ce,fA)}),Nn&&jf(Ce,tr),Dt}function Ut(Ce,fe,Ie,dt){var Dt=H(Ie);if(typeof Dt!="function")throw Error(r(150));if(Ie=Dt.call(Ie),Ie==null)throw Error(r(151));for(var zt=Dt=null,Kt=fe,tr=fe=0,no=null,Hr=Ie.next();Kt!==null&&!Hr.done;tr++,Hr=Ie.next()){Kt.index>tr?(no=Kt,Kt=null):no=Kt.sibling;var fA=Xe(Ce,Kt,Hr.value,dt);if(fA===null){Kt===null&&(Kt=no);break}g&&Kt&&fA.alternate===null&&w(Ce,Kt),fe=q(fA,fe,tr),zt===null?Dt=fA:zt.sibling=fA,zt=fA,Kt=no}if(Hr.done)return E(Ce,Kt),Nn&&jf(Ce,tr),Dt;if(Kt===null){for(;!Hr.done;tr++,Hr=Ie.next())Hr=at(Ce,Hr.value,dt),Hr!==null&&(fe=q(Hr,fe,tr),zt===null?Dt=Hr:zt.sibling=Hr,zt=Hr);return Nn&&jf(Ce,tr),Dt}for(Kt=R(Ce,Kt);!Hr.done;tr++,Hr=Ie.next())Hr=Ct(Kt,Ce,tr,Hr.value,dt),Hr!==null&&(g&&Hr.alternate!==null&&Kt.delete(Hr.key===null?tr:Hr.key),fe=q(Hr,fe,tr),zt===null?Dt=Hr:zt.sibling=Hr,zt=Hr);return g&&Kt.forEach(function(xWe){return w(Ce,xWe)}),Nn&&jf(Ce,tr),Dt}function vi(Ce,fe,Ie,dt){if(typeof Ie=="object"&&Ie!==null&&Ie.type===B&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:e:{for(var Dt=Ie.key,zt=fe;zt!==null;){if(zt.key===Dt){if(Dt=Ie.type,Dt===B){if(zt.tag===7){E(Ce,zt.sibling),fe=N(zt,Ie.props.children),fe.return=Ce,Ce=fe;break e}}else if(zt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===j&&f9(Dt)===zt.type){E(Ce,zt.sibling),fe=N(zt,Ie.props),fe.ref=Kv(Ce,zt,Ie),fe.return=Ce,Ce=fe;break e}E(Ce,zt);break}else w(Ce,zt);zt=zt.sibling}Ie.type===B?(fe=Kf(Ie.props.children,Ce.mode,dt,Ie.key),fe.return=Ce,Ce=fe):(dt=pS(Ie.type,Ie.key,Ie.props,null,Ce.mode,dt),dt.ref=Kv(Ce,fe,Ie),dt.return=Ce,Ce=dt)}return Y(Ce);case _:e:{for(zt=Ie.key;fe!==null;){if(fe.key===zt)if(fe.tag===4&&fe.stateNode.containerInfo===Ie.containerInfo&&fe.stateNode.implementation===Ie.implementation){E(Ce,fe.sibling),fe=N(fe,Ie.children||[]),fe.return=Ce,Ce=fe;break e}else{E(Ce,fe);break}else w(Ce,fe);fe=fe.sibling}fe=tR(Ie,Ce.mode,dt),fe.return=Ce,Ce=fe}return Y(Ce);case j:return zt=Ie._init,vi(Ce,fe,zt(Ie._payload),dt)}if(Ve(Ie))return Rt(Ce,fe,Ie,dt);if(H(Ie))return Ut(Ce,fe,Ie,dt);zx(Ce,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,fe!==null&&fe.tag===6?(E(Ce,fe.sibling),fe=N(fe,Ie),fe.return=Ce,Ce=fe):(E(Ce,fe),fe=eR(Ie,Ce.mode,dt),fe.return=Ce,Ce=fe),Y(Ce)):E(Ce,fe)}return vi}var kp=h9(!0),p9=h9(!1),Kx=rA(null),Wx=null,Up=null,uO=null;function dO(){uO=Up=Wx=null}function AO(g){var w=Kx.current;On(Kx),g._currentValue=w}function fO(g,w,E){for(;g!==null;){var R=g.alternate;if((g.childLanes&w)!==w?(g.childLanes|=w,R!==null&&(R.childLanes|=w)):R!==null&&(R.childLanes&w)!==w&&(R.childLanes|=w),g===E)break;g=g.return}}function Dp(g,w){Wx=g,uO=Up=null,g=g.dependencies,g!==null&&g.firstContext!==null&&((g.lanes&w)!==0&&(ja=!0),g.firstContext=null)}function Vs(g){var w=g._currentValue;if(uO!==g)if(g={context:g,memoizedValue:w,next:null},Up===null){if(Wx===null)throw Error(r(308));Up=g,Wx.dependencies={lanes:0,firstContext:g}}else Up=Up.next=g;return w}var Lf=null;function hO(g){Lf===null?Lf=[g]:Lf.push(g)}function g9(g,w,E,R){var N=w.interleaved;return N===null?(E.next=E,hO(w)):(E.next=N.next,N.next=E),w.interleaved=E,Nu(g,R)}function Nu(g,w){g.lanes|=w;var E=g.alternate;for(E!==null&&(E.lanes|=w),E=g,g=g.return;g!==null;)g.childLanes|=w,E=g.alternate,E!==null&&(E.childLanes|=w),E=g,g=g.return;return E.tag===3?E.stateNode:null}var oA=!1;function pO(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m9(g,w){g=g.updateQueue,w.updateQueue===g&&(w.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function $u(g,w){return{eventTime:g,lane:w,tag:0,payload:null,callback:null,next:null}}function aA(g,w,E){var R=g.updateQueue;if(R===null)return null;if(R=R.shared,(Nr&2)!==0){var N=R.pending;return N===null?w.next=w:(w.next=N.next,N.next=w),R.pending=w,Nu(g,E)}return N=R.interleaved,N===null?(w.next=w,hO(R)):(w.next=N.next,N.next=w),R.interleaved=w,Nu(g,E)}function Vx(g,w,E){if(w=w.updateQueue,w!==null&&(w=w.shared,(E&4194240)!==0)){var R=w.lanes;R&=g.pendingLanes,E|=R,w.lanes=E,bp(g,E)}}function v9(g,w){var E=g.updateQueue,R=g.alternate;if(R!==null&&(R=R.updateQueue,E===R)){var N=null,q=null;if(E=E.firstBaseUpdate,E!==null){do{var Y={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};q===null?N=q=Y:q=q.next=Y,E=E.next}while(E!==null);q===null?N=q=w:q=q.next=w}else N=q=w;E={baseState:R.baseState,firstBaseUpdate:N,lastBaseUpdate:q,shared:R.shared,effects:R.effects},g.updateQueue=E;return}g=E.lastBaseUpdate,g===null?E.firstBaseUpdate=w:g.next=w,E.lastBaseUpdate=w}function Gx(g,w,E,R){var N=g.updateQueue;oA=!1;var q=N.firstBaseUpdate,Y=N.lastBaseUpdate,le=N.shared.pending;if(le!==null){N.shared.pending=null;var Ae=le,Me=Ae.next;Ae.next=null,Y===null?q=Me:Y.next=Me,Y=Ae;var et=g.alternate;et!==null&&(et=et.updateQueue,le=et.lastBaseUpdate,le!==Y&&(le===null?et.firstBaseUpdate=Me:le.next=Me,et.lastBaseUpdate=Ae))}if(q!==null){var at=N.baseState;Y=0,et=Me=Ae=null,le=q;do{var Xe=le.lane,Ct=le.eventTime;if((R&Xe)===Xe){et!==null&&(et=et.next={eventTime:Ct,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var Rt=g,Ut=le;switch(Xe=w,Ct=E,Ut.tag){case 1:if(Rt=Ut.payload,typeof Rt=="function"){at=Rt.call(Ct,at,Xe);break e}at=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Ut.payload,Xe=typeof Rt=="function"?Rt.call(Ct,at,Xe):Rt,Xe==null)break e;at=W({},at,Xe);break e;case 2:oA=!0}}le.callback!==null&&le.lane!==0&&(g.flags|=64,Xe=N.effects,Xe===null?N.effects=[le]:Xe.push(le))}else Ct={eventTime:Ct,lane:Xe,tag:le.tag,payload:le.payload,callback:le.callback,next:null},et===null?(Me=et=Ct,Ae=at):et=et.next=Ct,Y|=Xe;if(le=le.next,le===null){if(le=N.shared.pending,le===null)break;Xe=le,le=Xe.next,Xe.next=null,N.lastBaseUpdate=Xe,N.shared.pending=null}}while(!0);if(et===null&&(Ae=at),N.baseState=Ae,N.firstBaseUpdate=Me,N.lastBaseUpdate=et,w=N.shared.interleaved,w!==null){N=w;do Y|=N.lane,N=N.next;while(N!==w)}else q===null&&(N.shared.lanes=0);Qf|=Y,g.lanes=Y,g.memoizedState=at}}function y9(g,w,E){if(g=w.effects,w.effects=null,g!==null)for(w=0;w<g.length;w++){var R=g[w],N=R.callback;if(N!==null){if(R.callback=null,R=E,typeof N!="function")throw Error(r(191,N));N.call(R)}}}var Wv={},Mc=rA(Wv),Vv=rA(Wv),Gv=rA(Wv);function Nf(g){if(g===Wv)throw Error(r(174));return g}function gO(g,w){switch(xn(Gv,w),xn(Vv,g),xn(Mc,Wv),g=w.nodeType,g){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:Oe(null,"");break;default:g=g===8?w.parentNode:w,w=g.namespaceURI||null,g=g.tagName,w=Oe(w,g)}On(Mc),xn(Mc,w)}function jp(){On(Mc),On(Vv),On(Gv)}function w9(g){Nf(Gv.current);var w=Nf(Mc.current),E=Oe(w,g.type);w!==E&&(xn(Vv,g),xn(Mc,E))}function mO(g){Vv.current===g&&(On(Mc),On(Vv))}var Jn=rA(0);function Yx(g){for(var w=g;w!==null;){if(w.tag===13){var E=w.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var vO=[];function yO(){for(var g=0;g<vO.length;g++)vO[g]._workInProgressVersionPrimary=null;vO.length=0}var Xx=S.ReactCurrentDispatcher,wO=S.ReactCurrentBatchConfig,$f=0,Zn=null,$i=null,to=null,Jx=!1,Yv=!1,Xv=0,q8e=0;function $o(){throw Error(r(321))}function bO(g,w){if(w===null)return!1;for(var E=0;E<w.length&&E<g.length;E++)if(!jl(g[E],w[E]))return!1;return!0}function xO(g,w,E,R,N,q){if($f=q,Zn=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,Xx.current=g===null||g.memoizedState===null?V8e:G8e,g=E(R,N),Yv){q=0;do{if(Yv=!1,Xv=0,25<=q)throw Error(r(301));q+=1,to=$i=null,w.updateQueue=null,Xx.current=Y8e,g=E(R,N)}while(Yv)}if(Xx.current=tS,w=$i!==null&&$i.next!==null,$f=0,to=$i=Zn=null,Jx=!1,w)throw Error(r(300));return g}function SO(){var g=Xv!==0;return Xv=0,g}function Fc(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return to===null?Zn.memoizedState=to=g:to=to.next=g,to}function Gs(){if($i===null){var g=Zn.alternate;g=g!==null?g.memoizedState:null}else g=$i.next;var w=to===null?Zn.memoizedState:to.next;if(w!==null)to=w,$i=g;else{if(g===null)throw Error(r(310));$i=g,g={memoizedState:$i.memoizedState,baseState:$i.baseState,baseQueue:$i.baseQueue,queue:$i.queue,next:null},to===null?Zn.memoizedState=to=g:to=to.next=g}return to}function Jv(g,w){return typeof w=="function"?w(g):w}function CO(g){var w=Gs(),E=w.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=g;var R=$i,N=R.baseQueue,q=E.pending;if(q!==null){if(N!==null){var Y=N.next;N.next=q.next,q.next=Y}R.baseQueue=N=q,E.pending=null}if(N!==null){q=N.next,R=R.baseState;var le=Y=null,Ae=null,Me=q;do{var et=Me.lane;if(($f&et)===et)Ae!==null&&(Ae=Ae.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),R=Me.hasEagerState?Me.eagerState:g(R,Me.action);else{var at={lane:et,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};Ae===null?(le=Ae=at,Y=R):Ae=Ae.next=at,Zn.lanes|=et,Qf|=et}Me=Me.next}while(Me!==null&&Me!==q);Ae===null?Y=R:Ae.next=le,jl(R,w.memoizedState)||(ja=!0),w.memoizedState=R,w.baseState=Y,w.baseQueue=Ae,E.lastRenderedState=R}if(g=E.interleaved,g!==null){N=g;do q=N.lane,Zn.lanes|=q,Qf|=q,N=N.next;while(N!==g)}else N===null&&(E.lanes=0);return[w.memoizedState,E.dispatch]}function _O(g){var w=Gs(),E=w.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=g;var R=E.dispatch,N=E.pending,q=w.memoizedState;if(N!==null){E.pending=null;var Y=N=N.next;do q=g(q,Y.action),Y=Y.next;while(Y!==N);jl(q,w.memoizedState)||(ja=!0),w.memoizedState=q,w.baseQueue===null&&(w.baseState=q),E.lastRenderedState=q}return[q,R]}function b9(){}function x9(g,w){var E=Zn,R=Gs(),N=w(),q=!jl(R.memoizedState,N);if(q&&(R.memoizedState=N,ja=!0),R=R.queue,EO(_9.bind(null,E,R,g),[g]),R.getSnapshot!==w||q||to!==null&&to.memoizedState.tag&1){if(E.flags|=2048,Zv(9,C9.bind(null,E,R,N,w),void 0,null),ro===null)throw Error(r(349));($f&30)!==0||S9(E,w,N)}return N}function S9(g,w,E){g.flags|=16384,g={getSnapshot:w,value:E},w=Zn.updateQueue,w===null?(w={lastEffect:null,stores:null},Zn.updateQueue=w,w.stores=[g]):(E=w.stores,E===null?w.stores=[g]:E.push(g))}function C9(g,w,E,R){w.value=E,w.getSnapshot=R,E9(w)&&I9(g)}function _9(g,w,E){return E(function(){E9(w)&&I9(g)})}function E9(g){var w=g.getSnapshot;g=g.value;try{var E=w();return!jl(g,E)}catch{return!0}}function I9(g){var w=Nu(g,1);w!==null&&Hl(w,g,1,-1)}function B9(g){var w=Fc();return typeof g=="function"&&(g=g()),w.memoizedState=w.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:g},w.queue=g,g=g.dispatch=W8e.bind(null,Zn,g),[w.memoizedState,g]}function Zv(g,w,E,R){return g={tag:g,create:w,destroy:E,deps:R,next:null},w=Zn.updateQueue,w===null?(w={lastEffect:null,stores:null},Zn.updateQueue=w,w.lastEffect=g.next=g):(E=w.lastEffect,E===null?w.lastEffect=g.next=g:(R=E.next,E.next=g,g.next=R,w.lastEffect=g)),g}function P9(){return Gs().memoizedState}function Zx(g,w,E,R){var N=Fc();Zn.flags|=g,N.memoizedState=Zv(1|w,E,void 0,R===void 0?null:R)}function eS(g,w,E,R){var N=Gs();R=R===void 0?null:R;var q=void 0;if($i!==null){var Y=$i.memoizedState;if(q=Y.destroy,R!==null&&bO(R,Y.deps)){N.memoizedState=Zv(w,E,q,R);return}}Zn.flags|=g,N.memoizedState=Zv(1|w,E,q,R)}function T9(g,w){return Zx(8390656,8,g,w)}function EO(g,w){return eS(2048,8,g,w)}function O9(g,w){return eS(4,2,g,w)}function R9(g,w){return eS(4,4,g,w)}function M9(g,w){if(typeof w=="function")return g=g(),w(g),function(){w(null)};if(w!=null)return g=g(),w.current=g,function(){w.current=null}}function F9(g,w,E){return E=E!=null?E.concat([g]):null,eS(4,4,M9.bind(null,w,g),E)}function IO(){}function k9(g,w){var E=Gs();w=w===void 0?null:w;var R=E.memoizedState;return R!==null&&w!==null&&bO(w,R[1])?R[0]:(E.memoizedState=[g,w],g)}function U9(g,w){var E=Gs();w=w===void 0?null:w;var R=E.memoizedState;return R!==null&&w!==null&&bO(w,R[1])?R[0]:(g=g(),E.memoizedState=[g,w],g)}function D9(g,w,E){return($f&21)===0?(g.baseState&&(g.baseState=!1,ja=!0),g.memoizedState=E):(jl(E,w)||(E=Cx(),Zn.lanes|=E,Qf|=E,g.baseState=!0),w)}function z8e(g,w){var E=Ur;Ur=E!==0&&4>E?E:4,g(!0);var R=wO.transition;wO.transition={};try{g(!1),w()}finally{Ur=E,wO.transition=R}}function j9(){return Gs().memoizedState}function K8e(g,w,E){var R=uA(g);if(E={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null},L9(g))N9(w,E);else if(E=g9(g,w,E,R),E!==null){var N=ya();Hl(E,g,R,N),$9(E,w,R)}}function W8e(g,w,E){var R=uA(g),N={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null};if(L9(g))N9(w,N);else{var q=g.alternate;if(g.lanes===0&&(q===null||q.lanes===0)&&(q=w.lastRenderedReducer,q!==null))try{var Y=w.lastRenderedState,le=q(Y,E);if(N.hasEagerState=!0,N.eagerState=le,jl(le,Y)){var Ae=w.interleaved;Ae===null?(N.next=N,hO(w)):(N.next=Ae.next,Ae.next=N),w.interleaved=N;return}}catch{}finally{}E=g9(g,w,N,R),E!==null&&(N=ya(),Hl(E,g,R,N),$9(E,w,R))}}function L9(g){var w=g.alternate;return g===Zn||w!==null&&w===Zn}function N9(g,w){Yv=Jx=!0;var E=g.pending;E===null?w.next=w:(w.next=E.next,E.next=w),g.pending=w}function $9(g,w,E){if((E&4194240)!==0){var R=w.lanes;R&=g.pendingLanes,E|=R,w.lanes=E,bp(g,E)}}var tS={readContext:Vs,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useInsertionEffect:$o,useLayoutEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useDeferredValue:$o,useTransition:$o,useMutableSource:$o,useSyncExternalStore:$o,useId:$o,unstable_isNewReconciler:!1},V8e={readContext:Vs,useCallback:function(g,w){return Fc().memoizedState=[g,w===void 0?null:w],g},useContext:Vs,useEffect:T9,useImperativeHandle:function(g,w,E){return E=E!=null?E.concat([g]):null,Zx(4194308,4,M9.bind(null,w,g),E)},useLayoutEffect:function(g,w){return Zx(4194308,4,g,w)},useInsertionEffect:function(g,w){return Zx(4,2,g,w)},useMemo:function(g,w){var E=Fc();return w=w===void 0?null:w,g=g(),E.memoizedState=[g,w],g},useReducer:function(g,w,E){var R=Fc();return w=E!==void 0?E(w):w,R.memoizedState=R.baseState=w,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:w},R.queue=g,g=g.dispatch=K8e.bind(null,Zn,g),[R.memoizedState,g]},useRef:function(g){var w=Fc();return g={current:g},w.memoizedState=g},useState:B9,useDebugValue:IO,useDeferredValue:function(g){return Fc().memoizedState=g},useTransition:function(){var g=B9(!1),w=g[0];return g=z8e.bind(null,g[1]),Fc().memoizedState=g,[w,g]},useMutableSource:function(){},useSyncExternalStore:function(g,w,E){var R=Zn,N=Fc();if(Nn){if(E===void 0)throw Error(r(407));E=E()}else{if(E=w(),ro===null)throw Error(r(349));($f&30)!==0||S9(R,w,E)}N.memoizedState=E;var q={value:E,getSnapshot:w};return N.queue=q,T9(_9.bind(null,R,q,g),[g]),R.flags|=2048,Zv(9,C9.bind(null,R,q,E,w),void 0,null),E},useId:function(){var g=Fc(),w=ro.identifierPrefix;if(Nn){var E=Lu,R=ju;E=(R&~(1<<32-ga(R)-1)).toString(32)+E,w=":"+w+"R"+E,E=Xv++,0<E&&(w+="H"+E.toString(32)),w+=":"}else E=q8e++,w=":"+w+"r"+E.toString(32)+":";return g.memoizedState=w},unstable_isNewReconciler:!1},G8e={readContext:Vs,useCallback:k9,useContext:Vs,useEffect:EO,useImperativeHandle:F9,useInsertionEffect:O9,useLayoutEffect:R9,useMemo:U9,useReducer:CO,useRef:P9,useState:function(){return CO(Jv)},useDebugValue:IO,useDeferredValue:function(g){var w=Gs();return D9(w,$i.memoizedState,g)},useTransition:function(){var g=CO(Jv)[0],w=Gs().memoizedState;return[g,w]},useMutableSource:b9,useSyncExternalStore:x9,useId:j9,unstable_isNewReconciler:!1},Y8e={readContext:Vs,useCallback:k9,useContext:Vs,useEffect:EO,useImperativeHandle:F9,useInsertionEffect:O9,useLayoutEffect:R9,useMemo:U9,useReducer:_O,useRef:P9,useState:function(){return _O(Jv)},useDebugValue:IO,useDeferredValue:function(g){var w=Gs();return $i===null?w.memoizedState=g:D9(w,$i.memoizedState,g)},useTransition:function(){var g=_O(Jv)[0],w=Gs().memoizedState;return[g,w]},useMutableSource:b9,useSyncExternalStore:x9,useId:j9,unstable_isNewReconciler:!1};function Nl(g,w){if(g&&g.defaultProps){w=W({},w),g=g.defaultProps;for(var E in g)w[E]===void 0&&(w[E]=g[E]);return w}return w}function BO(g,w,E,R){w=g.memoizedState,E=E(R,w),E=E==null?w:W({},w,E),g.memoizedState=E,g.lanes===0&&(g.updateQueue.baseState=E)}var rS={isMounted:function(g){return(g=g._reactInternals)?ha(g)===g:!1},enqueueSetState:function(g,w,E){g=g._reactInternals;var R=ya(),N=uA(g),q=$u(R,N);q.payload=w,E!=null&&(q.callback=E),w=aA(g,q,N),w!==null&&(Hl(w,g,N,R),Vx(w,g,N))},enqueueReplaceState:function(g,w,E){g=g._reactInternals;var R=ya(),N=uA(g),q=$u(R,N);q.tag=1,q.payload=w,E!=null&&(q.callback=E),w=aA(g,q,N),w!==null&&(Hl(w,g,N,R),Vx(w,g,N))},enqueueForceUpdate:function(g,w){g=g._reactInternals;var E=ya(),R=uA(g),N=$u(E,R);N.tag=2,w!=null&&(N.callback=w),w=aA(g,N,R),w!==null&&(Hl(w,g,R,E),Vx(w,g,R))}};function Q9(g,w,E,R,N,q,Y){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(R,q,Y):w.prototype&&w.prototype.isPureReactComponent?!Lv(E,R)||!Lv(N,q):!0}function H9(g,w,E){var R=!1,N=nA,q=w.contextType;return typeof q=="object"&&q!==null?q=Vs(q):(N=Da(w)?Uf:No.current,R=w.contextTypes,q=(R=R!=null)?Op(g,N):nA),w=new w(E,q),g.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=rS,g.stateNode=w,w._reactInternals=g,R&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=N,g.__reactInternalMemoizedMaskedChildContext=q),w}function q9(g,w,E,R){g=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(E,R),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(E,R),w.state!==g&&rS.enqueueReplaceState(w,w.state,null)}function PO(g,w,E,R){var N=g.stateNode;N.props=E,N.state=g.memoizedState,N.refs={},pO(g);var q=w.contextType;typeof q=="object"&&q!==null?N.context=Vs(q):(q=Da(w)?Uf:No.current,N.context=Op(g,q)),N.state=g.memoizedState,q=w.getDerivedStateFromProps,typeof q=="function"&&(BO(g,w,q,E),N.state=g.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(w=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),w!==N.state&&rS.enqueueReplaceState(N,N.state,null),Gx(g,E,N,R),N.state=g.memoizedState),typeof N.componentDidMount=="function"&&(g.flags|=4194308)}function Lp(g,w){try{var E="",R=w;do E+=Z(R),R=R.return;while(R);var N=E}catch(q){N=`
Error generating stack: `+q.message+`
`+q.stack}return{value:g,source:w,stack:N,digest:null}}function TO(g,w,E){return{value:g,source:null,stack:E??null,digest:w??null}}function OO(g,w){try{console.error(w.value)}catch(E){setTimeout(function(){throw E})}}var X8e=typeof WeakMap=="function"?WeakMap:Map;function z9(g,w,E){E=$u(-1,E),E.tag=3,E.payload={element:null};var R=w.value;return E.callback=function(){cS||(cS=!0,KO=R),OO(g,w)},E}function K9(g,w,E){E=$u(-1,E),E.tag=3;var R=g.type.getDerivedStateFromError;if(typeof R=="function"){var N=w.value;E.payload=function(){return R(N)},E.callback=function(){OO(g,w)}}var q=g.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(E.callback=function(){OO(g,w),typeof R!="function"&&(lA===null?lA=new Set([this]):lA.add(this));var Y=w.stack;this.componentDidCatch(w.value,{componentStack:Y!==null?Y:""})}),E}function W9(g,w,E){var R=g.pingCache;if(R===null){R=g.pingCache=new X8e;var N=new Set;R.set(w,N)}else N=R.get(w),N===void 0&&(N=new Set,R.set(w,N));N.has(E)||(N.add(E),g=dWe.bind(null,g,w,E),w.then(g,g))}function V9(g){do{var w;if((w=g.tag===13)&&(w=g.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return g;g=g.return}while(g!==null);return null}function G9(g,w,E,R,N){return(g.mode&1)===0?(g===w?g.flags|=65536:(g.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(w=$u(-1,1),w.tag=2,aA(E,w,1))),E.lanes|=1),g):(g.flags|=65536,g.lanes=N,g)}var J8e=S.ReactCurrentOwner,ja=!1;function va(g,w,E,R){w.child=g===null?p9(w,null,E,R):kp(w,g.child,E,R)}function Y9(g,w,E,R,N){E=E.render;var q=w.ref;return Dp(w,N),R=xO(g,w,E,R,q,N),E=SO(),g!==null&&!ja?(w.updateQueue=g.updateQueue,w.flags&=-2053,g.lanes&=~N,Qu(g,w,N)):(Nn&&E&&oO(w),w.flags|=1,va(g,w,R,N),w.child)}function X9(g,w,E,R,N){if(g===null){var q=E.type;return typeof q=="function"&&!ZO(q)&&q.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(w.tag=15,w.type=q,J9(g,w,q,R,N)):(g=pS(E.type,null,R,w,w.mode,N),g.ref=w.ref,g.return=w,w.child=g)}if(q=g.child,(g.lanes&N)===0){var Y=q.memoizedProps;if(E=E.compare,E=E!==null?E:Lv,E(Y,R)&&g.ref===w.ref)return Qu(g,w,N)}return w.flags|=1,g=AA(q,R),g.ref=w.ref,g.return=w,w.child=g}function J9(g,w,E,R,N){if(g!==null){var q=g.memoizedProps;if(Lv(q,R)&&g.ref===w.ref)if(ja=!1,w.pendingProps=R=q,(g.lanes&N)!==0)(g.flags&131072)!==0&&(ja=!0);else return w.lanes=g.lanes,Qu(g,w,N)}return RO(g,w,E,R,N)}function Z9(g,w,E){var R=w.pendingProps,N=R.children,q=g!==null?g.memoizedState:null;if(R.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn($p,ds),ds|=E;else{if((E&1073741824)===0)return g=q!==null?q.baseLanes|E:E,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:g,cachePool:null,transitions:null},w.updateQueue=null,xn($p,ds),ds|=g,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=q!==null?q.baseLanes:E,xn($p,ds),ds|=R}else q!==null?(R=q.baseLanes|E,w.memoizedState=null):R=E,xn($p,ds),ds|=R;return va(g,w,N,E),w.child}function eV(g,w){var E=w.ref;(g===null&&E!==null||g!==null&&g.ref!==E)&&(w.flags|=512,w.flags|=2097152)}function RO(g,w,E,R,N){var q=Da(E)?Uf:No.current;return q=Op(w,q),Dp(w,N),E=xO(g,w,E,R,q,N),R=SO(),g!==null&&!ja?(w.updateQueue=g.updateQueue,w.flags&=-2053,g.lanes&=~N,Qu(g,w,N)):(Nn&&R&&oO(w),w.flags|=1,va(g,w,E,N),w.child)}function tV(g,w,E,R,N){if(Da(E)){var q=!0;Nx(w)}else q=!1;if(Dp(w,N),w.stateNode===null)iS(g,w),H9(w,E,R),PO(w,E,R,N),R=!0;else if(g===null){var Y=w.stateNode,le=w.memoizedProps;Y.props=le;var Ae=Y.context,Me=E.contextType;typeof Me=="object"&&Me!==null?Me=Vs(Me):(Me=Da(E)?Uf:No.current,Me=Op(w,Me));var et=E.getDerivedStateFromProps,at=typeof et=="function"||typeof Y.getSnapshotBeforeUpdate=="function";at||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(le!==R||Ae!==Me)&&q9(w,Y,R,Me),oA=!1;var Xe=w.memoizedState;Y.state=Xe,Gx(w,R,Y,N),Ae=w.memoizedState,le!==R||Xe!==Ae||Ua.current||oA?(typeof et=="function"&&(BO(w,E,et,R),Ae=w.memoizedState),(le=oA||Q9(w,E,le,R,Xe,Ae,Me))?(at||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(w.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=R,w.memoizedState=Ae),Y.props=R,Y.state=Ae,Y.context=Me,R=le):(typeof Y.componentDidMount=="function"&&(w.flags|=4194308),R=!1)}else{Y=w.stateNode,m9(g,w),le=w.memoizedProps,Me=w.type===w.elementType?le:Nl(w.type,le),Y.props=Me,at=w.pendingProps,Xe=Y.context,Ae=E.contextType,typeof Ae=="object"&&Ae!==null?Ae=Vs(Ae):(Ae=Da(E)?Uf:No.current,Ae=Op(w,Ae));var Ct=E.getDerivedStateFromProps;(et=typeof Ct=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(le!==at||Xe!==Ae)&&q9(w,Y,R,Ae),oA=!1,Xe=w.memoizedState,Y.state=Xe,Gx(w,R,Y,N);var Rt=w.memoizedState;le!==at||Xe!==Rt||Ua.current||oA?(typeof Ct=="function"&&(BO(w,E,Ct,R),Rt=w.memoizedState),(Me=oA||Q9(w,E,Me,R,Xe,Rt,Ae)||!1)?(et||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(R,Rt,Ae),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(R,Rt,Ae)),typeof Y.componentDidUpdate=="function"&&(w.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof Y.componentDidUpdate!="function"||le===g.memoizedProps&&Xe===g.memoizedState||(w.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||le===g.memoizedProps&&Xe===g.memoizedState||(w.flags|=1024),w.memoizedProps=R,w.memoizedState=Rt),Y.props=R,Y.state=Rt,Y.context=Ae,R=Me):(typeof Y.componentDidUpdate!="function"||le===g.memoizedProps&&Xe===g.memoizedState||(w.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||le===g.memoizedProps&&Xe===g.memoizedState||(w.flags|=1024),R=!1)}return MO(g,w,E,R,q,N)}function MO(g,w,E,R,N,q){eV(g,w);var Y=(w.flags&128)!==0;if(!R&&!Y)return N&&a9(w,E,!1),Qu(g,w,q);R=w.stateNode,J8e.current=w;var le=Y&&typeof E.getDerivedStateFromError!="function"?null:R.render();return w.flags|=1,g!==null&&Y?(w.child=kp(w,g.child,null,q),w.child=kp(w,null,le,q)):va(g,w,le,q),w.memoizedState=R.state,N&&a9(w,E,!0),w.child}function rV(g){var w=g.stateNode;w.pendingContext?i9(g,w.pendingContext,w.pendingContext!==w.context):w.context&&i9(g,w.context,!1),gO(g,w.containerInfo)}function nV(g,w,E,R,N){return Fp(),cO(N),w.flags|=256,va(g,w,E,R),w.child}var FO={dehydrated:null,treeContext:null,retryLane:0};function kO(g){return{baseLanes:g,cachePool:null,transitions:null}}function iV(g,w,E){var R=w.pendingProps,N=Jn.current,q=!1,Y=(w.flags&128)!==0,le;if((le=Y)||(le=g!==null&&g.memoizedState===null?!1:(N&2)!==0),le?(q=!0,w.flags&=-129):(g===null||g.memoizedState!==null)&&(N|=1),xn(Jn,N&1),g===null)return lO(w),g=w.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?((w.mode&1)===0?w.lanes=1:g.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(Y=R.children,g=R.fallback,q?(R=w.mode,q=w.child,Y={mode:"hidden",children:Y},(R&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=Y):q=gS(Y,R,0,null),g=Kf(g,R,E,null),q.return=w,g.return=w,q.sibling=g,w.child=q,w.child.memoizedState=kO(E),w.memoizedState=FO,g):UO(w,Y));if(N=g.memoizedState,N!==null&&(le=N.dehydrated,le!==null))return Z8e(g,w,Y,R,le,N,E);if(q){q=R.fallback,Y=w.mode,N=g.child,le=N.sibling;var Ae={mode:"hidden",children:R.children};return(Y&1)===0&&w.child!==N?(R=w.child,R.childLanes=0,R.pendingProps=Ae,w.deletions=null):(R=AA(N,Ae),R.subtreeFlags=N.subtreeFlags&14680064),le!==null?q=AA(le,q):(q=Kf(q,Y,E,null),q.flags|=2),q.return=w,R.return=w,R.sibling=q,w.child=R,R=q,q=w.child,Y=g.child.memoizedState,Y=Y===null?kO(E):{baseLanes:Y.baseLanes|E,cachePool:null,transitions:Y.transitions},q.memoizedState=Y,q.childLanes=g.childLanes&~E,w.memoizedState=FO,R}return q=g.child,g=q.sibling,R=AA(q,{mode:"visible",children:R.children}),(w.mode&1)===0&&(R.lanes=E),R.return=w,R.sibling=null,g!==null&&(E=w.deletions,E===null?(w.deletions=[g],w.flags|=16):E.push(g)),w.child=R,w.memoizedState=null,R}function UO(g,w){return w=gS({mode:"visible",children:w},g.mode,0,null),w.return=g,g.child=w}function nS(g,w,E,R){return R!==null&&cO(R),kp(w,g.child,null,E),g=UO(w,w.pendingProps.children),g.flags|=2,w.memoizedState=null,g}function Z8e(g,w,E,R,N,q,Y){if(E)return w.flags&256?(w.flags&=-257,R=TO(Error(r(422))),nS(g,w,Y,R)):w.memoizedState!==null?(w.child=g.child,w.flags|=128,null):(q=R.fallback,N=w.mode,R=gS({mode:"visible",children:R.children},N,0,null),q=Kf(q,N,Y,null),q.flags|=2,R.return=w,q.return=w,R.sibling=q,w.child=R,(w.mode&1)!==0&&kp(w,g.child,null,Y),w.child.memoizedState=kO(Y),w.memoizedState=FO,q);if((w.mode&1)===0)return nS(g,w,Y,null);if(N.data==="$!"){if(R=N.nextSibling&&N.nextSibling.dataset,R)var le=R.dgst;return R=le,q=Error(r(419)),R=TO(q,R,void 0),nS(g,w,Y,R)}if(le=(Y&g.childLanes)!==0,ja||le){if(R=ro,R!==null){switch(Y&-Y){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(R.suspendedLanes|Y))!==0?0:N,N!==0&&N!==q.retryLane&&(q.retryLane=N,Nu(g,N),Hl(R,g,N,-1))}return JO(),R=TO(Error(r(421))),nS(g,w,Y,R)}return N.data==="$?"?(w.flags|=128,w.child=g.child,w=AWe.bind(null,g),N._reactRetry=w,null):(g=q.treeContext,us=tA(N.nextSibling),cs=w,Nn=!0,Ll=null,g!==null&&(Ks[Ws++]=ju,Ks[Ws++]=Lu,Ks[Ws++]=Df,ju=g.id,Lu=g.overflow,Df=w),w=UO(w,R.children),w.flags|=4096,w)}function oV(g,w,E){g.lanes|=w;var R=g.alternate;R!==null&&(R.lanes|=w),fO(g.return,w,E)}function DO(g,w,E,R,N){var q=g.memoizedState;q===null?g.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:R,tail:E,tailMode:N}:(q.isBackwards=w,q.rendering=null,q.renderingStartTime=0,q.last=R,q.tail=E,q.tailMode=N)}function aV(g,w,E){var R=w.pendingProps,N=R.revealOrder,q=R.tail;if(va(g,w,R.children,E),R=Jn.current,(R&2)!==0)R=R&1|2,w.flags|=128;else{if(g!==null&&(g.flags&128)!==0)e:for(g=w.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&oV(g,E,w);else if(g.tag===19)oV(g,E,w);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===w)break e;for(;g.sibling===null;){if(g.return===null||g.return===w)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}R&=1}if(xn(Jn,R),(w.mode&1)===0)w.memoizedState=null;else switch(N){case"forwards":for(E=w.child,N=null;E!==null;)g=E.alternate,g!==null&&Yx(g)===null&&(N=E),E=E.sibling;E=N,E===null?(N=w.child,w.child=null):(N=E.sibling,E.sibling=null),DO(w,!1,N,E,q);break;case"backwards":for(E=null,N=w.child,w.child=null;N!==null;){if(g=N.alternate,g!==null&&Yx(g)===null){w.child=N;break}g=N.sibling,N.sibling=E,E=N,N=g}DO(w,!0,E,null,q);break;case"together":DO(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function iS(g,w){(w.mode&1)===0&&g!==null&&(g.alternate=null,w.alternate=null,w.flags|=2)}function Qu(g,w,E){if(g!==null&&(w.dependencies=g.dependencies),Qf|=w.lanes,(E&w.childLanes)===0)return null;if(g!==null&&w.child!==g.child)throw Error(r(153));if(w.child!==null){for(g=w.child,E=AA(g,g.pendingProps),w.child=E,E.return=w;g.sibling!==null;)g=g.sibling,E=E.sibling=AA(g,g.pendingProps),E.return=w;E.sibling=null}return w.child}function eWe(g,w,E){switch(w.tag){case 3:rV(w),Fp();break;case 5:w9(w);break;case 1:Da(w.type)&&Nx(w);break;case 4:gO(w,w.stateNode.containerInfo);break;case 10:var R=w.type._context,N=w.memoizedProps.value;xn(Kx,R._currentValue),R._currentValue=N;break;case 13:if(R=w.memoizedState,R!==null)return R.dehydrated!==null?(xn(Jn,Jn.current&1),w.flags|=128,null):(E&w.child.childLanes)!==0?iV(g,w,E):(xn(Jn,Jn.current&1),g=Qu(g,w,E),g!==null?g.sibling:null);xn(Jn,Jn.current&1);break;case 19:if(R=(E&w.childLanes)!==0,(g.flags&128)!==0){if(R)return aV(g,w,E);w.flags|=128}if(N=w.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),xn(Jn,Jn.current),R)break;return null;case 22:case 23:return w.lanes=0,Z9(g,w,E)}return Qu(g,w,E)}var sV,jO,lV,cV;sV=function(g,w){for(var E=w.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},jO=function(){},lV=function(g,w,E,R){var N=g.memoizedProps;if(N!==R){g=w.stateNode,Nf(Mc.current);var q=null;switch(E){case"input":N=ye(g,N),R=ye(g,R),q=[];break;case"select":N=W({},N,{value:void 0}),R=W({},R,{value:void 0}),q=[];break;case"textarea":N=we(g,N),R=we(g,R),q=[];break;default:typeof N.onClick!="function"&&typeof R.onClick=="function"&&(g.onclick=Dx)}ot(E,R);var Y;E=null;for(Me in N)if(!R.hasOwnProperty(Me)&&N.hasOwnProperty(Me)&&N[Me]!=null)if(Me==="style"){var le=N[Me];for(Y in le)le.hasOwnProperty(Y)&&(E||(E={}),E[Y]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(i.hasOwnProperty(Me)?q||(q=[]):(q=q||[]).push(Me,null));for(Me in R){var Ae=R[Me];if(le=N!=null?N[Me]:void 0,R.hasOwnProperty(Me)&&Ae!==le&&(Ae!=null||le!=null))if(Me==="style")if(le){for(Y in le)!le.hasOwnProperty(Y)||Ae&&Ae.hasOwnProperty(Y)||(E||(E={}),E[Y]="");for(Y in Ae)Ae.hasOwnProperty(Y)&&le[Y]!==Ae[Y]&&(E||(E={}),E[Y]=Ae[Y])}else E||(q||(q=[]),q.push(Me,E)),E=Ae;else Me==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,le=le?le.__html:void 0,Ae!=null&&le!==Ae&&(q=q||[]).push(Me,Ae)):Me==="children"?typeof Ae!="string"&&typeof Ae!="number"||(q=q||[]).push(Me,""+Ae):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(i.hasOwnProperty(Me)?(Ae!=null&&Me==="onScroll"&&Tn("scroll",g),q||le===Ae||(q=[])):(q=q||[]).push(Me,Ae))}E&&(q=q||[]).push("style",E);var Me=q;(w.updateQueue=Me)&&(w.flags|=4)}},cV=function(g,w,E,R){E!==R&&(w.flags|=4)};function ey(g,w){if(!Nn)switch(g.tailMode){case"hidden":w=g.tail;for(var E=null;w!==null;)w.alternate!==null&&(E=w),w=w.sibling;E===null?g.tail=null:E.sibling=null;break;case"collapsed":E=g.tail;for(var R=null;E!==null;)E.alternate!==null&&(R=E),E=E.sibling;R===null?w||g.tail===null?g.tail=null:g.tail.sibling=null:R.sibling=null}}function Qo(g){var w=g.alternate!==null&&g.alternate.child===g.child,E=0,R=0;if(w)for(var N=g.child;N!==null;)E|=N.lanes|N.childLanes,R|=N.subtreeFlags&14680064,R|=N.flags&14680064,N.return=g,N=N.sibling;else for(N=g.child;N!==null;)E|=N.lanes|N.childLanes,R|=N.subtreeFlags,R|=N.flags,N.return=g,N=N.sibling;return g.subtreeFlags|=R,g.childLanes=E,w}function tWe(g,w,E){var R=w.pendingProps;switch(aO(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(w),null;case 1:return Da(w.type)&&Lx(),Qo(w),null;case 3:return R=w.stateNode,jp(),On(Ua),On(No),yO(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(g===null||g.child===null)&&(qx(w)?w.flags|=4:g===null||g.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Ll!==null&&(GO(Ll),Ll=null))),jO(g,w),Qo(w),null;case 5:mO(w);var N=Nf(Gv.current);if(E=w.type,g!==null&&w.stateNode!=null)lV(g,w,E,R,N),g.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!R){if(w.stateNode===null)throw Error(r(166));return Qo(w),null}if(g=Nf(Mc.current),qx(w)){R=w.stateNode,E=w.type;var q=w.memoizedProps;switch(R[Rc]=w,R[qv]=q,g=(w.mode&1)!==0,E){case"dialog":Tn("cancel",R),Tn("close",R);break;case"iframe":case"object":case"embed":Tn("load",R);break;case"video":case"audio":for(N=0;N<$v.length;N++)Tn($v[N],R);break;case"source":Tn("error",R);break;case"img":case"image":case"link":Tn("error",R),Tn("load",R);break;case"details":Tn("toggle",R);break;case"input":ke(R,q),Tn("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!q.multiple},Tn("invalid",R);break;case"textarea":Be(R,q),Tn("invalid",R)}ot(E,q),N=null;for(var Y in q)if(q.hasOwnProperty(Y)){var le=q[Y];Y==="children"?typeof le=="string"?R.textContent!==le&&(q.suppressHydrationWarning!==!0&&Ux(R.textContent,le,g),N=["children",le]):typeof le=="number"&&R.textContent!==""+le&&(q.suppressHydrationWarning!==!0&&Ux(R.textContent,le,g),N=["children",""+le]):i.hasOwnProperty(Y)&&le!=null&&Y==="onScroll"&&Tn("scroll",R)}switch(E){case"input":de(R),Ye(R,q,!0);break;case"textarea":de(R),me(R);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(R.onclick=Dx)}R=N,w.updateQueue=R,R!==null&&(w.flags|=4)}else{Y=N.nodeType===9?N:N.ownerDocument,g==="http://www.w3.org/1999/xhtml"&&(g=Se(E)),g==="http://www.w3.org/1999/xhtml"?E==="script"?(g=Y.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild)):typeof R.is=="string"?g=Y.createElement(E,{is:R.is}):(g=Y.createElement(E),E==="select"&&(Y=g,R.multiple?Y.multiple=!0:R.size&&(Y.size=R.size))):g=Y.createElementNS(g,E),g[Rc]=w,g[qv]=R,sV(g,w,!1,!1),w.stateNode=g;e:{switch(Y=xt(E,R),E){case"dialog":Tn("cancel",g),Tn("close",g),N=R;break;case"iframe":case"object":case"embed":Tn("load",g),N=R;break;case"video":case"audio":for(N=0;N<$v.length;N++)Tn($v[N],g);N=R;break;case"source":Tn("error",g),N=R;break;case"img":case"image":case"link":Tn("error",g),Tn("load",g),N=R;break;case"details":Tn("toggle",g),N=R;break;case"input":ke(g,R),N=ye(g,R),Tn("invalid",g);break;case"option":N=R;break;case"select":g._wrapperState={wasMultiple:!!R.multiple},N=W({},R,{value:void 0}),Tn("invalid",g);break;case"textarea":Be(g,R),N=we(g,R),Tn("invalid",g);break;default:N=R}ot(E,N),le=N;for(q in le)if(le.hasOwnProperty(q)){var Ae=le[q];q==="style"?$e(g,Ae):q==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,Ae!=null&&ft(g,Ae)):q==="children"?typeof Ae=="string"?(E!=="textarea"||Ae!=="")&&ee(g,Ae):typeof Ae=="number"&&ee(g,""+Ae):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?Ae!=null&&q==="onScroll"&&Tn("scroll",g):Ae!=null&&x(g,q,Ae,Y))}switch(E){case"input":de(g),Ye(g,R,!1);break;case"textarea":de(g),me(g);break;case"option":R.value!=null&&g.setAttribute("value",""+ne(R.value));break;case"select":g.multiple=!!R.multiple,q=R.value,q!=null?Te(g,!!R.multiple,q,!1):R.defaultValue!=null&&Te(g,!!R.multiple,R.defaultValue,!0);break;default:typeof N.onClick=="function"&&(g.onclick=Dx)}switch(E){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return Qo(w),null;case 6:if(g&&w.stateNode!=null)cV(g,w,g.memoizedProps,R);else{if(typeof R!="string"&&w.stateNode===null)throw Error(r(166));if(E=Nf(Gv.current),Nf(Mc.current),qx(w)){if(R=w.stateNode,E=w.memoizedProps,R[Rc]=w,(q=R.nodeValue!==E)&&(g=cs,g!==null))switch(g.tag){case 3:Ux(R.nodeValue,E,(g.mode&1)!==0);break;case 5:g.memoizedProps.suppressHydrationWarning!==!0&&Ux(R.nodeValue,E,(g.mode&1)!==0)}q&&(w.flags|=4)}else R=(E.nodeType===9?E:E.ownerDocument).createTextNode(R),R[Rc]=w,w.stateNode=R}return Qo(w),null;case 13:if(On(Jn),R=w.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(Nn&&us!==null&&(w.mode&1)!==0&&(w.flags&128)===0)A9(),Fp(),w.flags|=98560,q=!1;else if(q=qx(w),R!==null&&R.dehydrated!==null){if(g===null){if(!q)throw Error(r(318));if(q=w.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(r(317));q[Rc]=w}else Fp(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;Qo(w),q=!1}else Ll!==null&&(GO(Ll),Ll=null),q=!0;if(!q)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=E,w):(R=R!==null,R!==(g!==null&&g.memoizedState!==null)&&R&&(w.child.flags|=8192,(w.mode&1)!==0&&(g===null||(Jn.current&1)!==0?Qi===0&&(Qi=3):JO())),w.updateQueue!==null&&(w.flags|=4),Qo(w),null);case 4:return jp(),jO(g,w),g===null&&Qv(w.stateNode.containerInfo),Qo(w),null;case 10:return AO(w.type._context),Qo(w),null;case 17:return Da(w.type)&&Lx(),Qo(w),null;case 19:if(On(Jn),q=w.memoizedState,q===null)return Qo(w),null;if(R=(w.flags&128)!==0,Y=q.rendering,Y===null)if(R)ey(q,!1);else{if(Qi!==0||g!==null&&(g.flags&128)!==0)for(g=w.child;g!==null;){if(Y=Yx(g),Y!==null){for(w.flags|=128,ey(q,!1),R=Y.updateQueue,R!==null&&(w.updateQueue=R,w.flags|=4),w.subtreeFlags=0,R=E,E=w.child;E!==null;)q=E,g=R,q.flags&=14680066,Y=q.alternate,Y===null?(q.childLanes=0,q.lanes=g,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=Y.childLanes,q.lanes=Y.lanes,q.child=Y.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=Y.memoizedProps,q.memoizedState=Y.memoizedState,q.updateQueue=Y.updateQueue,q.type=Y.type,g=Y.dependencies,q.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),E=E.sibling;return xn(Jn,Jn.current&1|2),w.child}g=g.sibling}q.tail!==null&&nr()>Qp&&(w.flags|=128,R=!0,ey(q,!1),w.lanes=4194304)}else{if(!R)if(g=Yx(Y),g!==null){if(w.flags|=128,R=!0,E=g.updateQueue,E!==null&&(w.updateQueue=E,w.flags|=4),ey(q,!0),q.tail===null&&q.tailMode==="hidden"&&!Y.alternate&&!Nn)return Qo(w),null}else 2*nr()-q.renderingStartTime>Qp&&E!==1073741824&&(w.flags|=128,R=!0,ey(q,!1),w.lanes=4194304);q.isBackwards?(Y.sibling=w.child,w.child=Y):(E=q.last,E!==null?E.sibling=Y:w.child=Y,q.last=Y)}return q.tail!==null?(w=q.tail,q.rendering=w,q.tail=w.sibling,q.renderingStartTime=nr(),w.sibling=null,E=Jn.current,xn(Jn,R?E&1|2:E&1),w):(Qo(w),null);case 22:case 23:return XO(),R=w.memoizedState!==null,g!==null&&g.memoizedState!==null!==R&&(w.flags|=8192),R&&(w.mode&1)!==0?(ds&1073741824)!==0&&(Qo(w),w.subtreeFlags&6&&(w.flags|=8192)):Qo(w),null;case 24:return null;case 25:return null}throw Error(r(156,w.tag))}function rWe(g,w){switch(aO(w),w.tag){case 1:return Da(w.type)&&Lx(),g=w.flags,g&65536?(w.flags=g&-65537|128,w):null;case 3:return jp(),On(Ua),On(No),yO(),g=w.flags,(g&65536)!==0&&(g&128)===0?(w.flags=g&-65537|128,w):null;case 5:return mO(w),null;case 13:if(On(Jn),g=w.memoizedState,g!==null&&g.dehydrated!==null){if(w.alternate===null)throw Error(r(340));Fp()}return g=w.flags,g&65536?(w.flags=g&-65537|128,w):null;case 19:return On(Jn),null;case 4:return jp(),null;case 10:return AO(w.type._context),null;case 22:case 23:return XO(),null;case 24:return null;default:return null}}var oS=!1,Ho=!1,nWe=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Np(g,w){var E=g.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(R){li(g,w,R)}else E.current=null}function LO(g,w,E){try{E()}catch(R){li(g,w,R)}}var uV=!1;function iWe(g,w){if(XT=ge,g=QW(),HT(g)){if("selectionStart"in g)var E={start:g.selectionStart,end:g.selectionEnd};else e:{E=(E=g.ownerDocument)&&E.defaultView||window;var R=E.getSelection&&E.getSelection();if(R&&R.rangeCount!==0){E=R.anchorNode;var N=R.anchorOffset,q=R.focusNode;R=R.focusOffset;try{E.nodeType,q.nodeType}catch{E=null;break e}var Y=0,le=-1,Ae=-1,Me=0,et=0,at=g,Xe=null;t:for(;;){for(var Ct;at!==E||N!==0&&at.nodeType!==3||(le=Y+N),at!==q||R!==0&&at.nodeType!==3||(Ae=Y+R),at.nodeType===3&&(Y+=at.nodeValue.length),(Ct=at.firstChild)!==null;)Xe=at,at=Ct;for(;;){if(at===g)break t;if(Xe===E&&++Me===N&&(le=Y),Xe===q&&++et===R&&(Ae=Y),(Ct=at.nextSibling)!==null)break;at=Xe,Xe=at.parentNode}at=Ct}E=le===-1||Ae===-1?null:{start:le,end:Ae}}else E=null}E=E||{start:0,end:0}}else E=null;for(JT={focusedElem:g,selectionRange:E},ge=!1,Pt=w;Pt!==null;)if(w=Pt,g=w.child,(w.subtreeFlags&1028)!==0&&g!==null)g.return=w,Pt=g;else for(;Pt!==null;){w=Pt;try{var Rt=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(Rt!==null){var Ut=Rt.memoizedProps,vi=Rt.memoizedState,Ce=w.stateNode,fe=Ce.getSnapshotBeforeUpdate(w.elementType===w.type?Ut:Nl(w.type,Ut),vi);Ce.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var Ie=w.stateNode.containerInfo;Ie.nodeType===1?Ie.textContent="":Ie.nodeType===9&&Ie.documentElement&&Ie.removeChild(Ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(dt){li(w,w.return,dt)}if(g=w.sibling,g!==null){g.return=w.return,Pt=g;break}Pt=w.return}return Rt=uV,uV=!1,Rt}function ty(g,w,E){var R=w.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var N=R=R.next;do{if((N.tag&g)===g){var q=N.destroy;N.destroy=void 0,q!==void 0&&LO(w,E,q)}N=N.next}while(N!==R)}}function aS(g,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var E=w=w.next;do{if((E.tag&g)===g){var R=E.create;E.destroy=R()}E=E.next}while(E!==w)}}function NO(g){var w=g.ref;if(w!==null){var E=g.stateNode;switch(g.tag){case 5:g=E;break;default:g=E}typeof w=="function"?w(g):w.current=g}}function dV(g){var w=g.alternate;w!==null&&(g.alternate=null,dV(w)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(w=g.stateNode,w!==null&&(delete w[Rc],delete w[qv],delete w[rO],delete w[N8e],delete w[$8e])),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function AV(g){return g.tag===5||g.tag===3||g.tag===4}function fV(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||AV(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function $O(g,w,E){var R=g.tag;if(R===5||R===6)g=g.stateNode,w?E.nodeType===8?E.parentNode.insertBefore(g,w):E.insertBefore(g,w):(E.nodeType===8?(w=E.parentNode,w.insertBefore(g,E)):(w=E,w.appendChild(g)),E=E._reactRootContainer,E!=null||w.onclick!==null||(w.onclick=Dx));else if(R!==4&&(g=g.child,g!==null))for($O(g,w,E),g=g.sibling;g!==null;)$O(g,w,E),g=g.sibling}function QO(g,w,E){var R=g.tag;if(R===5||R===6)g=g.stateNode,w?E.insertBefore(g,w):E.appendChild(g);else if(R!==4&&(g=g.child,g!==null))for(QO(g,w,E),g=g.sibling;g!==null;)QO(g,w,E),g=g.sibling}var po=null,$l=!1;function sA(g,w,E){for(E=E.child;E!==null;)hV(g,w,E),E=E.sibling}function hV(g,w,E){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(Rl,E)}catch{}switch(E.tag){case 5:Ho||Np(E,w);case 6:var R=po,N=$l;po=null,sA(g,w,E),po=R,$l=N,po!==null&&($l?(g=po,E=E.stateNode,g.nodeType===8?g.parentNode.removeChild(E):g.removeChild(E)):po.removeChild(E.stateNode));break;case 18:po!==null&&($l?(g=po,E=E.stateNode,g.nodeType===8?tO(g.parentNode,E):g.nodeType===1&&tO(g,E),Ff(g)):tO(po,E.stateNode));break;case 4:R=po,N=$l,po=E.stateNode.containerInfo,$l=!0,sA(g,w,E),po=R,$l=N;break;case 0:case 11:case 14:case 15:if(!Ho&&(R=E.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){N=R=R.next;do{var q=N,Y=q.destroy;q=q.tag,Y!==void 0&&((q&2)!==0||(q&4)!==0)&&LO(E,w,Y),N=N.next}while(N!==R)}sA(g,w,E);break;case 1:if(!Ho&&(Np(E,w),R=E.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=E.memoizedProps,R.state=E.memoizedState,R.componentWillUnmount()}catch(le){li(E,w,le)}sA(g,w,E);break;case 21:sA(g,w,E);break;case 22:E.mode&1?(Ho=(R=Ho)||E.memoizedState!==null,sA(g,w,E),Ho=R):sA(g,w,E);break;default:sA(g,w,E)}}function pV(g){var w=g.updateQueue;if(w!==null){g.updateQueue=null;var E=g.stateNode;E===null&&(E=g.stateNode=new nWe),w.forEach(function(R){var N=fWe.bind(null,g,R);E.has(R)||(E.add(R),R.then(N,N))})}}function Ql(g,w){var E=w.deletions;if(E!==null)for(var R=0;R<E.length;R++){var N=E[R];try{var q=g,Y=w,le=Y;e:for(;le!==null;){switch(le.tag){case 5:po=le.stateNode,$l=!1;break e;case 3:po=le.stateNode.containerInfo,$l=!0;break e;case 4:po=le.stateNode.containerInfo,$l=!0;break e}le=le.return}if(po===null)throw Error(r(160));hV(q,Y,N),po=null,$l=!1;var Ae=N.alternate;Ae!==null&&(Ae.return=null),N.return=null}catch(Me){li(N,w,Me)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)gV(w,g),w=w.sibling}function gV(g,w){var E=g.alternate,R=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:if(Ql(w,g),kc(g),R&4){try{ty(3,g,g.return),aS(3,g)}catch(Ut){li(g,g.return,Ut)}try{ty(5,g,g.return)}catch(Ut){li(g,g.return,Ut)}}break;case 1:Ql(w,g),kc(g),R&512&&E!==null&&Np(E,E.return);break;case 5:if(Ql(w,g),kc(g),R&512&&E!==null&&Np(E,E.return),g.flags&32){var N=g.stateNode;try{ee(N,"")}catch(Ut){li(g,g.return,Ut)}}if(R&4&&(N=g.stateNode,N!=null)){var q=g.memoizedProps,Y=E!==null?E.memoizedProps:q,le=g.type,Ae=g.updateQueue;if(g.updateQueue=null,Ae!==null)try{le==="input"&&q.type==="radio"&&q.name!=null&&Ue(N,q),xt(le,Y);var Me=xt(le,q);for(Y=0;Y<Ae.length;Y+=2){var et=Ae[Y],at=Ae[Y+1];et==="style"?$e(N,at):et==="dangerouslySetInnerHTML"?ft(N,at):et==="children"?ee(N,at):x(N,et,at,Me)}switch(le){case"input":Ne(N,q);break;case"textarea":Ze(N,q);break;case"select":var Xe=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!q.multiple;var Ct=q.value;Ct!=null?Te(N,!!q.multiple,Ct,!1):Xe!==!!q.multiple&&(q.defaultValue!=null?Te(N,!!q.multiple,q.defaultValue,!0):Te(N,!!q.multiple,q.multiple?[]:"",!1))}N[qv]=q}catch(Ut){li(g,g.return,Ut)}}break;case 6:if(Ql(w,g),kc(g),R&4){if(g.stateNode===null)throw Error(r(162));N=g.stateNode,q=g.memoizedProps;try{N.nodeValue=q}catch(Ut){li(g,g.return,Ut)}}break;case 3:if(Ql(w,g),kc(g),R&4&&E!==null&&E.memoizedState.isDehydrated)try{Ff(w.containerInfo)}catch(Ut){li(g,g.return,Ut)}break;case 4:Ql(w,g),kc(g);break;case 13:Ql(w,g),kc(g),N=g.child,N.flags&8192&&(q=N.memoizedState!==null,N.stateNode.isHidden=q,!q||N.alternate!==null&&N.alternate.memoizedState!==null||(zO=nr())),R&4&&pV(g);break;case 22:if(et=E!==null&&E.memoizedState!==null,g.mode&1?(Ho=(Me=Ho)||et,Ql(w,g),Ho=Me):Ql(w,g),kc(g),R&8192){if(Me=g.memoizedState!==null,(g.stateNode.isHidden=Me)&&!et&&(g.mode&1)!==0)for(Pt=g,et=g.child;et!==null;){for(at=Pt=et;Pt!==null;){switch(Xe=Pt,Ct=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:ty(4,Xe,Xe.return);break;case 1:Np(Xe,Xe.return);var Rt=Xe.stateNode;if(typeof Rt.componentWillUnmount=="function"){R=Xe,E=Xe.return;try{w=R,Rt.props=w.memoizedProps,Rt.state=w.memoizedState,Rt.componentWillUnmount()}catch(Ut){li(R,E,Ut)}}break;case 5:Np(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){yV(at);continue}}Ct!==null?(Ct.return=Xe,Pt=Ct):yV(at)}et=et.sibling}e:for(et=null,at=g;;){if(at.tag===5){if(et===null){et=at;try{N=at.stateNode,Me?(q=N.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(le=at.stateNode,Ae=at.memoizedProps.style,Y=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null,le.style.display=xe("display",Y))}catch(Ut){li(g,g.return,Ut)}}}else if(at.tag===6){if(et===null)try{at.stateNode.nodeValue=Me?"":at.memoizedProps}catch(Ut){li(g,g.return,Ut)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===g)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===g)break e;for(;at.sibling===null;){if(at.return===null||at.return===g)break e;et===at&&(et=null),at=at.return}et===at&&(et=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:Ql(w,g),kc(g),R&4&&pV(g);break;case 21:break;default:Ql(w,g),kc(g)}}function kc(g){var w=g.flags;if(w&2){try{e:{for(var E=g.return;E!==null;){if(AV(E)){var R=E;break e}E=E.return}throw Error(r(160))}switch(R.tag){case 5:var N=R.stateNode;R.flags&32&&(ee(N,""),R.flags&=-33);var q=fV(g);QO(g,q,N);break;case 3:case 4:var Y=R.stateNode.containerInfo,le=fV(g);$O(g,le,Y);break;default:throw Error(r(161))}}catch(Ae){li(g,g.return,Ae)}g.flags&=-3}w&4096&&(g.flags&=-4097)}function oWe(g,w,E){Pt=g,mV(g)}function mV(g,w,E){for(var R=(g.mode&1)!==0;Pt!==null;){var N=Pt,q=N.child;if(N.tag===22&&R){var Y=N.memoizedState!==null||oS;if(!Y){var le=N.alternate,Ae=le!==null&&le.memoizedState!==null||Ho;le=oS;var Me=Ho;if(oS=Y,(Ho=Ae)&&!Me)for(Pt=N;Pt!==null;)Y=Pt,Ae=Y.child,Y.tag===22&&Y.memoizedState!==null?wV(N):Ae!==null?(Ae.return=Y,Pt=Ae):wV(N);for(;q!==null;)Pt=q,mV(q),q=q.sibling;Pt=N,oS=le,Ho=Me}vV(g)}else(N.subtreeFlags&8772)!==0&&q!==null?(q.return=N,Pt=q):vV(g)}}function vV(g){for(;Pt!==null;){var w=Pt;if((w.flags&8772)!==0){var E=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:Ho||aS(5,w);break;case 1:var R=w.stateNode;if(w.flags&4&&!Ho)if(E===null)R.componentDidMount();else{var N=w.elementType===w.type?E.memoizedProps:Nl(w.type,E.memoizedProps);R.componentDidUpdate(N,E.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var q=w.updateQueue;q!==null&&y9(w,q,R);break;case 3:var Y=w.updateQueue;if(Y!==null){if(E=null,w.child!==null)switch(w.child.tag){case 5:E=w.child.stateNode;break;case 1:E=w.child.stateNode}y9(w,Y,E)}break;case 5:var le=w.stateNode;if(E===null&&w.flags&4){E=le;var Ae=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Ae.autoFocus&&E.focus();break;case"img":Ae.src&&(E.src=Ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var Me=w.alternate;if(Me!==null){var et=Me.memoizedState;if(et!==null){var at=et.dehydrated;at!==null&&Ff(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ho||w.flags&512&&NO(w)}catch(Xe){li(w,w.return,Xe)}}if(w===g){Pt=null;break}if(E=w.sibling,E!==null){E.return=w.return,Pt=E;break}Pt=w.return}}function yV(g){for(;Pt!==null;){var w=Pt;if(w===g){Pt=null;break}var E=w.sibling;if(E!==null){E.return=w.return,Pt=E;break}Pt=w.return}}function wV(g){for(;Pt!==null;){var w=Pt;try{switch(w.tag){case 0:case 11:case 15:var E=w.return;try{aS(4,w)}catch(Ae){li(w,E,Ae)}break;case 1:var R=w.stateNode;if(typeof R.componentDidMount=="function"){var N=w.return;try{R.componentDidMount()}catch(Ae){li(w,N,Ae)}}var q=w.return;try{NO(w)}catch(Ae){li(w,q,Ae)}break;case 5:var Y=w.return;try{NO(w)}catch(Ae){li(w,Y,Ae)}}}catch(Ae){li(w,w.return,Ae)}if(w===g){Pt=null;break}var le=w.sibling;if(le!==null){le.return=w.return,Pt=le;break}Pt=w.return}}var aWe=Math.ceil,sS=S.ReactCurrentDispatcher,HO=S.ReactCurrentOwner,Ys=S.ReactCurrentBatchConfig,Nr=0,ro=null,Ri=null,go=0,ds=0,$p=rA(0),Qi=0,ry=null,Qf=0,lS=0,qO=0,ny=null,La=null,zO=0,Qp=1/0,Hu=null,cS=!1,KO=null,lA=null,uS=!1,cA=null,dS=0,iy=0,WO=null,AS=-1,fS=0;function ya(){return(Nr&6)!==0?nr():AS!==-1?AS:AS=nr()}function uA(g){return(g.mode&1)===0?1:(Nr&2)!==0&&go!==0?go&-go:H8e.transition!==null?(fS===0&&(fS=Cx()),fS):(g=Ur,g!==0||(g=window.event,g=g===void 0?16:gi(g.type)),g)}function Hl(g,w,E,R){if(50<iy)throw iy=0,WO=null,Error(r(185));Of(g,E,R),((Nr&2)===0||g!==ro)&&(g===ro&&((Nr&2)===0&&(lS|=E),Qi===4&&dA(g,go)),Na(g,R),E===1&&Nr===0&&(w.mode&1)===0&&(Qp=nr()+500,$x&&iA()))}function Na(g,w){var E=g.callbackNode;Pv(g,w);var R=Fl(g,g===ro?go:0);if(R===0)E!==null&&$t(E),g.callbackNode=null,g.callbackPriority=0;else if(w=R&-R,g.callbackPriority!==w){if(E!=null&&$t(E),w===1)g.tag===0?Q8e(xV.bind(null,g)):s9(xV.bind(null,g)),j8e(function(){(Nr&6)===0&&iA()}),E=null;else{switch(ku(R)){case 1:E=Oi;break;case 4:E=Ge;break;case 16:E=An;break;case 536870912:E=Zi;break;default:E=An}E=TV(E,bV.bind(null,g))}g.callbackPriority=w,g.callbackNode=E}}function bV(g,w){if(AS=-1,fS=0,(Nr&6)!==0)throw Error(r(327));var E=g.callbackNode;if(Hp()&&g.callbackNode!==E)return null;var R=Fl(g,g===ro?go:0);if(R===0)return null;if((R&30)!==0||(R&g.expiredLanes)!==0||w)w=hS(g,R);else{w=R;var N=Nr;Nr|=2;var q=CV();(ro!==g||go!==w)&&(Hu=null,Qp=nr()+500,qf(g,w));do try{cWe();break}catch(le){SV(g,le)}while(!0);dO(),sS.current=q,Nr=N,Ri!==null?w=0:(ro=null,go=0,w=Qi)}if(w!==0){if(w===2&&(N=Yd(g),N!==0&&(R=N,w=VO(g,N))),w===1)throw E=ry,qf(g,0),dA(g,R),Na(g,nr()),E;if(w===6)dA(g,R);else{if(N=g.current.alternate,(R&30)===0&&!sWe(N)&&(w=hS(g,R),w===2&&(q=Yd(g),q!==0&&(R=q,w=VO(g,q))),w===1))throw E=ry,qf(g,0),dA(g,R),Na(g,nr()),E;switch(g.finishedWork=N,g.finishedLanes=R,w){case 0:case 1:throw Error(r(345));case 2:zf(g,La,Hu);break;case 3:if(dA(g,R),(R&130023424)===R&&(w=zO+500-nr(),10<w)){if(Fl(g,0)!==0)break;if(N=g.suspendedLanes,(N&R)!==R){ya(),g.pingedLanes|=g.suspendedLanes&N;break}g.timeoutHandle=eO(zf.bind(null,g,La,Hu),w);break}zf(g,La,Hu);break;case 4:if(dA(g,R),(R&4194240)===R)break;for(w=g.eventTimes,N=-1;0<R;){var Y=31-ga(R);q=1<<Y,Y=w[Y],Y>N&&(N=Y),R&=~q}if(R=N,R=nr()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*aWe(R/1960))-R,10<R){g.timeoutHandle=eO(zf.bind(null,g,La,Hu),R);break}zf(g,La,Hu);break;case 5:zf(g,La,Hu);break;default:throw Error(r(329))}}}return Na(g,nr()),g.callbackNode===E?bV.bind(null,g):null}function VO(g,w){var E=ny;return g.current.memoizedState.isDehydrated&&(qf(g,w).flags|=256),g=hS(g,w),g!==2&&(w=La,La=E,w!==null&&GO(w)),g}function GO(g){La===null?La=g:La.push.apply(La,g)}function sWe(g){for(var w=g;;){if(w.flags&16384){var E=w.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var R=0;R<E.length;R++){var N=E[R],q=N.getSnapshot;N=N.value;try{if(!jl(q(),N))return!1}catch{return!1}}}if(E=w.child,w.subtreeFlags&16384&&E!==null)E.return=w,w=E;else{if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function dA(g,w){for(w&=~qO,w&=~lS,g.suspendedLanes|=w,g.pingedLanes&=~w,g=g.expirationTimes;0<w;){var E=31-ga(w),R=1<<E;g[E]=-1,w&=~R}}function xV(g){if((Nr&6)!==0)throw Error(r(327));Hp();var w=Fl(g,0);if((w&1)===0)return Na(g,nr()),null;var E=hS(g,w);if(g.tag!==0&&E===2){var R=Yd(g);R!==0&&(w=R,E=VO(g,R))}if(E===1)throw E=ry,qf(g,0),dA(g,w),Na(g,nr()),E;if(E===6)throw Error(r(345));return g.finishedWork=g.current.alternate,g.finishedLanes=w,zf(g,La,Hu),Na(g,nr()),null}function YO(g,w){var E=Nr;Nr|=1;try{return g(w)}finally{Nr=E,Nr===0&&(Qp=nr()+500,$x&&iA())}}function Hf(g){cA!==null&&cA.tag===0&&(Nr&6)===0&&Hp();var w=Nr;Nr|=1;var E=Ys.transition,R=Ur;try{if(Ys.transition=null,Ur=1,g)return g()}finally{Ur=R,Ys.transition=E,Nr=w,(Nr&6)===0&&iA()}}function XO(){ds=$p.current,On($p)}function qf(g,w){g.finishedWork=null,g.finishedLanes=0;var E=g.timeoutHandle;if(E!==-1&&(g.timeoutHandle=-1,D8e(E)),Ri!==null)for(E=Ri.return;E!==null;){var R=E;switch(aO(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Lx();break;case 3:jp(),On(Ua),On(No),yO();break;case 5:mO(R);break;case 4:jp();break;case 13:On(Jn);break;case 19:On(Jn);break;case 10:AO(R.type._context);break;case 22:case 23:XO()}E=E.return}if(ro=g,Ri=g=AA(g.current,null),go=ds=w,Qi=0,ry=null,qO=lS=Qf=0,La=ny=null,Lf!==null){for(w=0;w<Lf.length;w++)if(E=Lf[w],R=E.interleaved,R!==null){E.interleaved=null;var N=R.next,q=E.pending;if(q!==null){var Y=q.next;q.next=N,R.next=Y}E.pending=R}Lf=null}return g}function SV(g,w){do{var E=Ri;try{if(dO(),Xx.current=tS,Jx){for(var R=Zn.memoizedState;R!==null;){var N=R.queue;N!==null&&(N.pending=null),R=R.next}Jx=!1}if($f=0,to=$i=Zn=null,Yv=!1,Xv=0,HO.current=null,E===null||E.return===null){Qi=1,ry=w,Ri=null;break}e:{var q=g,Y=E.return,le=E,Ae=w;if(w=go,le.flags|=32768,Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Me=Ae,et=le,at=et.tag;if((et.mode&1)===0&&(at===0||at===11||at===15)){var Xe=et.alternate;Xe?(et.updateQueue=Xe.updateQueue,et.memoizedState=Xe.memoizedState,et.lanes=Xe.lanes):(et.updateQueue=null,et.memoizedState=null)}var Ct=V9(Y);if(Ct!==null){Ct.flags&=-257,G9(Ct,Y,le,q,w),Ct.mode&1&&W9(q,Me,w),w=Ct,Ae=Me;var Rt=w.updateQueue;if(Rt===null){var Ut=new Set;Ut.add(Ae),w.updateQueue=Ut}else Rt.add(Ae);break e}else{if((w&1)===0){W9(q,Me,w),JO();break e}Ae=Error(r(426))}}else if(Nn&&le.mode&1){var vi=V9(Y);if(vi!==null){(vi.flags&65536)===0&&(vi.flags|=256),G9(vi,Y,le,q,w),cO(Lp(Ae,le));break e}}q=Ae=Lp(Ae,le),Qi!==4&&(Qi=2),ny===null?ny=[q]:ny.push(q),q=Y;do{switch(q.tag){case 3:q.flags|=65536,w&=-w,q.lanes|=w;var Ce=z9(q,Ae,w);v9(q,Ce);break e;case 1:le=Ae;var fe=q.type,Ie=q.stateNode;if((q.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(lA===null||!lA.has(Ie)))){q.flags|=65536,w&=-w,q.lanes|=w;var dt=K9(q,le,w);v9(q,dt);break e}}q=q.return}while(q!==null)}EV(E)}catch(Dt){w=Dt,Ri===E&&E!==null&&(Ri=E=E.return);continue}break}while(!0)}function CV(){var g=sS.current;return sS.current=tS,g===null?tS:g}function JO(){(Qi===0||Qi===3||Qi===2)&&(Qi=4),ro===null||(Qf&268435455)===0&&(lS&268435455)===0||dA(ro,go)}function hS(g,w){var E=Nr;Nr|=2;var R=CV();(ro!==g||go!==w)&&(Hu=null,qf(g,w));do try{lWe();break}catch(N){SV(g,N)}while(!0);if(dO(),Nr=E,sS.current=R,Ri!==null)throw Error(r(261));return ro=null,go=0,Qi}function lWe(){for(;Ri!==null;)_V(Ri)}function cWe(){for(;Ri!==null&&!_t();)_V(Ri)}function _V(g){var w=PV(g.alternate,g,ds);g.memoizedProps=g.pendingProps,w===null?EV(g):Ri=w,HO.current=null}function EV(g){var w=g;do{var E=w.alternate;if(g=w.return,(w.flags&32768)===0){if(E=tWe(E,w,ds),E!==null){Ri=E;return}}else{if(E=rWe(E,w),E!==null){E.flags&=32767,Ri=E;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{Qi=6,Ri=null;return}}if(w=w.sibling,w!==null){Ri=w;return}Ri=w=g}while(w!==null);Qi===0&&(Qi=5)}function zf(g,w,E){var R=Ur,N=Ys.transition;try{Ys.transition=null,Ur=1,uWe(g,w,E,R)}finally{Ys.transition=N,Ur=R}return null}function uWe(g,w,E,R){do Hp();while(cA!==null);if((Nr&6)!==0)throw Error(r(327));E=g.finishedWork;var N=g.finishedLanes;if(E===null)return null;if(g.finishedWork=null,g.finishedLanes=0,E===g.current)throw Error(r(177));g.callbackNode=null,g.callbackPriority=0;var q=E.lanes|E.childLanes;if(kT(g,q),g===ro&&(Ri=ro=null,go=0),(E.subtreeFlags&2064)===0&&(E.flags&2064)===0||uS||(uS=!0,TV(An,function(){return Hp(),null})),q=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||q){q=Ys.transition,Ys.transition=null;var Y=Ur;Ur=1;var le=Nr;Nr|=4,HO.current=null,iWe(g,E),gV(E,g),T8e(JT),ge=!!XT,JT=XT=null,g.current=E,oWe(E),dn(),Nr=le,Ur=Y,Ys.transition=q}else g.current=E;if(uS&&(uS=!1,cA=g,dS=N),q=g.pendingLanes,q===0&&(lA=null),Fu(E.stateNode),Na(g,nr()),w!==null)for(R=g.onRecoverableError,E=0;E<w.length;E++)N=w[E],R(N.value,{componentStack:N.stack,digest:N.digest});if(cS)throw cS=!1,g=KO,KO=null,g;return(dS&1)!==0&&g.tag!==0&&Hp(),q=g.pendingLanes,(q&1)!==0?g===WO?iy++:(iy=0,WO=g):iy=0,iA(),null}function Hp(){if(cA!==null){var g=ku(dS),w=Ys.transition,E=Ur;try{if(Ys.transition=null,Ur=16>g?16:g,cA===null)var R=!1;else{if(g=cA,cA=null,dS=0,(Nr&6)!==0)throw Error(r(331));var N=Nr;for(Nr|=4,Pt=g.current;Pt!==null;){var q=Pt,Y=q.child;if((Pt.flags&16)!==0){var le=q.deletions;if(le!==null){for(var Ae=0;Ae<le.length;Ae++){var Me=le[Ae];for(Pt=Me;Pt!==null;){var et=Pt;switch(et.tag){case 0:case 11:case 15:ty(8,et,q)}var at=et.child;if(at!==null)at.return=et,Pt=at;else for(;Pt!==null;){et=Pt;var Xe=et.sibling,Ct=et.return;if(dV(et),et===Me){Pt=null;break}if(Xe!==null){Xe.return=Ct,Pt=Xe;break}Pt=Ct}}}var Rt=q.alternate;if(Rt!==null){var Ut=Rt.child;if(Ut!==null){Rt.child=null;do{var vi=Ut.sibling;Ut.sibling=null,Ut=vi}while(Ut!==null)}}Pt=q}}if((q.subtreeFlags&2064)!==0&&Y!==null)Y.return=q,Pt=Y;else e:for(;Pt!==null;){if(q=Pt,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:ty(9,q,q.return)}var Ce=q.sibling;if(Ce!==null){Ce.return=q.return,Pt=Ce;break e}Pt=q.return}}var fe=g.current;for(Pt=fe;Pt!==null;){Y=Pt;var Ie=Y.child;if((Y.subtreeFlags&2064)!==0&&Ie!==null)Ie.return=Y,Pt=Ie;else e:for(Y=fe;Pt!==null;){if(le=Pt,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:aS(9,le)}}catch(Dt){li(le,le.return,Dt)}if(le===Y){Pt=null;break e}var dt=le.sibling;if(dt!==null){dt.return=le.return,Pt=dt;break e}Pt=le.return}}if(Nr=N,iA(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(Rl,g)}catch{}R=!0}return R}finally{Ur=E,Ys.transition=w}}return!1}function IV(g,w,E){w=Lp(E,w),w=z9(g,w,1),g=aA(g,w,1),w=ya(),g!==null&&(Of(g,1,w),Na(g,w))}function li(g,w,E){if(g.tag===3)IV(g,g,E);else for(;w!==null;){if(w.tag===3){IV(w,g,E);break}else if(w.tag===1){var R=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(lA===null||!lA.has(R))){g=Lp(E,g),g=K9(w,g,1),w=aA(w,g,1),g=ya(),w!==null&&(Of(w,1,g),Na(w,g));break}}w=w.return}}function dWe(g,w,E){var R=g.pingCache;R!==null&&R.delete(w),w=ya(),g.pingedLanes|=g.suspendedLanes&E,ro===g&&(go&E)===E&&(Qi===4||Qi===3&&(go&130023424)===go&&500>nr()-zO?qf(g,0):qO|=E),Na(g,w)}function BV(g,w){w===0&&((g.mode&1)===0?w=1:(w=zs,zs<<=1,(zs&130023424)===0&&(zs=4194304)));var E=ya();g=Nu(g,w),g!==null&&(Of(g,w,E),Na(g,E))}function AWe(g){var w=g.memoizedState,E=0;w!==null&&(E=w.retryLane),BV(g,E)}function fWe(g,w){var E=0;switch(g.tag){case 13:var R=g.stateNode,N=g.memoizedState;N!==null&&(E=N.retryLane);break;case 19:R=g.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(w),BV(g,E)}var PV;PV=function(g,w,E){if(g!==null)if(g.memoizedProps!==w.pendingProps||Ua.current)ja=!0;else{if((g.lanes&E)===0&&(w.flags&128)===0)return ja=!1,eWe(g,w,E);ja=(g.flags&131072)!==0}else ja=!1,Nn&&(w.flags&1048576)!==0&&l9(w,Hx,w.index);switch(w.lanes=0,w.tag){case 2:var R=w.type;iS(g,w),g=w.pendingProps;var N=Op(w,No.current);Dp(w,E),N=xO(null,w,R,g,N,E);var q=SO();return w.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,Da(R)?(q=!0,Nx(w)):q=!1,w.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,pO(w),N.updater=rS,w.stateNode=N,N._reactInternals=w,PO(w,R,g,E),w=MO(null,w,R,!0,q,E)):(w.tag=0,Nn&&q&&oO(w),va(null,w,N,E),w=w.child),w;case 16:R=w.elementType;e:{switch(iS(g,w),g=w.pendingProps,N=R._init,R=N(R._payload),w.type=R,N=w.tag=pWe(R),g=Nl(R,g),N){case 0:w=RO(null,w,R,g,E);break e;case 1:w=tV(null,w,R,g,E);break e;case 11:w=Y9(null,w,R,g,E);break e;case 14:w=X9(null,w,R,Nl(R.type,g),E);break e}throw Error(r(306,R,""))}return w;case 0:return R=w.type,N=w.pendingProps,N=w.elementType===R?N:Nl(R,N),RO(g,w,R,N,E);case 1:return R=w.type,N=w.pendingProps,N=w.elementType===R?N:Nl(R,N),tV(g,w,R,N,E);case 3:e:{if(rV(w),g===null)throw Error(r(387));R=w.pendingProps,q=w.memoizedState,N=q.element,m9(g,w),Gx(w,R,null,E);var Y=w.memoizedState;if(R=Y.element,q.isDehydrated)if(q={element:R,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},w.updateQueue.baseState=q,w.memoizedState=q,w.flags&256){N=Lp(Error(r(423)),w),w=nV(g,w,R,E,N);break e}else if(R!==N){N=Lp(Error(r(424)),w),w=nV(g,w,R,E,N);break e}else for(us=tA(w.stateNode.containerInfo.firstChild),cs=w,Nn=!0,Ll=null,E=p9(w,null,R,E),w.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Fp(),R===N){w=Qu(g,w,E);break e}va(g,w,R,E)}w=w.child}return w;case 5:return w9(w),g===null&&lO(w),R=w.type,N=w.pendingProps,q=g!==null?g.memoizedProps:null,Y=N.children,ZT(R,N)?Y=null:q!==null&&ZT(R,q)&&(w.flags|=32),eV(g,w),va(g,w,Y,E),w.child;case 6:return g===null&&lO(w),null;case 13:return iV(g,w,E);case 4:return gO(w,w.stateNode.containerInfo),R=w.pendingProps,g===null?w.child=kp(w,null,R,E):va(g,w,R,E),w.child;case 11:return R=w.type,N=w.pendingProps,N=w.elementType===R?N:Nl(R,N),Y9(g,w,R,N,E);case 7:return va(g,w,w.pendingProps,E),w.child;case 8:return va(g,w,w.pendingProps.children,E),w.child;case 12:return va(g,w,w.pendingProps.children,E),w.child;case 10:e:{if(R=w.type._context,N=w.pendingProps,q=w.memoizedProps,Y=N.value,xn(Kx,R._currentValue),R._currentValue=Y,q!==null)if(jl(q.value,Y)){if(q.children===N.children&&!Ua.current){w=Qu(g,w,E);break e}}else for(q=w.child,q!==null&&(q.return=w);q!==null;){var le=q.dependencies;if(le!==null){Y=q.child;for(var Ae=le.firstContext;Ae!==null;){if(Ae.context===R){if(q.tag===1){Ae=$u(-1,E&-E),Ae.tag=2;var Me=q.updateQueue;if(Me!==null){Me=Me.shared;var et=Me.pending;et===null?Ae.next=Ae:(Ae.next=et.next,et.next=Ae),Me.pending=Ae}}q.lanes|=E,Ae=q.alternate,Ae!==null&&(Ae.lanes|=E),fO(q.return,E,w),le.lanes|=E;break}Ae=Ae.next}}else if(q.tag===10)Y=q.type===w.type?null:q.child;else if(q.tag===18){if(Y=q.return,Y===null)throw Error(r(341));Y.lanes|=E,le=Y.alternate,le!==null&&(le.lanes|=E),fO(Y,E,w),Y=q.sibling}else Y=q.child;if(Y!==null)Y.return=q;else for(Y=q;Y!==null;){if(Y===w){Y=null;break}if(q=Y.sibling,q!==null){q.return=Y.return,Y=q;break}Y=Y.return}q=Y}va(g,w,N.children,E),w=w.child}return w;case 9:return N=w.type,R=w.pendingProps.children,Dp(w,E),N=Vs(N),R=R(N),w.flags|=1,va(g,w,R,E),w.child;case 14:return R=w.type,N=Nl(R,w.pendingProps),N=Nl(R.type,N),X9(g,w,R,N,E);case 15:return J9(g,w,w.type,w.pendingProps,E);case 17:return R=w.type,N=w.pendingProps,N=w.elementType===R?N:Nl(R,N),iS(g,w),w.tag=1,Da(R)?(g=!0,Nx(w)):g=!1,Dp(w,E),H9(w,R,N),PO(w,R,N,E),MO(null,w,R,!0,g,E);case 19:return aV(g,w,E);case 22:return Z9(g,w,E)}throw Error(r(156,w.tag))};function TV(g,w){return ze(g,w)}function hWe(g,w,E,R){this.tag=g,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(g,w,E,R){return new hWe(g,w,E,R)}function ZO(g){return g=g.prototype,!(!g||!g.isReactComponent)}function pWe(g){if(typeof g=="function")return ZO(g)?1:0;if(g!=null){if(g=g.$$typeof,g===U)return 11;if(g===D)return 14}return 2}function AA(g,w){var E=g.alternate;return E===null?(E=Xs(g.tag,w,g.key,g.mode),E.elementType=g.elementType,E.type=g.type,E.stateNode=g.stateNode,E.alternate=g,g.alternate=E):(E.pendingProps=w,E.type=g.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=g.flags&14680064,E.childLanes=g.childLanes,E.lanes=g.lanes,E.child=g.child,E.memoizedProps=g.memoizedProps,E.memoizedState=g.memoizedState,E.updateQueue=g.updateQueue,w=g.dependencies,E.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},E.sibling=g.sibling,E.index=g.index,E.ref=g.ref,E}function pS(g,w,E,R,N,q){var Y=2;if(R=g,typeof g=="function")ZO(g)&&(Y=1);else if(typeof g=="string")Y=5;else e:switch(g){case B:return Kf(E.children,N,q,w);case T:Y=8,N|=8;break;case O:return g=Xs(12,E,w,N|2),g.elementType=O,g.lanes=q,g;case k:return g=Xs(13,E,w,N),g.elementType=k,g.lanes=q,g;case M:return g=Xs(19,E,w,N),g.elementType=M,g.lanes=q,g;case $:return gS(E,N,q,w);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case P:Y=10;break e;case F:Y=9;break e;case U:Y=11;break e;case D:Y=14;break e;case j:Y=16,R=null;break e}throw Error(r(130,g==null?g:typeof g,""))}return w=Xs(Y,E,w,N),w.elementType=g,w.type=R,w.lanes=q,w}function Kf(g,w,E,R){return g=Xs(7,g,R,w),g.lanes=E,g}function gS(g,w,E,R){return g=Xs(22,g,R,w),g.elementType=$,g.lanes=E,g.stateNode={isHidden:!1},g}function eR(g,w,E){return g=Xs(6,g,null,w),g.lanes=E,g}function tR(g,w,E){return w=Xs(4,g.children!==null?g.children:[],g.key,w),w.lanes=E,w.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},w}function gWe(g,w,E,R,N){this.tag=w,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wp(0),this.expirationTimes=wp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wp(0),this.identifierPrefix=R,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function rR(g,w,E,R,N,q,Y,le,Ae){return g=new gWe(g,w,E,le,Ae),w===1?(w=1,q===!0&&(w|=8)):w=0,q=Xs(3,null,null,w),g.current=q,q.stateNode=g,q.memoizedState={element:R,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},pO(q),g}function mWe(g,w,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:R==null?null:""+R,children:g,containerInfo:w,implementation:E}}function OV(g){if(!g)return nA;g=g._reactInternals;e:{if(ha(g)!==g||g.tag!==1)throw Error(r(170));var w=g;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(Da(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(r(171))}if(g.tag===1){var E=g.type;if(Da(E))return o9(g,E,w)}return w}function RV(g,w,E,R,N,q,Y,le,Ae){return g=rR(E,R,!0,g,N,q,Y,le,Ae),g.context=OV(null),E=g.current,R=ya(),N=uA(E),q=$u(R,N),q.callback=w??null,aA(E,q,N),g.current.lanes=N,Of(g,N,R),Na(g,R),g}function mS(g,w,E,R){var N=w.current,q=ya(),Y=uA(N);return E=OV(E),w.context===null?w.context=E:w.pendingContext=E,w=$u(q,Y),w.payload={element:g},R=R===void 0?null:R,R!==null&&(w.callback=R),g=aA(N,w,Y),g!==null&&(Hl(g,N,Y,q),Vx(g,N,Y)),Y}function vS(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return g.child.stateNode;default:return g.child.stateNode}}function MV(g,w){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var E=g.retryLane;g.retryLane=E!==0&&E<w?E:w}}function nR(g,w){MV(g,w),(g=g.alternate)&&MV(g,w)}function vWe(){return null}var FV=typeof reportError=="function"?reportError:function(g){console.error(g)};function iR(g){this._internalRoot=g}yS.prototype.render=iR.prototype.render=function(g){var w=this._internalRoot;if(w===null)throw Error(r(409));mS(g,w,null,null)},yS.prototype.unmount=iR.prototype.unmount=function(){var g=this._internalRoot;if(g!==null){this._internalRoot=null;var w=g.containerInfo;Hf(function(){mS(null,g,null,null)}),w[Uu]=null}};function yS(g){this._internalRoot=g}yS.prototype.unstable_scheduleHydration=function(g){if(g){var w=Ex();g={blockedOn:null,target:g,priority:w};for(var E=0;E<Tc.length&&w!==0&&w<Tc[E].priority;E++);Tc.splice(E,0,g),E===0&&Mv(g)}};function oR(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)}function wS(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11&&(g.nodeType!==8||g.nodeValue!==" react-mount-point-unstable "))}function kV(){}function yWe(g,w,E,R,N){if(N){if(typeof R=="function"){var q=R;R=function(){var Me=vS(Y);q.call(Me)}}var Y=RV(w,R,g,0,null,!1,!1,"",kV);return g._reactRootContainer=Y,g[Uu]=Y.current,Qv(g.nodeType===8?g.parentNode:g),Hf(),Y}for(;N=g.lastChild;)g.removeChild(N);if(typeof R=="function"){var le=R;R=function(){var Me=vS(Ae);le.call(Me)}}var Ae=rR(g,0,!1,null,null,!1,!1,"",kV);return g._reactRootContainer=Ae,g[Uu]=Ae.current,Qv(g.nodeType===8?g.parentNode:g),Hf(function(){mS(w,Ae,E,R)}),Ae}function bS(g,w,E,R,N){var q=E._reactRootContainer;if(q){var Y=q;if(typeof N=="function"){var le=N;N=function(){var Ae=vS(Y);le.call(Ae)}}mS(w,Y,g,N)}else Y=yWe(E,w,g,N,R);return vS(Y)}_x=function(g){switch(g.tag){case 3:var w=g.stateNode;if(w.current.memoizedState.isDehydrated){var E=Ic(w.pendingLanes);E!==0&&(bp(w,E|1),Na(w,nr()),(Nr&6)===0&&(Qp=nr()+500,iA()))}break;case 13:Hf(function(){var R=Nu(g,1);if(R!==null){var N=ya();Hl(R,g,1,N)}}),nR(g,1)}},Tv=function(g){if(g.tag===13){var w=Nu(g,134217728);if(w!==null){var E=ya();Hl(w,g,134217728,E)}nR(g,134217728)}},kl=function(g){if(g.tag===13){var w=uA(g),E=Nu(g,w);if(E!==null){var R=ya();Hl(E,g,w,R)}nR(g,w)}},Ex=function(){return Ur},Ix=function(g,w){var E=Ur;try{return Ur=g,w()}finally{Ur=E}},Je=function(g,w,E){switch(w){case"input":if(Ne(g,E),w=E.name,E.type==="radio"&&w!=null){for(E=g;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<E.length;w++){var R=E[w];if(R!==g&&R.form===g.form){var N=jx(R);if(!N)throw Error(r(90));re(R),Ne(R,N)}}}break;case"textarea":Ze(g,E);break;case"select":w=E.value,w!=null&&Te(g,!!E.multiple,w,!1)}},pr=YO,Pn=Hf;var wWe={usingClientEntryPoint:!1,Events:[zv,Pp,jx,sr,xr,YO]},oy={findFiberByHostInstance:kf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bWe={bundleType:oy.bundleType,version:oy.version,rendererPackageName:oy.rendererPackageName,rendererConfig:oy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(g){return g=Fe(g),g===null?null:g.stateNode},findFiberByHostInstance:oy.findFiberByHostInstance||vWe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xS.isDisabled&&xS.supportsFiber)try{Rl=xS.inject(bWe),fo=xS}catch{}}return $a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wWe,$a.createPortal=function(g,w){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oR(w))throw Error(r(200));return mWe(g,w,null,E)},$a.createRoot=function(g,w){if(!oR(g))throw Error(r(299));var E=!1,R="",N=FV;return w!=null&&(w.unstable_strictMode===!0&&(E=!0),w.identifierPrefix!==void 0&&(R=w.identifierPrefix),w.onRecoverableError!==void 0&&(N=w.onRecoverableError)),w=rR(g,1,!1,null,null,E,!1,R,N),g[Uu]=w.current,Qv(g.nodeType===8?g.parentNode:g),new iR(w)},$a.findDOMNode=function(g){if(g==null)return null;if(g.nodeType===1)return g;var w=g._reactInternals;if(w===void 0)throw typeof g.render=="function"?Error(r(188)):(g=Object.keys(g).join(","),Error(r(268,g)));return g=Fe(w),g=g===null?null:g.stateNode,g},$a.flushSync=function(g){return Hf(g)},$a.hydrate=function(g,w,E){if(!wS(w))throw Error(r(200));return bS(null,g,w,!0,E)},$a.hydrateRoot=function(g,w,E){if(!oR(g))throw Error(r(405));var R=E!=null&&E.hydratedSources||null,N=!1,q="",Y=FV;if(E!=null&&(E.unstable_strictMode===!0&&(N=!0),E.identifierPrefix!==void 0&&(q=E.identifierPrefix),E.onRecoverableError!==void 0&&(Y=E.onRecoverableError)),w=RV(w,null,g,1,E??null,N,!1,q,Y),g[Uu]=w.current,Qv(g),R)for(g=0;g<R.length;g++)E=R[g],N=E._getVersion,N=N(E._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[E,N]:w.mutableSourceEagerHydrationData.push(E,N);return new yS(w)},$a.render=function(g,w,E){if(!wS(w))throw Error(r(200));return bS(null,g,w,!1,E)},$a.unmountComponentAtNode=function(g){if(!wS(g))throw Error(r(40));return g._reactRootContainer?(Hf(function(){bS(null,null,g,!1,function(){g._reactRootContainer=null,g[Uu]=null})}),!0):!1},$a.unstable_batchedUpdates=YO,$a.unstable_renderSubtreeIntoContainer=function(g,w,E,R){if(!wS(E))throw Error(r(200));if(g==null||g._reactInternals===void 0)throw Error(r(38));return bS(g,w,E,!1,R)},$a.version="18.3.1-next-f1338f8080-20240426",$a}var HV;function bTe(){if(HV)return lR.exports;HV=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lR.exports=OWe(),lR.exports}var qV;function RWe(){if(qV)return SS;qV=1;var e=bTe();return SS.createRoot=e.createRoot,SS.hydrateRoot=e.hydrateRoot,SS}var xTe=RWe(),sy={},zV;function MWe(){if(zV)return sy;zV=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.parse=a,sy.serialize=c;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function a(A,f){const h=new o,p=A.length;if(p<2)return h;const v=(f==null?void 0:f.decode)||u;let y=0;do{const b=A.indexOf("=",y);if(b===-1)break;const x=A.indexOf(";",y),S=x===-1?p:x;if(b>S){y=A.lastIndexOf(";",b-1)+1;continue}const C=s(A,y,b),_=l(A,b,C),B=A.slice(C,_);if(h[B]===void 0){let T=s(A,b+1,S),O=l(A,S,T);const P=v(A.slice(T,O));h[B]=P}y=S+1}while(y<p);return h}function s(A,f,h){do{const p=A.charCodeAt(f);if(p!==32&&p!==9)return f}while(++f<h);return h}function l(A,f,h){for(;f>h;){const p=A.charCodeAt(--f);if(p!==32&&p!==9)return f+1}return h}function c(A,f,h){const p=(h==null?void 0:h.encode)||encodeURIComponent;if(!e.test(A))throw new TypeError(`argument name is invalid: ${A}`);const v=p(f);if(!t.test(v))throw new TypeError(`argument val is invalid: ${f}`);let y=A+"="+v;if(!h)return y;if(h.maxAge!==void 0){if(!Number.isInteger(h.maxAge))throw new TypeError(`option maxAge is invalid: ${h.maxAge}`);y+="; Max-Age="+h.maxAge}if(h.domain){if(!r.test(h.domain))throw new TypeError(`option domain is invalid: ${h.domain}`);y+="; Domain="+h.domain}if(h.path){if(!n.test(h.path))throw new TypeError(`option path is invalid: ${h.path}`);y+="; Path="+h.path}if(h.expires){if(!d(h.expires)||!Number.isFinite(h.expires.valueOf()))throw new TypeError(`option expires is invalid: ${h.expires}`);y+="; Expires="+h.expires.toUTCString()}if(h.httpOnly&&(y+="; HttpOnly"),h.secure&&(y+="; Secure"),h.partitioned&&(y+="; Partitioned"),h.priority)switch(typeof h.priority=="string"?h.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${h.priority}`)}if(h.sameSite)switch(typeof h.sameSite=="string"?h.sameSite.toLowerCase():h.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${h.sameSite}`)}return y}function u(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function d(A){return i.call(A)==="[object Date]"}return sy}MWe();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KV="popstate";function FWe(e={}){function t(n,i){let{pathname:o,search:a,hash:s}=n.location;return BQ("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:q0(i)}return UWe(t,r,null,e)}function Vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ac(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kWe(){return Math.random().toString(36).substring(2,10)}function WV(e,t){return{usr:e.state,key:e.key,idx:t}}function BQ(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lm(t):t,state:r,key:t&&t.key||n||kWe()}}function q0({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function UWe(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,s="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){s="POP";let v=u(),y=v==null?null:v-c;c=v,l&&l({action:s,location:p.location,delta:y})}function A(v,y){s="PUSH";let b=BQ(p.location,v,y);c=u()+1;let x=WV(b,c),S=p.createHref(b);try{a.pushState(x,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}o&&l&&l({action:s,location:p.location,delta:1})}function f(v,y){s="REPLACE";let b=BQ(p.location,v,y);c=u();let x=WV(b,c),S=p.createHref(b);a.replaceState(x,"",S),o&&l&&l({action:s,location:p.location,delta:0})}function h(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:q0(v);return b=b.replace(/ $/,"%20"),Vn(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let p={get action(){return s},get location(){return e(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(KV,d),l=v,()=>{i.removeEventListener(KV,d),l=null}},createHref(v){return t(i,v)},createURL:h,encodeLocation(v){let y=h(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:A,replace:f,go(v){return a.go(v)}};return p}function STe(e,t,r="/"){return DWe(e,t,r,!1)}function DWe(e,t,r,n){let i=typeof t=="string"?Lm(t):t,o=Cd(i.pathname||"/",r);if(o==null)return null;let a=CTe(e);jWe(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=GWe(o);s=WWe(a[l],c,n)}return s}function CTe(e,t=[],r=[],n=""){let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Vn(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=dd([n,l.relativePath]),u=r.concat(l);o.children&&o.children.length>0&&(Vn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),CTe(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:zWe(c,o.index),routesMeta:u})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of _Te(o.path))i(o,a,l)}),t}function _Te(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=_Te(n.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function jWe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:KWe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var LWe=/^:[\w-]+$/,NWe=3,$We=2,QWe=1,HWe=10,qWe=-2,VV=e=>e==="*";function zWe(e,t){let r=e.split("/"),n=r.length;return r.some(VV)&&(n+=qWe),t&&(n+=$We),r.filter(i=>!VV(i)).reduce((i,o)=>i+(LWe.test(o)?NWe:o===""?QWe:HWe),n)}function KWe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function WWe(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",a=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=a_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),A=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=a_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:dd([o,d.pathname]),pathnameBase:ZWe(dd([o,d.pathnameBase])),route:A}),d.pathnameBase!=="/"&&(o=dd([o,d.pathnameBase]))}return a}function a_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=VWe(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},A)=>{if(u==="*"){let h=s[A]||"";a=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}const f=s[A];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function VWe(e,t=!1,r=!0){ac(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function GWe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ac(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function YWe(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Lm(e):e;return{pathname:r?r.startsWith("/")?r:XWe(r,t):t,search:e9e(n),hash:t9e(i)}}function XWe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function dR(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JWe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cq(e){let t=JWe(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function uq(e,t,r,n=!1){let i;typeof e=="string"?i=Lm(e):(i={...e},Vn(!i.pathname||!i.pathname.includes("?"),dR("?","pathname","search",i)),Vn(!i.pathname||!i.pathname.includes("#"),dR("#","pathname","hash",i)),Vn(!i.search||!i.search.includes("#"),dR("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let A=a.split("/");for(;A[0]==="..";)A.shift(),d-=1;i.pathname=A.join("/")}s=d>=0?t[d]:"/"}let l=YWe(i,s),c=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var dd=e=>e.join("/").replace(/\/\/+/g,"/"),ZWe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e9e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t9e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r9e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ETe=["POST","PUT","PATCH","DELETE"];new Set(ETe);var n9e=["GET",...ETe];new Set(n9e);var Nm=I.createContext(null);Nm.displayName="DataRouter";var mI=I.createContext(null);mI.displayName="DataRouterState";var ITe=I.createContext({isTransitioning:!1});ITe.displayName="ViewTransition";var i9e=I.createContext(new Map);i9e.displayName="Fetchers";var o9e=I.createContext(null);o9e.displayName="Await";var uc=I.createContext(null);uc.displayName="Navigation";var cb=I.createContext(null);cb.displayName="Location";var dc=I.createContext({outlet:null,matches:[],isDataRoute:!1});dc.displayName="Route";var dq=I.createContext(null);dq.displayName="RouteError";function a9e(e,{relative:t}={}){Vn($m(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=I.useContext(uc),{hash:i,pathname:o,search:a}=ub(e,{relative:t}),s=o;return r!=="/"&&(s=o==="/"?r:dd([r,o])),n.createHref({pathname:s,search:a,hash:i})}function $m(){return I.useContext(cb)!=null}function sf(){return Vn($m(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(cb).location}var BTe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PTe(e){I.useContext(uc).static||I.useLayoutEffect(e)}function Wh(){let{isDataRoute:e}=I.useContext(dc);return e?b9e():s9e()}function s9e(){Vn($m(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(Nm),{basename:t,navigator:r}=I.useContext(uc),{matches:n}=I.useContext(dc),{pathname:i}=sf(),o=JSON.stringify(cq(n)),a=I.useRef(!1);return PTe(()=>{a.current=!0}),I.useCallback((l,c={})=>{if(ac(a.current,BTe),!a.current)return;if(typeof l=="number"){r.go(l);return}let u=uq(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:dd([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,o,i,e])}var l9e=I.createContext(null);function c9e(e){let t=I.useContext(dc).outlet;return t&&I.createElement(l9e.Provider,{value:e},t)}function ub(e,{relative:t}={}){let{matches:r}=I.useContext(dc),{pathname:n}=sf(),i=JSON.stringify(cq(r));return I.useMemo(()=>uq(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function u9e(e,t){return TTe(e,t)}function TTe(e,t,r,n){var b;Vn($m(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=I.useContext(uc),{matches:a}=I.useContext(dc),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let x=d&&d.path||"";OTe(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let A=sf(),f;if(t){let x=typeof t=="string"?Lm(t):t;Vn(u==="/"||((b=x.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),f=x}else f=A;let h=f.pathname||"/",p=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!o&&r&&r.matches&&r.matches.length>0?r.matches:STe(e,{pathname:p});ac(d||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ac(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=p9e(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:dd([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:dd([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&y?I.createElement(cb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function d9e(){let e=w9e(),t=r9e(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:i},r):null,a)}var A9e=I.createElement(d9e,null),f9e=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(dc.Provider,{value:this.props.routeContext},I.createElement(dq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h9e({routeContext:e,match:t,children:r}){let n=I.useContext(Nm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(dc.Provider,{value:e},r)}function p9e(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Vn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,s=-1;if(r)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(s=l),c.route.id){let{loaderData:u,errors:d}=r,A=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||A){a=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,A=!1,f=null,h=null;r&&(d=o&&c.route.id?o[c.route.id]:void 0,f=c.route.errorElement||A9e,a&&(s<0&&u===0?(OTe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,h=null):s===u&&(A=!0,h=c.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,u+1)),v=()=>{let y;return d?y=f:A?y=h:c.route.Component?y=I.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,I.createElement(h9e,{match:c,routeContext:{outlet:l,matches:p,isDataRoute:r!=null},children:y})};return r&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?I.createElement(f9e,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}function Aq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g9e(e){let t=I.useContext(Nm);return Vn(t,Aq(e)),t}function m9e(e){let t=I.useContext(mI);return Vn(t,Aq(e)),t}function v9e(e){let t=I.useContext(dc);return Vn(t,Aq(e)),t}function fq(e){let t=v9e(e),r=t.matches[t.matches.length-1];return Vn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function y9e(){return fq("useRouteId")}function w9e(){var n;let e=I.useContext(dq),t=m9e("useRouteError"),r=fq("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function b9e(){let{router:e}=g9e("useNavigate"),t=fq("useNavigate"),r=I.useRef(!1);return PTe(()=>{r.current=!0}),I.useCallback(async(i,o={})=>{ac(r.current,BTe),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var GV={};function OTe(e,t,r){!t&&!GV[e]&&(GV[e]=!0,ac(!1,r))}I.memo(x9e);function x9e({routes:e,future:t,state:r}){return TTe(e,void 0,r,t)}function S9e({to:e,replace:t,state:r,relative:n}){Vn($m(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(uc);ac(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=I.useContext(dc),{pathname:a}=sf(),s=Wh(),l=uq(e,cq(o),a,n==="path"),c=JSON.stringify(l);return I.useEffect(()=>{s(JSON.parse(c),{replace:t,state:r,relative:n})},[s,c,n,t,r]),null}function C9e(e){return c9e(e.context)}function As(e){Vn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _9e({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){Vn(!$m(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),s=I.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof r=="string"&&(r=Lm(r));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:A="default"}=r,f=I.useMemo(()=>{let h=Cd(l,a);return h==null?null:{location:{pathname:h,search:c,hash:u,state:d,key:A},navigationType:n}},[a,l,c,u,d,A,n]);return ac(f!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:I.createElement(uc.Provider,{value:s},I.createElement(cb.Provider,{children:t,value:f}))}function E9e({children:e,location:t}){return u9e(PQ(e),t)}function PQ(e,t=[]){let r=[];return I.Children.forEach(e,(n,i)=>{if(!I.isValidElement(n))return;let o=[...t,i];if(n.type===I.Fragment){r.push.apply(r,PQ(n.props.children,o));return}Vn(n.type===As,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=PQ(n.props.children,o)),r.push(a)}),r}var lC="get",cC="application/x-www-form-urlencoded";function vI(e){return e!=null&&typeof e.tagName=="string"}function I9e(e){return vI(e)&&e.tagName.toLowerCase()==="button"}function B9e(e){return vI(e)&&e.tagName.toLowerCase()==="form"}function P9e(e){return vI(e)&&e.tagName.toLowerCase()==="input"}function T9e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O9e(e,t){return e.button===0&&(!t||t==="_self")&&!T9e(e)}var CS=null;function R9e(){if(CS===null)try{new FormData(document.createElement("form"),0),CS=!1}catch{CS=!0}return CS}var M9e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function AR(e){return e!=null&&!M9e.has(e)?(ac(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cC}"`),null):e}function F9e(e,t){let r,n,i,o,a;if(B9e(e)){let s=e.getAttribute("action");n=s?Cd(s,t):null,r=e.getAttribute("method")||lC,i=AR(e.getAttribute("enctype"))||cC,o=new FormData(e)}else if(I9e(e)||P9e(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(n=l?Cd(l,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||lC,i=AR(e.getAttribute("formenctype"))||AR(s.getAttribute("enctype"))||cC,o=new FormData(s,e),!R9e()){let{name:c,type:u,value:d}=e;if(u==="image"){let A=c?`${c}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else c&&o.append(c,d)}}else{if(vI(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=lC,n=null,i=cC,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:a}}function hq(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function k9e(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U9e(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function D9e(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await k9e(o,r);return a.links?a.links():[]}return[]}));return $9e(n.flat(1).filter(U9e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YV(e,t,r,n,i,o){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,s=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,c)=>a(l,c)||s(l,c)):o==="data"?t.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let A=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function j9e(e,t,{includeHydrateFallback:r}={}){return L9e(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function L9e(e){return[...new Set(e)]}function N9e(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function $9e(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(N9e(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}function Q9e(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Cd(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function RTe(){let e=I.useContext(Nm);return hq(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function H9e(){let e=I.useContext(mI);return hq(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var pq=I.createContext(void 0);pq.displayName="FrameworkContext";function MTe(){let e=I.useContext(pq);return hq(e,"You must render this element inside a <HydratedRouter> element"),e}function q9e(e,t){let r=I.useContext(pq),[n,i]=I.useState(!1),[o,a]=I.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,A=I.useRef(null);I.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let p=y=>{y.forEach(b=>{a(b.isIntersecting)})},v=new IntersectionObserver(p,{threshold:.5});return A.current&&v.observe(A.current),()=>{v.disconnect()}}},[e]),I.useEffect(()=>{if(n){let p=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(p)}}},[n]);let f=()=>{i(!0)},h=()=>{i(!1),a(!1)};return r?e!=="intent"?[o,A,{}]:[o,A,{onFocus:ly(s,f),onBlur:ly(l,h),onMouseEnter:ly(c,f),onMouseLeave:ly(u,h),onTouchStart:ly(d,f)}]:[!1,A,{}]}function ly(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function z9e({page:e,...t}){let{router:r}=RTe(),n=I.useMemo(()=>STe(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?I.createElement(W9e,{page:e,matches:n,...t}):null}function K9e(e){let{manifest:t,routeModules:r}=MTe(),[n,i]=I.useState([]);return I.useEffect(()=>{let o=!1;return D9e(e,t,r).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,r]),n}function W9e({page:e,matches:t,...r}){let n=sf(),{manifest:i,routeModules:o}=MTe(),{basename:a}=RTe(),{loaderData:s,matches:l}=H9e(),c=I.useMemo(()=>YV(e,t,l,i,n,"data"),[e,t,l,i,n]),u=I.useMemo(()=>YV(e,t,l,i,n,"assets"),[e,t,l,i,n]),d=I.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let h=new Set,p=!1;if(t.forEach(y=>{var x;let b=i.routes[y.route.id];!b||!b.hasLoader||(!c.some(S=>S.route.id===y.route.id)&&y.route.id in s&&((x=o[y.route.id])!=null&&x.shouldRevalidate)||b.hasClientLoader?p=!0:h.add(y.route.id))}),h.size===0)return[];let v=Q9e(e,a);return p&&h.size>0&&v.searchParams.set("_routes",t.filter(y=>h.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[a,s,n,i,c,t,e,o]),A=I.useMemo(()=>j9e(u,i),[u,i]),f=K9e(u);return I.createElement(I.Fragment,null,d.map(h=>I.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...r})),A.map(h=>I.createElement("link",{key:h,rel:"modulepreload",href:h,...r})),f.map(({key:h,link:p})=>I.createElement("link",{key:h,...p})))}function V9e(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var FTe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FTe&&(window.__reactRouterVersion="7.3.0")}catch{}function G9e({basename:e,children:t,window:r}){let n=I.useRef();n.current==null&&(n.current=FWe({window:r,v5Compat:!0}));let i=n.current,[o,a]=I.useState({action:i.action,location:i.location}),s=I.useCallback(l=>{I.startTransition(()=>a(l))},[a]);return I.useLayoutEffect(()=>i.listen(s),[i,s]),I.createElement(_9e,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var kTe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UTe=I.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d,...A},f){let{basename:h}=I.useContext(uc),p=typeof c=="string"&&kTe.test(c),v,y=!1;if(typeof c=="string"&&p&&(v=c,FTe))try{let O=new URL(window.location.href),P=c.startsWith("//")?new URL(O.protocol+c):new URL(c),F=Cd(P.pathname,h);P.origin===O.origin&&F!=null?c=F+P.search+P.hash:y=!0}catch{ac(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=a9e(c,{relative:i}),[x,S,C]=q9e(n,A),_=Z9e(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function B(O){t&&t(O),O.defaultPrevented||_(O)}let T=I.createElement("a",{...A,...C,href:v||b,onClick:y||o?t:B,ref:V9e(f,S),target:l,"data-discover":!p&&r==="render"?"true":void 0});return x&&!p?I.createElement(I.Fragment,null,T,I.createElement(z9e,{page:b})):T});UTe.displayName="Link";var Y9e=I.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...c},u){let d=ub(a,{relative:c.relative}),A=sf(),f=I.useContext(mI),{navigator:h,basename:p}=I.useContext(uc),v=f!=null&&iVe(d)&&s===!0,y=h.encodeLocation?h.encodeLocation(d).pathname:d.pathname,b=A.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(b=b.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&p&&(x=Cd(x,p)||x);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=b===y||!i&&b.startsWith(y)&&b.charAt(S)==="/",_=x!=null&&(x===y||!i&&x.startsWith(y)&&x.charAt(y.length)==="/"),B={isActive:C,isPending:_,isTransitioning:v},T=C?t:void 0,O;typeof n=="function"?O=n(B):O=[n,C?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(B):o;return I.createElement(UTe,{...c,"aria-current":T,className:O,ref:u,style:P,to:a,viewTransition:s},typeof l=="function"?l(B):l)});Y9e.displayName="NavLink";var X9e=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:a=lC,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...A},f)=>{let h=rVe(),p=nVe(s,{relative:c}),v=a.toLowerCase()==="get"?"get":"post",y=typeof s=="string"&&kTe.test(s),b=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let S=x.nativeEvent.submitter,C=(S==null?void 0:S.getAttribute("formmethod"))||a;h(S||x.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:d})};return I.createElement("form",{ref:f,method:v,action:p,onSubmit:n?l:b,...A,"data-discover":!y&&e==="render"?"true":void 0})});X9e.displayName="Form";function J9e(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DTe(e){let t=I.useContext(Nm);return Vn(t,J9e(e)),t}function Z9e(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=Wh(),l=sf(),c=ub(e,{relative:o});return I.useCallback(u=>{if(O9e(u,t)){u.preventDefault();let d=r!==void 0?r:q0(l)===q0(c);s(e,{replace:d,state:n,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,c,r,n,t,e,i,o,a])}var eVe=0,tVe=()=>`__${String(++eVe)}__`;function rVe(){let{router:e}=DTe("useSubmit"),{basename:t}=I.useContext(uc),r=y9e();return I.useCallback(async(n,i={})=>{let{action:o,method:a,encType:s,formData:l,body:c}=F9e(n,t);if(i.navigate===!1){let u=i.fetcherKey||tVe();await e.fetch(u,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function nVe(e,{relative:t}={}){let{basename:r}=I.useContext(uc),n=I.useContext(dc);Vn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...ub(e||".",{relative:t})},a=sf();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(u=>u==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let u=s.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:dd([r,o.pathname])),q0(o)}function iVe(e,t={}){let r=I.useContext(ITe);Vn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=DTe("useViewTransitionState"),i=ub(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Cd(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Cd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return a_(i.pathname,a)!=null||a_(i.pathname,o)!=null}new TextEncoder;var Vh=bTe();const Ky=kr(Vh),jTe=I.createContext(void 0),oVe=({children:e})=>{const[t,r]=I.useState(!1),n=(o,a)=>[{username:"isacep",password:"!pass!"},{username:"patricep",password:"patric1967!"}].find(c=>c.username===o&&c.password===a)?(r(!0),!0):!1,i=()=>{r(!1)};return m.jsx(jTe.Provider,{value:{isAuthenticated:t,login:n,logout:i},children:e})},gq=()=>{const e=I.useContext(jTe);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},aVe=()=>{const{isAuthenticated:e}=gq();return e?m.jsx(C9e,{}):m.jsx(S9e,{to:"/login",replace:!0})},z0={black:"#000",white:"#fff"},qp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},zp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Kp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Wp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Vp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},sVe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function _d(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const eu="$$material";function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s_.apply(null,arguments)}function lVe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function cVe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var uVe=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cVe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=lVe(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),qo="-ms-",l_="-moz-",Kr="-webkit-",LTe="comm",mq="rule",vq="decl",dVe="@import",NTe="@keyframes",AVe="@layer",fVe=Math.abs,yI=String.fromCharCode,hVe=Object.assign;function pVe(e,t){return bo(e,0)^45?(((t<<2^bo(e,0))<<2^bo(e,1))<<2^bo(e,2))<<2^bo(e,3):0}function $Te(e){return e.trim()}function gVe(e,t){return(e=t.exec(e))?e[0]:e}function Wr(e,t,r){return e.replace(t,r)}function TQ(e,t){return e.indexOf(t)}function bo(e,t){return e.charCodeAt(t)|0}function K0(e,t,r){return e.slice(t,r)}function Hc(e){return e.length}function yq(e){return e.length}function _S(e,t){return t.push(e),e}function mVe(e,t){return e.map(t).join("")}var wI=1,Xg=1,QTe=0,es=0,ki=0,Qm="";function bI(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:wI,column:Xg,length:a,return:""}}function uy(e,t){return hVe(bI("",null,null,"",null,null,0),e,{length:-e.length},t)}function vVe(){return ki}function yVe(){return ki=es>0?bo(Qm,--es):0,Xg--,ki===10&&(Xg=1,wI--),ki}function Ss(){return ki=es<QTe?bo(Qm,es++):0,Xg++,ki===10&&(Xg=1,wI++),ki}function tu(){return bo(Qm,es)}function uC(){return es}function db(e,t){return K0(Qm,e,t)}function W0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HTe(e){return wI=Xg=1,QTe=Hc(Qm=e),es=0,[]}function qTe(e){return Qm="",e}function dC(e){return $Te(db(es-1,OQ(e===91?e+2:e===40?e+1:e)))}function wVe(e){for(;(ki=tu())&&ki<33;)Ss();return W0(e)>2||W0(ki)>3?"":" "}function bVe(e,t){for(;--t&&Ss()&&!(ki<48||ki>102||ki>57&&ki<65||ki>70&&ki<97););return db(e,uC()+(t<6&&tu()==32&&Ss()==32))}function OQ(e){for(;Ss();)switch(ki){case e:return es;case 34:case 39:e!==34&&e!==39&&OQ(ki);break;case 40:e===41&&OQ(e);break;case 92:Ss();break}return es}function xVe(e,t){for(;Ss()&&e+ki!==57;)if(e+ki===84&&tu()===47)break;return"/*"+db(t,es-1)+"*"+yI(e===47?e:Ss())}function SVe(e){for(;!W0(tu());)Ss();return db(e,es)}function CVe(e){return qTe(AC("",null,null,null,[""],e=HTe(e),0,[0],e))}function AC(e,t,r,n,i,o,a,s,l){for(var c=0,u=0,d=a,A=0,f=0,h=0,p=1,v=1,y=1,b=0,x="",S=i,C=o,_=n,B=x;v;)switch(h=b,b=Ss()){case 40:if(h!=108&&bo(B,d-1)==58){TQ(B+=Wr(dC(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:B+=dC(b);break;case 9:case 10:case 13:case 32:B+=wVe(h);break;case 92:B+=bVe(uC()-1,7);continue;case 47:switch(tu()){case 42:case 47:_S(_Ve(xVe(Ss(),uC()),t,r),l);break;default:B+="/"}break;case 123*p:s[c++]=Hc(B)*y;case 125*p:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+u:y==-1&&(B=Wr(B,/\f/g,"")),f>0&&Hc(B)-d&&_S(f>32?JV(B+";",n,r,d-1):JV(Wr(B," ","")+";",n,r,d-2),l);break;case 59:B+=";";default:if(_S(_=XV(B,t,r,c,u,i,s,x,S=[],C=[],d),o),b===123)if(u===0)AC(B,t,_,_,S,o,d,s,C);else switch(A===99&&bo(B,3)===110?100:A){case 100:case 108:case 109:case 115:AC(e,_,_,n&&_S(XV(e,_,_,0,0,i,s,x,i,S=[],d),C),i,C,d,s,n?S:C);break;default:AC(B,_,_,_,[""],C,0,s,C)}}c=u=f=0,p=y=1,x=B="",d=a;break;case 58:d=1+Hc(B),f=h;default:if(p<1){if(b==123)--p;else if(b==125&&p++==0&&yVe()==125)continue}switch(B+=yI(b),b*p){case 38:y=u>0?1:(B+="\f",-1);break;case 44:s[c++]=(Hc(B)-1)*y,y=1;break;case 64:tu()===45&&(B+=dC(Ss())),A=tu(),u=d=Hc(x=B+=SVe(uC())),b++;break;case 45:h===45&&Hc(B)==2&&(p=0)}}return o}function XV(e,t,r,n,i,o,a,s,l,c,u){for(var d=i-1,A=i===0?o:[""],f=yq(A),h=0,p=0,v=0;h<n;++h)for(var y=0,b=K0(e,d+1,d=fVe(p=a[h])),x=e;y<f;++y)(x=$Te(p>0?A[y]+" "+b:Wr(b,/&\f/g,A[y])))&&(l[v++]=x);return bI(e,t,r,i===0?mq:s,l,c,u)}function _Ve(e,t,r){return bI(e,t,r,LTe,yI(vVe()),K0(e,2,-2),0)}function JV(e,t,r,n){return bI(e,t,r,vq,K0(e,0,n),K0(e,n+1,-1),n)}function Dg(e,t){for(var r="",n=yq(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function EVe(e,t,r,n){switch(e.type){case AVe:if(e.children.length)break;case dVe:case vq:return e.return=e.return||e.value;case LTe:return"";case NTe:return e.return=e.value+"{"+Dg(e.children,n)+"}";case mq:e.value=e.props.join(",")}return Hc(r=Dg(e.children,n))?e.return=e.value+"{"+r+"}":""}function IVe(e){var t=yq(e);return function(r,n,i,o){for(var a="",s=0;s<t;s++)a+=e[s](r,n,i,o)||"";return a}}function BVe(e){return function(t){t.root||(t=t.return)&&e(t)}}function zTe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var PVe=function(t,r,n){for(var i=0,o=0;i=o,o=tu(),i===38&&o===12&&(r[n]=1),!W0(o);)Ss();return db(t,es)},TVe=function(t,r){var n=-1,i=44;do switch(W0(i)){case 0:i===38&&tu()===12&&(r[n]=1),t[n]+=PVe(es-1,r,n);break;case 2:t[n]+=dC(i);break;case 4:if(i===44){t[++n]=tu()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=yI(i)}while(i=Ss());return t},OVe=function(t,r){return qTe(TVe(HTe(t),r))},ZV=new WeakMap,RVe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!ZV.get(n))&&!i){ZV.set(t,!0);for(var o=[],a=OVe(r,o),s=n.props,l=0,c=0;l<a.length;l++)for(var u=0;u<s.length;u++,c++)t.props[c]=o[l]?a[l].replace(/&\f/g,s[u]):s[u]+" "+a[l]}}},MVe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function KTe(e,t){switch(pVe(e,t)){case 5103:return Kr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Kr+e+l_+e+qo+e+e;case 6828:case 4268:return Kr+e+qo+e+e;case 6165:return Kr+e+qo+"flex-"+e+e;case 5187:return Kr+e+Wr(e,/(\w+).+(:[^]+)/,Kr+"box-$1$2"+qo+"flex-$1$2")+e;case 5443:return Kr+e+qo+"flex-item-"+Wr(e,/flex-|-self/,"")+e;case 4675:return Kr+e+qo+"flex-line-pack"+Wr(e,/align-content|flex-|-self/,"")+e;case 5548:return Kr+e+qo+Wr(e,"shrink","negative")+e;case 5292:return Kr+e+qo+Wr(e,"basis","preferred-size")+e;case 6060:return Kr+"box-"+Wr(e,"-grow","")+Kr+e+qo+Wr(e,"grow","positive")+e;case 4554:return Kr+Wr(e,/([^-])(transform)/g,"$1"+Kr+"$2")+e;case 6187:return Wr(Wr(Wr(e,/(zoom-|grab)/,Kr+"$1"),/(image-set)/,Kr+"$1"),e,"")+e;case 5495:case 3959:return Wr(e,/(image-set\([^]*)/,Kr+"$1$`$1");case 4968:return Wr(Wr(e,/(.+:)(flex-)?(.*)/,Kr+"box-pack:$3"+qo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kr+e+e;case 4095:case 3583:case 4068:case 2532:return Wr(e,/(.+)-inline(.+)/,Kr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hc(e)-1-t>6)switch(bo(e,t+1)){case 109:if(bo(e,t+4)!==45)break;case 102:return Wr(e,/(.+:)(.+)-([^]+)/,"$1"+Kr+"$2-$3$1"+l_+(bo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~TQ(e,"stretch")?KTe(Wr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(bo(e,t+1)!==115)break;case 6444:switch(bo(e,Hc(e)-3-(~TQ(e,"!important")&&10))){case 107:return Wr(e,":",":"+Kr)+e;case 101:return Wr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kr+(bo(e,14)===45?"inline-":"")+"box$3$1"+Kr+"$2$3$1"+qo+"$2box$3")+e}break;case 5936:switch(bo(e,t+11)){case 114:return Kr+e+qo+Wr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Kr+e+qo+Wr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Kr+e+qo+Wr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Kr+e+qo+e+e}return e}var FVe=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case vq:t.return=KTe(t.value,t.length);break;case NTe:return Dg([uy(t,{value:Wr(t.value,"@","@"+Kr)})],i);case mq:if(t.length)return mVe(t.props,function(o){switch(gVe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dg([uy(t,{props:[Wr(o,/:(read-\w+)/,":"+l_+"$1")]})],i);case"::placeholder":return Dg([uy(t,{props:[Wr(o,/:(plac\w+)/,":"+Kr+"input-$1")]}),uy(t,{props:[Wr(o,/:(plac\w+)/,":"+l_+"$1")]}),uy(t,{props:[Wr(o,/:(plac\w+)/,qo+"input-$1")]})],i)}return""})}},kVe=[FVe],UVe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var v=p.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=t.stylisPlugins||kVe,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(p){for(var v=p.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)o[v[y]]=!0;s.push(p)});var l,c=[RVe,MVe];{var u,d=[EVe,BVe(function(p){u.insert(p)})],A=IVe(c.concat(i,d)),f=function(v){return Dg(CVe(v),A)};l=function(v,y,b,x){u=b,f(v?v+"{"+y.styles+"}":y.styles),x&&(h.inserted[y.name]=!0)}}var h={key:r,sheet:new uVe({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return h.sheet.hydrate(s),h},fR={exports:{}},Gr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eG;function DVe(){if(eG)return Gr;eG=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,A=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,p=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function x(C){if(typeof C=="object"&&C!==null){var _=C.$$typeof;switch(_){case t:switch(C=C.type,C){case l:case c:case n:case o:case i:case d:return C;default:switch(C=C&&C.$$typeof,C){case s:case u:case h:case f:case a:return C;default:return _}}case r:return _}}}function S(C){return x(C)===c}return Gr.AsyncMode=l,Gr.ConcurrentMode=c,Gr.ContextConsumer=s,Gr.ContextProvider=a,Gr.Element=t,Gr.ForwardRef=u,Gr.Fragment=n,Gr.Lazy=h,Gr.Memo=f,Gr.Portal=r,Gr.Profiler=o,Gr.StrictMode=i,Gr.Suspense=d,Gr.isAsyncMode=function(C){return S(C)||x(C)===l},Gr.isConcurrentMode=S,Gr.isContextConsumer=function(C){return x(C)===s},Gr.isContextProvider=function(C){return x(C)===a},Gr.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Gr.isForwardRef=function(C){return x(C)===u},Gr.isFragment=function(C){return x(C)===n},Gr.isLazy=function(C){return x(C)===h},Gr.isMemo=function(C){return x(C)===f},Gr.isPortal=function(C){return x(C)===r},Gr.isProfiler=function(C){return x(C)===o},Gr.isStrictMode=function(C){return x(C)===i},Gr.isSuspense=function(C){return x(C)===d},Gr.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===c||C===o||C===i||C===d||C===A||typeof C=="object"&&C!==null&&(C.$$typeof===h||C.$$typeof===f||C.$$typeof===a||C.$$typeof===s||C.$$typeof===u||C.$$typeof===v||C.$$typeof===y||C.$$typeof===b||C.$$typeof===p)},Gr.typeOf=x,Gr}var tG;function jVe(){return tG||(tG=1,fR.exports=DVe()),fR.exports}var hR,rG;function LVe(){if(rG)return hR;rG=1;var e=jVe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=n,o[e.Memo]=i;function a(h){return e.isMemo(h)?i:o[h.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,A=Object.prototype;function f(h,p,v){if(typeof p!="string"){if(A){var y=d(p);y&&y!==A&&f(h,y,v)}var b=l(p);c&&(b=b.concat(c(p)));for(var x=a(h),S=a(p),C=0;C<b.length;++C){var _=b[C];if(!r[_]&&!(v&&v[_])&&!(S&&S[_])&&!(x&&x[_])){var B=u(p,_);try{s(h,_,B)}catch{}}}}return h}return hR=f,hR}LVe();var NVe=!0;function WTe(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var wq=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||NVe===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},bq=function(t,r,n){wq(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function $Ve(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var QVe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},HVe=/[A-Z]|^ms/g,qVe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,VTe=function(t){return t.charCodeAt(1)===45},nG=function(t){return t!=null&&typeof t!="boolean"},pR=zTe(function(e){return VTe(e)?e:e.replace(HVe,"-$&").toLowerCase()}),iG=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(qVe,function(n,i,o){return qc={name:i,styles:o,next:qc},i})}return QVe[t]!==1&&!VTe(t)&&typeof r=="number"&&r!==0?r+"px":r};function V0(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return qc={name:i.name,styles:i.styles,next:qc},i.name;var o=r;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)qc={name:a.name,styles:a.styles,next:qc},a=a.next;var s=o.styles+";";return s}return zVe(e,t,r)}case"function":{if(e!==void 0){var l=qc,c=r(e);return qc=l,V0(e,t,c)}break}}var u=r;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function zVe(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=V0(e,t,r[i])+";";else for(var o in r){var a=r[o];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":nG(s)&&(n+=pR(o)+":"+iG(o,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var l=0;l<a.length;l++)nG(a[l])&&(n+=pR(o)+":"+iG(o,a[l])+";");else{var c=V0(e,t,a);switch(o){case"animation":case"animationName":{n+=pR(o)+":"+c+";";break}default:n+=o+"{"+c+"}"}}}return n}var oG=/label:\s*([^\s;{]+)\s*(;|$)/g,qc;function Ab(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";qc=void 0;var o=e[0];if(o==null||o.raw===void 0)n=!1,i+=V0(r,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=V0(r,t,e[s]),n){var l=o;i+=l[s]}oG.lastIndex=0;for(var c="",u;(u=oG.exec(i))!==null;)c+="-"+u[1];var d=$Ve(i)+c;return{name:d,styles:i,next:qc}}var KVe=function(t){return t()},GTe=o_.useInsertionEffect?o_.useInsertionEffect:!1,YTe=GTe||KVe,aG=GTe||I.useLayoutEffect,XTe=I.createContext(typeof HTMLElement<"u"?UVe({key:"css"}):null);XTe.Provider;var xq=function(t){return I.forwardRef(function(r,n){var i=I.useContext(XTe);return t(r,i,n)})},fb=I.createContext({}),Sq={}.hasOwnProperty,RQ="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",WVe=function(t,r){var n={};for(var i in r)Sq.call(r,i)&&(n[i]=r[i]);return n[RQ]=t,n},VVe=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return wq(r,n,i),YTe(function(){return bq(r,n,i)}),null},GVe=xq(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var i=e[RQ],o=[n],a="";typeof e.className=="string"?a=WTe(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=Ab(o,void 0,I.useContext(fb));a+=t.key+"-"+s.name;var l={};for(var c in e)Sq.call(e,c)&&c!=="css"&&c!==RQ&&(l[c]=e[c]);return l.className=a,r&&(l.ref=r),I.createElement(I.Fragment,null,I.createElement(VVe,{cache:t,serialized:s,isStringTag:typeof i=="string"}),I.createElement(i,l))}),YVe=GVe,sG=function(t,r){var n=arguments;if(r==null||!Sq.call(r,"css"))return I.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=YVe,o[1]=WVe(t,r);for(var a=2;a<i;a++)o[a]=n[a];return I.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(sG||(sG={}));var XVe=xq(function(e,t){var r=e.styles,n=Ab([r],void 0,I.useContext(fb)),i=I.useRef();return aG(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),i.current=[a,s],function(){a.flush()}},[t]),aG(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(n.next!==void 0&&bq(t,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}t.insert("",n,a,!1)},[t,n.name]),null});function Cq(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ab(t)}function hb(){var e=Cq.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var JVe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ZVe=zTe(function(e){return JVe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),eGe=ZVe,tGe=function(t){return t!=="theme"},lG=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?eGe:tGe},cG=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(a){return t.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},rGe=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return wq(r,n,i),YTe(function(){return bq(r,n,i)}),null},nGe=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,a;r!==void 0&&(o=r.label,a=r.target);var s=cG(t,r,n),l=s||lG(i),c=!l("as");return function(){var u=arguments,d=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var A=u[0];d.push(A[0]);for(var f=u.length,h=1;h<f;h++)d.push(u[h],A[h])}var p=xq(function(v,y,b){var x=c&&v.as||i,S="",C=[],_=v;if(v.theme==null){_={};for(var B in v)_[B]=v[B];_.theme=I.useContext(fb)}typeof v.className=="string"?S=WTe(y.registered,C,v.className):v.className!=null&&(S=v.className+" ");var T=Ab(d.concat(C),y.registered,_);S+=y.key+"-"+T.name,a!==void 0&&(S+=" "+a);var O=c&&s===void 0?lG(x):l,P={};for(var F in v)c&&F==="as"||O(F)&&(P[F]=v[F]);return P.className=S,b&&(P.ref=b),I.createElement(I.Fragment,null,I.createElement(rGe,{cache:y,serialized:T,isStringTag:typeof x=="string"}),I.createElement(x,P))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=s,Object.defineProperty(p,"toString",{value:function(){return"."+a}}),p.withComponent=function(v,y){var b=e(v,s_({},r,y,{shouldForwardProp:cG(p,y,!0)}));return b.apply(void 0,d)},p}},iGe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],MQ=nGe.bind(null);iGe.forEach(function(e){MQ[e]=MQ(e)});var gR={exports:{}},mR,uG;function oGe(){if(uG)return mR;uG=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mR=e,mR}var vR,dG;function aGe(){if(dG)return vR;dG=1;var e=oGe();function t(){}function r(){}return r.resetWarningCache=t,vR=function(){function n(a,s,l,c,u,d){if(d!==e){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},vR}var AG;function sGe(){return AG||(AG=1,gR.exports=aGe()()),gR.exports}var lGe=sGe();const Yr=kr(lGe);function cGe(e){return e==null||Object.keys(e).length===0}function JTe(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(cGe(i)?r:i):t;return m.jsx(XVe,{styles:n})}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ZTe(e,t){return MQ(e,t)}function uGe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const fG=[];function hG(e){return fG[0]=e,Ab(fG)}var yR={exports:{}},rn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pG;function dGe(){if(pG)return rn;pG=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),f=Symbol.for("react.client.reference");function h(p){if(typeof p=="object"&&p!==null){var v=p.$$typeof;switch(v){case e:switch(p=p.type,p){case r:case i:case n:case l:case c:return p;default:switch(p=p&&p.$$typeof,p){case a:case s:case d:case u:return p;case o:return p;default:return v}}case t:return v}}}return rn.ContextConsumer=o,rn.ContextProvider=a,rn.Element=e,rn.ForwardRef=s,rn.Fragment=r,rn.Lazy=d,rn.Memo=u,rn.Portal=t,rn.Profiler=i,rn.StrictMode=n,rn.Suspense=l,rn.SuspenseList=c,rn.isContextConsumer=function(p){return h(p)===o},rn.isContextProvider=function(p){return h(p)===a},rn.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===e},rn.isForwardRef=function(p){return h(p)===s},rn.isFragment=function(p){return h(p)===r},rn.isLazy=function(p){return h(p)===d},rn.isMemo=function(p){return h(p)===u},rn.isPortal=function(p){return h(p)===t},rn.isProfiler=function(p){return h(p)===i},rn.isStrictMode=function(p){return h(p)===n},rn.isSuspense=function(p){return h(p)===l},rn.isSuspenseList=function(p){return h(p)===c},rn.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===r||p===i||p===n||p===l||p===c||p===A||typeof p=="object"&&p!==null&&(p.$$typeof===d||p.$$typeof===u||p.$$typeof===a||p.$$typeof===o||p.$$typeof===s||p.$$typeof===f||p.getModuleId!==void 0)},rn.typeOf=h,rn}var gG;function AGe(){return gG||(gG=1,yR.exports=dGe()),yR.exports}var eOe=AGe();function Kc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tOe(e){if(I.isValidElement(e)||eOe.isValidElementType(e)||!Kc(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=tOe(e[r])}),t}function oa(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return Kc(e)&&Kc(t)&&Object.keys(t).forEach(i=>{I.isValidElement(t[i])||eOe.isValidElementType(t[i])?n[i]=t[i]:Kc(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Kc(e[i])?n[i]=oa(e[i],t[i],r):r.clone?n[i]=Kc(t[i])?tOe(t[i]):t[i]:n[i]=t[i]}),n}const fGe=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function hGe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=e,o=fGe(t),a=Object.keys(o);function s(A){return`@media (min-width:${typeof t[A]=="number"?t[A]:A}${r})`}function l(A){return`@media (max-width:${(typeof t[A]=="number"?t[A]:A)-n/100}${r})`}function c(A,f){const h=a.indexOf(f);return`@media (min-width:${typeof t[A]=="number"?t[A]:A}${r}) and (max-width:${(h!==-1&&typeof t[a[h]]=="number"?t[a[h]]:f)-n/100}${r})`}function u(A){return a.indexOf(A)+1<a.length?c(A,a[a.indexOf(A)+1]):s(A)}function d(A){const f=a.indexOf(A);return f===0?s(a[1]):f===a.length-1?l(a[f]):c(A,a[a.indexOf(A)+1]).replace("@media","@media not all and")}return{keys:a,values:o,up:s,down:l,between:c,only:u,not:d,unit:r,...i}}function pGe(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,i)=>{var a,s;const o=/min-width:\s*([0-9.]+)/;return+(((a=n.match(o))==null?void 0:a[1])||0)-+(((s=i.match(o))==null?void 0:s[1])||0)});return r.length?r.reduce((n,i)=>{const o=t[i];return delete n[i],n[i]=o,n},{...t}):t}function gGe(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function mGe(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,o=Number.isNaN(+n)?n||0:+n;return e.containerQueries(i).up(o)}function vGe(e){const t=(o,a)=>o.replace("@media",a?`@container ${a}`:"@container");function r(o,a){o.up=(...s)=>t(e.breakpoints.up(...s),a),o.down=(...s)=>t(e.breakpoints.down(...s),a),o.between=(...s)=>t(e.breakpoints.between(...s),a),o.only=(...s)=>t(e.breakpoints.only(...s),a),o.not=(...s)=>{const l=t(e.breakpoints.not(...s),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},i=o=>(r(n,o),n);return r(i),{...e,containerQueries:i}}const yGe={borderRadius:4};function v0(e,t){return t?oa(e,t,{clone:!1}):e}const xI={xs:0,sm:600,md:900,lg:1200,xl:1536},mG={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${xI[e]}px)`},wGe={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:xI[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function yl(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||mG;return t.reduce((a,s,l)=>(a[o.up(o.keys[l])]=r(t[l]),a),{})}if(typeof t=="object"){const o=n.breakpoints||mG;return Object.keys(t).reduce((a,s)=>{if(gGe(o.keys,s)){const l=mGe(n.containerQueries?n:wGe,s);l&&(a[l]=r(t[s],s))}else if(Object.keys(o.values||xI).includes(s)){const l=o.up(s);a[l]=r(t[s],s)}else{const l=s;a[l]=t[l]}return a},{})}return r(t)}function bGe(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function xGe(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function SGe(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((i,o)=>{o<e.length&&(r[i]=!0)}):n.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function SI({values:e,breakpoints:t,base:r}){const n=r||SGe(e,t),i=Object.keys(n);if(i.length===0)return e;let o;return i.reduce((a,s,l)=>(Array.isArray(e)?(a[s]=e[l]!=null?e[l]:e[o],o=l):typeof e=="object"?(a[s]=e[s]!=null?e[s]:e[o],o=s):a[s]=e,a),{})}function Mt(e){if(typeof e!="string")throw new Error(_d(7));return e.charAt(0).toUpperCase()+e.slice(1)}function CI(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function c_(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=CI(e,r)||n,t&&(i=t(i,n,e)),i}function Ii(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=a=>{if(a[t]==null)return null;const s=a[t],l=a.theme,c=CI(l,n)||{};return yl(a,s,d=>{let A=c_(c,i,d);return d===A&&typeof d=="string"&&(A=c_(c,i,`${t}${d==="default"?"":Mt(d)}`,d)),r===!1?A:{[r]:A}})};return o.propTypes={},o.filterProps=[t],o}function CGe(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const _Ge={m:"margin",p:"padding"},EGe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vG={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},IGe=CGe(e=>{if(e.length>2)if(vG[e])e=vG[e];else return[e];const[t,r]=e.split(""),n=_Ge[t],i=EGe[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),_q=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Eq=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._q,...Eq];function pb(e,t,r,n){const i=CI(e,t,!0)??r;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const a=Math.abs(o),s=i[a];return o>=0?s:typeof s=="number"?-s:`-${s}`}:typeof i=="function"?i:()=>{}}function Iq(e){return pb(e,"spacing",8)}function gb(e,t){return typeof t=="string"||t==null?t:e(t)}function BGe(e,t){return r=>e.reduce((n,i)=>(n[i]=gb(t,r),n),{})}function PGe(e,t,r,n){if(!t.includes(r))return null;const i=IGe(r),o=BGe(i,n),a=e[r];return yl(e,a,o)}function rOe(e,t){const r=Iq(e.theme);return Object.keys(e).map(n=>PGe(e,t,n,r)).reduce(v0,{})}function ci(e){return rOe(e,_q)}ci.propTypes={};ci.filterProps=_q;function ui(e){return rOe(e,Eq)}ui.propTypes={};ui.filterProps=Eq;function nOe(e=8,t=Iq({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(o=>{const a=t(o);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function _I(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?v0(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function al(e){return typeof e!="number"?e:`${e}px solid`}function Sl(e,t){return Ii({prop:e,themeKey:"borders",transform:t})}const TGe=Sl("border",al),OGe=Sl("borderTop",al),RGe=Sl("borderRight",al),MGe=Sl("borderBottom",al),FGe=Sl("borderLeft",al),kGe=Sl("borderColor"),UGe=Sl("borderTopColor"),DGe=Sl("borderRightColor"),jGe=Sl("borderBottomColor"),LGe=Sl("borderLeftColor"),NGe=Sl("outline",al),$Ge=Sl("outlineColor"),EI=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=pb(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:gb(t,n)});return yl(e,e.borderRadius,r)}return null};EI.propTypes={};EI.filterProps=["borderRadius"];_I(TGe,OGe,RGe,MGe,FGe,kGe,UGe,DGe,jGe,LGe,EI,NGe,$Ge);const II=e=>{if(e.gap!==void 0&&e.gap!==null){const t=pb(e.theme,"spacing",8),r=n=>({gap:gb(t,n)});return yl(e,e.gap,r)}return null};II.propTypes={};II.filterProps=["gap"];const BI=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=pb(e.theme,"spacing",8),r=n=>({columnGap:gb(t,n)});return yl(e,e.columnGap,r)}return null};BI.propTypes={};BI.filterProps=["columnGap"];const PI=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=pb(e.theme,"spacing",8),r=n=>({rowGap:gb(t,n)});return yl(e,e.rowGap,r)}return null};PI.propTypes={};PI.filterProps=["rowGap"];const QGe=Ii({prop:"gridColumn"}),HGe=Ii({prop:"gridRow"}),qGe=Ii({prop:"gridAutoFlow"}),zGe=Ii({prop:"gridAutoColumns"}),KGe=Ii({prop:"gridAutoRows"}),WGe=Ii({prop:"gridTemplateColumns"}),VGe=Ii({prop:"gridTemplateRows"}),GGe=Ii({prop:"gridTemplateAreas"}),YGe=Ii({prop:"gridArea"});_I(II,BI,PI,QGe,HGe,qGe,zGe,KGe,WGe,VGe,GGe,YGe);function jg(e,t){return t==="grey"?t:e}const XGe=Ii({prop:"color",themeKey:"palette",transform:jg}),JGe=Ii({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jg}),ZGe=Ii({prop:"backgroundColor",themeKey:"palette",transform:jg});_I(XGe,JGe,ZGe);function vs(e){return e<=1&&e!==0?`${e*100}%`:e}const e7e=Ii({prop:"width",transform:vs}),Bq=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var i,o,a,s,l;const n=((a=(o=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:a[r])||xI[r];return n?((l=(s=e.theme)==null?void 0:s.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:vs(r)}};return yl(e,e.maxWidth,t)}return null};Bq.filterProps=["maxWidth"];const t7e=Ii({prop:"minWidth",transform:vs}),r7e=Ii({prop:"height",transform:vs}),n7e=Ii({prop:"maxHeight",transform:vs}),i7e=Ii({prop:"minHeight",transform:vs});Ii({prop:"size",cssProperty:"width",transform:vs});Ii({prop:"size",cssProperty:"height",transform:vs});const o7e=Ii({prop:"boxSizing"});_I(e7e,Bq,t7e,r7e,n7e,i7e,o7e);const mb={border:{themeKey:"borders",transform:al},borderTop:{themeKey:"borders",transform:al},borderRight:{themeKey:"borders",transform:al},borderBottom:{themeKey:"borders",transform:al},borderLeft:{themeKey:"borders",transform:al},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:al},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:EI},color:{themeKey:"palette",transform:jg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jg},backgroundColor:{themeKey:"palette",transform:jg},p:{style:ui},pt:{style:ui},pr:{style:ui},pb:{style:ui},pl:{style:ui},px:{style:ui},py:{style:ui},padding:{style:ui},paddingTop:{style:ui},paddingRight:{style:ui},paddingBottom:{style:ui},paddingLeft:{style:ui},paddingX:{style:ui},paddingY:{style:ui},paddingInline:{style:ui},paddingInlineStart:{style:ui},paddingInlineEnd:{style:ui},paddingBlock:{style:ui},paddingBlockStart:{style:ui},paddingBlockEnd:{style:ui},m:{style:ci},mt:{style:ci},mr:{style:ci},mb:{style:ci},ml:{style:ci},mx:{style:ci},my:{style:ci},margin:{style:ci},marginTop:{style:ci},marginRight:{style:ci},marginBottom:{style:ci},marginLeft:{style:ci},marginX:{style:ci},marginY:{style:ci},marginInline:{style:ci},marginInlineStart:{style:ci},marginInlineEnd:{style:ci},marginBlock:{style:ci},marginBlockStart:{style:ci},marginBlockEnd:{style:ci},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:II},rowGap:{style:PI},columnGap:{style:BI},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:vs},maxWidth:{style:Bq},minWidth:{transform:vs},height:{transform:vs},maxHeight:{transform:vs},minHeight:{transform:vs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function a7e(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function s7e(e,t){return typeof e=="function"?e(t):e}function l7e(){function e(r,n,i,o){const a={[r]:n,theme:i},s=o[r];if(!s)return{[r]:n};const{cssProperty:l=r,themeKey:c,transform:u,style:d}=s;if(n==null)return null;if(c==="typography"&&n==="inherit")return{[r]:n};const A=CI(i,c)||{};return d?d(a):yl(a,n,h=>{let p=c_(A,u,h);return h===p&&typeof h=="string"&&(p=c_(A,u,`${r}${h==="default"?"":Mt(h)}`,h)),l===!1?p:{[l]:p}})}function t(r){const{sx:n,theme:i={}}=r||{};if(!n)return null;const o=i.unstable_sxConfig??mb;function a(s){let l=s;if(typeof s=="function")l=s(i);else if(typeof s!="object")return s;if(!l)return null;const c=bGe(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(A=>{const f=s7e(l[A],i);if(f!=null)if(typeof f=="object")if(o[A])d=v0(d,e(A,f,i,o));else{const h=yl({theme:i},f,p=>({[A]:p}));a7e(h,f)?d[A]=t({sx:f,theme:i}):d=v0(d,h)}else d=v0(d,e(A,f,i,o))}),pGe(i,xGe(u,d))}return Array.isArray(n)?n.map(a):a(n)}return t}const GA=l7e();GA.filterProps=["sx"];function c7e(e,t){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[e])||typeof r.getColorSchemeSelector!="function")return{};let i=r.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return r.palette.mode===e?t:{}}function TI(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={},...a}=e,s=hGe(r),l=nOe(i);let c=oa({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...yGe,...o}},a);return c=vGe(c),c.applyStyles=c7e,c=t.reduce((u,d)=>oa(u,d),c),c.unstable_sxConfig={...mb,...a==null?void 0:a.unstable_sxConfig},c.unstable_sx=function(d){return GA({sx:d,theme:this})},c}function u7e(e){return Object.keys(e).length===0}function iOe(e=null){const t=I.useContext(fb);return!t||u7e(t)?e:t}const d7e=TI();function OI(e=d7e){return iOe(e)}function A7e({styles:e,themeId:t,defaultTheme:r={}}){const n=OI(r),i=typeof e=="function"?e(t&&n[t]||n):e;return m.jsx(JTe,{styles:i})}const f7e=e=>{var n;const t={systemProps:{},otherProps:{}},r=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??mb;return Object.keys(e).forEach(i=>{r[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Pq(e){const{sx:t,...r}=e,{systemProps:n,otherProps:i}=f7e(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...a)=>{const s=t(...a);return Kc(s)?{...n,...s}:n}:o={...n,...t},{...i,sx:o}}const yG=e=>e,h7e=()=>{let e=yG;return{configure(t){e=t},generate(t){return e(t)},reset(){e=yG}}},oOe=h7e();function aOe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=aOe(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=aOe(e))&&(n&&(n+=" "),n+=t);return n}function p7e(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,o=ZTe("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(GA);return I.forwardRef(function(l,c){const u=OI(r),{className:d,component:A="div",...f}=Pq(l);return m.jsx(o,{as:A,ref:c,className:ut(d,i?i(n):n),theme:t&&u[t]||u,...f})})}const g7e={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wr(e,t,r="Mui"){const n=g7e[t];return n?`${r}-${n}`:`${oOe.generate(e)}-${t}`}function dr(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=wr(e,i,r)}),n}function sOe(e){const{variants:t,...r}=e,n={variants:t,style:hG(r),isProcessed:!0};return n.style===r||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=hG(i.style))}),n}const m7e=TI();function wR(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function v7e(e){return e?(t,r)=>r[e]:null}function y7e(e,t,r){e.theme=b7e(e.theme)?r:e.theme[t]||e.theme}function fC(e,t){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(n=>fC(e,n));if(Array.isArray(r==null?void 0:r.variants)){let n;if(r.isProcessed)n=r.style;else{const{variants:i,...o}=r;n=o}return lOe(e,r.variants,[n])}return r!=null&&r.isProcessed?r.style:r}function lOe(e,t,r=[]){var i;let n;e:for(let o=0;o<t.length;o+=1){const a=t[o];if(typeof a.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!a.props(n))continue}else for(const s in a.props)if(e[s]!==a.props[s]&&((i=e.ownerState)==null?void 0:i[s])!==a.props[s])continue e;typeof a.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),r.push(a.style(n))):r.push(a.style)}return r}function cOe(e={}){const{themeId:t,defaultTheme:r=m7e,rootShouldForwardProp:n=wR,slotShouldForwardProp:i=wR}=e;function o(s){y7e(s,t,r)}return(s,l={})=>{uGe(s,C=>C.filter(_=>_!==GA));const{name:c,slot:u,skipVariantsResolver:d,skipSx:A,overridesResolver:f=v7e(S7e(u)),...h}=l,p=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,v=A||!1;let y=wR;u==="Root"||u==="root"?y=n:u?y=i:x7e(s)&&(y=void 0);const b=ZTe(s,{shouldForwardProp:y,label:w7e(),...h}),x=C=>{if(typeof C=="function"&&C.__emotion_real!==C)return function(B){return fC(B,C)};if(Kc(C)){const _=sOe(C);return _.variants?function(T){return fC(T,_)}:_.style}return C},S=(...C)=>{const _=[],B=C.map(x),T=[];if(_.push(o),c&&f&&T.push(function(U){var j,$;const M=($=(j=U.theme.components)==null?void 0:j[c])==null?void 0:$.styleOverrides;if(!M)return null;const D={};for(const Q in M)D[Q]=fC(U,M[Q]);return f(U,D)}),c&&!p&&T.push(function(U){var D,j;const k=U.theme,M=(j=(D=k==null?void 0:k.components)==null?void 0:D[c])==null?void 0:j.variants;return M?lOe(U,M):null}),v||T.push(GA),Array.isArray(B[0])){const F=B.shift(),U=new Array(_.length).fill(""),k=new Array(T.length).fill("");let M;M=[...U,...F,...k],M.raw=[...U,...F.raw,...k],_.unshift(M)}const O=[..._,...B,...T],P=b(...O);return s.muiName&&(P.muiName=s.muiName),P};return b.withConfig&&(S.withConfig=b.withConfig),S}}function w7e(e,t){return void 0}function b7e(e){for(const t in e)return!1;return!0}function x7e(e){return typeof e=="string"&&e.charCodeAt(0)>96}function S7e(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const C7e=cOe();function Jg(e,t){const r={...t};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=n;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],a=t[i];if(!a)r[i]=o||{};else if(!o)r[i]=a;else{r[i]={...a};for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)){const l=s;r[i][l]=Jg(o[l],a[l])}}}else r[i]===void 0&&(r[i]=e[i])}return r}function _7e(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Jg(t.components[r].defaultProps,n)}function E7e({props:e,name:t,defaultTheme:r,themeId:n}){let i=OI(r);return n&&(i=i[n]||i),_7e({theme:i,name:t,props:e})}const au=typeof window<"u"?I.useLayoutEffect:I.useEffect;function gg(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function Tq(e,t=0,r=1){return gg(e,t,r)}function I7e(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function YA(e){if(e.type)return e;if(e.charAt(0)==="#")return YA(I7e(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(_d(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(_d(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}const B7e=e=>{const t=YA(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},Wy=(e,t)=>{try{return B7e(e)}catch{return e}};function RI(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function uOe(e){e=YA(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),a=(c,u=(c+r/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(s+="a",l.push(t[3])),RI({type:s,values:l})}function FQ(e){e=YA(e);let t=e.type==="hsl"||e.type==="hsla"?YA(uOe(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function P7e(e,t){const r=FQ(e),n=FQ(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function zn(e,t){return e=YA(e),t=Tq(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,RI(e)}function ES(e,t,r){try{return zn(e,t)}catch{return e}}function G0(e,t){if(e=YA(e),t=Tq(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return RI(e)}function hn(e,t,r){try{return G0(e,t)}catch{return e}}function Y0(e,t){if(e=YA(e),t=Tq(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return RI(e)}function pn(e,t,r){try{return Y0(e,t)}catch{return e}}function T7e(e,t=.15){return FQ(e)>.5?G0(e,t):Y0(e,t)}function IS(e,t,r){try{return T7e(e,t)}catch{return e}}function wG(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function dOe(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function hC(e,t){var r,n,i;return I.isValidElement(e)&&t.indexOf(e.type.muiName??((i=(n=(r=e.type)==null?void 0:r._payload)==null?void 0:n.value)==null?void 0:i.muiName))!==-1}function Ia(e){return e&&e.ownerDocument||document}function Ed(e){return Ia(e).defaultView||window}function kQ(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let bG=0;function O7e(e){const[t,r]=I.useState(e),n=e||t;return I.useEffect(()=>{t==null&&(bG+=1,r(`mui-${bG}`))},[t]),n}const R7e={...o_},xG=R7e.useId;function MI(e){if(xG!==void 0){const t=xG();return e??t}return O7e(e)}function UQ({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=I.useRef(e!==void 0),[o,a]=I.useState(t),s=i?e:o,l=I.useCallback(c=>{i||a(c)},[]);return[s,l]}function Ad(e){const t=I.useRef(e);return au(()=>{t.current=e}),I.useRef((...r)=>(0,t.current)(...r)).current}function Po(...e){return I.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{kQ(r,t)})},e)}const SG={};function AOe(e,t){const r=I.useRef(SG);return r.current===SG&&(r.current=e(t)),r}const M7e=[];function F7e(e){I.useEffect(e,M7e)}class Oq{constructor(){K(this,"currentId",null);K(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});K(this,"disposeEffect",()=>this.clear)}static create(){return new Oq}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function fOe(){const e=AOe(Oq.create).current;return F7e(e.disposeEffect),e}function u_(e){try{return e.matches(":focus-visible")}catch{}return!1}function hOe(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function k7e(e){return I.Children.toArray(e).filter(t=>I.isValidElement(t))}const U7e={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function br(e,t,r=void 0){const n={};for(const i in e){const o=e[i];let a="",s=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(a+=(s===!0?"":" ")+t(c),s=!1,r&&r[c]&&(a+=" "+r[c]))}n[i]=a}return n}function D7e(e){return typeof e=="string"}function pOe(e,t,r){return e===void 0||D7e(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function y0(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function CG(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function gOe(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const f=ut(r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),h={...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},p={...r,...i,...n};return f.length>0&&(p.className=f),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:void 0}}const a=y0({...i,...n}),s=CG(n),l=CG(i),c=t(a),u=ut(c==null?void 0:c.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),d={...c==null?void 0:c.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},A={...c,...r,...l,...s};return u.length>0&&(A.className=u),Object.keys(d).length>0&&(A.style=d),{props:A,internalRef:c.ref}}function mOe(e,t,r){return typeof e=="function"?e(t,r):e}function Zu(e){var d;const{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...o}=e,a=i?{}:mOe(r,n),{props:s,internalRef:l}=gOe({...o,externalSlotProps:a}),c=Po(l,a==null?void 0:a.ref,(d=e.additionalProps)==null?void 0:d.ref);return pOe(t,{...s,ref:c},n)}function vb(e){var t;return parseInt(I.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const vOe=I.createContext(null);function Rq(){return I.useContext(vOe)}const j7e=typeof Symbol=="function"&&Symbol.for,L7e=j7e?Symbol.for("mui.nested"):"__THEME_NESTED__";function N7e(e,t){return typeof t=="function"?t(e):{...e,...t}}function $7e(e){const{children:t,theme:r}=e,n=Rq(),i=I.useMemo(()=>{const o=n===null?{...r}:N7e(n,r);return o!=null&&(o[L7e]=n!==null),o},[r,n]);return m.jsx(vOe.Provider,{value:i,children:t})}const yOe=I.createContext();function Q7e({value:e,...t}){return m.jsx(yOe.Provider,{value:e??!0,...t})}const wOe=()=>I.useContext(yOe)??!1,bOe=I.createContext(void 0);function H7e({value:e,children:t}){return m.jsx(bOe.Provider,{value:e,children:t})}function q7e(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const i=t.components[r];return i.defaultProps?Jg(i.defaultProps,n):!i.styleOverrides&&!i.variants?Jg(i,n):n}function z7e({props:e,name:t}){const r=I.useContext(bOe);return q7e({props:e,name:t,theme:{components:r}})}const _G={};function EG(e,t,r,n=!1){return I.useMemo(()=>{const i=e&&t[e]||t;if(typeof r=="function"){const o=r(i),a=e?{...t,[e]:o}:o;return n?()=>a:a}return e?{...t,[e]:r}:{...t,...r}},[e,t,r,n])}function xOe(e){const{children:t,theme:r,themeId:n}=e,i=iOe(_G),o=Rq()||_G,a=EG(n,i,r),s=EG(n,o,r,!0),l=(n?a[n]:a).direction==="rtl";return m.jsx($7e,{theme:s,children:m.jsx(fb.Provider,{value:a,children:m.jsx(Q7e,{value:l,children:m.jsx(H7e,{value:n?a[n].components:a.components,children:t})})})})}const IG={theme:void 0};function K7e(e){let t,r;return function(i){let o=t;return(o===void 0||i.theme!==r)&&(IG.theme=i.theme,o=sOe(e(IG)),t=o,r=i.theme),o}}const Mq="mode",Fq="color-scheme",W7e="data-color-scheme";function V7e(e){const{defaultMode:t="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=Mq,colorSchemeStorageKey:o=Fq,attribute:a=W7e,colorSchemeNode:s="document.documentElement",nonce:l}=e||{};let c="",u=a;if(a==="class"&&(u=".%s"),a==="data"&&(u="[data-%s]"),u.startsWith(".")){const A=u.substring(1);c+=`${s}.classList.remove('${A}'.replace('%s', light), '${A}'.replace('%s', dark));
      ${s}.classList.add('${A}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[A,f]=d[1].split("=");f||(c+=`${s}.removeAttribute('${A}'.replace('%s', light));
      ${s}.removeAttribute('${A}'.replace('%s', dark));`),c+=`
      ${s}.setAttribute('${A}'.replace('%s', colorScheme), ${f?`${f}.replace('%s', colorScheme)`:'""'});`}else c+=`${s}.setAttribute('${u}', colorScheme);`;return m.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${o}-dark') || '${n}';
  const light = localStorage.getItem('${o}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${c}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function G7e(){}const Y7e=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(r){if(typeof window>"u")return;if(!t)return r;let n;try{n=t.localStorage.getItem(e)}catch{}return n||r},set:r=>{if(t)try{t.localStorage.setItem(e,r)}catch{}},subscribe:r=>{if(!t)return G7e;const n=i=>{const o=i.newValue;i.key===e&&r(o)};return t.addEventListener("storage",n),()=>{t.removeEventListener("storage",n)}}});function bR(){}function BG(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function SOe(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function X7e(e){return SOe(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function J7e(e){const{defaultMode:t="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:o=Mq,colorSchemeStorageKey:a=Fq,storageWindow:s=typeof window>"u"?void 0:window,storageManager:l=Y7e,noSsr:c=!1}=e,u=i.join(","),d=i.length>1,A=I.useMemo(()=>l==null?void 0:l({key:o,storageWindow:s}),[l,o,s]),f=I.useMemo(()=>l==null?void 0:l({key:`${a}-light`,storageWindow:s}),[l,a,s]),h=I.useMemo(()=>l==null?void 0:l({key:`${a}-dark`,storageWindow:s}),[l,a,s]),[p,v]=I.useState(()=>{const T=(A==null?void 0:A.get(t))||t,O=(f==null?void 0:f.get(r))||r,P=(h==null?void 0:h.get(n))||n;return{mode:T,systemMode:BG(T),lightColorScheme:O,darkColorScheme:P}}),[y,b]=I.useState(c||!d);I.useEffect(()=>{b(!0)},[]);const x=X7e(p),S=I.useCallback(T=>{v(O=>{if(T===O.mode)return O;const P=T??t;return A==null||A.set(P),{...O,mode:P,systemMode:BG(P)}})},[A,t]),C=I.useCallback(T=>{T?typeof T=="string"?T&&!u.includes(T)?console.error(`\`${T}\` does not exist in \`theme.colorSchemes\`.`):v(O=>{const P={...O};return SOe(O,F=>{F==="light"&&(f==null||f.set(T),P.lightColorScheme=T),F==="dark"&&(h==null||h.set(T),P.darkColorScheme=T)}),P}):v(O=>{const P={...O},F=T.light===null?r:T.light,U=T.dark===null?n:T.dark;return F&&(u.includes(F)?(P.lightColorScheme=F,f==null||f.set(F)):console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`)),U&&(u.includes(U)?(P.darkColorScheme=U,h==null||h.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),P}):v(O=>(f==null||f.set(r),h==null||h.set(n),{...O,lightColorScheme:r,darkColorScheme:n}))},[u,f,h,r,n]),_=I.useCallback(T=>{p.mode==="system"&&v(O=>{const P=T!=null&&T.matches?"dark":"light";return O.systemMode===P?O:{...O,systemMode:P}})},[p.mode]),B=I.useRef(_);return B.current=_,I.useEffect(()=>{if(typeof window.matchMedia!="function"||!d)return;const T=(...P)=>B.current(...P),O=window.matchMedia("(prefers-color-scheme: dark)");return O.addListener(T),T(O),()=>{O.removeListener(T)}},[d]),I.useEffect(()=>{if(d){const T=(A==null?void 0:A.subscribe(F=>{(!F||["light","dark","system"].includes(F))&&S(F||t)}))||bR,O=(f==null?void 0:f.subscribe(F=>{(!F||u.match(F))&&C({light:F})}))||bR,P=(h==null?void 0:h.subscribe(F=>{(!F||u.match(F))&&C({dark:F})}))||bR;return()=>{T(),O(),P()}}},[C,S,u,t,s,d,A,f,h]),{...p,mode:y?p.mode:void 0,systemMode:y?p.systemMode:void 0,colorScheme:y?x:void 0,setMode:S,setColorScheme:C}}const Z7e="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function eYe(e){const{themeId:t,theme:r={},modeStorageKey:n=Mq,colorSchemeStorageKey:i=Fq,disableTransitionOnChange:o=!1,defaultColorScheme:a,resolveTheme:s}=e,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=I.createContext(void 0),u=()=>I.useContext(c)||l,d={},A={};function f(y){var Ze,me,Se,Oe;const{children:b,theme:x,modeStorageKey:S=n,colorSchemeStorageKey:C=i,disableTransitionOnChange:_=o,storageManager:B,storageWindow:T=typeof window>"u"?void 0:window,documentNode:O=typeof document>"u"?void 0:document,colorSchemeNode:P=typeof document>"u"?void 0:document.documentElement,disableNestedContext:F=!1,disableStyleSheetGeneration:U=!1,defaultMode:k="system",noSsr:M}=y,D=I.useRef(!1),j=Rq(),$=I.useContext(c),Q=!!$&&!F,H=I.useMemo(()=>x||(typeof r=="function"?r():r),[x]),W=H[t],z=W||H,{colorSchemes:V=d,components:G=A,cssVarPrefix:X}=z,Z=Object.keys(V).filter(it=>!!V[it]).join(","),oe=I.useMemo(()=>Z.split(","),[Z]),ae=typeof a=="string"?a:a.light,ne=typeof a=="string"?a:a.dark,te=V[ae]&&V[ne]?k:((me=(Ze=V[z.defaultColorScheme])==null?void 0:Ze.palette)==null?void 0:me.mode)||((Se=z.palette)==null?void 0:Se.mode),{mode:se,setMode:de,systemMode:re,lightColorScheme:he,darkColorScheme:ye,colorScheme:ke,setColorScheme:Ue}=J7e({supportedColorSchemes:oe,defaultLightColorScheme:ae,defaultDarkColorScheme:ne,modeStorageKey:S,colorSchemeStorageKey:C,defaultMode:te,storageManager:B,storageWindow:T,noSsr:M});let Ne=se,Ye=ke;Q&&(Ne=$.mode,Ye=$.colorScheme);const lt=I.useMemo(()=>{var ce;const it=Ye||z.defaultColorScheme,ft=((ce=z.generateThemeVars)==null?void 0:ce.call(z))||z.vars,ee={...z,components:G,colorSchemes:V,cssVarPrefix:X,vars:ft};if(typeof ee.generateSpacing=="function"&&(ee.spacing=ee.generateSpacing()),it){const pe=V[it];pe&&typeof pe=="object"&&Object.keys(pe).forEach(xe=>{pe[xe]&&typeof pe[xe]=="object"?ee[xe]={...ee[xe],...pe[xe]}:ee[xe]=pe[xe]})}return s?s(ee):ee},[z,Ye,G,V,X]),Ve=z.colorSchemeSelector;au(()=>{if(Ye&&P&&Ve&&Ve!=="media"){const it=Ve;let ft=Ve;if(it==="class"&&(ft=".%s"),it==="data"&&(ft="[data-%s]"),it!=null&&it.startsWith("data-")&&!it.includes("%s")&&(ft=`[${it}="%s"]`),ft.startsWith("."))P.classList.remove(...oe.map(ee=>ft.substring(1).replace("%s",ee))),P.classList.add(ft.substring(1).replace("%s",Ye));else{const ee=ft.replace("%s",Ye).match(/\[([^\]]+)\]/);if(ee){const[ce,pe]=ee[1].split("=");pe||oe.forEach(xe=>{P.removeAttribute(ce.replace(Ye,xe))}),P.setAttribute(ce,pe?pe.replace(/"|'/g,""):"")}else P.setAttribute(ft,Ye)}}},[Ye,Ve,P,oe]),I.useEffect(()=>{let it;if(_&&D.current&&O){const ft=O.createElement("style");ft.appendChild(O.createTextNode(Z7e)),O.head.appendChild(ft),window.getComputedStyle(O.body),it=setTimeout(()=>{O.head.removeChild(ft)},1)}return()=>{clearTimeout(it)}},[Ye,_,O]),I.useEffect(()=>(D.current=!0,()=>{D.current=!1}),[]);const Te=I.useMemo(()=>({allColorSchemes:oe,colorScheme:Ye,darkColorScheme:ye,lightColorScheme:he,mode:Ne,setColorScheme:Ue,setMode:de,systemMode:re}),[oe,Ye,ye,he,Ne,Ue,de,re,lt.colorSchemeSelector]);let we=!0;(U||z.cssVariables===!1||Q&&(j==null?void 0:j.cssVarPrefix)===X)&&(we=!1);const Be=m.jsxs(I.Fragment,{children:[m.jsx(xOe,{themeId:W?t:void 0,theme:lt,children:b}),we&&m.jsx(JTe,{styles:((Oe=lt.generateStyleSheets)==null?void 0:Oe.call(lt))||[]})]});return Q?Be:m.jsx(c.Provider,{value:Te,children:Be})}const h=typeof a=="string"?a:a.light,p=typeof a=="string"?a:a.dark;return{CssVarsProvider:f,useColorScheme:u,getInitColorSchemeScript:y=>V7e({colorSchemeStorageKey:i,defaultLightColorScheme:h,defaultDarkColorScheme:p,modeStorageKey:n,...y})}}function tYe(e=""){function t(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${e?`${e}-`:""}${n}${t(...i)})`}const PG=(e,t,r,n=[])=>{let i=e;t.forEach((o,a)=>{a===t.length-1?Array.isArray(i)?i[Number(o)]=r:i&&typeof i=="object"&&(i[o]=r):i&&typeof i=="object"&&(i[o]||(i[o]=n.includes(o)?[]:{}),i=i[o])})},rYe=(e,t,r)=>{function n(i,o=[],a=[]){Object.entries(i).forEach(([s,l])=>{(!r||r&&!r([...o,s]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...o,s],Array.isArray(l)?[...a,s]:a):t([...o,s],l,a))})}n(e)},nYe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function xR(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},i={},o={},a={};return rYe(e,(s,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(s,l))){const u=`--${r?`${r}-`:""}${s.join("-")}`,d=nYe(s,l);Object.assign(i,{[u]:d}),PG(o,s,`var(${u})`,c),PG(a,s,`var(${u}, ${d})`,c)}},s=>s[0]==="vars"),{css:i,vars:o,varsWithDefaults:a}}function iYe(e,t={}){const{getSelector:r=v,disableCssColorScheme:n,colorSchemeSelector:i}=t,{colorSchemes:o={},components:a,defaultColorScheme:s="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=xR(l,t);let A=d;const f={},{[s]:h,...p}=o;if(Object.entries(p||{}).forEach(([x,S])=>{const{vars:C,css:_,varsWithDefaults:B}=xR(S,t);A=oa(A,B),f[x]={css:_,vars:C}}),h){const{css:x,vars:S,varsWithDefaults:C}=xR(h,t);A=oa(A,C),f[s]={css:x,vars:S}}function v(x,S){var _,B;let C=i;if(i==="class"&&(C=".%s"),i==="data"&&(C="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(C=`[${i}="%s"]`),x){if(C==="media")return e.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((B=(_=o[x])==null?void 0:_.palette)==null?void 0:B.mode)||x})`]:{":root":S}};if(C)return e.defaultColorScheme===x?`:root, ${C.replace("%s",String(x))}`:C.replace("%s",String(x))}return":root"}return{vars:A,generateThemeVars:()=>{let x={...c};return Object.entries(f).forEach(([,{vars:S}])=>{x=oa(x,S)}),x},generateStyleSheets:()=>{var T,O;const x=[],S=e.defaultColorScheme||"light";function C(P,F){Object.keys(F).length&&x.push(typeof P=="string"?{[P]:{...F}}:P)}C(r(void 0,{...u}),u);const{[S]:_,...B}=f;if(_){const{css:P}=_,F=(O=(T=o[S])==null?void 0:T.palette)==null?void 0:O.mode,U=!n&&F?{colorScheme:F,...P}:{...P};C(r(S,{...U}),U)}return Object.entries(B).forEach(([P,{css:F}])=>{var M,D;const U=(D=(M=o[P])==null?void 0:M.palette)==null?void 0:D.mode,k=!n&&U?{colorScheme:U,...F}:{...F};C(r(P,{...k}),k)}),x}}}function oYe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}const aYe=TI(),sYe=C7e("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${Mt(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),lYe=e=>E7e({props:e,name:"MuiContainer",defaultTheme:aYe}),cYe=(e,t)=>{const r=l=>wr(t,l),{classes:n,fixed:i,disableGutters:o,maxWidth:a}=e,s={root:["root",a&&`maxWidth${Mt(String(a))}`,i&&"fixed",o&&"disableGutters"]};return br(s,r,n)};function uYe(e={}){const{createStyledComponent:t=sYe,useThemeProps:r=lYe,componentName:n="MuiContainer"}=e,i=t(({theme:a,ownerState:s})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!s.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}}),({theme:a,ownerState:s})=>s.fixed&&Object.keys(a.breakpoints.values).reduce((l,c)=>{const u=c,d=a.breakpoints.values[u];return d!==0&&(l[a.breakpoints.up(u)]={maxWidth:`${d}${a.breakpoints.unit}`}),l},{}),({theme:a,ownerState:s})=>({...s.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},...s.maxWidth&&s.maxWidth!=="xs"&&{[a.breakpoints.up(s.maxWidth)]:{maxWidth:`${a.breakpoints.values[s.maxWidth]}${a.breakpoints.unit}`}}}));return I.forwardRef(function(s,l){const c=r(s),{className:u,component:d="div",disableGutters:A=!1,fixed:f=!1,maxWidth:h="lg",classes:p,...v}=c,y={...c,component:d,disableGutters:A,fixed:f,maxWidth:h},b=cYe(y,n);return m.jsx(i,{as:d,ownerState:y,className:ut(b.root,u),ref:l,...v})})}function COe(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:z0.white,default:z0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const dYe=COe();function _Oe(){return{text:{primary:z0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:z0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const TG=_Oe();function OG(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=Y0(e.main,i):t==="dark"&&(e.dark=G0(e.main,o)))}function AYe(e="light"){return e==="dark"?{main:Kp[200],light:Kp[50],dark:Kp[400]}:{main:Kp[700],light:Kp[400],dark:Kp[800]}}function fYe(e="light"){return e==="dark"?{main:zp[200],light:zp[50],dark:zp[400]}:{main:zp[500],light:zp[300],dark:zp[700]}}function hYe(e="light"){return e==="dark"?{main:qp[500],light:qp[300],dark:qp[700]}:{main:qp[700],light:qp[400],dark:qp[800]}}function pYe(e="light"){return e==="dark"?{main:Wp[400],light:Wp[300],dark:Wp[700]}:{main:Wp[700],light:Wp[500],dark:Wp[900]}}function gYe(e="light"){return e==="dark"?{main:Vp[400],light:Vp[300],dark:Vp[700]}:{main:Vp[800],light:Vp[500],dark:Vp[900]}}function mYe(e="light"){return e==="dark"?{main:cy[400],light:cy[300],dark:cy[700]}:{main:"#ed6c02",light:cy[500],dark:cy[900]}}function kq(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,...i}=e,o=e.primary||AYe(t),a=e.secondary||fYe(t),s=e.error||hYe(t),l=e.info||pYe(t),c=e.success||gYe(t),u=e.warning||mYe(t);function d(p){return P7e(p,TG.text.primary)>=r?TG.text.primary:dYe.text.primary}const A=({color:p,name:v,mainShade:y=500,lightShade:b=300,darkShade:x=700})=>{if(p={...p},!p.main&&p[y]&&(p.main=p[y]),!p.hasOwnProperty("main"))throw new Error(_d(11,v?` (${v})`:"",y));if(typeof p.main!="string")throw new Error(_d(12,v?` (${v})`:"",JSON.stringify(p.main)));return OG(p,"light",b,n),OG(p,"dark",x,n),p.contrastText||(p.contrastText=d(p.main)),p};let f;return t==="light"?f=COe():t==="dark"&&(f=_Oe()),oa({common:{...z0},mode:t,primary:A({color:o,name:"primary"}),secondary:A({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:s,name:"error"}),warning:A({color:u,name:"warning"}),info:A({color:l,name:"info"}),success:A({color:c,name:"success"}),grey:sVe,contrastThreshold:r,getContrastText:d,augmentColor:A,tonalOffset:n,...f},i)}function vYe(e){const t={};return Object.entries(e).forEach(n=>{const[i,o]=n;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function yYe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function wYe(e){return Math.round(e*1e5)/1e5}const RG={textTransform:"uppercase"},MG='"Roboto", "Helvetica", "Arial", sans-serif';function EOe(e,t){const{fontFamily:r=MG,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof t=="function"?t(e):t,A=n/14,f=u||(v=>`${v/l*A}rem`),h=(v,y,b,x,S)=>({fontFamily:r,fontWeight:v,fontSize:f(y),lineHeight:b,...r===MG?{letterSpacing:`${wYe(x/y)}em`}:{},...S,...c}),p={h1:h(i,96,1.167,-1.5),h2:h(i,60,1.2,-.5),h3:h(o,48,1.167,0),h4:h(o,34,1.235,.25),h5:h(o,24,1.334,0),h6:h(a,20,1.6,.15),subtitle1:h(o,16,1.75,.15),subtitle2:h(a,14,1.57,.1),body1:h(o,16,1.5,.15),body2:h(o,14,1.43,.15),button:h(a,14,1.75,.4,RG),caption:h(o,12,1.66,.4),overline:h(o,12,2.66,1,RG),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return oa({htmlFontSize:l,pxToRem:f,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:s,...p},d,{clone:!1})}const bYe=.2,xYe=.14,SYe=.12;function $n(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${bYe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${xYe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${SYe})`].join(",")}const CYe=["none",$n(0,2,1,-1,0,1,1,0,0,1,3,0),$n(0,3,1,-2,0,2,2,0,0,1,5,0),$n(0,3,3,-2,0,3,4,0,0,1,8,0),$n(0,2,4,-1,0,4,5,0,0,1,10,0),$n(0,3,5,-1,0,5,8,0,0,1,14,0),$n(0,3,5,-1,0,6,10,0,0,1,18,0),$n(0,4,5,-2,0,7,10,1,0,2,16,1),$n(0,5,5,-3,0,8,10,1,0,3,14,2),$n(0,5,6,-3,0,9,12,1,0,3,16,2),$n(0,6,6,-3,0,10,14,1,0,4,18,3),$n(0,6,7,-4,0,11,15,1,0,4,20,3),$n(0,7,8,-4,0,12,17,2,0,5,22,4),$n(0,7,8,-4,0,13,19,2,0,5,24,4),$n(0,7,9,-4,0,14,21,2,0,5,26,4),$n(0,8,9,-5,0,15,22,2,0,6,28,5),$n(0,8,10,-5,0,16,24,2,0,6,30,5),$n(0,8,11,-5,0,17,26,2,0,6,32,5),$n(0,9,11,-5,0,18,28,2,0,7,34,6),$n(0,9,12,-6,0,19,29,2,0,7,36,6),$n(0,10,13,-6,0,20,31,3,0,8,38,7),$n(0,10,13,-6,0,21,33,3,0,8,40,7),$n(0,10,14,-6,0,22,35,3,0,8,42,7),$n(0,11,14,-7,0,23,36,3,0,9,44,8),$n(0,11,15,-7,0,24,38,3,0,9,46,8)],_Ye={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},EYe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function FG(e){return`${Math.round(e)}ms`}function IYe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function BYe(e){const t={..._Ye,...e.easing},r={...EYe,...e.duration};return{getAutoHeightDuration:IYe,create:(i=["all"],o={})=>{const{duration:a=r.standard,easing:s=t.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:FG(a)} ${s} ${typeof l=="string"?l:FG(l)}`).join(",")},...e,easing:t,duration:r}}const PYe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function TYe(e){return Kc(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function IOe(e={}){const t={...e};function r(n){const i=Object.entries(n);for(let o=0;o<i.length;o++){const[a,s]=i[o];!TYe(s)||a.startsWith("unstable_")?delete n[a]:Kc(s)&&(n[a]={...s},r(n[a]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function DQ(e={},...t){const{breakpoints:r,mixins:n={},spacing:i,palette:o={},transitions:a={},typography:s={},shape:l,...c}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(_d(20));const u=kq(o),d=TI(e);let A=oa(d,{mixins:yYe(d.breakpoints,n),palette:u,shadows:CYe.slice(),typography:EOe(u,s),transitions:BYe(a),zIndex:{...PYe}});return A=oa(A,c),A=t.reduce((f,h)=>oa(f,h),A),A.unstable_sxConfig={...mb,...c==null?void 0:c.unstable_sxConfig},A.unstable_sx=function(h){return GA({sx:h,theme:this})},A.toRuntimeSource=IOe,A}function jQ(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const OYe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=jQ(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function BOe(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function POe(e){return e==="dark"?OYe:[]}function RYe(e){const{palette:t={mode:"light"},opacity:r,overlays:n,...i}=e,o=kq(t);return{palette:o,opacity:{...BOe(o.mode),...r},overlays:n||POe(o.mode),...i}}function MYe(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const FYe=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],kYe=e=>(t,r)=>{const n=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const a={};return FYe(e.cssVarPrefix).forEach(s=>{a[s]=r[s],delete r[s]}),o==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:a}}:o?{[o.replace("%s",t)]:a,[`${n}, ${o.replace("%s",t)}`]:r}:{[n]:{...r,...a}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(o)return o.replace("%s",String(t))}return n};function UYe(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function je(e,t,r){!e[t]&&r&&(e[t]=r)}function Vy(e){return typeof e!="string"||!e.startsWith("hsl")?e:uOe(e)}function qu(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Wy(Vy(e[t])))}function DYe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Uc=e=>{try{return e()}catch{}},jYe=(e="mui")=>tYe(e);function SR(e,t,r,n){if(!t)return;t=t===!0?{}:t;const i=n==="dark"?"dark":"light";if(!r){e[n]=RYe({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:o,...a}=DQ({...r,palette:{mode:i,...t==null?void 0:t.palette}});return e[n]={...t,palette:o,opacity:{...BOe(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||POe(i)},a}function LYe(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:a=MYe,colorSchemeSelector:s=r.light&&r.dark?"media":void 0,rootSelector:l=":root",...c}=e,u=Object.keys(r)[0],d=n||(r.light&&u!=="light"?"light":u),A=jYe(o),{[d]:f,light:h,dark:p,...v}=r,y={...v};let b=f;if((d==="dark"&&!("dark"in r)||d==="light"&&!("light"in r))&&(b=!0),!b)throw new Error(_d(21,d));const x=SR(y,b,c,d);h&&!y.light&&SR(y,h,void 0,"light"),p&&!y.dark&&SR(y,p,void 0,"dark");let S={defaultColorScheme:d,...x,cssVarPrefix:o,colorSchemeSelector:s,rootSelector:l,getCssVar:A,colorSchemes:y,font:{...vYe(x.typography),...x.font},spacing:DYe(c.spacing)};Object.keys(S.colorSchemes).forEach(O=>{const P=S.colorSchemes[O].palette,F=U=>{const k=U.split("-"),M=k[1],D=k[2];return A(U,P[M][D])};if(P.mode==="light"&&(je(P.common,"background","#fff"),je(P.common,"onBackground","#000")),P.mode==="dark"&&(je(P.common,"background","#000"),je(P.common,"onBackground","#fff")),UYe(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){je(P.Alert,"errorColor",hn(P.error.light,.6)),je(P.Alert,"infoColor",hn(P.info.light,.6)),je(P.Alert,"successColor",hn(P.success.light,.6)),je(P.Alert,"warningColor",hn(P.warning.light,.6)),je(P.Alert,"errorFilledBg",F("palette-error-main")),je(P.Alert,"infoFilledBg",F("palette-info-main")),je(P.Alert,"successFilledBg",F("palette-success-main")),je(P.Alert,"warningFilledBg",F("palette-warning-main")),je(P.Alert,"errorFilledColor",Uc(()=>P.getContrastText(P.error.main))),je(P.Alert,"infoFilledColor",Uc(()=>P.getContrastText(P.info.main))),je(P.Alert,"successFilledColor",Uc(()=>P.getContrastText(P.success.main))),je(P.Alert,"warningFilledColor",Uc(()=>P.getContrastText(P.warning.main))),je(P.Alert,"errorStandardBg",pn(P.error.light,.9)),je(P.Alert,"infoStandardBg",pn(P.info.light,.9)),je(P.Alert,"successStandardBg",pn(P.success.light,.9)),je(P.Alert,"warningStandardBg",pn(P.warning.light,.9)),je(P.Alert,"errorIconColor",F("palette-error-main")),je(P.Alert,"infoIconColor",F("palette-info-main")),je(P.Alert,"successIconColor",F("palette-success-main")),je(P.Alert,"warningIconColor",F("palette-warning-main")),je(P.AppBar,"defaultBg",F("palette-grey-100")),je(P.Avatar,"defaultBg",F("palette-grey-400")),je(P.Button,"inheritContainedBg",F("palette-grey-300")),je(P.Button,"inheritContainedHoverBg",F("palette-grey-A100")),je(P.Chip,"defaultBorder",F("palette-grey-400")),je(P.Chip,"defaultAvatarColor",F("palette-grey-700")),je(P.Chip,"defaultIconColor",F("palette-grey-700")),je(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),je(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),je(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),je(P.LinearProgress,"primaryBg",pn(P.primary.main,.62)),je(P.LinearProgress,"secondaryBg",pn(P.secondary.main,.62)),je(P.LinearProgress,"errorBg",pn(P.error.main,.62)),je(P.LinearProgress,"infoBg",pn(P.info.main,.62)),je(P.LinearProgress,"successBg",pn(P.success.main,.62)),je(P.LinearProgress,"warningBg",pn(P.warning.main,.62)),je(P.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),je(P.Slider,"primaryTrack",pn(P.primary.main,.62)),je(P.Slider,"secondaryTrack",pn(P.secondary.main,.62)),je(P.Slider,"errorTrack",pn(P.error.main,.62)),je(P.Slider,"infoTrack",pn(P.info.main,.62)),je(P.Slider,"successTrack",pn(P.success.main,.62)),je(P.Slider,"warningTrack",pn(P.warning.main,.62));const U=IS(P.background.default,.8);je(P.SnackbarContent,"bg",U),je(P.SnackbarContent,"color",Uc(()=>P.getContrastText(U))),je(P.SpeedDialAction,"fabHoverBg",IS(P.background.paper,.15)),je(P.StepConnector,"border",F("palette-grey-400")),je(P.StepContent,"border",F("palette-grey-400")),je(P.Switch,"defaultColor",F("palette-common-white")),je(P.Switch,"defaultDisabledColor",F("palette-grey-100")),je(P.Switch,"primaryDisabledColor",pn(P.primary.main,.62)),je(P.Switch,"secondaryDisabledColor",pn(P.secondary.main,.62)),je(P.Switch,"errorDisabledColor",pn(P.error.main,.62)),je(P.Switch,"infoDisabledColor",pn(P.info.main,.62)),je(P.Switch,"successDisabledColor",pn(P.success.main,.62)),je(P.Switch,"warningDisabledColor",pn(P.warning.main,.62)),je(P.TableCell,"border",pn(ES(P.divider,1),.88)),je(P.Tooltip,"bg",ES(P.grey[700],.92))}if(P.mode==="dark"){je(P.Alert,"errorColor",pn(P.error.light,.6)),je(P.Alert,"infoColor",pn(P.info.light,.6)),je(P.Alert,"successColor",pn(P.success.light,.6)),je(P.Alert,"warningColor",pn(P.warning.light,.6)),je(P.Alert,"errorFilledBg",F("palette-error-dark")),je(P.Alert,"infoFilledBg",F("palette-info-dark")),je(P.Alert,"successFilledBg",F("palette-success-dark")),je(P.Alert,"warningFilledBg",F("palette-warning-dark")),je(P.Alert,"errorFilledColor",Uc(()=>P.getContrastText(P.error.dark))),je(P.Alert,"infoFilledColor",Uc(()=>P.getContrastText(P.info.dark))),je(P.Alert,"successFilledColor",Uc(()=>P.getContrastText(P.success.dark))),je(P.Alert,"warningFilledColor",Uc(()=>P.getContrastText(P.warning.dark))),je(P.Alert,"errorStandardBg",hn(P.error.light,.9)),je(P.Alert,"infoStandardBg",hn(P.info.light,.9)),je(P.Alert,"successStandardBg",hn(P.success.light,.9)),je(P.Alert,"warningStandardBg",hn(P.warning.light,.9)),je(P.Alert,"errorIconColor",F("palette-error-main")),je(P.Alert,"infoIconColor",F("palette-info-main")),je(P.Alert,"successIconColor",F("palette-success-main")),je(P.Alert,"warningIconColor",F("palette-warning-main")),je(P.AppBar,"defaultBg",F("palette-grey-900")),je(P.AppBar,"darkBg",F("palette-background-paper")),je(P.AppBar,"darkColor",F("palette-text-primary")),je(P.Avatar,"defaultBg",F("palette-grey-600")),je(P.Button,"inheritContainedBg",F("palette-grey-800")),je(P.Button,"inheritContainedHoverBg",F("palette-grey-700")),je(P.Chip,"defaultBorder",F("palette-grey-700")),je(P.Chip,"defaultAvatarColor",F("palette-grey-300")),je(P.Chip,"defaultIconColor",F("palette-grey-300")),je(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),je(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),je(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),je(P.LinearProgress,"primaryBg",hn(P.primary.main,.5)),je(P.LinearProgress,"secondaryBg",hn(P.secondary.main,.5)),je(P.LinearProgress,"errorBg",hn(P.error.main,.5)),je(P.LinearProgress,"infoBg",hn(P.info.main,.5)),je(P.LinearProgress,"successBg",hn(P.success.main,.5)),je(P.LinearProgress,"warningBg",hn(P.warning.main,.5)),je(P.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),je(P.Slider,"primaryTrack",hn(P.primary.main,.5)),je(P.Slider,"secondaryTrack",hn(P.secondary.main,.5)),je(P.Slider,"errorTrack",hn(P.error.main,.5)),je(P.Slider,"infoTrack",hn(P.info.main,.5)),je(P.Slider,"successTrack",hn(P.success.main,.5)),je(P.Slider,"warningTrack",hn(P.warning.main,.5));const U=IS(P.background.default,.98);je(P.SnackbarContent,"bg",U),je(P.SnackbarContent,"color",Uc(()=>P.getContrastText(U))),je(P.SpeedDialAction,"fabHoverBg",IS(P.background.paper,.15)),je(P.StepConnector,"border",F("palette-grey-600")),je(P.StepContent,"border",F("palette-grey-600")),je(P.Switch,"defaultColor",F("palette-grey-300")),je(P.Switch,"defaultDisabledColor",F("palette-grey-600")),je(P.Switch,"primaryDisabledColor",hn(P.primary.main,.55)),je(P.Switch,"secondaryDisabledColor",hn(P.secondary.main,.55)),je(P.Switch,"errorDisabledColor",hn(P.error.main,.55)),je(P.Switch,"infoDisabledColor",hn(P.info.main,.55)),je(P.Switch,"successDisabledColor",hn(P.success.main,.55)),je(P.Switch,"warningDisabledColor",hn(P.warning.main,.55)),je(P.TableCell,"border",hn(ES(P.divider,1),.68)),je(P.Tooltip,"bg",ES(P.grey[700],.92))}qu(P.background,"default"),qu(P.background,"paper"),qu(P.common,"background"),qu(P.common,"onBackground"),qu(P,"divider"),Object.keys(P).forEach(U=>{const k=P[U];U!=="tonalOffset"&&k&&typeof k=="object"&&(k.main&&je(P[U],"mainChannel",Wy(Vy(k.main))),k.light&&je(P[U],"lightChannel",Wy(Vy(k.light))),k.dark&&je(P[U],"darkChannel",Wy(Vy(k.dark))),k.contrastText&&je(P[U],"contrastTextChannel",Wy(Vy(k.contrastText))),U==="text"&&(qu(P[U],"primary"),qu(P[U],"secondary")),U==="action"&&(k.active&&qu(P[U],"active"),k.selected&&qu(P[U],"selected")))})}),S=t.reduce((O,P)=>oa(O,P),S);const C={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:kYe(S)},{vars:_,generateThemeVars:B,generateStyleSheets:T}=iYe(S,C);return S.vars=_,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([O,P])=>{S[O]=P}),S.generateThemeVars=B,S.generateStyleSheets=T,S.generateSpacing=function(){return nOe(c.spacing,Iq(this))},S.getColorSchemeSelector=oYe(s),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=a,S.unstable_sxConfig={...mb,...c==null?void 0:c.unstable_sxConfig},S.unstable_sx=function(P){return GA({sx:P,theme:this})},S.toRuntimeSource=IOe,S}function kG(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:kq({...r===!0?{}:r.palette,mode:t})})}function FI(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:o=r==null?void 0:r.mode,...a}=e,s=o||"light",l=i==null?void 0:i[s],c={...i,...r?{[s]:{...typeof l!="boolean"&&l,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return DQ(e,...t);let u=r;"palette"in e||c[s]&&(c[s]!==!0?u=c[s].palette:s==="dark"&&(u={mode:"dark"}));const d=DQ({...e,palette:u},...t);return d.defaultColorScheme=s,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},kG(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},kG(d,"light",c.light)),d}return!r&&!("light"in c)&&s==="light"&&(c.light=!0),LYe({...a,colorSchemes:c,defaultColorScheme:s,...typeof n!="boolean"&&n},...t)}const Uq=FI();function Hm(){const e=OI(Uq);return e[eu]||e}function kI(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Cl=e=>kI(e)&&e!=="classes",vt=cOe({themeId:eu,defaultTheme:Uq,rootShouldForwardProp:Cl});function UG({theme:e,...t}){const r=eu in e?e[eu]:void 0;return m.jsx(xOe,{...t,themeId:r?eu:void 0,theme:r||e})}const BS={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:NYe}=eYe({themeId:eu,theme:()=>FI({cssVariables:!0}),colorSchemeStorageKey:BS.colorSchemeStorageKey,modeStorageKey:BS.modeStorageKey,defaultColorScheme:{light:BS.defaultLightColorScheme,dark:BS.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:EOe(e.palette,e.typography)};return t.unstable_sx=function(n){return GA({sx:n,theme:this})},t}}),$Ye=NYe;function QYe({theme:e,...t}){return typeof e=="function"?m.jsx(UG,{theme:e,...t}):"colorSchemes"in(eu in e?e[eu]:e)?m.jsx($Ye,{theme:e,...t}):m.jsx(UG,{theme:e,...t})}function HYe(e){return m.jsx(A7e,{...e,defaultTheme:Uq,themeId:eu})}function qYe(e){return function(r){return m.jsx(HYe,{styles:typeof e=="function"?n=>e({theme:n,...r}):e})}}function zYe(){return Pq}const Mr=K7e;function Ir(e){return z7e(e)}function KYe(e){return wr("MuiSvgIcon",e)}dr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const WYe=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${Mt(t)}`,`fontSize${Mt(r)}`]};return br(i,KYe,n)},VYe=vt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Mt(r.color)}`],t[`fontSize${Mt(r.fontSize)}`]]}})(Mr(({theme:e})=>{var t,r,n,i,o,a,s,l,c,u,d,A,f,h;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(n=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:p=>!p.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,p])=>p&&p.main).map(([p])=>{var v,y;return{props:{color:p},style:{color:(y=(v=(e.vars??e).palette)==null?void 0:v[p])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(A=(d=(e.vars??e).palette)==null?void 0:d.action)==null?void 0:A.active}},{props:{color:"disabled"},style:{color:(h=(f=(e.vars??e).palette)==null?void 0:f.action)==null?void 0:h.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),LQ=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:A="0 0 24 24",...f}=n,h=I.isValidElement(i)&&i.type==="svg",p={...n,color:a,component:s,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:A,hasSvgAsChild:h},v={};u||(v.viewBox=A);const y=WYe(p);return m.jsxs(VYe,{as:s,className:ut(y.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r,...v,...f,...h&&i.props,ownerState:p,children:[h?i.props.children:i,d?m.jsx("title",{children:d}):null]})});LQ.muiName="SvgIcon";function TOe(e,t){function r(n,i){return m.jsx(LQ,{"data-testid":`${t}Icon`,ref:i,...n,children:e})}return r.muiName=LQ.muiName,I.memo(I.forwardRef(r))}function GYe(e,t){if(!e)return t;if(typeof e=="function"||typeof t=="function")return i=>{const o=typeof t=="function"?t(i):t,a=typeof e=="function"?e({...i,...o}):e,s=ut(i==null?void 0:i.className,o==null?void 0:o.className,a==null?void 0:a.className);return{...o,...a,...!!s&&{className:s},...(o==null?void 0:o.style)&&(a==null?void 0:a.style)&&{style:{...o.style,...a.style}},...(o==null?void 0:o.sx)&&(a==null?void 0:a.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(a.sx)?a.sx:[a.sx]]}}};const r=t,n=ut(r==null?void 0:r.className,e==null?void 0:e.className);return{...t,...e,...!!n&&{className:n},...(r==null?void 0:r.style)&&(e==null?void 0:e.style)&&{style:{...r.style,...e.style}},...(r==null?void 0:r.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function OOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NQ(e,t){return NQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},NQ(e,t)}function ROe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,NQ(e,t)}const DG={disabled:!1},d_=ue.createContext(null);var YYe=function(t){return t.scrollTop},Gy="unmounted",Jf="exited",Zf="entering",mg="entered",$Q="exiting",vu=function(e){ROe(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var a=i,s=a&&!a.isMounting?n.enter:n.appear,l;return o.appearStatus=null,n.in?s?(l=Jf,o.appearStatus=Zf):l=mg:n.unmountOnExit||n.mountOnEnter?l=Gy:l=Jf,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Gy?{status:Jf}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Zf&&a!==mg&&(o=Zf):(a===Zf||a===mg)&&(o=$Q)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Zf){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Ky.findDOMNode(this);a&&YYe(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Jf&&this.setState({status:Gy})},r.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[Ky.findDOMNode(this),s],c=l[0],u=l[1],d=this.getTimeouts(),A=s?d.appear:d.enter;if(!i&&!a||DG.disabled){this.safeSetState({status:mg},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Zf},function(){o.props.onEntering(c,u),o.onTransitionEnd(A,function(){o.safeSetState({status:mg},function(){o.props.onEntered(c,u)})})})},r.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:Ky.findDOMNode(this);if(!o||DG.disabled){this.safeSetState({status:Jf},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:$Q},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Jf},function(){i.props.onExited(s)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Ky.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Gy)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=OOe(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ue.createElement(d_.Provider,{value:null},typeof a=="function"?a(i,s):ue.cloneElement(ue.Children.only(a),s))},t}(ue.Component);vu.contextType=d_;vu.propTypes={};function Gp(){}vu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gp,onEntering:Gp,onEntered:Gp,onExit:Gp,onExiting:Gp,onExited:Gp};vu.UNMOUNTED=Gy;vu.EXITED=Jf;vu.ENTERING=Zf;vu.ENTERED=mg;vu.EXITING=$Q;function XYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dq(e,t){var r=function(o){return t&&I.isValidElement(o)?t(o):o},n=Object.create(null);return e&&I.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function JYe(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var a,s={};for(var l in t){if(n[l])for(a=0;a<n[l].length;a++){var c=n[l][a];s[n[l][a]]=r(c)}s[l]=r(l)}for(a=0;a<i.length;a++)s[i[a]]=r(i[a]);return s}function sh(e,t,r){return r[t]!=null?r[t]:e.props[t]}function ZYe(e,t){return Dq(e.children,function(r){return I.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:sh(r,"appear",e),enter:sh(r,"enter",e),exit:sh(r,"exit",e)})})}function eXe(e,t,r){var n=Dq(e.children),i=JYe(t,n);return Object.keys(i).forEach(function(o){var a=i[o];if(I.isValidElement(a)){var s=o in t,l=o in n,c=t[o],u=I.isValidElement(c)&&!c.props.in;l&&(!s||u)?i[o]=I.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:sh(a,"exit",e),enter:sh(a,"enter",e)}):!l&&s&&!u?i[o]=I.cloneElement(a,{in:!1}):l&&s&&I.isValidElement(c)&&(i[o]=I.cloneElement(a,{onExited:r.bind(null,a),in:c.props.in,exit:sh(a,"exit",e),enter:sh(a,"enter",e)}))}}),i}var tXe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},rXe={component:"div",childFactory:function(t){return t}},jq=function(e){ROe(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var a=o.handleExited.bind(XYe(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?ZYe(i,s):eXe(i,a,s),firstRender:!1}},r.handleExited=function(i,o){var a=Dq(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=s_({},s.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=OOe(i,["component","childFactory"]),l=this.state.contextValue,c=tXe(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?ue.createElement(d_.Provider,{value:l},c):ue.createElement(d_.Provider,{value:l},ue.createElement(o,s,c))},t}(ue.Component);jq.propTypes={};jq.defaultProps=rXe;const MOe=e=>e.scrollTop;function A_(e,t){const{timeout:r,easing:n,style:i={}}=e;return{duration:i.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:i.transitionDelay}}function nXe(e){return wr("MuiPaper",e)}dr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const iXe=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return br(o,nXe,i)},oXe=vt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(Mr(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),yu=I.forwardRef(function(t,r){var f;const n=Ir({props:t,name:"MuiPaper"}),i=Hm(),{className:o,component:a="div",elevation:s=1,square:l=!1,variant:c="elevation",...u}=n,d={...n,component:a,elevation:s,square:l,variant:c},A=iXe(d);return m.jsx(oXe,{as:a,ownerState:d,className:ut(A.root,o),ref:r,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[s],...i.vars&&{"--Paper-overlay":(f=i.vars.overlays)==null?void 0:f[s]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${zn("#fff",jQ(s))}, ${zn("#fff",jQ(s))})`}},...u.style}})});function Ai(e,t){const{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:a,shouldForwardComponentProp:s=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...A}=o,f=u[e]||n,h=mOe(d[e],i),{props:{component:p,...v},internalRef:y}=gOe({className:r,...l,externalForwardedProps:e==="root"?A:void 0,externalSlotProps:h}),b=Po(y,h==null?void 0:h.ref,t.ref),x=e==="root"?p||c:p,S=pOe(f,{...e==="root"&&!c&&!u[e]&&a,...e!=="root"&&!u[e]&&a,...v,...x&&!s&&{as:x},...x&&s&&{component:x},ref:b},i);return[f,S]}class f_{constructor(){K(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new f_}static use(){const t=AOe(f_.create).current,[r,n]=I.useState(!1);return t.shouldMount=r,t.setShouldMount=n,I.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=sXe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function aXe(){return f_.use()}function sXe(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r}function lXe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:l,timeout:c}=e,[u,d]=I.useState(!1),A=ut(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},h=ut(r.child,u&&r.childLeaving,n&&r.childPulsate);return!s&&!u&&d(!0),I.useEffect(()=>{if(!s&&l!=null){const p=setTimeout(l,c);return()=>{clearTimeout(p)}}},[l,s,c]),m.jsx("span",{className:A,style:f,children:m.jsx("span",{className:h})})}const rl=dr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),QQ=550,cXe=80,uXe=hb`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,dXe=hb`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,AXe=hb`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,fXe=vt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),hXe=vt(lXe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${rl.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${uXe};
    animation-duration: ${QQ}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${rl.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${rl.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${rl.childLeaving} {
    opacity: 0;
    animation-name: ${dXe};
    animation-duration: ${QQ}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${rl.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${AXe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,pXe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a,...s}=n,[l,c]=I.useState([]),u=I.useRef(0),d=I.useRef(null);I.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const A=I.useRef(!1),f=fOe(),h=I.useRef(null),p=I.useRef(null),v=I.useCallback(S=>{const{pulsate:C,rippleX:_,rippleY:B,rippleSize:T,cb:O}=S;c(P=>[...P,m.jsx(hXe,{classes:{ripple:ut(o.ripple,rl.ripple),rippleVisible:ut(o.rippleVisible,rl.rippleVisible),ripplePulsate:ut(o.ripplePulsate,rl.ripplePulsate),child:ut(o.child,rl.child),childLeaving:ut(o.childLeaving,rl.childLeaving),childPulsate:ut(o.childPulsate,rl.childPulsate)},timeout:QQ,pulsate:C,rippleX:_,rippleY:B,rippleSize:T},u.current)]),u.current+=1,d.current=O},[o]),y=I.useCallback((S={},C={},_=()=>{})=>{const{pulsate:B=!1,center:T=i||C.pulsate,fakeElement:O=!1}=C;if((S==null?void 0:S.type)==="mousedown"&&A.current){A.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(A.current=!0);const P=O?null:p.current,F=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,k,M;if(T||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)U=Math.round(F.width/2),k=Math.round(F.height/2);else{const{clientX:D,clientY:j}=S.touches&&S.touches.length>0?S.touches[0]:S;U=Math.round(D-F.left),k=Math.round(j-F.top)}if(T)M=Math.sqrt((2*F.width**2+F.height**2)/3),M%2===0&&(M+=1);else{const D=Math.max(Math.abs((P?P.clientWidth:0)-U),U)*2+2,j=Math.max(Math.abs((P?P.clientHeight:0)-k),k)*2+2;M=Math.sqrt(D**2+j**2)}S!=null&&S.touches?h.current===null&&(h.current=()=>{v({pulsate:B,rippleX:U,rippleY:k,rippleSize:M,cb:_})},f.start(cXe,()=>{h.current&&(h.current(),h.current=null)})):v({pulsate:B,rippleX:U,rippleY:k,rippleSize:M,cb:_})},[i,v,f]),b=I.useCallback(()=>{y({},{pulsate:!0})},[y]),x=I.useCallback((S,C)=>{if(f.clear(),(S==null?void 0:S.type)==="touchend"&&h.current){h.current(),h.current=null,f.start(0,()=>{x(S,C)});return}h.current=null,c(_=>_.length>0?_.slice(1):_),d.current=C},[f]);return I.useImperativeHandle(r,()=>({pulsate:b,start:y,stop:x}),[b,y,x]),m.jsx(fXe,{className:ut(rl.root,o.root,a),ref:p,...s,children:m.jsx(jq,{component:null,exit:!0,children:l})})});function gXe(e){return wr("MuiButtonBase",e)}const mXe=dr("MuiButtonBase",["root","disabled","focusVisible"]),vXe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,a=br({root:["root",t&&"disabled",r&&"focusVisible"]},gXe,i);return r&&n&&(a.root+=` ${n}`),a},yXe=vt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${mXe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),UI=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:A=!1,focusVisibleClassName:f,LinkComponent:h="a",onBlur:p,onClick:v,onContextMenu:y,onDragLeave:b,onFocus:x,onFocusVisible:S,onKeyDown:C,onKeyUp:_,onMouseDown:B,onMouseLeave:T,onMouseUp:O,onTouchEnd:P,onTouchMove:F,onTouchStart:U,tabIndex:k=0,TouchRippleProps:M,touchRippleRef:D,type:j,...$}=n,Q=I.useRef(null),H=aXe(),W=Po(H.ref,D),[z,V]=I.useState(!1);c&&z&&V(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),Q.current.focus()}}),[]);const G=H.shouldMount&&!u&&!c;I.useEffect(()=>{z&&A&&!u&&H.pulsate()},[u,A,z,H]);const X=zu(H,"start",B,d),Z=zu(H,"stop",y,d),oe=zu(H,"stop",b,d),ae=zu(H,"stop",O,d),ne=zu(H,"stop",we=>{z&&we.preventDefault(),T&&T(we)},d),te=zu(H,"start",U,d),se=zu(H,"stop",P,d),de=zu(H,"stop",F,d),re=zu(H,"stop",we=>{u_(we.target)||V(!1),p&&p(we)},!1),he=Ad(we=>{Q.current||(Q.current=we.currentTarget),u_(we.target)&&(V(!0),S&&S(we)),x&&x(we)}),ye=()=>{const we=Q.current;return l&&l!=="button"&&!(we.tagName==="A"&&we.href)},ke=Ad(we=>{A&&!we.repeat&&z&&we.key===" "&&H.stop(we,()=>{H.start(we)}),we.target===we.currentTarget&&ye()&&we.key===" "&&we.preventDefault(),C&&C(we),we.target===we.currentTarget&&ye()&&we.key==="Enter"&&!c&&(we.preventDefault(),v&&v(we))}),Ue=Ad(we=>{A&&we.key===" "&&z&&!we.defaultPrevented&&H.stop(we,()=>{H.pulsate(we)}),_&&_(we),v&&we.target===we.currentTarget&&ye()&&we.key===" "&&!we.defaultPrevented&&v(we)});let Ne=l;Ne==="button"&&($.href||$.to)&&(Ne=h);const Ye={};Ne==="button"?(Ye.type=j===void 0?"button":j,Ye.disabled=c):(!$.href&&!$.to&&(Ye.role="button"),c&&(Ye["aria-disabled"]=c));const lt=Po(r,Q),Ve={...n,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:A,tabIndex:k,focusVisible:z},Te=vXe(Ve);return m.jsxs(yXe,{as:Ne,className:ut(Te.root,s),ownerState:Ve,onBlur:re,onClick:v,onContextMenu:Z,onFocus:he,onKeyDown:ke,onKeyUp:Ue,onMouseDown:X,onMouseLeave:ne,onMouseUp:ae,onDragLeave:oe,onTouchEnd:se,onTouchMove:de,onTouchStart:te,ref:lt,tabIndex:c?-1:k,type:j,...Ye,...$,children:[a,G?m.jsx(pXe,{ref:W,center:o,...M}):null]})});function zu(e,t,r,n=!1){return Ad(i=>(r&&r(i),n||e[t](i),!0))}function wXe(e){return typeof e.main=="string"}function bXe(e,t=[]){if(!wXe(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function ts(e=[]){return([,t])=>t&&bXe(t,e)}function xXe(e){return wr("MuiCircularProgress",e)}dr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hA=44,HQ=hb`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,qQ=hb`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,SXe=typeof HQ!="string"?Cq`
        animation: ${HQ} 1.4s linear infinite;
      `:null,CXe=typeof qQ!="string"?Cq`
        animation: ${qQ} 1.4s ease-in-out infinite;
      `:null,_Xe=e=>{const{classes:t,variant:r,color:n,disableShrink:i}=e,o={root:["root",r,`color${Mt(n)}`],svg:["svg"],circle:["circle",`circle${Mt(r)}`,i&&"circleDisableShrink"]};return br(o,xXe,t)},EXe=vt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${Mt(r.color)}`]]}})(Mr(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:SXe||{animation:`${HQ} 1.4s linear infinite`}},...Object.entries(e.palette).filter(ts()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),IXe=vt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),BXe=vt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${Mt(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(Mr(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:CXe||{animation:`${qQ} 1.4s ease-in-out infinite`}}]}))),FOe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:a=!1,size:s=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...A}=n,f={...n,color:o,disableShrink:a,size:s,thickness:c,value:u,variant:d},h=_Xe(f),p={},v={},y={};if(d==="determinate"){const b=2*Math.PI*((hA-c)/2);p.strokeDasharray=b.toFixed(3),y["aria-valuenow"]=Math.round(u),p.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,v.transform="rotate(-90deg)"}return m.jsx(EXe,{className:ut(h.root,i),style:{width:s,height:s,...v,...l},ownerState:f,ref:r,role:"progressbar",...y,...A,children:m.jsx(IXe,{className:h.svg,ownerState:f,viewBox:`${hA/2} ${hA/2} ${hA} ${hA}`,children:m.jsx(BXe,{className:h.circle,style:p,ownerState:f,cx:hA,cy:hA,r:(hA-c)/2,fill:"none",strokeWidth:c})})})});function PXe(e){return wr("MuiIconButton",e)}const jG=dr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),TXe=e=>{const{classes:t,disabled:r,color:n,edge:i,size:o,loading:a}=e,s={root:["root",a&&"loading",r&&"disabled",n!=="default"&&`color${Mt(n)}`,i&&`edge${Mt(i)}`,`size${Mt(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return br(s,PXe,t)},OXe=vt(UI,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,r.color!=="default"&&t[`color${Mt(r.color)}`],r.edge&&t[`edge${Mt(r.edge)}`],t[`size${Mt(r.size)}`]]}})(Mr(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Mr(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(ts()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(ts()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zn((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${jG.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${jG.loading}`]:{color:"transparent"}}))),RXe=vt("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),kOe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:s="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:d,loading:A=null,loadingIndicator:f,...h}=n,p=MI(d),v=f??m.jsx(FOe,{"aria-labelledby":p,color:"inherit",size:16}),y={...n,edge:i,color:s,disabled:l,disableFocusRipple:c,loading:A,loadingIndicator:v,size:u},b=TXe(y);return m.jsxs(OXe,{id:A?p:d,className:ut(b.root,a),centerRipple:!0,focusRipple:!c,disabled:l||A,ref:r,...h,ownerState:y,children:[typeof A=="boolean"&&m.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:m.jsx(RXe,{className:b.loadingIndicator,ownerState:y,children:A&&v})}),o]})});function MXe(e){return wr("MuiTypography",e)}const h_=dr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),FXe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},kXe=zYe(),UXe=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:a}=e,s={root:["root",o,e.align!=="inherit"&&`align${Mt(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return br(s,MXe,a)},DXe=vt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${Mt(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(Mr(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(e.palette).filter(ts()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${Mt(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),LG={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Bt=I.forwardRef(function(t,r){const{color:n,...i}=Ir({props:t,name:"MuiTypography"}),o=!FXe[n],a=kXe({...i,...o&&{color:n}}),{align:s="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:A=!1,variant:f="body1",variantMapping:h=LG,...p}=a,v={...a,align:s,color:n,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:A,variant:f,variantMapping:h},y=c||(A?"p":h[f]||LG[f])||"span",b=UXe(v);return m.jsx(DXe,{as:y,ref:r,className:ut(b.root,l),...p,ownerState:v,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...p.style}})});function jXe(e){return wr("MuiAppBar",e)}dr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const LXe=e=>{const{color:t,position:r,classes:n}=e,i={root:["root",`color${Mt(t)}`,`position${Mt(r)}`]};return br(i,jXe,n)},NG=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,NXe=vt(yu,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${Mt(r.position)}`],t[`color${Mt(r.color)}`]]}})(Mr(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(ts(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?NG(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?NG(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),$Xe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:a=!1,position:s="fixed",...l}=n,c={...n,color:o,position:s,enableColorOnDark:a},u=LXe(c);return m.jsx(NXe,{square:!0,component:"header",ownerState:c,elevation:4,className:ut(u.root,i,s==="fixed"&&"mui-fixed"),ref:r,...l})});function QXe(e){return typeof e=="function"?e():e}const HXe=I.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[a,s]=I.useState(null),l=Po(I.isValidElement(n)?vb(n):null,r);if(au(()=>{o||s(QXe(i)||document.body)},[i,o]),au(()=>{if(a&&!o)return kQ(r,a),()=>{kQ(r,null)}},[r,a,o]),o){if(I.isValidElement(n)){const c={ref:l};return I.cloneElement(n,c)}return n}return a&&Vh.createPortal(n,a)});function PS(e){return parseInt(e,10)||0}const qXe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function zXe(e){for(const t in e)return!1;return!0}function KXe(e){return zXe(e)||e.outerHeightStyle===0&&!e.overflowing}const WXe=I.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:a,value:s,...l}=t,{current:c}=I.useRef(s!=null),u=I.useRef(null),d=Po(r,u),A=I.useRef(null),f=I.useRef(null),h=I.useCallback(()=>{const b=u.current,x=f.current;if(!b||!x)return;const C=Ed(b).getComputedStyle(b);if(C.width==="0px")return{outerHeightStyle:0,overflowing:!1};x.style.width=C.width,x.value=b.value||t.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const _=C.boxSizing,B=PS(C.paddingBottom)+PS(C.paddingTop),T=PS(C.borderBottomWidth)+PS(C.borderTopWidth),O=x.scrollHeight;x.value="x";const P=x.scrollHeight;let F=O;o&&(F=Math.max(Number(o)*P,F)),i&&(F=Math.min(Number(i)*P,F)),F=Math.max(F,P);const U=F+(_==="border-box"?B+T:0),k=Math.abs(F-O)<=1;return{outerHeightStyle:U,overflowing:k}},[i,o,t.placeholder]),p=I.useCallback(()=>{const b=u.current,x=h();if(!b||!x||KXe(x))return;const S=x.outerHeightStyle;A.current!==S&&(A.current=S,b.style.height=`${S}px`),b.style.overflow=x.overflowing?"hidden":""},[h]),v=I.useRef(-1);au(()=>{const b=dOe(()=>p()),x=u==null?void 0:u.current;if(!x)return;const S=Ed(x);S.addEventListener("resize",b);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(()=>{C.unobserve(x),cancelAnimationFrame(v.current),p(),v.current=requestAnimationFrame(()=>{C.observe(x)})}),C.observe(x)),()=>{b.clear(),cancelAnimationFrame(v.current),S.removeEventListener("resize",b),C&&C.disconnect()}},[h,p]),au(()=>{p()});const y=b=>{c||p(),n&&n(b)};return m.jsxs(I.Fragment,{children:[m.jsx("textarea",{value:s,onChange:y,ref:d,rows:o,style:a,...l}),m.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:f,tabIndex:-1,style:{...qXe.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function fd(e){return typeof e=="string"}function qm({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const Lq=I.createContext(void 0);function zm(){return I.useContext(Lq)}function $G(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function p_(e,t=!1){return e&&($G(e.value)&&e.value!==""||t&&$G(e.defaultValue)&&e.defaultValue!=="")}function VXe(e){return e.startAdornment}function GXe(e){return wr("MuiInputBase",e)}const Zg=dr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var QG;const DI=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${Mt(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},jI=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},YXe=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:A,startAdornment:f,type:h}=e,p={root:["root",`color${Mt(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",A&&A!=="medium"&&`size${Mt(A)}`,u&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",n&&"disabled",h==="search"&&"inputTypeSearch",u&&"inputMultiline",A==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return br(p,GXe,t)},LI=vt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:DI})(Mr(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Zg.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),NI=vt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:jI})(Mr(({theme:e})=>{const t=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Zg.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Zg.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),HG=qYe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Nq=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:s,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:A,disableInjectingGlobalStyles:f,endAdornment:h,error:p,fullWidth:v=!1,id:y,inputComponent:b="input",inputProps:x={},inputRef:S,margin:C,maxRows:_,minRows:B,multiline:T=!1,name:O,onBlur:P,onChange:F,onClick:U,onFocus:k,onKeyDown:M,onKeyUp:D,placeholder:j,readOnly:$,renderSuffix:Q,rows:H,size:W,slotProps:z={},slots:V={},startAdornment:G,type:X="text",value:Z,...oe}=n,ae=x.value!=null?x.value:Z,{current:ne}=I.useRef(ae!=null),te=I.useRef(),se=I.useCallback(ce=>{},[]),de=Po(te,S,x.ref,se),[re,he]=I.useState(!1),ye=zm(),ke=qm({props:n,muiFormControl:ye,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ke.focused=ye?ye.focused:re,I.useEffect(()=>{!ye&&A&&re&&(he(!1),P&&P())},[ye,A,re,P]);const Ue=ye&&ye.onFilled,Ne=ye&&ye.onEmpty,Ye=I.useCallback(ce=>{p_(ce)?Ue&&Ue():Ne&&Ne()},[Ue,Ne]);au(()=>{ne&&Ye({value:ae})},[ae,Ye,ne]);const lt=ce=>{k&&k(ce),x.onFocus&&x.onFocus(ce),ye&&ye.onFocus?ye.onFocus(ce):he(!0)},Ve=ce=>{P&&P(ce),x.onBlur&&x.onBlur(ce),ye&&ye.onBlur?ye.onBlur(ce):he(!1)},Te=(ce,...pe)=>{if(!ne){const xe=ce.target||te.current;if(xe==null)throw new Error(_d(1));Ye({value:xe.value})}x.onChange&&x.onChange(ce,...pe),F&&F(ce,...pe)};I.useEffect(()=>{Ye(te.current)},[]);const we=ce=>{te.current&&ce.currentTarget===ce.target&&te.current.focus(),U&&U(ce)};let Be=b,Ze=x;T&&Be==="input"&&(H?Ze={type:void 0,minRows:H,maxRows:H,...Ze}:Ze={type:void 0,maxRows:_,minRows:B,...Ze},Be=WXe);const me=ce=>{Ye(ce.animationName==="mui-auto-fill-cancel"?te.current:{value:"x"})};I.useEffect(()=>{ye&&ye.setAdornedStart(!!G)},[ye,G]);const Se={...n,color:ke.color||"primary",disabled:ke.disabled,endAdornment:h,error:ke.error,focused:ke.focused,formControl:ye,fullWidth:v,hiddenLabel:ke.hiddenLabel,multiline:T,size:ke.size,startAdornment:G,type:X},Oe=YXe(Se),it=V.root||c.Root||LI,ft=z.root||u.root||{},ee=V.input||c.Input||NI;return Ze={...Ze,...z.input??u.input},m.jsxs(I.Fragment,{children:[!f&&typeof HG=="function"&&(QG||(QG=m.jsx(HG,{}))),m.jsxs(it,{...ft,ref:r,onClick:we,...oe,...!fd(it)&&{ownerState:{...Se,...ft.ownerState}},className:ut(Oe.root,ft.className,s,$&&"MuiInputBase-readOnly"),children:[G,m.jsx(Lq.Provider,{value:null,children:m.jsx(ee,{"aria-invalid":ke.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:d,disabled:ke.disabled,id:y,onAnimationStart:me,name:O,placeholder:j,readOnly:$,required:ke.required,rows:H,value:ae,onKeyDown:M,onKeyUp:D,type:X,...Ze,...!fd(ee)&&{as:Be,ownerState:{...Se,...Ze.ownerState}},ref:de,className:ut(Oe.input,Ze.className,$&&"MuiInputBase-readOnly"),onBlur:Ve,onChange:Te,onFocus:lt})}),h,Q?Q({...ke,startAdornment:G}):null]})]})});function XXe(e){return wr("MuiInput",e)}const dy={...Zg,...dr("MuiInput",["root","underline","input"])};function JXe(e){return wr("MuiOutlinedInput",e)}const Dc={...Zg,...dr("MuiOutlinedInput",["root","notchedOutline","input"])};function ZXe(e){return wr("MuiFilledInput",e)}const Wf={...Zg,...dr("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},eJe=TOe(m.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),tJe={entering:{opacity:1},entered:{opacity:1}},UOe=I.forwardRef(function(t,r){const n=Hm(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:A,onExit:f,onExited:h,onExiting:p,style:v,timeout:y=i,TransitionComponent:b=vu,...x}=t,S=I.useRef(null),C=Po(S,vb(s),r),_=M=>D=>{if(M){const j=S.current;D===void 0?M(j):M(j,D)}},B=_(A),T=_((M,D)=>{MOe(M);const j=A_({style:v,timeout:y,easing:l},{mode:"enter"});M.style.webkitTransition=n.transitions.create("opacity",j),M.style.transition=n.transitions.create("opacity",j),u&&u(M,D)}),O=_(d),P=_(p),F=_(M=>{const D=A_({style:v,timeout:y,easing:l},{mode:"exit"});M.style.webkitTransition=n.transitions.create("opacity",D),M.style.transition=n.transitions.create("opacity",D),f&&f(M)}),U=_(h),k=M=>{o&&o(S.current,M)};return m.jsx(b,{appear:a,in:c,nodeRef:S,onEnter:T,onEntered:O,onEntering:B,onExit:F,onExited:U,onExiting:P,addEndListener:k,timeout:y,...x,children:(M,{ownerState:D,...j})=>I.cloneElement(s,{style:{opacity:0,visibility:M==="exited"&&!c?"hidden":void 0,...tJe[M],...v,...s.props.style},ref:C,...j})})});function rJe(e){return wr("MuiBackdrop",e)}dr("MuiBackdrop",["root","invisible"]);const nJe=e=>{const{classes:t,invisible:r}=e;return br({root:["root",r&&"invisible"]},rJe,t)},iJe=vt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),$q=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:a="div",invisible:s=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:A={},TransitionComponent:f,transitionDuration:h,...p}=n,v={...n,component:a,invisible:s},y=nJe(v),b={transition:f,root:c.Root,...A},x={...u,...d},S={slots:b,slotProps:x},[C,_]=Ai("root",{elementType:iJe,externalForwardedProps:S,className:ut(y.root,o),ownerState:v}),[B,T]=Ai("transition",{elementType:UOe,externalForwardedProps:S,ownerState:v});return m.jsx(B,{in:l,timeout:h,...p,...T,children:m.jsx(C,{"aria-hidden":!0,..._,classes:y,ref:r,children:i})})}),oJe=dr("MuiBox",["root"]),aJe=FI(),Kn=p7e({themeId:eu,defaultTheme:aJe,defaultClassName:oJe.root,generateClassName:oOe.generate});function sJe(e){return wr("MuiButton",e)}const Vf=dr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),lJe=I.createContext({}),cJe=I.createContext(void 0),uJe=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,loading:a,loadingPosition:s,classes:l}=e,c={root:["root",a&&"loading",o,`${o}${Mt(t)}`,`size${Mt(i)}`,`${o}Size${Mt(i)}`,`color${Mt(t)}`,r&&"disableElevation",n&&"fullWidth",a&&`loadingPosition${Mt(s)}`],startIcon:["icon","startIcon",`iconSize${Mt(i)}`],endIcon:["icon","endIcon",`iconSize${Mt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=br(c,sJe,l);return{...l,...u}},DOe=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],dJe=vt(UI,{shouldForwardProp:e=>Cl(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Mt(r.color)}`],t[`size${Mt(r.size)}`],t[`${r.variant}Size${Mt(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(Mr(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Vf.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Vf.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Vf.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Vf.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(ts()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:zn(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Vf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Vf.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Vf.loading}`]:{color:"transparent"}}}]}})),AJe=vt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${Mt(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...DOe]})),fJe=vt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${Mt(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...DOe]})),hJe=vt("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),qG=vt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),_a=I.forwardRef(function(t,r){const n=I.useContext(lJe),i=I.useContext(cJe),o=Jg(n,t),a=Ir({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:A=!1,disableFocusRipple:f=!1,endIcon:h,focusVisibleClassName:p,fullWidth:v=!1,id:y,loading:b=null,loadingIndicator:x,loadingPosition:S="center",size:C="medium",startIcon:_,type:B,variant:T="text",...O}=a,P=MI(y),F=x??m.jsx(FOe,{"aria-labelledby":P,color:"inherit",size:16}),U={...a,color:l,component:c,disabled:d,disableElevation:A,disableFocusRipple:f,fullWidth:v,loading:b,loadingIndicator:F,loadingPosition:S,size:C,type:B,variant:T},k=uJe(U),M=(_||b&&S==="start")&&m.jsx(AJe,{className:k.startIcon,ownerState:U,children:_||m.jsx(qG,{className:k.loadingIconPlaceholder,ownerState:U})}),D=(h||b&&S==="end")&&m.jsx(fJe,{className:k.endIcon,ownerState:U,children:h||m.jsx(qG,{className:k.loadingIconPlaceholder,ownerState:U})}),j=i||"",$=typeof b=="boolean"?m.jsx("span",{className:k.loadingWrapper,style:{display:"contents"},children:b&&m.jsx(hJe,{className:k.loadingIndicator,ownerState:U,children:F})}):null;return m.jsxs(dJe,{ownerState:U,className:ut(n.className,k.root,u,j),component:c,disabled:d||b,focusRipple:!f,focusVisibleClassName:ut(k.focusVisible,p),ref:r,type:B,id:b?P:y,...O,classes:k,children:[M,S!=="end"&&$,s,S==="end"&&$,D]})});function pJe(e){return wr("MuiCard",e)}dr("MuiCard",["root"]);const gJe=e=>{const{classes:t}=e;return br({root:["root"]},pJe,t)},mJe=vt(yu,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),ph=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiCard"}),{className:i,raised:o=!1,...a}=n,s={...n,raised:o},l=gJe(s);return m.jsx(mJe,{className:ut(l.root,i),elevation:o?8:void 0,ref:r,ownerState:s,...a})});function vJe(e){return wr("MuiCardContent",e)}dr("MuiCardContent",["root"]);const yJe=e=>{const{classes:t}=e;return br({root:["root"]},vJe,t)},wJe=vt("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),gh=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiCardContent"}),{className:i,component:o="div",...a}=n,s={...n,component:o},l=yJe(s);return m.jsx(wJe,{as:o,className:ut(l.root,i),ownerState:s,ref:r,...a})});function bJe(e){return wr("MuiCardHeader",e)}const g_=dr("MuiCardHeader",["root","avatar","action","content","title","subheader"]),xJe=e=>{const{classes:t}=e;return br({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},bJe,t)},SJe=vt("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{[`& .${g_.title}`]:t.title},{[`& .${g_.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),CJe=vt("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),_Je=vt("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),EJe=vt("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto",[`.${h_.root}:where(& .${g_.title})`]:{display:"block"},[`.${h_.root}:where(& .${g_.subheader})`]:{display:"block"}}),CR=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiCardHeader"}),{action:i,avatar:o,component:a="div",disableTypography:s=!1,subheader:l,subheaderTypographyProps:c,title:u,titleTypographyProps:d,slots:A={},slotProps:f={},...h}=n,p={...n,component:a,disableTypography:s},v=xJe(p),y={slots:A,slotProps:{title:d,subheader:c,...f}};let b=u;const[x,S]=Ai("title",{className:v.title,elementType:Bt,externalForwardedProps:y,ownerState:p,additionalProps:{variant:o?"body2":"h5",component:"span"}});b!=null&&b.type!==Bt&&!s&&(b=m.jsx(x,{...S,children:b}));let C=l;const[_,B]=Ai("subheader",{className:v.subheader,elementType:Bt,externalForwardedProps:y,ownerState:p,additionalProps:{variant:o?"body2":"body1",color:"textSecondary",component:"span"}});C!=null&&C.type!==Bt&&!s&&(C=m.jsx(_,{...B,children:C}));const[T,O]=Ai("root",{ref:r,className:v.root,elementType:SJe,externalForwardedProps:{...y,...h,component:a},ownerState:p}),[P,F]=Ai("avatar",{className:v.avatar,elementType:CJe,externalForwardedProps:y,ownerState:p}),[U,k]=Ai("content",{className:v.content,elementType:EJe,externalForwardedProps:y,ownerState:p}),[M,D]=Ai("action",{className:v.action,elementType:_Je,externalForwardedProps:y,ownerState:p});return m.jsxs(T,{...O,children:[o&&m.jsx(P,{...F,children:o}),m.jsxs(U,{...k,children:[b,C]}),i&&m.jsx(M,{...D,children:i})]})}),XA=uYe({createStyledComponent:vt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${Mt(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ir({props:e,name:"MuiContainer"})});function IJe(e){const t=Ia(e);return t.body===e?Ed(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function w0(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function zG(e){return parseInt(Ed(e).getComputedStyle(e).paddingRight,10)||0}function BJe(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function KG(e,t,r,n,i){const o=[t,r,...n];[].forEach.call(e.children,a=>{const s=!o.includes(a),l=!BJe(a);s&&l&&w0(a,i)})}function _R(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function PJe(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(IJe(n)){const a=hOe(Ed(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${zG(n)+a}px`;const s=Ia(n).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${zG(l)+a}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=Ia(n).body;else{const a=n.parentElement,s=Ed(n);o=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:a,property:s})=>{o?a.style.setProperty(s,o):a.style.removeProperty(s)})}}function TJe(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class OJe{constructor(){this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&w0(t.modalRef,!1);const i=TJe(r);KG(r,t.mount,t.modalRef,i,!0);const o=_R(this.containers,a=>a.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=_R(this.containers,o=>o.modals.includes(t)),i=this.containers[n];i.restore||(i.restore=PJe(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=_R(this.containers,a=>a.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&w0(t.modalRef,r),KG(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&w0(a.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const RJe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function MJe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function FJe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function kJe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||FJe(e))}function UJe(e){const t=[],r=[];return Array.from(e.querySelectorAll(RJe)).forEach((n,i)=>{const o=MJe(n);o===-1||!kJe(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function DJe(){return!0}function jJe(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=UJe,isEnabled:a=DJe,open:s}=e,l=I.useRef(!1),c=I.useRef(null),u=I.useRef(null),d=I.useRef(null),A=I.useRef(null),f=I.useRef(!1),h=I.useRef(null),p=Po(vb(t),h),v=I.useRef(null);I.useEffect(()=>{!s||!h.current||(f.current=!r)},[r,s]),I.useEffect(()=>{if(!s||!h.current)return;const x=Ia(h.current);return h.current.contains(x.activeElement)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex","-1"),f.current&&h.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[s]),I.useEffect(()=>{if(!s||!h.current)return;const x=Ia(h.current),S=B=>{v.current=B,!(n||!a()||B.key!=="Tab")&&x.activeElement===h.current&&B.shiftKey&&(l.current=!0,u.current&&u.current.focus())},C=()=>{var O,P;const B=h.current;if(B===null)return;if(!x.hasFocus()||!a()||l.current){l.current=!1;return}if(B.contains(x.activeElement)||n&&x.activeElement!==c.current&&x.activeElement!==u.current)return;if(x.activeElement!==A.current)A.current=null;else if(A.current!==null)return;if(!f.current)return;let T=[];if((x.activeElement===c.current||x.activeElement===u.current)&&(T=o(h.current)),T.length>0){const F=!!((O=v.current)!=null&&O.shiftKey&&((P=v.current)==null?void 0:P.key)==="Tab"),U=T[0],k=T[T.length-1];typeof U!="string"&&typeof k!="string"&&(F?k.focus():U.focus())}else B.focus()};x.addEventListener("focusin",C),x.addEventListener("keydown",S,!0);const _=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&C()},50);return()=>{clearInterval(_),x.removeEventListener("focusin",C),x.removeEventListener("keydown",S,!0)}},[r,n,i,a,s,o]);const y=x=>{d.current===null&&(d.current=x.relatedTarget),f.current=!0,A.current=x.target;const S=t.props.onFocus;S&&S(x)},b=x=>{d.current===null&&(d.current=x.relatedTarget),f.current=!0};return m.jsxs(I.Fragment,{children:[m.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),I.cloneElement(t,{ref:p,onFocus:y}),m.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}function LJe(e){return typeof e=="function"?e():e}function NJe(e){return e?e.props.hasOwnProperty("in"):!1}const WG=()=>{},TS=new OJe;function $Je(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:s,onClose:l,open:c,rootRef:u}=e,d=I.useRef({}),A=I.useRef(null),f=I.useRef(null),h=Po(f,u),[p,v]=I.useState(!c),y=NJe(s);let b=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(b=!1);const x=()=>Ia(A.current),S=()=>(d.current.modalRef=f.current,d.current.mount=A.current,d.current),C=()=>{TS.mount(S(),{disableScrollLock:n}),f.current&&(f.current.scrollTop=0)},_=Ad(()=>{const D=LJe(t)||x().body;TS.add(S(),D),f.current&&C()}),B=()=>TS.isTopModal(S()),T=Ad(D=>{A.current=D,D&&(c&&B()?C():f.current&&w0(f.current,b))}),O=I.useCallback(()=>{TS.remove(S(),b)},[b]);I.useEffect(()=>()=>{O()},[O]),I.useEffect(()=>{c?_():(!y||!i)&&O()},[c,O,y,i,_]);const P=D=>j=>{var $;($=D.onKeyDown)==null||$.call(D,j),!(j.key!=="Escape"||j.which===229||!B())&&(r||(j.stopPropagation(),l&&l(j,"escapeKeyDown")))},F=D=>j=>{var $;($=D.onClick)==null||$.call(D,j),j.target===j.currentTarget&&l&&l(j,"backdropClick")};return{getRootProps:(D={})=>{const j=y0(e);delete j.onTransitionEnter,delete j.onTransitionExited;const $={...j,...D};return{role:"presentation",...$,onKeyDown:P($),ref:h}},getBackdropProps:(D={})=>{const j=D;return{"aria-hidden":!0,...j,onClick:F(j),open:c}},getTransitionProps:()=>{const D=()=>{v(!1),o&&o()},j=()=>{v(!0),a&&a(),i&&O()};return{onEnter:wG(D,(s==null?void 0:s.props.onEnter)??WG),onExited:wG(j,(s==null?void 0:s.props.onExited)??WG)}},rootRef:h,portalRef:T,isTopModal:B,exited:p,hasTransition:y}}function QJe(e){return wr("MuiModal",e)}dr("MuiModal",["root","hidden","backdrop"]);const HJe=e=>{const{open:t,exited:r,classes:n}=e;return br({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},QJe,n)},qJe=vt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(Mr(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),zJe=vt($q,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Qq=I.forwardRef(function(t,r){const n=Ir({name:"MuiModal",props:t}),{BackdropComponent:i=zJe,BackdropProps:o,classes:a,className:s,closeAfterTransition:l=!1,children:c,container:u,component:d,components:A={},componentsProps:f={},disableAutoFocus:h=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:v=!1,disablePortal:y=!1,disableRestoreFocus:b=!1,disableScrollLock:x=!1,hideBackdrop:S=!1,keepMounted:C=!1,onBackdropClick:_,onClose:B,onTransitionEnter:T,onTransitionExited:O,open:P,slotProps:F={},slots:U={},theme:k,...M}=n,D={...n,closeAfterTransition:l,disableAutoFocus:h,disableEnforceFocus:p,disableEscapeKeyDown:v,disablePortal:y,disableRestoreFocus:b,disableScrollLock:x,hideBackdrop:S,keepMounted:C},{getRootProps:j,getBackdropProps:$,getTransitionProps:Q,portalRef:H,isTopModal:W,exited:z,hasTransition:V}=$Je({...D,rootRef:r}),G={...D,exited:z},X=HJe(G),Z={};if(c.props.tabIndex===void 0&&(Z.tabIndex="-1"),V){const{onEnter:de,onExited:re}=Q();Z.onEnter=de,Z.onExited=re}const oe={slots:{root:A.Root,backdrop:A.Backdrop,...U},slotProps:{...f,...F}},[ae,ne]=Ai("root",{ref:r,elementType:qJe,externalForwardedProps:{...oe,...M,component:d},getSlotProps:j,ownerState:G,className:ut(s,X==null?void 0:X.root,!G.open&&G.exited&&(X==null?void 0:X.hidden))}),[te,se]=Ai("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:oe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:de=>$({...de,onClick:re=>{_&&_(re),de!=null&&de.onClick&&de.onClick(re)}}),className:ut(o==null?void 0:o.className,X==null?void 0:X.backdrop),ownerState:G});return!C&&!P&&(!V||z)?null:m.jsx(HXe,{ref:H,container:u,disablePortal:y,children:m.jsxs(ae,{...ne,children:[!S&&i?m.jsx(te,{...se}):null,m.jsx(jJe,{disableEnforceFocus:p,disableAutoFocus:h,disableRestoreFocus:b,isEnabled:W,open:P,children:I.cloneElement(c,Z)})]})})});function KJe(e){return wr("MuiDivider",e)}const VG=dr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),WJe=e=>{const{absolute:t,children:r,classes:n,flexItem:i,light:o,orientation:a,textAlign:s,variant:l}=e;return br({root:["root",t&&"absolute",l,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},KJe,n)},VJe=vt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(Mr(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:zn(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),GJe=vt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(Mr(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Ih=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:a,orientation:s="horizontal",component:l=o||s==="vertical"?"div":"hr",flexItem:c=!1,light:u=!1,role:d=l!=="hr"?"separator":void 0,textAlign:A="center",variant:f="fullWidth",...h}=n,p={...n,absolute:i,component:l,flexItem:c,light:u,orientation:s,role:d,textAlign:A,variant:f},v=WJe(p);return m.jsx(VJe,{as:l,className:ut(v.root,a),role:d,ref:r,ownerState:p,"aria-orientation":d==="separator"&&(l!=="hr"||s==="vertical")?s:void 0,...h,children:o?m.jsx(GJe,{className:v.wrapper,ownerState:p,children:o}):null})});Ih&&(Ih.muiSkipListHighlight=!0);const YJe=e=>{const{classes:t,disableUnderline:r,startAdornment:n,endAdornment:i,size:o,hiddenLabel:a,multiline:s}=e,l={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Mt(o)}`,a&&"hiddenLabel",s&&"multiline"],input:["input"]},c=br(l,ZXe,t);return{...t,...c}},XJe=vt(LI,{shouldForwardProp:e=>Cl(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...DI(e,t),!r.disableUnderline&&t.underline]}})(Mr(({theme:e})=>{const t=e.palette.mode==="light",r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${Wf.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${Wf.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wf.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wf.disabled}, .${Wf.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Wf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(ts()).map(([a])=>{var s;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(s=(e.vars||e).palette[a])==null?void 0:s.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:s})=>a.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),JJe=vt(NI,{name:"MuiFilledInput",slot:"Input",overridesResolver:jI})(Mr(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Hq=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:a,fullWidth:s=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:A={},type:f="text",...h}=n,p={...n,disableUnderline:i,fullWidth:s,inputComponent:c,multiline:u,type:f},v=YJe(n),y={root:{ownerState:p},input:{ownerState:p}},b=d??a?oa(y,d??a):y,x=A.root??o.Root??XJe,S=A.input??o.Input??JJe;return m.jsx(Nq,{slots:{root:x,input:S},slotProps:b,fullWidth:s,inputComponent:c,multiline:u,ref:r,type:f,...h,classes:v})});Hq.muiName="Input";function ZJe(e){return wr("MuiFormControl",e)}dr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const eZe=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${Mt(r)}`,n&&"fullWidth"]};return br(i,ZJe,t)},tZe=vt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`margin${Mt(r.margin)}`],r.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),rZe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:A=!1,margin:f="none",required:h=!1,size:p="medium",variant:v="outlined",...y}=n,b={...n,color:a,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:A,margin:f,required:h,size:p,variant:v},x=eZe(b),[S,C]=I.useState(()=>{let D=!1;return i&&I.Children.forEach(i,j=>{if(!hC(j,["Input","Select"]))return;const $=hC(j,["Select"])?j.props.input:j;$&&VXe($.props)&&(D=!0)}),D}),[_,B]=I.useState(()=>{let D=!1;return i&&I.Children.forEach(i,j=>{hC(j,["Input","Select"])&&(p_(j.props,!0)||p_(j.props.inputProps,!0))&&(D=!0)}),D}),[T,O]=I.useState(!1);l&&T&&O(!1);const P=u!==void 0&&!l?u:T;let F;I.useRef(!1);const U=I.useCallback(()=>{B(!0)},[]),k=I.useCallback(()=>{B(!1)},[]),M=I.useMemo(()=>({adornedStart:S,setAdornedStart:C,color:a,disabled:l,error:c,filled:_,focused:P,fullWidth:d,hiddenLabel:A,size:p,onBlur:()=>{O(!1)},onFocus:()=>{O(!0)},onEmpty:k,onFilled:U,registerEffect:F,required:h,variant:v}),[S,a,l,c,_,P,d,A,F,k,U,h,p,v]);return m.jsx(Lq.Provider,{value:M,children:m.jsx(tZe,{as:s,ownerState:b,className:ut(x.root,o),ref:r,...y,children:i})})});function nZe(e){return wr("MuiFormHelperText",e)}const GG=dr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var YG;const iZe=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:a,focused:s,required:l}=e,c={root:["root",i&&"disabled",o&&"error",n&&`size${Mt(n)}`,r&&"contained",s&&"focused",a&&"filled",l&&"required"]};return br(c,nZe,t)},oZe=vt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${Mt(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(Mr(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${GG.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${GG.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),aZe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p",disabled:s,error:l,filled:c,focused:u,margin:d,required:A,variant:f,...h}=n,p=zm(),v=qm({props:n,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),y={...n,component:a,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete y.ownerState;const b=iZe(y);return m.jsx(oZe,{as:a,className:ut(b.root,o),ref:r,...h,ownerState:y,children:i===" "?YG||(YG=m.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function sZe(e){return wr("MuiFormLabel",e)}const b0=dr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),lZe=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:a,required:s}=e,l={root:["root",`color${Mt(r)}`,i&&"disabled",o&&"error",a&&"filled",n&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return br(l,sZe,t)},cZe=vt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color==="secondary"&&t.colorSecondary,r.filled&&t.filled]}})(Mr(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(ts()).map(([t])=>({props:{color:t},style:{[`&.${b0.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${b0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${b0.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),uZe=vt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Mr(({theme:e})=>({[`&.${b0.error}`]:{color:(e.vars||e).palette.error.main}}))),dZe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiFormLabel"}),{children:i,className:o,color:a,component:s="label",disabled:l,error:c,filled:u,focused:d,required:A,...f}=n,h=zm(),p=qm({props:n,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]}),v={...n,color:p.color||"primary",component:s,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required},y=lZe(v);return m.jsxs(cZe,{as:s,ownerState:v,className:ut(y.root,o),ref:r,...f,children:[i,p.required&&m.jsxs(uZe,{ownerState:v,"aria-hidden":!0,className:y.asterisk,children:["","*"]})]})}),XG=I.createContext();function AZe(e){return wr("MuiGrid",e)}const fZe=[0,1,2,3,4,5,6,7,8,9,10],hZe=["column-reverse","column","row-reverse","row"],pZe=["nowrap","wrap-reverse","wrap"],Ay=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],X0=dr("MuiGrid",["root","container","item","zeroMinWidth",...fZe.map(e=>`spacing-xs-${e}`),...hZe.map(e=>`direction-xs-${e}`),...pZe.map(e=>`wrap-xs-${e}`),...Ay.map(e=>`grid-xs-${e}`),...Ay.map(e=>`grid-sm-${e}`),...Ay.map(e=>`grid-md-${e}`),...Ay.map(e=>`grid-lg-${e}`),...Ay.map(e=>`grid-xl-${e}`)]);function gZe({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,i)=>{let o={};if(t[i]&&(r=t[i]),!r)return n;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=SI({values:t.columns,breakpoints:e.breakpoints.values}),s=typeof a=="object"?a[i]:a;if(s==null)return n;const l=`${Math.round(r/s*1e8)/1e6}%`;let c={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${u})`;c={flexBasis:d,maxWidth:d}}}o={flexBasis:l,flexGrow:0,maxWidth:l,...c}}return e.breakpoints.values[i]===0?Object.assign(n,o):n[e.breakpoints.up(i)]=o,n},{})}function mZe({theme:e,ownerState:t}){const r=SI({values:t.direction,breakpoints:e.breakpoints.values});return yl({theme:e},r,n=>{const i={flexDirection:n};return n.startsWith("column")&&(i[`& > .${X0.item}`]={maxWidth:"none"}),i})}function jOe({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(i=>{r===""&&t[i]!==0&&(r=i)});const n=Object.keys(e).sort((i,o)=>e[i]-e[o]);return n.slice(0,n.indexOf(r))}function vZe({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let i={};if(r&&n!==0){const o=SI({values:n,breakpoints:e.breakpoints.values});let a;typeof o=="object"&&(a=jOe({breakpoints:e.breakpoints.values,values:o})),i=yl({theme:e},o,(s,l)=>{const c=e.spacing(s);return c!=="0px"?{marginTop:`calc(-1 * ${c})`,[`& > .${X0.item}`]:{paddingTop:c}}:a!=null&&a.includes(l)?{}:{marginTop:0,[`& > .${X0.item}`]:{paddingTop:0}}})}return i}function yZe({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let i={};if(r&&n!==0){const o=SI({values:n,breakpoints:e.breakpoints.values});let a;typeof o=="object"&&(a=jOe({breakpoints:e.breakpoints.values,values:o})),i=yl({theme:e},o,(s,l)=>{const c=e.spacing(s);if(c!=="0px"){const u=`calc(-1 * ${c})`;return{width:`calc(100% + ${c})`,marginLeft:u,[`& > .${X0.item}`]:{paddingLeft:c}}}return a!=null&&a.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${X0.item}`]:{paddingLeft:0}}})}return i}function wZe(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&n.push(r[`spacing-${i}-${String(o)}`])}),n}const bZe=vt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:i,item:o,spacing:a,wrap:s,zeroMinWidth:l,breakpoints:c}=r;let u=[];n&&(u=wZe(a,c,t));const d=[];return c.forEach(A=>{const f=r[A];f&&d.push(t[`grid-${A}-${String(f)}`])}),[t.root,n&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,i!=="row"&&t[`direction-xs-${String(i)}`],s!=="wrap"&&t[`wrap-xs-${String(s)}`],...d]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),mZe,vZe,yZe,gZe);function xZe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const i=e[n];if(Number(i)>0){const o=`spacing-${n}-${String(i)}`;r.push(o)}}),r}const SZe=e=>{const{classes:t,container:r,direction:n,item:i,spacing:o,wrap:a,zeroMinWidth:s,breakpoints:l}=e;let c=[];r&&(c=xZe(o,l));const u=[];l.forEach(A=>{const f=e[A];f&&u.push(`grid-${A}-${String(f)}`)});const d={root:["root",r&&"container",i&&"item",s&&"zeroMinWidth",...c,n!=="row"&&`direction-xs-${String(n)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...u]};return br(d,AZe,t)},gr=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiGrid"}),{breakpoints:i}=Hm(),o=Pq(n),{className:a,columns:s,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:A=!1,rowSpacing:f,spacing:h=0,wrap:p="wrap",zeroMinWidth:v=!1,...y}=o,b=f||h,x=l||h,S=I.useContext(XG),C=u?s||12:S,_={},B={...y};i.keys.forEach(P=>{y[P]!=null&&(_[P]=y[P],delete B[P])});const T={...o,columns:C,container:u,direction:d,item:A,rowSpacing:b,columnSpacing:x,wrap:p,zeroMinWidth:v,spacing:h,..._,breakpoints:i.keys},O=SZe(T);return m.jsx(XG.Provider,{value:C,children:m.jsx(bZe,{ownerState:T,className:ut(O.root,a),as:c,ref:r,...B})})});function zQ(e){return`scale(${e}, ${e**2})`}const CZe={entering:{opacity:1,transform:zQ(1)},entered:{opacity:1,transform:"none"}},ER=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),KQ=I.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:A,onExiting:f,style:h,timeout:p="auto",TransitionComponent:v=vu,...y}=t,b=fOe(),x=I.useRef(),S=Hm(),C=I.useRef(null),_=Po(C,vb(o),r),B=D=>j=>{if(D){const $=C.current;j===void 0?D($):D($,j)}},T=B(u),O=B((D,j)=>{MOe(D);const{duration:$,delay:Q,easing:H}=A_({style:h,timeout:p,easing:a},{mode:"enter"});let W;p==="auto"?(W=S.transitions.getAutoHeightDuration(D.clientHeight),x.current=W):W=$,D.style.transition=[S.transitions.create("opacity",{duration:W,delay:Q}),S.transitions.create("transform",{duration:ER?W:W*.666,delay:Q,easing:H})].join(","),l&&l(D,j)}),P=B(c),F=B(f),U=B(D=>{const{duration:j,delay:$,easing:Q}=A_({style:h,timeout:p,easing:a},{mode:"exit"});let H;p==="auto"?(H=S.transitions.getAutoHeightDuration(D.clientHeight),x.current=H):H=j,D.style.transition=[S.transitions.create("opacity",{duration:H,delay:$}),S.transitions.create("transform",{duration:ER?H:H*.666,delay:ER?$:$||H*.333,easing:Q})].join(","),D.style.opacity=0,D.style.transform=zQ(.75),d&&d(D)}),k=B(A),M=D=>{p==="auto"&&b.start(x.current||0,D),n&&n(C.current,D)};return m.jsx(v,{appear:i,in:s,nodeRef:C,onEnter:O,onEntered:P,onEntering:T,onExit:U,onExited:k,onExiting:F,addEndListener:M,timeout:p==="auto"?null:p,...y,children:(D,{ownerState:j,...$})=>I.cloneElement(o,{style:{opacity:0,transform:zQ(.75),visibility:D==="exited"&&!s?"hidden":void 0,...CZe[D],...h,...o.props.style},ref:_,...$})})});KQ&&(KQ.muiSupportAuto=!0);const _Ze=e=>{const{classes:t,disableUnderline:r}=e,i=br({root:["root",!r&&"underline"],input:["input"]},XXe,t);return{...t,...i}},EZe=vt(LI,{shouldForwardProp:e=>Cl(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...DI(e,t),!r.disableUnderline&&t.underline]}})(Mr(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dy.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dy.disabled}, .${dy.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${dy.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(ts()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}))]}})),IZe=vt(NI,{name:"MuiInput",slot:"Input",overridesResolver:jI})({}),qq=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:a,fullWidth:s=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:A="text",...f}=n,h=_Ze(n),v={root:{ownerState:{disableUnderline:i}}},y=u??a?oa(u??a,v):v,b=d.root??o.Root??EZe,x=d.input??o.Input??IZe;return m.jsx(Nq,{slots:{root:b,input:x},slotProps:y,fullWidth:s,inputComponent:l,multiline:c,ref:r,type:A,...f,classes:h})});qq.muiName="Input";function BZe(e){return wr("MuiInputLabel",e)}dr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const PZe=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:a,required:s}=e,l={root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n&&n!=="normal"&&`size${Mt(n)}`,a],asterisk:[s&&"asterisk"]},c=br(l,BZe,t);return{...t,...c}},TZe=vt(dZe,{shouldForwardProp:e=>Cl(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${b0.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(Mr(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:r,size:n})=>t==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),OZe=I.forwardRef(function(t,r){const n=Ir({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:o,shrink:a,variant:s,className:l,...c}=n,u=zm();let d=a;typeof d>"u"&&u&&(d=u.filled||u.focused||u.adornedStart);const A=qm({props:n,muiFormControl:u,states:["size","variant","required","focused"]}),f={...n,disableAnimation:i,formControl:u,shrink:d,size:A.size,variant:A.variant,required:A.required,focused:A.focused},h=PZe(f);return m.jsx(TZe,{"data-shrink":d,ref:r,className:ut(h.root,l),...c,ownerState:f,classes:h})}),LA=I.createContext({});function RZe(e){return wr("MuiList",e)}dr("MuiList",["root","padding","dense","subheader"]);const MZe=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return br({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},RZe,t)},FZe=vt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),J0=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c,...u}=n,d=I.useMemo(()=>({dense:s}),[s]),A={...n,component:a,dense:s,disablePadding:l},f=MZe(A);return m.jsx(LA.Provider,{value:d,children:m.jsxs(FZe,{as:a,className:ut(f.root,o),ref:r,ownerState:A,...u,children:[c,i]})})});function kZe(e){return wr("MuiListItem",e)}dr("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const UZe=dr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function DZe(e){return wr("MuiListItemSecondaryAction",e)}dr("MuiListItemSecondaryAction",["root","disableGutters"]);const jZe=e=>{const{disableGutters:t,classes:r}=e;return br({root:["root",t&&"disableGutters"]},DZe,r)},LZe=vt("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),LOe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...o}=n,a=I.useContext(LA),s={...n,disableGutters:a.disableGutters},l=jZe(s);return m.jsx(LZe,{className:ut(l.root,i),ownerState:s,ref:r,...o})});LOe.muiName="ListItemSecondaryAction";const NZe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.hasSecondaryAction&&t.secondaryAction]},$Ze=e=>{const{alignItems:t,classes:r,dense:n,disableGutters:i,disablePadding:o,divider:a,hasSecondaryAction:s}=e;return br({root:["root",n&&"dense",!i&&"gutters",!o&&"padding",a&&"divider",t==="flex-start"&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"]},kZe,r)},QZe=vt("div",{name:"MuiListItem",slot:"Root",overridesResolver:NZe})(Mr(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${UZe.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),HZe=vt("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),vg=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiListItem"}),{alignItems:i="center",children:o,className:a,component:s,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...A}={},dense:f=!1,disableGutters:h=!1,disablePadding:p=!1,divider:v=!1,secondaryAction:y,slotProps:b={},slots:x={},...S}=n,C=I.useContext(LA),_=I.useMemo(()=>({dense:f||C.dense||!1,alignItems:i,disableGutters:h}),[i,C.dense,f,h]),B=I.useRef(null),T=I.Children.toArray(o),O=T.length&&hC(T[T.length-1],["ListItemSecondaryAction"]),P={...n,alignItems:i,dense:_.dense,disableGutters:h,disablePadding:p,divider:v,hasSecondaryAction:O},F=$Ze(P),U=Po(B,r),k=x.root||l.Root||QZe,M=b.root||c.root||{},D={className:ut(F.root,M.className,a),...S};let j=s||"li";return O?(j=!D.component&&!s?"div":j,u==="li"&&(j==="li"?j="div":D.component==="li"&&(D.component="div")),m.jsx(LA.Provider,{value:_,children:m.jsxs(HZe,{as:u,className:ut(F.container,d),ref:U,ownerState:P,...A,children:[m.jsx(k,{...M,...!fd(k)&&{as:j,ownerState:{...P,...M.ownerState}},...D,children:T}),T.pop()]})})):m.jsx(LA.Provider,{value:_,children:m.jsxs(k,{...M,as:j,ref:U,...!fd(k)&&{ownerState:{...P,...M.ownerState}},...D,children:[T,y&&m.jsx(LOe,{children:y})]})})}),JG=dr("MuiListItemIcon",["root","alignItemsFlexStart"]);function qZe(e){return wr("MuiListItemText",e)}const Cg=dr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),zZe=e=>{const{classes:t,inset:r,primary:n,secondary:i,dense:o}=e;return br({root:["root",r&&"inset",o&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},qZe,t)},KZe=vt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Cg.primary}`]:t.primary},{[`& .${Cg.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${h_.root}:where(& .${Cg.primary})`]:{display:"block"},[`.${h_.root}:where(& .${Cg.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),oh=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:A={},slotProps:f={},...h}=n,{dense:p}=I.useContext(LA);let v=l??i,y=u;const b={...n,disableTypography:a,inset:s,primary:!!v,secondary:!!y,dense:p},x=zZe(b),S={slots:A,slotProps:{primary:c,secondary:d,...f}},[C,_]=Ai("primary",{className:x.primary,elementType:Bt,externalForwardedProps:S,ownerState:b}),[B,T]=Ai("secondary",{className:x.secondary,elementType:Bt,externalForwardedProps:S,ownerState:b});return v!=null&&v.type!==Bt&&!a&&(v=m.jsx(C,{variant:p?"body2":"body1",component:_!=null&&_.variant?void 0:"span",..._,children:v})),y!=null&&y.type!==Bt&&!a&&(y=m.jsx(B,{variant:"body2",color:"textSecondary",...T,children:y})),m.jsxs(KZe,{className:ut(x.root,o),ownerState:b,ref:r,...h,children:[v,y]})});function IR(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function ZG(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function NOe(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join(""))}function fy(e,t,r,n,i,o){let a=!1,s=i(e,t,t?r:!1);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const l=n?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!NOe(s,o)||l)s=i(e,s,r);else return s.focus(),!0}return!1}const WZe=I.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...A}=t,f=I.useRef(null),h=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});au(()=>{i&&f.current.focus()},[i]),I.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(x,{direction:S})=>{const C=!f.current.style.width;if(x.clientHeight<f.current.clientHeight&&C){const _=`${hOe(Ed(x))}px`;f.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=_,f.current.style.width=`calc(100% + ${_})`}return f.current}}),[]);const p=x=>{const S=f.current,C=x.key;if(x.ctrlKey||x.metaKey||x.altKey){u&&u(x);return}const B=Ia(S).activeElement;if(C==="ArrowDown")x.preventDefault(),fy(S,B,c,l,IR);else if(C==="ArrowUp")x.preventDefault(),fy(S,B,c,l,ZG);else if(C==="Home")x.preventDefault(),fy(S,null,c,l,IR);else if(C==="End")x.preventDefault(),fy(S,null,c,l,ZG);else if(C.length===1){const T=h.current,O=C.toLowerCase(),P=performance.now();T.keys.length>0&&(P-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&O!==T.keys[0]&&(T.repeating=!1)),T.lastTime=P,T.keys.push(O);const F=B&&!T.repeating&&NOe(B,T);T.previousKeyMatched&&(F||fy(S,B,!1,l,IR,T))?x.preventDefault():T.previousKeyMatched=!1}u&&u(x)},v=Po(f,r);let y=-1;I.Children.forEach(a,(x,S)=>{if(!I.isValidElement(x)){y===S&&(y+=1,y>=a.length&&(y=-1));return}x.props.disabled||(d==="selectedMenu"&&x.props.selected||y===-1)&&(y=S),y===S&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(y+=1,y>=a.length&&(y=-1))});const b=I.Children.map(a,(x,S)=>{if(S===y){const C={};return o&&(C.autoFocus=!0),x.props.tabIndex===void 0&&d==="selectedMenu"&&(C.tabIndex=0),I.cloneElement(x,C)}return x});return m.jsx(J0,{role:"menu",ref:v,className:s,onKeyDown:p,tabIndex:i?0:-1,...A,children:b})});function VZe(e){return wr("MuiPopover",e)}dr("MuiPopover",["root","paper"]);function e7(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function t7(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function r7(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function BR(e){return typeof e=="function"?e():e}const GZe=e=>{const{classes:t}=e;return br({root:["root"],paper:["paper"]},VZe,t)},YZe=vt(Qq,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$Oe=vt(yu,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),XZe=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:A=8,marginThreshold:f=16,open:h,PaperProps:p={},slots:v={},slotProps:y={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:x,transitionDuration:S="auto",TransitionProps:C={},disableScrollLock:_=!1,...B}=n,T=I.useRef(),O={...n,anchorOrigin:a,anchorReference:l,elevation:A,marginThreshold:f,transformOrigin:b,TransitionComponent:x,transitionDuration:S,TransitionProps:C},P=GZe(O),F=I.useCallback(()=>{if(l==="anchorPosition")return s;const se=BR(o),re=(se&&se.nodeType===1?se:Ia(T.current).body).getBoundingClientRect();return{top:re.top+e7(re,a.vertical),left:re.left+t7(re,a.horizontal)}},[o,a.horizontal,a.vertical,s,l]),U=I.useCallback(se=>({vertical:e7(se,b.vertical),horizontal:t7(se,b.horizontal)}),[b.horizontal,b.vertical]),k=I.useCallback(se=>{const de={width:se.offsetWidth,height:se.offsetHeight},re=U(de);if(l==="none")return{top:null,left:null,transformOrigin:r7(re)};const he=F();let ye=he.top-re.vertical,ke=he.left-re.horizontal;const Ue=ye+de.height,Ne=ke+de.width,Ye=Ed(BR(o)),lt=Ye.innerHeight-f,Ve=Ye.innerWidth-f;if(f!==null&&ye<f){const Te=ye-f;ye-=Te,re.vertical+=Te}else if(f!==null&&Ue>lt){const Te=Ue-lt;ye-=Te,re.vertical+=Te}if(f!==null&&ke<f){const Te=ke-f;ke-=Te,re.horizontal+=Te}else if(Ne>Ve){const Te=Ne-Ve;ke-=Te,re.horizontal+=Te}return{top:`${Math.round(ye)}px`,left:`${Math.round(ke)}px`,transformOrigin:r7(re)}},[o,l,F,U,f]),[M,D]=I.useState(h),j=I.useCallback(()=>{const se=T.current;if(!se)return;const de=k(se);de.top!==null&&se.style.setProperty("top",de.top),de.left!==null&&(se.style.left=de.left),se.style.transformOrigin=de.transformOrigin,D(!0)},[k]);I.useEffect(()=>(_&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)),[o,_,j]);const $=()=>{j()},Q=()=>{D(!1)};I.useEffect(()=>{h&&j()}),I.useImperativeHandle(i,()=>h?{updatePosition:()=>{j()}}:null,[h,j]),I.useEffect(()=>{if(!h)return;const se=dOe(()=>{j()}),de=Ed(o);return de.addEventListener("resize",se),()=>{se.clear(),de.removeEventListener("resize",se)}},[o,h,j]);let H=S;const W={slots:{transition:x,...v},slotProps:{transition:C,paper:p,...y}},[z,V]=Ai("transition",{elementType:KQ,externalForwardedProps:W,ownerState:O,getSlotProps:se=>({...se,onEntering:(de,re)=>{var he;(he=se.onEntering)==null||he.call(se,de,re),$()},onExited:de=>{var re;(re=se.onExited)==null||re.call(se,de),Q()}}),additionalProps:{appear:!0,in:h}});S==="auto"&&!z.muiSupportAuto&&(H=void 0);const G=d||(o?Ia(BR(o)).body:void 0),[X,{slots:Z,slotProps:oe,...ae}]=Ai("root",{ref:r,elementType:YZe,externalForwardedProps:{...W,...B},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:GYe(typeof y.backdrop=="function"?y.backdrop(O):y.backdrop,{invisible:!0})},container:G,open:h},ownerState:O,className:ut(P.root,u)}),[ne,te]=Ai("paper",{ref:T,className:P.paper,elementType:$Oe,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:{elevation:A,style:M?void 0:{opacity:0}},ownerState:O});return m.jsx(X,{...ae,...!fd(X)&&{slots:Z,slotProps:oe,disableScrollLock:_},children:m.jsx(z,{...V,timeout:H,children:m.jsx(ne,{...te,children:c})})})});function JZe(e){return wr("MuiMenu",e)}dr("MuiMenu",["root","paper","list"]);const ZZe={vertical:"top",horizontal:"right"},eet={vertical:"top",horizontal:"left"},tet=e=>{const{classes:t}=e;return br({root:["root"],paper:["paper"],list:["list"]},JZe,t)},ret=vt(XZe,{shouldForwardProp:e=>Cl(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),net=vt($Oe,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),iet=vt(WZe,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),zq=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:a,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:A,transitionDuration:f="auto",TransitionProps:{onEntering:h,...p}={},variant:v="selectedMenu",slots:y={},slotProps:b={},...x}=n,S=wOe(),C={...n,autoFocus:i,disableAutoFocusItem:s,MenuListProps:l,onEntering:h,PaperProps:d,transitionDuration:f,TransitionProps:p,variant:v},_=tet(C),B=i&&!s&&u,T=I.useRef(null),O=(H,W)=>{T.current&&T.current.adjustStyleForScrollbar(H,{direction:S?"rtl":"ltr"}),h&&h(H,W)},P=H=>{H.key==="Tab"&&(H.preventDefault(),c&&c(H,"tabKeyDown"))};let F=-1;I.Children.map(o,(H,W)=>{I.isValidElement(H)&&(H.props.disabled||(v==="selectedMenu"&&H.props.selected||F===-1)&&(F=W))});const U={slots:y,slotProps:{list:l,transition:p,paper:d,...b}},k=Zu({elementType:y.root,externalSlotProps:b.root,ownerState:C,className:[_.root,a]}),[M,D]=Ai("paper",{className:_.paper,elementType:net,externalForwardedProps:U,shouldForwardComponentProp:!0,ownerState:C}),[j,$]=Ai("list",{className:ut(_.list,l.className),elementType:iet,shouldForwardComponentProp:!0,externalForwardedProps:U,getSlotProps:H=>({...H,onKeyDown:W=>{var z;P(W),(z=H.onKeyDown)==null||z.call(H,W)}}),ownerState:C}),Q=typeof U.slotProps.transition=="function"?U.slotProps.transition(C):U.slotProps.transition;return m.jsx(ret,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?ZZe:eet,slots:{root:y.root,paper:M,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:k,paper:D,backdrop:typeof b.backdrop=="function"?b.backdrop(C):b.backdrop,transition:{...Q,onEntering:(...H)=>{var W;O(...H),(W=Q==null?void 0:Q.onEntering)==null||W.call(Q,...H)}}},open:u,ref:r,transitionDuration:f,ownerState:C,...x,classes:A,children:m.jsx(j,{actions:T,autoFocus:i&&(F===-1||s),autoFocusItem:B,variant:v,...$,children:o})})});function oet(e){return wr("MuiMenuItem",e)}const hy=dr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),aet=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},set=e=>{const{disabled:t,dense:r,divider:n,disableGutters:i,selected:o,classes:a}=e,l=br({root:["root",r&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},oet,a);return{...a,...l}},cet=vt(UI,{shouldForwardProp:e=>Cl(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:aet})(Mr(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hy.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${hy.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:zn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${hy.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${hy.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${hy.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${VG.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${VG.inset}`]:{marginLeft:52},[`& .${Cg.root}`]:{marginTop:0,marginBottom:0},[`& .${Cg.inset}`]:{paddingLeft:36},[`& .${JG.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${JG.root} svg`]:{fontSize:"1.25rem"}}}]}))),pC=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:A,...f}=n,h=I.useContext(LA),p=I.useMemo(()=>({dense:a||h.dense||!1,disableGutters:l}),[h.dense,a,l]),v=I.useRef(null);au(()=>{i&&v.current&&v.current.focus()},[i]);const y={...n,dense:p.dense,divider:s,disableGutters:l},b=set(n),x=Po(v,r);let S;return n.disabled||(S=d!==void 0?d:-1),m.jsx(LA.Provider,{value:p,children:m.jsx(cet,{ref:x,role:u,tabIndex:S,component:o,focusVisibleClassName:ut(b.focusVisible,c),className:ut(b.root,A),...f,ownerState:y,classes:b})})});function uet(e){return wr("MuiNativeSelect",e)}const Kq=dr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),det=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:a}=e,s={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Mt(r)}`,o&&"iconOpen",n&&"disabled"]};return br(s,uet,t)},QOe=vt("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Kq.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Aet=vt(QOe,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Cl,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${Kq.multiple}`]:t.multiple}]}})({}),HOe=vt("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Kq.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),fet=vt(HOe,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${Mt(r.variant)}`],r.open&&t.iconOpen]}})({}),het=I.forwardRef(function(t,r){const{className:n,disabled:i,error:o,IconComponent:a,inputRef:s,variant:l="standard",...c}=t,u={...t,disabled:i,variant:l,error:o},d=det(u);return m.jsxs(I.Fragment,{children:[m.jsx(Aet,{ownerState:u,className:ut(d.select,n),disabled:i,ref:s||r,...c}),t.multiple?null:m.jsx(fet,{as:a,ownerState:u,className:d.icon})]})});var n7;const pet=vt("fieldset",{shouldForwardProp:Cl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),get=vt("legend",{shouldForwardProp:Cl})(Mr(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function met(e){const{children:t,classes:r,className:n,label:i,notched:o,...a}=e,s=i!=null&&i!=="",l={...e,notched:o,withLabel:s};return m.jsx(pet,{"aria-hidden":!0,className:n,ownerState:l,...a,children:m.jsx(get,{ownerState:l,children:s?m.jsx("span",{children:i}):n7||(n7=m.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const vet=e=>{const{classes:t}=e,n=br({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},JXe,t);return{...t,...n}},yet=vt(LI,{shouldForwardProp:e=>Cl(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:DI})(Mr(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Dc.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Dc.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Dc.focused} .${Dc.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(ts()).map(([r])=>({props:{color:r},style:{[`&.${Dc.focused} .${Dc.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${Dc.error} .${Dc.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Dc.disabled} .${Dc.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),wet=vt(met,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(Mr(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),bet=vt(NI,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:jI})(Mr(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),Wq=I.forwardRef(function(t,r){var n;const i=Ir({props:t,name:"MuiOutlinedInput"}),{components:o={},fullWidth:a=!1,inputComponent:s="input",label:l,multiline:c=!1,notched:u,slots:d={},type:A="text",...f}=i,h=vet(i),p=zm(),v=qm({props:i,muiFormControl:p,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...i,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:p,fullWidth:a,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:A},b=d.root??o.Root??yet,x=d.input??o.Input??bet;return m.jsx(Nq,{slots:{root:b,input:x},renderSuffix:S=>m.jsx(wet,{ownerState:y,className:h.notchedOutline,label:l!=null&&l!==""&&v.required?n||(n=m.jsxs(I.Fragment,{children:[l,"","*"]})):l,notched:typeof u<"u"?u:!!(S.startAdornment||S.filled||S.focused)}),fullWidth:a,inputComponent:s,multiline:c,ref:r,type:A,...f,classes:{...h,notchedOutline:null}})});Wq.muiName="Input";function qOe(e){return wr("MuiSelect",e)}const py=dr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var i7;const xet=vt(QOe,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${py.select}`]:t.select},{[`&.${py.select}`]:t[r.variant]},{[`&.${py.error}`]:t.error},{[`&.${py.multiple}`]:t.multiple}]}})({[`&.${py.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Cet=vt(HOe,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${Mt(r.variant)}`],r.open&&t.iconOpen]}})({}),_et=vt("input",{shouldForwardProp:e=>kI(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function o7(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Eet(e){return e==null||typeof e=="string"&&!e.trim()}const Iet=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:a}=e,s={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Mt(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return br(s,qOe,t)},Bet=I.forwardRef(function(t,r){var $e;const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:a,children:s,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:A,error:f=!1,IconComponent:h,inputRef:p,labelId:v,MenuProps:y={},multiple:b,name:x,onBlur:S,onChange:C,onClose:_,onFocus:B,onOpen:T,open:O,readOnly:P,renderValue:F,required:U,SelectDisplayProps:k={},tabIndex:M,type:D,value:j,variant:$="standard",...Q}=t,[H,W]=UQ({controlled:j,default:u,name:"Select"}),[z,V]=UQ({controlled:O,default:c,name:"Select"}),G=I.useRef(null),X=I.useRef(null),[Z,oe]=I.useState(null),{current:ae}=I.useRef(O!=null),[ne,te]=I.useState(),se=Po(r,p),de=I.useCallback(ve=>{X.current=ve,ve&&oe(ve)},[]),re=Z==null?void 0:Z.parentNode;I.useImperativeHandle(se,()=>({focus:()=>{X.current.focus()},node:G.current,value:H}),[H]),I.useEffect(()=>{c&&z&&Z&&!ae&&(te(a?null:re.clientWidth),X.current.focus())},[Z,a]),I.useEffect(()=>{o&&X.current.focus()},[o]),I.useEffect(()=>{if(!v)return;const ve=Ia(X.current).getElementById(v);if(ve){const ot=()=>{getSelection().isCollapsed&&X.current.focus()};return ve.addEventListener("click",ot),()=>{ve.removeEventListener("click",ot)}}},[v]);const he=(ve,ot)=>{ve?T&&T(ot):_&&_(ot),ae||(te(a?null:re.clientWidth),V(ve))},ye=ve=>{ve.button===0&&(ve.preventDefault(),X.current.focus(),he(!0,ve))},ke=ve=>{he(!1,ve)},Ue=I.Children.toArray(s),Ne=ve=>{const ot=Ue.find(xt=>xt.props.value===ve.target.value);ot!==void 0&&(W(ot.props.value),C&&C(ve,ot))},Ye=ve=>ot=>{let xt;if(ot.currentTarget.hasAttribute("tabindex")){if(b){xt=Array.isArray(H)?H.slice():[];const De=H.indexOf(ve.props.value);De===-1?xt.push(ve.props.value):xt.splice(De,1)}else xt=ve.props.value;if(ve.props.onClick&&ve.props.onClick(ot),H!==xt&&(W(xt),C)){const De=ot.nativeEvent||ot,We=new De.constructor(De.type,De);Object.defineProperty(We,"target",{writable:!0,value:{value:xt,name:x}}),C(We,ve)}b||he(!1,ot)}},lt=ve=>{P||[" ","ArrowUp","ArrowDown","Enter"].includes(ve.key)&&(ve.preventDefault(),he(!0,ve))},Ve=Z!==null&&z,Te=ve=>{!Ve&&S&&(Object.defineProperty(ve,"target",{writable:!0,value:{value:H,name:x}}),S(ve))};delete Q["aria-invalid"];let we,Be;const Ze=[];let me=!1;(p_({value:H})||A)&&(F?we=F(H):me=!0);const Se=Ue.map(ve=>{if(!I.isValidElement(ve))return null;let ot;if(b){if(!Array.isArray(H))throw new Error(_d(2));ot=H.some(xt=>o7(xt,ve.props.value)),ot&&me&&Ze.push(ve.props.children)}else ot=o7(H,ve.props.value),ot&&me&&(Be=ve.props.children);return I.cloneElement(ve,{"aria-selected":ot?"true":"false",onClick:Ye(ve),onKeyUp:xt=>{xt.key===" "&&xt.preventDefault(),ve.props.onKeyUp&&ve.props.onKeyUp(xt)},role:"option",selected:ot,value:void 0,"data-value":ve.props.value})});me&&(b?Ze.length===0?we=null:we=Ze.reduce((ve,ot,xt)=>(ve.push(ot),xt<Ze.length-1&&ve.push(", "),ve),[]):we=Be);let Oe=ne;!a&&ae&&Z&&(Oe=re.clientWidth);let it;typeof M<"u"?it=M:it=d?null:0;const ft=k.id||(x?`mui-component-select-${x}`:void 0),ee={...t,variant:$,value:H,open:Ve,error:f},ce=Iet(ee),pe={...y.PaperProps,...($e=y.slotProps)==null?void 0:$e.paper},xe=MI();return m.jsxs(I.Fragment,{children:[m.jsx(xet,{as:"div",ref:de,tabIndex:it,role:"combobox","aria-controls":Ve?xe:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,ft].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":U?"true":void 0,"aria-invalid":f?"true":void 0,onKeyDown:lt,onMouseDown:d||P?null:ye,onBlur:Te,onFocus:B,...k,ownerState:ee,className:ut(k.className,ce.select,l),id:ft,children:Eet(we)?i7||(i7=m.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):we}),m.jsx(_et,{"aria-invalid":f,value:Array.isArray(H)?H.join(","):H,name:x,ref:G,"aria-hidden":!0,onChange:Ne,tabIndex:-1,disabled:d,className:ce.nativeInput,autoFocus:o,required:U,...Q,ownerState:ee}),m.jsx(Cet,{as:h,className:ce.icon,ownerState:ee}),m.jsx(zq,{id:`menu-${x||""}`,anchorEl:re,open:Ve,onClose:ke,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...y,slotProps:{...y.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:xe,...y.MenuListProps},paper:{...pe,style:{minWidth:Oe,...pe!=null?pe.style:null}}},children:Se})]})}),Pet=e=>{const{classes:t}=e,n=br({root:["root"]},qOe,t);return{...t,...n}},Vq={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Cl(e)&&e!=="variant",slot:"Root"},Tet=vt(qq,Vq)(""),Oet=vt(Wq,Vq)(""),Ret=vt(Hq,Vq)(""),zOe=I.forwardRef(function(t,r){const n=Ir({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=eJe,id:d,input:A,inputProps:f,label:h,labelId:p,MenuProps:v,multiple:y=!1,native:b=!1,onClose:x,onOpen:S,open:C,renderValue:_,SelectDisplayProps:B,variant:T="outlined",...O}=n,P=b?het:Bet,F=zm(),U=qm({props:n,muiFormControl:F,states:["variant","error"]}),k=U.variant||T,M={...n,variant:k,classes:a},D=Pet(M),{root:j,...$}=D,Q=A||{standard:m.jsx(Tet,{ownerState:M}),outlined:m.jsx(Oet,{label:h,ownerState:M}),filled:m.jsx(Ret,{ownerState:M})}[k],H=Po(r,vb(Q));return m.jsx(I.Fragment,{children:I.cloneElement(Q,{inputComponent:P,inputProps:{children:o,error:U.error,IconComponent:u,variant:k,type:void 0,multiple:y,...b?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:p,MenuProps:v,onClose:x,onOpen:S,open:C,renderValue:_,SelectDisplayProps:{id:d,...B}},...f,classes:f?oa($,f.classes):$,...A?A.props.inputProps:{}},...(y&&b||c)&&k==="outlined"?{notched:!0}:{},ref:H,className:ut(Q.props.className,s,D.root),...!A&&{variant:k},...O})})});zOe.muiName="Select";function Met(e,t,r=(n,i)=>n===i){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}const Fet=2;function Yp(e,t,r,n,i){return r===1?Math.min(e+t,i):Math.max(e-t,n)}function KOe(e,t){return e-t}function a7(e,t){const{index:r}=e.reduce((n,i,o)=>{const a=Math.abs(t-i);return n===null||a<n.distance||a===n.distance?{distance:a,index:o}:n},null)??{};return r}function OS(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function m_(e,t,r){return(e-t)*100/(r-t)}function ket(e,t,r){return(r-t)*e+t}function Uet(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Det(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(Uet(t)))}function s7({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(KOe)}function RS({sliderRef:e,activeIndex:t,setActive:r}){var i,o,a;const n=Ia(e.current);(!((i=e.current)!=null&&i.contains(n.activeElement))||Number((o=n==null?void 0:n.activeElement)==null?void 0:o.getAttribute("data-index"))!==t)&&((a=e.current)==null||a.querySelector(`[type="range"][data-index="${t}"]`).focus()),r&&r(t)}function MS(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Met(e,t):!1}const jet={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Let=e=>e;let FS;function l7(){return FS===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?FS=CSS.supports("touch-action","none"):FS=!0),FS}function Net(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:o=!1,marks:a=!1,max:s=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:A="horizontal",rootRef:f,scale:h=Let,step:p=1,shiftStep:v=10,tabIndex:y,value:b}=e,x=I.useRef(void 0),[S,C]=I.useState(-1),[_,B]=I.useState(-1),[T,O]=I.useState(!1),P=I.useRef(0),F=I.useRef(null),[U,k]=UQ({controlled:b,default:r??l,name:"Slider"}),M=u&&((me,Se,Oe)=>{const it=me.nativeEvent||me,ft=new it.constructor(it.type,it);Object.defineProperty(ft,"target",{writable:!0,value:{value:Se,name:c}}),F.current=Se,u(ft,Se,Oe)}),D=Array.isArray(U);let j=D?U.slice().sort(KOe):[U];j=j.map(me=>me==null?l:gg(me,l,s));const $=a===!0&&p!==null?[...Array(Math.floor((s-l)/p)+1)].map((me,Se)=>({value:l+p*Se})):a||[],Q=$.map(me=>me.value),[H,W]=I.useState(-1),z=I.useRef(null),V=Po(f,z),G=me=>Se=>{var it;const Oe=Number(Se.currentTarget.getAttribute("data-index"));u_(Se.target)&&W(Oe),B(Oe),(it=me==null?void 0:me.onFocus)==null||it.call(me,Se)},X=me=>Se=>{var Oe;u_(Se.target)||W(-1),B(-1),(Oe=me==null?void 0:me.onBlur)==null||Oe.call(me,Se)},Z=(me,Se)=>{const Oe=Number(me.currentTarget.getAttribute("data-index")),it=j[Oe],ft=Q.indexOf(it);let ee=Se;if($&&p==null){const ce=Q[Q.length-1];ee>=ce?ee=ce:ee<=Q[0]?ee=Q[0]:ee=ee<it?Q[ft-1]:Q[ft+1]}if(ee=gg(ee,l,s),D){i&&(ee=gg(ee,j[Oe-1]||-1/0,j[Oe+1]||1/0));const ce=ee;ee=s7({values:j,newValue:ee,index:Oe});let pe=Oe;i||(pe=ee.indexOf(ce)),RS({sliderRef:z,activeIndex:pe})}k(ee),W(Oe),M&&!MS(ee,U)&&M(me,ee,Oe),d&&d(me,F.current??ee)},oe=me=>Se=>{var Oe;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(Se.key)){Se.preventDefault();const it=Number(Se.currentTarget.getAttribute("data-index")),ft=j[it];let ee=null;if(p!=null){const ce=Se.shiftKey?v:p;switch(Se.key){case"ArrowUp":ee=Yp(ft,ce,1,l,s);break;case"ArrowRight":ee=Yp(ft,ce,o?-1:1,l,s);break;case"ArrowDown":ee=Yp(ft,ce,-1,l,s);break;case"ArrowLeft":ee=Yp(ft,ce,o?1:-1,l,s);break;case"PageUp":ee=Yp(ft,v,1,l,s);break;case"PageDown":ee=Yp(ft,v,-1,l,s);break;case"Home":ee=l;break;case"End":ee=s;break}}else if($){const ce=Q[Q.length-1],pe=Q.indexOf(ft),xe=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],$e=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];xe.includes(Se.key)?pe===0?ee=Q[0]:ee=Q[pe-1]:$e.includes(Se.key)&&(pe===Q.length-1?ee=ce:ee=Q[pe+1])}ee!=null&&Z(Se,ee)}(Oe=me==null?void 0:me.onKeyDown)==null||Oe.call(me,Se)};au(()=>{var me;n&&z.current.contains(document.activeElement)&&((me=document.activeElement)==null||me.blur())},[n]),n&&S!==-1&&C(-1),n&&H!==-1&&W(-1);const ae=me=>Se=>{var Oe;(Oe=me.onChange)==null||Oe.call(me,Se),Z(Se,Se.target.valueAsNumber)},ne=I.useRef(void 0);let te=A;o&&A==="horizontal"&&(te+="-reverse");const se=({finger:me,move:Se=!1})=>{const{current:Oe}=z,{width:it,height:ft,bottom:ee,left:ce}=Oe.getBoundingClientRect();let pe;te.startsWith("vertical")?pe=(ee-me.y)/ft:pe=(me.x-ce)/it,te.includes("-reverse")&&(pe=1-pe);let xe;if(xe=ket(pe,l,s),p)xe=Det(xe,p,l);else{const ve=a7(Q,xe);xe=Q[ve]}xe=gg(xe,l,s);let $e=0;if(D){Se?$e=ne.current:$e=a7(j,xe),i&&(xe=gg(xe,j[$e-1]||-1/0,j[$e+1]||1/0));const ve=xe;xe=s7({values:j,newValue:xe,index:$e}),i&&Se||($e=xe.indexOf(ve),ne.current=$e)}return{newValue:xe,activeIndex:$e}},de=Ad(me=>{const Se=OS(me,x);if(!Se)return;if(P.current+=1,me.type==="mousemove"&&me.buttons===0){re(me);return}const{newValue:Oe,activeIndex:it}=se({finger:Se,move:!0});RS({sliderRef:z,activeIndex:it,setActive:C}),k(Oe),!T&&P.current>Fet&&O(!0),M&&!MS(Oe,U)&&M(me,Oe,it)}),re=Ad(me=>{const Se=OS(me,x);if(O(!1),!Se)return;const{newValue:Oe}=se({finger:Se,move:!0});C(-1),me.type==="touchend"&&B(-1),d&&d(me,F.current??Oe),x.current=void 0,ye()}),he=Ad(me=>{if(n)return;l7()||me.preventDefault();const Se=me.changedTouches[0];Se!=null&&(x.current=Se.identifier);const Oe=OS(me,x);if(Oe!==!1){const{newValue:ft,activeIndex:ee}=se({finger:Oe});RS({sliderRef:z,activeIndex:ee,setActive:C}),k(ft),M&&!MS(ft,U)&&M(me,ft,ee)}P.current=0;const it=Ia(z.current);it.addEventListener("touchmove",de,{passive:!0}),it.addEventListener("touchend",re,{passive:!0})}),ye=I.useCallback(()=>{const me=Ia(z.current);me.removeEventListener("mousemove",de),me.removeEventListener("mouseup",re),me.removeEventListener("touchmove",de),me.removeEventListener("touchend",re)},[re,de]);I.useEffect(()=>{const{current:me}=z;return me.addEventListener("touchstart",he,{passive:l7()}),()=>{me.removeEventListener("touchstart",he),ye()}},[ye,he]),I.useEffect(()=>{n&&ye()},[n,ye]);const ke=me=>Se=>{var ft;if((ft=me.onMouseDown)==null||ft.call(me,Se),n||Se.defaultPrevented||Se.button!==0)return;Se.preventDefault();const Oe=OS(Se,x);if(Oe!==!1){const{newValue:ee,activeIndex:ce}=se({finger:Oe});RS({sliderRef:z,activeIndex:ce,setActive:C}),k(ee),M&&!MS(ee,U)&&M(Se,ee,ce)}P.current=0;const it=Ia(z.current);it.addEventListener("mousemove",de,{passive:!0}),it.addEventListener("mouseup",re)},Ue=m_(D?j[0]:l,l,s),Ne=m_(j[j.length-1],l,s)-Ue,Ye=(me={})=>{const Se=y0(me),Oe={onMouseDown:ke(Se||{})},it={...Se,...Oe};return{...me,ref:V,...it}},lt=me=>Se=>{var it;(it=me.onMouseOver)==null||it.call(me,Se);const Oe=Number(Se.currentTarget.getAttribute("data-index"));B(Oe)},Ve=me=>Se=>{var Oe;(Oe=me.onMouseLeave)==null||Oe.call(me,Se),B(-1)},Te=(me={})=>{const Se=y0(me),Oe={onMouseOver:lt(Se||{}),onMouseLeave:Ve(Se||{})};return{...me,...Se,...Oe}},we=me=>({pointerEvents:S!==-1&&S!==me?"none":void 0});let Be;return A==="vertical"&&(Be=o?"vertical-rl":"vertical-lr"),{active:S,axis:te,axisProps:jet,dragging:T,focusedThumbIndex:H,getHiddenInputProps:(me={})=>{const Se=y0(me),Oe={onChange:ae(Se||{}),onFocus:G(Se||{}),onBlur:X(Se||{}),onKeyDown:oe(Se||{})},it={...Se,...Oe};return{tabIndex:y,"aria-labelledby":t,"aria-orientation":A,"aria-valuemax":h(s),"aria-valuemin":h(l),name:c,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:n,...me,...it,style:{...U7e,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Be}}},getRootProps:Ye,getThumbProps:Te,marks:$,open:_,range:D,rootRef:V,trackLeap:Ne,trackOffset:Ue,values:j,getThumbStyle:we}}const $et=e=>!e||!fd(e);function Qet(e){return wr("MuiSlider",e)}const cl=dr("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Het=e=>{const{open:t}=e;return{offset:ut(t&&cl.valueLabelOpen),circle:cl.valueLabelCircle,label:cl.valueLabelLabel}};function qet(e){const{children:t,className:r,value:n}=e,i=Het(e);return t?I.cloneElement(t,{className:ut(t.props.className)},m.jsxs(I.Fragment,{children:[t.props.children,m.jsx("span",{className:ut(i.offset,r),"aria-hidden":!0,children:m.jsx("span",{className:i.circle,children:m.jsx("span",{className:i.label,children:n})})})]})):null}function c7(e){return e}const zet=vt("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${Mt(r.color)}`],r.size!=="medium"&&t[`size${Mt(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(Mr(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${cl.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${cl.dragging}`]:{[`& .${cl.thumb}, & .${cl.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(ts()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Ket=vt("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Wet=vt("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(Mr(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(ts()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:Y0(e.palette[t].main,.62),borderColor:Y0(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:G0(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:G0(e.palette[t].main,.5)})}}}))]}))),Vet=vt("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${Mt(r.color)}`],r.size!=="medium"&&t[`thumbSize${Mt(r.size)}`]]}})(Mr(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${cl.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(ts()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${cl.focusVisible}`]:{...e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${zn(e.palette[t].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${cl.active}`]:{...e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${zn(e.palette[t].main,.16)}`}}}}))]}))),Get=vt(qet,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(Mr(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${cl.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${cl.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Yet=vt("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>kI(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(Mr(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Xet=vt("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>kI(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(Mr(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Jet=e=>{const{disabled:t,dragging:r,marked:n,orientation:i,track:o,classes:a,color:s,size:l}=e,c={root:["root",t&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",s&&`color${Mt(s)}`,l&&`size${Mt(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${Mt(l)}`,s&&`thumbColor${Mt(s)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return br(c,Qet,a)},Zet=({children:e})=>e,u7=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiSlider"}),i=wOe(),{"aria-label":o,"aria-valuetext":a,"aria-labelledby":s,component:l="span",components:c={},componentsProps:u={},color:d="primary",classes:A,className:f,disableSwap:h=!1,disabled:p=!1,getAriaLabel:v,getAriaValueText:y,marks:b=!1,max:x=100,min:S=0,name:C,onChange:_,onChangeCommitted:B,orientation:T="horizontal",shiftStep:O=10,size:P="medium",step:F=1,scale:U=c7,slotProps:k,slots:M,tabIndex:D,track:j="normal",value:$,valueLabelDisplay:Q="off",valueLabelFormat:H=c7,...W}=n,z={...n,isRtl:i,max:x,min:S,classes:A,disabled:p,disableSwap:h,orientation:T,marks:b,color:d,size:P,step:F,shiftStep:O,scale:U,track:j,valueLabelDisplay:Q,valueLabelFormat:H},{axisProps:V,getRootProps:G,getHiddenInputProps:X,getThumbProps:Z,open:oe,active:ae,axis:ne,focusedThumbIndex:te,range:se,dragging:de,marks:re,values:he,trackOffset:ye,trackLeap:ke,getThumbStyle:Ue}=Net({...z,rootRef:r});z.marked=re.length>0&&re.some(At=>At.label),z.dragging=de,z.focusedThumbIndex=te;const Ne=Jet(z),Ye=(M==null?void 0:M.root)??c.Root??zet,lt=(M==null?void 0:M.rail)??c.Rail??Ket,Ve=(M==null?void 0:M.track)??c.Track??Wet,Te=(M==null?void 0:M.thumb)??c.Thumb??Vet,we=(M==null?void 0:M.valueLabel)??c.ValueLabel??Get,Be=(M==null?void 0:M.mark)??c.Mark??Yet,Ze=(M==null?void 0:M.markLabel)??c.MarkLabel??Xet,me=(M==null?void 0:M.input)??c.Input??"input",Se=(k==null?void 0:k.root)??u.root,Oe=(k==null?void 0:k.rail)??u.rail,it=(k==null?void 0:k.track)??u.track,ft=(k==null?void 0:k.thumb)??u.thumb,ee=(k==null?void 0:k.valueLabel)??u.valueLabel,ce=(k==null?void 0:k.mark)??u.mark,pe=(k==null?void 0:k.markLabel)??u.markLabel,xe=(k==null?void 0:k.input)??u.input,$e=Zu({elementType:Ye,getSlotProps:G,externalSlotProps:Se,externalForwardedProps:W,additionalProps:{...$et(Ye)&&{as:l}},ownerState:{...z,...Se==null?void 0:Se.ownerState},className:[Ne.root,f]}),ve=Zu({elementType:lt,externalSlotProps:Oe,ownerState:z,className:Ne.rail}),ot=Zu({elementType:Ve,externalSlotProps:it,additionalProps:{style:{...V[ne].offset(ye),...V[ne].leap(ke)}},ownerState:{...z,...it==null?void 0:it.ownerState},className:Ne.track}),xt=Zu({elementType:Te,getSlotProps:Z,externalSlotProps:ft,ownerState:{...z,...ft==null?void 0:ft.ownerState},className:Ne.thumb}),De=Zu({elementType:we,externalSlotProps:ee,ownerState:{...z,...ee==null?void 0:ee.ownerState},className:Ne.valueLabel}),We=Zu({elementType:Be,externalSlotProps:ce,ownerState:z,className:Ne.mark}),Je=Zu({elementType:Ze,externalSlotProps:pe,ownerState:z,className:Ne.markLabel}),nt=Zu({elementType:me,getSlotProps:X,externalSlotProps:xe,ownerState:z});return m.jsxs(Ye,{...$e,children:[m.jsx(lt,{...ve}),m.jsx(Ve,{...ot}),re.filter(At=>At.value>=S&&At.value<=x).map((At,kt)=>{const sr=m_(At.value,S,x),xr=V[ne].offset(sr);let pr;return j===!1?pr=he.includes(At.value):pr=j==="normal"&&(se?At.value>=he[0]&&At.value<=he[he.length-1]:At.value<=he[0])||j==="inverted"&&(se?At.value<=he[0]||At.value>=he[he.length-1]:At.value>=he[0]),m.jsxs(I.Fragment,{children:[m.jsx(Be,{"data-index":kt,...We,...!fd(Be)&&{markActive:pr},style:{...xr,...We.style},className:ut(We.className,pr&&Ne.markActive)}),At.label!=null?m.jsx(Ze,{"aria-hidden":!0,"data-index":kt,...Je,...!fd(Ze)&&{markLabelActive:pr},style:{...xr,...Je.style},className:ut(Ne.markLabel,Je.className,pr&&Ne.markLabelActive),children:At.label}):null]},kt)}),he.map((At,kt)=>{const sr=m_(At,S,x),xr=V[ne].offset(sr),pr=Q==="off"?Zet:we;return m.jsx(pr,{...!fd(pr)&&{valueLabelFormat:H,valueLabelDisplay:Q,value:typeof H=="function"?H(U(At),kt):H,index:kt,open:oe===kt||ae===kt||Q==="on",disabled:p},...De,children:m.jsx(Te,{"data-index":kt,...xt,className:ut(Ne.thumb,xt.className,ae===kt&&Ne.active,te===kt&&Ne.focusVisible),style:{...xr,...Ue(kt),...xt.style},children:m.jsx(me,{"data-index":kt,"aria-label":v?v(kt):o,"aria-valuenow":U(At),"aria-labelledby":s,"aria-valuetext":y?y(U(At),kt):a,value:he[kt],...nt})})},kt)})]})});function ett(e){return wr("MuiToolbar",e)}dr("MuiToolbar",["root","gutters","regular","dense"]);const ttt=e=>{const{classes:t,disableGutters:r,variant:n}=e;return br({root:["root",!r&&"gutters",n]},ett,t)},rtt=vt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(Mr(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),ntt=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:a=!1,variant:s="regular",...l}=n,c={...n,component:o,disableGutters:a,variant:s},u=ttt(c);return m.jsx(rtt,{as:o,className:ut(u.root,i),ref:r,ownerState:c,...l})});function itt(e){return wr("MuiTextField",e)}dr("MuiTextField",["root"]);const ott={standard:qq,filled:Hq,outlined:Wq},att=e=>{const{classes:t}=e;return br({root:["root"]},itt,t)},stt=vt(rZe,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),gn=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:s,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:A,fullWidth:f=!1,helperText:h,id:p,InputLabelProps:v,inputProps:y,InputProps:b,inputRef:x,label:S,maxRows:C,minRows:_,multiline:B=!1,name:T,onBlur:O,onChange:P,onFocus:F,placeholder:U,required:k=!1,rows:M,select:D=!1,SelectProps:j,slots:$={},slotProps:Q={},type:H,value:W,variant:z="outlined",...V}=n,G={...n,autoFocus:o,color:l,disabled:u,error:d,fullWidth:f,multiline:B,required:k,select:D,variant:z},X=att(G),Z=MI(p),oe=h&&Z?`${Z}-helper-text`:void 0,ae=S&&Z?`${Z}-label`:void 0,ne=ott[z],te={slots:$,slotProps:{input:b,inputLabel:v,htmlInput:y,formHelperText:A,select:j,...Q}},se={},de=te.slotProps.inputLabel;z==="outlined"&&(de&&typeof de.shrink<"u"&&(se.notched=de.shrink),se.label=S),D&&((!j||!j.native)&&(se.id=void 0),se["aria-describedby"]=void 0);const[re,he]=Ai("input",{elementType:ne,externalForwardedProps:te,additionalProps:se,ownerState:G}),[ye,ke]=Ai("inputLabel",{elementType:OZe,externalForwardedProps:te,ownerState:G}),[Ue,Ne]=Ai("htmlInput",{elementType:"input",externalForwardedProps:te,ownerState:G}),[Ye,lt]=Ai("formHelperText",{elementType:aZe,externalForwardedProps:te,ownerState:G}),[Ve,Te]=Ai("select",{elementType:zOe,externalForwardedProps:te,ownerState:G}),we=m.jsx(re,{"aria-describedby":oe,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:f,multiline:B,name:T,rows:M,maxRows:C,minRows:_,type:H,value:W,id:Z,inputRef:x,onBlur:O,onChange:P,onFocus:F,placeholder:U,inputProps:Ne,slots:{input:$.htmlInput?Ue:void 0},...he});return m.jsxs(stt,{className:ut(X.root,s),disabled:u,error:d,fullWidth:f,ref:r,required:k,color:l,variant:z,ownerState:G,...V,children:[S!=null&&S!==""&&m.jsx(ye,{htmlFor:Z,id:ae,...ke,children:S}),D?m.jsx(Ve,{"aria-describedby":oe,id:Z,labelId:ae,value:W,input:we,...Te,children:a}):we,h&&m.jsx(Ye,{id:oe,...lt,children:h})]})});function ltt(e){return wr("MuiToggleButton",e)}const lh=dr("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),WOe=I.createContext({}),VOe=I.createContext(void 0);function ctt(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const utt=e=>{const{classes:t,fullWidth:r,selected:n,disabled:i,size:o,color:a}=e,s={root:["root",n&&"selected",i&&"disabled",r&&"fullWidth",`size${Mt(o)}`,a]};return br(s,ltt,t)},dtt=vt(UI,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${Mt(r.size)}`]]}})(Mr(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${lh.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${lh.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zn(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(ts()).map(([t])=>({props:{color:t},style:{[`&.${lh.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette[t].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zn(e.palette[t].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette[t].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),d7=I.forwardRef(function(t,r){const{value:n,...i}=I.useContext(WOe),o=I.useContext(VOe),a=Jg({...i,selected:ctt(t.value,n)},t),s=Ir({props:a,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:d=!1,disableFocusRipple:A=!1,fullWidth:f=!1,onChange:h,onClick:p,selected:v,size:y="medium",value:b,...x}=s,S={...s,color:u,disabled:d,disableFocusRipple:A,fullWidth:f,size:y},C=utt(S),_=T=>{p&&(p(T,b),T.defaultPrevented)||h&&h(T,b)},B=o||"";return m.jsx(dtt,{className:ut(i.className,C.root,c,B),disabled:d,focusRipple:!A,ref:r,onClick:_,onChange:h,value:b,ownerState:S,"aria-pressed":v,...x,children:l})});function Att(e){return wr("MuiToggleButtonGroup",e)}const Rn=dr("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),ftt=e=>{const{classes:t,orientation:r,fullWidth:n,disabled:i}=e,o={root:["root",r,n&&"fullWidth"],grouped:["grouped",`grouped${Mt(r)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return br(o,Att,t)},htt=vt("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Rn.grouped}`]:t.grouped},{[`& .${Rn.grouped}`]:t[`grouped${Mt(r.orientation)}`]},{[`& .${Rn.firstButton}`]:t.firstButton},{[`& .${Rn.lastButton}`]:t.lastButton},{[`& .${Rn.middleButton}`]:t.middleButton},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(Mr(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Rn.grouped}`]:{[`&.${Rn.selected} + .${Rn.grouped}.${Rn.selected}`]:{borderTop:0,marginTop:0}},[`& .${Rn.firstButton},& .${Rn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Rn.lastButton},& .${Rn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Rn.lastButton}.${lh.disabled},& .${Rn.middleButton}.${lh.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Rn.grouped}`]:{[`&.${Rn.selected} + .${Rn.grouped}.${Rn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Rn.firstButton},& .${Rn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Rn.lastButton},& .${Rn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Rn.lastButton}.${lh.disabled},& .${Rn.middleButton}.${lh.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ptt=I.forwardRef(function(t,r){const n=Ir({props:t,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:a="standard",disabled:s=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:d="horizontal",size:A="medium",value:f,...h}=n,p={...n,disabled:s,fullWidth:c,orientation:d,size:A},v=ftt(p),y=I.useCallback((B,T)=>{if(!u)return;const O=f&&f.indexOf(T);let P;f&&O>=0?(P=f.slice(),P.splice(O,1)):P=f?f.concat(T):[T],u(B,P)},[u,f]),b=I.useCallback((B,T)=>{u&&u(B,f===T?null:T)},[u,f]),x=I.useMemo(()=>({className:v.grouped,onChange:l?b:y,value:f,size:A,fullWidth:c,color:a,disabled:s}),[v.grouped,l,b,y,f,A,c,a,s]),S=k7e(i),C=S.length,_=B=>{const T=B===0,O=B===C-1;return T&&O?"":T?v.firstButton:O?v.lastButton:v.middleButton};return m.jsx(htt,{role:"group",className:ut(v.root,o),ref:r,ownerState:p,...h,children:m.jsx(WOe.Provider,{value:x,children:S.map((B,T)=>m.jsx(VOe.Provider,{value:_(T),children:B},T))})})}),GOe="/ITM8/assets/logo-O-evLHni.png",gtt=()=>{const e=Wh(),{logout:t}=gq(),[r,n]=ue.useState(null),i=!!r,o=[{label:"Pipeline Tool",path:"/PipelinePage"},{label:"Win Room",path:"/WinRoomPage"},{label:"Stakeholder",path:"/StakeholderPage"},{label:"Rowers Overview",path:"/RowersPage"},{label:"Rowers Chart",path:"/RowersChartPage"},{label:"Sales Tool",path:"/SalestoolPage"},{label:"Canvas",path:"/CanvasPage"},{label:"Flow Chart",path:"/FlowPage"}],a=l=>{n(l.currentTarget)},s=()=>{n(null)};return m.jsx($Xe,{position:"fixed",sx:{backgroundColor:"white",boxShadow:"none",position:"relative",borderBottom:"3px solid rgb(95,37,159)",paddingBottom:"5px"},children:m.jsxs(ntt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"},children:[m.jsx(Kn,{sx:{display:"flex",alignItems:"center"},children:m.jsx("img",{src:GOe,alt:"Logo",style:{height:50,marginRight:16,marginTop:10,cursor:"pointer"},onClick:()=>e("/")})}),m.jsx(Bt,{variant:"h4",component:"div",sx:{color:"rgb(95,37,159)",position:"absolute",left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap"},children:"Sales Opportunity Analyzer"}),m.jsxs(Kn,{sx:{display:"flex",gap:1},children:[m.jsx(_a,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:()=>e("/"),children:"HomePage"}),m.jsx(_a,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:a,children:"Tools"}),m.jsx(zq,{anchorEl:r,open:i,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:o.map(l=>m.jsx(pC,{onClick:()=>{e(l.path),s()},children:l.label},l.path))}),m.jsx(_a,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:()=>e("/information"),children:"Information"}),m.jsx(_a,{variant:"contained",sx:{backgroundColor:"rgb(95,37,159)"},onClick:()=>{t(),e("/login")},children:"Logout"})]})]})})},yb=({title:e,children:t})=>m.jsxs(XA,{maxWidth:"lg",sx:{mt:"10px",mb:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[m.jsx(Bt,{variant:"h4",sx:{mb:3,color:"rgb(95,37,159)"},children:e}),t]}),mtt=({tool:e})=>{const t=Wh();return m.jsxs(yu,{elevation:3,className:`
        p-6 
        transition-all 
        duration-300 
        hover:shadow-xl 
        hover:scale-105 
        flex 
        flex-col 
        justify-between
        bg-white
        rounded-2xl
      `,children:[m.jsxs("div",{children:[m.jsx(Bt,{variant:"h6",gutterBottom:!0,className:"font-bold text-[rgb(95,37,159)]",children:e.title}),m.jsx(Bt,{variant:"body1",className:"text-gray-700 leading-relaxed mb-4",children:e.description})]}),m.jsxs("button",{className:`
          bg-[rgb(95,37,159)] 
          hover:bg-purple-800 
          text-white 
          font-semibold 
          py-2 
          px-4 
          rounded-lg
          transition-colors
        `,onClick:()=>t(e.path),children:["Go to ",e.title]})]})},vtt=()=>{const e=[{title:"Pipeline Tool",path:"/PipelinePage",description:"Manage pipelines with parameter-based calculations to streamline your processes."},{title:"Win Room",path:"/WinRoomPage",description:"Showcase your wins and opportunities, keeping track of achievements for motivation."},{title:"Stakeholder Map",path:"/StakeholderPage",description:"Visualize stakeholder support and influence to prioritize relationships."},{title:"Rowers Overview",path:"/RowersPage",description:"Get a quick view of rowers and understand each letter in ROWERS for deeper metric insights."},{title:"Rowers Chart",path:"/RowersChartPage",description:"Visualize rowers performance in a bar chart for easy comparison and analysis over time."},{title:"Sales Tool",path:"/SalestoolPage",description:"Predict future sales through regression or calculate weighted opportunities."},{title:"Canvas",path:"/CanvasPage",description:"Create and manage canvases to visualize ideas, making it easier to plan and execute projects."},{title:"Flow Chart",path:"/FlowPage",description:"Design and analyze flow charts to outline and optimize workflows for improved efficiency."}];return m.jsxs(yb,{title:"Home Page",children:[m.jsx(XA,{maxWidth:!1,disableGutters:!0,children:m.jsxs("div",{className:"hero-fade-out relative ",children:[m.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-24 px-4 rounded-lg",children:m.jsxs("div",{className:"max-w-7xl mx-auto pl-8",children:[m.jsx(Bt,{variant:"h3",className:"font-bold mb-4",children:"Sales Opportunity Analyzer"}),m.jsx(Bt,{variant:"h6",className:"mb-6 max-w-2xl leading-relaxed",children:"Analyze, plan, and optimize your sales strategies in one place."})]})}),m.jsx("div",{className:"fade-bottom"})]})}),m.jsx("div",{className:"bg-white pt-6 pb-12",children:m.jsx(XA,{maxWidth:"lg",children:m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map((t,r)=>m.jsx(mtt,{tool:t},r))})})})]})},PR=e=>e.toLocaleString("en-US").replace(/,/g," "),ytt=()=>{const[e,t]=I.useState(Number(localStorage.getItem("budget"))||0),[r,n]=I.useState(Number(localStorage.getItem("sellCycleLength"))||0),[i,o]=I.useState(Number(localStorage.getItem("avgOpportunitySize"))||0),[a,s]=I.useState(Number(localStorage.getItem("monthsLeft"))||0),[l,c]=I.useState(Number(localStorage.getItem("yearToDateAttainment"))||0),[u,d]=I.useState(Number(localStorage.getItem("identifyRevenue"))||0),[A,f]=I.useState(Number(localStorage.getItem("qualifyRevenue"))||0),[h,p]=I.useState(Number(localStorage.getItem("validateRevenue"))||0),[v,y]=I.useState(Number(localStorage.getItem("proveRevenue"))||0),[b,x]=I.useState(Number(localStorage.getItem("presentRevenue"))||0),[S,C]=I.useState(Number(localStorage.getItem("closeRevenue"))||0);I.useEffect(()=>{localStorage.setItem("budget",String(e)),localStorage.setItem("sellCycleLength",String(r)),localStorage.setItem("avgOpportunitySize",String(i)),localStorage.setItem("monthsLeft",String(a)),localStorage.setItem("yearToDateAttainment",String(l)),localStorage.setItem("identifyRevenue",String(u)),localStorage.setItem("qualifyRevenue",String(A)),localStorage.setItem("validateRevenue",String(h)),localStorage.setItem("proveRevenue",String(v)),localStorage.setItem("presentRevenue",String(b)),localStorage.setItem("closeRevenue",String(S))},[e,r,i,a,l,u,A,h,v,b,S]);const _=(j,$)=>j*($/100),B=_(u,10)+_(A,25)+_(h,50)+_(v,75)+_(b,90)+_(S,100),T=r!==0?B/r*a:0,O=e-T-l,P=i!==0?O/i*10:0,F=(j,$)=>{const Q=j.target.value.replace(/\s/g,""),H=Number(Q)||0;$(H)},U=[{label:"Budget (SEK)",value:e,setValue:t},{label:"Average Sell Cycle Length (months)",value:r,setValue:n},{label:"Average Size of Opportunities",value:i,setValue:o},{label:"Months Left in the Year",value:a,setValue:s},{label:"Year-to-Date Attainment",value:l,setValue:c}],k=[{label:"IDENTIFY",value:u,setValue:d,percentage:10},{label:"QUALIFY",value:A,setValue:f,percentage:25},{label:"VALIDATE",value:h,setValue:p,percentage:50}],M=[{label:"PROVE",value:v,setValue:y,percentage:75},{label:"PRESENT",value:b,setValue:x,percentage:90},{label:"CLOSE",value:S,setValue:C,percentage:100}],D=[{label:"Total Yield in the Pipeline",value:B,unit:"SEK"},{label:"Projected Yield for the Year",value:T,unit:"SEK"},{label:"Gap",value:O,unit:"SEK"},{label:"Additional Leads Required to Close the Gap",value:Math.ceil(P),unit:"PCS"}];return m.jsx(yb,{title:"Pipeline Volume Assessment Tool",children:m.jsx("div",{className:"bg-gray-50 min-h-screen py-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white border border-[rgb(95,37,159)]/[0.1] rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[m.jsx(Bt,{variant:"h5",className:"text-[rgb(95,37,159)] font-semibold mb-4 text-lg",sx:{mb:2},children:"Pipeline Metrics"}),m.jsx("div",{className:"flex flex-col gap-6",children:U.map((j,$)=>m.jsx(gn,{fullWidth:!0,label:j.label,type:"text",value:j.value?PR(j.value):"",onChange:Q=>F(Q,j.setValue),inputProps:{inputMode:"numeric",pattern:"[0-9]*",step:1},className:"bg-white",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}}},$))})]}),m.jsxs("div",{className:"md:col-span-2 bg-white border border-[rgb(95,37,159)]/[0.1] rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[m.jsx(Bt,{variant:"h5",className:"text-[rgb(95,37,159)] font-semibold mb-4 text-lg",children:"Revenue in Pipeline Sections"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsx("div",{className:"space-y-4",children:k.map((j,$)=>m.jsxs("div",{children:[m.jsx(Bt,{variant:"subtitle1",className:"text-gray-700 font-medium mb-1",children:j.label}),m.jsx(gn,{fullWidth:!0,label:"Revenue",type:"text",value:j.value?PR(j.value):"",onChange:Q=>F(Q,j.setValue),inputProps:{inputMode:"numeric",pattern:"[0-9]*",step:1},className:"bg-white",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}}}),m.jsxs(Bt,{variant:"body2",className:"text-gray-600 mt-1 text-sm",children:["Yield:"," ",_(j.value,j.percentage).toLocaleString("en-US").replace(/,/g," ")," ","SEK (",j.percentage,"%)"]})]},$))}),m.jsx("div",{className:"space-y-4",children:M.map((j,$)=>m.jsxs("div",{children:[m.jsx(Bt,{variant:"subtitle1",className:"text-gray-700 font-medium mb-1",children:j.label}),m.jsx(gn,{fullWidth:!0,label:"Revenue",type:"text",value:j.value?PR(j.value):"",onChange:Q=>F(Q,j.setValue),inputProps:{inputMode:"numeric",pattern:"[0-9]*",step:1},className:"bg-white",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}}}),m.jsxs(Bt,{variant:"body2",className:"text-gray-600 mt-1 text-sm",children:["Yield:"," ",_(j.value,j.percentage).toLocaleString("en-US").replace(/,/g," ")," ","SEK (",j.percentage,"%)"]})]},$))})]})]})]}),m.jsxs("div",{className:"mt-6 bg-white border border-[rgb(95,37,159)]/[0.1] rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[m.jsx(Bt,{variant:"h5",className:"text-[rgb(95,37,159)] font-semibold mb-4 text-lg",children:"Results"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:D.map((j,$)=>m.jsxs("div",{className:`
                    bg-gray-50 
                    rounded-md 
                    p-4 
                    border 
                    border-[rgb(95,37,159)]/[0.1]
                    hover:border-[rgb(95,37,159)]/[0.3]
                    transition-colors
                    flex 
                    flex-col 
                    justify-center
                  `,children:[m.jsx(Bt,{variant:"subtitle2",className:"text-gray-500 mb-1 text-sm",children:j.label}),m.jsxs(Bt,{variant:"h6",className:"text-gray-800 font-semibold",children:[j.value.toLocaleString("en-US").replace(/,/g," ")," ",j.unit]})]},$))})]})]})})})},wtt=()=>{const e=Hm(),t=Wh(),[r,n]=I.useState(null),i=[{letter:"R",title:"Roadblock",description:"How well do you understand the customer's Pain and the obstacles or hindrances that are preventing the customer from achieving their goals or growing their business?",color:e.palette.primary.main,titleDescription:"Roadblock - Assessing Customer Pain or Critical Business Issues",steps:["1: No clear pain or critical issue identified; customer shows no urgency to adress problems.","2: A minor issue is identified, but it is not critical or driving change.","3: A problem exists, but it is not clearly articulated or widely recognized by stakeholders.","4: A clear and significant pain is recognized by the customer, but they are not exploring solutions.","5: A well-defined and urgent problem exists, and solving it is a priority for the customer."]},{letter:"O",title:"Ownership",description:"Who in the customer's organization has responsibility for solving the problem (PAIN) and how engaged are they in driving the solution forward?",color:e.palette.secondary.main,titleDescription:"Ownership - Who Owns the Problem and the Solution",steps:["1: No clear owner of the problem or decision-making process is identified.","2: Ownership is unclear or split across multiple individuals with conflicting priorities.","3: A stakeholder (sponsor) owns the problem but has limited authority or influence.","4: A strong champion with authority acknowledges the problem and is engaged in discussions to fix it.","5: A decision-maker or executive sponsor acknowledges the problem and is actively driving the decision."]},{letter:"W",title:"Win Likelihood",description:"How likely are you to win the deal, considering your position against competitors and internal support?",color:e.palette.success.main,titleDescription:"Win Likelihood - Likelihood of Winning the Opportunity",steps:["1: Very low likelihood of winning; significant misalignment with customer needs or preferences.","2: Low likelihood; the solution partially meets customer needs, but competitors are favored.","3: Moderate likelihood; solution meets needs, but differentiation or engagement is weak.","4: High likelihood; strong alignment with customer needs, and the value is clearly understood.","5: Very high likelihood; solution is a perfect fit, and customer shows strong buying intent."]},{letter:"E",title:"Economic value",description:"How compelling is the economic case for your solution (ROI, cost savings, value generation)?",color:e.palette.warning.main,titleDescription:"Economic value - Assessing the Financial Impact or ROI",steps:["1: The economic value is unclear or has not been discussed with the customer.","2: The solution may provide value, but there is no concrete calculation of impact.","3: The economic value is somewhat understood, but the customer perceives it as marginal or unclear.","4: The financial impact is well-articulated, with solid impact/ROI/cost savings that resonate with the customer.","The economic value is compelling, with a clearly quantified and substantial impact that is a key driver of the customer's decision."]},{letter:"R",title:"Risk",description:"How well are you managing the risks associated with the deal (internal objections, competition, budget)?",color:e.palette.error.main,titleDescription:"Risk Management - Assessing Risks to the Opportunity",steps:["1: Significant risks exist that are likely to derail the opportunity.","2: Several risks exist, but there is no clear plan to address them.","3: Moderate risks exist, and some mitigation strategies are in place.","4: Low risks, the customer and salesperson have identified and addressed most issues.","5: Minimal or no risks; the customer sees the solution as low-risk and high-reward. "]},{letter:"S",title:"Stakeholders",description:"How well are you aligned with key stakeholders (decision-makers, influencers, champions)?",color:e.palette.info.main,titleDescription:"Stakeholders - Engaging the Right People",steps:["1: No engagement with key stakeholders; limited visibility into the buying group.","2: Limited engagement; key stakeholders are not fully aligned or involved.","3: Partial engagement; some key stakeholders are involved, but alignment is unclear.","4: Strong engagement with most stakeholders; alignment is mostly in place.","5: Full engagement with all key stakeholders, with strong alignment and buy-in."]}],o=s=>{n(s)},a=()=>{n(null)};return m.jsxs(Kn,{width:"100%",sx:{p:3},children:[m.jsx(gr,{container:!0,spacing:3,justifyContent:"center",children:i.map((s,l)=>m.jsxs(gr,{item:!0,xs:12,sm:6,md:4,lg:3,margin:"5px",children:[" ",m.jsx(ph,{onClick:()=>o(s),sx:{height:"100%",display:"flex",flexDirection:"column",borderLeft:`6px solid ${s.color}`,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.03)"}},children:m.jsxs(gh,{children:[m.jsx(Bt,{variant:"h2",sx:{color:s.color,fontWeight:"bold",mb:2},children:s.letter}),m.jsx(Bt,{variant:"h6",sx:{mb:2},children:s.title}),m.jsxs(Bt,{variant:"body1",children:[s.description.substring(0,100),"..."]})]})})]},l))}),m.jsx(Qq,{open:!!r,onClose:a,closeAfterTransition:!0,BackdropComponent:$q,BackdropProps:{timeout:500,sx:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:m.jsx(UOe,{in:!!r,children:m.jsx(yu,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"900px",p:5,borderRadius:4,boxShadow:e.shadows[5],backgroundColor:"white"},children:r&&m.jsxs(m.Fragment,{children:[m.jsxs(Kn,{children:[m.jsx(Bt,{variant:"h2",sx:{color:r.color,fontWeight:"bold",mb:2},children:r.letter}),m.jsx(Bt,{variant:"h5",sx:{mb:2},children:r.title}),m.jsx(Bt,{variant:"body1",sx:{mb:4},children:r.description})]}),m.jsx(Ih,{sx:{my:2}}),m.jsxs(Kn,{children:[m.jsx(Bt,{variant:"h5",sx:{fontWeight:"bold",mb:2},children:r.titleDescription}),m.jsx(J0,{children:r.steps.map((s,l)=>m.jsx(vg,{children:m.jsx(oh,{primary:s})},l))})]})]})})})}),m.jsx(Kn,{sx:{display:"flex",justifyContent:"center",mt:8},children:m.jsx(_a,{variant:"contained",onClick:()=>t("/RowersChartPage"),sx:{fontSize:"1.2rem",padding:"10px 20px"},children:"View ROWERS Chart"})})]})};var TR,A7;function rs(){if(A7)return TR;A7=1;var e=Array.isArray;return TR=e,TR}var OR,f7;function YOe(){if(f7)return OR;f7=1;var e=typeof ao=="object"&&ao&&ao.Object===Object&&ao;return OR=e,OR}var RR,h7;function wu(){if(h7)return RR;h7=1;var e=YOe(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return RR=r,RR}var MR,p7;function wb(){if(p7)return MR;p7=1;var e=wu(),t=e.Symbol;return MR=t,MR}var FR,g7;function btt(){if(g7)return FR;g7=1;var e=wb(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=r.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=n.call(a);return c&&(s?a[i]=l:delete a[i]),u}return FR=o,FR}var kR,m7;function xtt(){if(m7)return kR;m7=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return kR=r,kR}var UR,v7;function Ud(){if(v7)return UR;v7=1;var e=wb(),t=btt(),r=xtt(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:n:o&&o in Object(s)?t(s):r(s)}return UR=a,UR}var DR,y7;function Dd(){if(y7)return DR;y7=1;function e(t){return t!=null&&typeof t=="object"}return DR=e,DR}var jR,w7;function Km(){if(w7)return jR;w7=1;var e=Ud(),t=Dd(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return jR=n,jR}var LR,b7;function Gq(){if(b7)return LR;b7=1;var e=rs(),t=Km(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||a!=null&&o in Object(a)}return LR=i,LR}var NR,x7;function lf(){if(x7)return NR;x7=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return NR=e,NR}var $R,S7;function Yq(){if(S7)return $R;S7=1;var e=Ud(),t=lf(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==o}return $R=a,$R}var QR,C7;function Stt(){if(C7)return QR;C7=1;var e=wu(),t=e["__core-js_shared__"];return QR=t,QR}var HR,_7;function Ctt(){if(_7)return HR;_7=1;var e=Stt(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return HR=r,HR}var qR,E7;function XOe(){if(E7)return qR;E7=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return qR=r,qR}var zR,I7;function _tt(){if(I7)return zR;I7=1;var e=Yq(),t=Ctt(),r=lf(),n=XOe(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(A){if(!r(A)||t(A))return!1;var f=e(A)?u:o;return f.test(n(A))}return zR=d,zR}var KR,B7;function Ett(){if(B7)return KR;B7=1;function e(t,r){return t==null?void 0:t[r]}return KR=e,KR}var WR,P7;function Gh(){if(P7)return WR;P7=1;var e=_tt(),t=Ett();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return WR=r,WR}var VR,T7;function $I(){if(T7)return VR;T7=1;var e=Gh(),t=e(Object,"create");return VR=t,VR}var GR,O7;function Itt(){if(O7)return GR;O7=1;var e=$I();function t(){this.__data__=e?e(null):{},this.size=0}return GR=t,GR}var YR,R7;function Btt(){if(R7)return YR;R7=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return YR=e,YR}var XR,M7;function Ptt(){if(M7)return XR;M7=1;var e=$I(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return n.call(a,o)?a[o]:void 0}return XR=i,XR}var JR,F7;function Ttt(){if(F7)return JR;F7=1;var e=$I(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return JR=n,JR}var ZR,k7;function Ott(){if(k7)return ZR;k7=1;var e=$I(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return ZR=r,ZR}var eM,U7;function Rtt(){if(U7)return eM;U7=1;var e=Itt(),t=Btt(),r=Ptt(),n=Ttt(),i=Ott();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,eM=o,eM}var tM,D7;function Mtt(){if(D7)return tM;D7=1;function e(){this.__data__=[],this.size=0}return tM=e,tM}var rM,j7;function Xq(){if(j7)return rM;j7=1;function e(t,r){return t===r||t!==t&&r!==r}return rM=e,rM}var nM,L7;function QI(){if(L7)return nM;L7=1;var e=Xq();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return nM=t,nM}var iM,N7;function Ftt(){if(N7)return iM;N7=1;var e=QI(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():r.call(o,a,1),--this.size,!0}return iM=n,iM}var oM,$7;function ktt(){if($7)return oM;$7=1;var e=QI();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return oM=t,oM}var aM,Q7;function Utt(){if(Q7)return aM;Q7=1;var e=QI();function t(r){return e(this.__data__,r)>-1}return aM=t,aM}var sM,H7;function Dtt(){if(H7)return sM;H7=1;var e=QI();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return sM=t,sM}var lM,q7;function HI(){if(q7)return lM;q7=1;var e=Mtt(),t=Ftt(),r=ktt(),n=Utt(),i=Dtt();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,lM=o,lM}var cM,z7;function Jq(){if(z7)return cM;z7=1;var e=Gh(),t=wu(),r=e(t,"Map");return cM=r,cM}var uM,K7;function jtt(){if(K7)return uM;K7=1;var e=Rtt(),t=HI(),r=Jq();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return uM=n,uM}var dM,W7;function Ltt(){if(W7)return dM;W7=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return dM=e,dM}var AM,V7;function qI(){if(V7)return AM;V7=1;var e=Ltt();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return AM=t,AM}var fM,G7;function Ntt(){if(G7)return fM;G7=1;var e=qI();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return fM=t,fM}var hM,Y7;function $tt(){if(Y7)return hM;Y7=1;var e=qI();function t(r){return e(this,r).get(r)}return hM=t,hM}var pM,X7;function Qtt(){if(X7)return pM;X7=1;var e=qI();function t(r){return e(this,r).has(r)}return pM=t,pM}var gM,J7;function Htt(){if(J7)return gM;J7=1;var e=qI();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return gM=t,gM}var mM,Z7;function Zq(){if(Z7)return mM;Z7=1;var e=jtt(),t=Ntt(),r=$tt(),n=Qtt(),i=Htt();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,mM=o,mM}var vM,eY;function JOe(){if(eY)return vM;eY=1;var e=Zq(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=n.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(r.Cache||e),o}return r.Cache=e,vM=r,vM}var yM,tY;function qtt(){if(tY)return yM;tY=1;var e=JOe(),t=500;function r(n){var i=e(n,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return yM=r,yM}var wM,rY;function ztt(){if(rY)return wM;rY=1;var e=qtt(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,c){o.push(l?c.replace(r,"$1"):s||a)}),o});return wM=n,wM}var bM,nY;function e6(){if(nY)return bM;nY=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return bM=e,bM}var xM,iY;function Ktt(){if(iY)return xM;iY=1;var e=wb(),t=e6(),r=rs(),n=Km(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(r(s))return t(s,a)+"";if(n(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return xM=a,xM}var SM,oY;function ZOe(){if(oY)return SM;oY=1;var e=Ktt();function t(r){return r==null?"":e(r)}return SM=t,SM}var CM,aY;function eRe(){if(aY)return CM;aY=1;var e=rs(),t=Gq(),r=ztt(),n=ZOe();function i(o,a){return e(o)?o:t(o,a)?[o]:r(n(o))}return CM=i,CM}var _M,sY;function zI(){if(sY)return _M;sY=1;var e=Km();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return _M=t,_M}var EM,lY;function t6(){if(lY)return EM;lY=1;var e=eRe(),t=zI();function r(n,i){i=e(i,n);for(var o=0,a=i.length;n!=null&&o<a;)n=n[t(i[o++])];return o&&o==a?n:void 0}return EM=r,EM}var IM,cY;function tRe(){if(cY)return IM;cY=1;var e=t6();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return IM=t,IM}var Wtt=tRe();const gl=kr(Wtt);var BM,uY;function Vtt(){if(uY)return BM;uY=1;function e(t){return t==null}return BM=e,BM}var Gtt=Vtt();const yr=kr(Gtt);var PM,dY;function Ytt(){if(dY)return PM;dY=1;var e=Ud(),t=rs(),r=Dd(),n="[object String]";function i(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return PM=i,PM}var Xtt=Ytt();const bb=kr(Xtt);var Jtt=Yq();const mr=kr(Jtt);var Ztt=lf();const Wm=kr(Ztt);var TM={exports:{}},Xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AY;function ert(){if(AY)return Xr;AY=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),h;h=Symbol.for("react.module.reference");function p(v){if(typeof v=="object"&&v!==null){var y=v.$$typeof;switch(y){case e:switch(v=v.type,v){case r:case i:case n:case c:case u:return v;default:switch(v=v&&v.$$typeof,v){case s:case a:case l:case A:case d:case o:return v;default:return y}}case t:return y}}}return Xr.ContextConsumer=a,Xr.ContextProvider=o,Xr.Element=e,Xr.ForwardRef=l,Xr.Fragment=r,Xr.Lazy=A,Xr.Memo=d,Xr.Portal=t,Xr.Profiler=i,Xr.StrictMode=n,Xr.Suspense=c,Xr.SuspenseList=u,Xr.isAsyncMode=function(){return!1},Xr.isConcurrentMode=function(){return!1},Xr.isContextConsumer=function(v){return p(v)===a},Xr.isContextProvider=function(v){return p(v)===o},Xr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Xr.isForwardRef=function(v){return p(v)===l},Xr.isFragment=function(v){return p(v)===r},Xr.isLazy=function(v){return p(v)===A},Xr.isMemo=function(v){return p(v)===d},Xr.isPortal=function(v){return p(v)===t},Xr.isProfiler=function(v){return p(v)===i},Xr.isStrictMode=function(v){return p(v)===n},Xr.isSuspense=function(v){return p(v)===c},Xr.isSuspenseList=function(v){return p(v)===u},Xr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===c||v===u||v===f||typeof v=="object"&&v!==null&&(v.$$typeof===A||v.$$typeof===d||v.$$typeof===o||v.$$typeof===a||v.$$typeof===l||v.$$typeof===h||v.getModuleId!==void 0)},Xr.typeOf=p,Xr}var fY;function trt(){return fY||(fY=1,TM.exports=ert()),TM.exports}var rrt=trt(),OM,hY;function rRe(){if(hY)return OM;hY=1;var e=Ud(),t=Dd(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return OM=n,OM}var RM,pY;function nrt(){if(pY)return RM;pY=1;var e=rRe();function t(r){return e(r)&&r!=+r}return RM=t,RM}var irt=nrt();const xb=kr(irt);var ort=rRe();const art=kr(ort);var ec=function(t){return t===0?0:t>0?1:-1},ch=function(t){return bb(t)&&t.indexOf("%")===t.length-1},mt=function(t){return art(t)&&!xb(t)},zi=function(t){return mt(t)||bb(t)},srt=0,Sb=function(t){var r=++srt;return"".concat(t||"").concat(r)},Bh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(t)&&!bb(t))return n;var o;if(ch(t)){var a=t.indexOf("%");o=r*parseFloat(t.slice(0,a))/100}else o=+t;return xb(o)&&(o=n),i&&o>r&&(o=r),o},IA=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},lrt=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},zc=function(t,r){return mt(t)&&mt(r)?function(n){return t+n*(r-t)}:function(){return r}};function v_(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):gl(n,t))===r})}var crt=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,o=0,a=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<r;d++)c=t[d].cx||0,u=t[d].cy||0,n+=c,i+=u,o+=c*u,a+=c*c,s=Math.min(s,c),l=Math.max(l,c);var A=r*a!==n*n?(r*o-n*i)/(r*a-n*n):0;return{xmin:s,xmax:l,a:A,b:(i-A*n)/r}};function Lg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WQ(e){"@babel/helpers - typeof";return WQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WQ(e)}var urt=["viewBox","children"],drt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gY=["points","pathLength"],MM={svg:urt,polygon:gY,polyline:gY},r6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],y_=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),!Wm(n))return null;var i={};return Object.keys(n).forEach(function(o){r6.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},Art=function(t,r,n){return function(i){return t(r,n,i),null}},Z0=function(t,r,n){if(!Wm(t)||WQ(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];r6.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Art(a,r,n))}),i},frt=["children"],hrt=["children"];function mY(e,t){if(e==null)return{};var r=prt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function prt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vY={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},yY=null,FM=null,n6=function e(t){if(t===yY&&Array.isArray(FM))return FM;var r=[];return I.Children.forEach(t,function(n){yr(n)||(rrt.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),FM=r,yY=t,r};function Cs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return hd(i)}):n=[hd(t)],n6(e).forEach(function(i){var o=gl(i,"type.displayName")||gl(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function gs(e,t){var r=Cs(e,t);return r&&r[0]}var wY=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!mt(n)||n<=0||!mt(i)||i<=0)},grt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mrt=function(t){return t&&t.type&&bb(t.type)&&grt.indexOf(t.type)>=0},vrt=function(t,r,n,i){var o,a=(o=MM==null?void 0:MM[i])!==null&&o!==void 0?o:[];return!mr(t)&&(i&&a.includes(r)||drt.includes(r))||n&&r6.includes(r)},Dr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(I.isValidElement(t)&&(i=t.props),!Wm(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;vrt((s=i)===null||s===void 0?void 0:s[a],a,r,n)&&(o[a]=i[a])}),o},VQ=function e(t,r){if(t===r)return!0;var n=I.Children.count(t);if(n!==I.Children.count(r))return!1;if(n===0)return!0;if(n===1)return bY(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!bY(o,a))return!1}return!0},bY=function(t,r){if(yr(t)&&yr(r))return!0;if(!yr(t)&&!yr(r)){var n=t.props||{},i=n.children,o=mY(n,frt),a=r.props||{},s=a.children,l=mY(a,hrt);return i&&s?Lg(o,l)&&VQ(i,s):!i&&!s?Lg(o,l):!1}return!1},xY=function(t,r){var n=[],i={};return n6(t).forEach(function(o,a){if(mrt(o))n.push(o);else if(o){var s=hd(o.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(o,s,a);n.push(d),i[s]=!0}}}),n},yrt=function(t){var r=t&&t.type;return r&&vY[r]?vY[r]:null},wrt=function(t,r){return n6(r).indexOf(t)},brt=["children","width","height","viewBox","className","style","title","desc"];function GQ(){return GQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GQ.apply(this,arguments)}function xrt(e,t){if(e==null)return{};var r=Srt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Srt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YQ(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=xrt(e,brt),u=i||{width:r,height:n,x:0,y:0},d=ut("recharts-surface",o);return ue.createElement("svg",GQ({},Dr(c,!0,"svg"),{className:d,width:r,height:n,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ue.createElement("title",null,s),ue.createElement("desc",null,l),t)}var Crt=["children","className"];function XQ(){return XQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XQ.apply(this,arguments)}function _rt(e,t){if(e==null)return{};var r=Ert(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ert(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ei=ue.forwardRef(function(e,t){var r=e.children,n=e.className,i=_rt(e,Crt),o=ut("recharts-layer",n);return ue.createElement("g",XQ({className:o},Dr(i,!0),{ref:t}),r)}),pd=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},kM,SY;function Irt(){if(SY)return kM;SY=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(o);++i<o;)a[i]=t[i+r];return a}return kM=e,kM}var UM,CY;function Brt(){if(CY)return UM;CY=1;var e=Irt();function t(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:e(r,n,i)}return UM=t,UM}var DM,_Y;function nRe(){if(_Y)return DM;_Y=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(c){return s.test(c)}return DM=l,DM}var jM,EY;function Prt(){if(EY)return jM;EY=1;function e(t){return t.split("")}return jM=e,jM}var LM,IY;function Trt(){if(IY)return LM;IY=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",h=c+"?",p="["+o+"]?",v="(?:"+f+"(?:"+[u,d,A].join("|")+")"+p+h+")*",y=p+h+v,b="(?:"+[u+s+"?",s,d,A,a].join("|")+")",x=RegExp(l+"(?="+l+")|"+b+y,"g");function S(C){return C.match(x)||[]}return LM=S,LM}var NM,BY;function Ort(){if(BY)return NM;BY=1;var e=Prt(),t=nRe(),r=Trt();function n(i){return t(i)?r(i):e(i)}return NM=n,NM}var $M,PY;function Rrt(){if(PY)return $M;PY=1;var e=Brt(),t=nRe(),r=Ort(),n=ZOe();function i(o){return function(a){a=n(a);var s=t(a)?r(a):void 0,l=s?s[0]:a.charAt(0),c=s?e(s,1).join(""):a.slice(1);return l[o]()+c}}return $M=i,$M}var QM,TY;function Mrt(){if(TY)return QM;TY=1;var e=Rrt(),t=e("toUpperCase");return QM=t,QM}var Frt=Mrt();const KI=kr(Frt);function Cn(e){return function(){return e}}const iRe=Math.cos,w_=Math.sin,Ac=Math.sqrt,b_=Math.PI,WI=2*b_,JQ=Math.PI,ZQ=2*JQ,eh=1e-6,krt=ZQ-eh;function oRe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Urt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oRe;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Drt{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oRe:Urt(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-t,c=i-r,u=a-t,d=s-r,A=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(A>eh)if(!(Math.abs(d*l-c*u)>eh)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-a,h=i-s,p=l*l+c*c,v=f*f+h*h,y=Math.sqrt(p),b=Math.sqrt(A),x=o*Math.tan((JQ-Math.acos((p+A-v)/(2*y*b)))/2),S=x/b,C=x/y;Math.abs(S-1)>eh&&this._append`L${t+S*u},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*f>u*h)},${this._x1=t+C*l},${this._y1=r+C*c}`}}arc(t,r,n,i,o,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,d=1^a,A=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>eh||Math.abs(this._y1-u)>eh)&&this._append`L${c},${u}`,n&&(A<0&&(A=A%ZQ+ZQ),A>krt?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:A>eh&&this._append`A${n},${n},0,${+(A>=JQ)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function i6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Drt(t)}function o6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aRe(e){this._context=e}aRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function VI(e){return new aRe(e)}function sRe(e){return e[0]}function lRe(e){return e[1]}function cRe(e,t){var r=Cn(!0),n=null,i=VI,o=null,a=i6(s);e=typeof e=="function"?e:e===void 0?sRe:Cn(e),t=typeof t=="function"?t:t===void 0?lRe:Cn(t);function s(l){var c,u=(l=o6(l)).length,d,A=!1,f;for(n==null&&(o=i(f=a())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===A&&((A=!A)?o.lineStart():o.lineEnd()),A&&o.point(+e(d,c,l),+t(d,c,l));if(f)return o=null,f+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Cn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Cn(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Cn(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function kS(e,t,r){var n=null,i=Cn(!0),o=null,a=VI,s=null,l=i6(c);e=typeof e=="function"?e:e===void 0?sRe:Cn(+e),t=typeof t=="function"?t:Cn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?lRe:Cn(+r);function c(d){var A,f,h,p=(d=o6(d)).length,v,y=!1,b,x=new Array(p),S=new Array(p);for(o==null&&(s=a(b=l())),A=0;A<=p;++A){if(!(A<p&&i(v=d[A],A,d))===y)if(y=!y)f=A,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=A-1;h>=f;--h)s.point(x[h],S[h]);s.lineEnd(),s.areaEnd()}y&&(x[A]=+e(v,A,d),S[A]=+t(v,A,d),s.point(n?+n(v,A,d):x[A],r?+r(v,A,d):S[A]))}if(b)return s=null,b+""||null}function u(){return cRe().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Cn(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Cn(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Cn(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Cn(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Cn(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Cn(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Cn(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),c):o},c}class uRe{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jrt(e){return new uRe(e,!0)}function Lrt(e){return new uRe(e,!1)}const a6={draw(e,t){const r=Ac(t/b_);e.moveTo(r,0),e.arc(0,0,r,0,WI)}},Nrt={draw(e,t){const r=Ac(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},dRe=Ac(1/3),$rt=dRe*2,Qrt={draw(e,t){const r=Ac(t/$rt),n=r*dRe;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Hrt={draw(e,t){const r=Ac(t),n=-r/2;e.rect(n,n,r,r)}},qrt=.8908130915292852,ARe=w_(b_/10)/w_(7*b_/10),zrt=w_(WI/10)*ARe,Krt=-iRe(WI/10)*ARe,Wrt={draw(e,t){const r=Ac(t*qrt),n=zrt*r,i=Krt*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const a=WI*o/5,s=iRe(a),l=w_(a);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},HM=Ac(3),Vrt={draw(e,t){const r=-Ac(t/(HM*3));e.moveTo(0,r*2),e.lineTo(-HM*r,-r),e.lineTo(HM*r,-r),e.closePath()}},Js=-.5,Zs=Ac(3)/2,eH=1/Ac(12),Grt=(eH/2+1)*3,Yrt={draw(e,t){const r=Ac(t/Grt),n=r/2,i=r*eH,o=n,a=r*eH+r,s=-o,l=a;e.moveTo(n,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Js*n-Zs*i,Zs*n+Js*i),e.lineTo(Js*o-Zs*a,Zs*o+Js*a),e.lineTo(Js*s-Zs*l,Zs*s+Js*l),e.lineTo(Js*n+Zs*i,Js*i-Zs*n),e.lineTo(Js*o+Zs*a,Js*a-Zs*o),e.lineTo(Js*s+Zs*l,Js*l-Zs*s),e.closePath()}};function Xrt(e,t){let r=null,n=i6(i);e=typeof e=="function"?e:Cn(e||a6),t=typeof t=="function"?t:Cn(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Cn(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Cn(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function x_(){}function S_(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fRe(e){this._context=e}fRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:S_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jrt(e){return new fRe(e)}function hRe(e){this._context=e}hRe.prototype={areaStart:x_,areaEnd:x_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:S_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zrt(e){return new hRe(e)}function pRe(e){this._context=e}pRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:S_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ent(e){return new pRe(e)}function gRe(e){this._context=e}gRe.prototype={areaStart:x_,areaEnd:x_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tnt(e){return new gRe(e)}function OY(e){return e<0?-1:1}function RY(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(OY(o)+OY(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function MY(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qM(e,t,r){var n=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,i+s*t,o-s,a-s*r,o,a)}function C_(e){this._context=e}C_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qM(this,this._t0,MY(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qM(this,MY(this,r=RY(this,e,t)),r);break;default:qM(this,this._t0,r=RY(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function mRe(e){this._context=new vRe(e)}(mRe.prototype=Object.create(C_.prototype)).point=function(e,t){C_.prototype.point.call(this,t,e)};function vRe(e){this._context=e}vRe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function rnt(e){return new C_(e)}function nnt(e){return new mRe(e)}function yRe(e){this._context=e}yRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=FY(e),i=FY(t),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function FY(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function int(e){return new yRe(e)}function GI(e,t){this._context=e,this._t=t}GI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ont(e){return new GI(e,.5)}function ant(e){return new GI(e,0)}function snt(e){return new GI(e,1)}function em(e,t){if((a=e.length)>1)for(var r=1,n,i,o=e[t[0]],a,s=o.length;r<a;++r)for(i=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function tH(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lnt(e,t){return e[t]}function cnt(e){const t=[];return t.key=e,t}function unt(){var e=Cn([]),t=tH,r=em,n=lnt;function i(o){var a=Array.from(e.apply(this,arguments),cnt),s,l=a.length,c=-1,u;for(const d of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+n(d,a[s].key,c,o)]).data=d;for(s=0,u=o6(t(a));s<l;++s)a[u[s]].index=s;return r(a,u),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Cn(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Cn(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?tH:typeof o=="function"?o:Cn(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??em,i):r},i}function dnt(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}em(e,t)}}function Ant(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=e[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}em(e,t)}}function fnt(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[n][1]||0,A=u[n-1][1]||0,f=(d-A)/2,h=0;h<s;++h){var p=e[t[h]],v=p[n][1]||0,y=p[n-1][1]||0;f+=v-y}l+=d,c+=f*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,em(e,t)}}function ew(e){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ew(e)}var hnt=["type","size","sizeType"];function rH(){return rH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rH.apply(this,arguments)}function kY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kY(Object(r),!0).forEach(function(n){pnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pnt(e,t,r){return t=gnt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gnt(e){var t=mnt(e,"string");return ew(t)=="symbol"?t:t+""}function mnt(e,t){if(ew(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vnt(e,t){if(e==null)return{};var r=ynt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ynt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wRe={symbolCircle:a6,symbolCross:Nrt,symbolDiamond:Qrt,symbolSquare:Hrt,symbolStar:Wrt,symbolTriangle:Vrt,symbolWye:Yrt},wnt=Math.PI/180,bnt=function(t){var r="symbol".concat(KI(t));return wRe[r]||a6},xnt=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*wnt;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Snt=function(t,r){wRe["symbol".concat(KI(t))]=r},YI=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=vnt(t,hnt),c=UY(UY({},l),{},{type:n,size:o,sizeType:s}),u=function(){var v=bnt(n),y=Xrt().type(v).size(xnt(o,s,n));return y()},d=c.className,A=c.cx,f=c.cy,h=Dr(c,!0);return A===+A&&f===+f&&o===+o?ue.createElement("path",rH({},h,{className:ut("recharts-symbols",d),transform:"translate(".concat(A,", ").concat(f,")"),d:u()})):null};YI.registerSymbol=Snt;function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function nH(){return nH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nH.apply(this,arguments)}function DY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cnt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DY(Object(r),!0).forEach(function(n){tw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ent(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xRe(n.key),n)}}function Int(e,t,r){return t&&Ent(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bnt(e,t,r){return t=__(t),Pnt(e,bRe()?Reflect.construct(t,r||[],__(e).constructor):t.apply(e,r))}function Pnt(e,t){if(t&&(tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tnt(e)}function Tnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bRe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bRe=function(){return!!e})()}function __(e){return __=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},__(e)}function Ont(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iH(e,t)}function iH(e,t){return iH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iH(e,t)}function tw(e,t,r){return t=xRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xRe(e){var t=Rnt(e,"string");return tm(t)=="symbol"?t:t+""}function Rnt(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ql=32,s6=function(e){function t(){return _nt(this,t),Bnt(this,t,arguments)}return Ont(t,e),Int(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=ql/2,a=ql/6,s=ql/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ql,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ql,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ql/8,"h").concat(ql,"v").concat(ql*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ue.isValidElement(n.legendIcon)){var c=Cnt({},n);return delete c.legendIcon,ue.cloneElement(n.legendIcon,c)}return ue.createElement(YI,{fill:l,cx:o,cy:o,size:ql,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:ql,height:ql},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(f,h){var p=f.formatter||l,v=ut(tw(tw({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=mr(f.value)?null:f.value;pd(!mr(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?c:f.color;return ue.createElement("li",nH({className:v,style:d,key:"legend-item-".concat(h)},Z0(n.props,f,h)),ue.createElement(YQ,{width:a,height:a,viewBox:u,style:A},n.renderIcon(f)),ue.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,f,h):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return ue.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(I.PureComponent);tw(s6,"displayName","Legend");tw(s6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zM,jY;function Mnt(){if(jY)return zM;jY=1;var e=HI();function t(){this.__data__=new e,this.size=0}return zM=t,zM}var KM,LY;function Fnt(){if(LY)return KM;LY=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return KM=e,KM}var WM,NY;function knt(){if(NY)return WM;NY=1;function e(t){return this.__data__.get(t)}return WM=e,WM}var VM,$Y;function Unt(){if($Y)return VM;$Y=1;function e(t){return this.__data__.has(t)}return VM=e,VM}var GM,QY;function Dnt(){if(QY)return GM;QY=1;var e=HI(),t=Jq(),r=Zq(),n=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(o,a),this.size=s.size,this}return GM=i,GM}var YM,HY;function SRe(){if(HY)return YM;HY=1;var e=HI(),t=Mnt(),r=Fnt(),n=knt(),i=Unt(),o=Dnt();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=o,YM=a,YM}var XM,qY;function jnt(){if(qY)return XM;qY=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return XM=t,XM}var JM,zY;function Lnt(){if(zY)return JM;zY=1;function e(t){return this.__data__.has(t)}return JM=e,JM}var ZM,KY;function CRe(){if(KY)return ZM;KY=1;var e=Zq(),t=jnt(),r=Lnt();function n(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,ZM=n,ZM}var e2,WY;function _Re(){if(WY)return e2;WY=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return e2=e,e2}var t2,VY;function ERe(){if(VY)return t2;VY=1;function e(t,r){return t.has(r)}return t2=e,t2}var r2,GY;function IRe(){if(GY)return r2;GY=1;var e=CRe(),t=_Re(),r=ERe(),n=1,i=2;function o(a,s,l,c,u,d){var A=l&n,f=a.length,h=s.length;if(f!=h&&!(A&&h>f))return!1;var p=d.get(a),v=d.get(s);if(p&&v)return p==s&&v==a;var y=-1,b=!0,x=l&i?new e:void 0;for(d.set(a,s),d.set(s,a);++y<f;){var S=a[y],C=s[y];if(c)var _=A?c(C,S,y,s,a,d):c(S,C,y,a,s,d);if(_!==void 0){if(_)continue;b=!1;break}if(x){if(!t(s,function(B,T){if(!r(x,T)&&(S===B||u(S,B,l,c,d)))return x.push(T)})){b=!1;break}}else if(!(S===C||u(S,C,l,c,d))){b=!1;break}}return d.delete(a),d.delete(s),b}return r2=o,r2}var n2,YY;function Nnt(){if(YY)return n2;YY=1;var e=wu(),t=e.Uint8Array;return n2=t,n2}var i2,XY;function $nt(){if(XY)return i2;XY=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return i2=e,i2}var o2,JY;function l6(){if(JY)return o2;JY=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return o2=e,o2}var a2,ZY;function Qnt(){if(ZY)return a2;ZY=1;var e=wb(),t=Nnt(),r=Xq(),n=IRe(),i=$nt(),o=l6(),a=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",A="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",x=e?e.prototype:void 0,S=x?x.valueOf:void 0;function C(_,B,T,O,P,F,U){switch(T){case b:if(_.byteLength!=B.byteLength||_.byteOffset!=B.byteOffset)return!1;_=_.buffer,B=B.buffer;case y:return!(_.byteLength!=B.byteLength||!F(new t(_),new t(B)));case l:case c:case A:return r(+_,+B);case u:return _.name==B.name&&_.message==B.message;case f:case p:return _==B+"";case d:var k=i;case h:var M=O&a;if(k||(k=o),_.size!=B.size&&!M)return!1;var D=U.get(_);if(D)return D==B;O|=s,U.set(_,B);var j=n(k(_),k(B),O,P,F,U);return U.delete(_),j;case v:if(S)return S.call(_)==S.call(B)}return!1}return a2=C,a2}var s2,eX;function BRe(){if(eX)return s2;eX=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return s2=e,s2}var l2,tX;function Hnt(){if(tX)return l2;tX=1;var e=BRe(),t=rs();function r(n,i,o){var a=i(n);return t(n)?a:e(a,o(n))}return l2=r,l2}var c2,rX;function qnt(){if(rX)return c2;rX=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,a=[];++n<i;){var s=t[n];r(s,n,t)&&(a[o++]=s)}return a}return c2=e,c2}var u2,nX;function znt(){if(nX)return u2;nX=1;function e(){return[]}return u2=e,u2}var d2,iX;function Knt(){if(iX)return d2;iX=1;var e=qnt(),t=znt(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return n.call(a,s)}))}:t;return d2=o,d2}var A2,oX;function Wnt(){if(oX)return A2;oX=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return A2=e,A2}var f2,aX;function Vnt(){if(aX)return f2;aX=1;var e=Ud(),t=Dd(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return f2=n,f2}var h2,sX;function c6(){if(sX)return h2;sX=1;var e=Vnt(),t=Dd(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return h2=o,h2}var Yy={exports:{}},p2,lX;function Gnt(){if(lX)return p2;lX=1;function e(){return!1}return p2=e,p2}Yy.exports;var cX;function PRe(){return cX||(cX=1,function(e,t){var r=wu(),n=Gnt(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c}(Yy,Yy.exports)),Yy.exports}var g2,uX;function u6(){if(uX)return g2;uX=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return g2=r,g2}var m2,dX;function d6(){if(dX)return m2;dX=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return m2=t,m2}var v2,AX;function Ynt(){if(AX)return v2;AX=1;var e=Ud(),t=d6(),r=Dd(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",A="[object RegExp]",f="[object Set]",h="[object String]",p="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",_="[object Int32Array]",B="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",F={};F[b]=F[x]=F[S]=F[C]=F[_]=F[B]=F[T]=F[O]=F[P]=!0,F[n]=F[i]=F[v]=F[o]=F[y]=F[a]=F[s]=F[l]=F[c]=F[u]=F[d]=F[A]=F[f]=F[h]=F[p]=!1;function U(k){return r(k)&&t(k.length)&&!!F[e(k)]}return v2=U,v2}var y2,fX;function TRe(){if(fX)return y2;fX=1;function e(t){return function(r){return t(r)}}return y2=e,y2}var Xy={exports:{}};Xy.exports;var hX;function Xnt(){return hX||(hX=1,function(e,t){var r=YOe(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Xy,Xy.exports)),Xy.exports}var w2,pX;function ORe(){if(pX)return w2;pX=1;var e=Ynt(),t=TRe(),r=Xnt(),n=r&&r.isTypedArray,i=n?t(n):e;return w2=i,w2}var b2,gX;function Jnt(){if(gX)return b2;gX=1;var e=Wnt(),t=c6(),r=rs(),n=PRe(),i=u6(),o=ORe(),a=Object.prototype,s=a.hasOwnProperty;function l(c,u){var d=r(c),A=!d&&t(c),f=!d&&!A&&n(c),h=!d&&!A&&!f&&o(c),p=d||A||f||h,v=p?e(c.length,String):[],y=v.length;for(var b in c)(u||s.call(c,b))&&!(p&&(b=="length"||f&&(b=="offset"||b=="parent")||h&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&v.push(b);return v}return b2=l,b2}var x2,mX;function Znt(){if(mX)return x2;mX=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return x2=t,x2}var S2,vX;function RRe(){if(vX)return S2;vX=1;function e(t,r){return function(n){return t(r(n))}}return S2=e,S2}var C2,yX;function eit(){if(yX)return C2;yX=1;var e=RRe(),t=e(Object.keys,Object);return C2=t,C2}var _2,wX;function tit(){if(wX)return _2;wX=1;var e=Znt(),t=eit(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))n.call(o,s)&&s!="constructor"&&a.push(s);return a}return _2=i,_2}var E2,bX;function Cb(){if(bX)return E2;bX=1;var e=Yq(),t=d6();function r(n){return n!=null&&t(n.length)&&!e(n)}return E2=r,E2}var I2,xX;function XI(){if(xX)return I2;xX=1;var e=Jnt(),t=tit(),r=Cb();function n(i){return r(i)?e(i):t(i)}return I2=n,I2}var B2,SX;function rit(){if(SX)return B2;SX=1;var e=Hnt(),t=Knt(),r=XI();function n(i){return e(i,r,t)}return B2=n,B2}var P2,CX;function nit(){if(CX)return P2;CX=1;var e=rit(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,a,s,l,c,u){var d=s&t,A=e(o),f=A.length,h=e(a),p=h.length;if(f!=p&&!d)return!1;for(var v=f;v--;){var y=A[v];if(!(d?y in a:n.call(a,y)))return!1}var b=u.get(o),x=u.get(a);if(b&&x)return b==a&&x==o;var S=!0;u.set(o,a),u.set(a,o);for(var C=d;++v<f;){y=A[v];var _=o[y],B=a[y];if(l)var T=d?l(B,_,y,a,o,u):l(_,B,y,o,a,u);if(!(T===void 0?_===B||c(_,B,s,l,u):T)){S=!1;break}C||(C=y=="constructor")}if(S&&!C){var O=o.constructor,P=a.constructor;O!=P&&"constructor"in o&&"constructor"in a&&!(typeof O=="function"&&O instanceof O&&typeof P=="function"&&P instanceof P)&&(S=!1)}return u.delete(o),u.delete(a),S}return P2=i,P2}var T2,_X;function iit(){if(_X)return T2;_X=1;var e=Gh(),t=wu(),r=e(t,"DataView");return T2=r,T2}var O2,EX;function oit(){if(EX)return O2;EX=1;var e=Gh(),t=wu(),r=e(t,"Promise");return O2=r,O2}var R2,IX;function MRe(){if(IX)return R2;IX=1;var e=Gh(),t=wu(),r=e(t,"Set");return R2=r,R2}var M2,BX;function ait(){if(BX)return M2;BX=1;var e=Gh(),t=wu(),r=e(t,"WeakMap");return M2=r,M2}var F2,PX;function sit(){if(PX)return F2;PX=1;var e=iit(),t=Jq(),r=oit(),n=MRe(),i=ait(),o=Ud(),a=XOe(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",A="[object DataView]",f=a(e),h=a(t),p=a(r),v=a(n),y=a(i),b=o;return(e&&b(new e(new ArrayBuffer(1)))!=A||t&&b(new t)!=s||r&&b(r.resolve())!=c||n&&b(new n)!=u||i&&b(new i)!=d)&&(b=function(x){var S=o(x),C=S==l?x.constructor:void 0,_=C?a(C):"";if(_)switch(_){case f:return A;case h:return s;case p:return c;case v:return u;case y:return d}return S}),F2=b,F2}var k2,TX;function lit(){if(TX)return k2;TX=1;var e=SRe(),t=IRe(),r=Qnt(),n=nit(),i=sit(),o=rs(),a=PRe(),s=ORe(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",A=Object.prototype,f=A.hasOwnProperty;function h(p,v,y,b,x,S){var C=o(p),_=o(v),B=C?u:i(p),T=_?u:i(v);B=B==c?d:B,T=T==c?d:T;var O=B==d,P=T==d,F=B==T;if(F&&a(p)){if(!a(v))return!1;C=!0,O=!1}if(F&&!O)return S||(S=new e),C||s(p)?t(p,v,y,b,x,S):r(p,v,B,y,b,x,S);if(!(y&l)){var U=O&&f.call(p,"__wrapped__"),k=P&&f.call(v,"__wrapped__");if(U||k){var M=U?p.value():p,D=k?v.value():v;return S||(S=new e),x(M,D,y,b,S)}}return F?(S||(S=new e),n(p,v,y,b,x,S)):!1}return k2=h,k2}var U2,OX;function A6(){if(OX)return U2;OX=1;var e=lit(),t=Dd();function r(n,i,o,a,s){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,a,r,s)}return U2=r,U2}var D2,RX;function cit(){if(RX)return D2;RX=1;var e=SRe(),t=A6(),r=1,n=2;function i(o,a,s,l){var c=s.length,u=c,d=!l;if(o==null)return!u;for(o=Object(o);c--;){var A=s[c];if(d&&A[2]?A[1]!==o[A[0]]:!(A[0]in o))return!1}for(;++c<u;){A=s[c];var f=A[0],h=o[f],p=A[1];if(d&&A[2]){if(h===void 0&&!(f in o))return!1}else{var v=new e;if(l)var y=l(h,p,f,o,a,v);if(!(y===void 0?t(p,h,r|n,l,v):y))return!1}}return!0}return D2=i,D2}var j2,MX;function FRe(){if(MX)return j2;MX=1;var e=lf();function t(r){return r===r&&!e(r)}return j2=t,j2}var L2,FX;function uit(){if(FX)return L2;FX=1;var e=FRe(),t=XI();function r(n){for(var i=t(n),o=i.length;o--;){var a=i[o],s=n[a];i[o]=[a,s,e(s)]}return i}return L2=r,L2}var N2,kX;function kRe(){if(kX)return N2;kX=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return N2=e,N2}var $2,UX;function dit(){if(UX)return $2;UX=1;var e=cit(),t=uit(),r=kRe();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return $2=n,$2}var Q2,DX;function Ait(){if(DX)return Q2;DX=1;function e(t,r){return t!=null&&r in Object(t)}return Q2=e,Q2}var H2,jX;function fit(){if(jX)return H2;jX=1;var e=eRe(),t=c6(),r=rs(),n=u6(),i=d6(),o=zI();function a(s,l,c){l=e(l,s);for(var u=-1,d=l.length,A=!1;++u<d;){var f=o(l[u]);if(!(A=s!=null&&c(s,f)))break;s=s[f]}return A||++u!=d?A:(d=s==null?0:s.length,!!d&&i(d)&&n(f,d)&&(r(s)||t(s)))}return H2=a,H2}var q2,LX;function hit(){if(LX)return q2;LX=1;var e=Ait(),t=fit();function r(n,i){return n!=null&&t(n,i,e)}return q2=r,q2}var z2,NX;function pit(){if(NX)return z2;NX=1;var e=A6(),t=tRe(),r=hit(),n=Gq(),i=FRe(),o=kRe(),a=zI(),s=1,l=2;function c(u,d){return n(u)&&i(d)?o(a(u),d):function(A){var f=t(A,u);return f===void 0&&f===d?r(A,u):e(d,f,s|l)}}return z2=c,z2}var K2,$X;function Vm(){if($X)return K2;$X=1;function e(t){return t}return K2=e,K2}var W2,QX;function git(){if(QX)return W2;QX=1;function e(t){return function(r){return r==null?void 0:r[t]}}return W2=e,W2}var V2,HX;function mit(){if(HX)return V2;HX=1;var e=t6();function t(r){return function(n){return e(n,r)}}return V2=t,V2}var G2,qX;function vit(){if(qX)return G2;qX=1;var e=git(),t=mit(),r=Gq(),n=zI();function i(o){return r(o)?e(n(o)):t(o)}return G2=i,G2}var Y2,zX;function cf(){if(zX)return Y2;zX=1;var e=dit(),t=pit(),r=Vm(),n=rs(),i=vit();function o(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?t(a[0],a[1]):e(a):i(a)}return Y2=o,Y2}var X2,KX;function URe(){if(KX)return X2;KX=1;function e(t,r,n,i){for(var o=t.length,a=n+(i?1:-1);i?a--:++a<o;)if(r(t[a],a,t))return a;return-1}return X2=e,X2}var J2,WX;function yit(){if(WX)return J2;WX=1;function e(t){return t!==t}return J2=e,J2}var Z2,VX;function wit(){if(VX)return Z2;VX=1;function e(t,r,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===r)return i;return-1}return Z2=e,Z2}var eF,GX;function bit(){if(GX)return eF;GX=1;var e=URe(),t=yit(),r=wit();function n(i,o,a){return o===o?r(i,o,a):e(i,t,a)}return eF=n,eF}var tF,YX;function xit(){if(YX)return tF;YX=1;var e=bit();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return tF=t,tF}var rF,XX;function Sit(){if(XX)return rF;XX=1;function e(t,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(r,t[i]))return!0;return!1}return rF=e,rF}var nF,JX;function Cit(){if(JX)return nF;JX=1;function e(){}return nF=e,nF}var iF,ZX;function _it(){if(ZX)return iF;ZX=1;var e=MRe(),t=Cit(),r=l6(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return iF=i,iF}var oF,eJ;function Eit(){if(eJ)return oF;eJ=1;var e=CRe(),t=xit(),r=Sit(),n=ERe(),i=_it(),o=l6(),a=200;function s(l,c,u){var d=-1,A=t,f=l.length,h=!0,p=[],v=p;if(u)h=!1,A=r;else if(f>=a){var y=c?null:i(l);if(y)return o(y);h=!1,A=n,v=new e}else v=c?[]:p;e:for(;++d<f;){var b=l[d],x=c?c(b):b;if(b=u||b!==0?b:0,h&&x===x){for(var S=v.length;S--;)if(v[S]===x)continue e;c&&v.push(x),p.push(b)}else A(v,x,u)||(v!==p&&v.push(x),p.push(b))}return p}return oF=s,oF}var aF,tJ;function Iit(){if(tJ)return aF;tJ=1;var e=cf(),t=Eit();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return aF=r,aF}var Bit=Iit();const rJ=kr(Bit);function DRe(e,t,r){return t===!0?rJ(e,r):mr(t)?rJ(e,t):e}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}var Pit=["ref"];function nJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nJ(Object(r),!0).forEach(function(n){JI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LRe(n.key),n)}}function Oit(e,t,r){return t&&iJ(e.prototype,t),r&&iJ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rit(e,t,r){return t=E_(t),Mit(e,jRe()?Reflect.construct(t,r||[],E_(e).constructor):t.apply(e,r))}function Mit(e,t){if(t&&(rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fit(e)}function Fit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jRe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jRe=function(){return!!e})()}function E_(e){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E_(e)}function kit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oH(e,t)}function oH(e,t){return oH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oH(e,t)}function JI(e,t,r){return t=LRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LRe(e){var t=Uit(e,"string");return rm(t)=="symbol"?t:t+""}function Uit(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Dit(e,t){if(e==null)return{};var r=jit(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jit(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lit(e){return e.value}function Nit(e,t){if(ue.isValidElement(e))return ue.cloneElement(e,t);if(typeof e=="function")return ue.createElement(e,t);t.ref;var r=Dit(t,Pit);return ue.createElement(s6,r)}var oJ=1,mh=function(e){function t(){var r;Tit(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Rit(this,t,[].concat(i)),JI(r,"lastBoundingBox",{width:-1,height:-1}),r}return kit(t,e),Oit(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>oJ||Math.abs(i.height-this.lastBoundingBox.height)>oJ)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ku({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,A;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var f=this.getBBoxSnapshot();d={left:((c||0)-f.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var h=this.getBBoxSnapshot();A={top:((u||0)-h.height)/2}}else A=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ku(Ku({},d),A)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Ku(Ku({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ue.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},Nit(o,Ku(Ku({},this.props),{},{payload:DRe(u,c,Lit)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Ku(Ku({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&mt(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(I.PureComponent);JI(mh,"displayName","Legend");JI(mh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sF,aJ;function $it(){if(aJ)return sF;aJ=1;var e=wb(),t=c6(),r=rs(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return sF=i,sF}var lF,sJ;function NRe(){if(sJ)return lF;sJ=1;var e=BRe(),t=$it();function r(n,i,o,a,s){var l=-1,c=n.length;for(o||(o=t),s||(s=[]);++l<c;){var u=n[l];i>0&&o(u)?i>1?r(u,i-1,o,a,s):e(s,u):a||(s[s.length]=u)}return s}return lF=r,lF}var cF,lJ;function Qit(){if(lJ)return cF;lJ=1;function e(t){return function(r,n,i){for(var o=-1,a=Object(r),s=i(r),l=s.length;l--;){var c=s[t?l:++o];if(n(a[c],c,a)===!1)break}return r}}return cF=e,cF}var uF,cJ;function Hit(){if(cJ)return uF;cJ=1;var e=Qit(),t=e();return uF=t,uF}var dF,uJ;function $Re(){if(uJ)return dF;uJ=1;var e=Hit(),t=XI();function r(n,i){return n&&e(n,i,t)}return dF=r,dF}var AF,dJ;function qit(){if(dJ)return AF;dJ=1;var e=Cb();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var a=i.length,s=n?a:-1,l=Object(i);(n?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return AF=t,AF}var fF,AJ;function f6(){if(AJ)return fF;AJ=1;var e=$Re(),t=qit(),r=t(e);return fF=r,fF}var hF,fJ;function QRe(){if(fJ)return hF;fJ=1;var e=f6(),t=Cb();function r(n,i){var o=-1,a=t(n)?Array(n.length):[];return e(n,function(s,l,c){a[++o]=i(s,l,c)}),a}return hF=r,hF}var pF,hJ;function zit(){if(hJ)return pF;hJ=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return pF=e,pF}var gF,pJ;function Kit(){if(pJ)return gF;pJ=1;var e=Km();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,a=r===r,s=e(r),l=n!==void 0,c=n===null,u=n===n,d=e(n);if(!c&&!d&&!s&&r>n||s&&l&&u&&!c&&!d||o&&l&&u||!i&&u||!a)return 1;if(!o&&!s&&!d&&r<n||d&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!u)return-1}return 0}return gF=t,gF}var mF,gJ;function Wit(){if(gJ)return mF;gJ=1;var e=Kit();function t(r,n,i){for(var o=-1,a=r.criteria,s=n.criteria,l=a.length,c=i.length;++o<l;){var u=e(a[o],s[o]);if(u){if(o>=c)return u;var d=i[o];return u*(d=="desc"?-1:1)}}return r.index-n.index}return mF=t,mF}var vF,mJ;function Vit(){if(mJ)return vF;mJ=1;var e=e6(),t=t6(),r=cf(),n=QRe(),i=zit(),o=TRe(),a=Wit(),s=Vm(),l=rs();function c(u,d,A){d.length?d=e(d,function(p){return l(p)?function(v){return t(v,p.length===1?p[0]:p)}:p}):d=[s];var f=-1;d=e(d,o(r));var h=n(u,function(p,v,y){var b=e(d,function(x){return x(p)});return{criteria:b,index:++f,value:p}});return i(h,function(p,v){return a(p,v,A)})}return vF=c,vF}var yF,vJ;function Git(){if(vJ)return yF;vJ=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return yF=e,yF}var wF,yJ;function Yit(){if(yJ)return wF;yJ=1;var e=Git(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=a[s];return u[i]=o(c),e(n,this,u)}}return wF=r,wF}var bF,wJ;function Xit(){if(wJ)return bF;wJ=1;function e(t){return function(){return t}}return bF=e,bF}var xF,bJ;function HRe(){if(bJ)return xF;bJ=1;var e=Gh(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return xF=t,xF}var SF,xJ;function Jit(){if(xJ)return SF;xJ=1;var e=Xit(),t=HRe(),r=Vm(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return SF=n,SF}var CF,SJ;function Zit(){if(SJ)return CF;SJ=1;var e=800,t=16,r=Date.now;function n(i){var o=0,a=0;return function(){var s=r(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return CF=n,CF}var _F,CJ;function eot(){if(CJ)return _F;CJ=1;var e=Jit(),t=Zit(),r=t(e);return _F=r,_F}var EF,_J;function tot(){if(_J)return EF;_J=1;var e=Vm(),t=Yit(),r=eot();function n(i,o){return r(t(i,o,e),i+"")}return EF=n,EF}var IF,EJ;function ZI(){if(EJ)return IF;EJ=1;var e=Xq(),t=Cb(),r=u6(),n=lf();function i(o,a,s){if(!n(s))return!1;var l=typeof a;return(l=="number"?t(s)&&r(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return IF=i,IF}var BF,IJ;function rot(){if(IJ)return BF;IJ=1;var e=NRe(),t=Vit(),r=tot(),n=ZI(),i=r(function(o,a){if(o==null)return[];var s=a.length;return s>1&&n(o,a[0],a[1])?a=[]:s>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return BF=i,BF}var not=rot();const h6=kr(not);function rw(e){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rw(e)}function aH(){return aH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aH.apply(this,arguments)}function iot(e,t){return lot(e)||sot(e,t)||aot(e,t)||oot()}function oot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aot(e,t){if(e){if(typeof e=="string")return BJ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BJ(e,t)}}function BJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sot(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lot(e){if(Array.isArray(e))return e}function PJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PJ(Object(r),!0).forEach(function(n){cot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cot(e,t,r){return t=uot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uot(e){var t=dot(e,"string");return rw(t)=="symbol"?t:t+""}function dot(e,t){if(rw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aot(e){return Array.isArray(e)&&zi(e[0])&&zi(e[1])?e.join(" ~ "):e}var fot=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,A=t.itemSorter,f=t.wrapperClassName,h=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(u&&u.length){var U={padding:0,margin:0},k=(A?h6(u,A):u).map(function(M,D){if(M.type==="none")return null;var j=PF({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),$=M.formatter||d||Aot,Q=M.value,H=M.name,W=Q,z=H;if($&&W!=null&&z!=null){var V=$(Q,H,M,D,u);if(Array.isArray(V)){var G=iot(V,2);W=G[0],z=G[1]}else W=V}return ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:j},zi(z)?ue.createElement("span",{className:"recharts-tooltip-item-name"},z):null,zi(z)?ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ue.createElement("span",{className:"recharts-tooltip-item-value"},W),ue.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return ue.createElement("ul",{className:"recharts-tooltip-item-list",style:U},k)}return null},S=PF({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=PF({margin:0},c),_=!yr(p),B=_?p:"",T=ut("recharts-default-tooltip",f),O=ut("recharts-tooltip-label",h);_&&v&&u!==void 0&&u!==null&&(B=v(p,u));var P=b?{role:"status","aria-live":"assertive"}:{};return ue.createElement("div",aH({className:T,style:S},P),ue.createElement("p",{className:O,style:C},ue.isValidElement(B)?B:"".concat(B)),x())};function nw(e){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nw(e)}function US(e,t,r){return t=hot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hot(e){var t=pot(e,"string");return nw(t)=="symbol"?t:t+""}function pot(e,t){if(nw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gy="recharts-tooltip-wrapper",got={visibility:"hidden"};function mot(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ut(gy,US(US(US(US({},"".concat(gy,"-right"),mt(r)&&t&&mt(t.x)&&r>=t.x),"".concat(gy,"-left"),mt(r)&&t&&mt(t.x)&&r<t.x),"".concat(gy,"-bottom"),mt(n)&&t&&mt(t.y)&&n>=t.y),"".concat(gy,"-top"),mt(n)&&t&&mt(t.y)&&n<t.y))}function TJ(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&mt(o[n]))return o[n];var u=r[n]-s-i,d=r[n]+i;if(t[n])return a[n]?u:d;if(a[n]){var A=u,f=l[n];return A<f?Math.max(d,l[n]):Math.max(u,l[n])}var h=d+s,p=l[n]+c;return h>p?Math.max(u,l[n]):Math.max(d,l[n])}function vot(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yot(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return a.height>0&&a.width>0&&r?(u=TJ({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=TJ({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=vot({translateX:u,translateY:d,useTranslate3d:s})):c=got,{cssProperties:c,cssClasses:mot({translateX:u,translateY:d,coordinate:r})}}function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function OJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OJ(Object(r),!0).forEach(function(n){lH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zRe(n.key),n)}}function xot(e,t,r){return t&&bot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sot(e,t,r){return t=I_(t),Cot(e,qRe()?Reflect.construct(t,r||[],I_(e).constructor):t.apply(e,r))}function Cot(e,t){if(t&&(nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ot(e)}function _ot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qRe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qRe=function(){return!!e})()}function I_(e){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I_(e)}function Eot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sH(e,t)}function sH(e,t){return sH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sH(e,t)}function lH(e,t,r){return t=zRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zRe(e){var t=Iot(e,"string");return nm(t)=="symbol"?t:t+""}function Iot(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MJ=1,Bot=function(e){function t(){var r;wot(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Sot(this,t,[].concat(i)),lH(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lH(r,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Eot(t,e),xot(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>MJ||Math.abs(n.height-this.state.lastBoundingBox.height)>MJ)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,A=i.isAnimationActive,f=i.offset,h=i.position,p=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=yot({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=x.cssClasses,C=x.cssProperties,_=RJ(RJ({transition:A&&o?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return ue.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(T){n.wrapperNode=T}},c)}}])}(I.PureComponent),Pot=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gm={isSsr:Pot()};function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function FJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FJ(Object(r),!0).forEach(function(n){p6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WRe(n.key),n)}}function Rot(e,t,r){return t&&Oot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mot(e,t,r){return t=B_(t),Fot(e,KRe()?Reflect.construct(t,r||[],B_(e).constructor):t.apply(e,r))}function Fot(e,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kot(e)}function kot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KRe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KRe=function(){return!!e})()}function B_(e){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B_(e)}function Uot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cH(e,t)}function cH(e,t){return cH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cH(e,t)}function p6(e,t,r){return t=WRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WRe(e){var t=Dot(e,"string");return im(t)=="symbol"?t:t+""}function Dot(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jot(e){return e.dataKey}function Lot(e,t){return ue.isValidElement(e)?ue.cloneElement(e,t):typeof e=="function"?ue.createElement(e,t):ue.createElement(fot,t)}var nl=function(e){function t(){return Tot(this,t),Mot(this,t,arguments)}return Uot(t,e),Rot(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,A=i.isAnimationActive,f=i.offset,h=i.payload,p=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,C=h??[];d&&C.length&&(C=DRe(h.filter(function(B){return B.value!=null&&(B.hide!==!0||n.props.includeHidden)}),p,jot));var _=C.length>0;return ue.createElement(Bot,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:A,active:o,coordinate:u,hasPayload:_,offset:f,position:v,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:S},Lot(c,kJ(kJ({},this.props),{},{payload:C})))}}])}(I.PureComponent);p6(nl,"displayName","Tooltip");p6(nl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var TF,UJ;function Not(){if(UJ)return TF;UJ=1;var e=wu(),t=function(){return e.Date.now()};return TF=t,TF}var OF,DJ;function $ot(){if(DJ)return OF;DJ=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return OF=t,OF}var RF,jJ;function Qot(){if(jJ)return RF;jJ=1;var e=$ot(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return RF=r,RF}var MF,LJ;function VRe(){if(LJ)return MF;LJ=1;var e=Qot(),t=lf(),r=Km(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=o.test(c);return d||a.test(c)?s(c.slice(2),d?2:8):i.test(c)?n:+c}return MF=l,MF}var FF,NJ;function Hot(){if(NJ)return FF;NJ=1;var e=lf(),t=Not(),r=VRe(),n="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var u,d,A,f,h,p,v=0,y=!1,b=!1,x=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,A=b?i(r(c.maxWait)||0,l):A,x="trailing"in c?!!c.trailing:x);function S(k){var M=u,D=d;return u=d=void 0,v=k,f=s.apply(D,M),f}function C(k){return v=k,h=setTimeout(T,l),y?S(k):f}function _(k){var M=k-p,D=k-v,j=l-M;return b?o(j,A-D):j}function B(k){var M=k-p,D=k-v;return p===void 0||M>=l||M<0||b&&D>=A}function T(){var k=t();if(B(k))return O(k);h=setTimeout(T,_(k))}function O(k){return h=void 0,x&&u?S(k):(u=d=void 0,f)}function P(){h!==void 0&&clearTimeout(h),v=0,u=p=d=h=void 0}function F(){return h===void 0?f:O(t())}function U(){var k=t(),M=B(k);if(u=arguments,d=this,p=k,M){if(h===void 0)return C(p);if(b)return clearTimeout(h),h=setTimeout(T,l),S(p)}return h===void 0&&(h=setTimeout(T,l)),f}return U.cancel=P,U.flush=F,U}return FF=a,FF}var kF,$J;function qot(){if($J)return kF;$J=1;var e=Hot(),t=lf(),r="Expected a function";function n(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return t(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),e(i,o,{leading:s,maxWait:o,trailing:l})}return kF=n,kF}var zot=qot();const GRe=kr(zot);function iw(e){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(e)}function QJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QJ(Object(r),!0).forEach(function(n){Kot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kot(e,t,r){return t=Wot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wot(e){var t=Vot(e,"string");return iw(t)=="symbol"?t:t+""}function Vot(e,t){if(iw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Got(e,t){return Zot(e)||Jot(e,t)||Xot(e,t)||Yot()}function Yot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xot(e,t){if(e){if(typeof e=="string")return HJ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HJ(e,t)}}function HJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jot(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Zot(e){if(Array.isArray(e))return e}var g6=I.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,A=e.maxHeight,f=e.children,h=e.debounce,p=h===void 0?0:h,v=e.id,y=e.className,b=e.onResize,x=e.style,S=x===void 0?{}:x,C=I.useRef(null),_=I.useRef();_.current=b,I.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var B=I.useState({containerWidth:i.width,containerHeight:i.height}),T=Got(B,2),O=T[0],P=T[1],F=I.useCallback(function(k,M){P(function(D){var j=Math.round(k),$=Math.round(M);return D.containerWidth===j&&D.containerHeight===$?D:{containerWidth:j,containerHeight:$}})},[]);I.useEffect(function(){var k=function(H){var W,z=H[0].contentRect,V=z.width,G=z.height;F(V,G),(W=_.current)===null||W===void 0||W.call(_,V,G)};p>0&&(k=GRe(k,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(k),D=C.current.getBoundingClientRect(),j=D.width,$=D.height;return F(j,$),M.observe(C.current),function(){M.disconnect()}},[F,p]);var U=I.useMemo(function(){var k=O.containerWidth,M=O.containerHeight;if(k<0||M<0)return null;pd(ch(a)||ch(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),pd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=ch(a)?k:a,j=ch(l)?M:l;r&&r>0&&(D?j=D/r:j&&(D=j*r),A&&j>A&&(j=A)),pd(D>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,j,a,l,u,d,r);var $=!Array.isArray(f)&&hd(f.type).endsWith("Chart");return ue.Children.map(f,function(Q){return ue.isValidElement(Q)?I.cloneElement(Q,DS({width:D,height:j},$?{style:DS({height:"100%",width:"100%",maxHeight:j,maxWidth:D},Q.props.style)}:{})):Q})},[r,f,l,A,d,u,O,a]);return ue.createElement("div",{id:v?"".concat(v):void 0,className:ut("recharts-responsive-container",y),style:DS(DS({},S),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:A}),ref:C},U)}),m6=function(t){return null};m6.displayName="Cell";function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}function qJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qJ(Object(r),!0).forEach(function(n){eat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eat(e,t,r){return t=tat(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tat(e){var t=rat(e,"string");return ow(t)=="symbol"?t:t+""}function rat(e,t){if(ow(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xp={widthCache:{},cacheCount:0},nat=2e3,iat={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zJ="recharts_measurement_span";function oat(e){var t=uH({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var x0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gm.isSsr)return{width:0,height:0};var n=oat(r),i=JSON.stringify({text:t,copyStyle:n});if(Xp.widthCache[i])return Xp.widthCache[i];try{var o=document.getElementById(zJ);o||(o=document.createElement("span"),o.setAttribute("id",zJ),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=uH(uH({},iat),n);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Xp.widthCache[i]=l,++Xp.cacheCount>nat&&(Xp.cacheCount=0,Xp.widthCache={}),l}catch{return{width:0,height:0}}},aat=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function aw(e){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aw(e)}function P_(e,t){return uat(e)||cat(e,t)||lat(e,t)||sat()}function sat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lat(e,t){if(e){if(typeof e=="string")return KJ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KJ(e,t)}}function KJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cat(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function uat(e){if(Array.isArray(e))return e}function dat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fat(n.key),n)}}function Aat(e,t,r){return t&&WJ(e.prototype,t),r&&WJ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fat(e){var t=hat(e,"string");return aw(t)=="symbol"?t:t+""}function hat(e,t){if(aw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(aw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pat=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gat=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YRe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mat=Object.keys(YRe),_g="NaN";function vat(e,t){return e*YRe[t]}var jS=function(){function e(t,r){dat(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!pat.test(r)&&(this.num=NaN,this.unit=""),mat.includes(r)&&(this.num=vat(t,r),this.unit="px")}return Aat(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=gat.exec(r))!==null&&n!==void 0?n:[],o=P_(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])}();function XRe(e){if(e.includes(_g))return _g;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=VJ.exec(t))!==null&&r!==void 0?r:[],i=P_(n,4),o=i[1],a=i[2],s=i[3],l=jS.parse(o??""),c=jS.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return _g;t=t.replace(VJ,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,A=(d=GJ.exec(t))!==null&&d!==void 0?d:[],f=P_(A,4),h=f[1],p=f[2],v=f[3],y=jS.parse(h??""),b=jS.parse(v??""),x=p==="+"?y.add(b):y.subtract(b);if(x.isNaN())return _g;t=t.replace(GJ,x.toString())}return t}var YJ=/\(([^()]*)\)/;function yat(e){for(var t=e;t.includes("(");){var r=YJ.exec(t),n=P_(r,2),i=n[1];t=t.replace(YJ,XRe(i))}return t}function wat(e){var t=e.replace(/\s+/g,"");return t=yat(t),t=XRe(t),t}function bat(e){try{return wat(e)}catch{return _g}}function UF(e){var t=bat(e.slice(5,-1));return t===_g?"":t}var xat=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sat=["dx","dy","angle","className","breakAll"];function dH(){return dH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dH.apply(this,arguments)}function XJ(e,t){if(e==null)return{};var r=Cat(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cat(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JJ(e,t){return Bat(e)||Iat(e,t)||Eat(e,t)||_at()}function _at(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eat(e,t){if(e){if(typeof e=="string")return ZJ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZJ(e,t)}}function ZJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iat(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Bat(e){if(Array.isArray(e))return e}var JRe=/[ \f\n\r\t\v\u2028\u2029]+/,ZRe=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];yr(r)||(n?o=r.toString().split(""):o=r.toString().split(JRe));var a=o.map(function(l){return{word:l,width:x0(l,i).width}}),s=n?0:x0("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Pat=function(t,r,n,i,o){var a=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=mt(a),d=s,A=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(j,$){var Q=$.word,H=$.width,W=j[j.length-1];if(W&&(i==null||o||W.width+H+n<Number(i)))W.words.push(Q),W.width+=H+n;else{var z={words:[Q],width:H};j.push(z)}return j},[])},f=A(r),h=function(D){return D.reduce(function(j,$){return j.width>$.width?j:$})};if(!u)return f;for(var p="",v=function(D){var j=d.slice(0,D),$=ZRe({breakAll:c,style:l,children:j+p}).wordsWithComputedWidth,Q=A($),H=Q.length>a||h(Q).width>Number(i);return[H,Q]},y=0,b=d.length-1,x=0,S;y<=b&&x<=d.length-1;){var C=Math.floor((y+b)/2),_=C-1,B=v(_),T=JJ(B,2),O=T[0],P=T[1],F=v(C),U=JJ(F,1),k=U[0];if(!O&&!k&&(y=C+1),O&&k&&(b=C-1),!O&&k){S=P;break}x++}return S||f},eZ=function(t){var r=yr(t)?[]:t.toString().split(JRe);return[{words:r}]},Tat=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((r||n)&&!Gm.isSsr){var l,c,u=ZRe({breakAll:a,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,A=u.spaceWidth;l=d,c=A}else return eZ(i);return Pat({breakAll:a,children:i,maxLines:s,style:o},l,c,r,n)}return eZ(i)},tZ="#808080",T_=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,A=t.textAnchor,f=A===void 0?"start":A,h=t.verticalAnchor,p=h===void 0?"end":h,v=t.fill,y=v===void 0?tZ:v,b=XJ(t,xat),x=I.useMemo(function(){return Tat({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,C=b.dy,_=b.angle,B=b.className,T=b.breakAll,O=XJ(b,Sat);if(!zi(n)||!zi(o))return null;var P=n+(mt(S)?S:0),F=o+(mt(C)?C:0),U;switch(p){case"start":U=UF("calc(".concat(c,")"));break;case"middle":U=UF("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:U=UF("calc(".concat(x.length-1," * -").concat(s,")"));break}var k=[];if(d){var M=x[0].width,D=b.width;k.push("scale(".concat((mt(D)?D/M:1)/M,")"))}return _&&k.push("rotate(".concat(_,", ").concat(P,", ").concat(F,")")),k.length&&(O.transform=k.join(" ")),ue.createElement("text",dH({},Dr(O,!0),{x:P,y:F,className:ut("recharts-text",B),textAnchor:f,fill:y.includes("url")?tZ:y}),x.map(function(j,$){var Q=j.words.join(T?"":" ");return ue.createElement("tspan",{x:P,dy:$===0?U:s,key:"".concat(Q,"-").concat($)},Q)}))};function NA(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Oat(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function v6(e){let t,r,n;e.length!==2?(t=NA,r=(s,l)=>NA(e(s),l),n=(s,l)=>e(s)-l):(t=e===NA||e===Oat?e:Rat,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function Rat(){return 0}function eMe(e){return e===null?NaN:+e}function*Mat(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Fat=v6(NA),_b=Fat.right;v6(eMe).center;class rZ extends Map{constructor(t,r=Dat){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(nZ(this,t))}has(t){return super.has(nZ(this,t))}set(t,r){return super.set(kat(this,t),r)}delete(t){return super.delete(Uat(this,t))}}function nZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function kat({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Uat({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Dat(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jat(e=NA){if(e===NA)return tMe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function tMe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Lat=Math.sqrt(50),Nat=Math.sqrt(10),$at=Math.sqrt(2);function O_(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=Lat?10:o>=Nat?5:o>=$at?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?O_(e,t,r*2):[s,l,c]}function AH(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,a]=n?O_(t,e,r):O_(e,t,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function fH(e,t,r){return t=+t,e=+e,r=+r,O_(e,t,r)[2]}function hH(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?fH(t,e,r):fH(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function iZ(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function oZ(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rMe(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?tMe:jat(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),A=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(r,Math.floor(t-c*d/l+A)),h=Math.min(n,Math.floor(t+(l-c)*d/l+A));rMe(e,t,f,h,i)}const o=e[t];let a=r,s=n;for(my(e,r,t),i(e[n],o)>0&&my(e,r,n);a<s;){for(my(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[r],o)===0?my(e,r,s):(++s,my(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function my(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Qat(e,t,r){if(e=Float64Array.from(Mat(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return oZ(e);if(t>=1)return iZ(e);var n,i=(n-1)*t,o=Math.floor(i),a=iZ(rMe(e,o).subarray(0,o+1)),s=oZ(e.subarray(o+1));return a+(s-a)*(i-o)}}function Hat(e,t,r=eMe){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function qat(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function _l(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pH=Symbol("implicit");function y6(){var e=new rZ,t=[],r=[],n=pH;function i(o){let a=e.get(o);if(a===void 0){if(n!==pH)return n;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new rZ;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return y6(t,r).unknown(n)},_l.apply(i,arguments),i}function sw(){var e=y6().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var A=t().length,f=i<n,h=f?i:n,p=f?n:i;o=(p-h)/Math.max(1,A-l+c*2),s&&(o=Math.floor(o)),h+=(p-h-o*(A-l))*u,a=o*(1-l),s&&(h=Math.round(h),a=Math.round(a));var v=qat(A).map(function(y){return h+o*y});return r(f?v.reverse():v)}return e.domain=function(A){return arguments.length?(t(A),d()):t()},e.range=function(A){return arguments.length?([n,i]=A,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(A){return[n,i]=A,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(A){return arguments.length?(s=!!A,d()):s},e.padding=function(A){return arguments.length?(l=Math.min(1,c=+A),d()):l},e.paddingInner=function(A){return arguments.length?(l=Math.min(1,A),d()):l},e.paddingOuter=function(A){return arguments.length?(c=+A,d()):c},e.align=function(A){return arguments.length?(u=Math.max(0,Math.min(1,A)),d()):u},e.copy=function(){return sw(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},_l.apply(d(),arguments)}function nMe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nMe(t())},e}function S0(){return nMe(sw.apply(null,arguments).paddingInner(1))}function w6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iMe(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Eb(){}var lw=.7,R_=1/lw,Ng="\\s*([+-]?\\d+)\\s*",cw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zat=/^#([0-9a-f]{3,8})$/,Kat=new RegExp(`^rgb\\(${Ng},${Ng},${Ng}\\)$`),Wat=new RegExp(`^rgb\\(${ru},${ru},${ru}\\)$`),Vat=new RegExp(`^rgba\\(${Ng},${Ng},${Ng},${cw}\\)$`),Gat=new RegExp(`^rgba\\(${ru},${ru},${ru},${cw}\\)$`),Yat=new RegExp(`^hsl\\(${cw},${ru},${ru}\\)$`),Xat=new RegExp(`^hsla\\(${cw},${ru},${ru},${cw}\\)$`),aZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w6(Eb,Ph,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sZ,formatHex:sZ,formatHex8:Jat,formatHsl:Zat,formatRgb:lZ,toString:lZ});function sZ(){return this.rgb().formatHex()}function Jat(){return this.rgb().formatHex8()}function Zat(){return oMe(this).formatHsl()}function lZ(){return this.rgb().formatRgb()}function Ph(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zat.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cZ(t):r===3?new Xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?LS(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?LS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kat.exec(e))?new Xa(t[1],t[2],t[3],1):(t=Wat.exec(e))?new Xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vat.exec(e))?LS(t[1],t[2],t[3],t[4]):(t=Gat.exec(e))?LS(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Yat.exec(e))?AZ(t[1],t[2]/100,t[3]/100,1):(t=Xat.exec(e))?AZ(t[1],t[2]/100,t[3]/100,t[4]):aZ.hasOwnProperty(e)?cZ(aZ[e]):e==="transparent"?new Xa(NaN,NaN,NaN,0):null}function cZ(e){return new Xa(e>>16&255,e>>8&255,e&255,1)}function LS(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xa(e,t,r,n)}function est(e){return e instanceof Eb||(e=Ph(e)),e?(e=e.rgb(),new Xa(e.r,e.g,e.b,e.opacity)):new Xa}function gH(e,t,r,n){return arguments.length===1?est(e):new Xa(e,t,r,n??1)}function Xa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}w6(Xa,gH,iMe(Eb,{brighter(e){return e=e==null?R_:Math.pow(R_,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lw:Math.pow(lw,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xa(vh(this.r),vh(this.g),vh(this.b),M_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uZ,formatHex:uZ,formatHex8:tst,formatRgb:dZ,toString:dZ}));function uZ(){return`#${uh(this.r)}${uh(this.g)}${uh(this.b)}`}function tst(){return`#${uh(this.r)}${uh(this.g)}${uh(this.b)}${uh((isNaN(this.opacity)?1:this.opacity)*255)}`}function dZ(){const e=M_(this.opacity);return`${e===1?"rgb(":"rgba("}${vh(this.r)}, ${vh(this.g)}, ${vh(this.b)}${e===1?")":`, ${e})`}`}function M_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uh(e){return e=vh(e),(e<16?"0":"")+e.toString(16)}function AZ(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zl(e,t,r,n)}function oMe(e){if(e instanceof Zl)return new Zl(e.h,e.s,e.l,e.opacity);if(e instanceof Eb||(e=Ph(e)),!e)return new Zl;if(e instanceof Zl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-t)/s+2:a=(t-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Zl(a,s,l,e.opacity)}function rst(e,t,r,n){return arguments.length===1?oMe(e):new Zl(e,t,r,n??1)}function Zl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}w6(Zl,rst,iMe(Eb,{brighter(e){return e=e==null?R_:Math.pow(R_,e),new Zl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lw:Math.pow(lw,e),new Zl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Xa(DF(e>=240?e-240:e+120,i,n),DF(e,i,n),DF(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Zl(fZ(this.h),NS(this.s),NS(this.l),M_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=M_(this.opacity);return`${e===1?"hsl(":"hsla("}${fZ(this.h)}, ${NS(this.s)*100}%, ${NS(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fZ(e){return e=(e||0)%360,e<0?e+360:e}function NS(e){return Math.max(0,Math.min(1,e||0))}function DF(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const b6=e=>()=>e;function nst(e,t){return function(r){return e+r*t}}function ist(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ost(e){return(e=+e)==1?aMe:function(t,r){return r-t?ist(t,r,e):b6(isNaN(t)?r:t)}}function aMe(e,t){var r=t-e;return r?nst(e,r):b6(isNaN(e)?t:e)}const F_=function e(t){var r=ost(t);function n(i,o){var a=r((i=gH(i)).r,(o=gH(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=aMe(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function ast(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function sst(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lst(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Ym(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function cst(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xl(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ust(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ym(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var mH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jF=new RegExp(mH.source,"g");function dst(e){return function(){return e}}function Ast(e){return function(t){return e(t)+""}}function sMe(e,t){var r=mH.lastIndex=jF.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(n=mH.exec(e))&&(i=jF.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Xl(n,i)})),r=jF.lastIndex;return r<t.length&&(o=t.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Ast(l[0].x):dst(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Ym(e,t){var r=typeof t,n;return t==null||r==="boolean"?b6(t):(r==="number"?Xl:r==="string"?(n=Ph(t))?(t=n,F_):sMe:t instanceof Ph?F_:t instanceof Date?cst:sst(t)?ast:Array.isArray(t)?lst:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ust:Xl)(e,t)}function x6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var hZ=180/Math.PI,vH={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lMe(e,t,r,n,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*hZ,skewX:Math.atan(l)*hZ,scaleX:a,scaleY:s}}var $S;function fst(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vH:lMe(t.a,t.b,t.c,t.d,t.e,t.f)}function hst(e){return e==null||($S||($S=document.createElementNS("http://www.w3.org/2000/svg","g")),$S.setAttribute("transform",e),!(e=$S.transform.baseVal.consolidate()))?vH:(e=e.matrix,lMe(e.a,e.b,e.c,e.d,e.e,e.f))}function cMe(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function o(c,u,d,A,f,h){if(c!==d||u!==A){var p=f.push("translate(",null,t,null,r);h.push({i:p-4,x:Xl(c,d)},{i:p-2,x:Xl(u,A)})}else(d||A)&&f.push("translate("+d+t+A+r)}function a(c,u,d,A){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),A.push({i:d.push(i(d)+"rotate(",null,n)-2,x:Xl(c,u)})):u&&d.push(i(d)+"rotate("+u+n)}function s(c,u,d,A){c!==u?A.push({i:d.push(i(d)+"skewX(",null,n)-2,x:Xl(c,u)}):u&&d.push(i(d)+"skewX("+u+n)}function l(c,u,d,A,f,h){if(c!==d||u!==A){var p=f.push(i(f)+"scale(",null,",",null,")");h.push({i:p-4,x:Xl(c,d)},{i:p-2,x:Xl(u,A)})}else(d!==1||A!==1)&&f.push(i(f)+"scale("+d+","+A+")")}return function(c,u){var d=[],A=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,A),a(c.rotate,u.rotate,d,A),s(c.skewX,u.skewX,d,A),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,A),c=u=null,function(f){for(var h=-1,p=A.length,v;++h<p;)d[(v=A[h]).i]=v.x(f);return d.join("")}}}var pst=cMe(fst,"px, ","px)","deg)"),gst=cMe(hst,", ",")",")"),mst=1e-12;function pZ(e){return((e=Math.exp(e))+1/e)/2}function vst(e){return((e=Math.exp(e))-1/e)/2}function yst(e){return((e=Math.exp(2*e))-1)/(e+1)}const wst=function e(t,r,n){function i(o,a){var s=o[0],l=o[1],c=o[2],u=a[0],d=a[1],A=a[2],f=u-s,h=d-l,p=f*f+h*h,v,y;if(p<mst)y=Math.log(A/c)/t,v=function(B){return[s+B*f,l+B*h,c*Math.exp(t*B*y)]};else{var b=Math.sqrt(p),x=(A*A-c*c+n*p)/(2*c*r*b),S=(A*A-c*c-n*p)/(2*A*r*b),C=Math.log(Math.sqrt(x*x+1)-x),_=Math.log(Math.sqrt(S*S+1)-S);y=(_-C)/t,v=function(B){var T=B*y,O=pZ(C),P=c/(r*b)*(O*yst(t*T+C)-vst(C));return[s+P*f,l+P*h,c*O/pZ(t*T+C)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);function bst(e,t){t===void 0&&(t=e,e=Ym);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function xst(e){return function(){return e}}function k_(e){return+e}var gZ=[0,1];function Ea(e){return e}function yH(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xst(isNaN(t)?NaN:.5)}function Sst(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Cst(e,t,r){var n=e[0],i=e[1],o=t[0],a=t[1];return i<n?(n=yH(i,n),o=r(a,o)):(n=yH(n,i),o=r(o,a)),function(s){return o(n(s))}}function _st(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=yH(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(s){var l=_b(e,s,1,n)-1;return o[l](i[l](s))}}function Ib(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eB(){var e=gZ,t=gZ,r=Ym,n,i,o,a=Ea,s,l,c;function u(){var A=Math.min(e.length,t.length);return a!==Ea&&(a=Sst(e[0],e[A-1])),s=A>2?_st:Cst,l=c=null,d}function d(A){return A==null||isNaN(A=+A)?o:(l||(l=s(e.map(n),t,r)))(n(a(A)))}return d.invert=function(A){return a(i((c||(c=s(t,e.map(n),Xl)))(A)))},d.domain=function(A){return arguments.length?(e=Array.from(A,k_),u()):e.slice()},d.range=function(A){return arguments.length?(t=Array.from(A),u()):t.slice()},d.rangeRound=function(A){return t=Array.from(A),r=x6,u()},d.clamp=function(A){return arguments.length?(a=A?!0:Ea,u()):a!==Ea},d.interpolate=function(A){return arguments.length?(r=A,u()):r},d.unknown=function(A){return arguments.length?(o=A,d):o},function(A,f){return n=A,i=f,u()}}function S6(){return eB()(Ea,Ea)}function Est(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function U_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function om(e){return e=U_(Math.abs(e)),e?e[1]:NaN}function Ist(e,t){return function(r,n){for(var i=r.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function Bst(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Pst=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uw(e){if(!(t=Pst.exec(e)))throw new Error("invalid format: "+e);var t;return new C6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uw.prototype=C6.prototype;function C6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}C6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tst(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var uMe;function Ost(e,t){var r=U_(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(uMe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+U_(e,Math.max(0,t+o-1))[0]}function mZ(e,t){var r=U_(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const vZ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Est,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mZ(e*100,t),r:mZ,s:Ost,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yZ(e){return e}var wZ=Array.prototype.map,bZ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rst(e){var t=e.grouping===void 0||e.thousands===void 0?yZ:Ist(wZ.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?yZ:Bst(wZ.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=uw(d);var A=d.fill,f=d.align,h=d.sign,p=d.symbol,v=d.zero,y=d.width,b=d.comma,x=d.precision,S=d.trim,C=d.type;C==="n"?(b=!0,C="g"):vZ[C]||(x===void 0&&(x=12),S=!0,C="g"),(v||A==="0"&&f==="=")&&(v=!0,A="0",f="=");var _=p==="$"?r:p==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",B=p==="$"?n:/[%p]/.test(C)?a:"",T=vZ[C],O=/[defgprs%]/.test(C);x=x===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function P(F){var U=_,k=B,M,D,j;if(C==="c")k=T(F)+k,F="";else{F=+F;var $=F<0||1/F<0;if(F=isNaN(F)?l:T(Math.abs(F),x),S&&(F=Tst(F)),$&&+F==0&&h!=="+"&&($=!1),U=($?h==="("?h:s:h==="-"||h==="("?"":h)+U,k=(C==="s"?bZ[8+uMe/3]:"")+k+($&&h==="("?")":""),O){for(M=-1,D=F.length;++M<D;)if(j=F.charCodeAt(M),48>j||j>57){k=(j===46?i+F.slice(M+1):F.slice(M))+k,F=F.slice(0,M);break}}}b&&!v&&(F=t(F,1/0));var Q=U.length+F.length+k.length,H=Q<y?new Array(y-Q+1).join(A):"";switch(b&&v&&(F=t(H+F,H.length?y-k.length:1/0),H=""),f){case"<":F=U+F+k+H;break;case"=":F=U+H+F+k;break;case"^":F=H.slice(0,Q=H.length>>1)+U+F+k+H.slice(Q);break;default:F=H+U+F+k;break}return o(F)}return P.toString=function(){return d+""},P}function u(d,A){var f=c((d=uw(d),d.type="f",d)),h=Math.max(-8,Math.min(8,Math.floor(om(A)/3)))*3,p=Math.pow(10,-h),v=bZ[8+h/3];return function(y){return f(p*y)+v}}return{format:c,formatPrefix:u}}var QS,_6,dMe;Mst({thousands:",",grouping:[3],currency:["$",""]});function Mst(e){return QS=Rst(e),_6=QS.format,dMe=QS.formatPrefix,QS}function Fst(e){return Math.max(0,-om(Math.abs(e)))}function kst(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(om(t)/3)))*3-om(Math.abs(e)))}function Ust(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,om(t)-om(e))+1}function AMe(e,t,r,n){var i=hH(e,t,r),o;switch(n=uw(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=kst(i,a))&&(n.precision=o),dMe(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Ust(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Fst(i))&&(n.precision=o-(n.type==="%")*2);break}}return _6(n)}function uf(e){var t=e.domain;return e.ticks=function(r){var n=t();return AH(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return AMe(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=fH(a,s,r),c===l)return n[i]=a,n[o]=s,t(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function D_(){var e=S6();return e.copy=function(){return Ib(e,D_())},_l.apply(e,arguments),uf(e)}function fMe(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,k_),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return fMe(e).unknown(t)},e=arguments.length?Array.from(e,k_):[0,1],uf(r)}function hMe(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),e[r]=t.floor(i),e[n]=t.ceil(o),e}function xZ(e){return Math.log(e)}function SZ(e){return Math.exp(e)}function Dst(e){return-Math.log(-e)}function jst(e){return-Math.exp(-e)}function Lst(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Nst(e){return e===10?Lst:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $st(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CZ(e){return(t,r)=>-e(-t,r)}function E6(e){const t=e(xZ,SZ),r=t.domain;let n=10,i,o;function a(){return i=$st(n),o=Nst(n),r()[0]<0?(i=CZ(i),o=CZ(o),e(Dst,jst)):e(xZ,SZ),t}return t.base=function(s){return arguments.length?(n=+s,a()):n},t.domain=function(s){return arguments.length?(r(s),a()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let A=i(c),f=i(u),h,p;const v=s==null?10:+s;let y=[];if(!(n%1)&&f-A<v){if(A=Math.floor(A),f=Math.ceil(f),c>0){for(;A<=f;++A)for(h=1;h<n;++h)if(p=A<0?h/o(-A):h*o(A),!(p<c)){if(p>u)break;y.push(p)}}else for(;A<=f;++A)for(h=n-1;h>=1;--h)if(p=A>0?h/o(-A):h*o(A),!(p<c)){if(p>u)break;y.push(p)}y.length*2<v&&(y=AH(c,u,v))}else y=AH(A,f,Math.min(f-A,v)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=uw(l)).precision==null&&(l.trim=!0),l=_6(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(hMe(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function pMe(){const e=E6(eB()).domain([1,10]);return e.copy=()=>Ib(e,pMe()).base(e.base()),_l.apply(e,arguments),e}function _Z(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function EZ(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function I6(e){var t=1,r=e(_Z(t),EZ(t));return r.constant=function(n){return arguments.length?e(_Z(t=+n),EZ(t)):t},uf(r)}function gMe(){var e=I6(eB());return e.copy=function(){return Ib(e,gMe()).constant(e.constant())},_l.apply(e,arguments)}function IZ(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Qst(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hst(e){return e<0?-e*e:e*e}function B6(e){var t=e(Ea,Ea),r=1;function n(){return r===1?e(Ea,Ea):r===.5?e(Qst,Hst):e(IZ(r),IZ(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},uf(t)}function P6(){var e=B6(eB());return e.copy=function(){return Ib(e,P6()).exponent(e.exponent())},_l.apply(e,arguments),e}function qst(){return P6.apply(null,arguments).exponent(.5)}function BZ(e){return Math.sign(e)*e*e}function zst(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mMe(){var e=S6(),t=[0,1],r=!1,n;function i(o){var a=zst(e(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return e.invert(BZ(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,k_)).map(BZ)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return mMe(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},_l.apply(i,arguments),uf(i)}function vMe(){var e=[],t=[],r=[],n;function i(){var a=0,s=Math.max(1,t.length);for(r=new Array(s-1);++a<s;)r[a-1]=Hat(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:t[_b(r,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(NA),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return vMe().domain(e).range(t).unknown(n)},_l.apply(o,arguments)}function yMe(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[_b(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return yMe().domain([e,t]).range(i).unknown(o)},_l.apply(uf(a),arguments)}function wMe(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[_b(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wMe().domain(e).range(t).unknown(r)},_l.apply(i,arguments)}const LF=new Date,NF=new Date;function Ki(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>Ki(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),r&&(i.count=(o,a)=>(LF.setTime(+o),NF.setTime(+a),e(LF),e(NF),Math.floor(r(LF,NF))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const j_=Ki(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);j_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ki(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):j_);j_.range;const od=1e3,ul=od*60,ad=ul*60,Id=ad*24,T6=Id*7,PZ=Id*30,$F=Id*365,dh=Ki(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*od)},(e,t)=>(t-e)/od,e=>e.getUTCSeconds());dh.range;const O6=Ki(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*od)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getMinutes());O6.range;const R6=Ki(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getUTCMinutes());R6.range;const M6=Ki(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*od-e.getMinutes()*ul)},(e,t)=>{e.setTime(+e+t*ad)},(e,t)=>(t-e)/ad,e=>e.getHours());M6.range;const F6=Ki(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ad)},(e,t)=>(t-e)/ad,e=>e.getUTCHours());F6.range;const Bb=Ki(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ul)/Id,e=>e.getDate()-1);Bb.range;const tB=Ki(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Id,e=>e.getUTCDate()-1);tB.range;const bMe=Ki(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Id,e=>Math.floor(e/Id));bMe.range;function Yh(e){return Ki(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ul)/T6)}const rB=Yh(0),L_=Yh(1),Kst=Yh(2),Wst=Yh(3),am=Yh(4),Vst=Yh(5),Gst=Yh(6);rB.range;L_.range;Kst.range;Wst.range;am.range;Vst.range;Gst.range;function Xh(e){return Ki(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/T6)}const nB=Xh(0),N_=Xh(1),Yst=Xh(2),Xst=Xh(3),sm=Xh(4),Jst=Xh(5),Zst=Xh(6);nB.range;N_.range;Yst.range;Xst.range;sm.range;Jst.range;Zst.range;const k6=Ki(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());k6.range;const U6=Ki(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());U6.range;const Bd=Ki(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ki(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Bd.range;const Pd=Ki(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ki(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Pd.range;function xMe(e,t,r,n,i,o){const a=[[dh,1,od],[dh,5,5*od],[dh,15,15*od],[dh,30,30*od],[o,1,ul],[o,5,5*ul],[o,15,15*ul],[o,30,30*ul],[i,1,ad],[i,3,3*ad],[i,6,6*ad],[i,12,12*ad],[n,1,Id],[n,2,2*Id],[r,1,T6],[t,1,PZ],[t,3,3*PZ],[e,1,$F]];function s(c,u,d){const A=u<c;A&&([c,u]=[u,c]);const f=d&&typeof d.range=="function"?d:l(c,u,d),h=f?f.range(c,+u+1):[];return A?h.reverse():h}function l(c,u,d){const A=Math.abs(u-c)/d,f=v6(([,,v])=>v).right(a,A);if(f===a.length)return e.every(hH(c/$F,u/$F,d));if(f===0)return j_.every(Math.max(hH(c,u,d),1));const[h,p]=a[A/a[f-1][2]<a[f][2]/A?f-1:f];return h.every(p)}return[s,l]}const[elt,tlt]=xMe(Pd,U6,nB,bMe,F6,R6),[rlt,nlt]=xMe(Bd,k6,rB,Bb,M6,O6);function QF(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function HF(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vy(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ilt(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=yy(i),u=wy(i),d=yy(o),A=wy(o),f=yy(a),h=wy(a),p=yy(s),v=wy(s),y=yy(l),b=wy(l),x={a:$,A:Q,b:H,B:W,c:null,d:kZ,e:kZ,f:Ilt,g:Dlt,G:Llt,H:Clt,I:_lt,j:Elt,L:SMe,m:Blt,M:Plt,p:z,q:V,Q:jZ,s:LZ,S:Tlt,u:Olt,U:Rlt,V:Mlt,w:Flt,W:klt,x:null,X:null,y:Ult,Y:jlt,Z:Nlt,"%":DZ},S={a:G,A:X,b:Z,B:oe,c:null,d:UZ,e:UZ,f:qlt,g:ect,G:rct,H:$lt,I:Qlt,j:Hlt,L:_Me,m:zlt,M:Klt,p:ae,q:ne,Q:jZ,s:LZ,S:Wlt,u:Vlt,U:Glt,V:Ylt,w:Xlt,W:Jlt,x:null,X:null,y:Zlt,Y:tct,Z:nct,"%":DZ},C={a:P,A:F,b:U,B:k,c:M,d:MZ,e:MZ,f:wlt,g:RZ,G:OZ,H:FZ,I:FZ,j:glt,L:ylt,m:plt,M:mlt,p:O,q:hlt,Q:xlt,s:Slt,S:vlt,u:clt,U:ult,V:dlt,w:llt,W:Alt,x:D,X:j,y:RZ,Y:OZ,Z:flt,"%":blt};x.x=_(r,x),x.X=_(n,x),x.c=_(t,x),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(te,se){return function(de){var re=[],he=-1,ye=0,ke=te.length,Ue,Ne,Ye;for(de instanceof Date||(de=new Date(+de));++he<ke;)te.charCodeAt(he)===37&&(re.push(te.slice(ye,he)),(Ne=TZ[Ue=te.charAt(++he)])!=null?Ue=te.charAt(++he):Ne=Ue==="e"?" ":"0",(Ye=se[Ue])&&(Ue=Ye(de,Ne)),re.push(Ue),ye=he+1);return re.push(te.slice(ye,he)),re.join("")}}function B(te,se){return function(de){var re=vy(1900,void 0,1),he=T(re,te,de+="",0),ye,ke;if(he!=de.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(se&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ye=HF(vy(re.y,0,1)),ke=ye.getUTCDay(),ye=ke>4||ke===0?N_.ceil(ye):N_(ye),ye=tB.offset(ye,(re.V-1)*7),re.y=ye.getUTCFullYear(),re.m=ye.getUTCMonth(),re.d=ye.getUTCDate()+(re.w+6)%7):(ye=QF(vy(re.y,0,1)),ke=ye.getDay(),ye=ke>4||ke===0?L_.ceil(ye):L_(ye),ye=Bb.offset(ye,(re.V-1)*7),re.y=ye.getFullYear(),re.m=ye.getMonth(),re.d=ye.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ke="Z"in re?HF(vy(re.y,0,1)).getUTCDay():QF(vy(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ke+5)%7:re.w+re.U*7-(ke+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,HF(re)):QF(re)}}function T(te,se,de,re){for(var he=0,ye=se.length,ke=de.length,Ue,Ne;he<ye;){if(re>=ke)return-1;if(Ue=se.charCodeAt(he++),Ue===37){if(Ue=se.charAt(he++),Ne=C[Ue in TZ?se.charAt(he++):Ue],!Ne||(re=Ne(te,de,re))<0)return-1}else if(Ue!=de.charCodeAt(re++))return-1}return re}function O(te,se,de){var re=c.exec(se.slice(de));return re?(te.p=u.get(re[0].toLowerCase()),de+re[0].length):-1}function P(te,se,de){var re=f.exec(se.slice(de));return re?(te.w=h.get(re[0].toLowerCase()),de+re[0].length):-1}function F(te,se,de){var re=d.exec(se.slice(de));return re?(te.w=A.get(re[0].toLowerCase()),de+re[0].length):-1}function U(te,se,de){var re=y.exec(se.slice(de));return re?(te.m=b.get(re[0].toLowerCase()),de+re[0].length):-1}function k(te,se,de){var re=p.exec(se.slice(de));return re?(te.m=v.get(re[0].toLowerCase()),de+re[0].length):-1}function M(te,se,de){return T(te,t,se,de)}function D(te,se,de){return T(te,r,se,de)}function j(te,se,de){return T(te,n,se,de)}function $(te){return a[te.getDay()]}function Q(te){return o[te.getDay()]}function H(te){return l[te.getMonth()]}function W(te){return s[te.getMonth()]}function z(te){return i[+(te.getHours()>=12)]}function V(te){return 1+~~(te.getMonth()/3)}function G(te){return a[te.getUTCDay()]}function X(te){return o[te.getUTCDay()]}function Z(te){return l[te.getUTCMonth()]}function oe(te){return s[te.getUTCMonth()]}function ae(te){return i[+(te.getUTCHours()>=12)]}function ne(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var se=_(te+="",x);return se.toString=function(){return te},se},parse:function(te){var se=B(te+="",!1);return se.toString=function(){return te},se},utcFormat:function(te){var se=_(te+="",S);return se.toString=function(){return te},se},utcParse:function(te){var se=B(te+="",!0);return se.toString=function(){return te},se}}}var TZ={"-":"",_:" ",0:"0"},lo=/^\s*\d+/,olt=/^%/,alt=/[\\^$*+?|[\]().{}]/g;function zr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function slt(e){return e.replace(alt,"\\$&")}function yy(e){return new RegExp("^(?:"+e.map(slt).join("|")+")","i")}function wy(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function llt(e,t,r){var n=lo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function clt(e,t,r){var n=lo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ult(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function dlt(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Alt(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function OZ(e,t,r){var n=lo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function RZ(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function flt(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function hlt(e,t,r){var n=lo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function plt(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function MZ(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function glt(e,t,r){var n=lo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function FZ(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function mlt(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vlt(e,t,r){var n=lo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ylt(e,t,r){var n=lo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wlt(e,t,r){var n=lo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function blt(e,t,r){var n=olt.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xlt(e,t,r){var n=lo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Slt(e,t,r){var n=lo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kZ(e,t){return zr(e.getDate(),t,2)}function Clt(e,t){return zr(e.getHours(),t,2)}function _lt(e,t){return zr(e.getHours()%12||12,t,2)}function Elt(e,t){return zr(1+Bb.count(Bd(e),e),t,3)}function SMe(e,t){return zr(e.getMilliseconds(),t,3)}function Ilt(e,t){return SMe(e,t)+"000"}function Blt(e,t){return zr(e.getMonth()+1,t,2)}function Plt(e,t){return zr(e.getMinutes(),t,2)}function Tlt(e,t){return zr(e.getSeconds(),t,2)}function Olt(e){var t=e.getDay();return t===0?7:t}function Rlt(e,t){return zr(rB.count(Bd(e)-1,e),t,2)}function CMe(e){var t=e.getDay();return t>=4||t===0?am(e):am.ceil(e)}function Mlt(e,t){return e=CMe(e),zr(am.count(Bd(e),e)+(Bd(e).getDay()===4),t,2)}function Flt(e){return e.getDay()}function klt(e,t){return zr(L_.count(Bd(e)-1,e),t,2)}function Ult(e,t){return zr(e.getFullYear()%100,t,2)}function Dlt(e,t){return e=CMe(e),zr(e.getFullYear()%100,t,2)}function jlt(e,t){return zr(e.getFullYear()%1e4,t,4)}function Llt(e,t){var r=e.getDay();return e=r>=4||r===0?am(e):am.ceil(e),zr(e.getFullYear()%1e4,t,4)}function Nlt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zr(t/60|0,"0",2)+zr(t%60,"0",2)}function UZ(e,t){return zr(e.getUTCDate(),t,2)}function $lt(e,t){return zr(e.getUTCHours(),t,2)}function Qlt(e,t){return zr(e.getUTCHours()%12||12,t,2)}function Hlt(e,t){return zr(1+tB.count(Pd(e),e),t,3)}function _Me(e,t){return zr(e.getUTCMilliseconds(),t,3)}function qlt(e,t){return _Me(e,t)+"000"}function zlt(e,t){return zr(e.getUTCMonth()+1,t,2)}function Klt(e,t){return zr(e.getUTCMinutes(),t,2)}function Wlt(e,t){return zr(e.getUTCSeconds(),t,2)}function Vlt(e){var t=e.getUTCDay();return t===0?7:t}function Glt(e,t){return zr(nB.count(Pd(e)-1,e),t,2)}function EMe(e){var t=e.getUTCDay();return t>=4||t===0?sm(e):sm.ceil(e)}function Ylt(e,t){return e=EMe(e),zr(sm.count(Pd(e),e)+(Pd(e).getUTCDay()===4),t,2)}function Xlt(e){return e.getUTCDay()}function Jlt(e,t){return zr(N_.count(Pd(e)-1,e),t,2)}function Zlt(e,t){return zr(e.getUTCFullYear()%100,t,2)}function ect(e,t){return e=EMe(e),zr(e.getUTCFullYear()%100,t,2)}function tct(e,t){return zr(e.getUTCFullYear()%1e4,t,4)}function rct(e,t){var r=e.getUTCDay();return e=r>=4||r===0?sm(e):sm.ceil(e),zr(e.getUTCFullYear()%1e4,t,4)}function nct(){return"+0000"}function DZ(){return"%"}function jZ(e){return+e}function LZ(e){return Math.floor(+e/1e3)}var Jp,IMe,BMe;ict({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ict(e){return Jp=ilt(e),IMe=Jp.format,Jp.parse,BMe=Jp.utcFormat,Jp.utcParse,Jp}function oct(e){return new Date(e)}function act(e){return e instanceof Date?+e:+new Date(+e)}function D6(e,t,r,n,i,o,a,s,l,c){var u=S6(),d=u.invert,A=u.domain,f=c(".%L"),h=c(":%S"),p=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),S=c("%Y");function C(_){return(l(_)<_?f:s(_)<_?h:a(_)<_?p:o(_)<_?v:n(_)<_?i(_)<_?y:b:r(_)<_?x:S)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?A(Array.from(_,act)):A().map(oct)},u.ticks=function(_){var B=A();return e(B[0],B[B.length-1],_??10)},u.tickFormat=function(_,B){return B==null?C:c(B)},u.nice=function(_){var B=A();return(!_||typeof _.range!="function")&&(_=t(B[0],B[B.length-1],_??10)),_?A(hMe(B,_)):u},u.copy=function(){return Ib(u,D6(e,t,r,n,i,o,a,s,l,c))},u}function sct(){return _l.apply(D6(rlt,nlt,Bd,k6,rB,Bb,M6,O6,dh,IMe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lct(){return _l.apply(D6(elt,tlt,Pd,U6,nB,tB,F6,R6,dh,BMe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iB(){var e=0,t=1,r,n,i,o,a=Ea,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(A){var f,h;return arguments.length?([f,h]=A,a=d(f,h),c):[a(0),a(1)]}}return c.range=u(Ym),c.rangeRound=u(x6),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function df(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function PMe(){var e=uf(iB()(Ea));return e.copy=function(){return df(e,PMe())},jd.apply(e,arguments)}function TMe(){var e=E6(iB()).domain([1,10]);return e.copy=function(){return df(e,TMe()).base(e.base())},jd.apply(e,arguments)}function OMe(){var e=I6(iB());return e.copy=function(){return df(e,OMe()).constant(e.constant())},jd.apply(e,arguments)}function j6(){var e=B6(iB());return e.copy=function(){return df(e,j6()).exponent(e.exponent())},jd.apply(e,arguments)}function cct(){return j6.apply(null,arguments).exponent(.5)}function RMe(){var e=[],t=Ea;function r(n){if(n!=null&&!isNaN(n=+n))return t((_b(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(NA),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>Qat(e,o/n))},r.copy=function(){return RMe(t).domain(e)},jd.apply(r,arguments)}function oB(){var e=0,t=.5,r=1,n=1,i,o,a,s,l,c=Ea,u,d=!1,A;function f(p){return isNaN(p=+p)?A:(p=.5+((p=+u(p))-o)*(n*p<n*o?s:l),c(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t,r]=p,i=u(e=+e),o=u(t=+t),a=u(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,f):[e,t,r]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(c=p,f):c};function h(p){return function(v){var y,b,x;return arguments.length?([y,b,x]=v,c=bst(p,[y,b,x]),f):[c(0),c(.5),c(1)]}}return f.range=h(Ym),f.rangeRound=h(x6),f.unknown=function(p){return arguments.length?(A=p,f):A},function(p){return u=p,i=p(e),o=p(t),a=p(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,f}}function MMe(){var e=uf(oB()(Ea));return e.copy=function(){return df(e,MMe())},jd.apply(e,arguments)}function FMe(){var e=E6(oB()).domain([.1,1,10]);return e.copy=function(){return df(e,FMe()).base(e.base())},jd.apply(e,arguments)}function kMe(){var e=I6(oB());return e.copy=function(){return df(e,kMe()).constant(e.constant())},jd.apply(e,arguments)}function L6(){var e=B6(oB());return e.copy=function(){return df(e,L6()).exponent(e.exponent())},jd.apply(e,arguments)}function uct(){return L6.apply(null,arguments).exponent(.5)}const NZ=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sw,scaleDiverging:MMe,scaleDivergingLog:FMe,scaleDivergingPow:L6,scaleDivergingSqrt:uct,scaleDivergingSymlog:kMe,scaleIdentity:fMe,scaleImplicit:pH,scaleLinear:D_,scaleLog:pMe,scaleOrdinal:y6,scalePoint:S0,scalePow:P6,scaleQuantile:vMe,scaleQuantize:yMe,scaleRadial:mMe,scaleSequential:PMe,scaleSequentialLog:TMe,scaleSequentialPow:j6,scaleSequentialQuantile:RMe,scaleSequentialSqrt:cct,scaleSequentialSymlog:OMe,scaleSqrt:qst,scaleSymlog:gMe,scaleThreshold:wMe,scaleTime:sct,scaleUtc:lct,tickFormat:AMe},Symbol.toStringTag,{value:"Module"}));var qF,$Z;function UMe(){if($Z)return qF;$Z=1;var e=Km();function t(r,n,i){for(var o=-1,a=r.length;++o<a;){var s=r[o],l=n(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,u=s}return u}return qF=t,qF}var zF,QZ;function dct(){if(QZ)return zF;QZ=1;function e(t,r){return t>r}return zF=e,zF}var KF,HZ;function Act(){if(HZ)return KF;HZ=1;var e=UMe(),t=dct(),r=Vm();function n(i){return i&&i.length?e(i,r,t):void 0}return KF=n,KF}var fct=Act();const aB=kr(fct);var WF,qZ;function hct(){if(qZ)return WF;qZ=1;function e(t,r){return t<r}return WF=e,WF}var VF,zZ;function pct(){if(zZ)return VF;zZ=1;var e=UMe(),t=hct(),r=Vm();function n(i){return i&&i.length?e(i,r,t):void 0}return VF=n,VF}var gct=pct();const sB=kr(gct);var GF,KZ;function mct(){if(KZ)return GF;KZ=1;var e=e6(),t=cf(),r=QRe(),n=rs();function i(o,a){var s=n(o)?e:r;return s(o,t(a,3))}return GF=i,GF}var YF,WZ;function vct(){if(WZ)return YF;WZ=1;var e=NRe(),t=mct();function r(n,i){return e(t(n,i),1)}return YF=r,YF}var yct=vct();const wct=kr(yct);var XF,VZ;function bct(){if(VZ)return XF;VZ=1;var e=A6();function t(r,n){return e(r,n)}return XF=t,XF}var xct=bct();const lB=kr(xct);var Xm=1e9,Sct={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$6,Wn=!0,wl="[DecimalError] ",yh=wl+"Invalid argument: ",N6=wl+"Exponent out of range: ",Jm=Math.floor,th=Math.pow,Cct=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ys,oo=1e7,Fn=7,DMe=9007199254740991,$_=Jm(DMe/Fn),Tt={};Tt.absoluteValue=Tt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Tt.comparedTo=Tt.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Tt.decimalPlaces=Tt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Tt.dividedBy=Tt.div=function(e){return gd(this,new this.constructor(e))};Tt.dividedToIntegerBy=Tt.idiv=function(e){var t=this,r=t.constructor;return mn(gd(t,new r(e),0,1),r.precision)};Tt.equals=Tt.eq=function(e){return!this.cmp(e)};Tt.exponent=function(){return ji(this)};Tt.greaterThan=Tt.gt=function(e){return this.cmp(e)>0};Tt.greaterThanOrEqualTo=Tt.gte=function(e){return this.cmp(e)>=0};Tt.isInteger=Tt.isint=function(){return this.e>this.d.length-2};Tt.isNegative=Tt.isneg=function(){return this.s<0};Tt.isPositive=Tt.ispos=function(){return this.s>0};Tt.isZero=function(){return this.s===0};Tt.lessThan=Tt.lt=function(e){return this.cmp(e)<0};Tt.lessThanOrEqualTo=Tt.lte=function(e){return this.cmp(e)<1};Tt.logarithm=Tt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ys))throw Error(wl+"NaN");if(r.s<1)throw Error(wl+(r.s?"NaN":"-Infinity"));return r.eq(ys)?new n(0):(Wn=!1,t=gd(dw(r,o),dw(e,o),o),Wn=!0,mn(t,i))};Tt.minus=Tt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NMe(t,e):jMe(t,(e.s=-e.s,e))};Tt.modulo=Tt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(wl+"NaN");return r.s?(Wn=!1,t=gd(r,e,0,1).times(e),Wn=!0,r.minus(t)):mn(new n(r),i)};Tt.naturalExponential=Tt.exp=function(){return LMe(this)};Tt.naturalLogarithm=Tt.ln=function(){return dw(this)};Tt.negated=Tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Tt.plus=Tt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jMe(t,e):NMe(t,(e.s=-e.s,e))};Tt.precision=Tt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yh+e);if(t=ji(i)+1,n=i.d.length-1,r=n*Fn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Tt.squareRoot=Tt.sqrt=function(){var e,t,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(wl+"NaN")}for(e=ji(s),Wn=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Gc(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Jm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(gd(s,o,a+2)).times(.5),Gc(o.d).slice(0,a)===(t=Gc(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(mn(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;a+=4}return Wn=!0,mn(n,r)};Tt.times=Tt.mul=function(e){var t,r,n,i,o,a,s,l,c,u=this,d=u.constructor,A=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=A.length,c=f.length,l<c&&(o=A,A=f,f=o,a=l,l=c,c=a),o=[],a=l+c,n=a;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=o[i]+f[n]*A[i-n-1]+t,o[i--]=s%oo|0,t=s/oo|0;o[i]=(o[i]+t)%oo|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Wn?mn(e,d.precision):e};Tt.toDecimalPlaces=Tt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(su(e,0,Xm),t===void 0?t=n.rounding:su(t,0,8),mn(r,e+ji(r)+1,t))};Tt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Th(n,!0):(su(e,0,Xm),t===void 0?t=i.rounding:su(t,0,8),n=mn(new i(n),e+1,t),r=Th(n,!0,e+1)),r};Tt.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?Th(i):(su(e,0,Xm),t===void 0?t=o.rounding:su(t,0,8),n=mn(new o(i),e+ji(i)+1,t),r=Th(n.abs(),!1,e+ji(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Tt.toInteger=Tt.toint=function(){var e=this,t=e.constructor;return mn(new t(e),ji(e)+1,t.rounding)};Tt.toNumber=function(){return+this};Tt.toPower=Tt.pow=function(e){var t,r,n,i,o,a,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(ys);if(s=new l(s),!s.s){if(e.s<1)throw Error(wl+"Infinity");return s}if(s.eq(ys))return s;if(n=l.precision,e.eq(ys))return mn(s,n);if(t=e.e,r=e.d.length-1,a=t>=r,o=s.s,a){if((r=u<0?-u:u)<=DMe){for(i=new l(ys),t=Math.ceil(n/Fn+4),Wn=!1;r%2&&(i=i.times(s),YZ(i.d,t)),r=Jm(r/2),r!==0;)s=s.times(s),YZ(s.d,t);return Wn=!0,e.s<0?new l(ys).div(i):mn(i,n)}}else if(o<0)throw Error(wl+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Wn=!1,i=e.times(dw(s,n+c)),Wn=!0,i=LMe(i),i.s=o,i};Tt.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=ji(i),n=Th(i,r<=o.toExpNeg||r>=o.toExpPos)):(su(e,1,Xm),t===void 0?t=o.rounding:su(t,0,8),i=mn(new o(i),e,t),r=ji(i),n=Th(i,e<=r||r<=o.toExpNeg,e)),n};Tt.toSignificantDigits=Tt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(su(e,1,Xm),t===void 0?t=n.rounding:su(t,0,8)),mn(new n(r),e,t)};Tt.toString=Tt.valueOf=Tt.val=Tt.toJSON=Tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ji(e),r=e.constructor;return Th(e,t<=r.toExpNeg||t>=r.toExpPos)};function jMe(e,t){var r,n,i,o,a,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Wn?mn(t,d):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,i=a,s=l.length),a=Math.ceil(d/Fn),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/oo|0,l[o]%=oo;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Wn?mn(t,d):t}function su(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yh+e)}function Gc(e){var t,r,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)n=e[t]+"",r=Fn-n.length,r&&(o+=_A(r)),o+=n;a=e[t],n=a+"",r=Fn-n.length,r&&(o+=_A(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var gd=function(){function e(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%oo|0,a=o/oo|0;return a&&n.unshift(a),n}function t(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*oo+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,c,u,d,A,f,h,p,v,y,b,x,S,C,_,B,T,O=n.constructor,P=n.s==i.s?1:-1,F=n.d,U=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(wl+"Division by zero");for(l=n.e-i.e,B=U.length,C=F.length,f=new O(P),h=f.d=[],c=0;U[c]==(F[c]||0);)++c;if(U[c]>(F[c]||0)&&--l,o==null?b=o=O.precision:a?b=o+(ji(n)-ji(i))+1:b=o,b<0)return new O(0);if(b=b/Fn+2|0,c=0,B==1)for(u=0,U=U[0],b++;(c<C||u)&&b--;c++)x=u*oo+(F[c]||0),h[c]=x/U|0,u=x%U|0;else{for(u=oo/(U[0]+1)|0,u>1&&(U=e(U,u),F=e(F,u),B=U.length,C=F.length),S=B,p=F.slice(0,B),v=p.length;v<B;)p[v++]=0;T=U.slice(),T.unshift(0),_=U[0],U[1]>=oo/2&&++_;do u=0,s=t(U,p,B,v),s<0?(y=p[0],B!=v&&(y=y*oo+(p[1]||0)),u=y/_|0,u>1?(u>=oo&&(u=oo-1),d=e(U,u),A=d.length,v=p.length,s=t(d,p,A,v),s==1&&(u--,r(d,B<A?T:U,A))):(u==0&&(s=u=1),d=U.slice()),A=d.length,A<v&&d.unshift(0),r(p,d,v),s==-1&&(v=p.length,s=t(U,p,B,v),s<1&&(u++,r(p,B<v?T:U,v))),v=p.length):s===0&&(u++,p=[0]),h[c++]=u,s&&p[0]?p[v++]=F[S]||0:(p=[F[S]],v=1);while((S++<C||p[0]!==void 0)&&b--)}return h[0]||h.shift(),f.e=l,mn(f,a?o+ji(f)+1:o)}}();function LMe(e,t){var r,n,i,o,a,s,l=0,c=0,u=e.constructor,d=u.precision;if(ji(e)>16)throw Error(N6+ji(e));if(!e.s)return new u(ys);for(Wn=!1,s=d,a=new u(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(n=Math.log(th(2,c))/Math.LN10*2+5|0,s+=n,r=i=o=new u(ys),u.precision=s;;){if(i=mn(i.times(e),s),r=r.times(++l),a=o.plus(gd(i,r,s)),Gc(a.d).slice(0,s)===Gc(o.d).slice(0,s)){for(;c--;)o=mn(o.times(o),s);return u.precision=d,t==null?(Wn=!0,mn(o,d)):o}o=a}}function ji(e){for(var t=e.e*Fn,r=e.d[0];r>=10;r/=10)t++;return t}function JF(e,t,r){if(t>e.LN10.sd())throw Wn=!0,r&&(e.precision=r),Error(wl+"LN10 precision limit exceeded");return mn(new e(e.LN10),t)}function _A(e){for(var t="";e--;)t+="0";return t}function dw(e,t){var r,n,i,o,a,s,l,c,u,d=1,A=10,f=e,h=f.d,p=f.constructor,v=p.precision;if(f.s<1)throw Error(wl+(f.s?"NaN":"-Infinity"));if(f.eq(ys))return new p(0);if(t==null?(Wn=!1,c=v):c=t,f.eq(10))return t==null&&(Wn=!0),JF(p,c);if(c+=A,p.precision=c,r=Gc(h),n=r.charAt(0),o=ji(f),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=Gc(f.d),n=r.charAt(0),d++;o=ji(f),n>1?(f=new p("0."+r),o++):f=new p(n+"."+r.slice(1))}else return l=JF(p,c+2,v).times(o+""),f=dw(new p(n+"."+r.slice(1)),c-A).plus(l),p.precision=v,t==null?(Wn=!0,mn(f,v)):f;for(s=a=f=gd(f.minus(ys),f.plus(ys),c),u=mn(f.times(f),c),i=3;;){if(a=mn(a.times(u),c),l=s.plus(gd(a,new p(i),c)),Gc(l.d).slice(0,c)===Gc(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(JF(p,c+2,v).times(o+""))),s=gd(s,new p(d),c),p.precision=v,t==null?(Wn=!0,mn(s,v)):s;s=l,i+=2}}function GZ(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Jm(r/Fn),e.d=[],n=(r+1)%Fn,r<0&&(n+=Fn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Fn;n<i;)e.d.push(+t.slice(n,n+=Fn));t=t.slice(n),n=Fn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Wn&&(e.e>$_||e.e<-$_))throw Error(N6+r)}else e.s=0,e.e=0,e.d=[0];return e}function mn(e,t,r){var n,i,o,a,s,l,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(n=t-a,n<0)n+=Fn,i=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Fn),o=d.length,u>=o)return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;n%=Fn,i=n-Fn+a}if(r!==void 0&&(o=th(10,a-i-1),s=c/o%10|0,l=t<0||d[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/th(10,a-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=ji(e),d.length=1,t=t-o-1,d[0]=th(10,(Fn-t%Fn)%Fn),e.e=Jm(-t/Fn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=th(10,Fn-n),d[u]=i>0?(c/th(10,a-i)%th(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==oo&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=oo)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Wn&&(e.e>$_||e.e<-$_))throw Error(N6+ji(e));return e}function NMe(e,t){var r,n,i,o,a,s,l,c,u,d,A=e.constructor,f=A.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new A(e),Wn?mn(t,f):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),a=c-n,a){for(u=a<0,u?(r=l,a=-a,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(f/Fn),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=oo-1;--l[o],l[i]+=oo}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Wn?mn(t,f):t):new A(0)}function Th(e,t,r){var n,i=ji(e),o=Gc(e.d),a=o.length;return t?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+_A(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+_A(-i-1)+o,r&&(n=r-a)>0&&(o+=_A(n))):i>=a?(o+=_A(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+_A(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=_A(n))),e.s<0?"-"+o:o}function YZ(e,t){if(e.length>t)return e.length=t,!0}function $Me(e){var t,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(yh+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return GZ(a,o.toString())}else if(typeof o!="string")throw Error(yh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Cct.test(o))GZ(a,o);else throw Error(yh+o)}if(i.prototype=Tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$Me,i.config=i.set=_ct,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function _ct(e){if(!e||typeof e!="object")throw Error(wl+"Object expected");var t,r,n,i=["precision",1,Xm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Jm(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(yh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yh+r+": "+n);return this}var $6=$Me(Sct);ys=new $6(1);const nn=$6;function Ect(e){return Tct(e)||Pct(e)||Bct(e)||Ict()}function Ict(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bct(e,t){if(e){if(typeof e=="string")return wH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wH(e,t)}}function Pct(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Tct(e){if(Array.isArray(e))return wH(e)}function wH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oct=function(t){return t},QMe={},HMe=function(t){return t===QMe},XZ=function(t){return function r(){return arguments.length===0||arguments.length===1&&HMe(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Rct=function e(t,r){return t===1?r:XZ(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==QMe}).length;return a>=t?r.apply(void 0,i):e(t-a,XZ(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return HMe(d)?l.shift():d});return r.apply(void 0,Ect(u).concat(l))}))})},cB=function(t){return Rct(t.length,t)},bH=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Mct=cB(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Fct=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Oct;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},xH=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},qMe=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function kct(e){var t;return e===0?t=1:t=Math.floor(new nn(e).abs().log(10).toNumber())+1,t}function Uct(e,t,r){for(var n=new nn(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var Dct=cB(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),jct=cB(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Lct=cB(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const uB={rangeStep:Uct,getDigitCount:kct,interpolateNumber:Dct,uninterpolateNumber:jct,uninterpolateTruncation:Lct};function SH(e){return Qct(e)||$ct(e)||zMe(e)||Nct()}function Nct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ct(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Qct(e){if(Array.isArray(e))return CH(e)}function Aw(e,t){return zct(e)||qct(e,t)||zMe(e,t)||Hct()}function Hct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zMe(e,t){if(e){if(typeof e=="string")return CH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CH(e,t)}}function CH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qct(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function zct(e){if(Array.isArray(e))return e}function KMe(e){var t=Aw(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function WMe(e,t,r){if(e.lte(0))return new nn(0);var n=uB.getDigitCount(e.toNumber()),i=new nn(10).pow(n),o=e.div(i),a=n!==1?.05:.1,s=new nn(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return t?l:new nn(Math.ceil(l))}function Kct(e,t,r){var n=1,i=new nn(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new nn(10).pow(uB.getDigitCount(e)-1),i=new nn(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new nn(Math.floor(e)))}else e===0?i=new nn(Math.floor((t-1)/2)):r||(i=new nn(Math.floor(e)));var a=Math.floor((t-1)/2),s=Fct(Mct(function(l){return i.add(new nn(l-a).mul(n)).toNumber()}),bH);return s(0,t)}function VMe(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nn(0),tickMin:new nn(0),tickMax:new nn(0)};var o=WMe(new nn(t).sub(e).div(r-1),n,i),a;e<=0&&t>=0?a=new nn(0):(a=new nn(e).add(t).div(2),a=a.sub(new nn(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new nn(t).sub(a).div(o).toNumber()),c=s+l+1;return c>r?VMe(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:a.sub(new nn(s).mul(o)),tickMax:a.add(new nn(l).mul(o))})}function Wct(e){var t=Aw(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=KMe([r,n]),l=Aw(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(SH(bH(0,i-1).map(function(){return 1/0}))):[].concat(SH(bH(0,i-1).map(function(){return-1/0})),[u]);return r>n?xH(d):d}if(c===u)return Kct(c,i,o);var A=VMe(c,u,a,o),f=A.step,h=A.tickMin,p=A.tickMax,v=uB.rangeStep(h,p.add(new nn(.1).mul(f)),f);return r>n?xH(v):v}function Vct(e,t){var r=Aw(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=KMe([n,i]),s=Aw(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(t,2),d=WMe(new nn(c).sub(l).div(u-1),o,0),A=[].concat(SH(uB.rangeStep(new nn(l),new nn(c).sub(new nn(.99).mul(d)),d)),[c]);return n>i?xH(A):A}var Gct=qMe(Wct),Yct=qMe(Vct),Xct="Invariant failed";function Oh(e,t){throw new Error(Xct)}var Jct=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q_.apply(this,arguments)}function Zct(e,t){return nut(e)||rut(e,t)||tut(e,t)||eut()}function eut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tut(e,t){if(e){if(typeof e=="string")return JZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JZ(e,t)}}function JZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rut(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function nut(e){if(Array.isArray(e))return e}function iut(e,t){if(e==null)return{};var r=out(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function out(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XMe(n.key),n)}}function lut(e,t,r){return t&&sut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cut(e,t,r){return t=H_(t),uut(e,GMe()?Reflect.construct(t,r||[],H_(e).constructor):t.apply(e,r))}function uut(e,t){if(t&&(lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dut(e)}function dut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GMe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GMe=function(){return!!e})()}function H_(e){return H_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H_(e)}function Aut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_H(e,t)}function _H(e,t){return _H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_H(e,t)}function YMe(e,t,r){return t=XMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XMe(e){var t=fut(e,"string");return lm(t)=="symbol"?t:t+""}function fut(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pb=function(e){function t(){return aut(this,t),cut(this,t,arguments)}return Aut(t,e),lut(t,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,A=iut(n,Jct),f=Dr(A,!1);this.props.direction==="x"&&u.type!=="number"&&Oh();var h=l.map(function(p){var v=c(p,s),y=v.x,b=v.y,x=v.value,S=v.errorVal;if(!S)return null;var C=[],_,B;if(Array.isArray(S)){var T=Zct(S,2);_=T[0],B=T[1]}else _=B=S;if(o==="vertical"){var O=u.scale,P=b+i,F=P+a,U=P-a,k=O(x-_),M=O(x+B);C.push({x1:M,y1:F,x2:M,y2:U}),C.push({x1:k,y1:P,x2:M,y2:P}),C.push({x1:k,y1:F,x2:k,y2:U})}else if(o==="horizontal"){var D=d.scale,j=y+i,$=j-a,Q=j+a,H=D(x-_),W=D(x+B);C.push({x1:$,y1:W,x2:Q,y2:W}),C.push({x1:j,y1:H,x2:j,y2:W}),C.push({x1:$,y1:H,x2:Q,y2:H})}return ue.createElement(ei,Q_({className:"recharts-errorBar",key:"bar-".concat(C.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},f),C.map(function(z){return ue.createElement("line",Q_({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return ue.createElement(ei,{className:"recharts-errorBars"},h)}}])}(ue.Component);YMe(Pb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YMe(Pb,"displayName","ErrorBar");function fw(e){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fw(e)}function ZZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZZ(Object(r),!0).forEach(function(n){hut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hut(e,t,r){return t=put(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function put(e){var t=gut(e,"string");return fw(t)=="symbol"?t:t+""}function gut(e,t){if(fw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JMe=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=gs(r,mh);if(!a)return null;var s=mh.defaultProps,l=s!==void 0?Gf(Gf({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(n||[]).reduce(function(u,d){var A=d.item,f=d.props,h=f.sectors||f.data||[];return u.concat(h.map(function(p){return{type:a.props.iconType||A.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(n||[]).map(function(u){var d=u.item,A=d.type.defaultProps,f=A!==void 0?Gf(Gf({},A),d.props):{},h=f.dataKey,p=f.name,v=f.legendType,y=f.hide;return{inactive:y,dataKey:h,type:l.iconType||v||"square",color:Q6(d),value:p||h,payload:f}}),Gf(Gf(Gf({},l),mh.getWithHeight(a,i)),{},{payload:c,item:a})};function hw(e){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hw(e)}function eee(e){return wut(e)||yut(e)||vut(e)||mut()}function mut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vut(e,t){if(e){if(typeof e=="string")return EH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EH(e,t)}}function yut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wut(e){if(Array.isArray(e))return EH(e)}function EH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tee(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $g(e,t,r){return t=but(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function but(e){var t=xut(e,"string");return hw(t)=="symbol"?t:t+""}function xut(e,t){if(hw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(e,t,r){return yr(e)||yr(t)?r:zi(t)?gl(e,t,r):mr(t)?t(e):r}function C0(e,t,r,n){var i=wct(e,function(s){return Ba(s,t)});if(r==="number"){var o=i.filter(function(s){return mt(s)||parseFloat(s)});return o.length?[sB(o),aB(o)]:[1/0,-1/0]}var a=n?i.filter(function(s){return!yr(s)}):i;return a.map(function(s){return zi(s)||s instanceof Date?s:""})}var Sut=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,A=c>=s-1?i[0].coordinate:i[c+1].coordinate,f=void 0;if(ec(d-u)!==ec(A-d)){var h=[];if(ec(A-d)===ec(l[1]-l[0])){f=A;var p=d+l[1]-l[0];h[0]=Math.min(p,(p+u)/2),h[1]=Math.max(p,(p+u)/2)}else{f=u;var v=A+l[1]-l[0];h[0]=Math.min(d,(v+d)/2),h[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>y[0]&&t<=y[1]||t>=h[0]&&t<=h[1]){a=i[c].index;break}}else{var b=Math.min(u,A),x=Math.max(u,A);if(t>(b+d)/2&&t<=(x+d)/2){a=i[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){a=n[S].index;break}return a},Q6=function(t){var r,n=t,i=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?di(di({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Cut=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,d=Object.keys(u),A=0,f=d.length;A<f;A++){var h=u[d[A]],p=h.items,v=h.cateAxisId,y=p.filter(function(B){return hd(B.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?di(di({},b),y[0].props):y[0].props,S=x.barSize,C=x[v];a[C]||(a[C]=[]);var _=yr(S)?r:S;a[C].push({item:y[0],stackList:y.slice(1),barSize:yr(_)?void 0:Bh(_,n,0)})}}return a},_ut=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var c=Bh(r,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var A=!1,f=i/l,h=a.reduce(function(S,C){return S+C.barSize||0},0);h+=(l-1)*c,h>=i&&(h-=(l-1)*c,c=0),h>=i&&f>0&&(A=!0,f*=.9,h=l*f);var p=(i-h)/2>>0,v={offset:p-c,size:0};u=a.reduce(function(S,C){var _={item:C.item,position:{offset:v.offset+v.size+c,size:A?f:C.barSize}},B=[].concat(eee(S),[_]);return v=B[B.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){B.push({item:T,position:v})}),B},d)}else{var y=Bh(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;u=a.reduce(function(S,C,_){var B=[].concat(eee(S),[{item:C.item,position:{offset:y+(b+c)*_+(b-x)/2,size:x}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){B.push({item:T,position:B[B.length-1].position})}),B},d)}return u},Eut=function(t,r,n,i){var o=n.children,a=n.width,s=n.margin,l=a-(s.left||0)-(s.right||0),c=JMe({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,A=u.height,f=c.align,h=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&h==="middle")&&f!=="center"&&mt(t[f]))return di(di({},t),{},$g({},f,t[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&h!=="middle"&&mt(t[h]))return di(di({},t),{},$g({},h,t[h]+(A||0)))}return t},Iut=function(t,r,n){return yr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ZMe=function(t,r,n,i,o){var a=r.props.children,s=Cs(a,Pb).filter(function(c){return Iut(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=Ba(u,n);if(yr(d))return c;var A=Array.isArray(d)?[sB(d),aB(d)]:[d,d],f=l.reduce(function(h,p){var v=Ba(u,p,0),y=A[0]-Math.abs(Array.isArray(v)?v[0]:v),b=A[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,h[0]),Math.max(b,h[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},But=function(t,r,n,i,o){var a=r.map(function(s){return ZMe(t,s,n,o,i)}).filter(function(s){return!yr(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},e2e=function(t,r,n,i,o){var a=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&ZMe(t,l,c,i)||C0(t,c,n,o)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},t2e=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},r2e=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(a=!0),l.coordinate});return o||s.push(r),a||s.push(n),s},sd=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ec(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var A=o?o.indexOf(d):d;return{coordinate:i(A)+c,value:d,offset:c}});return u.filter(function(d){return!xb(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,A){return{coordinate:i(d)+c,value:d,index:A,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,A){return{coordinate:i(d)+c,value:o?o[d]:d,index:A,offset:c}})},ZF=new WeakMap,HS=function(t,r){if(typeof r!="function")return t;ZF.has(t)||ZF.set(t,new WeakMap);var n=ZF.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Put=function(t,r,n){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:sw(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:D_(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:S0(),realScaleType:"point"}:o==="category"?{scale:sw(),realScaleType:"band"}:{scale:D_(),realScaleType:"linear"};if(bb(i)){var l="scale".concat(KI(i));return{scale:(NZ[l]||S0)(),realScaleType:NZ[l]?l:"point"}}return mr(i)?{scale:i}:{scale:S0(),realScaleType:"point"}},ree=1e-4,Tut=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-ree,a=Math.max(i[0],i[1])+ree,s=t(r[0]),l=t(r[n-1]);(s<o||s>a||l<o||l>a)&&t.domain([r[0],r[n-1]])}},Out=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Rut=function(t,r){if(!r||r.length!==2||!mt(r[0])||!mt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!mt(t[0])||t[0]<n)&&(o[0]=n),(!mt(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},Mut=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,a=0,s=0;s<r;++s){var l=xb(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1])}},Fut=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var s=xb(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=o,t[a][n][1]=o+s,o=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},kut={sign:Mut,expand:dnt,none:em,silhouette:Ant,wiggle:fnt,positive:Fut},Uut=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),o=kut[n],a=unt().keys(i).value(function(s,l){return+Ba(s,l,0)}).order(tH).offset(o);return a(t)},Dut=function(t,r,n,i,o,a){if(!t)return null;var s=a?r.reverse():r,l={},c=s.reduce(function(d,A){var f,h=(f=A.type)!==null&&f!==void 0&&f.defaultProps?di(di({},A.type.defaultProps),A.props):A.props,p=h.stackId,v=h.hide;if(v)return d;var y=h[n],b=d[y]||{hasStack:!1,stackGroups:{}};if(zi(p)){var x=b.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(A),b.hasStack=!0,b.stackGroups[p]=x}else b.stackGroups[Sb("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[A]};return di(di({},d),{},$g({},y,b))},l),u={};return Object.keys(c).reduce(function(d,A){var f=c[A];if(f.hasStack){var h={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,v){var y=f.stackGroups[v];return di(di({},p),{},$g({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:Uut(t,y.items,o)}))},h)}return di(di({},d),{},$g({},A,f))},u)},jut=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=Gct(c,o,s);return t.domain([sB(u),aB(u)]),{niceTicks:u}}if(o&&i==="number"){var d=t.domain(),A=Yct(d,o,s);return{niceTicks:A}}return null};function nee(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yr(i[t.dataKey])){var s=v_(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Ba(i,yr(a)?t.dataKey:a);return yr(l)?null:t.scale(l)}var iee=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Ba(a,r.dataKey,r.domain[s]);return yr(l)?null:r.scale(l)-o/2+i},Lut=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},Nut=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?di(di({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(zi(o)){var a=r[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},$ut=function(t){return t.reduce(function(r,n){return[sB(n.concat([r[0]]).filter(mt)),aB(n.concat([r[1]]).filter(mt))]},[1/0,-1/0])},n2e=function(t,r,n){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(c,u){var d=$ut(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},oee=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aee=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IH=function(t,r,n){if(mr(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(mt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(oee.test(t[0])){var o=+oee.exec(t[0])[1];i[0]=r[0]-o}else mr(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(mt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(aee.test(t[1])){var a=+aee.exec(t[1])[1];i[1]=r[1]+a}else mr(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},q_=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=h6(r,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},see=function(t,r,n){return!t||!t.length||lB(t,gl(n,"type.defaultProps.domain"))?r:t},i2e=function(t,r){var n=t.type.defaultProps?di(di({},t.type.defaultProps),t.props):t.props,i=n.dataKey,o=n.name,a=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return di(di({},Dr(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Q6(t),value:Ba(r,i),type:l,payload:r,chartType:c,hide:u})};function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}function lee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lee(Object(r),!0).forEach(function(n){Qut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qut(e,t,r){return t=Hut(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hut(e){var t=qut(e,"string");return pw(t)=="symbol"?t:t+""}function qut(e,t){if(pw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z_=Math.PI/180,zut=function(t){return t*180/Math.PI},Eo=function(t,r,n,i){return{x:t+Math.cos(-z_*i)*n,y:r+Math.sin(-z_*i)*n}},Kut=function(t,r){var n=t.x,i=t.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},Wut=function(t,r){var n=t.x,i=t.y,o=r.cx,a=r.cy,s=Kut({x:n,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:zut(c),angleInRadian:c}},Vut=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},Gut=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},uee=function(t,r){var n=t.x,i=t.y,o=Wut({x:n,y:i},r),a=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=Vut(r),d=u.startAngle,A=u.endAngle,f=s,h;if(d<=A){for(;f>A;)f-=360;for(;f<d;)f+=360;h=f>=d&&f<=A}else{for(;f>d;)f-=360;for(;f<A;)f+=360;h=f>=A&&f<=d}return h?cee(cee({},r),{},{radius:a,angle:Gut(f,r)}):null};function gw(e){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}var Yut=["offset"];function Xut(e){return tdt(e)||edt(e)||Zut(e)||Jut()}function Jut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zut(e,t){if(e){if(typeof e=="string")return BH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BH(e,t)}}function edt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tdt(e){if(Array.isArray(e))return BH(e)}function BH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rdt(e,t){if(e==null)return{};var r=ndt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ndt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dee(Object(r),!0).forEach(function(n){idt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function idt(e,t,r){return t=odt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function odt(e){var t=adt(e,"string");return gw(t)=="symbol"?t:t+""}function adt(e,t){if(gw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(this,arguments)}var sdt=function(t){var r=t.value,n=t.formatter,i=yr(t.children)?r:t.children;return mr(n)?n(i):i},ldt=function(t,r){var n=ec(r-t),i=Math.min(Math.abs(r-t),360);return n*i},cdt=function(t,r,n){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,A=l.outerRadius,f=l.startAngle,h=l.endAngle,p=l.clockWise,v=(d+A)/2,y=ldt(f,h),b=y>=0?1:-1,x,S;i==="insideStart"?(x=f+b*a,S=p):i==="insideEnd"?(x=h-b*a,S=!p):i==="end"&&(x=h+b*a,S=p),S=y<=0?S:!S;var C=Eo(c,u,v,x),_=Eo(c,u,v,x+(S?1:-1)*359),B="M".concat(C.x,",").concat(C.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),T=yr(t.id)?Sb("recharts-radial-line-"):t.id;return ue.createElement("text",mw({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",s)}),ue.createElement("defs",null,ue.createElement("path",{id:T,d:B})),ue.createElement("textPath",{xlinkHref:"#".concat(T)},r))},udt=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,A=(u+d)/2;if(i==="outside"){var f=Eo(a,s,c+n,A),h=f.x,p=f.y;return{x:h,y:p,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Eo(a,s,v,A),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},ddt=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,a=r,s=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,A=d*i,f=d>0?"end":"start",h=d>0?"start":"end",p=c>=0?1:-1,v=p*i,y=p>0?"end":"start",b=p>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:f};return Hi(Hi({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+u+A,textAnchor:"middle",verticalAnchor:h};return Hi(Hi({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var C={x:s-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Hi(Hi({},C),n?{width:Math.max(C.x-n.x,0),height:u}:{})}if(o==="right"){var _={x:s+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Hi(Hi({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:u}:{})}var B=n?{width:c,height:u}:{};return o==="insideLeft"?Hi({x:s+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},B):o==="insideRight"?Hi({x:s+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},B):o==="insideTop"?Hi({x:s+c/2,y:l+A,textAnchor:"middle",verticalAnchor:h},B):o==="insideBottom"?Hi({x:s+c/2,y:l+u-A,textAnchor:"middle",verticalAnchor:f},B):o==="insideTopLeft"?Hi({x:s+v,y:l+A,textAnchor:b,verticalAnchor:h},B):o==="insideTopRight"?Hi({x:s+c-v,y:l+A,textAnchor:y,verticalAnchor:h},B):o==="insideBottomLeft"?Hi({x:s+v,y:l+u-A,textAnchor:b,verticalAnchor:f},B):o==="insideBottomRight"?Hi({x:s+c-v,y:l+u-A,textAnchor:y,verticalAnchor:f},B):Wm(o)&&(mt(o.x)||ch(o.x))&&(mt(o.y)||ch(o.y))?Hi({x:s+Bh(o.x,c),y:l+Bh(o.y,u),textAnchor:"end",verticalAnchor:"end"},B):Hi({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Adt=function(t){return"cx"in t&&mt(t.cx)};function Zo(e){var t=e.offset,r=t===void 0?5:t,n=rdt(e,Yut),i=Hi({offset:r},n),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,A=i.textBreakAll;if(!o||yr(s)&&yr(l)&&!I.isValidElement(c)&&!mr(c))return null;if(I.isValidElement(c))return I.cloneElement(c,i);var f;if(mr(c)){if(f=I.createElement(c,i),I.isValidElement(f))return f}else f=sdt(i);var h=Adt(o),p=Dr(i,!0);if(h&&(a==="insideStart"||a==="insideEnd"||a==="end"))return cdt(i,f,p);var v=h?udt(i):ddt(i);return ue.createElement(T_,mw({className:ut("recharts-label",d)},p,v,{breakAll:A}),f)}Zo.displayName="Label";var o2e=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,A=t.y,f=t.top,h=t.left,p=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(mt(p)&&mt(v)){if(mt(d)&&mt(A))return{x:d,y:A,width:p,height:v};if(mt(f)&&mt(h))return{x:f,y:h,width:p,height:v}}return mt(d)&&mt(A)?{x:d,y:A,width:0,height:0}:mt(r)&&mt(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},fdt=function(t,r){return t?t===!0?ue.createElement(Zo,{key:"label-implicit",viewBox:r}):zi(t)?ue.createElement(Zo,{key:"label-implicit",viewBox:r,value:t}):I.isValidElement(t)?t.type===Zo?I.cloneElement(t,{key:"label-implicit",viewBox:r}):ue.createElement(Zo,{key:"label-implicit",content:t,viewBox:r}):mr(t)?ue.createElement(Zo,{key:"label-implicit",content:t,viewBox:r}):Wm(t)?ue.createElement(Zo,mw({viewBox:r},t,{key:"label-implicit"})):null:null},hdt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=o2e(t),a=Cs(i,Zo).map(function(l,c){return I.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return a;var s=fdt(t.label,r||o);return[s].concat(Xut(a))};Zo.parseViewBox=o2e;Zo.renderCallByParent=hdt;var ek,Aee;function pdt(){if(Aee)return ek;Aee=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return ek=e,ek}var gdt=pdt();const mdt=kr(gdt);function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}var vdt=["valueAccessor"],ydt=["data","dataKey","clockWise","id","textBreakAll"];function wdt(e){return Cdt(e)||Sdt(e)||xdt(e)||bdt()}function bdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xdt(e,t){if(e){if(typeof e=="string")return PH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PH(e,t)}}function Sdt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cdt(e){if(Array.isArray(e))return PH(e)}function PH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K_.apply(this,arguments)}function fee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fee(Object(r),!0).forEach(function(n){_dt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _dt(e,t,r){return t=Edt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Edt(e){var t=Idt(e,"string");return vw(t)=="symbol"?t:t+""}function Idt(e,t){if(vw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pee(e,t){if(e==null)return{};var r=Bdt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bdt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pdt=function(t){return Array.isArray(t.value)?mdt(t.value):t.value};function $A(e){var t=e.valueAccessor,r=t===void 0?Pdt:t,n=pee(e,vdt),i=n.data,o=n.dataKey,a=n.clockWise,s=n.id,l=n.textBreakAll,c=pee(n,ydt);return!i||!i.length?null:ue.createElement(ei,{className:"recharts-label-list"},i.map(function(u,d){var A=yr(o)?r(u,d):Ba(u&&u.payload,o),f=yr(s)?{}:{id:"".concat(s,"-").concat(d)};return ue.createElement(Zo,K_({},Dr(u,!0),c,f,{parentViewBox:u.parentViewBox,value:A,textBreakAll:l,viewBox:Zo.parseViewBox(yr(a)?u:hee(hee({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}$A.displayName="LabelList";function Tdt(e,t){return e?e===!0?ue.createElement($A,{key:"labelList-implicit",data:t}):ue.isValidElement(e)||mr(e)?ue.createElement($A,{key:"labelList-implicit",data:t,content:e}):Wm(e)?ue.createElement($A,K_({data:t},e,{key:"labelList-implicit"})):null:null}function Odt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Cs(n,$A).map(function(a,s){return I.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var o=Tdt(e.label,t);return[o].concat(wdt(i))}$A.renderCallByParent=Odt;function yw(e){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yw(e)}function TH(){return TH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TH.apply(this,arguments)}function gee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gee(Object(r),!0).forEach(function(n){Rdt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rdt(e,t,r){return t=Mdt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mdt(e){var t=Fdt(e,"string");return yw(t)=="symbol"?t:t+""}function Fdt(e,t){if(yw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kdt=function(t,r){var n=ec(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},qS=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/z_,A=c?o:o+a*d,f=Eo(r,n,u,A),h=Eo(r,n,i,A),p=c?o-a*d:o,v=Eo(r,n,u*Math.cos(d*z_),p);return{center:f,circleTangency:h,lineTangency:v,theta:d}},a2e=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=kdt(a,s),c=a+l,u=Eo(r,n,o,a),d=Eo(r,n,o,c),A="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=Eo(r,n,i,a),h=Eo(r,n,i,c);A+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else A+="L ".concat(r,",").concat(n," Z");return A},Udt=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=ec(u-c),A=qS({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),f=A.circleTangency,h=A.lineTangency,p=A.theta,v=qS({cx:r,cy:n,radius:o,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,x=v.theta,S=l?Math.abs(c-u):Math.abs(c-u)-p-x;if(S<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):a2e({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var C="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var _=qS({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),B=_.circleTangency,T=_.lineTangency,O=_.theta,P=qS({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),F=P.circleTangency,U=P.lineTangency,k=P.theta,M=l?Math.abs(c-u):Math.abs(c-u)-O-k;if(M<0&&a===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},Ddt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s2e=function(t){var r=mee(mee({},Ddt),t),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,A=r.className;if(a<o||u===d)return null;var f=ut("recharts-sector",A),h=a-o,p=Bh(s,h,0,!0),v;return p>0&&Math.abs(u-d)<360?v=Udt({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(p,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=a2e({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),ue.createElement("path",TH({},Dr(r,!0),{className:f,d:v,role:"img"}))};function ww(e){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ww(e)}function OH(){return OH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OH.apply(this,arguments)}function vee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vee(Object(r),!0).forEach(function(n){jdt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jdt(e,t,r){return t=Ldt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ldt(e){var t=Ndt(e,"string");return ww(t)=="symbol"?t:t+""}function Ndt(e,t){if(ww(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ww(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wee={curveBasisClosed:Zrt,curveBasisOpen:ent,curveBasis:Jrt,curveBumpX:jrt,curveBumpY:Lrt,curveLinearClosed:tnt,curveLinear:VI,curveMonotoneX:rnt,curveMonotoneY:nnt,curveNatural:int,curveStep:ont,curveStepAfter:snt,curveStepBefore:ant},zS=function(t){return t.x===+t.x&&t.y===+t.y},by=function(t){return t.x},xy=function(t){return t.y},$dt=function(t,r){if(mr(t))return t;var n="curve".concat(KI(t));return(n==="curveMonotone"||n==="curveBump")&&r?wee["".concat(n).concat(r==="vertical"?"Y":"X")]:wee[n]||VI},Qdt=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=$dt(n,s),d=c?o.filter(function(p){return zS(p)}):o,A;if(Array.isArray(a)){var f=c?a.filter(function(p){return zS(p)}):a,h=d.map(function(p,v){return yee(yee({},p),{},{base:f[v]})});return s==="vertical"?A=kS().y(xy).x1(by).x0(function(p){return p.base.x}):A=kS().x(by).y1(xy).y0(function(p){return p.base.y}),A.defined(zS).curve(u),A(h)}return s==="vertical"&&mt(a)?A=kS().y(xy).x1(by).x0(a):mt(a)?A=kS().x(by).y1(xy).y0(a):A=cRe().x(by).y(xy),A.defined(zS).curve(u),A(d)},RH=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Qdt(t):i;return ue.createElement("path",OH({},Dr(t,!1),y_(t),{className:ut("recharts-curve",r),d:a,ref:o}))},Hdt=Object.getOwnPropertyNames,qdt=Object.getOwnPropertySymbols,zdt=Object.prototype.hasOwnProperty;function bee(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function KS(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var o=i.cache,a=o.get(r),s=o.get(n);if(a&&s)return a===n&&s===r;o.set(r,n),o.set(n,r);var l=e(r,n,i);return o.delete(r),o.delete(n),l}}function xee(e){return Hdt(e).concat(qdt(e))}var Kdt=Object.hasOwn||function(e,t){return zdt.call(e,t)};function Jh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Wdt="__v",Vdt="__o",Gdt="_owner",See=Object.getOwnPropertyDescriptor,Cee=Object.keys;function Ydt(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Xdt(e,t){return Jh(e.getTime(),t.getTime())}function Jdt(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Zdt(e,t){return e===t}function _ee(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),o=e.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var A=a.value,f=s.value;if(r.equals(A[0],f[0],l,d,e,t,r)&&r.equals(A[1],f[1],A[0],f[0],e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var eAt=Jh;function tAt(e,t,r){var n=Cee(e),i=n.length;if(Cee(t).length!==i)return!1;for(;i-- >0;)if(!l2e(e,t,r,n[i]))return!1;return!0}function Sy(e,t,r){var n=xee(e),i=n.length;if(xee(t).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=n[i],!l2e(e,t,r,o)||(a=See(e,o),s=See(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function rAt(e,t){return Jh(e.valueOf(),t.valueOf())}function nAt(e,t){return e.source===t.source&&e.flags===t.flags}function Eee(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),o=e.values(),a,s;(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(a.value,s.value,a.value,s.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function iAt(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function oAt(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function l2e(e,t,r,n){return(n===Gdt||n===Vdt||n===Wdt)&&(e.$$typeof||t.$$typeof)?!0:Kdt(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var aAt="[object Arguments]",sAt="[object Boolean]",lAt="[object Date]",cAt="[object Error]",uAt="[object Map]",dAt="[object Number]",AAt="[object Object]",fAt="[object RegExp]",hAt="[object Set]",pAt="[object String]",gAt="[object URL]",mAt=Array.isArray,Iee=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Bee=Object.assign,vAt=Object.prototype.toString.call.bind(Object.prototype.toString);function yAt(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,A=e.areUrlsEqual;return function(h,p,v){if(h===p)return!0;if(h==null||p==null)return!1;var y=typeof h;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?a(h,p,v):y==="function"?i(h,p,v):!1;var b=h.constructor;if(b!==p.constructor)return!1;if(b===Object)return s(h,p,v);if(mAt(h))return t(h,p,v);if(Iee!=null&&Iee(h))return d(h,p,v);if(b===Date)return r(h,p,v);if(b===RegExp)return c(h,p,v);if(b===Map)return o(h,p,v);if(b===Set)return u(h,p,v);var x=vAt(h);return x===lAt?r(h,p,v):x===fAt?c(h,p,v):x===uAt?o(h,p,v):x===hAt?u(h,p,v):x===AAt?typeof h.then!="function"&&typeof p.then!="function"&&s(h,p,v):x===gAt?A(h,p,v):x===cAt?n(h,p,v):x===aAt?s(h,p,v):x===sAt||x===dAt||x===pAt?l(h,p,v):!1}}function wAt(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Sy:Ydt,areDatesEqual:Xdt,areErrorsEqual:Jdt,areFunctionsEqual:Zdt,areMapsEqual:n?bee(_ee,Sy):_ee,areNumbersEqual:eAt,areObjectsEqual:n?Sy:tAt,arePrimitiveWrappersEqual:rAt,areRegExpsEqual:nAt,areSetsEqual:n?bee(Eee,Sy):Eee,areTypedArraysEqual:n?Sy:iAt,areUrlsEqual:oAt};if(r&&(i=Bee({},i,r(i))),t){var o=KS(i.areArraysEqual),a=KS(i.areMapsEqual),s=KS(i.areObjectsEqual),l=KS(i.areSetsEqual);i=Bee({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function bAt(e){return function(t,r,n,i,o,a,s){return e(t,r,s)}}function xAt(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,o=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,A=d===void 0?t?new WeakMap:void 0:d,f=u.meta;return r(l,c,{cache:A,equals:i,meta:f,strict:o})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return r(l,c,a)}}var SAt=Af();Af({strict:!0});Af({circular:!0});Af({circular:!0,strict:!0});Af({createInternalComparator:function(){return Jh}});Af({strict:!0,createInternalComparator:function(){return Jh}});Af({circular:!0,createInternalComparator:function(){return Jh}});Af({circular:!0,createInternalComparator:function(){return Jh},strict:!0});function Af(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,o=e.strict,a=o===void 0?!1:o,s=wAt(e),l=yAt(s),c=n?n(l):bAt(l);return xAt({circular:r,comparator:l,createState:i,equals:c,strict:a})}function CAt(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Pee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):CAt(i)};requestAnimationFrame(n)}function MH(e){"@babel/helpers - typeof";return MH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MH(e)}function _At(e){return PAt(e)||BAt(e)||IAt(e)||EAt()}function EAt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IAt(e,t){if(e){if(typeof e=="string")return Tee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tee(e,t)}}function Tee(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BAt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PAt(e){if(Array.isArray(e))return e}function TAt(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,s=_At(a),l=s[0],c=s.slice(1);if(typeof l=="number"){Pee(i.bind(null,c),l);return}i(l),Pee(i.bind(null,c));return}MH(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function bw(e){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bw(e)}function Oee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ree(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oee(Object(r),!0).forEach(function(n){c2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c2e(e,t,r){return t=OAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAt(e){var t=RAt(e,"string");return bw(t)==="symbol"?t:String(t)}function RAt(e,t){if(bw(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MAt=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},FAt=function(t){return t},kAt=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_0=function(t,r){return Object.keys(r).reduce(function(n,i){return Ree(Ree({},n),{},c2e({},i,t(i,r[i])))},{})},Mee=function(t,r,n){return t.map(function(i){return"".concat(kAt(i)," ").concat(r,"ms ").concat(n)}).join(",")};function UAt(e,t){return LAt(e)||jAt(e,t)||u2e(e,t)||DAt()}function DAt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jAt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function LAt(e){if(Array.isArray(e))return e}function NAt(e){return HAt(e)||QAt(e)||u2e(e)||$At()}function $At(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u2e(e,t){if(e){if(typeof e=="string")return FH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FH(e,t)}}function QAt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HAt(e){if(Array.isArray(e))return FH(e)}function FH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W_=1e-4,d2e=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},A2e=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Fee=function(t,r){return function(n){var i=d2e(t,r);return A2e(i,n)}},qAt=function(t,r){return function(n){var i=d2e(t,r),o=[].concat(NAt(i.map(function(a,s){return a*s}).slice(1)),[0]);return A2e(o,n)}},kee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=UAt(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var d=Fee(i,a),A=Fee(o,s),f=qAt(i,a),h=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,x=b,S=0;S<8;++S){var C=d(x)-b,_=f(x);if(Math.abs(C-b)<W_||_<W_)return A(x);x=h(x-C/_)}return A(x)};return p.isStepper=!1,p},zAt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(u,d,A){var f=-(u-d)*n,h=A*o,p=A+(f-h)*s/1e3,v=A*s/1e3+u;return Math.abs(v-d)<W_&&Math.abs(p)<W_?[d,0]:[v,p]};return l.isStepper=!0,l.dt=s,l},KAt=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kee(i);case"spring":return zAt();default:if(i.split("(")[0]==="cubic-bezier")return kee(i)}return typeof i=="function"?i:null};function xw(e){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xw(e)}function Uee(e){return GAt(e)||VAt(e)||f2e(e)||WAt()}function WAt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VAt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GAt(e){if(Array.isArray(e))return UH(e)}function Dee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dee(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return t=YAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YAt(e){var t=XAt(e,"string");return xw(t)==="symbol"?t:String(t)}function XAt(e,t){if(xw(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JAt(e,t){return tft(e)||eft(e,t)||f2e(e,t)||ZAt()}function ZAt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f2e(e,t){if(e){if(typeof e=="string")return UH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UH(e,t)}}function UH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eft(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function tft(e){if(Array.isArray(e))return e}var V_=function(t,r,n){return t+(r-t)*n},DH=function(t){var r=t.from,n=t.to;return r!==n},rft=function e(t,r,n){var i=_0(function(o,a){if(DH(a)){var s=t(a.from,a.to,a.velocity),l=JAt(s,2),c=l[0],u=l[1];return mo(mo({},a),{},{from:c,velocity:u})}return a},r);return n<1?_0(function(o,a){return DH(a)?mo(mo({},a),{},{velocity:V_(a.velocity,i[o].velocity,n),from:V_(a.from,i[o].from,n)}):a},r):e(t,i,n-1)};const nft=function(e,t,r,n,i){var o=MAt(e,t),a=o.reduce(function(v,y){return mo(mo({},v),{},kH({},y,[e[y],t[y]]))},{}),s=o.reduce(function(v,y){return mo(mo({},v),{},kH({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},A=function(){return _0(function(y,b){return b.from},s)},f=function(){return!Object.values(s).filter(DH).length},h=function(y){c||(c=y);var b=y-c,x=b/r.dt;s=rft(r,s,x),i(mo(mo(mo({},e),t),A())),c=y,f()||(l=requestAnimationFrame(d))},p=function(y){u||(u=y);var b=(y-u)/n,x=_0(function(C,_){return V_.apply(void 0,Uee(_).concat([r(b)]))},a);if(i(mo(mo(mo({},e),t),x)),b<1)l=requestAnimationFrame(d);else{var S=_0(function(C,_){return V_.apply(void 0,Uee(_).concat([r(1)]))},a);i(mo(mo(mo({},e),t),S))}};return d=r.isStepper?h:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}var ift=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function oft(e,t){if(e==null)return{};var r=aft(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aft(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function tk(e){return uft(e)||cft(e)||lft(e)||sft()}function sft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lft(e,t){if(e){if(typeof e=="string")return jH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jH(e,t)}}function cft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uft(e){if(Array.isArray(e))return jH(e)}function jH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jee(Object(r),!0).forEach(function(n){Jy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jy(e,t,r){return t=h2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h2e(n.key),n)}}function fft(e,t,r){return t&&Aft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h2e(e){var t=hft(e,"string");return cm(t)==="symbol"?t:String(t)}function hft(e,t){if(cm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LH(e,t)}function LH(e,t){return LH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LH(e,t)}function gft(e){var t=mft();return function(){var n=G_(e),i;if(t){var o=G_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return NH(this,i)}}function NH(e,t){if(t&&(cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $H(e)}function $H(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mft(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G_(e){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G_(e)}var Td=function(e){pft(r,e);var t=gft(r);function r(n,i){var o;dft(this,r),o=t.call(this,n,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,A=a.children,f=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind($H(o)),o.changeStyle=o.changeStyle.bind($H(o)),!s||f<=0)return o.state={style:{}},typeof A=="function"&&(o.state={style:u}),NH(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof A=="function")return o.state={style:c},NH(o);o.state={style:l?Jy({},l,c):c}}else o.state={style:{}};return o}return fft(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,A=this.state.style;if(s){if(!a){var f={style:l?Jy({},l,u):u};this.state&&A&&(l&&A[l]!==u||!l&&A!==u)&&this.setState(f);return}if(!(SAt(i.to,u)&&i.canBegin&&i.isActive)){var h=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=h||c?d:i.to;if(this.state&&A){var v={style:l?Jy({},l,p):p};(l&&A[l]!==p||!l&&A!==p)&&this.setState(v)}this.runAnimation(zl(zl({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,A=i.onAnimationStart,f=nft(a,s,KAt(c),l,this.changeStyle),h=function(){o.stopJSAnimation=f()};this.manager.start([A,u,h,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,A=d===void 0?0:d,f=function(p,v,y){if(y===0)return p;var b=v.duration,x=v.easing,S=x===void 0?"ease":x,C=v.style,_=v.properties,B=v.onAnimationEnd,T=y>0?a[y-1]:v,O=_||Object.keys(C);if(typeof S=="function"||S==="spring")return[].concat(tk(p),[o.runJSAnimation.bind(o,{from:T.style,to:C,duration:b,easing:S}),b]);var P=Mee(O,b,S),F=zl(zl(zl({},T.style),C),{},{transition:P});return[].concat(tk(p),[F,b,B]).filter(FAt)};return this.manager.start([l].concat(tk(a.reduce(f,[u,Math.max(A,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=TAt());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,A=i.steps,f=i.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(i);return}if(A.length>1){this.runStepAnimation(i);return}var p=s?Jy({},s,l):l,v=Mee(Object.keys(p),a,c);h.start([u,o,zl(zl({},p),{},{transition:v}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=oft(i,ift),c=I.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var d=function(f){var h=f.props,p=h.style,v=p===void 0?{}:p,y=h.className,b=I.cloneElement(f,zl(zl({},l),{},{style:zl(zl({},v),u),className:y}));return b};return c===1?d(I.Children.only(o)):ue.createElement("div",null,I.Children.map(o,function(A){return d(A)}))}}]),r}(I.PureComponent);Td.displayName="Animate";Td.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Td.propTypes={from:Yr.oneOfType([Yr.object,Yr.string]),to:Yr.oneOfType([Yr.object,Yr.string]),attributeName:Yr.string,duration:Yr.number,begin:Yr.number,easing:Yr.oneOfType([Yr.string,Yr.func]),steps:Yr.arrayOf(Yr.shape({duration:Yr.number.isRequired,style:Yr.object.isRequired,easing:Yr.oneOfType([Yr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yr.func]),properties:Yr.arrayOf("string"),onAnimationEnd:Yr.func})),children:Yr.oneOfType([Yr.node,Yr.func]),isActive:Yr.bool,canBegin:Yr.bool,onAnimationEnd:Yr.func,shouldReAnimate:Yr.bool,onAnimationStart:Yr.func,onAnimationReStart:Yr.func};function Sw(e){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sw(e)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(this,arguments)}function vft(e,t){return xft(e)||bft(e,t)||wft(e,t)||yft()}function yft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wft(e,t){if(e){if(typeof e=="string")return Lee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lee(e,t)}}function Lee(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bft(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function xft(e){if(Array.isArray(e))return e}function Nee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nee(Object(r),!0).forEach(function(n){Sft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sft(e,t,r){return t=Cft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cft(e){var t=_ft(e,"string");return Sw(t)=="symbol"?t:t+""}function _ft(e,t){if(Sw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=function(t,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],A=0,f=4;A<f;A++)d[A]=o[A]>a?a:o[A];u="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),u+="L ".concat(t+n,",").concat(r+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+i)),u+="L ".concat(t+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-s*d[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var h=Math.min(a,o);u="M ".concat(t,",").concat(r+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(t+l*h,",").concat(r,`
            L `).concat(t+n-l*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*h,`
            L `).concat(t+n,",").concat(r+i-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(t+n-l*h,",").concat(r+i,`
            L `).concat(t+l*h,",").concat(r+i,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(t,",").concat(r+i-s*h," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Eft=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,a=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),d=Math.min(a,a+l),A=Math.max(a,a+l);return n>=c&&n<=u&&i>=d&&i<=A}return!1},Ift={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H6=function(t){var r=$ee($ee({},Ift),t),n=I.useRef(),i=I.useState(-1),o=vft(i,2),a=o[0],s=o[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,A=r.radius,f=r.className,h=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var x=ut("recharts-rectangle",f);return b?ue.createElement(Td,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:p,animationEasing:h,isActive:b},function(S){var C=S.width,_=S.height,B=S.x,T=S.y;return ue.createElement(Td,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:h},ue.createElement("path",Y_({},Dr(r,!0),{className:x,d:Qee(B,T,C,_,A),ref:n})))}):ue.createElement("path",Y_({},Dr(r,!0),{className:x,d:Qee(l,c,u,d,A)}))};function QH(){return QH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QH.apply(this,arguments)}var p2e=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,a=ut("recharts-dot",o);return r===+r&&n===+n&&i===+i?ue.createElement("circle",QH({},Dr(t,!1),y_(t),{className:a,cx:r,cy:n,r:i})):null};function Cw(e){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cw(e)}var Bft=["x","y","top","left","width","height","className"];function HH(){return HH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HH.apply(this,arguments)}function Hee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hee(Object(r),!0).forEach(function(n){Tft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tft(e,t,r){return t=Oft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oft(e){var t=Rft(e,"string");return Cw(t)=="symbol"?t:t+""}function Rft(e,t){if(Cw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mft(e,t){if(e==null)return{};var r=Fft(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fft(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kft=function(t,r,n,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Uft=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,A=t.height,f=A===void 0?0:A,h=t.className,p=Mft(t,Bft),v=Pft({x:n,y:o,top:s,left:c,width:d,height:f},p);return!mt(n)||!mt(o)||!mt(d)||!mt(f)||!mt(s)||!mt(c)?null:ue.createElement("path",HH({},Dr(v,!0),{className:ut("recharts-cross",h),d:kft(n,o,d,f,s,c)}))},rk,qee;function Dft(){if(qee)return rk;qee=1;var e=RRe(),t=e(Object.getPrototypeOf,Object);return rk=t,rk}var nk,zee;function jft(){if(zee)return nk;zee=1;var e=Ud(),t=Dft(),r=Dd(),n="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(u){if(!r(u)||e(u)!=n)return!1;var d=t(u);if(d===null)return!0;var A=s.call(d,"constructor")&&d.constructor;return typeof A=="function"&&A instanceof A&&a.call(A)==l}return nk=c,nk}var Lft=jft();const Nft=kr(Lft);var ik,Kee;function $ft(){if(Kee)return ik;Kee=1;var e=Ud(),t=Dd(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return ik=n,ik}var Qft=$ft();const Hft=kr(Qft);function _w(e){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_w(e)}function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X_.apply(this,arguments)}function qft(e,t){return Vft(e)||Wft(e,t)||Kft(e,t)||zft()}function zft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kft(e,t){if(e){if(typeof e=="string")return Wee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wee(e,t)}}function Wee(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wft(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Vft(e){if(Array.isArray(e))return e}function Vee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vee(Object(r),!0).forEach(function(n){Gft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gft(e,t,r){return t=Yft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yft(e){var t=Xft(e,"string");return _w(t)=="symbol"?t:t+""}function Xft(e,t){if(_w(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_w(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yee=function(t,r,n,i,o){var a=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-a/2,",").concat(r+o),s+="L ".concat(t+n-a/2-i,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},Jft={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zft=function(t){var r=Gee(Gee({},Jft),t),n=I.useRef(),i=I.useState(-1),o=qft(i,2),a=o[0],s=o[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,A=r.height,f=r.className,h=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||A!==+A||u===0&&d===0||A===0)return null;var b=ut("recharts-trapezoid",f);return y?ue.createElement(Td,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:A,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:A,x:l,y:c},duration:p,animationEasing:h,isActive:y},function(x){var S=x.upperWidth,C=x.lowerWidth,_=x.height,B=x.x,T=x.y;return ue.createElement(Td,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:h},ue.createElement("path",X_({},Dr(r,!0),{className:b,d:Yee(B,T,S,C,_),ref:n})))}):ue.createElement("g",null,ue.createElement("path",X_({},Dr(r,!0),{className:b,d:Yee(l,c,u,d,A)})))},eht=["option","shapeType","propTransformer","activeClassName","isActive"];function Ew(e){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ew(e)}function tht(e,t){if(e==null)return{};var r=rht(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rht(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xee(Object(r),!0).forEach(function(n){nht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nht(e,t,r){return t=iht(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iht(e){var t=oht(e,"string");return Ew(t)=="symbol"?t:t+""}function oht(e,t){if(Ew(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aht(e,t){return J_(J_({},t),e)}function sht(e,t){return e==="symbols"}function Jee(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ue.createElement(H6,r);case"trapezoid":return ue.createElement(Zft,r);case"sector":return ue.createElement(s2e,r);case"symbols":if(sht(t))return ue.createElement(YI,r);break;default:return null}}function lht(e){return I.isValidElement(e)?e.props:e}function qH(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?aht:n,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=tht(e,eht),c;if(I.isValidElement(t))c=I.cloneElement(t,J_(J_({},l),lht(t)));else if(mr(t))c=t(l);else if(Nft(t)&&!Hft(t)){var u=i(t,l);c=ue.createElement(Jee,{shapeType:r,elementProps:u})}else{var d=l;c=ue.createElement(Jee,{shapeType:r,elementProps:d})}return s?ue.createElement(ei,{className:a},c):c}function dB(e,t){return t!=null&&"trapezoids"in e.props}function AB(e,t){return t!=null&&"sectors"in e.props}function Iw(e,t){return t!=null&&"points"in e.props}function cht(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&o}function uht(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function dht(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Aht(e,t){var r;return dB(e,t)?r=cht:AB(e,t)?r=uht:Iw(e,t)&&(r=dht),r}function fht(e,t){var r;return dB(e,t)?r="trapezoids":AB(e,t)?r="sectors":Iw(e,t)&&(r="points"),r}function hht(e,t){if(dB(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(AB(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Iw(e,t)?t.payload:{}}function pht(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=fht(r,t),o=hht(r,t),a=n.filter(function(l,c){var u=lB(o,l),d=r.props[i].filter(function(h){var p=Aht(r,t);return p(h,t)}),A=r.props[i].indexOf(d[d.length-1]),f=c===A;return u&&f}),s=n.indexOf(a[a.length-1]);return s}var ok,Zee;function ght(){if(Zee)return ok;Zee=1;var e=Math.ceil,t=Math.max;function r(n,i,o,a){for(var s=-1,l=t(e((i-n)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=n,n+=o;return c}return ok=r,ok}var ak,ete;function g2e(){if(ete)return ak;ete=1;var e=VRe(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-1/0){var o=i<0?-1:1;return o*r}return i===i?i:0}return ak=n,ak}var sk,tte;function mht(){if(tte)return sk;tte=1;var e=ght(),t=ZI(),r=g2e();function n(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=r(o),a===void 0?(a=o,o=0):a=r(a),s=s===void 0?o<a?1:-1:r(s),e(o,a,s,i)}}return sk=n,sk}var lk,rte;function vht(){if(rte)return lk;rte=1;var e=mht(),t=e();return lk=t,lk}var yht=vht();const Z_=kr(yht);function Bw(e){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bw(e)}function nte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ite(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nte(Object(r),!0).forEach(function(n){m2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m2e(e,t,r){return t=wht(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wht(e){var t=bht(e,"string");return Bw(t)=="symbol"?t:t+""}function bht(e,t){if(Bw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xht=["Webkit","Moz","O","ms"],Sht=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=xht.reduce(function(o,a){return ite(ite({},o),{},m2e({},a+n,r))},{});return i[t]=r,i};function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eE.apply(this,arguments)}function ote(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ote(Object(r),!0).forEach(function(n){ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ote(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ate(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y2e(n.key),n)}}function _ht(e,t,r){return t&&ate(e.prototype,t),r&&ate(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eht(e,t,r){return t=tE(t),Iht(e,v2e()?Reflect.construct(t,r||[],tE(e).constructor):t.apply(e,r))}function Iht(e,t){if(t&&(um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bht(e)}function Bht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v2e=function(){return!!e})()}function tE(e){return tE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tE(e)}function Pht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zH(e,t)}function zH(e,t){return zH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zH(e,t)}function ps(e,t,r){return t=y2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y2e(e){var t=Tht(e,"string");return um(t)=="symbol"?t:t+""}function Tht(e,t){if(um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oht=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=S0().domain(Z_(0,l)).range([o,o+a-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},ste=function(t){return t.changedTouches&&!!t.changedTouches.length},dm=function(e){function t(r){var n;return Cht(this,t),n=Eht(this,t,[r]),ps(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ps(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ps(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),ps(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ps(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ps(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ps(n,"handleSlideDragStart",function(i){var o=ste(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Pht(t,e),_ht(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,o),A=Math.max(i,o),f=t.getIndexInRange(a,d),h=t.getIndexInRange(a,A);return{startIndex:f-f%l,endIndex:h===u?u:h-h%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Ba(o[n],s,n);return mr(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,A=l.startIndex,f=l.endIndex,h=l.onChange,p=n.pageX-o;p>0?p=Math.min(p,c+u-d-s,c+u-d-a):p<0&&(p=Math.max(p,c-a,c-s));var v=this.getIndex({startX:a+p,endX:s+p});(v.startIndex!==A||v.endIndex!==f)&&h&&h(v),this.setState({startX:a+p,endX:s+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=ste(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,A=u.width,f=u.travellerWidth,h=u.onChange,p=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-o;b>0?b=Math.min(b,d+A-f-c):b<0&&(b=Math.max(b,d-c)),y[a]=c+b;var x=this.getIndex(y),S=x.startIndex,C=x.endIndex,_=function(){var T=v.length-1;return a==="startX"&&(s>l?S%p===0:C%p===0)||s<l&&C===T||a==="endX"&&(s>l?C%p===0:S%p===0)||s>l&&C===T};this.setState(ps(ps({},a,c+b),"brushMoveStartX",n.pageX),function(){h&&_()&&h(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var A=d+n;if(!(A===-1||A>=s.length)){var f=s[A];i==="startX"&&f>=c||i==="endX"&&f<=l||this.setState(ps({},i,f),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.fill,c=n.stroke;return ue.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=I.Children.only(c);return d?ue.cloneElement(d,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,A=l.traveller,f=l.ariaLabel,h=l.data,p=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=ck(ck({},Dr(this.props,!1)),{},{x:y,y:c,width:u,height:d}),x=f||"Min value: ".concat((o=h[p])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=h[v])===null||a===void 0?void 0:a.name);return ue.createElement(ei,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(A,b))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,A=u.endX,f=5,h={pointerEvents:"none",fill:c};return ue.createElement(ei,{className:"recharts-brush-texts"},ue.createElement(T_,eE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,A)-f,y:a+s/2},h),this.getTextOfTick(i)),ue.createElement(T_,eE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,A)+l+f,y:a+s/2},h),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,A=this.state,f=A.startX,h=A.endX,p=A.isTextActive,v=A.isSlideMoving,y=A.isTravellerMoving,b=A.isTravellerFocused;if(!i||!i.length||!mt(s)||!mt(l)||!mt(c)||!mt(u)||c<=0||u<=0)return null;var x=ut("recharts-brush",o),S=ue.Children.count(a)===1,C=Sht("userSelect","none");return ue.createElement(ei,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,h),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(h,"endX"),(p||v||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return ue.createElement(ue.Fragment,null,ue.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),ue.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),ue.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return ue.isValidElement(n)?o=ue.cloneElement(n,i):mr(n)?o=n(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return ck({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?Oht({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var A=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);n[l]>i?s=l:a=l}return i>=n[s]?s:a}}])}(I.PureComponent);ps(dm,"displayName","Brush");ps(dm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uk,lte;function Rht(){if(lte)return uk;lte=1;var e=f6();function t(r,n){var i;return e(r,function(o,a,s){return i=n(o,a,s),!i}),!!i}return uk=t,uk}var dk,cte;function Mht(){if(cte)return dk;cte=1;var e=_Re(),t=cf(),r=Rht(),n=rs(),i=ZI();function o(a,s,l){var c=n(a)?e:r;return l&&i(a,s,l)&&(s=void 0),c(a,t(s,3))}return dk=o,dk}var Fht=Mht();const kht=kr(Fht);var nu=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Ak,ute;function Uht(){if(ute)return Ak;ute=1;var e=HRe();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Ak=t,Ak}var fk,dte;function Dht(){if(dte)return fk;dte=1;var e=Uht(),t=$Re(),r=cf();function n(i,o){var a={};return o=r(o,3),t(i,function(s,l,c){e(a,l,o(s,l,c))}),a}return fk=n,fk}var jht=Dht();const Lht=kr(jht);var hk,Ate;function Nht(){if(Ate)return hk;Ate=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return hk=e,hk}var pk,fte;function $ht(){if(fte)return pk;fte=1;var e=f6();function t(r,n){var i=!0;return e(r,function(o,a,s){return i=!!n(o,a,s),i}),i}return pk=t,pk}var gk,hte;function Qht(){if(hte)return gk;hte=1;var e=Nht(),t=$ht(),r=cf(),n=rs(),i=ZI();function o(a,s,l){var c=n(a)?e:t;return l&&i(a,s,l)&&(s=void 0),c(a,r(s,3))}return gk=o,gk}var Hht=Qht();const w2e=kr(Hht);var qht=["x","y"];function Pw(e){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pw(e)}function KH(){return KH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KH.apply(this,arguments)}function pte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pte(Object(r),!0).forEach(function(n){zht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zht(e,t,r){return t=Kht(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kht(e){var t=Wht(e,"string");return Pw(t)=="symbol"?t:t+""}function Wht(e,t){if(Pw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vht(e,t){if(e==null)return{};var r=Ght(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ght(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yht(e,t){var r=e.x,n=e.y,i=Vht(e,qht),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),A=parseInt(d,10);return Cy(Cy(Cy(Cy(Cy({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:A,name:t.name,radius:t.radius})}function gte(e){return ue.createElement(qH,KH({shapeType:"rectangle",propTransformer:Yht,activeClassName:"recharts-active-bar"},e))}var Xht=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var o=typeof n=="number";return o?t(n,i):(o||Oh(),r)}},Jht=["value","background"],b2e;function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function Zht(e,t){if(e==null)return{};var r=ept(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ept(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}function mte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mte(Object(r),!0).forEach(function(n){OA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S2e(n.key),n)}}function rpt(e,t,r){return t&&vte(e.prototype,t),r&&vte(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function npt(e,t,r){return t=nE(t),ipt(e,x2e()?Reflect.construct(t,r||[],nE(e).constructor):t.apply(e,r))}function ipt(e,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return opt(e)}function opt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2e=function(){return!!e})()}function nE(e){return nE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nE(e)}function apt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WH(e,t)}function WH(e,t){return WH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WH(e,t)}function OA(e,t,r){return t=S2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2e(e){var t=spt(e,"string");return Am(t)=="symbol"?t:t+""}function spt(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ff=function(e){function t(){var r;tpt(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=npt(this,t,[].concat(i)),OA(r,"state",{isAnimationFinished:!1}),OA(r,"id",Sb("recharts-bar-")),OA(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),OA(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return apt(t,e),rpt(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Dr(this.props,!1);return n&&n.map(function(d,A){var f=A===l,h=f?c:a,p=Mi(Mi(Mi({},u),d),{},{isActive:f,option:h,index:A,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ue.createElement(ei,rE({className:"recharts-bar-rectangle"},Z0(i.props,d,A),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),ue.createElement(gte,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,A=this.state.prevData;return ue.createElement(Td,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,p=o.map(function(v,y){var b=A&&A[y];if(b){var x=zc(b.x,v.x),S=zc(b.y,v.y),C=zc(b.width,v.width),_=zc(b.height,v.height);return Mi(Mi({},v),{},{x:x(h),y:S(h),width:C(h),height:_(h)})}if(a==="horizontal"){var B=zc(0,v.height),T=B(h);return Mi(Mi({},v),{},{y:v.y+v.height-T,height:T})}var O=zc(0,v.width),P=O(h);return Mi(Mi({},v),{},{width:P})});return ue.createElement(ei,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!lB(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Dr(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,A=Zht(c,Jht);if(!d)return null;var f=Mi(Mi(Mi(Mi(Mi({},A),{},{fill:"#eee"},d),l),Z0(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return ue.createElement(gte,rE({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},f))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=Cs(u,Pb);if(!d)return null;var A=c==="vertical"?a[0].height/2:a[0].width/2,f=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Ba(v,y)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ue.createElement(ei,h,d.map(function(p){return ue.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:A,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,A=n.height,f=n.isAnimationActive,h=n.background,p=n.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=ut("recharts-bar",a),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,S=b||x,C=yr(p)?this.id:p;return ue.createElement(ei,{className:y},b||x?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(C)},ue.createElement("rect",{x:b?c:c-d/2,y:x?u:u-A/2,width:b?d:d*2,height:x?A:A*2}))):null,ue.createElement(ei,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(C,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,C),(!f||v)&&$A.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(I.PureComponent);b2e=ff;OA(ff,"displayName","Bar");OA(ff,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});OA(ff,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,A=e.offset,f=Out(n,r);if(!f)return null;var h=t.layout,p=r.type.defaultProps,v=p!==void 0?Mi(Mi({},p),r.props):r.props,y=v.dataKey,b=v.children,x=v.minPointSize,S=h==="horizontal"?a:o,C=c?S.scale.domain():null,_=Lut({numericAxis:S}),B=Cs(b,m6),T=d.map(function(O,P){var F,U,k,M,D,j;c?F=Rut(c[u+P],C):(F=Ba(O,y),Array.isArray(F)||(F=[_,F]));var $=Xht(x,b2e.defaultProps.minPointSize)(F[1],P);if(h==="horizontal"){var Q,H=[a.scale(F[0]),a.scale(F[1])],W=H[0],z=H[1];U=iee({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:O,index:P}),k=(Q=z??W)!==null&&Q!==void 0?Q:void 0,M=f.size;var V=W-z;if(D=Number.isNaN(V)?0:V,j={x:U,y:a.y,width:M,height:a.height},Math.abs($)>0&&Math.abs(D)<Math.abs($)){var G=ec(D||$)*(Math.abs($)-Math.abs(D));k-=G,D+=G}}else{var X=[o.scale(F[0]),o.scale(F[1])],Z=X[0],oe=X[1];if(U=Z,k=iee({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:O,index:P}),M=oe-Z,D=f.size,j={x:o.x,y:k,width:o.width,height:D},Math.abs($)>0&&Math.abs(M)<Math.abs($)){var ae=ec(M||$)*(Math.abs($)-Math.abs(M));M+=ae}}return Mi(Mi(Mi({},O),{},{x:U,y:k,width:M,height:D,value:c?F:F[1],payload:O,background:j},B&&B[P]&&B[P].props),{},{tooltipPayload:[i2e(r,O)],tooltipPosition:{x:U+M/2,y:k+D/2}})});return Mi({data:T,layout:h},A)});function Tw(e){"@babel/helpers - typeof";return Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tw(e)}function lpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C2e(n.key),n)}}function cpt(e,t,r){return t&&yte(e.prototype,t),r&&yte(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wte(Object(r),!0).forEach(function(n){fB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t,r){return t=C2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C2e(e){var t=upt(e,"string");return Tw(t)=="symbol"?t:t+""}function upt(e,t){if(Tw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _2e=function(t,r,n,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},A=!!gs(c,ff);return u.reduce(function(f,h){var p=r[h],v=p.orientation,y=p.domain,b=p.padding,x=b===void 0?{}:b,S=p.mirror,C=p.reversed,_="".concat(v).concat(S?"Mirror":""),B,T,O,P,F;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var U=y[1]-y[0],k=1/0,M=p.categoricalDomain.sort();if(M.forEach(function(X,Z){Z>0&&(k=Math.min((X||0)-(M[Z-1]||0),k))}),Number.isFinite(k)){var D=k/U,j=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(B=D*j/2),p.padding==="no-gap"){var $=Bh(t.barCategoryGap,D*j),Q=D*j/2;B=Q-$-(Q-$)/j*$}}}i==="xAxis"?T=[n.left+(x.left||0)+(B||0),n.left+n.width-(x.right||0)-(B||0)]:i==="yAxis"?T=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(B||0),n.top+n.height-(x.bottom||0)-(B||0)]:T=p.range,C&&(T=[T[1],T[0]]);var H=Put(p,o,A),W=H.scale,z=H.realScaleType;W.domain(y).range(T),Tut(W);var V=jut(W,Wl(Wl({},p),{},{realScaleType:z}));i==="xAxis"?(F=v==="top"&&!S||v==="bottom"&&S,O=n.left,P=d[_]-F*p.height):i==="yAxis"&&(F=v==="left"&&!S||v==="right"&&S,O=d[_]-F*p.width,P=n.top);var G=Wl(Wl(Wl({},p),V),{},{realScaleType:z,x:O,y:P,scale:W,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return G.bandSize=q_(G,V),!p.hide&&i==="xAxis"?d[_]+=(F?-1:1)*G.height:p.hide||(d[_]+=(F?-1:1)*G.width),Wl(Wl({},f),{},fB({},h,G))},{})},E2e=function(t,r){var n=t.x,i=t.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},dpt=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return E2e({x:r,y:n},{x:i,y:o})},I2e=function(){function e(t){lpt(this,e),this.scale=t}return cpt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();fB(I2e,"EPS",1e-4);var q6=function(t){var r=Object.keys(t).reduce(function(n,i){return Wl(Wl({},n),{},fB({},i,I2e.create(t[i])))},{});return Wl(Wl({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Lht(i,function(l,c){return r[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return w2e(i,function(o,a){return r[a].isInRange(o)})}})};function Apt(e){return(e%180+180)%180}var fpt=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Apt(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},mk,bte;function hpt(){if(bte)return mk;bte=1;var e=cf(),t=Cb(),r=XI();function n(i){return function(o,a,s){var l=Object(o);if(!t(o)){var c=e(a,3);o=r(o),a=function(d){return c(l[d],d,l)}}var u=i(o,a,s);return u>-1?l[c?o[u]:u]:void 0}}return mk=n,mk}var vk,xte;function ppt(){if(xte)return vk;xte=1;var e=g2e();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return vk=t,vk}var yk,Ste;function gpt(){if(Ste)return yk;Ste=1;var e=URe(),t=cf(),r=ppt(),n=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),e(o,t(a,3),c)}return yk=i,yk}var wk,Cte;function mpt(){if(Cte)return wk;Cte=1;var e=hpt(),t=gpt(),r=e(t);return wk=r,wk}var vpt=mpt();const ypt=kr(vpt);var wpt=JOe();const bpt=kr(wpt);var xpt=bpt(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),z6=I.createContext(void 0),K6=I.createContext(void 0),B2e=I.createContext(void 0),P2e=I.createContext({}),T2e=I.createContext(void 0),O2e=I.createContext(0),R2e=I.createContext(0),_te=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=t.clipPathId,s=t.children,l=t.width,c=t.height,u=xpt(o);return ue.createElement(z6.Provider,{value:n},ue.createElement(K6.Provider,{value:i},ue.createElement(P2e.Provider,{value:o},ue.createElement(B2e.Provider,{value:u},ue.createElement(T2e.Provider,{value:a},ue.createElement(O2e.Provider,{value:c},ue.createElement(R2e.Provider,{value:l},s)))))))},Spt=function(){return I.useContext(T2e)},M2e=function(t){var r=I.useContext(z6);r==null&&Oh();var n=r[t];return n==null&&Oh(),n},Cpt=function(){var t=I.useContext(z6);return IA(t)},_pt=function(){var t=I.useContext(K6),r=ypt(t,function(n){return w2e(n.domain,Number.isFinite)});return r||IA(t)},F2e=function(t){var r=I.useContext(K6);r==null&&Oh();var n=r[t];return n==null&&Oh(),n},Ept=function(){var t=I.useContext(B2e);return t},Ipt=function(){return I.useContext(P2e)},W6=function(){return I.useContext(R2e)},V6=function(){return I.useContext(O2e)};function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function Bpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ppt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U2e(n.key),n)}}function Tpt(e,t,r){return t&&Ppt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Opt(e,t,r){return t=iE(t),Rpt(e,k2e()?Reflect.construct(t,r||[],iE(e).constructor):t.apply(e,r))}function Rpt(e,t){if(t&&(fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mpt(e)}function Mpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k2e=function(){return!!e})()}function iE(e){return iE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iE(e)}function Fpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VH(e,t)}function VH(e,t){return VH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VH(e,t)}function Ete(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ite(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ete(Object(r),!0).forEach(function(n){G6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ete(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G6(e,t,r){return t=U2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2e(e){var t=kpt(e,"string");return fm(t)=="symbol"?t:t+""}function kpt(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Upt(e,t){return Npt(e)||Lpt(e,t)||jpt(e,t)||Dpt()}function Dpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpt(e,t){if(e){if(typeof e=="string")return Bte(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bte(e,t)}}function Bte(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lpt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Npt(e){if(Array.isArray(e))return e}function GH(){return GH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GH.apply(this,arguments)}var $pt=function(t,r){var n;return ue.isValidElement(t)?n=ue.cloneElement(t,r):mr(t)?n=t(r):n=ue.createElement("line",GH({},r,{className:"recharts-reference-line-line"})),n},Qpt=function(t,r,n,i,o,a,s,l,c){var u=o.x,d=o.y,A=o.width,f=o.height;if(n){var h=c.y,p=t.y.apply(h,{position:a});if(nu(c,"discard")&&!t.y.isInRange(p))return null;var v=[{x:u+A,y:p},{x:u,y:p}];return l==="left"?v.reverse():v}if(r){var y=c.x,b=t.x.apply(y,{position:a});if(nu(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:d+f},{x:b,y:d}];return s==="top"?x.reverse():x}if(i){var S=c.segment,C=S.map(function(_){return t.apply(_,{position:a})});return nu(c,"discard")&&kht(C,function(_){return!t.isInRange(_)})?null:C}return null};function Hpt(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,c=Spt(),u=M2e(i),d=F2e(o),A=Ept();if(!c||!A)return null;pd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=q6({x:u.scale,y:d.scale}),h=zi(t),p=zi(r),v=n&&n.length===2,y=Qpt(f,h,p,v,A,e.position,u.orientation,d.orientation,e);if(!y)return null;var b=Upt(y,2),x=b[0],S=x.x,C=x.y,_=b[1],B=_.x,T=_.y,O=nu(e,"hidden")?"url(#".concat(c,")"):void 0,P=Ite(Ite({clipPath:O},Dr(e,!0)),{},{x1:S,y1:C,x2:B,y2:T});return ue.createElement(ei,{className:ut("recharts-reference-line",s)},$pt(a,P),Zo.renderCallByParent(e,dpt({x1:S,y1:C,x2:B,y2:T})))}var Ow=function(e){function t(){return Bpt(this,t),Opt(this,t,arguments)}return Fpt(t,e),Tpt(t,[{key:"render",value:function(){return ue.createElement(Hpt,this.props)}}])}(ue.Component);G6(Ow,"displayName","ReferenceLine");G6(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function YH(){return YH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YH.apply(this,arguments)}function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function Pte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pte(Object(r),!0).forEach(function(n){hB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zpt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j2e(n.key),n)}}function Kpt(e,t,r){return t&&zpt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wpt(e,t,r){return t=oE(t),Vpt(e,D2e()?Reflect.construct(t,r||[],oE(e).constructor):t.apply(e,r))}function Vpt(e,t){if(t&&(hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gpt(e)}function Gpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D2e=function(){return!!e})()}function oE(e){return oE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oE(e)}function Ypt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XH(e,t)}function XH(e,t){return XH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XH(e,t)}function hB(e,t,r){return t=j2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2e(e){var t=Xpt(e,"string");return hm(t)=="symbol"?t:t+""}function Xpt(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jpt=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,a=q6({x:i.scale,y:o.scale}),s=a.apply({x:r,y:n},{bandAware:!0});return nu(t,"discard")&&!a.isInRange(s)?null:s},pB=function(e){function t(){return qpt(this,t),Wpt(this,t,arguments)}return Ypt(t,e),Kpt(t,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,s=n.alwaysShow,l=n.clipPathId,c=zi(i),u=zi(o);if(pd(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=Jpt(this.props);if(!d)return null;var A=d.x,f=d.y,h=this.props,p=h.shape,v=h.className,y=nu(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=Tte(Tte({clipPath:y},Dr(this.props,!0)),{},{cx:A,cy:f});return ue.createElement(ei,{className:ut("recharts-reference-dot",v)},t.renderDot(p,b),Zo.renderCallByParent(this.props,{x:A-a,y:f-a,width:2*a,height:2*a}))}}])}(ue.Component);hB(pB,"displayName","ReferenceDot");hB(pB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hB(pB,"renderDot",function(e,t){var r;return ue.isValidElement(e)?r=ue.cloneElement(e,t):mr(e)?r=e(t):r=ue.createElement(p2e,YH({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function JH(){return JH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JH.apply(this,arguments)}function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function Ote(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ote(Object(r),!0).forEach(function(n){gB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ote(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function egt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N2e(n.key),n)}}function tgt(e,t,r){return t&&egt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rgt(e,t,r){return t=aE(t),ngt(e,L2e()?Reflect.construct(t,r||[],aE(e).constructor):t.apply(e,r))}function ngt(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return igt(e)}function igt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L2e=function(){return!!e})()}function aE(e){return aE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aE(e)}function ogt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZH(e,t)}function ZH(e,t){return ZH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZH(e,t)}function gB(e,t,r){return t=N2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N2e(e){var t=agt(e,"string");return pm(t)=="symbol"?t:t+""}function agt(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sgt=function(t,r,n,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var A=q6({x:u.scale,y:d.scale}),f={x:t?A.x.apply(a,{position:"start"}):A.x.rangeMin,y:n?A.y.apply(l,{position:"start"}):A.y.rangeMin},h={x:r?A.x.apply(s,{position:"end"}):A.x.rangeMax,y:i?A.y.apply(c,{position:"end"}):A.y.rangeMax};return nu(o,"discard")&&(!A.isInRange(f)||!A.isInRange(h))?null:E2e(f,h)},mB=function(e){function t(){return Zpt(this,t),rgt(this,t,arguments)}return ogt(t,e),tgt(t,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;pd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=zi(i),A=zi(o),f=zi(a),h=zi(s),p=this.props.shape;if(!d&&!A&&!f&&!h&&!p)return null;var v=sgt(d,A,f,h,this.props);if(!v&&!p)return null;var y=nu(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ue.createElement(ei,{className:ut("recharts-reference-area",l)},t.renderRect(p,Rte(Rte({clipPath:y},Dr(this.props,!0)),v)),Zo.renderCallByParent(this.props,v))}}])}(ue.Component);gB(mB,"displayName","ReferenceArea");gB(mB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gB(mB,"renderRect",function(e,t){var r;return ue.isValidElement(e)?r=ue.cloneElement(e,t):mr(e)?r=e(t):r=ue.createElement(H6,JH({},t,{className:"recharts-reference-area-rect"})),r});function $2e(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function lgt(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return fpt(n,r)}function cgt(e,t,r){var n=r==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function sE(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function ugt(e,t){return $2e(e,t+1)}function dgt(e,t,r,n,i){for(var o=(n||[]).slice(),a=t.start,s=t.end,l=0,c=1,u=a,d=function(){var h=n==null?void 0:n[l];if(h===void 0)return{v:$2e(n,c)};var p=l,v,y=function(){return v===void 0&&(v=r(h,p)),v},b=h.coordinate,x=l===0||sE(e,b,y,u,s);x||(l=0,u=a,c+=1),x&&(u=b+e*(y()/2+i),l+=c)},A;c<=o.length;)if(A=d(),A)return A.v;return[]}function Rw(e){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rw(e)}function Mte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mte(Object(r),!0).forEach(function(n){Agt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Agt(e,t,r){return t=fgt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fgt(e){var t=hgt(e,"string");return Rw(t)=="symbol"?t:t+""}function hgt(e,t){if(Rw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pgt(e,t,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(A){var f=o[A],h,p=function(){return h===void 0&&(h=r(f,A)),h};if(A===a-1){var v=e*(f.coordinate+e*p()/2-l);o[A]=f=Go(Go({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate})}else o[A]=f=Go(Go({},f),{},{tickCoord:f.coordinate});var y=sE(e,f.tickCoord,p,s,l);y&&(l=f.tickCoord-e*(p()/2+i),o[A]=Go(Go({},f),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function ggt(e,t,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=n[s-1],d=r(u,s-1),A=e*(u.coordinate+e*d/2-c);a[s-1]=u=Go(Go({},u),{},{tickCoord:A>0?u.coordinate-A*e:u.coordinate});var f=sE(e,u.tickCoord,function(){return d},l,c);f&&(c=u.tickCoord-e*(d/2+i),a[s-1]=Go(Go({},u),{},{isShow:!0}))}for(var h=o?s-1:s,p=function(b){var x=a[b],S,C=function(){return S===void 0&&(S=r(x,b)),S};if(b===0){var _=e*(x.coordinate-e*C()/2-l);a[b]=x=Go(Go({},x),{},{tickCoord:_<0?x.coordinate-_*e:x.coordinate})}else a[b]=x=Go(Go({},x),{},{tickCoord:x.coordinate});var B=sE(e,x.tickCoord,C,l,c);B&&(l=x.tickCoord+e*(C()/2+i),a[b]=Go(Go({},x),{},{isShow:!0}))},v=0;v<h;v++)p(v);return a}function Y6(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(mt(l)||Gm.isSsr)return ugt(i,typeof l=="number"&&mt(l)?l:0);var A=[],f=s==="top"||s==="bottom"?"width":"height",h=u&&f==="width"?x0(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(x,S){var C=mr(c)?c(x.value,S):x.value;return f==="width"?lgt(x0(C,{fontSize:t,letterSpacing:r}),h,d):x0(C,{fontSize:t,letterSpacing:r})[f]},v=i.length>=2?ec(i[1].coordinate-i[0].coordinate):1,y=cgt(o,v,f);return l==="equidistantPreserveStart"?dgt(v,y,p,i,a):(l==="preserveStart"||l==="preserveStartEnd"?A=ggt(v,y,p,i,a,l==="preserveStartEnd"):A=pgt(v,y,p,i,a),A.filter(function(b){return b.isShow}))}var mgt=["viewBox"],vgt=["viewBox"],ygt=["ticks"];function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function Fte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fte(Object(r),!0).forEach(function(n){X6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bk(e,t){if(e==null)return{};var r=wgt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wgt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H2e(n.key),n)}}function xgt(e,t,r){return t&&kte(e.prototype,t),r&&kte(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sgt(e,t,r){return t=lE(t),Cgt(e,Q2e()?Reflect.construct(t,r||[],lE(e).constructor):t.apply(e,r))}function Cgt(e,t){if(t&&(gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _gt(e)}function _gt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q2e=function(){return!!e})()}function lE(e){return lE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lE(e)}function Egt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e3(e,t)}function X6(e,t,r){return t=H2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H2e(e){var t=Igt(e,"string");return gm(t)=="symbol"?t:t+""}function Igt(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zm=function(e){function t(r){var n;return bgt(this,t),n=Sgt(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Egt(t,e),xgt(t,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=bk(n,mgt),s=this.props,l=s.viewBox,c=bk(s,vgt);return!Lg(o,l)||!Lg(a,c)||!Lg(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,A=i.tickMargin,f,h,p,v,y,b,x=d?-1:1,S=n.tickSize||u,C=mt(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":f=h=n.coordinate,v=a+ +!d*l,p=v-x*S,b=p-x*A,y=C;break;case"left":p=v=n.coordinate,h=o+ +!d*s,f=h-x*S,y=f-x*A,b=C;break;case"right":p=v=n.coordinate,h=o+ +d*s,f=h+x*S,y=f+x*A,b=C;break;default:f=h=n.coordinate,v=a+ +d*l,p=v+x*S,b=p+x*A,y=C;break}return{line:{x1:f,y1:p,x2:h,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=wa(wa(wa({},Dr(this.props,!1)),Dr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var A=+(l==="top"&&!c||l==="bottom"&&c);d=wa(wa({},d),{},{x1:i,y1:o+A*s,x2:i+a,y2:o+A*s})}else{var f=+(l==="left"&&!c||l==="right"&&c);d=wa(wa({},d),{},{x1:i+f*a,y1:o,x2:i+f*a,y2:o+s})}return ue.createElement("line",Eg({},d,{className:ut("recharts-cartesian-axis-line",gl(u,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,A=s.unit,f=Y6(wa(wa({},this.props),{},{ticks:n}),i,o),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Dr(this.props,!1),y=Dr(u,!1),b=wa(wa({},v),{},{fill:"none"},Dr(l,!1)),x=f.map(function(S,C){var _=a.getTickLineCoord(S),B=_.line,T=_.tick,O=wa(wa(wa(wa({textAnchor:h,verticalAnchor:p},v),{},{stroke:"none",fill:c},y),T),{},{index:C,payload:S,visibleTicksCount:f.length,tickFormatter:d});return ue.createElement(ei,Eg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Z0(a.props,S,C)),l&&ue.createElement("line",Eg({},b,B,{className:ut("recharts-cartesian-axis-tick-line",gl(l,"className"))})),u&&t.renderTickItem(u,O,"".concat(mr(d)?d(S.value,C):S.value).concat(A||"")))});return ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,A=d.ticks,f=bk(d,ygt),h=A;return mr(l)&&(h=A&&A.length>0?l(this.props):l(f)),a<=0||s<=0||!h||!h.length?null:ue.createElement(ei,{className:ut("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),Zo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return ue.isValidElement(n)?a=ue.cloneElement(n,i):mr(n)?a=n(i):a=ue.createElement(T_,Eg({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(I.Component);X6(Zm,"displayName","CartesianAxis");X6(Zm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Bgt=["x1","y1","x2","y2","key"],Pgt=["offset"];function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function Ute(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ute(Object(r),!0).forEach(function(n){Tgt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ute(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tgt(e,t,r){return t=Ogt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ogt(e){var t=Rgt(e,"string");return Rh(t)=="symbol"?t:t+""}function Rgt(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(this,arguments)}function Dte(e,t){if(e==null)return{};var r=Mgt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mgt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fgt=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return ue.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function q2e(e,t){var r;if(ue.isValidElement(e))r=ue.cloneElement(e,t);else if(mr(e))r=e(t);else{var n=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=Dte(t,Bgt),c=Dr(l,!1);c.offset;var u=Dte(c,Pgt);r=ue.createElement("line",Ah({},u,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function kgt(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ea(ea({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return q2e(i,c)});return ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Ugt(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ea(ea({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return q2e(i,c)});return ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Dgt(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(A){return Math.round(A+i-i)}).sort(function(A,f){return A-f});i!==u[0]&&u.unshift(0);var d=u.map(function(A,f){var h=!u[f+1],p=h?i+a-A:u[f+1]-A;if(p<=0)return null;var v=f%t.length;return ue.createElement("rect",{key:"react-".concat(f),y:A,x:n,height:p,width:o,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function jgt(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(A){return Math.round(A+o-o)}).sort(function(A,f){return A-f});o!==u[0]&&u.unshift(0);var d=u.map(function(A,f){var h=!u[f+1],p=h?o+s-A:u[f+1]-A;if(p<=0)return null;var v=f%n.length;return ue.createElement("rect",{key:"react-".concat(f),x:A,y:a,width:p,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Lgt=function(t,r){var n=t.xAxis,i=t.width,o=t.height,a=t.offset;return r2e(Y6(ea(ea(ea({},Zm.defaultProps),n),{},{ticks:sd(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},Ngt=function(t,r){var n=t.yAxis,i=t.width,o=t.height,a=t.offset;return r2e(Y6(ea(ea(ea({},Zm.defaultProps),n),{},{ticks:sd(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},Zp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function z2e(e){var t,r,n,i,o,a,s=W6(),l=V6(),c=Ipt(),u=ea(ea({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zp.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Zp.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Zp.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Zp.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Zp.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:Zp.verticalFill,x:mt(e.x)?e.x:c.left,y:mt(e.y)?e.y:c.top,width:mt(e.width)?e.width:c.width,height:mt(e.height)?e.height:c.height}),d=u.x,A=u.y,f=u.width,h=u.height,p=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=Cpt(),x=_pt();if(!mt(f)||f<=0||!mt(h)||h<=0||!mt(d)||d!==+d||!mt(A)||A!==+A)return null;var S=u.verticalCoordinatesGenerator||Lgt,C=u.horizontalCoordinatesGenerator||Ngt,_=u.horizontalPoints,B=u.verticalPoints;if((!_||!_.length)&&mr(C)){var T=v&&v.length,O=C({yAxis:x?ea(ea({},x),{},{ticks:T?v:x.ticks}):void 0,width:s,height:l,offset:c},T?!0:p);pd(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Rh(O),"]")),Array.isArray(O)&&(_=O)}if((!B||!B.length)&&mr(S)){var P=y&&y.length,F=S({xAxis:b?ea(ea({},b),{},{ticks:P?y:b.ticks}):void 0,width:s,height:l,offset:c},P?!0:p);pd(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Rh(F),"]")),Array.isArray(F)&&(B=F)}return ue.createElement("g",{className:"recharts-cartesian-grid"},ue.createElement(Fgt,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ue.createElement(kgt,Ah({},u,{offset:c,horizontalPoints:_,xAxis:b,yAxis:x})),ue.createElement(Ugt,Ah({},u,{offset:c,verticalPoints:B,xAxis:b,yAxis:x})),ue.createElement(Dgt,Ah({},u,{horizontalPoints:_})),ue.createElement(jgt,Ah({},u,{verticalPoints:B})))}z2e.displayName="CartesianGrid";function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function $gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qgt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V2e(n.key),n)}}function Hgt(e,t,r){return t&&Qgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qgt(e,t,r){return t=cE(t),zgt(e,K2e()?Reflect.construct(t,r||[],cE(e).constructor):t.apply(e,r))}function zgt(e,t){if(t&&(mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kgt(e)}function Kgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K2e=function(){return!!e})()}function cE(e){return cE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cE(e)}function Wgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t3(e,t)}function W2e(e,t,r){return t=V2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V2e(e){var t=Vgt(e,"string");return mm(t)=="symbol"?t:t+""}function Vgt(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vB=function(e){function t(){return $gt(this,t),qgt(this,t,arguments)}return Wgt(t,e),Hgt(t,[{key:"render",value:function(){return null}}])}(ue.Component);W2e(vB,"displayName","ZAxis");W2e(vB,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Ggt=["option","isActive"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function Ygt(e,t){if(e==null)return{};var r=Xgt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xgt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jgt(e){var t=e.option,r=e.isActive,n=Ygt(e,Ggt);return typeof t=="string"?ue.createElement(qH,E0({option:ue.createElement(YI,E0({type:t},n)),isActive:r,shapeType:"symbols"},n)):ue.createElement(qH,E0({option:t,isActive:r,shapeType:"symbols"},n))}function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function jte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jte(Object(r),!0).forEach(function(n){RA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y2e(n.key),n)}}function emt(e,t,r){return t&&Lte(e.prototype,t),r&&Lte(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tmt(e,t,r){return t=uE(t),rmt(e,G2e()?Reflect.construct(t,r||[],uE(e).constructor):t.apply(e,r))}function rmt(e,t){if(t&&(vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nmt(e)}function nmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G2e=function(){return!!e})()}function uE(e){return uE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uE(e)}function imt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r3(e,t)}function RA(e,t,r){return t=Y2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y2e(e){var t=omt(e,"string");return vm(t)=="symbol"?t:t+""}function omt(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tb=function(e){function t(){var r;Zgt(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=tmt(this,t,[].concat(i)),RA(r,"state",{isAnimationFinished:!1}),RA(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),RA(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),RA(r,"id",Sb("recharts-scatter-")),r}return imt(t,e),emt(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,c=Dr(this.props,!1);return n.map(function(u,d){var A=l===d,f=A?s:a,h=el(el({},c),u);return ue.createElement(ei,I0({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},Z0(i.props,u,d),{role:"img"}),ue.createElement(Jgt,I0({option:f,isActive:A,key:"symbol-".concat(d)},h)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return ue.createElement(Td,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var f=A.t,h=o.map(function(p,v){var y=d&&d[v];if(y){var b=zc(y.cx,p.cx),x=zc(y.cy,p.cy),S=zc(y.size,p.size);return el(el({},p),{},{cx:b(f),cy:x(f),size:S(f)})}var C=zc(0,p.size);return el(el({},p),{},{size:C(f)})});return ue.createElement(ei,null,n.renderSymbolsStatically(h))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,o=n.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!lB(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,c=Cs(l,Pb);return c?c.map(function(u,d){var A=u.props,f=A.direction,h=A.dataKey;return ue.cloneElement(u,{key:"".concat(f,"-").concat(h,"-").concat(o[d]),data:o,xAxis:a,yAxis:s,layout:f==="x"?"vertical":"horizontal",dataPointFormatter:function(v,y){return{x:v.cx,y:v.cy,value:f==="x"?+v.node.x:+v.node.y,errorVal:Ba(v,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,o=n.line,a=n.lineType,s=n.lineJointType,l=Dr(this.props,!1),c=Dr(o,!1),u,d;if(a==="joint")u=i.map(function(x){return{x:x.cx,y:x.cy}});else if(a==="fitting"){var A=crt(i),f=A.xmin,h=A.xmax,p=A.a,v=A.b,y=function(S){return p*S+v};u=[{x:f,y:y(f)},{x:h,y:y(h)}]}var b=el(el(el({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return ue.isValidElement(o)?d=ue.cloneElement(o,b):mr(o)?d=o(b):d=ue.createElement(RH,I0({},b,{type:s})),ue.createElement(ei,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.points,a=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,A=n.width,f=n.height,h=n.id,p=n.isAnimationActive;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=ut("recharts-scatter",s),b=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,S=b||x,C=yr(h)?this.id:h;return ue.createElement(ei,{className:y,clipPath:S?"url(#clipPath-".concat(C,")"):null},b||x?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(C)},ue.createElement("rect",{x:b?u:u-A/2,y:x?d:d-f/2,width:b?A:A*2,height:x?f:f*2}))):null,a&&this.renderLine(),this.renderErrorBar(),ue.createElement(ei,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!p||v)&&$A.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(I.PureComponent);RA(Tb,"displayName","Scatter");RA(Tb,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Gm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});RA(Tb,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,o=e.displayedData,a=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,u=Cs(i.props.children,m6),d=yr(t.dataKey)?i.props.dataKey:t.dataKey,A=yr(r.dataKey)?i.props.dataKey:r.dataKey,f=n&&n.dataKey,h=n?n.range:vB.defaultProps.range,p=h&&h[0],v=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,b=o.map(function(x,S){var C=Ba(x,d),_=Ba(x,A),B=!yr(f)&&Ba(x,f)||"-",T=[{name:yr(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:C,payload:x,dataKey:d,type:c},{name:yr(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:x,dataKey:A,type:c}];B!=="-"&&T.push({name:n.name||n.dataKey,unit:n.unit||"",value:B,payload:x,dataKey:f,type:c});var O=nee({axis:t,ticks:a,bandSize:v,entry:x,index:S,dataKey:d}),P=nee({axis:r,ticks:s,bandSize:y,entry:x,index:S,dataKey:A}),F=B!=="-"?n.scale(B):p,U=Math.sqrt(Math.max(F,0)/Math.PI);return el(el({},x),{},{cx:O,cy:P,x:O-U,y:P-U,xAxis:t,yAxis:r,zAxis:n,width:2*U,height:2*U,size:F,node:{x:C,y:_,z:B},tooltipPayload:T,tooltipPosition:{x:O,y:P},payload:x},u&&u[S]&&u[S].props)});return el({points:b},l)});function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function amt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function smt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z2e(n.key),n)}}function lmt(e,t,r){return t&&smt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cmt(e,t,r){return t=dE(t),umt(e,X2e()?Reflect.construct(t,r||[],dE(e).constructor):t.apply(e,r))}function umt(e,t){if(t&&(ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dmt(e)}function dmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X2e=function(){return!!e})()}function dE(e){return dE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dE(e)}function Amt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n3(e,t)}function J2e(e,t,r){return t=Z2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z2e(e){var t=fmt(e,"string");return ym(t)=="symbol"?t:t+""}function fmt(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function i3(){return i3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i3.apply(this,arguments)}function hmt(e){var t=e.xAxisId,r=W6(),n=V6(),i=M2e(t);return i==null?null:ue.createElement(Zm,i3({},i,{className:ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return sd(a,!0)}}))}var Zh=function(e){function t(){return amt(this,t),cmt(this,t,arguments)}return Amt(t,e),lmt(t,[{key:"render",value:function(){return ue.createElement(hmt,this.props)}}])}(ue.Component);J2e(Zh,"displayName","XAxis");J2e(Zh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function pmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gmt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rFe(n.key),n)}}function mmt(e,t,r){return t&&gmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vmt(e,t,r){return t=AE(t),ymt(e,eFe()?Reflect.construct(t,r||[],AE(e).constructor):t.apply(e,r))}function ymt(e,t){if(t&&(wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wmt(e)}function wmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eFe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eFe=function(){return!!e})()}function AE(e){return AE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AE(e)}function bmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o3(e,t)}function o3(e,t){return o3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o3(e,t)}function tFe(e,t,r){return t=rFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rFe(e){var t=xmt(e,"string");return wm(t)=="symbol"?t:t+""}function xmt(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a3.apply(this,arguments)}var Smt=function(t){var r=t.yAxisId,n=W6(),i=V6(),o=F2e(r);return o==null?null:ue.createElement(Zm,a3({},o,{className:ut("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return sd(s,!0)}}))},ep=function(e){function t(){return pmt(this,t),vmt(this,t,arguments)}return bmt(t,e),mmt(t,[{key:"render",value:function(){return ue.createElement(Smt,this.props)}}])}(ue.Component);tFe(ep,"displayName","YAxis");tFe(ep,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Nte(e){return Imt(e)||Emt(e)||_mt(e)||Cmt()}function Cmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _mt(e,t){if(e){if(typeof e=="string")return s3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s3(e,t)}}function Emt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Imt(e){if(Array.isArray(e))return s3(e)}function s3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l3=function(t,r,n,i,o){var a=Cs(t,Ow),s=Cs(t,pB),l=[].concat(Nte(a),Nte(s)),c=Cs(t,mB),u="".concat(i,"Id"),d=i[0],A=r;if(l.length&&(A=l.reduce(function(p,v){if(v.props[u]===n&&nu(v.props,"extendDomain")&&mt(v.props[d])){var y=v.props[d];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},A)),c.length){var f="".concat(d,"1"),h="".concat(d,"2");A=c.reduce(function(p,v){if(v.props[u]===n&&nu(v.props,"extendDomain")&&mt(v.props[f])&&mt(v.props[h])){var y=v.props[f],b=v.props[h];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},A)}return o&&o.length&&(A=o.reduce(function(p,v){return mt(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},A)),A},xk={exports:{}},$te;function Bmt(){return $te||($te=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,A){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,A),h=r?r+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],f]:l._events[h].push(f):(l._events[h]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var A=0,f=d.length,h=new Array(f);A<f;A++)h[A]=d[A].fn;return h},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,A,f,h){var p=r?r+c:c;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,A),!0;case 5:return v.fn.call(v.context,u,d,A,f),!0;case 6:return v.fn.call(v.context,u,d,A,f,h),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var S=v.length,C;for(x=0;x<S;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,d);break;case 4:v[x].fn.call(v[x].context,u,d,A);break;default:if(!b)for(C=1,b=new Array(y-1);C<y;C++)b[C-1]=arguments[C];v[x].fn.apply(v[x].context,b)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,A){var f=r?r+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var h=this._events[f];if(h.fn)h.fn===u&&(!A||h.once)&&(!d||h.context===d)&&a(this,f);else{for(var p=0,v=[],y=h.length;p<y;p++)(h[p].fn!==u||A&&!h[p].once||d&&h[p].context!==d)&&v.push(h[p]);v.length?this._events[f]=v.length===1?v[0]:v:a(this,f)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(xk)),xk.exports}var Pmt=Bmt();const nFe=kr(Pmt);var Sk=new nFe,Ck="recharts.syncMouseEvents";function Mw(e){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mw(e)}function Tmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Omt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iFe(n.key),n)}}function Rmt(e,t,r){return t&&Omt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _k(e,t,r){return t=iFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iFe(e){var t=Mmt(e,"string");return Mw(t)=="symbol"?t:t+""}function Mmt(e,t){if(Mw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fmt=function(){function e(){Tmt(this,e),_k(this,"activeIndex",0),_k(this,"coordinateList",[]),_k(this,"layout","horizontal")}return Rmt(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,s=a===void 0?null:a,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,A=r.mouseHandlerCallback,f=A===void 0?null:A;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,A=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:A})}}}])}();function kmt(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&mt(n)&&mt(i))return!0}return!1}function Umt(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oFe(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,o=e.endAngle,a=Eo(t,r,n,i),s=Eo(t,r,n,o);return{points:[a,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function Dmt(e,t,r){var n,i,o,a;if(e==="horizontal")n=t.x,o=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,A=Eo(s,l,c,d),f=Eo(s,l,u,d);n=A.x,i=A.y,o=f.x,a=f.y}else return oFe(t);return[{x:n,y:i},{x:o,y:a}]}function Fw(e){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fw(e)}function Qte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qte(Object(r),!0).forEach(function(n){jmt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jmt(e,t,r){return t=Lmt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lmt(e){var t=Nmt(e,"string");return Fw(t)=="symbol"?t:t+""}function Nmt(e,t){if(Fw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $mt(e){var t,r,n=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,A=e.chartName,f=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!o||!a||A!=="ScatterChart"&&i!=="axis")return null;var h,p=RH;if(A==="ScatterChart")h=a,p=Uft;else if(A==="BarChart")h=Umt(d,a,l,u),p=H6;else if(d==="radial"){var v=oFe(a),y=v.cx,b=v.cy,x=v.radius,S=v.startAngle,C=v.endAngle;h={cx:y,cy:b,startAngle:S,endAngle:C,innerRadius:x,outerRadius:x},p=s2e}else h={points:Dmt(d,a,l)},p=RH;var _=WS(WS(WS(WS({stroke:"#ccc",pointerEvents:"none"},l),h),Dr(f,!1)),{},{payload:s,payloadIndex:c,className:ut("recharts-tooltip-cursor",f.className)});return I.isValidElement(f)?I.cloneElement(f,_):I.createElement(p,_)}var Qmt=["item"],Hmt=["children","className","width","height","style","compact","title","desc"];function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function Hte(e,t){return Kmt(e)||zmt(e,t)||sFe(e,t)||qmt()}function qmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zmt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Kmt(e){if(Array.isArray(e))return e}function qte(e,t){if(e==null)return{};var r=Wmt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wmt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gmt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lFe(n.key),n)}}function Ymt(e,t,r){return t&&Gmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xmt(e,t,r){return t=fE(t),Jmt(e,aFe()?Reflect.construct(t,r||[],fE(e).constructor):t.apply(e,r))}function Jmt(e,t){if(t&&(bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zmt(e)}function Zmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aFe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aFe=function(){return!!e})()}function fE(e){return fE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fE(e)}function evt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c3(e,t)}function c3(e,t){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c3(e,t)}function xm(e){return nvt(e)||rvt(e)||sFe(e)||tvt()}function tvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sFe(e,t){if(e){if(typeof e=="string")return u3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u3(e,t)}}function rvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nvt(e){if(Array.isArray(e))return u3(e)}function u3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zte(Object(r),!0).forEach(function(n){Xt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xt(e,t,r){return t=lFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lFe(e){var t=ivt(e,"string");return bm(t)=="symbol"?t:t+""}function ivt(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ovt={xAxis:["bottom","top"],yAxis:["left","right"]},avt={width:"100%",height:"100%"},cFe={x:0,y:0};function VS(e){return e}var svt=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},lvt=function(t,r,n,i){var o=r.find(function(u){return u&&u.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return Le(Le(Le({},i),Eo(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Le(Le(Le({},i),Eo(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return cFe},yB=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(xm(s),xm(c)):s},[]);return a.length>0?a:t&&t.length&&mt(i)&&mt(o)?t.slice(i,o+1):[]};function uFe(e){return e==="number"?[0,"auto"]:void 0}var d3=function(t,r,n,i){var o=t.graphicalItems,a=t.tooltipAxis,s=yB(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var A;if(a.dataKey&&!a.allowDuplicatedCategory){var f=d===void 0?s:d;A=v_(f,a.dataKey,i)}else A=d&&d[n]||s[n];return A?[].concat(xm(l),[i2e(c,A)]):l},[])},Kte=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},a=svt(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=Sut(a,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,A=d3(t,r,u,d),f=lvt(n,s,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:A,activeCoordinate:f}}return null},cvt=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,A=t.stackOffset,f=t2e(u,o);return n.reduce(function(h,p){var v,y=p.type.defaultProps!==void 0?Le(Le({},p.type.defaultProps),p.props):p.props,b=y.type,x=y.dataKey,S=y.allowDataOverflow,C=y.allowDuplicatedCategory,_=y.scale,B=y.ticks,T=y.includeHidden,O=y[a];if(h[O])return h;var P=yB(t.data,{graphicalItems:i.filter(function(V){var G,X=a in V.props?V.props[a]:(G=V.type.defaultProps)===null||G===void 0?void 0:G[a];return X===O}),dataStartIndex:l,dataEndIndex:c}),F=P.length,U,k,M;kmt(y.domain,S,b)&&(U=IH(y.domain,null,S),f&&(b==="number"||_!=="auto")&&(M=C0(P,x,"category")));var D=uFe(b);if(!U||U.length===0){var j,$=(j=y.domain)!==null&&j!==void 0?j:D;if(x){if(U=C0(P,x,b),b==="category"&&f){var Q=lrt(U);C&&Q?(k=U,U=Z_(0,F)):C||(U=see($,U,p).reduce(function(V,G){return V.indexOf(G)>=0?V:[].concat(xm(V),[G])},[]))}else if(b==="category")C?U=U.filter(function(V){return V!==""&&!yr(V)}):U=see($,U,p).reduce(function(V,G){return V.indexOf(G)>=0||G===""||yr(G)?V:[].concat(xm(V),[G])},[]);else if(b==="number"){var H=But(P,i.filter(function(V){var G,X,Z=a in V.props?V.props[a]:(G=V.type.defaultProps)===null||G===void 0?void 0:G[a],oe="hide"in V.props?V.props.hide:(X=V.type.defaultProps)===null||X===void 0?void 0:X.hide;return Z===O&&(T||!oe)}),x,o,u);H&&(U=H)}f&&(b==="number"||_!=="auto")&&(M=C0(P,x,"category"))}else f?U=Z_(0,F):s&&s[O]&&s[O].hasStack&&b==="number"?U=A==="expand"?[0,1]:n2e(s[O].stackGroups,l,c):U=e2e(P,i.filter(function(V){var G=a in V.props?V.props[a]:V.type.defaultProps[a],X="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return G===O&&(T||!X)}),b,u,!0);if(b==="number")U=l3(d,U,O,o,B),$&&(U=IH($,U,S));else if(b==="category"&&$){var W=$,z=U.every(function(V){return W.indexOf(V)>=0});z&&(U=W)}}return Le(Le({},h),{},Xt({},O,Le(Le({},y),{},{axisType:o,domain:U,categoricalDomain:M,duplicateDomain:k,originalDomain:(v=y.domain)!==null&&v!==void 0?v:D,isCategorical:f,layout:u})))},{})},uvt=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,A=yB(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),f=A.length,h=t2e(u,o),p=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Le(Le({},y.type.defaultProps),y.props):y.props,x=b[a],S=uFe("number");if(!v[x]){p++;var C;return h?C=Z_(0,f):s&&s[x]&&s[x].hasStack?(C=n2e(s[x].stackGroups,l,c),C=l3(d,C,x,o)):(C=IH(S,e2e(A,n.filter(function(_){var B,T,O=a in _.props?_.props[a]:(B=_.type.defaultProps)===null||B===void 0?void 0:B[a],P="hide"in _.props?_.props.hide:(T=_.type.defaultProps)===null||T===void 0?void 0:T.hide;return O===x&&!P}),"number",u),i.defaultProps.allowDataOverflow),C=l3(d,C,x,o)),Le(Le({},v),{},Xt({},x,Le(Le({axisType:o},i.defaultProps),{},{hide:!0,orientation:gl(ovt,"".concat(o,".").concat(p%2),null),domain:C,originalDomain:S,isCategorical:h,layout:u})))}return v},{})},dvt=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(i,"Id"),A=Cs(u,o),f={};return A&&A.length?f=cvt(t,{axes:A,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(f=uvt(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),f},Avt=function(t){var r=IA(t),n=sd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:h6(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:q_(r,n)}},Wte=function(t){var r=t.children,n=t.defaultShowTooltip,i=gs(r,dm),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},fvt=function(t){return!t||!t.length?!1:t.some(function(r){var n=hd(r&&r.type);return n&&n.indexOf("Bar")>=0})},Vte=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hvt=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,A=n.margin||{},f=gs(d,dm),h=gs(d,mh),p=Object.keys(l).reduce(function(C,_){var B=l[_],T=B.orientation;return!B.mirror&&!B.hide?Le(Le({},C),{},Xt({},T,C[T]+B.width)):C},{left:A.left||0,right:A.right||0}),v=Object.keys(a).reduce(function(C,_){var B=a[_],T=B.orientation;return!B.mirror&&!B.hide?Le(Le({},C),{},Xt({},T,gl(C,"".concat(T))+B.height)):C},{top:A.top||0,bottom:A.bottom||0}),y=Le(Le({},v),p),b=y.bottom;f&&(y.bottom+=f.props.height||dm.defaultProps.height),h&&r&&(y=Eut(y,i,n,r));var x=c-y.left-y.right,S=u-y.top-y.bottom;return Le(Le({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(S,0)})},pvt=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},dFe=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,A=function(y,b){var x=b.graphicalItems,S=b.stackGroups,C=b.offset,_=b.updateId,B=b.dataStartIndex,T=b.dataEndIndex,O=y.barSize,P=y.layout,F=y.barGap,U=y.barCategoryGap,k=y.maxBarSize,M=Vte(P),D=M.numericAxisName,j=M.cateAxisName,$=fvt(x),Q=[];return x.forEach(function(H,W){var z=yB(y.data,{graphicalItems:[H],dataStartIndex:B,dataEndIndex:T}),V=H.type.defaultProps!==void 0?Le(Le({},H.type.defaultProps),H.props):H.props,G=V.dataKey,X=V.maxBarSize,Z=V["".concat(D,"Id")],oe=V["".concat(j,"Id")],ae={},ne=l.reduce(function(Te,we){var Be=b["".concat(we.axisType,"Map")],Ze=V["".concat(we.axisType,"Id")];Be&&Be[Ze]||we.axisType==="zAxis"||Oh();var me=Be[Ze];return Le(Le({},Te),{},Xt(Xt({},we.axisType,me),"".concat(we.axisType,"Ticks"),sd(me)))},ae),te=ne[j],se=ne["".concat(j,"Ticks")],de=S&&S[Z]&&S[Z].hasStack&&Nut(H,S[Z].stackGroups),re=hd(H.type).indexOf("Bar")>=0,he=q_(te,se),ye=[],ke=$&&Cut({barSize:O,stackGroups:S,totalSize:pvt(ne,j)});if(re){var Ue,Ne,Ye=yr(X)?k:X,lt=(Ue=(Ne=q_(te,se,!0))!==null&&Ne!==void 0?Ne:Ye)!==null&&Ue!==void 0?Ue:0;ye=_ut({barGap:F,barCategoryGap:U,bandSize:lt!==he?lt:he,sizeList:ke[oe],maxBarSize:Ye}),lt!==he&&(ye=ye.map(function(Te){return Le(Le({},Te),{},{position:Le(Le({},Te.position),{},{offset:Te.position.offset-lt/2})})}))}var Ve=H&&H.type&&H.type.getComposedData;Ve&&Q.push({props:Le(Le({},Ve(Le(Le({},ne),{},{displayedData:z,props:y,dataKey:G,item:H,bandSize:he,barPosition:ye,offset:C,stackedData:de,layout:P,dataStartIndex:B,dataEndIndex:T}))),{},Xt(Xt(Xt({key:H.key||"item-".concat(W)},D,ne[D]),j,ne[j]),"animationId",_)),childIndex:wrt(H,y.children),item:H})}),Q},f=function(y,b){var x=y.props,S=y.dataStartIndex,C=y.dataEndIndex,_=y.updateId;if(!wY({props:x}))return null;var B=x.children,T=x.layout,O=x.stackOffset,P=x.data,F=x.reverseStackOrder,U=Vte(T),k=U.numericAxisName,M=U.cateAxisName,D=Cs(B,n),j=Dut(P,D,"".concat(k,"Id"),"".concat(M,"Id"),O,F),$=l.reduce(function(V,G){var X="".concat(G.axisType,"Map");return Le(Le({},V),{},Xt({},X,dvt(x,Le(Le({},G),{},{graphicalItems:D,stackGroups:G.axisType===k&&j,dataStartIndex:S,dataEndIndex:C}))))},{}),Q=hvt(Le(Le({},$),{},{props:x,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys($).forEach(function(V){$[V]=u(x,$[V],Q,V.replace("Map",""),r)});var H=$["".concat(M,"Map")],W=Avt(H),z=A(x,Le(Le({},$),{},{dataStartIndex:S,dataEndIndex:C,updateId:_,graphicalItems:D,stackGroups:j,offset:Q}));return Le(Le({formattedGraphicalItems:z,graphicalItems:D,offset:Q,stackGroups:j},W),$)},h=function(v){function y(b){var x,S,C;return Vmt(this,y),C=Xmt(this,y,[b]),Xt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xt(C,"accessibilityManager",new Fmt),Xt(C,"handleLegendBBoxUpdate",function(_){if(_){var B=C.state,T=B.dataStartIndex,O=B.dataEndIndex,P=B.updateId;C.setState(Le({legendBBox:_},f({props:C.props,dataStartIndex:T,dataEndIndex:O,updateId:P},Le(Le({},C.state),{},{legendBBox:_}))))}}),Xt(C,"handleReceiveSyncEvent",function(_,B,T){if(C.props.syncId===_){if(T===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(B)}}),Xt(C,"handleBrushChange",function(_){var B=_.startIndex,T=_.endIndex;if(B!==C.state.dataStartIndex||T!==C.state.dataEndIndex){var O=C.state.updateId;C.setState(function(){return Le({dataStartIndex:B,dataEndIndex:T},f({props:C.props,dataStartIndex:B,dataEndIndex:T,updateId:O},C.state))}),C.triggerSyncEvent({dataStartIndex:B,dataEndIndex:T})}}),Xt(C,"handleMouseEnter",function(_){var B=C.getMouseInfo(_);if(B){var T=Le(Le({},B),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var O=C.props.onMouseEnter;mr(O)&&O(T,_)}}),Xt(C,"triggeredAfterMouseMove",function(_){var B=C.getMouseInfo(_),T=B?Le(Le({},B),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var O=C.props.onMouseMove;mr(O)&&O(T,_)}),Xt(C,"handleItemMouseEnter",function(_){C.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Xt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Xt(C,"handleMouseMove",function(_){_.persist(),C.throttleTriggeredAfterMouseMove(_)}),Xt(C,"handleMouseLeave",function(_){C.throttleTriggeredAfterMouseMove.cancel();var B={isTooltipActive:!1};C.setState(B),C.triggerSyncEvent(B);var T=C.props.onMouseLeave;mr(T)&&T(B,_)}),Xt(C,"handleOuterEvent",function(_){var B=yrt(_),T=gl(C.props,"".concat(B));if(B&&mr(T)){var O,P;/.*touch.*/i.test(B)?P=C.getMouseInfo(_.changedTouches[0]):P=C.getMouseInfo(_),T((O=P)!==null&&O!==void 0?O:{},_)}}),Xt(C,"handleClick",function(_){var B=C.getMouseInfo(_);if(B){var T=Le(Le({},B),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var O=C.props.onClick;mr(O)&&O(T,_)}}),Xt(C,"handleMouseDown",function(_){var B=C.props.onMouseDown;if(mr(B)){var T=C.getMouseInfo(_);B(T,_)}}),Xt(C,"handleMouseUp",function(_){var B=C.props.onMouseUp;if(mr(B)){var T=C.getMouseInfo(_);B(T,_)}}),Xt(C,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Xt(C,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.handleMouseDown(_.changedTouches[0])}),Xt(C,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.handleMouseUp(_.changedTouches[0])}),Xt(C,"handleDoubleClick",function(_){var B=C.props.onDoubleClick;if(mr(B)){var T=C.getMouseInfo(_);B(T,_)}}),Xt(C,"handleContextMenu",function(_){var B=C.props.onContextMenu;if(mr(B)){var T=C.getMouseInfo(_);B(T,_)}}),Xt(C,"triggerSyncEvent",function(_){C.props.syncId!==void 0&&Sk.emit(Ck,C.props.syncId,_,C.eventEmitterSymbol)}),Xt(C,"applySyncEvent",function(_){var B=C.props,T=B.layout,O=B.syncMethod,P=C.state.updateId,F=_.dataStartIndex,U=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)C.setState(Le({dataStartIndex:F,dataEndIndex:U},f({props:C.props,dataStartIndex:F,dataEndIndex:U,updateId:P},C.state)));else if(_.activeTooltipIndex!==void 0){var k=_.chartX,M=_.chartY,D=_.activeTooltipIndex,j=C.state,$=j.offset,Q=j.tooltipTicks;if(!$)return;if(typeof O=="function")D=O(Q,_);else if(O==="value"){D=-1;for(var H=0;H<Q.length;H++)if(Q[H].value===_.activeLabel){D=H;break}}var W=Le(Le({},$),{},{x:$.left,y:$.top}),z=Math.min(k,W.x+W.width),V=Math.min(M,W.y+W.height),G=Q[D]&&Q[D].value,X=d3(C.state,C.props.data,D),Z=Q[D]?{x:T==="horizontal"?Q[D].coordinate:z,y:T==="horizontal"?V:Q[D].coordinate}:cFe;C.setState(Le(Le({},_),{},{activeLabel:G,activeCoordinate:Z,activePayload:X,activeTooltipIndex:D}))}else C.setState(_)}),Xt(C,"renderCursor",function(_){var B,T=C.state,O=T.isTooltipActive,P=T.activeCoordinate,F=T.activePayload,U=T.offset,k=T.activeTooltipIndex,M=T.tooltipAxisBandSize,D=C.getTooltipEventType(),j=(B=_.props.active)!==null&&B!==void 0?B:O,$=C.props.layout,Q=_.key||"_recharts-cursor";return ue.createElement($mt,{key:Q,activeCoordinate:P,activePayload:F,activeTooltipIndex:k,chartName:r,element:_,isActive:j,layout:$,offset:U,tooltipAxisBandSize:M,tooltipEventType:D})}),Xt(C,"renderPolarAxis",function(_,B,T){var O=gl(_,"type.axisType"),P=gl(C.state,"".concat(O,"Map")),F=_.type.defaultProps,U=F!==void 0?Le(Le({},F),_.props):_.props,k=P&&P[U["".concat(O,"Id")]];return I.cloneElement(_,Le(Le({},k),{},{className:ut(O,k.className),key:_.key||"".concat(B,"-").concat(T),ticks:sd(k,!0)}))}),Xt(C,"renderPolarGrid",function(_){var B=_.props,T=B.radialLines,O=B.polarAngles,P=B.polarRadius,F=C.state,U=F.radiusAxisMap,k=F.angleAxisMap,M=IA(U),D=IA(k),j=D.cx,$=D.cy,Q=D.innerRadius,H=D.outerRadius;return I.cloneElement(_,{polarAngles:Array.isArray(O)?O:sd(D,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(P)?P:sd(M,!0).map(function(W){return W.coordinate}),cx:j,cy:$,innerRadius:Q,outerRadius:H,key:_.key||"polar-grid",radialLines:T})}),Xt(C,"renderLegend",function(){var _=C.state.formattedGraphicalItems,B=C.props,T=B.children,O=B.width,P=B.height,F=C.props.margin||{},U=O-(F.left||0)-(F.right||0),k=JMe({children:T,formattedGraphicalItems:_,legendWidth:U,legendContent:c});if(!k)return null;var M=k.item,D=qte(k,Qmt);return I.cloneElement(M,Le(Le({},D),{},{chartWidth:O,chartHeight:P,margin:F,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Xt(C,"renderTooltip",function(){var _,B=C.props,T=B.children,O=B.accessibilityLayer,P=gs(T,nl);if(!P)return null;var F=C.state,U=F.isTooltipActive,k=F.activeCoordinate,M=F.activePayload,D=F.activeLabel,j=F.offset,$=(_=P.props.active)!==null&&_!==void 0?_:U;return I.cloneElement(P,{viewBox:Le(Le({},j),{},{x:j.left,y:j.top}),active:$,label:D,payload:$?M:[],coordinate:k,accessibilityLayer:O})}),Xt(C,"renderBrush",function(_){var B=C.props,T=B.margin,O=B.data,P=C.state,F=P.offset,U=P.dataStartIndex,k=P.dataEndIndex,M=P.updateId;return I.cloneElement(_,{key:_.key||"_recharts-brush",onChange:HS(C.handleBrushChange,_.props.onChange),data:O,x:mt(_.props.x)?_.props.x:F.left,y:mt(_.props.y)?_.props.y:F.top+F.height+F.brushBottom-(T.bottom||0),width:mt(_.props.width)?_.props.width:F.width,startIndex:U,endIndex:k,updateId:"brush-".concat(M)})}),Xt(C,"renderReferenceElement",function(_,B,T){if(!_)return null;var O=C,P=O.clipPathId,F=C.state,U=F.xAxisMap,k=F.yAxisMap,M=F.offset,D=_.type.defaultProps||{},j=_.props,$=j.xAxisId,Q=$===void 0?D.xAxisId:$,H=j.yAxisId,W=H===void 0?D.yAxisId:H;return I.cloneElement(_,{key:_.key||"".concat(B,"-").concat(T),xAxis:U[Q],yAxis:k[W],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:P})}),Xt(C,"renderActivePoints",function(_){var B=_.item,T=_.activePoint,O=_.basePoint,P=_.childIndex,F=_.isRange,U=[],k=B.props.key,M=B.item.type.defaultProps!==void 0?Le(Le({},B.item.type.defaultProps),B.item.props):B.item.props,D=M.activeDot,j=M.dataKey,$=Le(Le({index:P,dataKey:j,cx:T.x,cy:T.y,r:4,fill:Q6(B.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Dr(D,!1)),y_(D));return U.push(y.renderActiveDot(D,$,"".concat(k,"-activePoint-").concat(P))),O?U.push(y.renderActiveDot(D,Le(Le({},$),{},{cx:O.x,cy:O.y}),"".concat(k,"-basePoint-").concat(P))):F&&U.push(null),U}),Xt(C,"renderGraphicChild",function(_,B,T){var O=C.filterFormatItem(_,B,T);if(!O)return null;var P=C.getTooltipEventType(),F=C.state,U=F.isTooltipActive,k=F.tooltipAxis,M=F.activeTooltipIndex,D=F.activeLabel,j=C.props.children,$=gs(j,nl),Q=O.props,H=Q.points,W=Q.isRange,z=Q.baseLine,V=O.item.type.defaultProps!==void 0?Le(Le({},O.item.type.defaultProps),O.item.props):O.item.props,G=V.activeDot,X=V.hide,Z=V.activeBar,oe=V.activeShape,ae=!!(!X&&U&&$&&(G||Z||oe)),ne={};P!=="axis"&&$&&$.props.trigger==="click"?ne={onClick:HS(C.handleItemMouseEnter,_.props.onClick)}:P!=="axis"&&(ne={onMouseLeave:HS(C.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:HS(C.handleItemMouseEnter,_.props.onMouseEnter)});var te=I.cloneElement(_,Le(Le({},O.props),ne));function se(we){return typeof k.dataKey=="function"?k.dataKey(we.payload):null}if(ae)if(M>=0){var de,re;if(k.dataKey&&!k.allowDuplicatedCategory){var he=typeof k.dataKey=="function"?se:"payload.".concat(k.dataKey.toString());de=v_(H,he,D),re=W&&z&&v_(z,he,D)}else de=H==null?void 0:H[M],re=W&&z&&z[M];if(oe||Z){var ye=_.props.activeIndex!==void 0?_.props.activeIndex:M;return[I.cloneElement(_,Le(Le(Le({},O.props),ne),{},{activeIndex:ye})),null,null]}if(!yr(de))return[te].concat(xm(C.renderActivePoints({item:O,activePoint:de,basePoint:re,childIndex:M,isRange:W})))}else{var ke,Ue=(ke=C.getItemByXY(C.state.activeCoordinate))!==null&&ke!==void 0?ke:{graphicalItem:te},Ne=Ue.graphicalItem,Ye=Ne.item,lt=Ye===void 0?_:Ye,Ve=Ne.childIndex,Te=Le(Le(Le({},O.props),ne),{},{activeIndex:Ve});return[I.cloneElement(lt,Te),null,null]}return W?[te,null,null]:[te,null]}),Xt(C,"renderCustomized",function(_,B,T){return I.cloneElement(_,Le(Le({key:"recharts-customized-".concat(T)},C.props),C.state))}),Xt(C,"renderMap",{CartesianGrid:{handler:VS,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:VS},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:VS},YAxis:{handler:VS},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:Sb("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=GRe(C.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),C.state={},C}return evt(y,v),Ymt(y,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,C=x.data,_=x.height,B=x.layout,T=gs(S,nl);if(T){var O=T.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,F=d3(this.state,C,O,P),U=this.state.tooltipTicks[O].coordinate,k=(this.state.offset.top+_)/2,M=B==="horizontal",D=M?{x:U,y:k}:{y:U,x:k},j=this.state.formattedGraphicalItems.find(function(Q){var H=Q.item;return H.type.name==="Scatter"});j&&(D=Le(Le({},D),j.props.points[O].tooltipPosition),F=j.props.points[O].tooltipPayload);var $={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:P,activePayload:F,activeCoordinate:D};this.setState($),this.renderCursor(T),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var C,_;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(x){VQ([gs(x.children,nl)],[gs(this.props.children,nl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=gs(this.props.children,nl);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,C=S.getBoundingClientRect(),_=aat(C),B={chartX:Math.round(x.pageX-_.left),chartY:Math.round(x.pageY-_.top)},T=C.width/S.offsetWidth||1,O=this.inRange(B.chartX,B.chartY,T);if(!O)return null;var P=this.state,F=P.xAxisMap,U=P.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&F&&U){var M=IA(F).scale,D=IA(U).scale,j=M&&M.invert?M.invert(B.chartX):null,$=D&&D.invert?D.invert(B.chartY):null;return Le(Le({},B),{},{xValue:j,yValue:$})}var Q=Kte(this.state,this.props.data,this.props.layout,O);return Q?Le(Le({},B),Q):null}},{key:"inRange",value:function(x,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,B=x/C,T=S/C;if(_==="horizontal"||_==="vertical"){var O=this.state.offset,P=B>=O.left&&B<=O.left+O.width&&T>=O.top&&T<=O.top+O.height;return P?{x:B,y:T}:null}var F=this.state,U=F.angleAxisMap,k=F.radiusAxisMap;if(U&&k){var M=IA(U);return uee({x:B,y:T},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),C=gs(x,nl),_={};C&&S==="axis"&&(C.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var B=y_(this.props,this.handleOuterEvent);return Le(Le({},B),_)}},{key:"addListener",value:function(){Sk.on(Ck,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sk.removeListener(Ck,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,C){for(var _=this.state.formattedGraphicalItems,B=0,T=_.length;B<T;B++){var O=_[B];if(O.item===x||O.props.key===x.key||S===hd(O.item.type)&&C===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,C=S.left,_=S.top,B=S.height,T=S.width;return ue.createElement("defs",null,ue.createElement("clipPath",{id:x},ue.createElement("rect",{x:C,y:_,height:B,width:T})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,C){var _=Hte(C,2),B=_[0],T=_[1];return Le(Le({},S),{},Xt({},B,T.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,C){var _=Hte(C,2),B=_[0],T=_[1];return Le(Le({},S),{},Xt({},B,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,C=S.formattedGraphicalItems,_=S.activeItem;if(C&&C.length)for(var B=0,T=C.length;B<T;B++){var O=C[B],P=O.props,F=O.item,U=F.type.defaultProps!==void 0?Le(Le({},F.type.defaultProps),F.props):F.props,k=hd(F.type);if(k==="Bar"){var M=(P.data||[]).find(function(Q){return Eft(x,Q)});if(M)return{graphicalItem:O,payload:M}}else if(k==="RadialBar"){var D=(P.data||[]).find(function(Q){return uee(x,Q)});if(D)return{graphicalItem:O,payload:D}}else if(dB(O,_)||AB(O,_)||Iw(O,_)){var j=pht({graphicalItem:O,activeTooltipItem:_,itemData:U.data}),$=U.activeIndex===void 0?j:U.activeIndex;return{graphicalItem:Le(Le({},O),{},{childIndex:$}),payload:Iw(O,_)?U.data[j]:O.props.data[j]}}}return null}},{key:"render",value:function(){var x=this;if(!wY(this))return null;var S=this.props,C=S.children,_=S.className,B=S.width,T=S.height,O=S.style,P=S.compact,F=S.title,U=S.desc,k=qte(S,Hmt),M=Dr(k,!1);if(P)return ue.createElement(_te,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement(YQ,Ig({},M,{width:B,height:T,title:F,desc:U}),this.renderClipPath(),xY(C,this.renderMap)));if(this.props.accessibilityLayer){var D,j;M.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,M.role=(j=this.props.role)!==null&&j!==void 0?j:"application",M.onKeyDown=function(Q){x.accessibilityManager.keyboardEvent(Q)},M.onFocus=function(){x.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return ue.createElement(_te,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement("div",Ig({className:ut("recharts-wrapper",_),style:Le({position:"relative",cursor:"default",width:B,height:T},O)},$,{ref:function(H){x.container=H}}),ue.createElement(YQ,Ig({},M,{width:B,height:T,title:F,desc:U,style:avt}),this.renderClipPath(),xY(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);Xt(h,"displayName",r),Xt(h,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Xt(h,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,x=v.data,S=v.children,C=v.width,_=v.height,B=v.layout,T=v.stackOffset,O=v.margin,P=y.dataStartIndex,F=y.dataEndIndex;if(y.updateId===void 0){var U=Wte(v);return Le(Le(Le({},U),{},{updateId:0},f(Le(Le({props:v},U),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:C,prevHeight:_,prevLayout:B,prevStackOffset:T,prevMargin:O,prevChildren:S})}if(b!==y.prevDataKey||x!==y.prevData||C!==y.prevWidth||_!==y.prevHeight||B!==y.prevLayout||T!==y.prevStackOffset||!Lg(O,y.prevMargin)){var k=Wte(v),M={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=Le(Le({},Kte(y,x,B)),{},{updateId:y.updateId+1}),j=Le(Le(Le({},k),M),D);return Le(Le(Le({},j),f(Le({props:v},j),y)),{},{prevDataKey:b,prevData:x,prevWidth:C,prevHeight:_,prevLayout:B,prevStackOffset:T,prevMargin:O,prevChildren:S})}if(!VQ(S,y.prevChildren)){var $,Q,H,W,z=gs(S,dm),V=z&&($=(Q=z.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&$!==void 0?$:P,G=z&&(H=(W=z.props)===null||W===void 0?void 0:W.endIndex)!==null&&H!==void 0?H:F,X=V!==P||G!==F,Z=!yr(x),oe=Z&&!X?y.updateId:y.updateId+1;return Le(Le({updateId:oe},f(Le(Le({props:v},y),{},{updateId:oe,dataStartIndex:V,dataEndIndex:G}),y)),{},{prevChildren:S,dataStartIndex:V,dataEndIndex:G})}return null}),Xt(h,"renderActiveDot",function(v,y,b){var x;return I.isValidElement(v)?x=I.cloneElement(v,y):mr(v)?x=v(y):x=ue.createElement(p2e,y),ue.createElement(ei,{className:"recharts-active-dot",key:b},x)});var p=I.forwardRef(function(y,b){return ue.createElement(h,Ig({},y,{ref:b}))});return p.displayName=h.displayName,p},AFe=dFe({chartName:"BarChart",GraphicalChild:ff,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zh},{axisType:"yAxis",AxisComp:ep}],formatAxisMap:_2e}),gvt=dFe({chartName:"ScatterChart",GraphicalChild:Tb,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Zh},{axisType:"yAxis",AxisComp:ep},{axisType:"zAxis",AxisComp:vB}],formatAxisMap:_2e});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var A3=function(e,t){return A3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},A3(e,t)};function fc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");A3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var f3=function(){return f3=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},f3.apply(this,arguments)};function xa(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,[])).next())})}function Ko(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function GS(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||t)}var Od=function(){function e(t,r,n,i){this.left=t,this.top=r,this.width=n,this.height=i}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),wB=function(e,t){return Od.fromClientRect(e,t.getBoundingClientRect())},mvt=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Od(0,0,n,i)},bB=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);(o&64512)===56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},bi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,o="";++i<r;){var a=e[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},Gte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vvt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var YS=0;YS<Gte.length;YS++)vvt[Gte.charCodeAt(YS)]=YS;var Yte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zy=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var XS=0;XS<Yte.length;XS++)Zy[Yte.charCodeAt(XS)]=XS;var yvt=function(e){var t=e.length*.75,r=e.length,n,i=0,o,a,s,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)o=Zy[e.charCodeAt(n)],a=Zy[e.charCodeAt(n+1)],s=Zy[e.charCodeAt(n+2)],l=Zy[e.charCodeAt(n+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|s>>2,u[i++]=(s&3)<<6|l&63;return c},wvt=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},bvt=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},wh=5,J6=11,Ek=2,xvt=J6-wh,fFe=65536>>wh,Svt=1<<wh,Ik=Svt-1,Cvt=1024>>wh,_vt=fFe+Cvt,Evt=_vt,Ivt=32,Bvt=Evt+Ivt,Pvt=65536>>J6,Tvt=1<<xvt,Ovt=Tvt-1,Xte=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Rvt=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Mvt=function(e,t){var r=yvt(e),n=Array.isArray(r)?bvt(r):new Uint32Array(r),i=Array.isArray(r)?wvt(r):new Uint16Array(r),o=24,a=Xte(i,o/2,n[4]/2),s=n[5]===2?Xte(i,(o+n[4])/2):Rvt(n,Math.ceil((o+n[4])/4));return new Fvt(n[0],n[1],n[2],n[3],a,s)},Fvt=function(){function e(t,r,n,i,o,a){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=o,this.data=a}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>wh],r=(r<<Ek)+(t&Ik),this.data[r];if(t<=65535)return r=this.index[fFe+(t-55296>>wh)],r=(r<<Ek)+(t&Ik),this.data[r];if(t<this.highStart)return r=Bvt-Pvt+(t>>J6),r=this.index[r],r+=t>>wh&Ovt,r=this.index[r],r=(r<<Ek)+(t&Ik),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Jte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kvt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var JS=0;JS<Jte.length;JS++)kvt[Jte.charCodeAt(JS)]=JS;var Uvt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Zte=50,Dvt=1,hFe=2,pFe=3,jvt=4,Lvt=5,ere=7,gFe=8,tre=9,MA=10,h3=11,rre=12,p3=13,Nvt=14,e0=15,g3=16,ZS=17,_y=18,$vt=19,nre=20,m3=21,Ey=22,Bk=23,eg=24,fs=25,t0=26,r0=27,tg=28,Qvt=29,ah=30,Hvt=31,e1=32,t1=33,v3=34,y3=35,w3=36,kw=37,b3=38,gC=39,mC=40,Pk=41,mFe=42,qvt=43,zvt=[9001,65288],vFe="!",Rr="",r1="",x3=Mvt(Uvt),Wu=[ah,w3],S3=[Dvt,hFe,pFe,Lvt],yFe=[MA,gFe],ire=[r0,t0],Kvt=S3.concat(yFe),ore=[b3,gC,mC,v3,y3],Wvt=[e0,p3],Vvt=function(e,t){t===void 0&&(t="strict");var r=[],n=[],i=[];return e.forEach(function(o,a){var s=x3.get(o);if(s>Zte?(i.push(!0),s-=Zte):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return n.push(a),r.push(g3);if(s===jvt||s===h3){if(a===0)return n.push(a),r.push(ah);var l=r[a-1];return Kvt.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(ah))}if(n.push(a),s===Hvt)return r.push(t==="strict"?m3:kw);if(s===mFe||s===Qvt)return r.push(ah);if(s===qvt)return o>=131072&&o<=196605||o>=196608&&o<=262141?r.push(kw):r.push(ah);r.push(s)}),[n,r,i]},Tk=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var o=r;o<=n.length;){o++;var a=n[o];if(a===t)return!0;if(a!==MA)break}if(i===MA)for(var o=r;o>0;){o--;var s=n[o];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===t)return!0;if(a!==MA)break}if(s!==MA)break}return!1},are=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===MA)r--;else return n}return 0},Gvt=function(e,t,r,n,i){if(r[n]===0)return Rr;var o=n-1;if(Array.isArray(i)&&i[o]===!0)return Rr;var a=o-1,s=o+1,l=t[o],c=a>=0?t[a]:0,u=t[s];if(l===hFe&&u===pFe)return Rr;if(S3.indexOf(l)!==-1)return vFe;if(S3.indexOf(u)!==-1||yFe.indexOf(u)!==-1)return Rr;if(are(o,t)===gFe)return r1;if(x3.get(e[o])===h3||(l===e1||l===t1)&&x3.get(e[s])===h3||l===ere||u===ere||l===tre||[MA,p3,e0].indexOf(l)===-1&&u===tre||[ZS,_y,$vt,eg,tg].indexOf(u)!==-1||are(o,t)===Ey||Tk(Bk,Ey,o,t)||Tk([ZS,_y],m3,o,t)||Tk(rre,rre,o,t))return Rr;if(l===MA)return r1;if(l===Bk||u===Bk)return Rr;if(u===g3||l===g3)return r1;if([p3,e0,m3].indexOf(u)!==-1||l===Nvt||c===w3&&Wvt.indexOf(l)!==-1||l===tg&&u===w3||u===nre||Wu.indexOf(u)!==-1&&l===fs||Wu.indexOf(l)!==-1&&u===fs||l===r0&&[kw,e1,t1].indexOf(u)!==-1||[kw,e1,t1].indexOf(l)!==-1&&u===t0||Wu.indexOf(l)!==-1&&ire.indexOf(u)!==-1||ire.indexOf(l)!==-1&&Wu.indexOf(u)!==-1||[r0,t0].indexOf(l)!==-1&&(u===fs||[Ey,e0].indexOf(u)!==-1&&t[s+1]===fs)||[Ey,e0].indexOf(l)!==-1&&u===fs||l===fs&&[fs,tg,eg].indexOf(u)!==-1)return Rr;if([fs,tg,eg,ZS,_y].indexOf(u)!==-1)for(var d=o;d>=0;){var A=t[d];if(A===fs)return Rr;if([tg,eg].indexOf(A)!==-1)d--;else break}if([r0,t0].indexOf(u)!==-1)for(var d=[ZS,_y].indexOf(l)!==-1?a:o;d>=0;){var A=t[d];if(A===fs)return Rr;if([tg,eg].indexOf(A)!==-1)d--;else break}if(b3===l&&[b3,gC,v3,y3].indexOf(u)!==-1||[gC,v3].indexOf(l)!==-1&&[gC,mC].indexOf(u)!==-1||[mC,y3].indexOf(l)!==-1&&u===mC||ore.indexOf(l)!==-1&&[nre,t0].indexOf(u)!==-1||ore.indexOf(u)!==-1&&l===r0||Wu.indexOf(l)!==-1&&Wu.indexOf(u)!==-1||l===eg&&Wu.indexOf(u)!==-1||Wu.concat(fs).indexOf(l)!==-1&&u===Ey&&zvt.indexOf(e[s])===-1||Wu.concat(fs).indexOf(u)!==-1&&l===_y)return Rr;if(l===Pk&&u===Pk){for(var f=r[o],h=1;f>0&&(f--,t[f]===Pk);)h++;if(h%2!==0)return Rr}return l===e1&&u===t1?Rr:r1},Yvt=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Vvt(e,t.lineBreak),n=r[0],i=r[1],o=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(s){return[fs,ah,mFe].indexOf(s)!==-1?kw:s}));var a=t.wordBreak==="keep-all"?o.map(function(s,l){return s&&e[l]>=19968&&e[l]<=40959}):void 0;return[n,i,a]},Xvt=function(){function e(t,r,n,i){this.codePoints=t,this.required=r===vFe,this.start=n,this.end=i}return e.prototype.slice=function(){return bi.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Jvt=function(e,t){var r=bB(e),n=Yvt(r,t),i=n[0],o=n[1],a=n[2],s=r.length,l=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var u=Rr;c<s&&(u=Gvt(r,o,i,++c,a))===Rr;);if(u!==Rr||c===s){var d=new Xvt(r,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},Zvt=1,eyt=2,Ob=4,sre=8,hE=10,lre=47,B0=92,tyt=9,ryt=32,n1=34,Iy=61,nyt=35,iyt=36,oyt=37,i1=39,o1=40,By=41,ayt=95,za=45,syt=33,lyt=60,cyt=62,uyt=64,dyt=91,Ayt=93,fyt=61,hyt=123,a1=63,pyt=125,cre=124,gyt=126,myt=128,ure=65533,Ok=42,fh=43,vyt=44,yyt=58,wyt=59,Uw=46,byt=0,xyt=8,Syt=11,Cyt=14,_yt=31,Eyt=127,jc=-1,wFe=48,bFe=97,xFe=101,Iyt=102,Byt=117,Pyt=122,SFe=65,CFe=69,_Fe=70,Tyt=85,Oyt=90,Jo=function(e){return e>=wFe&&e<=57},Ryt=function(e){return e>=55296&&e<=57343},rg=function(e){return Jo(e)||e>=SFe&&e<=_Fe||e>=bFe&&e<=Iyt},Myt=function(e){return e>=bFe&&e<=Pyt},Fyt=function(e){return e>=SFe&&e<=Oyt},kyt=function(e){return Myt(e)||Fyt(e)},Uyt=function(e){return e>=myt},s1=function(e){return e===hE||e===tyt||e===ryt},pE=function(e){return kyt(e)||Uyt(e)||e===ayt},dre=function(e){return pE(e)||Jo(e)||e===za},Dyt=function(e){return e>=byt&&e<=xyt||e===Syt||e>=Cyt&&e<=_yt||e===Eyt},EA=function(e,t){return e!==B0?!1:t!==hE},l1=function(e,t,r){return e===za?pE(t)||EA(t,r):pE(e)?!0:!!(e===B0&&EA(e,t))},Rk=function(e,t,r){return e===fh||e===za?Jo(t)?!0:t===Uw&&Jo(r):Jo(e===Uw?t:e)},jyt=function(e){var t=0,r=1;(e[t]===fh||e[t]===za)&&(e[t]===za&&(r=-1),t++);for(var n=[];Jo(e[t]);)n.push(e[t++]);var i=n.length?parseInt(bi.apply(void 0,n),10):0;e[t]===Uw&&t++;for(var o=[];Jo(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(bi.apply(void 0,o),10):0;(e[t]===CFe||e[t]===xFe)&&t++;var l=1;(e[t]===fh||e[t]===za)&&(e[t]===za&&(l=-1),t++);for(var c=[];Jo(e[t]);)c.push(e[t++]);var u=c.length?parseInt(bi.apply(void 0,c),10):0;return r*(i+s*Math.pow(10,-a))*Math.pow(10,l*u)},Lyt={type:2},Nyt={type:3},$yt={type:4},Qyt={type:13},Hyt={type:8},qyt={type:21},zyt={type:9},Kyt={type:10},Wyt={type:11},Vyt={type:12},Gyt={type:14},c1={type:23},Yyt={type:1},Xyt={type:25},Jyt={type:24},Zyt={type:26},e0t={type:27},t0t={type:28},r0t={type:29},n0t={type:31},C3={type:32},EFe=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(bB(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==C3;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case n1:return this.consumeStringToken(n1);case nyt:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(dre(r)||EA(n,i)){var o=l1(r,n,i)?eyt:Zvt,a=this.consumeName();return{type:5,value:a,flags:o}}break;case iyt:if(this.peekCodePoint(0)===Iy)return this.consumeCodePoint(),Qyt;break;case i1:return this.consumeStringToken(i1);case o1:return Lyt;case By:return Nyt;case Ok:if(this.peekCodePoint(0)===Iy)return this.consumeCodePoint(),Gyt;break;case fh:if(Rk(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case vyt:return $yt;case za:var s=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Rk(s,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(l1(s,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===za&&c===cyt)return this.consumeCodePoint(),this.consumeCodePoint(),Jyt;break;case Uw:if(Rk(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case lre:if(this.peekCodePoint(0)===Ok)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Ok&&(u=this.consumeCodePoint(),u===lre))return this.consumeToken();if(u===jc)return this.consumeToken()}break;case yyt:return Zyt;case wyt:return e0t;case lyt:if(this.peekCodePoint(0)===syt&&this.peekCodePoint(1)===za&&this.peekCodePoint(2)===za)return this.consumeCodePoint(),this.consumeCodePoint(),Xyt;break;case uyt:var d=this.peekCodePoint(0),A=this.peekCodePoint(1),f=this.peekCodePoint(2);if(l1(d,A,f)){var a=this.consumeName();return{type:7,value:a}}break;case dyt:return t0t;case B0:if(EA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Ayt:return r0t;case fyt:if(this.peekCodePoint(0)===Iy)return this.consumeCodePoint(),Hyt;break;case hyt:return Wyt;case pyt:return Vyt;case Byt:case Tyt:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h===fh&&(rg(p)||p===a1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case cre:if(this.peekCodePoint(0)===Iy)return this.consumeCodePoint(),zyt;if(this.peekCodePoint(0)===cre)return this.consumeCodePoint(),qyt;break;case gyt:if(this.peekCodePoint(0)===Iy)return this.consumeCodePoint(),Kyt;break;case jc:return C3}return s1(t)?(this.consumeWhiteSpace(),n0t):Jo(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):pE(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:bi(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();rg(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===a1&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(bi.apply(void 0,t.map(function(l){return l===a1?wFe:l})),16),o=parseInt(bi.apply(void 0,t.map(function(l){return l===a1?_Fe:l})),16);return{type:30,start:i,end:o}}var a=parseInt(bi.apply(void 0,t),16);if(this.peekCodePoint(0)===za&&rg(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var s=[];rg(r)&&s.length<6;)s.push(r),r=this.consumeCodePoint();var o=parseInt(bi.apply(void 0,s),16);return{type:30,start:a,end:o}}else return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===o1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===o1?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===jc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===i1||r===n1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===jc||this.peekCodePoint(0)===By)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),c1)}for(;;){var i=this.consumeCodePoint();if(i===jc||i===By)return{type:22,value:bi.apply(void 0,t)};if(s1(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===jc||this.peekCodePoint(0)===By?(this.consumeCodePoint(),{type:22,value:bi.apply(void 0,t)}):(this.consumeBadUrlRemnants(),c1);if(i===n1||i===i1||i===o1||Dyt(i))return this.consumeBadUrlRemnants(),c1;if(i===B0)if(EA(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),c1;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;s1(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===By||t===jc)return;EA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var i=Math.min(r,t);n+=bi.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var i=this._value[n];if(i===jc||i===void 0||i===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===hE)return this._value.splice(0,n),Yyt;if(i===B0){var o=this._value[n+1];o!==jc&&o!==void 0&&(o===hE?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):EA(i,o)&&(r+=this.consumeStringSlice(n),r+=bi(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Ob,n=this.peekCodePoint(0);for((n===fh||n===za)&&t.push(this.consumeCodePoint());Jo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Uw&&Jo(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=sre;Jo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===CFe||n===xFe)&&((i===fh||i===za)&&Jo(o)||Jo(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=sre;Jo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[jyt(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],i=this.peekCodePoint(0),o=this.peekCodePoint(1),a=this.peekCodePoint(2);if(l1(i,o,a)){var s=this.consumeName();return{type:15,number:r,flags:n,unit:s}}return i===oyt?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(rg(t)){for(var r=bi(t);rg(this.peekCodePoint(0))&&r.length<6;)r+=bi(this.consumeCodePoint());s1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Ryt(n)||n>1114111?ure:n}return t===jc?ure:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(dre(r))t+=bi(r);else if(EA(r,this.peekCodePoint(0)))t+=bi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),IFe=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new EFe;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||o0t(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?C3:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Rb=function(e){return e.type===15},ev=function(e){return e.type===17},sn=function(e){return e.type===20},i0t=function(e){return e.type===0},_3=function(e,t){return sn(e)&&e.value===t},BFe=function(e){return e.type!==31},Sm=function(e){return e.type!==31&&e.type!==4},bu=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},o0t=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},JA=function(e){return e.type===17||e.type===15},Ui=function(e){return e.type===16||JA(e)},PFe=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Io={type:17,number:0,flags:Ob},Z6={type:16,number:50,flags:Ob},FA={type:16,number:100,flags:Ob},n0=function(e,t,r){var n=e[0],i=e[1];return[_n(n,t),_n(typeof i<"u"?i:n,r)]},_n=function(e,t){if(e.type===16)return e.number/100*t;if(Rb(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},TFe="deg",OFe="grad",RFe="rad",MFe="turn",xB={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case TFe:return Math.PI*t.number/180;case OFe:return Math.PI/200*t.number;case RFe:return t.number;case MFe:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},FFe=function(e){return e.type===15&&(e.unit===TFe||e.unit===OFe||e.unit===RFe||e.unit===MFe)},kFe=function(e){var t=e.filter(sn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Io,Io];case"to top":case"bottom":return dl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Io,FA];case"to right":case"left":return dl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[FA,FA];case"to bottom":case"top":return dl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[FA,Io];case"to left":case"right":return dl(270)}return 0},dl=function(e){return Math.PI*e/180},QA={name:"color",parse:function(e,t){if(t.type===18){var r=a0t[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return kA(parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3),a=t.value.substring(3,4);return kA(parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6);return kA(parseInt(n,16),parseInt(i,16),parseInt(o,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),a=t.value.substring(6,8);return kA(parseInt(n,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}}if(t.type===20){var s=md[t.value.toUpperCase()];if(typeof s<"u")return s}return md.TRANSPARENT}},HA=function(e){return(255&e)===0},io=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},kA=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},Are=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},fre=function(e,t){var r=t.filter(Sm);if(r.length===3){var n=r.map(Are),i=n[0],o=n[1],a=n[2];return kA(i,o,a,1)}if(r.length===4){var s=r.map(Are),i=s[0],o=s[1],a=s[2],l=s[3];return kA(i,o,a,l)}return 0};function Mk(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var hre=function(e,t){var r=t.filter(Sm),n=r[0],i=r[1],o=r[2],a=r[3],s=(n.type===17?dl(n.number):xB.parse(e,n))/(Math.PI*2),l=Ui(i)?i.number/100:0,c=Ui(o)?o.number/100:0,u=typeof a<"u"&&Ui(a)?_n(a,1):1;if(l===0)return kA(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,A=c*2-d,f=Mk(A,d,s+1/3),h=Mk(A,d,s),p=Mk(A,d,s-1/3);return kA(f*255,h*255,p*255,u)},a0t={hsl:hre,hsla:hre,rgb:fre,rgba:fre},P0=function(e,t){return QA.parse(e,IFe.create(t).parseComponentValue())},md={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},s0t={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(sn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},l0t={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SB=function(e,t){var r=QA.parse(e,t[0]),n=t[1];return n&&Ui(n)?{color:r,stop:n}:{color:r,stop:null}},pre=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Io),n.stop===null&&(n.stop=FA);for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(s!==null){var l=_n(s,t);l>o?i.push(l):i.push(o),o=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var u=i[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var d=a-c,A=i[c-1],f=(u-A)/(d+1),h=1;h<=d;h++)i[c+h-1]=f*h;c=null}}return e.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/t),0)}})},c0t=function(e,t,r){var n=t/2,i=r/2,o=_n(e[0],t)-n,a=i-_n(e[1],r);return(Math.atan2(a,o)+Math.PI*2)%(Math.PI*2)},u0t=function(e,t,r){var n=typeof e=="number"?e:c0t(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),o=t/2,a=r/2,s=i/2,l=Math.sin(n-Math.PI/2)*s,c=Math.cos(n-Math.PI/2)*s;return[i,o-c,o+c,a-l,a+l]},Kl=function(e,t){return Math.sqrt(e*e+t*t)},gre=function(e,t,r,n,i){var o=[[0,0],[0,t],[e,0],[e,t]];return o.reduce(function(a,s){var l=s[0],c=s[1],u=Kl(r-l,n-c);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:s,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},d0t=function(e,t,r,n,i){var o=0,a=0;switch(e.size){case 0:e.shape===0?o=a=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(o=Math.min(Math.abs(t),Math.abs(t-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(e.shape===0)o=a=Math.min(Kl(t,r),Kl(t,r-i),Kl(t-n,r),Kl(t-n,r-i));else if(e.shape===1){var s=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),l=gre(n,i,t,r,!0),c=l[0],u=l[1];o=Kl(c-t,(u-r)/s),a=s*o}break;case 1:e.shape===0?o=a=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(o=Math.max(Math.abs(t),Math.abs(t-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(e.shape===0)o=a=Math.max(Kl(t,r),Kl(t,r-i),Kl(t-n,r),Kl(t-n,r-i));else if(e.shape===1){var s=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n)),d=gre(n,i,t,r,!1),c=d[0],u=d[1];o=Kl(c-t,(u-r)/s),a=s*o}break}return Array.isArray(e.size)&&(o=_n(e.size[0],n),a=e.size.length===2?_n(e.size[1],i):o),[o,a]},A0t=function(e,t){var r=dl(180),n=[];return bu(t).forEach(function(i,o){if(o===0){var a=i[0];if(a.type===20&&a.value==="to"){r=kFe(i);return}else if(FFe(a)){r=xB.parse(e,a);return}}var s=SB(e,i);n.push(s)}),{angle:r,stops:n,type:1}},u1=function(e,t){var r=dl(180),n=[];return bu(t).forEach(function(i,o){if(o===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=kFe(i);return}else if(FFe(a)){r=(xB.parse(e,a)+dl(270))%dl(360);return}}var s=SB(e,i);n.push(s)}),{angle:r,stops:n,type:1}},f0t=function(e,t){var r=dl(180),n=[],i=1,o=0,a=3,s=[];return bu(t).forEach(function(l,c){var u=l[0];if(c===0){if(sn(u)&&u.value==="linear"){i=1;return}else if(sn(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=QA.parse(e,u.values[0]);n.push({stop:Io,color:d})}else if(u.name==="to"){var d=QA.parse(e,u.values[0]);n.push({stop:FA,color:d})}else if(u.name==="color-stop"){var A=u.values.filter(Sm);if(A.length===2){var d=QA.parse(e,A[1]),f=A[0];ev(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),i===1?{angle:(r+dl(180))%dl(360),stops:n,type:i}:{size:a,shape:o,stops:n,position:s,type:i}},UFe="closest-side",DFe="farthest-side",jFe="closest-corner",LFe="farthest-corner",NFe="circle",$Fe="ellipse",QFe="cover",HFe="contain",h0t=function(e,t){var r=0,n=3,i=[],o=[];return bu(t).forEach(function(a,s){var l=!0;if(s===0){var c=!1;l=a.reduce(function(d,A){if(c)if(sn(A))switch(A.value){case"center":return o.push(Z6),d;case"top":case"left":return o.push(Io),d;case"right":case"bottom":return o.push(FA),d}else(Ui(A)||JA(A))&&o.push(A);else if(sn(A))switch(A.value){case NFe:return r=0,!1;case $Fe:return r=1,!1;case"at":return c=!0,!1;case UFe:return n=0,!1;case QFe:case DFe:return n=1,!1;case HFe:case jFe:return n=2,!1;case LFe:return n=3,!1}else if(JA(A)||Ui(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return d},l)}if(l){var u=SB(e,a);i.push(u)}}),{size:n,shape:r,stops:i,position:o,type:2}},d1=function(e,t){var r=0,n=3,i=[],o=[];return bu(t).forEach(function(a,s){var l=!0;if(s===0?l=a.reduce(function(u,d){if(sn(d))switch(d.value){case"center":return o.push(Z6),!1;case"top":case"left":return o.push(Io),!1;case"right":case"bottom":return o.push(FA),!1}else if(Ui(d)||JA(d))return o.push(d),!1;return u},l):s===1&&(l=a.reduce(function(u,d){if(sn(d))switch(d.value){case NFe:return r=0,!1;case $Fe:return r=1,!1;case HFe:case UFe:return n=0,!1;case DFe:return n=1,!1;case jFe:return n=2,!1;case QFe:case LFe:return n=3,!1}else if(JA(d)||Ui(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},l)),l){var c=SB(e,a);i.push(c)}}),{size:n,shape:r,stops:i,position:o,type:2}},p0t=function(e){return e.type===1},g0t=function(e){return e.type===2},ez={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=qFe[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function m0t(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!qFe[e.name])}var qFe={"linear-gradient":A0t,"-moz-linear-gradient":u1,"-ms-linear-gradient":u1,"-o-linear-gradient":u1,"-webkit-linear-gradient":u1,"radial-gradient":h0t,"-moz-radial-gradient":d1,"-ms-radial-gradient":d1,"-o-radial-gradient":d1,"-webkit-radial-gradient":d1,"-webkit-gradient":f0t},v0t={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Sm(n)&&m0t(n)}).map(function(n){return ez.parse(e,n)})}},y0t={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(sn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},w0t={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return bu(t).map(function(r){return r.filter(Ui)}).map(PFe)}},b0t={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return bu(t).map(function(r){return r.filter(sn).map(function(n){return n.value}).join(" ")}).map(x0t)}},x0t=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Qg;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Qg||(Qg={}));var S0t={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return bu(t).map(function(r){return r.filter(C0t)})}},C0t=function(e){return sn(e)||Ui(e)},CB=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},_0t=CB("top"),E0t=CB("right"),I0t=CB("bottom"),B0t=CB("left"),_B=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return PFe(r.filter(Ui))}}},P0t=_B("top-left"),T0t=_B("top-right"),O0t=_B("bottom-right"),R0t=_B("bottom-left"),EB=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},M0t=EB("top"),F0t=EB("right"),k0t=EB("bottom"),U0t=EB("left"),IB=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Rb(r)?r.number:0}}},D0t=IB("top"),j0t=IB("right"),L0t=IB("bottom"),N0t=IB("left"),$0t={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Q0t={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},H0t={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(sn).reduce(function(r,n){return r|q0t(n.value)},0)}},q0t=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},z0t={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},K0t={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},gE;(function(e){e.NORMAL="normal",e.STRICT="strict"})(gE||(gE={}));var W0t={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return gE.STRICT;case"normal":default:return gE.NORMAL}}},V0t={name:"line-height",initialValue:"normal",prefix:!1,type:4},mre=function(e,t){return sn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Ui(e)?_n(e,t):t},G0t={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:ez.parse(e,t)}},Y0t={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},E3={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},BB=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},X0t=BB("top"),J0t=BB("right"),Z0t=BB("bottom"),ewt=BB("left"),twt={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(sn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},rwt={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},PB=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},nwt=PB("top"),iwt=PB("right"),owt=PB("bottom"),awt=PB("left"),swt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},lwt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},cwt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&_3(t[0],"none")?[]:bu(t).map(function(r){for(var n={color:md.TRANSPARENT,offsetX:Io,offsetY:Io,blur:Io},i=0,o=0;o<r.length;o++){var a=r[o];JA(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=QA.parse(e,a)}return n})}},uwt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},dwt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=hwt[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Awt=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},fwt=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],n=t[1];t[2],t[3];var i=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],s=t[13];return t[14],t[15],t.length===16?[r,n,i,o,a,s]:null},hwt={matrix:Awt,matrix3d:fwt},vre={type:16,number:50,flags:Ob},pwt=[vre,vre],gwt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Ui);return r.length!==2?pwt:[r[0],r[1]]}},mwt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},T0;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(T0||(T0={}));var vwt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return T0.BREAK_ALL;case"keep-all":return T0.KEEP_ALL;case"normal":default:return T0.NORMAL}}},ywt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(ev(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},zFe={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},wwt={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return ev(t)?t.number:1}},bwt={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xwt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(sn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Swt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Cwt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},_wt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(ev(t))return t.number;if(sn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ewt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(sn).map(function(r){return r.value})}},Iwt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},qi=function(e,t){return(e&t)!==0},Bwt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Pwt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=t.filter(BFe),o=0;o<i.length;o++){var a=i[o],s=i[o+1];if(a.type===20){var l=s&&ev(s)?s.number:1;n.push({counter:a.value,increment:l})}}return n}},Twt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(BFe),i=0;i<n.length;i++){var o=n[i],a=n[i+1];if(sn(o)&&o.value!=="none"){var s=a&&ev(a)?a.number:0;r.push({counter:o.value,reset:s})}}return r}},Owt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Rb).map(function(r){return zFe.parse(e,r)})}},Rwt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],i=t.filter(i0t);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var a=i[o].value,s=i[o+1].value;n.push({open:a,close:s})}return n}},yre=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},Mwt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&_3(t[0],"none")?[]:bu(t).map(function(r){for(var n={color:255,offsetX:Io,offsetY:Io,blur:Io,spread:Io,inset:!1},i=0,o=0;o<r.length;o++){var a=r[o];_3(a,"inset")?n.inset=!0:JA(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=QA.parse(e,a)}return n})}},Fwt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(sn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},kwt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Uwt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Rb(t)?t.number:0}},Dwt=function(){function e(t,r){var n,i;this.animationDuration=Et(t,Owt,r.animationDuration),this.backgroundClip=Et(t,s0t,r.backgroundClip),this.backgroundColor=Et(t,l0t,r.backgroundColor),this.backgroundImage=Et(t,v0t,r.backgroundImage),this.backgroundOrigin=Et(t,y0t,r.backgroundOrigin),this.backgroundPosition=Et(t,w0t,r.backgroundPosition),this.backgroundRepeat=Et(t,b0t,r.backgroundRepeat),this.backgroundSize=Et(t,S0t,r.backgroundSize),this.borderTopColor=Et(t,_0t,r.borderTopColor),this.borderRightColor=Et(t,E0t,r.borderRightColor),this.borderBottomColor=Et(t,I0t,r.borderBottomColor),this.borderLeftColor=Et(t,B0t,r.borderLeftColor),this.borderTopLeftRadius=Et(t,P0t,r.borderTopLeftRadius),this.borderTopRightRadius=Et(t,T0t,r.borderTopRightRadius),this.borderBottomRightRadius=Et(t,O0t,r.borderBottomRightRadius),this.borderBottomLeftRadius=Et(t,R0t,r.borderBottomLeftRadius),this.borderTopStyle=Et(t,M0t,r.borderTopStyle),this.borderRightStyle=Et(t,F0t,r.borderRightStyle),this.borderBottomStyle=Et(t,k0t,r.borderBottomStyle),this.borderLeftStyle=Et(t,U0t,r.borderLeftStyle),this.borderTopWidth=Et(t,D0t,r.borderTopWidth),this.borderRightWidth=Et(t,j0t,r.borderRightWidth),this.borderBottomWidth=Et(t,L0t,r.borderBottomWidth),this.borderLeftWidth=Et(t,N0t,r.borderLeftWidth),this.boxShadow=Et(t,Mwt,r.boxShadow),this.color=Et(t,$0t,r.color),this.direction=Et(t,Q0t,r.direction),this.display=Et(t,H0t,r.display),this.float=Et(t,z0t,r.cssFloat),this.fontFamily=Et(t,Swt,r.fontFamily),this.fontSize=Et(t,Cwt,r.fontSize),this.fontStyle=Et(t,Iwt,r.fontStyle),this.fontVariant=Et(t,Ewt,r.fontVariant),this.fontWeight=Et(t,_wt,r.fontWeight),this.letterSpacing=Et(t,K0t,r.letterSpacing),this.lineBreak=Et(t,W0t,r.lineBreak),this.lineHeight=Et(t,V0t,r.lineHeight),this.listStyleImage=Et(t,G0t,r.listStyleImage),this.listStylePosition=Et(t,Y0t,r.listStylePosition),this.listStyleType=Et(t,E3,r.listStyleType),this.marginTop=Et(t,X0t,r.marginTop),this.marginRight=Et(t,J0t,r.marginRight),this.marginBottom=Et(t,Z0t,r.marginBottom),this.marginLeft=Et(t,ewt,r.marginLeft),this.opacity=Et(t,wwt,r.opacity);var o=Et(t,twt,r.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=Et(t,rwt,r.overflowWrap),this.paddingTop=Et(t,nwt,r.paddingTop),this.paddingRight=Et(t,iwt,r.paddingRight),this.paddingBottom=Et(t,owt,r.paddingBottom),this.paddingLeft=Et(t,awt,r.paddingLeft),this.paintOrder=Et(t,Fwt,r.paintOrder),this.position=Et(t,lwt,r.position),this.textAlign=Et(t,swt,r.textAlign),this.textDecorationColor=Et(t,bwt,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Et(t,xwt,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Et(t,cwt,r.textShadow),this.textTransform=Et(t,uwt,r.textTransform),this.transform=Et(t,dwt,r.transform),this.transformOrigin=Et(t,gwt,r.transformOrigin),this.visibility=Et(t,mwt,r.visibility),this.webkitTextStrokeColor=Et(t,kwt,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Et(t,Uwt,r.webkitTextStrokeWidth),this.wordBreak=Et(t,vwt,r.wordBreak),this.zIndex=Et(t,ywt,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return HA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return qi(this.display,4)||qi(this.display,33554432)||qi(this.display,268435456)||qi(this.display,536870912)||qi(this.display,67108864)||qi(this.display,134217728)},e}(),jwt=function(){function e(t,r){this.content=Et(t,Bwt,r.content),this.quotes=Et(t,Rwt,r.quotes)}return e}(),wre=function(){function e(t,r){this.counterIncrement=Et(t,Pwt,r.counterIncrement),this.counterReset=Et(t,Twt,r.counterReset)}return e}(),Et=function(e,t,r){var n=new EFe,i=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(i);var o=new IFe(n.read());switch(t.type){case 2:var a=o.parseComponentValue();return t.parse(e,sn(a)?a.value:t.initialValue);case 0:return t.parse(e,o.parseComponentValue());case 1:return t.parse(e,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(t.format){case"angle":return xB.parse(e,o.parseComponentValue());case"color":return QA.parse(e,o.parseComponentValue());case"image":return ez.parse(e,o.parseComponentValue());case"length":var s=o.parseComponentValue();return JA(s)?s:Io;case"length-percentage":var l=o.parseComponentValue();return Ui(l)?l:Io;case"time":return zFe.parse(e,o.parseComponentValue())}break}},Lwt="data-html2canvas-debug",Nwt=function(e){var t=e.getAttribute(Lwt);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},I3=function(e,t){var r=Nwt(e);return r===1||t===r},xu=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,I3(r,3))debugger;this.styles=new Dwt(t,window.getComputedStyle(r,null)),T3(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=wB(this.context,r),I3(r,4)&&(this.flags|=16)}return e}(),$wt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",bre="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var A1=0;A1<bre.length;A1++)i0[bre.charCodeAt(A1)]=A1;var Qwt=function(e){var t=e.length*.75,r=e.length,n,i=0,o,a,s,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)o=i0[e.charCodeAt(n)],a=i0[e.charCodeAt(n+1)],s=i0[e.charCodeAt(n+2)],l=i0[e.charCodeAt(n+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|s>>2,u[i++]=(s&3)<<6|l&63;return c},Hwt=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},qwt=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},bh=5,tz=11,Fk=2,zwt=tz-bh,KFe=65536>>bh,Kwt=1<<bh,kk=Kwt-1,Wwt=1024>>bh,Vwt=KFe+Wwt,Gwt=Vwt,Ywt=32,Xwt=Gwt+Ywt,Jwt=65536>>tz,Zwt=1<<zwt,ebt=Zwt-1,xre=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},tbt=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},rbt=function(e,t){var r=Qwt(e),n=Array.isArray(r)?qwt(r):new Uint32Array(r),i=Array.isArray(r)?Hwt(r):new Uint16Array(r),o=24,a=xre(i,o/2,n[4]/2),s=n[5]===2?xre(i,(o+n[4])/2):tbt(n,Math.ceil((o+n[4])/4));return new nbt(n[0],n[1],n[2],n[3],a,s)},nbt=function(){function e(t,r,n,i,o,a){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=o,this.data=a}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>bh],r=(r<<Fk)+(t&kk),this.data[r];if(t<=65535)return r=this.index[KFe+(t-55296>>bh)],r=(r<<Fk)+(t&kk),this.data[r];if(t<this.highStart)return r=Xwt-Jwt+(t>>tz),r=this.index[r],r+=t>>bh&ebt,r=this.index[r],r=(r<<Fk)+(t&kk),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Sre="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ibt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var f1=0;f1<Sre.length;f1++)ibt[Sre.charCodeAt(f1)]=f1;var obt=1,Uk=2,Dk=3,Cre=4,_re=5,abt=7,Ere=8,jk=9,Lk=10,Ire=11,Bre=12,Pre=13,Tre=14,Nk=15,sbt=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);(o&64512)===56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},lbt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,o="";++i<r;){var a=e[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},cbt=rbt($wt),tl="",$k="",ubt=function(e){return cbt.get(e)},dbt=function(e,t,r){var n=r-2,i=t[n],o=t[r-1],a=t[r];if(o===Uk&&a===Dk)return tl;if(o===Uk||o===Dk||o===Cre||a===Uk||a===Dk||a===Cre)return $k;if(o===Ere&&[Ere,jk,Ire,Bre].indexOf(a)!==-1||(o===Ire||o===jk)&&(a===jk||a===Lk)||(o===Bre||o===Lk)&&a===Lk||a===Pre||a===_re||a===abt||o===obt)return tl;if(o===Pre&&a===Tre){for(;i===_re;)i=t[--n];if(i===Tre)return tl}if(o===Nk&&a===Nk){for(var s=0;i===Nk;)s++,i=t[--n];if(s%2===0)return tl}return $k},Abt=function(e){var t=sbt(e),r=t.length,n=0,i=0,o=t.map(ubt);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=tl;n<r&&(a=dbt(t,o,++n))===tl;);if(a!==tl||n===r){var s=lbt.apply(null,t.slice(i,n));return i=n,{value:s,done:!1}}return{done:!0,value:null}}}},fbt=function(e){for(var t=Abt(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},hbt=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),o=Math.round(i.height);if(e.body.removeChild(n),o===t)return!0}}return!1},pbt=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=bB(n.data).map(function(l){return bi(l)}),o=0,a={},s=i.every(function(l,c){r.setStart(n,o),r.setEnd(n,o+l.length);var u=r.getBoundingClientRect();o+=l.length;var d=u.x>a.x||u.y>a.y;return a=u,c===0?!0:d});return e.body.removeChild(t),s},gbt=function(){return typeof new Image().crossOrigin<"u"},mbt=function(){return typeof new XMLHttpRequest().responseType=="string"},vbt=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},Ore=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},ybt=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,o=t.toDataURL();i.src=o;var a=B3(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),Rre(a).then(function(s){n.drawImage(s,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=e.createElement("div");return c.style.backgroundImage="url("+o+")",c.style.height=r+"px",Ore(l)?Rre(B3(r,r,0,0,c)):Promise.reject(!1)}).then(function(s){return n.drawImage(s,0,0),Ore(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},B3=function(e,t,r,n,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",r.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},Rre=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},yo={get SUPPORT_RANGE_BOUNDS(){var e=hbt(document);return Object.defineProperty(yo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=yo.SUPPORT_RANGE_BOUNDS&&pbt(document);return Object.defineProperty(yo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=vbt(document);return Object.defineProperty(yo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?ybt(document):Promise.resolve(!1);return Object.defineProperty(yo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=gbt();return Object.defineProperty(yo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=mbt();return Object.defineProperty(yo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(yo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(yo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},O0=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),wbt=function(e,t,r,n){var i=Sbt(t,r),o=[],a=0;return i.forEach(function(s){if(r.textDecorationLine.length||s.trim().length>0)if(yo.SUPPORT_RANGE_BOUNDS){var l=Mre(n,a,s.length).getClientRects();if(l.length>1){var c=rz(s),u=0;c.forEach(function(A){o.push(new O0(A,Od.fromDOMRectList(e,Mre(n,u+a,A.length).getClientRects()))),u+=A.length})}else o.push(new O0(s,Od.fromDOMRectList(e,l)))}else{var d=n.splitText(s.length);o.push(new O0(s,bbt(e,n))),n=d}else yo.SUPPORT_RANGE_BOUNDS||(n=n.splitText(s.length));a+=s.length}),o},bbt=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var o=wB(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),o}}return Od.EMPTY},Mre=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},rz=function(e){if(yo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return fbt(e)},xbt=function(e,t){if(yo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return _bt(e,t)},Sbt=function(e,t){return t.letterSpacing!==0?rz(e):xbt(e,t)},Cbt=[32,160,4961,65792,65793,4153,4241],_bt=function(e,t){for(var r=Jvt(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,o=function(){if(i.value){var a=i.value.slice(),s=bB(a),l="";s.forEach(function(c){Cbt.indexOf(c)===-1?l+=bi(c):(l.length&&n.push(l),n.push(bi(c)),l="")}),l.length&&n.push(l)}};!(i=r.next()).done;)o();return n},Ebt=function(){function e(t,r,n){this.text=Ibt(r.data,n.textTransform),this.textBounds=wbt(t,this.text,n,r)}return e}(),Ibt=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Bbt,Pbt);case 2:return e.toUpperCase();default:return e}},Bbt=/(^|\s|:|-|\(|\))([a-z])/g,Pbt=function(e,t,r){return e.length>0?t+r.toUpperCase():e},WFe=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t}(xu),VFe=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t}(xu),GFe=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this,o=new XMLSerializer,a=wB(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(xu),YFe=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(xu),P3=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t}(xu),Tbt=[{type:15,flags:0,unit:"px",number:3}],Obt=[{type:16,flags:0,number:50}],Rbt=function(e){return e.width>e.height?new Od(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Od(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Mbt=function(e){var t=e.type===Fbt?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},mE="checkbox",vE="radio",Fbt="password",Fre=707406591,nz=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Mbt(n),(i.type===mE||i.type===vE)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Rbt(i.bounds)),i.type){case mE:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Tbt;break;case vE:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Obt;break}return i}return t}(xu),XFe=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this,o=n.options[n.selectedIndex||0];return i.value=o&&o.text||"",i}return t}(xu),JFe=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(xu),ZFe=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=tke(r,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?P0(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):md.TRANSPARENT,a=n.contentWindow.document.body?P0(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):md.TRANSPARENT;i.backgroundColor=HA(o)?HA(a)?i.styles.backgroundColor:a:o}}catch{}return i}return t}(xu),kbt=["OL","UL","MENU"],vC=function(e,t,r,n){for(var i=t.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,rke(i)&&i.data.trim().length>0)r.textNodes.push(new Ebt(e,i,r.styles));else if(Bg(i))if(ake(i)&&i.assignedNodes)i.assignedNodes().forEach(function(s){return vC(e,s,r,n)});else{var a=eke(e,i);a.styles.isVisible()&&(Ubt(i,a,n)?a.flags|=4:Dbt(a.styles)&&(a.flags|=2),kbt.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?vC(e,i.shadowRoot,a,n):!yE(i)&&!nke(i)&&!wE(i)&&vC(e,i,a,n))}},eke=function(e,t){return O3(t)?new WFe(e,t):ike(t)?new VFe(e,t):nke(t)?new GFe(e,t):jbt(t)?new YFe(e,t):Lbt(t)?new P3(e,t):Nbt(t)?new nz(e,t):wE(t)?new XFe(e,t):yE(t)?new JFe(e,t):oke(t)?new ZFe(e,t):new xu(e,t)},tke=function(e,t){var r=eke(e,t);return r.flags|=4,vC(e,t,r,r),r},Ubt=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||iz(e)&&r.styles.isTransparent()},Dbt=function(e){return e.isPositioned()||e.isFloating()},rke=function(e){return e.nodeType===Node.TEXT_NODE},Bg=function(e){return e.nodeType===Node.ELEMENT_NODE},T3=function(e){return Bg(e)&&typeof e.style<"u"&&!yC(e)},yC=function(e){return typeof e.className=="object"},jbt=function(e){return e.tagName==="LI"},Lbt=function(e){return e.tagName==="OL"},Nbt=function(e){return e.tagName==="INPUT"},$bt=function(e){return e.tagName==="HTML"},nke=function(e){return e.tagName==="svg"},iz=function(e){return e.tagName==="BODY"},ike=function(e){return e.tagName==="CANVAS"},kre=function(e){return e.tagName==="VIDEO"},O3=function(e){return e.tagName==="IMG"},oke=function(e){return e.tagName==="IFRAME"},Ure=function(e){return e.tagName==="STYLE"},Qbt=function(e){return e.tagName==="SCRIPT"},yE=function(e){return e.tagName==="TEXTAREA"},wE=function(e){return e.tagName==="SELECT"},ake=function(e){return e.tagName==="SLOT"},Dre=function(e){return e.tagName.indexOf("-")>0},Hbt=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,i=t.counterReset,o=!0;n!==null&&n.forEach(function(s){var l=r.counters[s.counter];l&&s.increment!==0&&(o=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=s.increment)});var a=[];return o&&i.forEach(function(s){var l=r.counters[s.counter];a.push(s.counter),l||(l=r.counters[s.counter]=[]),l.push(s.reset)}),a},e}(),jre={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Lre={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qbt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zbt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ng=function(e,t,r,n,i,o){return e<t||e>r?Dw(e,i,o.length>0):n.integers.reduce(function(a,s,l){for(;e>=s;)e-=s,a+=n.values[l];return a},"")+o},ske=function(e,t,r,n){var i="";do r||e--,i=n(e)+i,e/=t;while(e*t>=t);return i},yi=function(e,t,r,n,i){var o=r-t+1;return(e<0?"-":"")+(ske(Math.abs(e),o,n,function(a){return bi(Math.floor(a%o)+t)})+i)},Yf=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return ske(Math.abs(e),n,!1,function(i){return t[Math.floor(i%n)]})+r},yg=1,wA=2,bA=4,o0=8,Vu=function(e,t,r,n,i,o){if(e<-9999||e>9999)return Dw(e,4,i.length>0);var a=Math.abs(e),s=i;if(a===0)return t[0]+s;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&qi(o,yg)&&s!==""?s=t[c]+s:c>1||c===1&&l===0||c===1&&l===1&&qi(o,wA)||c===1&&l===1&&qi(o,bA)&&e>100||c===1&&l>1&&qi(o,o0)?s=t[c]+(l>0?r[l-1]:"")+s:c===1&&l>0&&(s=r[l-1]+s),a=Math.floor(a/10)}return(e<0?n:"")+s},Nre="",$re="",Qre="",Qk="",Dw=function(e,t,r){var n=r?". ":"",i=r?"":"",o=r?", ":"",a=r?" ":"";switch(t){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var s=yi(e,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return Yf(e,"",i);case 6:return ng(e,1,3999,jre,3,n).toLowerCase();case 7:return ng(e,1,3999,jre,3,n);case 8:return yi(e,945,969,!1,n);case 9:return yi(e,97,122,!1,n);case 10:return yi(e,65,90,!1,n);case 11:return yi(e,1632,1641,!0,n);case 12:case 49:return ng(e,1,9999,Lre,3,n);case 35:return ng(e,1,9999,Lre,3,n).toLowerCase();case 13:return yi(e,2534,2543,!0,n);case 14:case 30:return yi(e,6112,6121,!0,n);case 15:return Yf(e,"",i);case 16:return Yf(e,"",i);case 17:case 48:return Vu(e,"",Nre,"",i,wA|bA|o0);case 47:return Vu(e,"",$re,"",i,yg|wA|bA|o0);case 42:return Vu(e,"",Nre,"",i,wA|bA|o0);case 41:return Vu(e,"",$re,"",i,yg|wA|bA|o0);case 26:return Vu(e,"","",Qre,i,0);case 25:return Vu(e,"","",Qre,i,yg|wA|bA);case 31:return Vu(e,"","",Qk,o,yg|wA|bA);case 33:return Vu(e,"","",Qk,o,0);case 32:return Vu(e,"","",Qk,o,yg|wA|bA);case 18:return yi(e,2406,2415,!0,n);case 20:return ng(e,1,19999,zbt,3,n);case 21:return yi(e,2790,2799,!0,n);case 22:return yi(e,2662,2671,!0,n);case 22:return ng(e,1,10999,qbt,3,n);case 23:return Yf(e,"");case 24:return Yf(e,"");case 27:return yi(e,3302,3311,!0,n);case 28:return Yf(e,"",i);case 29:return Yf(e,"",i);case 34:return yi(e,3792,3801,!0,n);case 37:return yi(e,6160,6169,!0,n);case 38:return yi(e,4160,4169,!0,n);case 39:return yi(e,2918,2927,!0,n);case 40:return yi(e,1776,1785,!0,n);case 43:return yi(e,3046,3055,!0,n);case 44:return yi(e,3174,3183,!0,n);case 45:return yi(e,3664,3673,!0,n);case 46:return yi(e,3872,3881,!0,n);case 3:default:return yi(e,48,57,!0,n)}},lke="data-html2canvas-ignore",Hre=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Hbt,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,i=Kbt(t,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,s=i.contentWindow,l=s.document,c=Gbt(i).then(function(){return xa(n,void 0,void 0,function(){var u,d;return Ko(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(Zbt),s&&(s.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==r.top||s.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-r.left,s.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Vbt(l)]:[3,4];case 3:A.sent(),A.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Xbt(document.doctype)+"<html></html>"),Jbt(this.referenceElement.ownerDocument,o,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(I3(t,2))debugger;if(ike(t))return this.createCanvasClone(t);if(kre(t))return this.createVideoClone(t);if(Ure(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return O3(r)&&(O3(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Dre(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return Hk(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(o,a){return a&&typeof a.cssText=="string"?o+a.cssText:o},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var o=t.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&o)a.putImageData(o.getImageData(0,0,t.width,t.height),0,0);else{var s=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(s){var l=s.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}a.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,r,n){(!Bg(r)||!Qbt(r)&&!r.hasAttribute(lke)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Bg(r)||!Ure(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var i=this,o=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;o;o=o.nextSibling)if(Bg(o)&&ake(o)&&typeof o.assignedNodes=="function"){var a=o.assignedNodes();a.length&&a.forEach(function(s){return i.appendChildNode(r,s,n)})}else this.appendChildNode(r,o,n)},e.prototype.cloneNode=function(t,r){if(rke(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Bg(t)&&(T3(t)||yC(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var o=n.getComputedStyle(t),a=n.getComputedStyle(t,":before"),s=n.getComputedStyle(t,":after");this.referenceElement===t&&T3(i)&&(this.clonedReferenceElement=i),iz(i)&&rxt(i);var l=this.counters.parse(new wre(this.context,o)),c=this.resolvePseudoContent(t,i,a,R0.BEFORE);Dre(t)&&(r=!0),kre(t)||this.cloneChildNodes(t,i,r),c&&i.insertBefore(c,i.firstChild);var u=this.resolvePseudoContent(t,i,s,R0.AFTER);return u&&i.appendChild(u),this.counters.pop(l),(o&&(this.options.copyStyles||yC(t))&&!oke(t)||r)&&Hk(o,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(yE(t)||wE(t))&&(yE(i)||wE(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,i){var o=this;if(n){var a=n.content,s=r.ownerDocument;if(!(!s||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new wre(this.context,n));var l=new jwt(this.context,n),c=s.createElement("html2canvaspseudoelement");Hk(n,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(s.createTextNode(d.value));else if(d.type===22){var A=s.createElement("img");A.src=d.value,A.style.opacity="1",c.appendChild(A)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(sn);f.length&&c.appendChild(s.createTextNode(t.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var h=d.values.filter(Sm),p=h[0],v=h[1];if(p&&sn(p)){var y=o.counters.getCounterValue(p.value),b=v&&sn(v)?E3.parse(o.context,v.value):3;c.appendChild(s.createTextNode(Dw(y,b,!1)))}}else if(d.name==="counters"){var x=d.values.filter(Sm),p=x[0],S=x[1],v=x[2];if(p&&sn(p)){var C=o.counters.getCounterValues(p.value),_=v&&sn(v)?E3.parse(o.context,v.value):3,B=S&&S.type===0?S.value:"",T=C.map(function(F){return Dw(F,_,!1)}).join(B);c.appendChild(s.createTextNode(T))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(s.createTextNode(yre(l.quotes,o.quoteDepth++,!0)));break;case"close-quote":c.appendChild(s.createTextNode(yre(l.quotes,--o.quoteDepth,!1)));break;default:c.appendChild(s.createTextNode(d.value))}}),c.className=R3+" "+M3;var u=i===R0.BEFORE?" "+R3:" "+M3;return yC(r)?r.className.baseValue+=u:r.className+=u,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),R0;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(R0||(R0={}));var Kbt=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(lke,"true"),e.body.appendChild(r),r},Wbt=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Vbt=function(e){return Promise.all([].slice.call(e.images,0).map(Wbt))},Gbt=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var o=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(o),t(e))},50)}})},Ybt=["all","d","content"],Hk=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);Ybt.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},Xbt=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Jbt=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},Zbt=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},ext=":before",txt=":after",R3="___html2canvas___pseudoelement_before",M3="___html2canvas___pseudoelement_after",qre=`{
    content: "" !important;
    display: none !important;
}`,rxt=function(e){nxt(e,"."+R3+ext+qre+`
         .`+M3+txt+qre)},nxt=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},cke=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),ixt=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(zk(t)||lxt(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return xa(this,void 0,void 0,function(){var r,n,i,o,a=this;return Ko(this,function(s){switch(s.label){case 0:return r=cke.isSameOrigin(t),n=!qk(t)&&this._options.useCORS===!0&&yo.SUPPORT_CORS_IMAGES&&!r,i=!qk(t)&&!r&&!zk(t)&&typeof this._options.proxy=="string"&&yo.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!qk(t)&&!zk(t)&&!i&&!n?[2]:(o=t,i?[4,this.proxy(o)]:[3,2]);case 1:o=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(cxt(o)||n)&&(u.crossOrigin="anonymous"),u.src=o,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(o,a){var s=yo.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(s==="text")o(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return o(d.result)},!1),d.addEventListener("error",function(A){return a(A)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(t)+"&responseType="+s),s!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=s),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}l.send()})},e}(),oxt=/^data:image\/svg\+xml/i,axt=/^data:image\/.*;base64,/i,sxt=/^data:image\/.*/i,lxt=function(e){return yo.SUPPORT_SVG_DRAWING||!uxt(e)},qk=function(e){return sxt.test(e)},cxt=function(e){return axt.test(e)},zk=function(e){return e.substr(0,4)==="blob"},uxt=function(e){return e.substr(-3).toLowerCase()==="svg"||oxt.test(e)},bt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),ig=function(e,t,r){return new bt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},h1=function(){function e(t,r,n,i){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,r){var n=ig(this.start,this.startControl,t),i=ig(this.startControl,this.endControl,t),o=ig(this.endControl,this.end,t),a=ig(n,i,t),s=ig(i,o,t),l=ig(a,s,t);return r?new e(this.start,n,a,l):new e(l,s,o,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),sl=function(e){return e.type===1},dxt=function(){function e(t){var r=t.styles,n=t.bounds,i=n0(r.borderTopLeftRadius,n.width,n.height),o=i[0],a=i[1],s=n0(r.borderTopRightRadius,n.width,n.height),l=s[0],c=s[1],u=n0(r.borderBottomRightRadius,n.width,n.height),d=u[0],A=u[1],f=n0(r.borderBottomLeftRadius,n.width,n.height),h=f[0],p=f[1],v=[];v.push((o+l)/n.width),v.push((h+d)/n.width),v.push((a+p)/n.height),v.push((c+A)/n.height);var y=Math.max.apply(Math,v);y>1&&(o/=y,a/=y,l/=y,c/=y,d/=y,A/=y,h/=y,p/=y);var b=n.width-l,x=n.height-A,S=n.width-d,C=n.height-p,_=r.borderTopWidth,B=r.borderRightWidth,T=r.borderBottomWidth,O=r.borderLeftWidth,P=_n(r.paddingTop,t.bounds.width),F=_n(r.paddingRight,t.bounds.width),U=_n(r.paddingBottom,t.bounds.width),k=_n(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||a>0?Qn(n.left+O/3,n.top+_/3,o-O/3,a-_/3,Jr.TOP_LEFT):new bt(n.left+O/3,n.top+_/3),this.topRightBorderDoubleOuterBox=o>0||a>0?Qn(n.left+b,n.top+_/3,l-B/3,c-_/3,Jr.TOP_RIGHT):new bt(n.left+n.width-B/3,n.top+_/3),this.bottomRightBorderDoubleOuterBox=d>0||A>0?Qn(n.left+S,n.top+x,d-B/3,A-T/3,Jr.BOTTOM_RIGHT):new bt(n.left+n.width-B/3,n.top+n.height-T/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?Qn(n.left+O/3,n.top+C,h-O/3,p-T/3,Jr.BOTTOM_LEFT):new bt(n.left+O/3,n.top+n.height-T/3),this.topLeftBorderDoubleInnerBox=o>0||a>0?Qn(n.left+O*2/3,n.top+_*2/3,o-O*2/3,a-_*2/3,Jr.TOP_LEFT):new bt(n.left+O*2/3,n.top+_*2/3),this.topRightBorderDoubleInnerBox=o>0||a>0?Qn(n.left+b,n.top+_*2/3,l-B*2/3,c-_*2/3,Jr.TOP_RIGHT):new bt(n.left+n.width-B*2/3,n.top+_*2/3),this.bottomRightBorderDoubleInnerBox=d>0||A>0?Qn(n.left+S,n.top+x,d-B*2/3,A-T*2/3,Jr.BOTTOM_RIGHT):new bt(n.left+n.width-B*2/3,n.top+n.height-T*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?Qn(n.left+O*2/3,n.top+C,h-O*2/3,p-T*2/3,Jr.BOTTOM_LEFT):new bt(n.left+O*2/3,n.top+n.height-T*2/3),this.topLeftBorderStroke=o>0||a>0?Qn(n.left+O/2,n.top+_/2,o-O/2,a-_/2,Jr.TOP_LEFT):new bt(n.left+O/2,n.top+_/2),this.topRightBorderStroke=o>0||a>0?Qn(n.left+b,n.top+_/2,l-B/2,c-_/2,Jr.TOP_RIGHT):new bt(n.left+n.width-B/2,n.top+_/2),this.bottomRightBorderStroke=d>0||A>0?Qn(n.left+S,n.top+x,d-B/2,A-T/2,Jr.BOTTOM_RIGHT):new bt(n.left+n.width-B/2,n.top+n.height-T/2),this.bottomLeftBorderStroke=h>0||p>0?Qn(n.left+O/2,n.top+C,h-O/2,p-T/2,Jr.BOTTOM_LEFT):new bt(n.left+O/2,n.top+n.height-T/2),this.topLeftBorderBox=o>0||a>0?Qn(n.left,n.top,o,a,Jr.TOP_LEFT):new bt(n.left,n.top),this.topRightBorderBox=l>0||c>0?Qn(n.left+b,n.top,l,c,Jr.TOP_RIGHT):new bt(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||A>0?Qn(n.left+S,n.top+x,d,A,Jr.BOTTOM_RIGHT):new bt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||p>0?Qn(n.left,n.top+C,h,p,Jr.BOTTOM_LEFT):new bt(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||a>0?Qn(n.left+O,n.top+_,Math.max(0,o-O),Math.max(0,a-_),Jr.TOP_LEFT):new bt(n.left+O,n.top+_),this.topRightPaddingBox=l>0||c>0?Qn(n.left+Math.min(b,n.width-B),n.top+_,b>n.width+B?0:Math.max(0,l-B),Math.max(0,c-_),Jr.TOP_RIGHT):new bt(n.left+n.width-B,n.top+_),this.bottomRightPaddingBox=d>0||A>0?Qn(n.left+Math.min(S,n.width-O),n.top+Math.min(x,n.height-T),Math.max(0,d-B),Math.max(0,A-T),Jr.BOTTOM_RIGHT):new bt(n.left+n.width-B,n.top+n.height-T),this.bottomLeftPaddingBox=h>0||p>0?Qn(n.left+O,n.top+Math.min(C,n.height-T),Math.max(0,h-O),Math.max(0,p-T),Jr.BOTTOM_LEFT):new bt(n.left+O,n.top+n.height-T),this.topLeftContentBox=o>0||a>0?Qn(n.left+O+k,n.top+_+P,Math.max(0,o-(O+k)),Math.max(0,a-(_+P)),Jr.TOP_LEFT):new bt(n.left+O+k,n.top+_+P),this.topRightContentBox=l>0||c>0?Qn(n.left+Math.min(b,n.width+O+k),n.top+_+P,b>n.width+O+k?0:l-O+k,c-(_+P),Jr.TOP_RIGHT):new bt(n.left+n.width-(B+F),n.top+_+P),this.bottomRightContentBox=d>0||A>0?Qn(n.left+Math.min(S,n.width-(O+k)),n.top+Math.min(x,n.height+_+P),Math.max(0,d-(B+F)),A-(T+U),Jr.BOTTOM_RIGHT):new bt(n.left+n.width-(B+F),n.top+n.height-(T+U)),this.bottomLeftContentBox=h>0||p>0?Qn(n.left+O+k,n.top+C,Math.max(0,h-(O+k)),p-(T+U),Jr.BOTTOM_LEFT):new bt(n.left+O+k,n.top+n.height-(T+U))}return e}(),Jr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Jr||(Jr={}));var Qn=function(e,t,r,n,i){var o=4*((Math.sqrt(2)-1)/3),a=r*o,s=n*o,l=e+r,c=t+n;switch(i){case Jr.TOP_LEFT:return new h1(new bt(e,c),new bt(e,c-s),new bt(l-a,t),new bt(l,t));case Jr.TOP_RIGHT:return new h1(new bt(e,t),new bt(e+a,t),new bt(l,c-s),new bt(l,c));case Jr.BOTTOM_RIGHT:return new h1(new bt(l,t),new bt(l,t+s),new bt(e+a,c),new bt(e,c));case Jr.BOTTOM_LEFT:default:return new h1(new bt(l,c),new bt(l-a,c),new bt(e,t+s),new bt(e,t))}},bE=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Axt=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},xE=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},fxt=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),p1=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),hxt=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),pxt=function(e){return e.type===0},uke=function(e){return e.type===1},gxt=function(e){return e.type===2},zre=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},mxt=function(e,t,r,n,i){return e.map(function(o,a){switch(a){case 0:return o.add(t,r);case 1:return o.add(t+n,r);case 2:return o.add(t+n,r+i);case 3:return o.add(t,r+i)}return o})},dke=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ake=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new dxt(this.container),this.container.styles.opacity<1&&this.effects.push(new hxt(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new fxt(n,i,o))}if(this.container.styles.overflowX!==0){var a=bE(this.curves),s=xE(this.curves);zre(a,s)?this.effects.push(new p1(a,6)):(this.effects.push(new p1(a,2)),this.effects.push(new p1(s,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var o=n.effects.filter(function(l){return!uke(l)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,o),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=bE(n.curves),s=xE(n.curves);zre(a,s)||i.unshift(new p1(s,6))}}else i.unshift.apply(i,o);n=n.parent}return i.filter(function(l){return qi(l.target,t)})},e}(),F3=function(e,t,r,n){e.container.elements.forEach(function(i){var o=qi(i.flags,4),a=qi(i.flags,2),s=new Ake(i,e);qi(i.styles.display,2048)&&n.push(s);var l=qi(i.flags,8)?[]:n;if(o||a){var c=o||i.styles.isPositioned()?r:t,u=new dke(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var A=0;c.negativeZIndex.some(function(h,p){return d>h.element.container.styles.zIndex.order?(A=p,!1):A>0}),c.negativeZIndex.splice(A,0,u)}else if(d>0){var f=0;c.positiveZIndex.some(function(h,p){return d>=h.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);F3(s,u,o?u:r,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),F3(s,t,r,l);qi(i.flags,8)&&fke(i,l)})},fke=function(e,t){for(var r=e instanceof P3?e.start:1,n=e instanceof P3?e.reversed:!1,i=0;i<t.length;i++){var o=t[i];o.container instanceof YFe&&typeof o.container.value=="number"&&o.container.value!==0&&(r=o.container.value),o.listValue=Dw(r,o.container.styles.listStyleType,!0),r+=n?-1:1}},vxt=function(e){var t=new Ake(e,null),r=new dke(t),n=[];return F3(t,r,r,n),fke(t.container,n),r},Kre=function(e,t){switch(t){case 0:return Al(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Al(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Al(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Al(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},yxt=function(e,t){switch(t){case 0:return Al(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Al(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Al(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Al(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},wxt=function(e,t){switch(t){case 0:return Al(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Al(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Al(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Al(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},bxt=function(e,t){switch(t){case 0:return g1(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return g1(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return g1(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return g1(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},g1=function(e,t){var r=[];return sl(e)?r.push(e.subdivide(.5,!1)):r.push(e),sl(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Al=function(e,t,r,n){var i=[];return sl(e)?i.push(e.subdivide(.5,!1)):i.push(e),sl(r)?i.push(r.subdivide(.5,!0)):i.push(r),sl(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),sl(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},hke=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},SE=function(e){var t=e.styles,r=e.bounds,n=_n(t.paddingLeft,r.width),i=_n(t.paddingRight,r.width),o=_n(t.paddingTop,r.width),a=_n(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+o+a))},xxt=function(e,t){return e===0?t.bounds:e===2?SE(t):hke(t)},Sxt=function(e,t){return e===0?t.bounds:e===2?SE(t):hke(t)},Kk=function(e,t,r){var n=xxt(wg(e.styles.backgroundOrigin,t),e),i=Sxt(wg(e.styles.backgroundClip,t),e),o=Cxt(wg(e.styles.backgroundSize,t),r,n),a=o[0],s=o[1],l=n0(wg(e.styles.backgroundPosition,t),n.width-a,n.height-s),c=_xt(wg(e.styles.backgroundRepeat,t),l,o,n,i),u=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[c,u,d,a,s]},og=function(e){return sn(e)&&e.value===Qg.AUTO},m1=function(e){return typeof e=="number"},Cxt=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1];if(!a)return[0,0];if(Ui(a)&&s&&Ui(s))return[_n(a,r.width),_n(s,r.height)];var l=m1(o);if(sn(a)&&(a.value===Qg.CONTAIN||a.value===Qg.COVER)){if(m1(o)){var c=r.width/r.height;return c<o!=(a.value===Qg.COVER)?[r.width,r.width/o]:[r.height*o,r.height]}return[r.width,r.height]}var u=m1(n),d=m1(i),A=u||d;if(og(a)&&(!s||og(s))){if(u&&d)return[n,i];if(!l&&!A)return[r.width,r.height];if(A&&l){var f=u?n:i*o,h=d?i:n/o;return[f,h]}var p=u?n:r.width,v=d?i:r.height;return[p,v]}if(l){var y=0,b=0;return Ui(a)?y=_n(a,r.width):Ui(s)&&(b=_n(s,r.height)),og(a)?y=b*o:(!s||og(s))&&(b=y/o),[y,b]}var x=null,S=null;if(Ui(a)?x=_n(a,r.width):s&&Ui(s)&&(S=_n(s,r.height)),x!==null&&(!s||og(s))&&(S=u&&d?x/n*i:r.height),S!==null&&og(a)&&(x=u&&d?S/i*n:r.width),x!==null&&S!==null)return[x,S];throw new Error("Unable to calculate background-size for element")},wg=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},_xt=function(e,t,r,n,i){var o=t[0],a=t[1],s=r[0],l=r[1];switch(e){case 2:return[new bt(Math.round(n.left),Math.round(n.top+a)),new bt(Math.round(n.left+n.width),Math.round(n.top+a)),new bt(Math.round(n.left+n.width),Math.round(l+n.top+a)),new bt(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new bt(Math.round(n.left+o),Math.round(n.top)),new bt(Math.round(n.left+o+s),Math.round(n.top)),new bt(Math.round(n.left+o+s),Math.round(n.height+n.top)),new bt(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new bt(Math.round(n.left+o),Math.round(n.top+a)),new bt(Math.round(n.left+o+s),Math.round(n.top+a)),new bt(Math.round(n.left+o+s),Math.round(n.top+a+l)),new bt(Math.round(n.left+o),Math.round(n.top+a+l))];default:return[new bt(Math.round(i.left),Math.round(i.top)),new bt(Math.round(i.left+i.width),Math.round(i.top)),new bt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new bt(Math.round(i.left),Math.round(i.height+i.top))]}},Ext="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Wre="Hidden Text",Ixt=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),o=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=Ext,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",o.style.fontFamily=t,o.style.fontSize=r,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(Wre)),n.appendChild(o),n.appendChild(i);var s=i.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(Wre)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:s,middle:l}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),pke=function(){function e(t,r){this.context=t,this.options=r}return e}(),Bxt=1e4,Pxt=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Ixt(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(r){this.ctx.save(),gxt(r)&&(this.ctx.globalAlpha=r.opacity),pxt(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),uke(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return xa(this,void 0,void 0,function(){var n;return Ko(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return xa(this,void 0,void 0,function(){return Ko(this,function(n){switch(n.label){case 0:if(qi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,i){var o=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=rz(r.text);a.reduce(function(s,l){return o.ctx.fillText(l,s,r.bounds.top+i),s+o.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Fxt(r.fontFamily).join(", "),o=Rb(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,o,i].join(" "),i,o]},t.prototype.renderTextNode=function(r,n){return xa(this,void 0,void 0,function(){var i,o,a,s,l,c,u,d,A=this;return Ko(this,function(f){return i=this.createFontStyle(n),o=i[0],a=i[1],s=i[2],this.ctx.font=o,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,s),c=l.baseline,u=l.middle,d=n.paintOrder,r.textBounds.forEach(function(h){d.forEach(function(p){switch(p){case 0:A.ctx.fillStyle=io(n.color),A.renderTextWithLetterSpacing(h,n.letterSpacing,c);var v=n.textShadow;v.length&&h.text.trim().length&&(v.slice(0).reverse().forEach(function(y){A.ctx.shadowColor=io(y.color),A.ctx.shadowOffsetX=y.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=y.offsetY.number*A.options.scale,A.ctx.shadowBlur=y.blur.number,A.renderTextWithLetterSpacing(h,n.letterSpacing,c)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),n.textDecorationLine.length&&(A.ctx.fillStyle=io(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:A.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+c),h.bounds.width,1);break;case 2:A.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:A.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+u),h.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&h.text.trim().length&&(A.ctx.strokeStyle=io(n.webkitTextStrokeColor),A.ctx.lineWidth=n.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+c)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var o=SE(r),a=xE(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return xa(this,void 0,void 0,function(){var n,i,o,a,s,l,b,b,c,u,d,A,S,f,h,C,p,v,y,b,x,S,C;return Ko(this,function(_){switch(_.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,o=n.styles,a=0,s=n.textNodes,_.label=1;case 1:return a<s.length?(l=s[a],[4,this.renderTextNode(l,o)]):[3,4];case 2:_.sent(),_.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof WFe))return[3,8];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=_.sent(),this.renderReplacedElement(n,i,b),[3,8];case 7:return _.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof VFe&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof GFe))return[3,12];_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=_.sent(),this.renderReplacedElement(n,i,b),[3,12];case 11:return _.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof ZFe&&n.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=_.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),_.label=14;case 14:if(n instanceof nz&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===mE?n.checked&&(this.ctx.save(),this.path([new bt(n.bounds.left+d*.39363,n.bounds.top+d*.79),new bt(n.bounds.left+d*.16,n.bounds.top+d*.5549),new bt(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new bt(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new bt(n.bounds.left+d*.72983,n.bounds.top+d*.23),new bt(n.bounds.left+d*.84,n.bounds.top+d*.34085),new bt(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=io(Fre),this.ctx.fill(),this.ctx.restore()):n.type===vE&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=io(Fre),this.ctx.fill(),this.ctx.restore())),Txt(n)&&n.value.length){switch(A=this.createFontStyle(o),S=A[0],f=A[1],h=this.fontMetrics.getMetrics(S,f).baseline,this.ctx.font=S,this.ctx.fillStyle=io(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Rxt(n.styles.textAlign),C=SE(n),p=0,n.styles.textAlign){case 1:p+=C.width/2;break;case 2:p+=C.width;break}v=C.add(p,0,0,-C.height/2+1),this.ctx.save(),this.path([new bt(C.left,C.top),new bt(C.left+C.width,C.top),new bt(C.left+C.width,C.top+C.height),new bt(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new O0(n.value,v),o.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!qi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];b=void 0,x=y.url,_.label=15;case 15:return _.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return b=_.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return _.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(o)[0],this.ctx.font=S,this.ctx.fillStyle=io(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new Od(n.bounds.left,n.bounds.top+_n(n.styles.paddingTop,n.bounds.width),n.bounds.width,mre(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new O0(r.listValue,C),o.letterSpacing,mre(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return xa(this,void 0,void 0,function(){var n,i,y,o,a,y,s,l,y,c,u,y,d,A,y,f,h,y,p,v,y;return Ko(this,function(b){switch(b.label){case 0:if(qi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,i=r.negativeZIndex,b.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),o=0,a=r.nonInlineLevel,b.label=7;case 7:return o<a.length?(y=a[o],[4,this.renderNode(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return o++,[3,7];case 10:s=0,l=r.nonPositionedFloats,b.label=11;case 11:return s<l.length?(y=l[s],[4,this.renderStack(y)]):[3,14];case 12:b.sent(),b.label=13;case 13:return s++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,b.label=15;case 15:return c<u.length?(y=u[c],[4,this.renderStack(y)]):[3,18];case 16:b.sent(),b.label=17;case 17:return c++,[3,15];case 18:d=0,A=r.inlineLevel,b.label=19;case 19:return d<A.length?(y=A[d],[4,this.renderNode(y)]):[3,22];case 20:b.sent(),b.label=21;case 21:return d++,[3,19];case 22:f=0,h=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return f<h.length?(y=h[f],[4,this.renderStack(y)]):[3,26];case 24:b.sent(),b.label=25;case 25:return f++,[3,23];case 26:p=0,v=r.positiveZIndex,b.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:b.sent(),b.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(i,o){var a=sl(i)?i.start:i;o===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),sl(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(r,n,i,o){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,o),this.ctx.fill(),this.ctx.translate(-i,-o)},t.prototype.resizeImage=function(r,n,i){var o;if(r.width===n&&r.height===i)return r;var a=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,s=a.createElement("canvas");s.width=Math.max(1,n),s.height=Math.max(1,i);var l=s.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,i),s},t.prototype.renderBackgroundImage=function(r){return xa(this,void 0,void 0,function(){var n,i,o,a,s,l;return Ko(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var d,A,f,P,j,$,k,M,T,h,P,j,$,k,M,p,v,y,b,x,S,C,_,B,T,O,P,F,U,k,M,D,j,$,Q,H,W,z,V,G,X,Z;return Ko(this,function(oe){switch(oe.label){case 0:if(u.type!==0)return[3,5];d=void 0,A=u.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,o.context.cache.match(A)];case 2:return d=oe.sent(),[3,4];case 3:return oe.sent(),o.context.logger.error("Error loading background-image "+A),[3,4];case 4:return d&&(f=Kk(r,n,[d.width,d.height,d.width/d.height]),P=f[0],j=f[1],$=f[2],k=f[3],M=f[4],T=o.ctx.createPattern(o.resizeImage(d,k,M),"repeat"),o.renderRepeat(P,T,j,$)),[3,6];case 5:p0t(u)?(h=Kk(r,n,[null,null,null]),P=h[0],j=h[1],$=h[2],k=h[3],M=h[4],p=u0t(u.angle,k,M),v=p[0],y=p[1],b=p[2],x=p[3],S=p[4],C=document.createElement("canvas"),C.width=k,C.height=M,_=C.getContext("2d"),B=_.createLinearGradient(y,x,b,S),pre(u.stops,v).forEach(function(ae){return B.addColorStop(ae.stop,io(ae.color))}),_.fillStyle=B,_.fillRect(0,0,k,M),k>0&&M>0&&(T=o.ctx.createPattern(C,"repeat"),o.renderRepeat(P,T,j,$))):g0t(u)&&(O=Kk(r,n,[null,null,null]),P=O[0],F=O[1],U=O[2],k=O[3],M=O[4],D=u.position.length===0?[Z6]:u.position,j=_n(D[0],k),$=_n(D[D.length-1],M),Q=d0t(u,j,$,k,M),H=Q[0],W=Q[1],H>0&&W>0&&(z=o.ctx.createRadialGradient(F+j,U+$,0,F+j,U+$,H),pre(u.stops,H*2).forEach(function(ae){return z.addColorStop(ae.stop,io(ae.color))}),o.path(P),o.ctx.fillStyle=z,H!==W?(V=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,X=W/H,Z=1/X,o.ctx.save(),o.ctx.translate(V,G),o.ctx.transform(1,0,0,X,0,0),o.ctx.translate(-V,-G),o.ctx.fillRect(F,Z*(U-G)+G,k,M*Z),o.ctx.restore()):o.ctx.fill())),oe.label=6;case 6:return n--,[2]}})},o=this,a=0,s=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<s.length?(l=s[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,i){return xa(this,void 0,void 0,function(){return Ko(this,function(o){return this.path(Kre(i,n)),this.ctx.fillStyle=io(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,i,o){return xa(this,void 0,void 0,function(){var a,s;return Ko(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,o)]:[3,2];case 1:return l.sent(),[2];case 2:return a=yxt(o,i),this.path(a),this.ctx.fillStyle=io(r),this.ctx.fill(),s=wxt(o,i),this.path(s),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return xa(this,void 0,void 0,function(){var n,i,o,a,s,l,c,u,d=this;return Ko(this,function(A){switch(A.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!HA(n.backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Oxt(wg(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),HA(n.backgroundColor)||(this.ctx.fillStyle=io(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var h=bE(r.curves),p=f.inset?0:Bxt,v=mxt(h,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(h),d.ctx.clip(),d.mask(v)):(d.mask(h),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=f.offsetX.number+p,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=io(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?io(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),A.label=2;case 2:s=0,l=0,c=o,A.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!HA(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,s,r.curves,2)]:[3,11]):[3,13];case 4:return A.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,s,r.curves,3)];case 6:return A.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,s,r.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,s,r.curves)];case 10:A.sent(),A.label=11;case 11:s++,A.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,i,o,a){return xa(this,void 0,void 0,function(){var s,l,c,u,d,A,f,h,p,v,y,b,x,S,C,_,C,_;return Ko(this,function(B){return this.ctx.save(),s=bxt(o,i),l=Kre(o,i),a===2&&(this.path(l),this.ctx.clip()),sl(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),sl(l[1])?(d=l[1].end.x,A=l[1].end.y):(d=l[1].x,A=l[1].y),i===0||i===2?f=Math.abs(c-d):f=Math.abs(u-A),this.ctx.beginPath(),a===3?this.formatPath(s):this.formatPath(l.slice(0,2)),h=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(h=n,p=n),v=!0,f<=h*2?v=!1:f<=h*2+p?(y=f/(2*h+p),h*=y,p*=y):(b=Math.floor((f+p)/(h+p)),x=(f-b*h)/(b-1),S=(f-(b+1)*h)/b,p=S<=0||Math.abs(p-x)<Math.abs(p-S)?x:S),v&&(a===3?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=io(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(sl(l[0])&&(C=l[3],_=l[0],this.ctx.beginPath(),this.formatPath([new bt(C.end.x,C.end.y),new bt(_.start.x,_.start.y)]),this.ctx.stroke()),sl(l[1])&&(C=l[1],_=l[2],this.ctx.beginPath(),this.formatPath([new bt(C.end.x,C.end.y),new bt(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return xa(this,void 0,void 0,function(){var n;return Ko(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=io(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=vxt(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(pke),Txt=function(e){return e instanceof JFe||e instanceof XFe?!0:e instanceof nz&&e.type!==vE&&e.type!==mE},Oxt=function(e,t){switch(e){case 0:return bE(t);case 2:return Axt(t);case 1:default:return xE(t)}},Rxt=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Mxt=["-apple-system","system-ui"],Fxt=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Mxt.indexOf(t)===-1}):e},kxt=function(e){fc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(r){return xa(this,void 0,void 0,function(){var n,i;return Ko(this,function(o){switch(o.label){case 0:return n=B3(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Uxt(n)];case 1:return i=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=io(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(pke),Uxt=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Dxt=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,GS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,GS([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,GS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,GS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),jxt=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Dxt({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new ixt(this,t)}return e.instanceCount=1,e}(),Lxt=function(e,t){return t===void 0&&(t={}),Nxt(e,t)};typeof window<"u"&&cke.setContext(window);var Nxt=function(e,t){return xa(void 0,void 0,void 0,function(){var r,n,i,o,a,s,l,c,u,d,A,f,h,p,v,y,b,x,S,C,B,_,B,T,O,P,F,U,k,M,D,j,$,Q,H,W,z,V,G,X;return Ko(this,function(Z){switch(Z.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(T=t.allowTaint)!==null&&T!==void 0?T:!1,imageTimeout:(O=t.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:t.proxy,useCORS:(P=t.useCORS)!==null&&P!==void 0?P:!1},o=f3({logging:(F=t.logging)!==null&&F!==void 0?F:!0,cache:t.cache},i),a={windowWidth:(U=t.windowWidth)!==null&&U!==void 0?U:n.innerWidth,windowHeight:(k=t.windowHeight)!==null&&k!==void 0?k:n.innerHeight,scrollX:(M=t.scrollX)!==null&&M!==void 0?M:n.pageXOffset,scrollY:(D=t.scrollY)!==null&&D!==void 0?D:n.pageYOffset},s=new Od(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new jxt(o,s),c=(j=t.foreignObjectRendering)!==null&&j!==void 0?j:!1,u={allowTaint:($=t.allowTaint)!==null&&$!==void 0?$:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),d=new Hre(l,e,u),A=d.clonedReferenceElement,A?[4,d.toIFrame(r,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Z.sent(),h=iz(A)||$bt(A)?mvt(A.ownerDocument):wB(l,A),p=h.width,v=h.height,y=h.left,b=h.top,x=$xt(l,A,t.backgroundColor),S={canvas:t.canvas,backgroundColor:x,scale:(H=(Q=t.scale)!==null&&Q!==void 0?Q:n.devicePixelRatio)!==null&&H!==void 0?H:1,x:((W=t.x)!==null&&W!==void 0?W:0)+y,y:((z=t.y)!==null&&z!==void 0?z:0)+b,width:(V=t.width)!==null&&V!==void 0?V:Math.ceil(p),height:(G=t.height)!==null&&G!==void 0?G:Math.ceil(v)},c?(l.logger.debug("Document cloned, using foreign object rendering"),B=new kxt(l,S),[4,B.render(A)]):[3,3];case 2:return C=Z.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+y+","+b+" with size "+p+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),_=tke(l,A),x===_.styles.backgroundColor&&(_.styles.backgroundColor=md.TRANSPARENT),l.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),B=new Pxt(l,S),[4,B.render(_)];case 4:C=Z.sent(),Z.label=5;case 5:return(!((X=t.removeContainer)!==null&&X!==void 0)||X)&&(Hre.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,C]}})})},$xt=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?P0(e,getComputedStyle(n.documentElement).backgroundColor):md.TRANSPARENT,o=n.body?P0(e,getComputedStyle(n.body).backgroundColor):md.TRANSPARENT,a=typeof r=="string"?P0(e,r):r===null?md.TRANSPARENT:4294967295;return t===n.documentElement?HA(i)?HA(o)?a:o:i:a};const Qxt=()=>{const e=()=>{const l=localStorage.getItem("rowersData");return l?JSON.parse(l):[{name:"Roadblock",value:0},{name:"Ownership",value:0},{name:"Win Likelihood",value:0},{name:"Economic Value",value:0},{name:"Risk",value:0},{name:"Stakeholders",value:0}]},[t,r]=I.useState(e());I.useEffect(()=>{localStorage.setItem("rowersData",JSON.stringify(t))},[t]);const n=(l,c)=>{if(c<0||c>5)return;const u=[...t];u[l].value=c,r(u)},i=l=>`rgba(0, 123, 255, ${l/5*255/255})`,o=l=>{const{x:c,y:u,width:d,height:A,payload:f}=l;return m.jsx("rect",{x:c,y:u,width:d,height:A,fill:i(f.value)})},a=I.useRef(null),s=async()=>{if(a.current)try{const l=await Lxt(a.current,{backgroundColor:"#fff"}),c=document.createElement("a");c.download="rowers-chart.png",c.href=l.toDataURL("image/png"),c.click()}catch(l){console.error("Error capturing chart:",l)}};return m.jsx(yb,{title:"ROWERS Opportunity Qualification Chart",children:m.jsxs(Kn,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",p:0,m:0},children:[m.jsx(gr,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",sx:{width:"100%",mb:4,p:0},children:t.map((l,c)=>m.jsx(gr,{item:!0,xs:12,sm:4,children:m.jsx(ph,{children:m.jsxs(gh,{children:[m.jsx(Bt,{variant:"h6",sx:{mb:2},children:l.name}),m.jsx(gn,{fullWidth:!0,label:"Value (1-5)",type:"number",inputProps:{min:1,max:5},value:l.value,onChange:u=>n(c,parseInt(u.target.value,10))})]})})},c))}),m.jsxs(yu,{elevation:3,sx:{width:"100%",p:0,m:4},children:[m.jsx(Bt,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center"},p:"20px",children:"ROWERS Bar Chart"}),m.jsx(Kn,{ref:a,children:m.jsx(g6,{width:"100%",height:400,children:m.jsxs(AFe,{data:t,children:[m.jsx(Zh,{dataKey:"name"}),m.jsx(ep,{domain:[0,5],ticks:[1,2,3,4,5]}),m.jsx(nl,{}),m.jsx(mh,{}),m.jsx(ff,{dataKey:"value",name:"ROWERS Score",shape:m.jsx(o,{}),animationDuration:0})]})})})]}),m.jsx(_a,{variant:"contained",onClick:s,sx:{mt:4,mb:8,backgroundColor:"rgb(0, 123, 255)"},children:"Extract Chart"})]})})},Hxt=()=>{const[e,t]=I.useState(Number(localStorage.getItem("budget"))||0),[r,n]=I.useState(Number(localStorage.getItem("likelihood"))||0),[i,o]=I.useState(Number(localStorage.getItem("revenue"))||0),[a,s]=I.useState(Number(localStorage.getItem("time"))||0),[l,c]=I.useState(Number(localStorage.getItem("budgetWeight"))||0),[u,d]=I.useState(Number(localStorage.getItem("likelihoodWeight"))||0),[A,f]=I.useState(Number(localStorage.getItem("revenueWeight"))||0),[h,p]=I.useState(Number(localStorage.getItem("timeWeight"))||0),[v,y]=I.useState(null);I.useEffect(()=>{localStorage.setItem("budget",String(e)),localStorage.setItem("likelihood",String(r)),localStorage.setItem("revenue",String(i)),localStorage.setItem("time",String(a)),localStorage.setItem("budgetWeight",String(l)),localStorage.setItem("likelihoodWeight",String(u)),localStorage.setItem("revenueWeight",String(A)),localStorage.setItem("timeWeight",String(h))},[e,r,i,a,l,u,A,h]);const b=T=>T.toLocaleString(),x=T=>{const O=T.target.value;if(O===""){t(0);return}const P=parseFloat(O.replace(/,/g,""));t(isNaN(P)?0:P)},S=T=>{const O=T.target.value;if(O===""){o(0);return}const P=parseFloat(O.replace(/,/g,""));o(isNaN(P)?0:P)},C=T=>{const O=T.target.value;if(O===""){n(0);return}const P=parseFloat(O);!isNaN(P)&&P>=0&&P<=100&&n(P/100)},_=T=>{const O=T.target.value;if(O===""){s(0);return}const P=parseFloat(O);s(isNaN(P)?0:P)},B=()=>{const T=i/1e4,O=r*10,P=a===0?0:1/a*1e3,F=T*A+O*u+P*h;y(F)};return m.jsxs(Kn,{width:"100%",sx:{p:3},children:[m.jsx(Bt,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Opportunity Scoring Tool"}),m.jsx(yu,{elevation:3,sx:{p:3},children:m.jsxs(gr,{container:!0,spacing:3,children:[m.jsx(gr,{item:!0,xs:12,children:m.jsx(Bt,{variant:"h6",sx:{mb:1,fontSize:"16px"},children:"The sum of weights should equal 1"})}),m.jsx(gr,{item:!0,xs:2.5,sm:2.5,children:m.jsx(gn,{label:"Budget Weight",type:"number",fullWidth:!0,value:l||"",onChange:T=>c(parseFloat(T.target.value)),inputProps:{step:"any",disableScroll:!0}})}),m.jsx(gr,{item:!0,xs:2.5,sm:2.5,children:m.jsx(gn,{label:"Likelihood Weight",type:"number",fullWidth:!0,value:u||"",onChange:T=>d(parseFloat(T.target.value)),inputProps:{step:"any",disableScroll:!0}})}),m.jsx(gr,{item:!0,xs:2.5,sm:2.5,children:m.jsx(gn,{label:"Revenue Weight",type:"number",fullWidth:!0,value:A||"",onChange:T=>f(parseFloat(T.target.value)),inputProps:{step:"any",disableScroll:!0}})}),m.jsx(gr,{item:!0,xs:2.5,sm:2.5,children:m.jsx(gn,{label:"Time Weight",type:"number",fullWidth:!0,value:h||"",onChange:T=>p(parseFloat(T.target.value)),inputProps:{step:"any",disableScroll:!0}})}),m.jsx(gr,{item:!0,xs:12,sm:6,children:m.jsx(gn,{label:"Budget",fullWidth:!0,value:e===0?"":b(e),onChange:x,inputProps:{disableScroll:!0}})}),m.jsx(gr,{item:!0,xs:12,sm:6,children:m.jsx(gn,{label:"Likelihood (0-100%)",type:"number",fullWidth:!0,value:r*100||"",onChange:C,inputProps:{min:0,max:100,disableScroll:!0}})}),m.jsx(gr,{item:!0,xs:12,sm:6,children:m.jsx(gn,{label:"Revenue",fullWidth:!0,value:i===0?"":b(i),onChange:S,inputProps:{disableScroll:!0}})}),m.jsx(gr,{item:!0,xs:12,sm:6,children:m.jsx(gn,{label:"Time (in months)",type:"number",fullWidth:!0,value:a||"",onChange:_,inputProps:{disableScroll:!0}})}),m.jsx(gr,{item:!0,xs:12,children:m.jsx(_a,{variant:"contained",color:"primary",onClick:B,fullWidth:!0,children:"Calculate Score"})}),v!==null&&m.jsx(gr,{item:!0,xs:12,children:m.jsxs(Bt,{variant:"h6",sx:{mt:2},children:["Opportunity Score: ",v.toFixed(2)]})})]})})]})},qxt=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[i,o]=I.useState("csv"),[a,s]=I.useState(0),[l,c]=I.useState([]);I.useEffect(()=>{const p=localStorage.getItem("historicalData"),v=localStorage.getItem("manualData");p&&t(JSON.parse(p)),v&&(c(JSON.parse(v)),s(JSON.parse(v).length))},[]),I.useEffect(()=>{localStorage.setItem("historicalData",JSON.stringify(e))},[e]),I.useEffect(()=>{localStorage.setItem("manualData",JSON.stringify(l))},[l]),I.useEffect(()=>{l.length>a&&c(l.slice(0,a))},[a]);const u=p=>{const v=p.length,y=p.map((P,F)=>F+1),b=p,x=y.reduce((P,F)=>P+F,0),S=b.reduce((P,F)=>P+F,0),C=y.map((P,F)=>P*b[F]).reduce((P,F)=>P+F,0),_=y.map(P=>P*P).reduce((P,F)=>P+F,0),B=(v*C-x*S)/(v*_-x*x),T=(S-B*x)/v;return Array.from({length:6},(P,F)=>{const U=v+F+1;return B*U+T})},d=()=>{const v=u(i==="csv"?e:l);n(v)},A=p=>{const v=p.target.value.split(",").map(Number);t(v)},f=(p,v)=>{const y=[...l];y[p]=parseFloat(v)||0,c(y)},h=()=>Array.from({length:a},(p,v)=>m.jsx(gr,{item:!0,xs:6,sm:4,md:3,children:m.jsx(gn,{label:`Data Point ${v+1}`,type:"number",fullWidth:!0,value:l[v]||"",onChange:y=>f(v,y.target.value),inputProps:{disableScroll:!0}})},v));return m.jsxs(XA,{children:[m.jsx(Bt,{variant:"h4",gutterBottom:!0,children:"Sales Prediction Tool"}),m.jsx(yu,{elevation:3,sx:{p:3},children:m.jsxs(gr,{container:!0,spacing:3,children:[m.jsx(gr,{item:!0,xs:12,children:m.jsxs(ptt,{value:i,exclusive:!0,onChange:(p,v)=>o(v),"aria-label":"input method",children:[m.jsx(d7,{value:"csv","aria-label":"csv",children:"CSV Input"}),m.jsx(d7,{value:"manual","aria-label":"manual",children:"Manual Input"})]})}),i==="csv"&&m.jsx(gr,{item:!0,xs:12,children:m.jsx(gn,{label:"Historical Sales Data (comma-separated)",fullWidth:!0,value:e.join(","),onChange:A})}),i==="manual"&&m.jsxs(m.Fragment,{children:[m.jsx(gr,{item:!0,xs:12,children:m.jsx(gn,{label:"Number of Data Points",type:"number",fullWidth:!0,value:a,onChange:p=>s(parseInt(p.target.value,10)),inputProps:{min:0}})}),a>0&&m.jsx(gr,{container:!0,spacing:2,sx:{mt:2},children:h()})]}),m.jsx(gr,{item:!0,xs:12,children:m.jsx(_a,{variant:"contained",color:"primary",onClick:d,fullWidth:!0,children:"Predict Future Sales"})}),r.length>0&&m.jsxs(gr,{item:!0,xs:12,children:[m.jsx(Bt,{variant:"h6",sx:{mt:2,mb:2},children:"Predicted Sales for the Next 6 Time Units:"}),m.jsx(gr,{container:!0,spacing:2,children:r.map((p,v)=>m.jsx(gr,{item:!0,xs:4,sm:4,md:4,children:m.jsxs(Bt,{variant:"body1",children:["Time Unit ",v+1,": ",p.toFixed(2)]})},v))})]})]})})]})},zxt=()=>{const e=Hm(),t=Wh(),r=[{title:"Opportunity Scoring Tool",description:"Prioritize sales opportunities based on budget, likelihood, and revenue.",component:m.jsx(Hxt,{}),color:e.palette.primary.main},{title:"Sales Prediction Tool",description:"Predict future sales based on historical data using linear regression. This prediction is based on the assumption that sales data is linear.",component:m.jsx(qxt,{}),color:e.palette.secondary.main}];return m.jsx(yb,{title:"Sales Tools",children:m.jsxs(Kn,{sx:{p:3,width:"100%"},children:[m.jsx(gr,{container:!0,spacing:4,alignItems:"stretch",children:r.map((n,i)=>m.jsx(gr,{item:!0,xs:12,sm:6,children:m.jsx(ph,{sx:{height:"100%",display:"flex",flexDirection:"column",borderLeft:`6px solid ${n.color}`},children:m.jsxs(gh,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[m.jsx(Bt,{variant:"h5",sx:{color:n.color,fontWeight:"bold",mb:2},children:n.title}),m.jsx(Bt,{variant:"body1",sx:{mb:2},children:n.description}),m.jsx(Ih,{sx:{my:2}}),m.jsx(Kn,{sx:{flexGrow:1},children:n.component})]})})},i))}),m.jsx(Kn,{sx:{display:"flex",justifyContent:"center",mt:8},children:m.jsx(_a,{variant:"contained",onClick:()=>t("/"),sx:{fontSize:"1.2rem",padding:"10px 20px"},children:"Back to Home"})})]})})},k3=TOe(m.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var wC={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var Kxt=wC.exports,Vre;function Wxt(){return Vre||(Vre=1,function(e){(function(t,r){e.exports?e.exports=r():t.numeral=r()})(Kxt,function(){var t,r,n="2.0.6",i={},o={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function l(c,u){this._input=c,this._value=u}return t=function(c){var u,d,A,f;if(t.isNumeral(c))u=c.value();else if(c===0||typeof c>"u")u=0;else if(c===null||r.isNaN(c))u=null;else if(typeof c=="string")if(s.zeroFormat&&c===s.zeroFormat)u=0;else if(s.nullFormat&&c===s.nullFormat||!c.replace(/[^0-9]+/g,"").length)u=null;else{for(d in i)if(f=typeof i[d].regexps.unformat=="function"?i[d].regexps.unformat():i[d].regexps.unformat,f&&c.match(f)){A=i[d].unformat;break}A=A||t._.stringToNumber,u=A(c)}else u=Number(c)||null;return new l(c,u)},t.version=n,t.isNumeral=function(c){return c instanceof l},t._=r={numberToFormat:function(c,u,d){var A=o[t.options.currentLocale],f=!1,h=!1,p=0,v="",y=1e12,b=1e9,x=1e6,S=1e3,C="",_=!1,B,T,O,P,F,U,k;if(c=c||0,T=Math.abs(c),t._.includes(u,"(")?(f=!0,u=u.replace(/[\(|\)]/g,"")):(t._.includes(u,"+")||t._.includes(u,"-"))&&(F=t._.includes(u,"+")?u.indexOf("+"):c<0?u.indexOf("-"):-1,u=u.replace(/[\+|\-]/g,"")),t._.includes(u,"a")&&(B=u.match(/a(k|m|b|t)?/),B=B?B[1]:!1,t._.includes(u," a")&&(v=" "),u=u.replace(new RegExp(v+"a[kmbt]?"),""),T>=y&&!B||B==="t"?(v+=A.abbreviations.trillion,c=c/y):T<y&&T>=b&&!B||B==="b"?(v+=A.abbreviations.billion,c=c/b):T<b&&T>=x&&!B||B==="m"?(v+=A.abbreviations.million,c=c/x):(T<x&&T>=S&&!B||B==="k")&&(v+=A.abbreviations.thousand,c=c/S)),t._.includes(u,"[.]")&&(h=!0,u=u.replace("[.]",".")),O=c.toString().split(".")[0],P=u.split(".")[1],U=u.indexOf(","),p=(u.split(".")[0].split(",")[0].match(/0/g)||[]).length,P?(t._.includes(P,"[")?(P=P.replace("]",""),P=P.split("["),C=t._.toFixed(c,P[0].length+P[1].length,d,P[1].length)):C=t._.toFixed(c,P.length,d),O=C.split(".")[0],t._.includes(C,".")?C=A.delimiters.decimal+C.split(".")[1]:C="",h&&Number(C.slice(1))===0&&(C="")):O=t._.toFixed(c,0,d),v&&!B&&Number(O)>=1e3&&v!==A.abbreviations.trillion)switch(O=String(Number(O)/1e3),v){case A.abbreviations.thousand:v=A.abbreviations.million;break;case A.abbreviations.million:v=A.abbreviations.billion;break;case A.abbreviations.billion:v=A.abbreviations.trillion;break}if(t._.includes(O,"-")&&(O=O.slice(1),_=!0),O.length<p)for(var M=p-O.length;M>0;M--)O="0"+O;return U>-1&&(O=O.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+A.delimiters.thousands)),u.indexOf(".")===0&&(O=""),k=O+C+(v||""),f?k=(f&&_?"(":"")+k+(f&&_?")":""):F>=0?k=F===0?(_?"-":"+")+k:k+(_?"-":"+"):_&&(k="-"+k),k},stringToNumber:function(c){var u=o[s.currentLocale],d=c,A={thousand:3,million:6,billion:9,trillion:12},f,h,p;if(s.zeroFormat&&c===s.zeroFormat)h=0;else if(s.nullFormat&&c===s.nullFormat||!c.replace(/[^0-9]+/g,"").length)h=null;else{h=1,u.delimiters.decimal!=="."&&(c=c.replace(/\./g,"").replace(u.delimiters.decimal,"."));for(f in A)if(p=new RegExp("[^a-zA-Z]"+u.abbreviations[f]+"(?:\\)|(\\"+u.currency.symbol+")?(?:\\))?)?$"),d.match(p)){h*=Math.pow(10,A[f]);break}h*=(c.split("-").length+Math.min(c.split("(").length-1,c.split(")").length-1))%2?1:-1,c=c.replace(/[^0-9\.]+/g,""),h*=Number(c)}return h},isNaN:function(c){return typeof c=="number"&&isNaN(c)},includes:function(c,u){return c.indexOf(u)!==-1},insert:function(c,u,d){return c.slice(0,d)+u+c.slice(d)},reduce:function(c,u){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof u!="function")throw new TypeError(u+" is not a function");var d=Object(c),A=d.length>>>0,f=0,h;if(arguments.length===3)h=arguments[2];else{for(;f<A&&!(f in d);)f++;if(f>=A)throw new TypeError("Reduce of empty array with no initial value");h=d[f++]}for(;f<A;f++)f in d&&(h=u(h,d[f],f,d));return h},multiplier:function(c){var u=c.toString().split(".");return u.length<2?1:Math.pow(10,u[1].length)},correctionFactor:function(){var c=Array.prototype.slice.call(arguments);return c.reduce(function(u,d){var A=r.multiplier(d);return u>A?u:A},1)},toFixed:function(c,u,d,A){var f=c.toString().split("."),h=u-(A||0),p,v,y,b;return f.length===2?p=Math.min(Math.max(f[1].length,h),u):p=h,y=Math.pow(10,p),b=(d(c+"e+"+p)/y).toFixed(p),A>u-p&&(v=new RegExp("\\.?0{1,"+(A-(u-p))+"}$"),b=b.replace(v,"")),b}},t.options=s,t.formats=i,t.locales=o,t.locale=function(c){return c&&(s.currentLocale=c.toLowerCase()),s.currentLocale},t.localeData=function(c){if(!c)return o[s.currentLocale];if(c=c.toLowerCase(),!o[c])throw new Error("Unknown locale : "+c);return o[c]},t.reset=function(){for(var c in a)s[c]=a[c]},t.zeroFormat=function(c){s.zeroFormat=typeof c=="string"?c:null},t.nullFormat=function(c){s.nullFormat=typeof c=="string"?c:null},t.defaultFormat=function(c){s.defaultFormat=typeof c=="string"?c:"0.0"},t.register=function(c,u,d){if(u=u.toLowerCase(),this[c+"s"][u])throw new TypeError(u+" "+c+" already registered.");return this[c+"s"][u]=d,d},t.validate=function(c,u){var d,A,f,h,p,v,y,b;if(typeof c!="string"&&(c+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",c)),c=c.trim(),c.match(/^\d+$/))return!0;if(c==="")return!1;try{y=t.localeData(u)}catch{y=t.localeData(t.locale())}return f=y.currency.symbol,p=y.abbreviations,d=y.delimiters.decimal,y.delimiters.thousands==="."?A="\\.":A=y.delimiters.thousands,b=c.match(/^[^\d]+/),b!==null&&(c=c.substr(1),b[0]!==f)||(b=c.match(/[^\d]+$/),b!==null&&(c=c.slice(0,-1),b[0]!==p.thousand&&b[0]!==p.million&&b[0]!==p.billion&&b[0]!==p.trillion))?!1:(v=new RegExp(A+"{2}"),c.match(/[^\d.,]/g)?!1:(h=c.split(d),h.length>2?!1:h.length<2?!!h[0].match(/^\d+.*\d$/)&&!h[0].match(v):h[0].length===1?!!h[0].match(/^\d+$/)&&!h[0].match(v)&&!!h[1].match(/^\d+$/):!!h[0].match(/^\d+.*\d$/)&&!h[0].match(v)&&!!h[1].match(/^\d+$/)))},t.fn=l.prototype={clone:function(){return t(this)},format:function(c,u){var d=this._value,A=c||s.defaultFormat,f,h,p;if(u=u||Math.round,d===0&&s.zeroFormat!==null)h=s.zeroFormat;else if(d===null&&s.nullFormat!==null)h=s.nullFormat;else{for(f in i)if(A.match(i[f].regexps.format)){p=i[f].format;break}p=p||t._.numberToFormat,h=p(d,A,u)}return h},value:function(){return this._value},input:function(){return this._input},set:function(c){return this._value=Number(c),this},add:function(c){var u=r.correctionFactor.call(null,this._value,c);function d(A,f,h,p){return A+Math.round(u*f)}return this._value=r.reduce([this._value,c],d,0)/u,this},subtract:function(c){var u=r.correctionFactor.call(null,this._value,c);function d(A,f,h,p){return A-Math.round(u*f)}return this._value=r.reduce([c],d,Math.round(this._value*u))/u,this},multiply:function(c){function u(d,A,f,h){var p=r.correctionFactor(d,A);return Math.round(d*p)*Math.round(A*p)/Math.round(p*p)}return this._value=r.reduce([this._value,c],u,1),this},divide:function(c){function u(d,A,f,h){var p=r.correctionFactor(d,A);return Math.round(d*p)/Math.round(A*p)}return this._value=r.reduce([this._value,c],u),this},difference:function(c){return Math.abs(t(this._value).subtract(c).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(c){var u=c%10;return~~(c%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th"},currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(c,u,d){var A=t._.includes(u," BPS")?" ":"",f;return c=c*1e4,u=u.replace(/\s?BPS/,""),f=t._.numberToFormat(c,u,d),t._.includes(f,")")?(f=f.split(""),f.splice(-1,0,A+"BPS"),f=f.join("")):f=f+A+"BPS",f},unformat:function(c){return+(t._.stringToNumber(c)*1e-4).toFixed(15)}})}(),function(){var c={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},u={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},d=c.suffixes.concat(u.suffixes.filter(function(f){return c.suffixes.indexOf(f)<0})),A=d.join("|");A="("+A.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(A)},format:function(f,h,p){var v,y=t._.includes(h,"ib")?u:c,b=t._.includes(h," b")||t._.includes(h," ib")?" ":"",x,S,C;for(h=h.replace(/\s?i?b/,""),x=0;x<=y.suffixes.length;x++)if(S=Math.pow(y.base,x),C=Math.pow(y.base,x+1),f===null||f===0||f>=S&&f<C){b+=y.suffixes[x],S>0&&(f=f/S);break}return v=t._.numberToFormat(f,h,p),v+b},unformat:function(f){var h=t._.stringToNumber(f),p,v;if(h){for(p=c.suffixes.length-1;p>=0;p--){if(t._.includes(f,c.suffixes[p])){v=Math.pow(c.base,p);break}if(t._.includes(f,u.suffixes[p])){v=Math.pow(u.base,p);break}}h*=v||1}return h}})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(c,u,d){var A=t.locales[t.options.currentLocale],f={before:u.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:u.match(/([\+|\-|\)|\s|\$]*)$/)[0]},h,p,v;for(u=u.replace(/\s?\$\s?/,""),h=t._.numberToFormat(c,u,d),c>=0?(f.before=f.before.replace(/[\-\(]/,""),f.after=f.after.replace(/[\-\)]/,"")):c<0&&!t._.includes(f.before,"-")&&!t._.includes(f.before,"(")&&(f.before="-"+f.before),v=0;v<f.before.length;v++)switch(p=f.before[v],p){case"$":h=t._.insert(h,A.currency.symbol,v);break;case" ":h=t._.insert(h," ",v+A.currency.symbol.length-1);break}for(v=f.after.length-1;v>=0;v--)switch(p=f.after[v],p){case"$":h=v===f.after.length-1?h+A.currency.symbol:t._.insert(h,A.currency.symbol,-(f.after.length-(1+v)));break;case" ":h=v===f.after.length-1?h+" ":t._.insert(h," ",-(f.after.length-(1+v)+A.currency.symbol.length-1));break}return h}})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(c,u,d){var A,f=typeof c=="number"&&!t._.isNaN(c)?c.toExponential():"0e+0",h=f.split("e");return u=u.replace(/e[\+|\-]{1}0/,""),A=t._.numberToFormat(Number(h[0]),u,d),A+"e"+h[1]},unformat:function(c){var u=t._.includes(c,"e+")?c.split("e+"):c.split("e-"),d=Number(u[0]),A=Number(u[1]);A=t._.includes(c,"e-")?A*=-1:A;function f(h,p,v,y){var b=t._.correctionFactor(h,p),x=h*b*(p*b)/(b*b);return x}return t._.reduce([d,Math.pow(10,A)],f,1)}})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(c,u,d){var A=t.locales[t.options.currentLocale],f,h=t._.includes(u," o")?" ":"";return u=u.replace(/\s?o/,""),h+=A.ordinal(c),f=t._.numberToFormat(c,u,d),f+h}})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(c,u,d){var A=t._.includes(u," %")?" ":"",f;return t.options.scalePercentBy100&&(c=c*100),u=u.replace(/\s?\%/,""),f=t._.numberToFormat(c,u,d),t._.includes(f,")")?(f=f.split(""),f.splice(-1,0,A+"%"),f=f.join("")):f=f+A+"%",f},unformat:function(c){var u=t._.stringToNumber(c);return t.options.scalePercentBy100?u*.01:u}})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(c,u,d){var A=Math.floor(c/60/60),f=Math.floor((c-A*60*60)/60),h=Math.round(c-A*60*60-f*60);return A+":"+(f<10?"0"+f:f)+":"+(h<10?"0"+h:h)},unformat:function(c){var u=c.split(":"),d=0;return u.length===3?(d=d+Number(u[0])*60*60,d=d+Number(u[1])*60,d=d+Number(u[2])):u.length===2&&(d=d+Number(u[0])*60,d=d+Number(u[1])),Number(d)}})}(),t})}(wC)),wC.exports}var Vxt=Wxt();const Wk=kr(Vxt),Gxt=({values:e})=>{const r=["R","O","W","E","R","S"].map((n,i)=>({name:n,value:e[i]||0}));return m.jsx(Kn,{className:"border border-gray-300 rounded-lg",style:{border:"none"},children:m.jsx(g6,{width:"100%",height:350,children:m.jsxs(AFe,{data:r,children:[m.jsx(Zh,{dataKey:"name",stroke:"#333"}),m.jsx(ep,{domain:[0,5],ticks:[0,1,2,3,4,5],stroke:"#333"}),m.jsx(nl,{}),m.jsx(ff,{dataKey:"value",fill:"#6200ea"})]})})})},v1={description:"",responsible:"",deadline:"",budget:0,totalPipelineValue:0,closedValue:0,opportunityGap:0,pipelineGap:0,rowersValues:Array(6).fill(0),activities:[]},ag=[{letter:"R",title:"Roadblock",color:"#6200ea",description:"How well do you understand the customer's pain and obstacles?",steps:["1: No clear pain or critical issue identified.","2: A minor issue is identified.","3: A problem exists, but not clearly articulated.","4: A clear and significant pain is recognized.","5: A well-defined and urgent problem exists."]},{letter:"O",title:"Ownership",color:"#FF9800",description:"Who in the customer's organization is responsible?",steps:["1: No clear owner of the problem.","2: Ownership is unclear or split.","3: A stakeholder owns the problem with limited authority.","4: A strong champion acknowledges the problem.","5: A decision-maker is actively driving the decision."]},{letter:"W",title:"Win Likelihood",color:"#4CAF50",description:"Assessment of how likely you are to win the deal.",steps:["1: Very low likelihood.","2: Low likelihood.","3: Moderate likelihood.","4: High likelihood.","5: Very high likelihood."]},{letter:"E",title:"Economic Value",color:"#FFC107",description:"How compelling is the economic case for your solution?",steps:["1: Economic value is unclear.","2: Value may be provided, but not concrete.","3: Economic value is somewhat understood.","4: Financial impact is well-articulated.","5: Economic value is compelling."]},{letter:"R",title:"Risk",color:"#F44336",description:"Assessment of how well risks are managed.",steps:["1: Significant risks exist.","2: Several risks exist without a clear plan.","3: Moderate risks with some mitigation.","4: Low risks identified and addressed.","5: Minimal or no risks."]},{letter:"S",title:"Stakeholders",color:"#2196F3",description:"Evaluation of engagement with key stakeholders.",steps:["1: No engagement with key stakeholders.","2: Limited engagement.","3: Partial engagement.","4: Strong engagement with most stakeholders.","5: Full engagement with all key stakeholders."]}],Yxt=()=>{const e=()=>{try{const x=localStorage.getItem("reviews");return x?JSON.parse(x):Array(3).fill(v1)}catch(x){return console.error("Error loading reviews:",x),[v1,v1,v1]}},[t,r]=I.useState(e()),[n,i]=I.useState(Array(3).fill({description:"",deadline:""})),[o,a]=I.useState(!1),[s,l]=I.useState(null),[c,u]=I.useState(null);I.useEffect(()=>{localStorage.setItem("reviews",JSON.stringify(t))},[t]);const d=(x,S,C)=>{const _=[...t];_[x]={..._[x],[S]:C},r(_)},A=(x,S,C)=>{const _=[...t],B=[..._[x].rowersValues];B[S]=C,_[x]={..._[x],rowersValues:B},r(_)},f=(x,S)=>{u(x),l(S),a(!0)},h=()=>{a(!1),l(null),u(null)},p=x=>{c!==null&&s!==null&&A(c,s,x),h()},v=(x,S,C)=>{const _=[...n];_[x]={..._[x],[S]:C},i(_)},y=x=>{const S=n[x];if(S.description.trim()==="")return;const C=[...t];C[x].activities.push(S),r(C);const _=[...n];_[x]={description:"",deadline:""},i(_)},b=(x,S)=>{const C=[...t];C[x].activities.splice(S,1),r(C)};return m.jsxs(XA,{maxWidth:"lg",className:"p-4",children:[m.jsx(Bt,{variant:"h4",className:"text-center my-8 font-bold",children:"Win Room Board"}),m.jsx(gr,{container:!0,spacing:6,children:t.map((x,S)=>m.jsx(gr,{item:!0,xs:12,children:m.jsx(ph,{className:"p-6 border-l-4 border-purple-600 shadow-lg",children:m.jsxs(gh,{children:[m.jsxs(Bt,{variant:"h5",className:"mb-4 font-semibold",children:["Review ",S+1]}),m.jsxs(gr,{container:!0,spacing:4,children:[m.jsx(gr,{item:!0,xs:12,children:m.jsx(gn,{fullWidth:!0,label:"Description",multiline:!0,rows:4,variant:"outlined",value:x.description,onChange:C=>d(S,"description",C.target.value),className:"bg-white"})}),m.jsx(gr,{item:!0,xs:6,children:m.jsx(gn,{fullWidth:!0,label:"Responsible",variant:"outlined",value:x.responsible,onChange:C=>d(S,"responsible",C.target.value),className:"bg-white"})}),m.jsx(gr,{item:!0,xs:6,children:m.jsx(gn,{fullWidth:!0,label:"Deadline",type:"date",variant:"outlined",value:x.deadline,onChange:C=>d(S,"deadline",C.target.value),InputLabelProps:{shrink:!0},className:"bg-white"})}),m.jsx(gr,{item:!0,xs:4,children:m.jsx(gn,{fullWidth:!0,label:"Budget (SEK)",variant:"outlined",value:Wk(x.budget).format("0,0"),onChange:C=>d(S,"budget",parseInt(C.target.value.replace(/\D/g,""),10)||0),className:"bg-white"})}),m.jsx(gr,{item:!0,xs:4,children:m.jsx(gn,{fullWidth:!0,label:"Total Pipeline Value (SEK)",variant:"outlined",value:Wk(x.totalPipelineValue).format("0,0"),onChange:C=>d(S,"totalPipelineValue",parseInt(C.target.value.replace(/\D/g,""),10)||0),className:"bg-white"})}),m.jsx(gr,{item:!0,xs:4,children:m.jsx(gn,{fullWidth:!0,label:"Closed Value (SEK)",variant:"outlined",value:Wk(x.closedValue).format("0,0"),onChange:C=>d(S,"closedValue",parseInt(C.target.value.replace(/\D/g,""),10)||0),className:"bg-white"})}),m.jsxs(gr,{item:!0,xs:12,children:[m.jsx(Bt,{variant:"h6",className:"mb-2 font-semibold",children:"ROWERS Analysis"}),m.jsx("div",{className:"flex space-x-4 justify-center mb-4",children:ag.map((C,_)=>m.jsxs("div",{className:"cursor-pointer flex flex-col items-center",onClick:()=>f(S,_),children:[m.jsx("div",{className:"text-3xl font-bold",style:{color:C.color},children:C.letter}),m.jsxs("div",{className:"mt-1 text-sm",children:["Value: ",x.rowersValues[_]]})]},_))}),m.jsx(Gxt,{values:x.rowersValues})]}),m.jsxs(gr,{item:!0,xs:12,className:"mt-6",children:[m.jsx(Bt,{variant:"h6",className:"font-semibold mb-2",children:"Activity"}),m.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[m.jsx(gn,{label:"Activity Description",variant:"outlined",value:n[S].description,onChange:C=>v(S,"description",C.target.value),className:"bg-white flex-1"}),m.jsx(gn,{label:"Deadline",type:"date",variant:"outlined",value:n[S].deadline,onChange:C=>v(S,"deadline",C.target.value),InputLabelProps:{shrink:!0},className:"bg-white w-44"}),m.jsx(_a,{variant:"contained",onClick:()=>y(S),className:"bg-[#6200ea] hover:bg-[#4b00b5] text-white px-4 py-2",children:"Add"})]}),x.activities.length>0&&m.jsx("div",{className:"border-t pt-2 mt-2",children:x.activities.map((C,_)=>m.jsxs("div",{className:"flex items-center py-1",children:[m.jsx("span",{className:"flex-1",children:C.description}),m.jsx("span",{className:"text-sm text-gray-500 text-right w-32 mr-2",children:C.deadline}),m.jsx(kOe,{"aria-label":"delete",size:"small",onClick:()=>b(S,_),children:m.jsx(k3,{fontSize:"small"})})]},_))})]})]})]})})},S))}),m.jsx(Qq,{open:o,onClose:h,BackdropComponent:$q,BackdropProps:{sx:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:m.jsx(yu,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"90%",sm:"70%",md:"50%"},maxWidth:"700px",p:5,borderRadius:4,boxShadow:5,bgcolor:"white"},children:s!==null&&m.jsxs(m.Fragment,{children:[m.jsx(Bt,{variant:"h2",sx:{color:ag[s].color,fontWeight:"bold",mb:2},children:ag[s].letter}),m.jsx(Bt,{variant:"h5",sx:{mb:2},children:ag[s].title}),m.jsx(Bt,{variant:"body1",sx:{mb:4},children:ag[s].description}),m.jsx(Ih,{sx:{my:2}}),m.jsx(Bt,{variant:"h5",sx:{fontWeight:"bold",mb:2},children:"Select Value"}),m.jsx("div",{className:"flex justify-around mb-4",children:[0,1,2,3,4,5].map(x=>m.jsx(_a,{variant:"outlined",onClick:()=>p(x),children:x},x))}),m.jsx(Ih,{sx:{my:2}}),m.jsx(Bt,{variant:"h5",sx:{fontWeight:"bold",mb:2},children:"Guidelines"}),m.jsx("ul",{className:"list-disc ml-5 text-sm space-y-1",children:ag[s].steps.map((x,S)=>m.jsx("li",{children:x},S))})]})})})]})},Vk="__TLDRAW_LIBRARY_VERSIONS__";function Xxt(){if(globalThis[Vk])return globalThis[Vk];const e={versions:[],didWarn:!1,scheduledNotice:null};return Object.defineProperty(globalThis,Vk,{value:e,writable:!1,configurable:!1,enumerable:!1}),e}function hf(e,t,r){if(!e)throw new Error("Missing name/version/module system in built version of tldraw library");const n=Xxt();if(n.versions.push({name:e,version:t,modules:r}),!n.scheduledNotice)try{n.scheduledNotice=setTimeout(()=>{n.scheduledNotice=null,Gre(n)},100)}catch{Gre(n)}}function Gre(e){if(!e.versions.length||e.didWarn)return;const t=e.versions.sort((s,l)=>Yre(s.version,l.version)),r=t[t.length-1].version,n=new Set,i=new Map;for(const s of t){if(i.has(s.name)){n.delete(s.name),Gk(i,s.name,new Set).add(s.version);continue}s.version===r?n.add(s.name):(n.delete(s.name),Gk(i,s.name,new Set).add(s.version))}if(i.size>0){const s=[`${Gu("[tldraw]",["bold","bgRed","textWhite"])} ${Gu("You have multiple versions of tldraw libraries installed. This can lead to bugs and unexpected behavior.",["textRed","bold"])}`,"",`The latest version you have installed is ${Gu(`v${r}`,["bold","textBlue"])}. The following libraries are on the latest version:`,...Array.from(n,l=>`    ${Gu(l,["bold"])}`),"","The following libraries are not on the latest version, or have multiple versions installed:",...Array.from(i,([l,c])=>{const u=Array.from(c).sort(Yre).map(d=>Gu(`v${d}`,d===r?["textGreen"]:["textRed"]));return`    ${Gu(l,["bold"])} (${u.join(", ")})`})];console.log(s.join(`
`)),e.didWarn=!0;return}const o=new Map;for(const s of t)Gk(o,s.name,{version:s.version,modules:[]}).modules.push(s.modules);const a=new Map;for(const[s,l]of o)l.modules.length>1&&a.set(s,l);if(a.size>0){const s=[`${Gu("[tldraw]",["bold","bgRed","textWhite"])} ${Gu("You have multiple instances of some tldraw libraries active. This can lead to bugs and unexpected behavior. ",["textRed","bold"])}`,"","This usually means that your bundler is misconfigured, and is importing the same library multiple times - usually once as an ES Module, and once as a CommonJS module.","","The following libraries have been imported multiple times:",...Array.from(a,([l,c])=>{const u=c.modules.map((d,A)=>d==="esm"?`      ${A+1}. ES Modules`:`      ${A+1}. CommonJS`).join(`
`);return`    ${Gu(l,["bold"])} v${c.version}: 
${u}`}),"","You should configure your bundler to only import one version of each library."];console.log(s.join(`
`)),e.didWarn=!0;return}}function Yre(e,t){const r=e.match(/^(\d+)\.(\d+)\.(\d+)(?:-(\w+))?$/),n=t.match(/^(\d+)\.(\d+)\.(\d+)(?:-(\w+))?$/);return!r||!n?e.localeCompare(t):r[1]!==n[1]?Number(r[1])-Number(n[1]):r[2]!==n[2]?Number(r[2])-Number(n[2]):r[3]!==n[3]?Number(r[3])-Number(n[3]):r[4]&&n[4]?r[4].localeCompare(n[4]):r[4]?1:n[4]?-1:0}const Jxt={bold:"1",textBlue:"94",textRed:"31",textGreen:"32",bgRed:"41",textWhite:"97"};function Gu(e,t=[]){return`\x1B[${t.map(r=>Jxt[r]).join(";")}m${e}\x1B[m`}function Gk(e,t,r){return e.has(t)?e.get(t):(e.set(t,r),r)}var Yk,Xre;function Zxt(){if(Xre)return Yk;Xre=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l=typeof ao=="object"&&ao&&ao.Object===Object&&ao,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype,A=d.toString,f=Math.max,h=Math.min,p=function(){return u.Date.now()};function v(_,B,T){var O,P,F,U,k,M,D=0,j=!1,$=!1,Q=!0;if(typeof _!="function")throw new TypeError(e);B=C(B)||0,b(T)&&(j=!!T.leading,$="maxWait"in T,F=$?f(C(T.maxWait)||0,B):F,Q="trailing"in T?!!T.trailing:Q);function H(ne){var te=O,se=P;return O=P=void 0,D=ne,U=_.apply(se,te),U}function W(ne){return D=ne,k=setTimeout(G,B),j?H(ne):U}function z(ne){var te=ne-M,se=ne-D,de=B-te;return $?h(de,F-se):de}function V(ne){var te=ne-M,se=ne-D;return M===void 0||te>=B||te<0||$&&se>=F}function G(){var ne=p();if(V(ne))return X(ne);k=setTimeout(G,z(ne))}function X(ne){return k=void 0,Q&&O?H(ne):(O=P=void 0,U)}function Z(){k!==void 0&&clearTimeout(k),D=0,O=M=P=k=void 0}function oe(){return k===void 0?U:X(p())}function ae(){var ne=p(),te=V(ne);if(O=arguments,P=this,M=ne,te){if(k===void 0)return W(M);if($)return k=setTimeout(G,B),H(M)}return k===void 0&&(k=setTimeout(G,B)),U}return ae.cancel=Z,ae.flush=oe,ae}function y(_,B,T){var O=!0,P=!0;if(typeof _!="function")throw new TypeError(e);return b(T)&&(O="leading"in T?!!T.leading:O,P="trailing"in T?!!T.trailing:P),v(_,B,{leading:O,maxWait:B,trailing:P})}function b(_){var B=typeof _;return!!_&&(B=="object"||B=="function")}function x(_){return!!_&&typeof _=="object"}function S(_){return typeof _=="symbol"||x(_)&&A.call(_)==r}function C(_){if(typeof _=="number")return _;if(S(_))return t;if(b(_)){var B=typeof _.valueOf=="function"?_.valueOf():_;_=b(B)?B+"":B}if(typeof _!="string")return _===0?_:+_;_=_.replace(n,"");var T=o.test(_);return T||a.test(_)?s(_.slice(2),T?2:8):i.test(_)?t:+_}return Yk=y,Yk}var eSt=Zxt();const gke=kr(eSt);var Xk,Jre;function tSt(){if(Jre)return Xk;Jre=1;var e=200,t="__lodash_hash_undefined__",r=1/0,n="[object Function]",i="[object GeneratorFunction]",o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=typeof ao=="object"&&ao&&ao.Object===Object&&ao,l=typeof self=="object"&&self&&self.Object===Object&&self,c=s||l||Function("return this")();function u(ee,ce){var pe=ee?ee.length:0;return!!pe&&A(ee,ce,0)>-1}function d(ee,ce,pe,xe){for(var $e=ee.length,ve=pe+-1;++ve<$e;)if(ce(ee[ve],ve,ee))return ve;return-1}function A(ee,ce,pe){if(ce!==ce)return d(ee,f,pe);for(var xe=pe-1,$e=ee.length;++xe<$e;)if(ee[xe]===ce)return xe;return-1}function f(ee){return ee!==ee}function h(ee,ce){return ee.has(ce)}function p(ee,ce){return ee==null?void 0:ee[ce]}function v(ee){var ce=!1;if(ee!=null&&typeof ee.toString!="function")try{ce=!!(ee+"")}catch{}return ce}function y(ee){var ce=-1,pe=Array(ee.size);return ee.forEach(function(xe){pe[++ce]=xe}),pe}var b=Array.prototype,x=Function.prototype,S=Object.prototype,C=c["__core-js_shared__"],_=function(){var ee=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""}(),B=x.toString,T=S.hasOwnProperty,O=S.toString,P=RegExp("^"+B.call(T).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=b.splice,U=Te(c,"Map"),k=Te(c,"Set"),M=Te(Object,"create");function D(ee){var ce=-1,pe=ee?ee.length:0;for(this.clear();++ce<pe;){var xe=ee[ce];this.set(xe[0],xe[1])}}function j(){this.__data__=M?M(null):{}}function $(ee){return this.has(ee)&&delete this.__data__[ee]}function Q(ee){var ce=this.__data__;if(M){var pe=ce[ee];return pe===t?void 0:pe}return T.call(ce,ee)?ce[ee]:void 0}function H(ee){var ce=this.__data__;return M?ce[ee]!==void 0:T.call(ce,ee)}function W(ee,ce){var pe=this.__data__;return pe[ee]=M&&ce===void 0?t:ce,this}D.prototype.clear=j,D.prototype.delete=$,D.prototype.get=Q,D.prototype.has=H,D.prototype.set=W;function z(ee){var ce=-1,pe=ee?ee.length:0;for(this.clear();++ce<pe;){var xe=ee[ce];this.set(xe[0],xe[1])}}function V(){this.__data__=[]}function G(ee){var ce=this.__data__,pe=Ue(ce,ee);if(pe<0)return!1;var xe=ce.length-1;return pe==xe?ce.pop():F.call(ce,pe,1),!0}function X(ee){var ce=this.__data__,pe=Ue(ce,ee);return pe<0?void 0:ce[pe][1]}function Z(ee){return Ue(this.__data__,ee)>-1}function oe(ee,ce){var pe=this.__data__,xe=Ue(pe,ee);return xe<0?pe.push([ee,ce]):pe[xe][1]=ce,this}z.prototype.clear=V,z.prototype.delete=G,z.prototype.get=X,z.prototype.has=Z,z.prototype.set=oe;function ae(ee){var ce=-1,pe=ee?ee.length:0;for(this.clear();++ce<pe;){var xe=ee[ce];this.set(xe[0],xe[1])}}function ne(){this.__data__={hash:new D,map:new(U||z),string:new D}}function te(ee){return Ve(this,ee).delete(ee)}function se(ee){return Ve(this,ee).get(ee)}function de(ee){return Ve(this,ee).has(ee)}function re(ee,ce){return Ve(this,ee).set(ee,ce),this}ae.prototype.clear=ne,ae.prototype.delete=te,ae.prototype.get=se,ae.prototype.has=de,ae.prototype.set=re;function he(ee){var ce=-1,pe=ee?ee.length:0;for(this.__data__=new ae;++ce<pe;)this.add(ee[ce])}function ye(ee){return this.__data__.set(ee,t),this}function ke(ee){return this.__data__.has(ee)}he.prototype.add=he.prototype.push=ye,he.prototype.has=ke;function Ue(ee,ce){for(var pe=ee.length;pe--;)if(Se(ee[pe][0],ce))return pe;return-1}function Ne(ee){if(!it(ee)||Be(ee))return!1;var ce=Oe(ee)||v(ee)?P:a;return ce.test(Ze(ee))}function Ye(ee,ce,pe){var xe=-1,$e=u,ve=ee.length,ot=!0,xt=[],De=xt;if(ve>=e){var We=lt(ee);if(We)return y(We);ot=!1,$e=h,De=new he}else De=xt;e:for(;++xe<ve;){var Je=ee[xe],nt=Je;if(Je=Je!==0?Je:0,ot&&nt===nt){for(var At=De.length;At--;)if(De[At]===nt)continue e;xt.push(Je)}else $e(De,nt,pe)||(De!==xt&&De.push(nt),xt.push(Je))}return xt}var lt=k&&1/y(new k([,-0]))[1]==r?function(ee){return new k(ee)}:ft;function Ve(ee,ce){var pe=ee.__data__;return we(ce)?pe[typeof ce=="string"?"string":"hash"]:pe.map}function Te(ee,ce){var pe=p(ee,ce);return Ne(pe)?pe:void 0}function we(ee){var ce=typeof ee;return ce=="string"||ce=="number"||ce=="symbol"||ce=="boolean"?ee!=="__proto__":ee===null}function Be(ee){return!!_&&_ in ee}function Ze(ee){if(ee!=null){try{return B.call(ee)}catch{}try{return ee+""}catch{}}return""}function me(ee){return ee&&ee.length?Ye(ee):[]}function Se(ee,ce){return ee===ce||ee!==ee&&ce!==ce}function Oe(ee){var ce=it(ee)?O.call(ee):"";return ce==n||ce==i}function it(ee){var ce=typeof ee;return!!ee&&(ce=="object"||ce=="function")}function ft(){}return Xk=me,Xk}var rSt=tSt();const nSt=kr(rSt);function mke(e){const t=(...r)=>{try{return e(...r)}catch(n){throw n instanceof Error&&Error.captureStackTrace&&Error.captureStackTrace(n,t),n}};return t}const jw=()=>{},qA={ok(e){return{ok:!0,value:e}},err(e){return{ok:!1,error:e}}};function Di(e,t){const r=t&&e&&typeof e=="object"&&t in e?e[t]:e;throw new Error(`Unknown switch case ${r}`)}const vr=mke((e,t)=>{if(!e)throw new Error(t||"Assertion Error")}),Va=mke((e,t)=>{if(e==null)throw new Error(t??"value must be defined");return e});function oz(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});return Object.assign(r,{resolve:e,reject:t})}function U3(e){return new Promise(t=>setTimeout(t,e))}const a0={Good:"#40C057",Mid:"#FFC078",Poor:"#E03131"},iSt=a0.Good;class vke{constructor(){K(this,"startTime",0);K(this,"name","");K(this,"frames",0);K(this,"started",!1);K(this,"frame",null);K(this,"recordFrame",()=>{this.frames++,this.started&&(this.frame=requestAnimationFrame(this.recordFrame))})}start(t){this.name=t,this.frames=0,this.started=!0,this.frame!==null&&cancelAnimationFrame(this.frame),this.frame=requestAnimationFrame(this.recordFrame),this.startTime=performance.now()}stop(){this.started=!1,this.frame!==null&&cancelAnimationFrame(this.frame);const t=(performance.now()-this.startTime)/1e3,r=t===0?0:Math.floor(this.frames/t),n=r>55?a0.Good:r>30?a0.Mid:a0.Poor,i=n===a0.Mid?"black":"white",o=this.name[0].toUpperCase()+this.name.slice(1);console.debug(`%cPerf%c ${o} %c${r}%c fps`,`color: white; background: ${iSt};padding: 2px;border-radius: 3px;`,"font-weight: normal",`font-weight: bold; padding: 2px; background: ${n};color: ${i};`,"font-weight: normal")}isStarted(){return this.started}}function az(e,t){const r=[];e:for(const n of e){for(const i of r)if(t?t(n,i):n===i)continue e;r.push(n)}return r}function lr(e){return e.filter(t=>t!=null)}function xo(e){return e[e.length-1]}function oSt(e,t){let r,n=1/0;for(const i of e){const o=t(i);o<n&&(r=i,n=o)}return r}function aSt(e,t){let r,n=-1/0;for(const i of e){const o=t(i);o>n&&(r=i,n=o)}return r}function yke(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0}function Jk(e,t,r){const n=new Set(t.map(o=>o[e])),i=[];for(const o of r)n.has(o[e])||i.push(o);for(const o of t)i.push(o);return i}function Ja(...e){if(e.length===2){const[t,r]=e;r.addInitializer(function(){vr(Reflect.isExtensible(this),"Cannot bind to a non-extensible class.");const i=t.bind(this),o=Reflect.defineProperty(this,r.name,{value:i,writable:!0,configurable:!0});vr(o,"Cannot bind a non-configurable class method.")})}else{const[t,r,n]=e;if(!n||typeof n.value!="function")throw new TypeError(`Only methods can be decorated with @bind. <${r}> is not a method!`);return{configurable:!0,get(){const i=n.value.bind(this);return Object.defineProperty(this,r,{value:i,configurable:!0,writable:!0}),i}}}}class hc{constructor(){K(this,"items",new WeakMap)}get(t,r){return this.items.has(t)||this.items.set(t,r(t)),this.items.get(t)}}function sz(e,t){let r;const n=(...i)=>(r||(r={},r.promise=new Promise((o,a)=>{r.resolve=o,r.reject=a})),clearTimeout(r.timeout),r.latestArgs=i,r.timeout=setTimeout(()=>{const o=r;r=void 0;try{o.resolve(e(...o.latestArgs))}catch(a){o.reject(a)}},t),r.promise);return n.cancel=()=>{r&&clearTimeout(r.timeout)},n}const Zre=new WeakMap;function lz(e,t){if(typeof e!="object"||e===null)return;let r=Zre.get(e);r||(r={tags:{},extras:{}},Zre.set(e,r)),t.tags&&(r.tags={...r.tags,...t.tags}),t.extras&&(r.extras={...r.extras,...t.extras})}async function lu(e,t){return window.fetch(e,{referrerPolicy:"strict-origin-when-cross-origin",...t})}const Lw=(e,t)=>{const r=new window.Image(e,t);return r.referrerPolicy="strict-origin-when-cross-origin",r};class fl{static async dataUrlToArrayBuffer(t){return lu(t).then(function(r){return r.arrayBuffer()})}static async blobToDataUrl(t){return await new Promise((r,n)=>{if(t){const i=new FileReader;i.onload=()=>r(i.result),i.onerror=o=>n(o),i.onabort=o=>n(o),i.readAsDataURL(t)}})}static async blobToText(t){return await new Promise((r,n)=>{if(t){const i=new FileReader;i.onload=()=>r(i.result),i.onerror=o=>n(o),i.onabort=o=>n(o),i.readAsText(t)}})}static rewriteMimeType(t,r){return t.type===r?t:t instanceof File?new File([t],t.name,{type:r}):new Blob([t],{type:r})}}function cz(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t+""}function wke(e){const t=new DataView(e);let r=0;for(let n=0;n<t.byteLength;n++)r=(r<<5)-r+t.getUint8(n),r|=0;return r+""}/*!
 * MIT License: https://github.com/ai/nanoid/blob/main/LICENSE
 * Modified code originally from <https://github.com/ai/nanoid>
 * Copyright 2017 Andrey Sitnik <andrey@sitnik.ru>
 *
 * `nanoid` is currently only distributed as an ES module. Some tools (jest, playwright) don't
 * properly support ESM-only code yet, and tldraw itself is distributed as both an ES module and a
 * CommonJS module. By including nanoid here, we can make sure it works well in every environment
 * where tldraw is used. We can also remove some unused features like custom alphabets.
 */const ene=globalThis.crypto,sSt="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",lSt=128;let rh,Pg;function cSt(e){!rh||rh.length<e?(rh=new Uint8Array(e*lSt),ene.getRandomValues(rh),Pg=0):Pg+e>rh.length&&(ene.getRandomValues(rh),Pg=0),Pg+=e}function uSt(e=21){cSt(e-=0);let t="";for(let r=Pg-e;r<Pg;r++)t+=sSt[rh[r]&63];return t}let dSt=uSt;function tn(e){return dSt(e)}/*!
 * MIT License: https://github.com/vHeemstra/is-apng/blob/main/license
 * Copyright (c) Philip van Heemstra
 */function ASt(e){const t=new Uint8Array(e);if(!t||!(typeof Buffer<"u"&&Buffer.isBuffer(t)||t instanceof Uint8Array)||t.length<16||!(t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71&&t[4]===13&&t[5]===10&&t[6]===26&&t[7]===10))return!1;function n(o,a,s,l,c=1024){if(!a)return-1;a=new RegExp(a,"g");const u=a.source.length,d=new TextDecoder,A=o.length;if(typeof l>"u"&&(l=A),s>=A||l<=0||s>=l)return-1;o=o.subarray(s,l);let f=-1,h=0,p=0,v="";e:for(;h<o.length;){const y=h+c,b=o.subarray(h,y),x=d.decode(b,{stream:!0}),S=v+x;let C,_=-1;for(;(C=a.exec(S))!==null;){_=C.index-v.length,f=p+_;break e}h=y,p+=x.length;const B=_>-1?_+u:x.length-u;v=x.slice(B)}return f>=0&&(f+=s>=0?s:A+s),f}const i=n(t,"IDAT",12);return i>=12?n(t,"acTL",8,i)>=8:!1}const fSt=e=>new Uint8Array(e)[3]===44;/*!
 * MIT License
 * Modified code originally from <https://github.com/qzb/is-animated>
 * Copyright (c) 2016 Jzef Sokoowski <j.k.sokolowski@gmail.com>
 */function tne(e,t){let r=0;for(;e[t+r];)r+=e[t+r]+1;return r+1}function hSt(e){return new TextDecoder("ascii").decode(e.slice(0,3))==="GIF"}function pSt(e){const t=new Uint8Array(e);let r,n,i=0,o=0;if(!hSt(e))return!1;for(r=t[10]&128,n=t[10]&7,i+=6,i+=7,i+=r?3*Math.pow(2,n+1):0;o<2&&i<t.length;)switch(t[i]){case 44:o+=1,r=t[i+9]&128,n=t[i+9]&7,i+=10,i+=r?3*Math.pow(2,n+1):0,i+=tne(t,i+1)+1;break;case 33:i+=2,i+=tne(t,i);break;case 59:i=t.length;break;default:i=t.length;break}return o>1}/*!
 * MIT License: https://github.com/alexgorbatchev/crc/blob/master/LICENSE
 * Copyright: 2014 Alex Gorbatchev
 * Code: crc32, https://github.com/alexgorbatchev/crc/blob/master/src/calculators/crc32.ts
 */let D3=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(D3=new Int32Array(D3));const gSt=(e,t)=>{let r=-1;for(let n=0;n<e.length;n++)r=D3[(r^e[n])&255]^r>>>8;return r^-1},rne=4,nne=4;class Wc{static isPng(t,r){return t.getUint8(r+0)===137&&t.getUint8(r+1)===80&&t.getUint8(r+2)===78&&t.getUint8(r+3)===71&&t.getUint8(r+4)===13&&t.getUint8(r+5)===10&&t.getUint8(r+6)===26&&t.getUint8(r+7)===10}static getChunkType(t,r){return[String.fromCharCode(t.getUint8(r)),String.fromCharCode(t.getUint8(r+1)),String.fromCharCode(t.getUint8(r+2)),String.fromCharCode(t.getUint8(r+3))].join("")}static readChunks(t,r=0){const n={};if(!Wc.isPng(t,r))throw new Error("Not a PNG");for(r+=8;r<=t.buffer.byteLength;){const i=r,o=t.getInt32(r);r+=4;const a=Wc.getChunkType(t,r);if(a==="IDAT"&&n[a]){r+=o+rne+nne;continue}if(a==="IEND")break;n[a]={start:i,dataOffset:r+4,size:o},r+=o+rne+nne}return n}static parsePhys(t,r){return{ppux:t.getUint32(r),ppuy:t.getUint32(r+4),unit:t.getUint8(r+4)}}static findChunk(t,r){return Wc.readChunks(t)[r]}static setPhysChunk(t,r=1,n){let i=46,o=0;const a=Wc.findChunk(t,"pHYs");a&&(i=a.start,o=a.size);const s=Wc.findChunk(t,"IDAT");s&&(i=s.start,o=0);const l=new ArrayBuffer(21),c=new DataView(l);c.setUint32(0,9),c.setUint8(4,112),c.setUint8(5,72),c.setUint8(6,89),c.setUint8(7,115);const u=2835.5;c.setInt32(8,u*r),c.setInt32(12,u*r),c.setInt8(16,1);const d=new Uint8Array(l.slice(4,17));c.setInt32(17,gSt(d));const A=t.buffer.slice(0,i),f=t.buffer.slice(i+o);return new Blob([A,l,f],n)}}/*!
 * MIT License: https://github.com/sindresorhus/is-webp/blob/main/license
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 */function mSt(e){return!e||e.length<12?!1:e[8]===87&&e[9]===69&&e[10]===66&&e[11]===80}function vSt(e){const t=new Uint8Array(e);return!mSt(t)||!t||t.length<21?!1:(t[20]>>1&1)===1}const bke=Object.freeze(["image/svg+xml"]),xke=Object.freeze(["image/jpeg","image/png","image/webp"]),Ske=Object.freeze(["image/gif","image/apng","image/avif"]),Mb=Object.freeze([...xke,...bke,...Ske]),TB=Object.freeze(["video/mp4","video/webm","video/quicktime"]),ySt=[...Mb,...TB].join(",");class bs{static loadVideo(t){return new Promise((r,n)=>{const i=document.createElement("video");i.onloadeddata=()=>r(i),i.onerror=o=>{console.error(o),n(new Error("Could not load video"))},i.crossOrigin="anonymous",i.src=t})}static async getVideoFrameAsDataUrl(t,r=0){const n=oz();let i=!1;const o=()=>{if(!i)if(t.readyState>=t.HAVE_METADATA)i=!0,t.currentTime=r;else return;if(t.readyState>=t.HAVE_CURRENT_DATA){const s=document.createElement("canvas");s.width=t.videoWidth,s.height=t.videoHeight;const l=s.getContext("2d");if(!l)throw new Error("Could not get 2d context");l.drawImage(t,0,0),n.resolve(s.toDataURL())}},a=s=>{console.error(s),n.reject(new Error("Could not get video frame"))};t.addEventListener("loadedmetadata",o),t.addEventListener("loadeddata",o),t.addEventListener("canplay",o),t.addEventListener("seeked",o),t.addEventListener("error",a),t.addEventListener("stalled",a),o();try{return await n}finally{t.removeEventListener("loadedmetadata",o),t.removeEventListener("loadeddata",o),t.removeEventListener("canplay",o),t.removeEventListener("seeked",o),t.removeEventListener("error",a),t.removeEventListener("stalled",a)}}static loadImage(t){return new Promise((r,n)=>{const i=Lw();i.onload=()=>r(i),i.onerror=o=>{console.error(o),n(new Error("Could not load image"))},i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.src=t})}static async getVideoSize(t){return bs.usingObjectURL(t,async r=>{const n=await bs.loadVideo(r);return{w:n.videoWidth,h:n.videoHeight}})}static async getImageSize(t){const r=await bs.usingObjectURL(t,bs.loadImage);try{if(t.type==="image/png"){const n=new DataView(await t.arrayBuffer());if(Wc.isPng(n,0)){const i=Wc.findChunk(n,"pHYs");if(i){const o=Wc.parsePhys(n,i.dataOffset);if(o.unit===0&&o.ppux===o.ppuy){const s=Math.max(o.ppux/2834.645669291339,1);return{w:Math.round(r.naturalWidth/s),h:Math.round(r.naturalHeight/s)}}}}}}catch(n){return console.error(n),{w:r.naturalWidth,h:r.naturalHeight}}return{w:r.naturalWidth,h:r.naturalHeight}}static async isAnimated(t){return t.type==="image/gif"?pSt(await t.arrayBuffer()):t.type==="image/avif"?fSt(await t.arrayBuffer()):t.type==="image/webp"?vSt(await t.arrayBuffer()):t.type==="image/apng"?ASt(await t.arrayBuffer()):!1}static isAnimatedImageType(t){return Ske.includes(t||"")}static isStaticImageType(t){return xke.includes(t||"")}static isVectorImageType(t){return bke.includes(t||"")}static isImageType(t){return Mb.includes(t)}static async usingObjectURL(t,r){const n=URL.createObjectURL(t);try{return await r(n)}finally{URL.revokeObjectURL(n)}}}function Pr(e,t,r){return e+(t-e)*r}function pc(e=""){let t=0,r=0,n=0,i=0;function o(){const a=t^t<<11;return t=r,r=n,n=i,i^=(i>>>19^a^a>>>8)>>>0,i/4294967296*2}for(let a=0;a<e.length+64;a++)t^=e.charCodeAt(a)|0,o();return o}function Cm(e,t,r,n=!1){const[i,o]=t,[a,s]=r,l=a+(e-i)/(o-i)*(s-a);return n?a<s?Math.max(Math.min(l,s),a):Math.max(Math.min(l,a),s):l}function ml(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function na(e,t){if(ml(e,t))return e[t]}function wSt(e){return Object.keys(e)}function Fi(e){return Object.values(e)}function _s(e){return Object.entries(e)}function Cke(e){return Object.fromEntries(e)}function M0(e,t){const r={};let n=!1;for(const[i,o]of _s(e))t(i,o)?r[i]=o:n=!0;return n?r:e}function Fb(e,t){const r={};for(const[n,i]of _s(e)){const o=t(n,i);r[n]=o}return r}function _ke(e,t){if(e===t)return!0;const r=new Set(Object.keys(e)),n=new Set(Object.keys(t));if(r.size!==n.size)return!1;for(const i of r)if(!n.has(i)||!Object.is(e[i],t[i]))return!1;return!0}function bSt(e){const t=xSt(e.chars),r=SSt(t,e.firstPositive,e.mostPositive,e.mostNegative),n=e.jitterRange??Math.floor(Math.pow(t.length,3)/5),i=CSt(n,t.length);return{chars:e.chars,byChar:t.byChar,byCode:t.byCode,length:t.length,first:t.byCode[0],last:t.byCode[t.length-1],firstPositive:r.firstPositive,mostPositive:r.mostPositive,firstNegative:r.firstNegative,mostNegative:r.mostNegative,jitterRange:n,paddingDict:i}}function xSt(e){const t={},r={},n=e.length;for(let i=0;i<n;i++){const o=e[i];t[i]=o,r[o]=i}return{byCode:t,byChar:r,length:n}}function SSt(e,t,r,n){const i=e.byChar[t],o=e.byChar[r],a=e.byChar[n];if(i===void 0||o===void 0||a===void 0)throw new Error("invalid charSet");if(o-i<3)throw new Error("mostPositive must be at least 3 characters away from neutral");if(i-a<3)throw new Error("mostNegative must be at least 3 characters away from neutral");return{firstPositive:e.byCode[i],mostPositive:e.byCode[o],firstNegative:e.byCode[i-1],mostNegative:e.byCode[a]}}function CSt(e,t){const r={};for(let n=0;n<100&&(r[n]=Math.pow(t,n),!(r[n]>e));n++);return r}var Zk=null;function uz(){return Zk||(Zk=bSt({chars:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",firstPositive:"a",mostPositive:"z",mostNegative:"A"}))}function UA(e,t,r){const n=r.byChar[e],i=r.byChar[t];return Math.abs(n-i)}function dz(e,t){const r=e[0];if(r>t.mostPositive||r<t.mostNegative)throw new Error("invalid firstChar on key");return r===t.mostPositive?UA(r,t.firstPositive,t)+1+CE(e.slice(1),"positive",t):r===t.mostNegative?UA(r,t.firstNegative,t)+1+CE(e.slice(1),"negative",t):r>=t.firstPositive?UA(r,t.firstPositive,t)+2:UA(r,t.firstNegative,t)+2}function CE(e,t,r){const n=e[0];if(n>r.mostPositive||n<r.mostNegative)throw new Error("invalid firstChar on key");return n===r.mostPositive&&t==="positive"?UA(n,r.mostNegative,r)+1+CE(e.slice(1),t,r):n===r.mostNegative&&t==="negative"?UA(n,r.mostPositive,r)+1+CE(e.slice(1),t,r):t==="positive"?UA(n,r.mostNegative,r)+2:UA(n,r.mostPositive,r)+2}function OB(e,t,r,n,i){const o=Math.max(e.length,t.length);return r==="start"?[e.padStart(o,n),t.padStart(o,n)]:[e.padEnd(o,n),t.padEnd(o,n)]}function _St(e,t,r){let[n,i]=OB(e,t,"end",r.first),o=j3(n,i,r);o===1&&(n=n.padEnd(n.length+1,r.first),o=r.length);const a=Bke(Math.floor(o/2),r);return Az(n,a,r)}function j3(e,t,r){const[n,i]=OB(e,t,"end",r.first).sort(),o=Eke(i,n,r);return ESt(o,r)}function Az(e,t,r){const n=r.length,[i,o]=OB(e,t,"start",r.first),a=[];let s=0;for(let l=i.length-1;l>=0;l--){const c=r.byChar[i[l]],u=r.byChar[o[l]],d=c+u+s;s=Math.floor(d/n);const A=d%n;a.unshift(r.byCode[A])}return s>0&&a.unshift(r.byCode[s]),a.join("")}function Eke(e,t,r){const n=r.length,[i,o]=OB(e,t,"start",r.first),a=[];let s=0;for(let l=i.length-1;l>=0;l--){let c=r.byChar[i[l]];const u=r.byChar[o[l]]+s;c<u?(s=1,c+=n):s=0;const d=c-u;a.unshift(r.byCode[d])}if(s>0)throw new Error("Subtraction result is negative. Ensure a is greater than or equal to b.");for(;a.length>1&&a[0]===r.byCode[0];)a.shift();return a.join("")}function Ike(e,t){return Az(e,t.byCode[1],t)}function L3(e,t){return Eke(e,t.byCode[1],t)}function Bke(e,t){if(e===0)return t.byCode[0];let r="";const n=t.length;for(;e>0;)r=t.byCode[e%n]+r,e=Math.floor(e/n);return r}function ESt(e,t){let r=0;const n=e.length,i=t.length;for(let o=0;o<n;o++)r+=t.byChar[e[o]]*Math.pow(i,n-o-1);return r}function ISt(e){return e.firstPositive+e.byCode[0]}function BSt(e,t){return dz(e,t)===e.length}function ine(e,t){_E(e,t)}function _E(e,t){const r=Oke(e,t),n=dz(r,t);if(n>e.length)throw new Error("invalid order key length: "+e);return e.slice(0,n)}function Pke(e,t){if(!BSt(e,t))throw new Error("invalid integer length: "+e)}function Tke(e,t){Pke(e,t);const[r,n]=Rke(e,t);if(n.split("").some(a=>a!==t.byCode[t.length-1])){const a=Ike(n,t);return r+a}const o=TSt(r,t);return Mke(o,"lower",t)}function PSt(e,t){Pke(e,t);const[r,n]=Rke(e,t);if(n.split("").some(a=>a!==t.byCode[0])){const a=L3(n,t);return r+a}const o=OSt(r,t);return Mke(o,"upper",t)}function Oke(e,t){let r=0;if(e[0]===t.mostPositive)for(;e[r]===t.mostPositive;)r=r+1;if(e[0]===t.mostNegative)for(;e[r]===t.mostNegative;)r=r+1;return e.slice(0,r+1)}function Rke(e,t){const r=Oke(e,t),n=e.slice(r.length);return[r,n]}function TSt(e,t){const r=e>=t.firstPositive,n=Ike(e,t),i=e[e.length-1]===t.mostPositive,o=n[n.length-1]===t.mostPositive;return r&&o?n+t.mostNegative:!r&&i?e.slice(0,e.length-1):n}function OSt(e,t){const r=e>=t.firstPositive,n=e[e.length-1]===t.mostNegative;if(r&&n){const i=e.slice(0,e.length-1);return L3(i,t)}return!r&&n?e+t.mostPositive:L3(e,t)}function Mke(e,t,r){const n=dz(e,r),i=t==="upper"?r.byCode[r.length-1]:r.byCode[0];return e+i.repeat(n-e.length)}function Fke(e,t){const r=Bke(Math.floor(Math.random()*t.jitterRange),t);return Az(e,r,t)}function RSt(e,t,r){const n=e.padEnd(e.length+t,r.first);return Fke(n,r)}function MSt(e,t,r){const n=_E(e,r),i=Tke(n,r);let o=0;if(t!==null){const s=j3(e,t,r);s<r.jitterRange+1&&(o=Math.max(o,one(s,r)))}const a=j3(e,i,r);return a<r.jitterRange+1&&(o=Math.max(o,one(a,r))),o}function one(e,t){const r=t.jitterRange-e,n=Object.entries(t.paddingDict).find(([i,o])=>o>r);return n?parseInt(n[0]):0}function FSt(e,t,r=uz()){if(e!==null&&ine(e,r),t!==null&&ine(t,r),e===null&&t===null)return ISt(r);if(e===null){const n=_E(t,r);return PSt(n,r)}if(t===null){const n=_E(e,r);return Tke(n,r)}if(e>=t)throw new Error(e+" >= "+t);return _St(e,t,r)}function kke(e,t,r=uz()){const n=FSt(e,t,r),i=MSt(n,t,r);return i?RSt(n,i,r):Fke(n,r)}function Uke(e,t,r,n=uz()){return kSt(e,t,r,n,kke,Uke)}function kSt(e,t,r,n,i,o){if(r===0)return[];if(r===1)return[i(e,t,n)];if(t==null){let l=i(e,t,n);const c=[l];for(let u=0;u<r-1;u++)l=i(l,t,n),c.push(l);return c}if(e==null){let l=i(e,t,n);const c=[l];for(let u=0;u<r-1;u++)l=i(e,l,n),c.push(l);return c.reverse(),c}const a=Math.floor(r/2),s=i(e,t,n);return[...o(e,s,a,n),s,...o(s,t,r-a-1,n)]}const tv=Uke,Dke="a0";function USt(e){try{kke(e,null)}catch{throw new Error("invalid index: "+e)}}function _m(e,t,r){return tv(e??null,t??null,r)}function eU(e,t){return tv(e??null,null,t)}function Nw(e,t){return tv(e??null,t??null,1)[0]}function Yc(e=null){return tv(e,null,1)[0]}function DSt(e=null){return tv(null,e,1)[0]}function $w(e,t="a1"){return[t,...tv(t,null,e)]}function ta(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function jSt(e,t){return e.id>t.id?1:-1}function fz(e){try{return localStorage.getItem(e)}catch{return null}}function hz(e,t){try{localStorage.setItem(e,t)}catch{}}function LSt(){try{localStorage.clear()}catch{}}function jke(e){try{return sessionStorage.getItem(e)}catch{return null}}function pz(e,t){try{sessionStorage.setItem(e,t)}catch{}}function Lke(e){try{sessionStorage.removeItem(e)}catch{}}function NSt(){try{sessionStorage.clear()}catch{}}const Tg=[],$St=60,bC=Math.ceil(1e3/$St);let Py,tU=0,N3=0;const QSt=()=>{const e=Tg.splice(0,Tg.length);for(const t of e)t()};function Nke(){if(Py)return;const e=Date.now(),t=e-N3;if(tU+t<bC){Py=requestAnimationFrame(()=>{Py=void 0,Nke()});return}Py=requestAnimationFrame(()=>{Py=void 0,N3=e,tU=Math.min(tU+t-bC,bC*10),QSt()})}let ane=!1;function $ke(e){return Tg.includes(e)||(Tg.push(e),ane||(ane=!0,N3=Date.now()-bC-1),Nke()),()=>{const t=Tg.indexOf(e);t>-1&&Tg.splice(t,1)}}class HSt{constructor(){K(this,"timeouts",new Map);K(this,"intervals",new Map);K(this,"rafs",new Map);this.setTimeout=this.setTimeout.bind(this),this.setInterval=this.setInterval.bind(this),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.dispose=this.dispose.bind(this)}setTimeout(t,r,n,...i){const o=window.setTimeout(r,n,i),a=this.timeouts.get(t)??[];return this.timeouts.set(t,[...a,o]),o}setInterval(t,r,n,...i){const o=window.setInterval(r,n,i),a=this.intervals.get(t)??[];return this.intervals.set(t,[...a,o]),o}requestAnimationFrame(t,r){const n=window.requestAnimationFrame(r),i=this.rafs.get(t)??[];return this.rafs.set(t,[...i,n]),n}dispose(t){var r,n,i;(r=this.timeouts.get(t))==null||r.forEach(o=>clearTimeout(o)),(n=this.intervals.get(t))==null||n.forEach(o=>clearInterval(o)),(i=this.rafs.get(t))==null||i.forEach(o=>cancelAnimationFrame(o)),this.timeouts.delete(t),this.intervals.delete(t),this.rafs.delete(t)}disposeAll(){for(const t of this.timeouts.keys())this.dispose(t)}forContext(t){return{setTimeout:(r,n,...i)=>this.setTimeout(t,r,n,i),setInterval:(r,n,...i)=>this.setInterval(t,r,n,i),requestAnimationFrame:r=>this.requestAnimationFrame(t,r),dispose:()=>this.dispose(t)}}}const Zt=(e,t)=>{try{return new URL(e,t)}catch{return}};function qSt(e){return e!==void 0}function zSt(){return typeof globalThis<"u"&&globalThis.structuredClone?[globalThis.structuredClone,!0]:typeof global<"u"&&global.structuredClone?[global.structuredClone,!0]:typeof window<"u"&&window.structuredClone?[window.structuredClone,!0]:[e=>e&&JSON.parse(JSON.stringify(e)),!1]}const Qke=zSt(),kn=Qke[0];Qke[1];const KSt=Object.getPrototypeOf(kn({}));hf("@tldraw/utils","3.9.0","esm");var sne={},Ty,lne;function ht(){if(lne)return Ty;lne=1;var e=function(t){return t&&t.Math===Math&&t};return Ty=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof ao=="object"&&ao)||e(typeof Ty=="object"&&Ty)||function(){return this}()||Function("return this")(),Ty}var rU={},nU,cne;function rt(){return cne||(cne=1,nU=function(e){try{return!!e()}catch{return!0}}),nU}var iU,une;function Nt(){if(une)return iU;une=1;var e=rt();return iU=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),iU}var oU,dne;function kb(){if(dne)return oU;dne=1;var e=rt();return oU=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),oU}var aU,Ane;function gt(){if(Ane)return aU;Ane=1;var e=kb(),t=Function.prototype.call;return aU=e?t.bind(t):function(){return t.apply(t,arguments)},aU}var sU={},fne;function RB(){if(fne)return sU;fne=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,r=t&&!e.call({1:2},1);return sU.f=r?function(i){var o=t(this,i);return!!o&&o.enumerable}:e,sU}var lU,hne;function Fs(){return hne||(hne=1,lU=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),lU}var cU,pne;function Qe(){if(pne)return cU;pne=1;var e=kb(),t=Function.prototype,r=t.call,n=e&&t.bind.bind(r,r);return cU=e?n:function(i){return function(){return r.apply(i,arguments)}},cU}var uU,gne;function la(){if(gne)return uU;gne=1;var e=Qe(),t=e({}.toString),r=e("".slice);return uU=function(n){return r(t(n),8,-1)},uU}var dU,mne;function pf(){if(mne)return dU;mne=1;var e=Qe(),t=rt(),r=la(),n=Object,i=e("".split);return dU=t(function(){return!n("z").propertyIsEnumerable(0)})?function(o){return r(o)==="String"?i(o,""):n(o)}:n,dU}var AU,vne;function Wi(){return vne||(vne=1,AU=function(e){return e==null}),AU}var fU,yne;function Bn(){if(yne)return fU;yne=1;var e=Wi(),t=TypeError;return fU=function(r){if(e(r))throw new t("Can't call method on "+r);return r},fU}var hU,wne;function Vi(){if(wne)return hU;wne=1;var e=pf(),t=Bn();return hU=function(r){return e(t(r))},hU}var pU,bne;function ir(){if(bne)return pU;bne=1;var e=typeof document=="object"&&document.all;return pU=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},pU}var gU,xne;function Jt(){if(xne)return gU;xne=1;var e=ir();return gU=function(t){return typeof t=="object"?t!==null:e(t)},gU}var mU,Sne;function Vt(){if(Sne)return mU;Sne=1;var e=ht(),t=ir(),r=function(n){return t(n)?n:void 0};return mU=function(n,i){return arguments.length<2?r(e[n]):e[n]&&e[n][i]},mU}var vU,Cne;function ca(){if(Cne)return vU;Cne=1;var e=Qe();return vU=e({}.isPrototypeOf),vU}var yU,_ne;function Su(){if(_ne)return yU;_ne=1;var e=ht(),t=e.navigator,r=t&&t.userAgent;return yU=r?String(r):"",yU}var wU,Ene;function Cu(){if(Ene)return wU;Ene=1;var e=ht(),t=Su(),r=e.process,n=e.Deno,i=r&&r.versions||n&&n.version,o=i&&i.v8,a,s;return o&&(a=o.split("."),s=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&t&&(a=t.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=t.match(/Chrome\/(\d+)/),a&&(s=+a[1]))),wU=s,wU}var bU,Ine;function tp(){if(Ine)return bU;Ine=1;var e=Cu(),t=rt(),r=ht(),n=r.String;return bU=!!Object.getOwnPropertySymbols&&!t(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&e&&e<41}),bU}var xU,Bne;function Hke(){if(Bne)return xU;Bne=1;var e=tp();return xU=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",xU}var SU,Pne;function gf(){if(Pne)return SU;Pne=1;var e=Vt(),t=ir(),r=ca(),n=Hke(),i=Object;return SU=n?function(o){return typeof o=="symbol"}:function(o){var a=e("Symbol");return t(a)&&r(a.prototype,i(o))},SU}var CU,Tne;function rp(){if(Tne)return CU;Tne=1;var e=String;return CU=function(t){try{return e(t)}catch{return"Object"}},CU}var _U,One;function Gt(){if(One)return _U;One=1;var e=ir(),t=rp(),r=TypeError;return _U=function(n){if(e(n))return n;throw new r(t(n)+" is not a function")},_U}var EU,Rne;function Bi(){if(Rne)return EU;Rne=1;var e=Gt(),t=Wi();return EU=function(r,n){var i=r[n];return t(i)?void 0:e(i)},EU}var IU,Mne;function qke(){if(Mne)return IU;Mne=1;var e=gt(),t=ir(),r=Jt(),n=TypeError;return IU=function(i,o){var a,s;if(o==="string"&&t(a=i.toString)&&!r(s=e(a,i))||t(a=i.valueOf)&&!r(s=e(a,i))||o!=="string"&&t(a=i.toString)&&!r(s=e(a,i)))return s;throw new n("Can't convert object to primitive value")},IU}var BU={exports:{}},PU,Fne;function Ar(){return Fne||(Fne=1,PU=!1),PU}var TU,kne;function gz(){if(kne)return TU;kne=1;var e=ht(),t=Object.defineProperty;return TU=function(r,n){try{t(e,r,{value:n,configurable:!0,writable:!0})}catch{e[r]=n}return n},TU}var Une;function MB(){if(Une)return BU.exports;Une=1;var e=Ar(),t=ht(),r=gz(),n="__core-js_shared__",i=BU.exports=t[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.41.0",mode:e?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"}),BU.exports}var OU,Dne;function mf(){if(Dne)return OU;Dne=1;var e=MB();return OU=function(t,r){return e[t]||(e[t]=r||{})},OU}var RU,jne;function fr(){if(jne)return RU;jne=1;var e=Bn(),t=Object;return RU=function(r){return t(e(r))},RU}var MU,Lne;function ar(){if(Lne)return MU;Lne=1;var e=Qe(),t=fr(),r=e({}.hasOwnProperty);return MU=Object.hasOwn||function(i,o){return r(t(i),o)},MU}var FU,Nne;function np(){if(Nne)return FU;Nne=1;var e=Qe(),t=0,r=Math.random(),n=e(1 .toString);return FU=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++t+r,36)},FU}var kU,$ne;function qt(){if($ne)return kU;$ne=1;var e=ht(),t=mf(),r=ar(),n=np(),i=tp(),o=Hke(),a=e.Symbol,s=t("wks"),l=o?a.for||a:a&&a.withoutSetter||n;return kU=function(c){return r(s,c)||(s[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),s[c]},kU}var UU,Qne;function FB(){if(Qne)return UU;Qne=1;var e=gt(),t=Jt(),r=gf(),n=Bi(),i=qke(),o=qt(),a=TypeError,s=o("toPrimitive");return UU=function(l,c){if(!t(l)||r(l))return l;var u=n(l,s),d;if(u){if(c===void 0&&(c="default"),d=e(u,l,c),!t(d)||r(d))return d;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},UU}var DU,Hne;function Ld(){if(Hne)return DU;Hne=1;var e=FB(),t=gf();return DU=function(r){var n=e(r,"string");return t(n)?n:n+""},DU}var jU,qne;function kB(){if(qne)return jU;qne=1;var e=ht(),t=Jt(),r=e.document,n=t(r)&&t(r.createElement);return jU=function(i){return n?r.createElement(i):{}},jU}var LU,zne;function zke(){if(zne)return LU;zne=1;var e=Nt(),t=rt(),r=kB();return LU=!e&&!t(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),LU}var Kne;function Oo(){if(Kne)return rU;Kne=1;var e=Nt(),t=gt(),r=RB(),n=Fs(),i=Vi(),o=Ld(),a=ar(),s=zke(),l=Object.getOwnPropertyDescriptor;return rU.f=e?l:function(u,d){if(u=i(u),d=o(d),s)try{return l(u,d)}catch{}if(a(u,d))return n(!t(r.f,u,d),u[d])},rU}var NU={},$U,Wne;function Kke(){if(Wne)return $U;Wne=1;var e=Nt(),t=rt();return $U=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),$U}var QU,Vne;function pt(){if(Vne)return QU;Vne=1;var e=Jt(),t=String,r=TypeError;return QU=function(n){if(e(n))return n;throw new r(t(n)+" is not an object")},QU}var Gne;function vn(){if(Gne)return NU;Gne=1;var e=Nt(),t=zke(),r=Kke(),n=pt(),i=Ld(),o=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return NU.f=e?r?function(A,f,h){if(n(A),f=i(f),n(h),typeof A=="function"&&f==="prototype"&&"value"in h&&u in h&&!h[u]){var p=s(A,f);p&&p[u]&&(A[f]=h.value,h={configurable:c in h?h[c]:p[c],enumerable:l in h?h[l]:p[l],writable:!1})}return a(A,f,h)}:a:function(A,f,h){if(n(A),f=i(f),n(h),t)try{return a(A,f,h)}catch{}if("get"in h||"set"in h)throw new o("Accessors not supported");return"value"in h&&(A[f]=h.value),A},NU}var HU,Yne;function Gi(){if(Yne)return HU;Yne=1;var e=Nt(),t=vn(),r=Fs();return HU=e?function(n,i,o){return t.f(n,i,r(1,o))}:function(n,i,o){return n[i]=o,n},HU}var qU={exports:{}},zU,Xne;function rv(){if(Xne)return zU;Xne=1;var e=Nt(),t=ar(),r=Function.prototype,n=e&&Object.getOwnPropertyDescriptor,i=t(r,"name"),o=i&&(function(){}).name==="something",a=i&&(!e||e&&n(r,"name").configurable);return zU={EXISTS:i,PROPER:o,CONFIGURABLE:a},zU}var KU,Jne;function UB(){if(Jne)return KU;Jne=1;var e=Qe(),t=ir(),r=MB(),n=e(Function.toString);return t(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),KU=r.inspectSource,KU}var WU,Zne;function Wke(){if(Zne)return WU;Zne=1;var e=ht(),t=ir(),r=e.WeakMap;return WU=t(r)&&/native code/.test(String(r)),WU}var VU,eie;function DB(){if(eie)return VU;eie=1;var e=mf(),t=np(),r=e("keys");return VU=function(n){return r[n]||(r[n]=t(n))},VU}var GU,tie;function Ub(){return tie||(tie=1,GU={}),GU}var YU,rie;function Vr(){if(rie)return YU;rie=1;var e=Wke(),t=ht(),r=Jt(),n=Gi(),i=ar(),o=MB(),a=DB(),s=Ub(),l="Object already initialized",c=t.TypeError,u=t.WeakMap,d,A,f,h=function(b){return f(b)?A(b):d(b,{})},p=function(b){return function(x){var S;if(!r(x)||(S=A(x)).type!==b)throw new c("Incompatible receiver, "+b+" required");return S}};if(e||o.state){var v=o.state||(o.state=new u);v.get=v.get,v.has=v.has,v.set=v.set,d=function(b,x){if(v.has(b))throw new c(l);return x.facade=b,v.set(b,x),x},A=function(b){return v.get(b)||{}},f=function(b){return v.has(b)}}else{var y=a("state");s[y]=!0,d=function(b,x){if(i(b,y))throw new c(l);return x.facade=b,n(b,y,x),x},A=function(b){return i(b,y)?b[y]:{}},f=function(b){return i(b,y)}}return YU={set:d,get:A,has:f,enforce:h,getterFor:p},YU}var nie;function jB(){if(nie)return qU.exports;nie=1;var e=Qe(),t=rt(),r=ir(),n=ar(),i=Nt(),o=rv().CONFIGURABLE,a=UB(),s=Vr(),l=s.enforce,c=s.get,u=String,d=Object.defineProperty,A=e("".slice),f=e("".replace),h=e([].join),p=i&&!t(function(){return d(function(){},"length",{value:8}).length!==8}),v=String(String).split("String"),y=qU.exports=function(b,x,S){A(u(x),0,7)==="Symbol("&&(x="["+f(u(x),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),S&&S.getter&&(x="get "+x),S&&S.setter&&(x="set "+x),(!n(b,"name")||o&&b.name!==x)&&(i?d(b,"name",{value:x,configurable:!0}):b.name=x),p&&S&&n(S,"arity")&&b.length!==S.arity&&d(b,"length",{value:S.arity});try{S&&n(S,"constructor")&&S.constructor?i&&d(b,"prototype",{writable:!1}):b.prototype&&(b.prototype=void 0)}catch{}var C=l(b);return n(C,"source")||(C.source=h(v,typeof x=="string"?x:"")),b};return Function.prototype.toString=y(function(){return r(this)&&c(this).source||a(this)},"toString"),qU.exports}var XU,iie;function Zr(){if(iie)return XU;iie=1;var e=ir(),t=vn(),r=jB(),n=gz();return XU=function(i,o,a,s){s||(s={});var l=s.enumerable,c=s.name!==void 0?s.name:o;if(e(a)&&r(a,c,s),s.global)l?i[o]=a:n(o,a);else{try{s.unsafe?i[o]&&(l=!0):delete i[o]}catch{}l?i[o]=a:t.f(i,o,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return i},XU}var JU={},ZU,oie;function Vke(){if(oie)return ZU;oie=1;var e=Math.ceil,t=Math.floor;return ZU=Math.trunc||function(n){var i=+n;return(i>0?t:e)(i)},ZU}var eD,aie;function Dn(){if(aie)return eD;aie=1;var e=Vke();return eD=function(t){var r=+t;return r!==r||r===0?0:e(r)},eD}var tD,sie;function _u(){if(sie)return tD;sie=1;var e=Dn(),t=Math.max,r=Math.min;return tD=function(n,i){var o=e(n);return o<0?t(o+i,0):r(o,i)},tD}var rD,lie;function ks(){if(lie)return rD;lie=1;var e=Dn(),t=Math.min;return rD=function(r){var n=e(r);return n>0?t(n,9007199254740991):0},rD}var nD,cie;function Tr(){if(cie)return nD;cie=1;var e=ks();return nD=function(t){return e(t.length)},nD}var iD,uie;function Db(){if(uie)return iD;uie=1;var e=Vi(),t=_u(),r=Tr(),n=function(i){return function(o,a,s){var l=e(o),c=r(l);if(c===0)return!i&&-1;var u=t(s,c),d;if(i&&a!==a){for(;c>u;)if(d=l[u++],d!==d)return!0}else for(;c>u;u++)if((i||u in l)&&l[u]===a)return i||u||0;return!i&&-1}};return iD={includes:n(!0),indexOf:n(!1)},iD}var oD,die;function Gke(){if(die)return oD;die=1;var e=Qe(),t=ar(),r=Vi(),n=Db().indexOf,i=Ub(),o=e([].push);return oD=function(a,s){var l=r(a),c=0,u=[],d;for(d in l)!t(i,d)&&t(l,d)&&o(u,d);for(;s.length>c;)t(l,d=s[c++])&&(~n(u,d)||o(u,d));return u},oD}var aD,Aie;function mz(){return Aie||(Aie=1,aD=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),aD}var fie;function ip(){if(fie)return JU;fie=1;var e=Gke(),t=mz(),r=t.concat("length","prototype");return JU.f=Object.getOwnPropertyNames||function(i){return e(i,r)},JU}var sD={},hie;function LB(){return hie||(hie=1,sD.f=Object.getOwnPropertySymbols),sD}var lD,pie;function vz(){if(pie)return lD;pie=1;var e=Vt(),t=Qe(),r=ip(),n=LB(),i=pt(),o=t([].concat);return lD=e("Reflect","ownKeys")||function(s){var l=r.f(i(s)),c=n.f;return c?o(l,c(s)):l},lD}var cD,gie;function nv(){if(gie)return cD;gie=1;var e=ar(),t=vz(),r=Oo(),n=vn();return cD=function(i,o,a){for(var s=t(o),l=n.f,c=r.f,u=0;u<s.length;u++){var d=s[u];!e(i,d)&&!(a&&e(a,d))&&l(i,d,c(o,d))}},cD}var uD,mie;function jb(){if(mie)return uD;mie=1;var e=rt(),t=ir(),r=/#|\.prototype\./,n=function(l,c){var u=o[i(l)];return u===s?!0:u===a?!1:t(c)?e(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},o=n.data={},a=n.NATIVE="N",s=n.POLYFILL="P";return uD=n,uD}var dD,vie;function J(){if(vie)return dD;vie=1;var e=ht(),t=Oo().f,r=Gi(),n=Zr(),i=gz(),o=nv(),a=jb();return dD=function(s,l){var c=s.target,u=s.global,d=s.stat,A,f,h,p,v,y;if(u?f=e:d?f=e[c]||i(c,{}):f=e[c]&&e[c].prototype,f)for(h in l){if(v=l[h],s.dontCallGetSet?(y=t(f,h),p=y&&y.value):p=f[h],A=a(u?h:c+(d?".":"#")+h,s.forced),!A&&p!==void 0){if(typeof v==typeof p)continue;o(v,p)}(s.sham||p&&p.sham)&&r(v,"sham",!0),n(f,h,v,s)}},dD}var AD={},fD,yie;function iv(){if(yie)return fD;yie=1;var e=Gke(),t=mz();return fD=Object.keys||function(n){return e(n,t)},fD}var wie;function yz(){if(wie)return AD;wie=1;var e=Nt(),t=Kke(),r=vn(),n=pt(),i=Vi(),o=iv();return AD.f=e&&!t?Object.defineProperties:function(s,l){n(s);for(var c=i(l),u=o(l),d=u.length,A=0,f;d>A;)r.f(s,f=u[A++],c[f]);return s},AD}var hD,bie;function Yke(){if(bie)return hD;bie=1;var e=Vt();return hD=e("document","documentElement"),hD}var pD,xie;function Pi(){if(xie)return pD;xie=1;var e=pt(),t=yz(),r=mz(),n=Ub(),i=Yke(),o=kB(),a=DB(),s=">",l="<",c="prototype",u="script",d=a("IE_PROTO"),A=function(){},f=function(b){return l+u+s+b+l+"/"+u+s},h=function(b){b.write(f("")),b.close();var x=b.parentWindow.Object;return b=null,x},p=function(){var b=o("iframe"),x="java"+u+":",S;return b.style.display="none",i.appendChild(b),b.src=String(x),S=b.contentWindow.document,S.open(),S.write(f("document.F=Object")),S.close(),S.F},v,y=function(){try{v=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&v?h(v):p():h(v);for(var b=r.length;b--;)delete y[c][r[b]];return y()};return n[d]=!0,pD=Object.create||function(x,S){var C;return x!==null?(A[c]=e(x),C=new A,A[c]=null,C[d]=x):C=y(),S===void 0?C:t.f(C,S)},pD}var gD,Sie;function ni(){if(Sie)return gD;Sie=1;var e=qt(),t=Pi(),r=vn().f,n=e("unscopables"),i=Array.prototype;return i[n]===void 0&&r(i,n,{configurable:!0,value:t(null)}),gD=function(o){i[n][o]=!0},gD}var Cie;function wz(){if(Cie)return sne;Cie=1;var e=J(),t=fr(),r=Tr(),n=Dn(),i=ni();return e({target:"Array",proto:!0},{at:function(a){var s=t(this),l=r(s),c=n(a),u=c>=0?c:l+c;return u<0||u>=l?void 0:s[u]}}),i("at"),sne}var mD,_ie;function Lb(){if(_ie)return mD;_ie=1;var e=ht(),t=Qe();return mD=function(r,n){return t(e[r].prototype[n])},mD}var vD,Eie;function WSt(){if(Eie)return vD;Eie=1,wz();var e=Lb();return vD=e("Array","at"),vD}var yD,Iie;function VSt(){if(Iie)return yD;Iie=1;var e=WSt();return yD=e,yD}VSt();var Bie={},wD,Pie;function Eu(){if(Pie)return wD;Pie=1;var e=la();return wD=Array.isArray||function(r){return e(r)==="Array"},wD}var bD,Tie;function op(){if(Tie)return bD;Tie=1;var e=TypeError,t=9007199254740991;return bD=function(r){if(r>t)throw e("Maximum allowed index exceeded");return r},bD}var xD,Oie;function ap(){if(Oie)return xD;Oie=1;var e=la(),t=Qe();return xD=function(r){if(e(r)==="Function")return t(r)},xD}var SD,Rie;function un(){if(Rie)return SD;Rie=1;var e=ap(),t=Gt(),r=kb(),n=e(e.bind);return SD=function(i,o){return t(i),o===void 0?i:r?n(i,o):function(){return i.apply(o,arguments)}},SD}var CD,Mie;function Xke(){if(Mie)return CD;Mie=1;var e=Eu(),t=Tr(),r=op(),n=un(),i=function(o,a,s,l,c,u,d,A){for(var f=c,h=0,p=d?n(d,A):!1,v,y;h<l;)h in s&&(v=p?p(s[h],h,a):s[h],u>0&&e(v)?(y=t(v),f=i(o,a,v,y,f,u-1)-1):(r(f+1),o[f]=v),f++),h++;return f};return CD=i,CD}var _D,Fie;function bz(){if(Fie)return _D;Fie=1;var e=qt(),t=e("toStringTag"),r={};return r[t]="z",_D=String(r)==="[object z]",_D}var ED,kie;function ns(){if(kie)return ED;kie=1;var e=bz(),t=ir(),r=la(),n=qt(),i=n("toStringTag"),o=Object,a=r(function(){return arguments}())==="Arguments",s=function(l,c){try{return l[c]}catch{}};return ED=e?r:function(l){var c,u,d;return l===void 0?"Undefined":l===null?"Null":typeof(u=s(c=o(l),i))=="string"?u:a?r(c):(d=r(c))==="Object"&&t(c.callee)?"Arguments":d},ED}var ID,Uie;function Iu(){if(Uie)return ID;Uie=1;var e=Qe(),t=rt(),r=ir(),n=ns(),i=Vt(),o=UB(),a=function(){},s=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=e(l.exec),u=!l.test(a),d=function(h){if(!r(h))return!1;try{return s(a,[],h),!0}catch{return!1}},A=function(h){if(!r(h))return!1;switch(n(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,o(h))}catch{return!0}};return A.sham=!0,ID=!s||t(function(){var f;return d(d.call)||!d(Object)||!d(function(){f=!0})||f})?A:d,ID}var BD,Die;function GSt(){if(Die)return BD;Die=1;var e=Eu(),t=Iu(),r=Jt(),n=qt(),i=n("species"),o=Array;return BD=function(a){var s;return e(a)&&(s=a.constructor,t(s)&&(s===o||e(s.prototype))?s=void 0:r(s)&&(s=s[i],s===null&&(s=void 0))),s===void 0?o:s},BD}var PD,jie;function Nb(){if(jie)return PD;jie=1;var e=GSt();return PD=function(t,r){return new(e(t))(r===0?0:r)},PD}var Lie;function Jke(){if(Lie)return Bie;Lie=1;var e=J(),t=Xke(),r=Gt(),n=fr(),i=Tr(),o=Nb();return e({target:"Array",proto:!0},{flatMap:function(s){var l=n(this),c=i(l),u;return r(s),u=o(l,0),u.length=t(u,l,l,c,0,1,s,arguments.length>1?arguments[1]:void 0),u}}),Bie}var Nie={},$ie;function Zke(){if($ie)return Nie;$ie=1;var e=ni();return e("flatMap"),Nie}var TD,Qie;function YSt(){if(Qie)return TD;Qie=1,Jke(),Zke();var e=Lb();return TD=e("Array","flatMap"),TD}var OD,Hie;function XSt(){if(Hie)return OD;Hie=1;var e=YSt();return OD=e,OD}XSt();var qie={},zie;function eUe(){if(zie)return qie;zie=1;var e=J(),t=Xke(),r=fr(),n=Tr(),i=Dn(),o=Nb();return e({target:"Array",proto:!0},{flat:function(){var s=arguments.length?arguments[0]:void 0,l=r(this),c=n(l),u=o(l,0);return u.length=t(u,l,l,c,0,s===void 0?1:i(s)),u}}),qie}var Kie={},Wie;function tUe(){if(Wie)return Kie;Wie=1;var e=ni();return e("flat"),Kie}var RD,Vie;function JSt(){if(Vie)return RD;Vie=1,eUe(),tUe();var e=Lb();return RD=e("Array","flat"),RD}var MD,Gie;function ZSt(){if(Gie)return MD;Gie=1;var e=JSt();return MD=e,MD}ZSt();var Yie={},FD,Xie;function er(){if(Xie)return FD;Xie=1;var e=ns(),t=String;return FD=function(r){if(e(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return t(r)},FD}var Jie;function rUe(){if(Jie)return Yie;Jie=1;var e=J(),t=Qe(),r=Bn(),n=Dn(),i=er(),o=rt(),a=t("".charAt),s=o(function(){return"".at(-2)!=="\uD842"});return e({target:"String",proto:!0,forced:s},{at:function(c){var u=i(r(this)),d=u.length,A=n(c),f=A>=0?A:d+A;return f<0||f>=d?void 0:a(u,f)}}),Yie}var kD,Zie;function e1t(){if(Zie)return kD;Zie=1,rUe();var e=Lb();return kD=e("String","at"),kD}var UD,eoe;function t1t(){if(eoe)return UD;eoe=1;var e=e1t();return UD=e,UD}t1t();var toe={},DD,roe;function xz(){if(roe)return DD;roe=1;var e=pt();return DD=function(){var t=e(this),r="";return t.hasIndices&&(r+="d"),t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.dotAll&&(r+="s"),t.unicode&&(r+="u"),t.unicodeSets&&(r+="v"),t.sticky&&(r+="y"),r},DD}var jD,noe;function NB(){if(noe)return jD;noe=1;var e=rt(),t=ht(),r=t.RegExp,n=e(function(){var a=r("a","y");return a.lastIndex=2,a.exec("abcd")!==null}),i=n||e(function(){return!r("a","y").sticky}),o=n||e(function(){var a=r("^r","gy");return a.lastIndex=2,a.exec("str")!==null});return jD={BROKEN_CARET:o,MISSED_STICKY:i,UNSUPPORTED_Y:n},jD}var LD,ioe;function Sz(){if(ioe)return LD;ioe=1;var e=rt(),t=ht(),r=t.RegExp;return LD=e(function(){var n=r(".","s");return!(n.dotAll&&n.test(`
`)&&n.flags==="s")}),LD}var ND,ooe;function nUe(){if(ooe)return ND;ooe=1;var e=rt(),t=ht(),r=t.RegExp;return ND=e(function(){var n=r("(?<a>b)","g");return n.exec("b").groups.a!=="b"||"b".replace(n,"$<a>c")!=="bc"}),ND}var $D,aoe;function Cz(){if(aoe)return $D;aoe=1;var e=gt(),t=Qe(),r=er(),n=xz(),i=NB(),o=mf(),a=Pi(),s=Vr().get,l=Sz(),c=nUe(),u=o("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,A=d,f=t("".charAt),h=t("".indexOf),p=t("".replace),v=t("".slice),y=function(){var C=/a/,_=/b*/g;return e(d,C,"a"),e(d,_,"a"),C.lastIndex!==0||_.lastIndex!==0}(),b=i.BROKEN_CARET,x=/()??/.exec("")[1]!==void 0,S=y||x||b||l||c;return S&&(A=function(_){var B=this,T=s(B),O=r(_),P=T.raw,F,U,k,M,D,j,$;if(P)return P.lastIndex=B.lastIndex,F=e(A,P,O),B.lastIndex=P.lastIndex,F;var Q=T.groups,H=b&&B.sticky,W=e(n,B),z=B.source,V=0,G=O;if(H&&(W=p(W,"y",""),h(W,"g")===-1&&(W+="g"),G=v(O,B.lastIndex),B.lastIndex>0&&(!B.multiline||B.multiline&&f(O,B.lastIndex-1)!==`
`)&&(z="(?: "+z+")",G=" "+G,V++),U=new RegExp("^(?:"+z+")",W)),x&&(U=new RegExp("^"+z+"$(?!\\s)",W)),y&&(k=B.lastIndex),M=e(d,H?U:B,G),H?M?(M.input=v(M.input,V),M[0]=v(M[0],V),M.index=B.lastIndex,B.lastIndex+=M[0].length):B.lastIndex=0:y&&M&&(B.lastIndex=B.global?M.index+M[0].length:k),x&&M&&M.length>1&&e(u,M[0],U,function(){for(D=1;D<arguments.length-2;D++)arguments[D]===void 0&&(M[D]=void 0)}),M&&Q)for(M.groups=j=a(null),D=0;D<Q.length;D++)$=Q[D],j[$[0]]=M[$[1]];return M}),$D=A,$D}var soe;function $B(){if(soe)return toe;soe=1;var e=J(),t=Cz();return e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),toe}var loe={},QD,coe;function Pa(){if(coe)return QD;coe=1;var e=kb(),t=Function.prototype,r=t.apply,n=t.call;return QD=typeof Reflect=="object"&&Reflect.apply||(e?n.bind(r):function(){return n.apply(r,arguments)}),QD}var HD,uoe;function QB(){if(uoe)return HD;uoe=1,$B();var e=gt(),t=Zr(),r=Cz(),n=rt(),i=qt(),o=Gi(),a=i("species"),s=RegExp.prototype;return HD=function(l,c,u,d){var A=i(l),f=!n(function(){var y={};return y[A]=function(){return 7},""[l](y)!==7}),h=f&&!n(function(){var y=!1,b=/a/;return l==="split"&&(b={},b.constructor={},b.constructor[a]=function(){return b},b.flags="",b[A]=/./[A]),b.exec=function(){return y=!0,null},b[A](""),!y});if(!f||!h||u){var p=/./[A],v=c(A,""[l],function(y,b,x,S,C){var _=b.exec;return _===r||_===s.exec?f&&!C?{done:!0,value:e(p,b,x,S)}:{done:!0,value:e(y,x,b,S)}:{done:!1}});t(String.prototype,l,v[0]),t(s,A,v[1])}d&&o(s[A],"sham",!0)},HD}var qD,doe;function ov(){if(doe)return qD;doe=1;var e=Qe(),t=Dn(),r=er(),n=Bn(),i=e("".charAt),o=e("".charCodeAt),a=e("".slice),s=function(l){return function(c,u){var d=r(n(c)),A=t(u),f=d.length,h,p;return A<0||A>=f?l?"":void 0:(h=o(d,A),h<55296||h>56319||A+1===f||(p=o(d,A+1))<56320||p>57343?l?i(d,A):h:l?a(d,A,A+2):(h-55296<<10)+(p-56320)+65536)}};return qD={codeAt:s(!1),charAt:s(!0)},qD}var zD,Aoe;function HB(){if(Aoe)return zD;Aoe=1;var e=ov().charAt;return zD=function(t,r,n){return r+(n?e(t,r).length:1)},zD}var KD,foe;function iUe(){if(foe)return KD;foe=1;var e=Qe(),t=fr(),r=Math.floor,n=e("".charAt),i=e("".replace),o=e("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;return KD=function(l,c,u,d,A,f){var h=u+l.length,p=d.length,v=s;return A!==void 0&&(A=t(A),v=a),i(f,v,function(y,b){var x;switch(n(b,0)){case"$":return"$";case"&":return l;case"`":return o(c,0,u);case"'":return o(c,h);case"<":x=A[o(b,1,-1)];break;default:var S=+b;if(S===0)return y;if(S>p){var C=r(S/10);return C===0?y:C<=p?d[C-1]===void 0?n(b,1):d[C-1]+n(b,1):y}x=d[S-1]}return x===void 0?"":x})},KD}var WD,hoe;function $b(){if(hoe)return WD;hoe=1;var e=gt(),t=pt(),r=ir(),n=la(),i=Cz(),o=TypeError;return WD=function(a,s){var l=a.exec;if(r(l)){var c=e(l,a,s);return c!==null&&t(c),c}if(n(a)==="RegExp")return e(i,a,s);throw new o("RegExp#exec called on incompatible receiver")},WD}var poe;function oUe(){if(poe)return loe;poe=1;var e=Pa(),t=gt(),r=Qe(),n=QB(),i=rt(),o=pt(),a=ir(),s=Wi(),l=Dn(),c=ks(),u=er(),d=Bn(),A=HB(),f=Bi(),h=iUe(),p=$b(),v=qt(),y=v("replace"),b=Math.max,x=Math.min,S=r([].concat),C=r([].push),_=r("".indexOf),B=r("".slice),T=function(U){return U===void 0?U:String(U)},O=function(){return"a".replace(/./,"$0")==="$0"}(),P=function(){return/./[y]?/./[y]("a","$0")==="":!1}(),F=!i(function(){var U=/./;return U.exec=function(){var k=[];return k.groups={a:"7"},k},"".replace(U,"$<a>")!=="7"});return n("replace",function(U,k,M){var D=P?"$":"$0";return[function($,Q){var H=d(this),W=s($)?void 0:f($,y);return W?t(W,$,H,Q):t(k,u(H),$,Q)},function(j,$){var Q=o(this),H=u(j);if(typeof $=="string"&&_($,D)===-1&&_($,"$<")===-1){var W=M(k,Q,H,$);if(W.done)return W.value}var z=a($);z||($=u($));var V=Q.global,G;V&&(G=Q.unicode,Q.lastIndex=0);for(var X=[],Z;Z=p(Q,H),!(Z===null||(C(X,Z),!V));){var oe=u(Z[0]);oe===""&&(Q.lastIndex=A(H,c(Q.lastIndex),G))}for(var ae="",ne=0,te=0;te<X.length;te++){Z=X[te];for(var se=u(Z[0]),de=b(x(l(Z.index),H.length),0),re=[],he,ye=1;ye<Z.length;ye++)C(re,T(Z[ye]));var ke=Z.groups;if(z){var Ue=S([se],re,de,H);ke!==void 0&&C(Ue,ke),he=u(e($,void 0,Ue))}else he=h(se,H,de,re,ke,$);de>=ne&&(ae+=B(H,ne,de)+he,ne=de+se.length)}return ae+B(H,ne)}]},!F||!O||P),loe}var goe={},VD,moe;function qB(){if(moe)return VD;moe=1;var e=Jt(),t=la(),r=qt(),n=r("match");return VD=function(i){var o;return e(i)&&((o=i[n])!==void 0?!!o:t(i)==="RegExp")},VD}var GD,voe;function Qb(){if(voe)return GD;voe=1;var e=gt(),t=ar(),r=ca(),n=xz(),i=RegExp.prototype;return GD=function(o){var a=o.flags;return a===void 0&&!("flags"in i)&&!t(o,"flags")&&r(i,o)?e(n,o):a},GD}var yoe;function _z(){if(yoe)return goe;yoe=1;var e=J(),t=gt(),r=Qe(),n=Bn(),i=ir(),o=Wi(),a=qB(),s=er(),l=Bi(),c=Qb(),u=iUe(),d=qt(),A=Ar(),f=d("replace"),h=TypeError,p=r("".indexOf),v=r("".replace),y=r("".slice),b=Math.max;return e({target:"String",proto:!0},{replaceAll:function(S,C){var _=n(this),B,T,O,P,F,U,k,M,D,j,$=0,Q="";if(!o(S)){if(B=a(S),B&&(T=s(n(c(S))),!~p(T,"g")))throw new h("`.replaceAll` does not allow non-global regexes");if(O=l(S,f),O)return t(O,S,_,C);if(A&&B)return v(s(_),S,C)}for(P=s(_),F=s(S),U=i(C),U||(C=s(C)),k=F.length,M=b(1,k),D=p(P,F);D!==-1;)j=U?s(C(F,D,P)):u(F,P,D,[],void 0,C),Q+=y(P,$,D)+j,$=D+k,D=D+M>P.length?-1:p(P,F,D+M);return $<P.length&&(Q+=y(P,$)),Q}}),goe}var YD,woe;function r1t(){if(woe)return YD;woe=1,$B(),oUe(),_z();var e=Lb();return YD=e("String","replaceAll"),YD}var XD,boe;function n1t(){if(boe)return XD;boe=1;var e=r1t();return XD=e,XD}n1t();function aUe(e){return e&&typeof e=="object"&&"parents"in e}function sUe(e){for(let t=0,r=e.parents.length;t<r;t++)if(e.parents[t].__unsafe__getWithoutCapture(!0),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}function EE(e,t){if(e.children.remove(t)&&e.children.isEmpty&&aUe(e))for(let r=0,n=e.parents.length;r<n;r++)EE(e.parents[r],e)}function Ez(e,t){if(e.children.add(t)&&aUe(e))for(let r=0,n=e.parents.length;r<n;r++)Ez(e.parents[r],e)}function lUe(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function vf(e,t){const r=Symbol.for(`com.tldraw.state/${e}`),n=globalThis;return n[r]??(n[r]=t()),n[r]}const vd=vf("empty_array",()=>Object.freeze([])),xoe=8;class IE{constructor(){K(this,"arraySize",0);K(this,"array",Array(xoe));K(this,"set",null)}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<xoe?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const r=this.array.indexOf(t);return r===-1?!1:(this.array[r]=void 0,this.arraySize--,r!==this.arraySize&&(this.array[r]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let r=0;r<this.arraySize;r++){const n=this.array[r];typeof n<"u"&&t(n)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}has(t){return this.array?this.array.indexOf(t)!==-1:this.set.has(t)}clear(){this.set?this.set.clear():(this.arraySize=0,this.array=[])}size(){return this.set?this.set.size:this.arraySize}}const Es=Symbol.for("com.tldraw.state/RESET_VALUE");class cUe{constructor(t){K(this,"index",0);K(this,"buffer");this.capacity=t,this.buffer=new Array(t)}pushEntry(t,r,n){if(n!==void 0){if(n===Es){this.clear();return}this.buffer[this.index]=[t,r,n],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:r,capacity:n,buffer:i}=this;for(let o=0;o<n;o++){const a=(r-1+n-o)%n,s=i[a];if(!s)return Es;const[l,c]=s;if(o===0&&t>=c)return[];if(l<=t&&t<c){const u=o+1,d=new Array(u);for(let A=0;A<u;A++)d[A]=i[(a+A)%n][2];return d}}return Es}}class i1t{constructor(t,r){K(this,"offset",0);K(this,"maybeRemoved");this.below=t,this.child=r}}const Hn=vf("capture",()=>({stack:null}));function y1(e){const t=Hn.stack;Hn.stack=null;try{return e()}finally{Hn.stack=t}}function uUe(e){Hn.stack=new i1t(Hn.stack,e),e.parentSet.clear()}function dUe(){const e=Hn.stack;if(Hn.stack=e.below,e.offset<e.child.parents.length){for(let t=e.offset;t<e.child.parents.length;t++){const r=e.child.parents[t];e.child.parentSet.has(r)||EE(r,e.child)}e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset}if(e.maybeRemoved)for(let t=0;t<e.maybeRemoved.length;t++){const r=e.maybeRemoved[t];e.child.parentSet.has(r)||EE(r,e.child)}}function BE(e){if(Hn.stack){if(Hn.stack.child.parentSet.has(e))return;if(Hn.stack.child.parentSet.add(e),Hn.stack.child.isActivelyListening&&Ez(e,Hn.stack.child),Hn.stack.offset<Hn.stack.child.parents.length){const r=Hn.stack.child.parents[Hn.stack.offset];r!==e&&(Hn.stack.maybeRemoved?Hn.stack.maybeRemoved.push(r):Hn.stack.maybeRemoved=[r])}Hn.stack.child.parents[Hn.stack.offset]=e,Hn.stack.child.parentEpochs[Hn.stack.offset]=e.lastChangedEpoch,Hn.stack.offset++}}const DA=-1;class o1t{constructor(t,r,n){K(this,"_isActivelyListening",!1);K(this,"lastTraversedEpoch",DA);K(this,"lastReactedEpoch",DA);K(this,"_scheduleCount",0);K(this,"parentSet",new IE);K(this,"parentEpochs",[]);K(this,"parents",[]);K(this,"_scheduleEffect");K(this,"maybeExecute",()=>{this._isActivelyListening&&this.execute()});this.name=t,this.runEffect=r,this._scheduleEffect=n==null?void 0:n.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==Ka()){if(this.parents.length&&!sUe(this)){this.lastReactedEpoch=Ka();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,r=this.parents.length;t<r;t++)Ez(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,r=this.parents.length;t<r;t++)EE(this.parents[t],this)}execute(){try{uUe(this);const t=Ka(),r=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=t,r}finally{dUe()}}}const av=vf("EffectScheduler",()=>o1t);function iu(e,t,r){const n=new av(e,t,r);return n.attach(),n.scheduleEffect(),()=>{n.detach()}}function a1t(e,t,r){const n=new av(e,t,r);return{scheduler:n,start:i=>{const o=(i==null?void 0:i.force)??!1;n.attach(),o?n.scheduleEffect():n.maybeScheduleEffect()},stop:()=>{n.detach()}}}class s1t{constructor(t){K(this,"initialAtomValues",new Map);this.parent=t}get isRoot(){return this.parent===null}commit(){if(qr.globalIsReacting)for(const t of this.initialAtomValues.keys())fUe(t);else this.isRoot?AUe(this.initialAtomValues.keys()):this.initialAtomValues.forEach((t,r)=>{this.parent.initialAtomValues.has(r)||this.parent.initialAtomValues.set(r,t)})}abort(){qr.globalEpoch++,this.initialAtomValues.forEach((t,r)=>{var n;r.set(t),(n=r.historyBuffer)==null||n.clear()}),this.commit()}}const qr=vf("transactions",()=>({globalEpoch:DA+1,globalIsReacting:!1,currentTransaction:null,cleanupReactors:null,reactionEpoch:DA+1}));function l1t(){return qr.reactionEpoch}function Ka(){return qr.globalEpoch}function c1t(){return qr.globalIsReacting}function Iz(e,t){t.lastTraversedEpoch!==qr.globalEpoch&&(t.lastTraversedEpoch=qr.globalEpoch,t instanceof av?e.add(t):t.children.visit(r=>Iz(e,r)))}function AUe(e){var r;if(qr.globalIsReacting)throw new Error("flushChanges cannot be called during a reaction");const t=qr.currentTransaction;try{qr.currentTransaction=null,qr.globalIsReacting=!0,qr.reactionEpoch=qr.globalEpoch;const n=new Set;for(const o of e)o.children.visit(a=>Iz(n,a));for(const o of n)o.maybeScheduleEffect();let i=0;for(;(r=qr.cleanupReactors)!=null&&r.size;){if(i++>1e3)throw new Error("Reaction update depth limit exceeded");const o=qr.cleanupReactors;qr.cleanupReactors=null;for(const a of o)a.maybeScheduleEffect()}}finally{qr.cleanupReactors=null,qr.globalIsReacting=!1,qr.currentTransaction=t}}function u1t(e,t){qr.currentTransaction?qr.currentTransaction.initialAtomValues.has(e)||qr.currentTransaction.initialAtomValues.set(e,t):qr.globalIsReacting?fUe(e):AUe([e])}function fUe(e){const t=qr.cleanupReactors??(qr.cleanupReactors=new Set);e.children.visit(r=>Iz(t,r))}function d1t(){qr.globalEpoch++}function A1t(e){const t=new s1t(qr.currentTransaction);qr.currentTransaction=t;try{let r,n=!1;try{r=e(()=>n=!0)}catch(i){throw t.abort(),i}return n?t.abort():t.commit(),r}finally{qr.currentTransaction=qr.currentTransaction.parent}}function Ca(e){return qr.currentTransaction?e():A1t(e)}class f1t{constructor(t,r,n){K(this,"isEqual");K(this,"computeDiff");K(this,"lastChangedEpoch",Ka());K(this,"children",new IE);K(this,"historyBuffer");this.name=t,this.current=r,this.isEqual=(n==null?void 0:n.isEqual)??null,n&&(n.historyLength&&(this.historyBuffer=new cUe(n.historyLength)),this.computeDiff=n.computeDiff)}__unsafe__getWithoutCapture(t){return this.current}get(){return BE(this),this.current}set(t,r){var i,o;if(((i=this.isEqual)==null?void 0:i.call(this,this.current,t))??lUe(this.current,t))return this.current;d1t(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,Ka(),r??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,Ka()))??Es),this.lastChangedEpoch=Ka();const n=this.current;return this.current=t,u1t(this,n),t}update(t){return this.set(t(this.current))}getDiffSince(t){var r;return BE(this),t>=this.lastChangedEpoch?vd:((r=this.historyBuffer)==null?void 0:r.getChangesSince(t))??Es}}const h1t=vf("Atom",()=>f1t);function Ci(e,t,r){return new h1t(e,t,r)}let Soe=!1;function p1t(){Soe||(Soe=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const Vo=Symbol.for("com.tldraw.state/UNINITIALIZED");function xh(e){return e===Vo}const $3=vf("WithDiff",()=>class{constructor(t,r){this.value=t,this.diff=r}});function s0(e,t){return new $3(e,t)}class g1t{constructor(t,r,n){K(this,"lastChangedEpoch",DA);K(this,"lastTraversedEpoch",DA);K(this,"lastCheckedEpoch",DA);K(this,"parentSet",new IE);K(this,"parents",[]);K(this,"parentEpochs",[]);K(this,"children",new IE);K(this,"historyBuffer");K(this,"state",Vo);K(this,"error",null);K(this,"computeDiff");K(this,"isEqual");this.name=t,this.derive=r,n!=null&&n.historyLength&&(this.historyBuffer=new cUe(n.historyLength)),this.computeDiff=n==null?void 0:n.computeDiff,this.isEqual=(n==null?void 0:n.isEqual)??lUe}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(t){var i;const r=this.lastChangedEpoch===DA,n=Ka();if(!r&&(this.lastCheckedEpoch===n||this.isActivelyListening&&c1t()&&this.lastTraversedEpoch<l1t()||!sUe(this)))if(this.lastCheckedEpoch=n,this.error){if(t)return this.state;throw this.error.thrownValue}else return this.state;try{uUe(this);const o=this.derive(this.state,this.lastCheckedEpoch),a=o instanceof $3?o.value:o,s=this.state===Vo;if(s||!this.isEqual(a,this.state)){if(this.historyBuffer&&!s){const l=o instanceof $3?o.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,Ka(),l??((i=this.computeDiff)==null?void 0:i.call(this,this.state,a,this.lastCheckedEpoch,Ka()))??Es)}this.lastChangedEpoch=Ka(),this.state=a}return this.error=null,this.lastCheckedEpoch=Ka(),this.state}catch(o){if(this.state!==Vo&&(this.state=Vo,this.lastChangedEpoch=Ka()),this.lastCheckedEpoch=Ka(),this.historyBuffer&&this.historyBuffer.clear(),this.error={thrownValue:o},!t)throw o;return this.state}finally{dUe()}}get(){try{return this.__unsafe__getWithoutCapture()}finally{BE(this)}}getDiffSince(t){var r;return this.__unsafe__getWithoutCapture(!0),BE(this),t>=this.lastChangedEpoch?vd:((r=this.historyBuffer)==null?void 0:r.getChangesSince(t))??Es}}const zB=vf("Computed",()=>g1t);function m1t(e={},t,r,n){const i=n.value,o=Symbol.for("__@tldraw/state__computed__"+r);return n.value=function(){let a=this[o];return a||(a=new zB(r,i.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},n.value[hUe]=!0,n}function v1t(e={},t,r,n){const i=n.get,o=Symbol.for("__@tldraw/state__computed__"+r);return n.get=function(){let a=this[o];return a||(a=new zB(r,i.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},n}function y1t(e,t,r){vr(r.kind==="method","@computed can only be used on methods");const n=Symbol.for("__@tldraw/state__computed__"+String(r.name)),i=function(){let o=this[n];return o||(o=new zB(String(r.name),t.bind(this),e),Object.defineProperty(this,n,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()};return i[hUe]=!0,i}function Coe(e={},t){if(t.length===2){const[r,n]=t;return y1t(e,r,n)}else{const[r,n,i]=t;return i.get?(p1t(),v1t(e,r,n,i)):m1t(e,r,n,i)}}const hUe="@@__isComputedMethod__@@";function qe(){if(arguments.length===1){const e=arguments[0];return(...t)=>Coe(e,t)}else return typeof arguments[0]=="string"?new zB(arguments[0],arguments[1],arguments[2]):Coe(void 0,arguments)}const pUe=1,w1t=vf("apiVersion",()=>pUe);if(w1t!==pUe)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");hf("@tldraw/state","3.9.0","esm");function KB(e,t,r=[]){const n=ue.useRef(t);n.current=t;const[i,o,a]=ue.useMemo(()=>{let s=null;const l=d=>(s=d,()=>{s=null}),c=new av(`useStateTracking(${e})`,()=>{var d;return(d=n.current)==null?void 0:d.call(n)},{scheduleEffect(){s==null||s()}});return[c,l,()=>c.scheduleCount]},[e,...r]);return ue.useSyncExternalStore(o,a,a),ue.useEffect(()=>(i.attach(),i.maybeScheduleEffect(),()=>{i.detach()}),[i]),i.execute()}const _oe={apply(e,t,r){return KB(e.displayName??e.name??"tracked(???)",()=>e.apply(t,r))}},b1t=Symbol.for("react.memo"),x1t=Symbol.for("react.forward_ref");function Ro(e){let t=null;const r=e.$$typeof;return r===b1t&&(e=e.type,t=e.compare),r===x1t?I.memo(I.forwardRef(new Proxy(e.render,_oe))):I.memo(new Proxy(e,_oe),t)}function Bz(e,t,r){return I.useState(()=>{const n=typeof t=="function"?t():t;return Ci(`useAtom(${e})`,n,r)})[0]}function S1t(){const e=arguments[0],t=arguments[1],r=arguments.length===3?void 0:arguments[2],n=arguments.length===3?arguments[2]:arguments[3];return I.useMemo(()=>qe(`useComputed(${e})`,t,r),n)}function zA(e,t,r=vd){I.useEffect(()=>{const n=new av(e,t);return n.attach(),n.execute(),()=>{n.detach()}},r)}function Re(){const e=arguments,t=e.length===3?e[2]:[e[0]],r=e.length===3?e[0]:`useValue(${e[0].name})`,n=I.useRef(!0);n.current=!0;const i=I.useMemo(()=>e.length===1?e[0]:qe(r,()=>{if(n.current)return e[1]();try{return e[1]()}catch{return{}}}),t);try{const{subscribe:o,getSnapshot:a}=I.useMemo(()=>({subscribe:s=>iu(`useValue(${r})`,()=>{i.get(),s()}),getSnapshot:()=>i.get()}),[i]);return I.useSyncExternalStore(o,a,a)}finally{n.current=!1}}hf("@tldraw/state-react","3.9.0","esm");const so={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:-1+(4-2*e)*e,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e<=0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e>=1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2};function $r(e){return`${_e(e.x)},${_e(e.y)} `}function Ga(e,t){return`${_e((e.x+t.x)/2)},${_e((e.y+t.y)/2)} `}const jr=Math.PI,En=jr/2,ln=jr*2,C1t=Math.sin;function vo(e,t,r){return Math.max(t,typeof r<"u"?Math.min(e,r):e)}function w1(e,t=1e10){return e?Math.round(e*t)/t:0}function KA(e,t,r=1e-6){return Math.abs(e-t)<=r}function gUe(e,t){const r=Math.pow(e-t,2)/Math.pow(e+t,2);return jr*(e+t)*(1+3*r/(10+Math.sqrt(4-3*r)))}function Sh(e){return e=e%ln,e<0?e=e+ln:e===0&&(e=0),e}function Hb(e,t){return e=Sh(e),t=Sh(t),e>t&&(t+=ln),t-e}function mUe(e,t){return ln-Hb(e,t)}function xC(e,t){const r=(t-e)%ln;return 2*r%ln-r}function Q3(e){return(ln+e)%ln}function PE(e,t){const r=ln/t;let n=Math.floor((Q3(e)+r/2)/r)*r%ln;return n<jr&&(n+=ln),n>jr&&(n-=ln),n}function vUe(e,t){return e===t||KA(e%(Math.PI/2)-t%(Math.PI/2),0)}function _1t(e){return e*jr/180}function E1t(e){return e*180/jr}function Mh(e,t,r){return new L(e.x,e.y).add(L.FromAngle(r,t))}function JD(e,t,r){const n=e/2,i=t/2,o=[];let a=1/0,s=-1/0,l=1/0,c=-1/0;for(let h=0;h<r;h++){const p=ln/r,v=-En+h*p,y=n+n*Math.cos(v),b=i+i*Math.sin(v);y<a&&(a=y),b<l&&(l=b),y>s&&(s=y),b>c&&(c=b),o.push(new L(y,b))}const u=s-a,d=c-l,A=e-u,f=t-d;if(A!==0||f!==0)for(let h=0;h<o.length;h++){const p=o[h];p.x=(p.x-a)/u*e,p.y=(p.y-l)/d*t}return o}function Oy(e,t,r,n){return e<n&&r<t}function Vl(e,t,r,n){const i=Math.max(e,r),o=Math.min(t,n);return i<=o?[i,o]:null}function Eoe(e,t,r){return(t.x-e.x)*(r.y-e.y)-(r.x-e.x)*(t.y-e.y)}function Is(e,t){let r=0,n,i;for(let o=0;o<t.length;o++){if(n=t[o],n.x===e.x&&n.y===e.y||(i=t[(o+1)%t.length],L.Dist(e,n)+L.Dist(e,i)===L.Dist(n,i)))return!0;n.y<=e.y?i.y>e.y&&Eoe(n,i,e)>0&&(r+=1):i.y<=e.y&&Eoe(n,i,e)<0&&(r-=1)}return r!==0}function _e(e){return Math.round(e*1e4)/1e4}function id(e){return Math.round(e*100)/100}const Ioe=e=>Math.abs(e)<Number.MAX_SAFE_INTEGER;function BA(e,t,r){return r<0?Hb(e,t):mUe(e,t)}function H3(e,t,r,n){let i;if(Math.abs(e)>jr){i=xC(t,n);const o=xC(n,r);return Math.abs(i)<Math.abs(o)?i/e:(e-o)/e}else{i=xC(t,n);const o=i/e;return Math.sign(i)!==Math.sign(e)?Math.abs(o)>.5?1:0:o}}function I1t(e,t,r,n){const i=2*((t-e)%ln)%ln-(t-e)%ln;return n?(ln-Math.abs(i))*(r?1:-1):i}function Pz(e,t,r){const n=-2*(e.x*(t.y-r.y)-e.y*(t.x-r.x)+t.x*r.y-r.x*t.y),i=((e.x*e.x+e.y*e.y)*(r.y-t.y)+(t.x*t.x+t.y*t.y)*(e.y-r.y)+(r.x*r.x+r.y*r.y)*(t.y-e.y))/n,o=((e.x*e.x+e.y*e.y)*(t.x-r.x)+(t.x*t.x+t.y*t.y)*(r.x-e.x)+(r.x*r.x+r.y*r.y)*(e.x-t.x))/n;return!Number.isFinite(i)||!Number.isFinite(o)?null:new L(i,o)}function B1t(e,t,r,n,i){if(r===null)return[L.From(e),L.From(t)];const o=[],a=L.Angle(r,e),s=L.Angle(r,t),l=Hb(a,s);for(let c=0;c<i;c++){const u=c/(i-1),d=a+l*u,A=Mh(r,n,d);o.push(A)}return o}class L{constructor(t=0,r=0,n=1){this.x=t,this.y=r,this.z=n}get pressure(){return this.z}set(t=this.x,r=this.y,n=this.z){return this.x=t,this.y=r,this.z=n,this}setTo({x:t=0,y:r=0,z:n=1}){return this.x=t,this.y=r,this.z=n,this}rot(t){if(t===0)return this;const{x:r,y:n}=this,i=Math.sin(t),o=Math.cos(t);return this.x=r*o-n*i,this.y=r*i+n*o,this}rotWith(t,r){if(r===0)return this;const n=this.x-t.x,i=this.y-t.y,o=Math.sin(r),a=Math.cos(r);return this.x=t.x+(n*a-i*o),this.y=t.y+(n*o+i*a),this}clone(){const{x:t,y:r,z:n}=this;return new L(t,r,n)}sub(t){return this.x-=t.x,this.y-=t.y,this}subXY(t,r){return this.x-=t,this.y-=r,this}subScalar(t){return this.x-=t,this.y-=t,this}add(t){return this.x+=t.x,this.y+=t.y,this}addXY(t,r){return this.x+=t,this.y+=r,this}addScalar(t){return this.x+=t,this.y+=t,this}clamp(t,r){return this.x=Math.max(this.x,t),this.y=Math.max(this.y,t),r!==void 0&&(this.x=Math.min(this.x,r),this.y=Math.min(this.y,r)),this}div(t){return this.x/=t,this.y/=t,this}divV(t){return this.x/=t.x,this.y/=t.y,this}mul(t){return this.x*=t,this.y*=t,this}mulV(t){return this.x*=t.x,this.y*=t.y,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}nudge(t,r){const n=L.Tan(t,this);return this.add(n.mul(r))}neg(){return this.x*=-1,this.y*=-1,this}cross(t){return this.x=this.y*t.z-this.z*t.y,this.y=this.z*t.x-this.x*t.z,this}dpr(t){return L.Dpr(this,t)}cpr(t){return L.Cpr(this,t)}len2(){return L.Len2(this)}len(){return L.Len(this)}pry(t){return L.Pry(this,t)}per(){const{x:t,y:r}=this;return this.x=r,this.y=-t,this}uni(){return L.Uni(this)}tan(t){return L.Tan(this,t)}dist(t){return L.Dist(this,t)}distanceToLineSegment(t,r){return L.DistanceToLineSegment(t,r,this)}slope(t){return L.Slope(this,t)}snapToGrid(t){return this.x=Math.round(this.x/t)*t,this.y=Math.round(this.y/t)*t,this}angle(t){return L.Angle(this,t)}toAngle(){return L.ToAngle(this)}lrp(t,r){return this.x=this.x+(t.x-this.x)*r,this.y=this.y+(t.y-this.y)*r,this}equals(t){return L.Equals(this,t)}equalsXY(t,r){return L.EqualsXY(this,t,r)}norm(){const t=this.len();return this.x=t===0?0:this.x/t,this.y=t===0?0:this.y/t,this}toFixed(){return L.ToFixed(this)}toString(){return L.ToString(L.ToFixed(this))}toJson(){return L.ToJson(this)}toArray(){return L.ToArray(this)}static Add(t,r){return new L(t.x+r.x,t.y+r.y)}static AddXY(t,r,n){return new L(t.x+r,t.y+n)}static Sub(t,r){return new L(t.x-r.x,t.y-r.y)}static SubXY(t,r,n){return new L(t.x-r,t.y-n)}static AddScalar(t,r){return new L(t.x+r,t.y+r)}static SubScalar(t,r){return new L(t.x-r,t.y-r)}static Div(t,r){return new L(t.x/r,t.y/r)}static Mul(t,r){return new L(t.x*r,t.y*r)}static DivV(t,r){return new L(t.x/r.x,t.y/r.y)}static MulV(t,r){return new L(t.x*r.x,t.y*r.y)}static Neg(t){return new L(-t.x,-t.y)}static Per(t){return new L(t.y,-t.x)}static Abs(t){return new L(Math.abs(t.x),Math.abs(t.y))}static Dist(t,r){return((t.y-r.y)**2+(t.x-r.x)**2)**.5}static DistMin(t,r,n){return(t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y)<n**2}static Dist2(t,r){return(t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y)}static Dpr(t,r){return t.x*r.x+t.y*r.y}static Cross(t,r){return new L(t.y*r.z-t.z*r.y,t.z*r.x-t.x*r.z)}static Cpr(t,r){return t.x*r.y-r.x*t.y}static Len2(t){return t.x*t.x+t.y*t.y}static Len(t){return(t.x*t.x+t.y*t.y)**.5}static Pry(t,r){return L.Dpr(t,r)/L.Len(r)}static Uni(t){return L.Div(t,L.Len(t))}static Tan(t,r){return L.Uni(L.Sub(t,r))}static Min(t,r){return new L(Math.min(t.x,r.x),Math.min(t.y,r.y))}static Max(t,r){return new L(Math.max(t.x,r.x),Math.max(t.y,r.y))}static From({x:t,y:r,z:n=1}){return new L(t,r,n)}static FromArray(t){return new L(t[0],t[1])}static Rot(t,r=0){const n=Math.sin(r),i=Math.cos(r);return new L(t.x*i-t.y*n,t.x*n+t.y*i)}static RotWith(t,r,n){const i=t.x-r.x,o=t.y-r.y,a=Math.sin(n),s=Math.cos(n);return new L(r.x+(i*s-o*a),r.y+(i*a+o*s))}static NearestPointOnLineThroughPoint(t,r,n){return L.Mul(r,L.Sub(n,t).pry(r)).add(t)}static NearestPointOnLineSegment(t,r,n,i=!0){if(L.Equals(t,n)||L.Equals(r,n))return L.From(n);const o=L.Tan(r,t),a=L.Add(t,L.Mul(o,L.Sub(n,t).pry(o)));if(i){if(a.x<Math.min(t.x,r.x))return L.Cast(t.x<r.x?t:r);if(a.x>Math.max(t.x,r.x))return L.Cast(t.x>r.x?t:r);if(a.y<Math.min(t.y,r.y))return L.Cast(t.y<r.y?t:r);if(a.y>Math.max(t.y,r.y))return L.Cast(t.y>r.y?t:r)}return a}static DistanceToLineThroughPoint(t,r,n){return L.Dist(n,L.NearestPointOnLineThroughPoint(t,r,n))}static DistanceToLineSegment(t,r,n,i=!0){return L.Dist(n,L.NearestPointOnLineSegment(t,r,n,i))}static Snap(t,r=1){return new L(Math.round(t.x/r)*r,Math.round(t.y/r)*r)}static Cast(t){return t instanceof L?t:L.From(t)}static Slope(t,r){return t.x===r.y?NaN:(t.y-r.y)/(t.x-r.x)}static IsNaN(t){return isNaN(t.x)||isNaN(t.y)}static Angle(t,r){return Math.atan2(r.y-t.y,r.x-t.x)}static Lrp(t,r,n){return L.Sub(r,t).mul(n).add(t)}static Med(t,r){return new L((t.x+r.x)/2,(t.y+r.y)/2)}static Equals(t,r){return Math.abs(t.x-r.x)<1e-4&&Math.abs(t.y-r.y)<1e-4}static EqualsXY(t,r,n){return t.x===r&&t.y===n}static Clockwise(t,r,n){return(n.x-t.x)*(r.y-t.y)-(r.x-t.x)*(n.y-t.y)<0}static Rescale(t,r){const n=L.Len(t);return new L(r*t.x/n,r*t.y/n)}static ScaleWithOrigin(t,r,n){return L.Sub(t,n).mul(r).add(n)}static ToFixed(t){return new L(id(t.x),id(t.y))}static ToInt(t){return new L(parseInt(t.x.toFixed(0)),parseInt(t.y.toFixed(0)),parseInt((t.z??0).toFixed(0)))}static ToCss(t){return`${t.x},${t.y}`}static Nudge(t,r,n){return L.Add(t,L.Tan(r,t).mul(n))}static ToString(t){return`${t.x}, ${t.y}`}static ToAngle(t){let r=Math.atan2(t.y,t.x);return r<0&&(r+=Math.PI*2),r}static FromAngle(t,r=1){return new L(Math.cos(t)*r,Math.sin(t)*r)}static ToArray(t){return[t.x,t.y,t.z]}static ToJson(t){const{x:r,y:n,z:i}=t;return{x:r,y:n,z:i}}static Average(t){const r=t.length,n=new L(0,0);if(r===0)return n;for(let i=0;i<r;i++)n.add(t[i]);return n.div(r)}static Clamp(t,r,n){return n===void 0?new L(Math.min(Math.max(t.x,r)),Math.min(Math.max(t.y,r))):new L(Math.min(Math.max(t.x,r),n),Math.min(Math.max(t.y,r),n))}static PointsBetween(t,r,n=6){const i=[];for(let o=0;o<n;o++){const a=so.easeInQuad(o/(n-1)),s=L.Lrp(t,r,a);s.z=Math.min(1,.5+Math.abs(.5-P1t(a))*.65),i.push(s)}return i}static SnapToGrid(t,r=8){return new L(Math.round(t.x/r)*r,Math.round(t.y/r)*r)}}const P1t=e=>e<.5?2*e*e:-1+(4-2*e)*e;function yUe(e,{initialBounds:t,scaleX:r,scaleY:n,newPoint:i,handle:o}){let a;switch(o){case"bottom_left":case"bottom_right":case"top_left":case"top_right":{a=Math.max(.01,Math.max(Math.abs(r),Math.abs(n)));break}case"left":case"right":{a=Math.max(.01,Math.abs(r));break}case"bottom":case"top":{a=Math.max(.01,Math.abs(n));break}default:throw Di(o)}const s=new L(0,0);r<0&&(s.x=-(t.width*a)),n<0&&(s.y=-(t.height*a));const{x:l,y:c}=L.Add(i,s.rot(e.rotation));return{x:l,y:c,props:{scale:a*e.props.scale}}}const T1t=(e,t)=>t.some(r=>e instanceof r);let Boe,Poe;function O1t(){return Boe||(Boe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1t(){return Poe||(Poe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wUe=new WeakMap,q3=new WeakMap,bUe=new WeakMap,ZD=new WeakMap,Tz=new WeakMap;function M1t(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{r(yd(e.result)),i()},a=()=>{n(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&wUe.set(r,e)}).catch(()=>{}),Tz.set(t,e),t}function F1t(e){if(q3.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});q3.set(e,t)}let z3={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return q3.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bUe.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return yd(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function k1t(e){z3=e(z3)}function U1t(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(ej(this),t,...r);return bUe.set(n,t.sort?t.sort():[t]),yd(n)}:R1t().includes(e)?function(...t){return e.apply(ej(this),t),yd(wUe.get(this))}:function(...t){return yd(e.apply(ej(this),t))}}function D1t(e){return typeof e=="function"?U1t(e):(e instanceof IDBTransaction&&F1t(e),T1t(e,O1t())?new Proxy(e,z3):e)}function yd(e){if(e instanceof IDBRequest)return M1t(e);if(ZD.has(e))return ZD.get(e);const t=D1t(e);return t!==e&&(ZD.set(e,t),Tz.set(t,e)),t}const ej=e=>Tz.get(e);function xUe(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=yd(a);return n&&a.addEventListener("upgradeneeded",l=>{n(yd(a.result),l.oldVersion,l.newVersion,yd(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}function SUe(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",n=>t(n.oldVersion,n)),yd(r).then(()=>{})}const j1t=["get","getKey","getAll","getAllKeys","count"],L1t=["put","add","delete","clear"],tj=new Map;function Toe(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tj.get(t))return tj.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=L1t.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||j1t.includes(r)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return tj.set(t,o),o}k1t(e=>({...e,get:(t,r,n)=>Toe(t,r)||e.get(t,r,n),has:(t,r)=>!!Toe(t,r)||e.has(t,r)}));const N1t="TLDRAW_DOCUMENT_v2",$1t="TLDRAW_ASSET_STORE_v1",CUe="TLDRAW_DB_NAME_INDEX_v2",Br={Records:"records",Schema:"schema",SessionState:"session_state",Assets:"assets"};async function _Ue(e){const t=N1t+e;return H1t(t),await xUe(t,4,{upgrade(r){r.objectStoreNames.contains(Br.Records)||r.createObjectStore(Br.Records),r.objectStoreNames.contains(Br.Schema)||r.createObjectStore(Br.Schema),r.objectStoreNames.contains(Br.SessionState)||r.createObjectStore(Br.SessionState),r.objectStoreNames.contains(Br.Assets)||r.createObjectStore(Br.Assets)}})}async function Q1t(e){const t=window.indexedDB.databases?(await window.indexedDB.databases()).map(A=>A.name):Oz(),r=$1t+e;if(!t.find(A=>A===r))return;const i=await xUe(r,1,{upgrade(A){A.objectStoreNames.contains("assets")||A.createObjectStore("assets")}});if(!i.objectStoreNames.contains("assets"))return;const o=i.transaction(["assets"],"readonly"),a=o.objectStore("assets"),s=await a.getAllKeys(),l=await Promise.all(s.map(async A=>[A,await a.get(A)]));await o.done;const c=await _Ue(e),u=c.transaction([Br.Assets],"readwrite"),d=u.objectStore(Br.Assets);for(const[A,f]of l)d.put(f,A);await u.done,i.close(),c.close(),await SUe(r)}const H0=class H0{constructor(t){K(this,"getDbPromise");K(this,"isClosed",!1);K(this,"pendingTransactionSet",new Set);H0.connectedInstances.add(this),this.getDbPromise=(async()=>(await Q1t(t),await _Ue(t)))()}getDb(){return this.getDbPromise}pending(){return Promise.allSettled([this.getDbPromise,...this.pendingTransactionSet]).then(jw)}async close(){this.isClosed||(this.isClosed=!0,await this.pending(),(await this.getDb()).close(),H0.connectedInstances.delete(this))}tx(t,r,n){const i=(async()=>{vr(!this.isClosed,"db is closed");const a=(await this.getDb()).transaction(r,t),s=a.done.catch(l=>{if(!this.isClosed)throw l});try{return await n(a)}finally{this.isClosed?a.abort():await s}})();return this.pendingTransactionSet.add(i),i.finally(()=>this.pendingTransactionSet.delete(i)),i}async load({sessionId:t}={}){return await this.tx("readonly",[Br.Records,Br.Schema,Br.SessionState],async r=>{var l,c;const n=r.objectStore(Br.Records),i=r.objectStore(Br.Schema),o=r.objectStore(Br.SessionState);let a=t?(l=await o.get(t))==null?void 0:l.snapshot:null;return a||(a=(c=(await o.getAll()).sort((d,A)=>d.updatedAt-A.updatedAt).pop())==null?void 0:c.snapshot),{records:await n.getAll(),schema:await i.get(Br.Schema),sessionStateSnapshot:a}})}async storeChanges({schema:t,changes:r,sessionId:n,sessionStateSnapshot:i}){await this.tx("readwrite",[Br.Records,Br.Schema,Br.SessionState],async o=>{const a=o.objectStore(Br.Records),s=o.objectStore(Br.Schema),l=o.objectStore(Br.SessionState);for(const[c,u]of Object.entries(r.added))await a.put(u,c);for(const[c,u]of Object.values(r.updated))await a.put(u,u.id);for(const c of Object.keys(r.removed))await a.delete(c);s.put(t.serialize(),Br.Schema),i&&n?l.put({snapshot:i,updatedAt:Date.now(),id:n},n):(i||n)&&console.error("sessionStateSnapshot and instanceId must be provided together")})}async storeSnapshot({schema:t,snapshot:r,sessionId:n,sessionStateSnapshot:i}){await this.tx("readwrite",[Br.Records,Br.Schema,Br.SessionState],async o=>{const a=o.objectStore(Br.Records),s=o.objectStore(Br.Schema),l=o.objectStore(Br.SessionState);await a.clear();for(const[c,u]of Object.entries(r))await a.put(u,c);s.put(t.serialize(),Br.Schema),i&&n?l.put({snapshot:i,updatedAt:Date.now(),id:n},n):(i||n)&&console.error("sessionStateSnapshot and instanceId must be provided together")})}async pruneSessions(){await this.tx("readwrite",[Br.SessionState],async t=>{const r=t.objectStore(Br.SessionState),n=(await r.getAll()).sort((o,a)=>o.updatedAt-a.updatedAt);if(n.length<10){await t.done;return}const i=n.slice(0,n.length-10);for(const{id:o}of i)await r.delete(o)})}async getAsset(t){return await this.tx("readonly",[Br.Assets],async r=>await r.objectStore(Br.Assets).get(t))}async storeAsset(t,r){await this.tx("readwrite",[Br.Assets],async n=>{await n.objectStore(Br.Assets).put(r,t)})}};K(H0,"connectedInstances",new Set);let TE=H0;function Oz(){const e=JSON.parse(fz(CUe)||"[]")??[];return Array.isArray(e)?e:[]}function H1t(e){const t=new Set(Oz());t.add(e),hz(CUe,JSON.stringify([...t]))}var yTe,wTe;class Ooe{constructor(t,r){K(this,"valueMap");K(this,"presentKeysAtom");K(this,yTe,"AtomMap");this.name=t;const n=new Set,i=new Map;if(r)for(const[o,a]of r)n.add(o),i.set(o,Ci(`${t}:${String(o)}`,a));this.valueMap=i,this.presentKeysAtom=Ci(`${t}:presentKeys`,n)}getAtom(t){const r=this.valueMap.get(t);if(!r){this.presentKeysAtom.get();return}return r}get(t){var n;const r=(n=this.getAtom(t))==null?void 0:n.get();return vr(r!==Vo),r}__unsafe__getWithoutCapture(t){const r=this.valueMap.get(t);if(!r)return;const n=r.__unsafe__getWithoutCapture();return vr(n!==Vo),n}has(t){const r=this.getAtom(t);return r?r.get()!==Vo:!1}__unsafe__hasWithoutCapture(t){const r=this.valueMap.get(t);return r?(vr(r.__unsafe__getWithoutCapture()!==Vo),!0):!1}set(t,r){return Ca(()=>{const n=this.valueMap.get(t);n?n.set(r):(this.valueMap.set(t,Ci(`${this.name}:${String(t)}`,r)),this.presentKeysAtom.update(i=>{const o=new Set(i);return o.add(t),o}))}),this}update(t,r){return Ca(()=>{const n=this.valueMap.get(t);if(!n)throw new Error(`AtomMap: key ${t} not found`);const i=n.__unsafe__getWithoutCapture();vr(i!==Vo),n.set(r(i))})}delete(t){return Ca(()=>{const r=this.valueMap.get(t);return r?(this.valueMap.delete(t),r.set(Vo),this.presentKeysAtom.update(n=>{const i=new Set(n);return i.delete(t),i}),!0):!1})}deleteMany(t){return Ca(()=>{let r;const n=[];for(const i of t){const o=this.valueMap.get(i);if(!o)continue;const a=o.get();vr(a!==Vo),n.push([i,a]),this.valueMap.delete(i),o.set(Vo),r||(r=new Set(this.presentKeysAtom.__unsafe__getWithoutCapture())),r.delete(i)}return r&&this.presentKeysAtom.set(r),n})}clear(){return Ca(()=>{for(const t of this.valueMap.values())t.set(Vo);this.presentKeysAtom.set(new Set),this.valueMap.clear()})}*entries(){this.presentKeysAtom.get();for(const[t,r]of this.valueMap.entries()){const n=r.get();vr(n!==Vo),yield[t,n]}}*keys(){this.presentKeysAtom.get();for(const t of this.valueMap.keys())yield t}*values(){this.presentKeysAtom.get();for(const t of this.valueMap.values()){const r=t.get();vr(r!==Vo),yield r}}get size(){return this.presentKeysAtom.get().size}forEach(t,r){for(const[n,i]of this.entries())t.call(r,i,n,this)}[(wTe=Symbol.iterator,yTe=Symbol.toStringTag,wTe)](){return this.entries()}}class SC{constructor(t){K(this,"nextValue");K(this,"diff");this.previousValue=t}get(){var n,i,o,a;const t=((i=(n=this.diff)==null?void 0:n.removed)==null?void 0:i.size)??0,r=((a=(o=this.diff)==null?void 0:o.added)==null?void 0:a.size)??0;if(!(t===0&&r===0))return{value:this.nextValue,diff:this.diff}}_add(t,r){var n,i;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.add(t),this.diff??(this.diff={}),r?(n=this.diff.removed)==null||n.delete(t):((i=this.diff).added??(i.added=new Set),this.diff.added.add(t))}add(t){var i,o,a;const r=this.previousValue.has(t);if(r)return((o=(i=this.diff)==null?void 0:i.removed)==null?void 0:o.has(t))?this._add(t,r):void 0;(a=this.nextValue)!=null&&a.has(t)||this._add(t,r)}_remove(t,r){var n,i;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.delete(t),this.diff??(this.diff={}),r?((n=this.diff).removed??(n.removed=new Set),this.diff.removed.add(t)):(i=this.diff.added)==null||i.delete(t)}remove(t){var i,o,a,s;const r=this.previousValue.has(t);if(!r)return((o=(i=this.diff)==null?void 0:i.added)==null?void 0:o.has(t))?this._remove(t,r):void 0;(s=(a=this.diff)==null?void 0:a.removed)!=null&&s.has(t)||this._remove(t,r)}}class WB{constructor(t,r){K(this,"createDefaultProperties");K(this,"validator");K(this,"ephemeralKeys");K(this,"ephemeralKeySet");K(this,"scope");this.typeName=t,this.createDefaultProperties=r.createDefaultProperties,this.validator=r.validator??{validate:i=>i},this.scope=r.scope??"document",this.ephemeralKeys=r.ephemeralKeys;const n=new Set;if(r.ephemeralKeys)for(const[i,o]of _s(r.ephemeralKeys))o&&n.add(i);this.ephemeralKeySet=n}create(t){const r={...this.createDefaultProperties(),id:this.createId()};for(const[n,i]of Object.entries(t))i!==void 0&&(r[n]=i);return r.typeName=this.typeName,r}clone(t){return{...kn(t),id:this.createId()}}createId(t){return this.typeName+":"+(t??tn())}createCustomId(t){return this.typeName+":"+t}parseId(t){if(!this.isId(t))throw new Error(`ID "${t}" is not a valid ID for type "${this.typeName}"`);return t.slice(this.typeName.length+1)}isInstance(t){return(t==null?void 0:t.typeName)===this.typeName}isId(t){if(!t)return!1;for(let r=0;r<this.typeName.length;r++)if(t[r]!==this.typeName[r])return!1;return t[this.typeName.length]===":"}withDefaultProperties(t){return new WB(this.typeName,{createDefaultProperties:t,validator:this.validator,scope:this.scope,ephemeralKeys:this.ephemeralKeys})}validate(t,r){return r&&this.validator.validateUsingKnownGoodVersion?this.validator.validateUsingKnownGoodVersion(r,t):this.validator.validate(t)}}function Bu(e,t){return new WB(e,{createDefaultProperties:()=>({}),validator:t.validator,scope:t.scope,ephemeralKeys:t.ephemeralKeys})}function OE(){return{added:{},updated:{},removed:{}}}function K3(e){const t={added:e.removed,removed:e.added,updated:{}};for(const[r,n]of Object.values(e.updated))t.updated[r.id]=[n,r];return t}function EUe(e){return Object.keys(e.added).length===0&&Object.keys(e.updated).length===0&&Object.keys(e.removed).length===0}function Rz(e){const t={added:{},removed:{},updated:{}};return F0(t,e),t}function F0(e,t){for(const r of t){for(const[n,i]of _s(r.added))if(e.removed[n]){const o=e.removed[n];delete e.removed[n],o!==i&&(e.updated[n]=[o,i])}else e.added[n]=i;for(const[n,[i,o]]of _s(r.updated)){if(e.added[n]){e.added[n]=o,delete e.updated[n],delete e.removed[n];continue}if(e.updated[n]){e.updated[n]=[e.updated[n][0],o],delete e.removed[n];continue}e.updated[n]=r.updated[n],delete e.removed[n]}for(const[n,i]of _s(r.removed))e.added[n]?delete e.added[n]:e.updated[n]?(e.removed[n]=e.updated[n][0],delete e.updated[n]):e.removed[n]=i}}var l0={exports:{}};l0.exports;var Roe;function q1t(){return Roe||(Roe=1,function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",A="[object Error]",f="[object Function]",h="[object GeneratorFunction]",p="[object Map]",v="[object Number]",y="[object Null]",b="[object Object]",x="[object Promise]",S="[object Proxy]",C="[object RegExp]",_="[object Set]",B="[object String]",T="[object Symbol]",O="[object Undefined]",P="[object WeakMap]",F="[object ArrayBuffer]",U="[object DataView]",k="[object Float32Array]",M="[object Float64Array]",D="[object Int8Array]",j="[object Int16Array]",$="[object Int32Array]",Q="[object Uint8Array]",H="[object Uint8ClampedArray]",W="[object Uint16Array]",z="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,G=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,Z={};Z[k]=Z[M]=Z[D]=Z[j]=Z[$]=Z[Q]=Z[H]=Z[W]=Z[z]=!0,Z[s]=Z[l]=Z[F]=Z[u]=Z[U]=Z[d]=Z[A]=Z[f]=Z[p]=Z[v]=Z[b]=Z[C]=Z[_]=Z[B]=Z[P]=!1;var oe=typeof ao=="object"&&ao&&ao.Object===Object&&ao,ae=typeof self=="object"&&self&&self.Object===Object&&self,ne=oe||ae||Function("return this")(),te=t&&!t.nodeType&&t,se=te&&!0&&e&&!e.nodeType&&e,de=se&&se.exports===te,re=de&&oe.process,he=function(){try{return re&&re.binding&&re.binding("util")}catch{}}(),ye=he&&he.isTypedArray;function ke(ie,ge){for(var Ke=-1,It=ie==null?0:ie.length,en=0,rr=[];++Ke<It;){var wn=ie[Ke];ge(wn,Ke,ie)&&(rr[en++]=wn)}return rr}function Ue(ie,ge){for(var Ke=-1,It=ge.length,en=ie.length;++Ke<It;)ie[en+Ke]=ge[Ke];return ie}function Ne(ie,ge){for(var Ke=-1,It=ie==null?0:ie.length;++Ke<It;)if(ge(ie[Ke],Ke,ie))return!0;return!1}function Ye(ie,ge){for(var Ke=-1,It=Array(ie);++Ke<ie;)It[Ke]=ge(Ke);return It}function lt(ie){return function(ge){return ie(ge)}}function Ve(ie,ge){return ie.has(ge)}function Te(ie,ge){return ie==null?void 0:ie[ge]}function we(ie){var ge=-1,Ke=Array(ie.size);return ie.forEach(function(It,en){Ke[++ge]=[en,It]}),Ke}function Be(ie,ge){return function(Ke){return ie(ge(Ke))}}function Ze(ie){var ge=-1,Ke=Array(ie.size);return ie.forEach(function(It){Ke[++ge]=It}),Ke}var me=Array.prototype,Se=Function.prototype,Oe=Object.prototype,it=ne["__core-js_shared__"],ft=Se.toString,ee=Oe.hasOwnProperty,ce=function(){var ie=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return ie?"Symbol(src)_1."+ie:""}(),pe=Oe.toString,xe=RegExp("^"+ft.call(ee).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$e=de?ne.Buffer:void 0,ve=ne.Symbol,ot=ne.Uint8Array,xt=Oe.propertyIsEnumerable,De=me.splice,We=ve?ve.toStringTag:void 0,Je=Object.getOwnPropertySymbols,nt=$e?$e.isBuffer:void 0,At=Be(Object.keys,Object),kt=ku(ne,"DataView"),sr=ku(ne,"Map"),xr=ku(ne,"Promise"),pr=ku(ne,"Set"),Pn=ku(ne,"WeakMap"),ai=ku(Object,"create"),Ec=jo(kt),Hs=jo(sr),Tl=jo(xr),Uo=jo(pr),Do=jo(Pn),ls=ve?ve.prototype:void 0,Ji=ls?ls.valueOf:void 0;function Ln(ie){var ge=-1,Ke=ie==null?0:ie.length;for(this.clear();++ge<Ke;){var It=ie[ge];this.set(It[0],It[1])}}function Ol(){this.__data__=ai?ai(null):{},this.size=0}function qs(ie){var ge=this.has(ie)&&delete this.__data__[ie];return this.size-=ge?1:0,ge}function pi(ie){var ge=this.__data__;if(ai){var Ke=ge[ie];return Ke===n?void 0:Ke}return ee.call(ge,ie)?ge[ie]:void 0}function Ni(ie){var ge=this.__data__;return ai?ge[ie]!==void 0:ee.call(ge,ie)}function ha(ie,ge){var Ke=this.__data__;return this.size+=this.has(ie)?0:1,Ke[ie]=ai&&ge===void 0?n:ge,this}Ln.prototype.clear=Ol,Ln.prototype.delete=qs,Ln.prototype.get=pi,Ln.prototype.has=Ni,Ln.prototype.set=ha;function Ao(ie){var ge=-1,Ke=ie==null?0:ie.length;for(this.clear();++ge<Ke;){var It=ie[ge];this.set(It[0],It[1])}}function Pe(){this.__data__=[],this.size=0}function tt(ie){var ge=this.__data__,Ke=Gd(ge,ie);if(Ke<0)return!1;var It=ge.length-1;return Ke==It?ge.pop():De.call(ge,Ke,1),--this.size,!0}function Fe(ie){var ge=this.__data__,Ke=Gd(ge,ie);return Ke<0?void 0:ge[Ke][1]}function be(ie){return Gd(this.__data__,ie)>-1}function ze(ie,ge){var Ke=this.__data__,It=Gd(Ke,ie);return It<0?(++this.size,Ke.push([ie,ge])):Ke[It][1]=ge,this}Ao.prototype.clear=Pe,Ao.prototype.delete=tt,Ao.prototype.get=Fe,Ao.prototype.has=be,Ao.prototype.set=ze;function $t(ie){var ge=-1,Ke=ie==null?0:ie.length;for(this.clear();++ge<Ke;){var It=ie[ge];this.set(It[0],It[1])}}function _t(){this.size=0,this.__data__={hash:new Ln,map:new(sr||Ao),string:new Ln}}function dn(ie){var ge=Ur(this,ie).delete(ie);return this.size-=ge?1:0,ge}function nr(ie){return Ur(this,ie).get(ie)}function Xn(ie){return Ur(this,ie).has(ie)}function Oi(ie,ge){var Ke=Ur(this,ie),It=Ke.size;return Ke.set(ie,ge),this.size+=Ke.size==It?0:1,this}$t.prototype.clear=_t,$t.prototype.delete=dn,$t.prototype.get=nr,$t.prototype.has=Xn,$t.prototype.set=Oi;function Ge(ie){var ge=-1,Ke=ie==null?0:ie.length;for(this.__data__=new $t;++ge<Ke;)this.add(ie[ge])}function An(ie){return this.__data__.set(ie,n),this}function pa(ie){return this.__data__.has(ie)}Ge.prototype.add=Ge.prototype.push=An,Ge.prototype.has=pa;function Zi(ie){var ge=this.__data__=new Ao(ie);this.size=ge.size}function Rl(){this.__data__=new Ao,this.size=0}function fo(ie){var ge=this.__data__,Ke=ge.delete(ie);return this.size=ge.size,Ke}function Fu(ie){return this.__data__.get(ie)}function ga(ie){return this.__data__.has(ie)}function Ev(ie,ge){var Ke=this.__data__;if(Ke instanceof Ao){var It=Ke.__data__;if(!sr||It.length<r-1)return It.push([ie,ge]),this.size=++Ke.size,this;Ke=this.__data__=new $t(It)}return Ke.set(ie,ge),this.size=Ke.size,this}Zi.prototype.clear=Rl,Zi.prototype.delete=fo,Zi.prototype.get=Fu,Zi.prototype.has=ga,Zi.prototype.set=Ev;function Iv(ie,ge){var Ke=Pc(ie),It=!Ke&&Rf(ie),en=!Ke&&!It&&Rv(ie),rr=!Ke&&!It&&!en&&Fv(ie),wn=Ke||It||en||rr,gi=wn?Ye(ie.length,String):[],bn=gi.length;for(var fn in ie)ee.call(ie,fn)&&!(wn&&(fn=="length"||en&&(fn=="offset"||fn=="parent")||rr&&(fn=="buffer"||fn=="byteLength"||fn=="byteOffset")||Ex(fn,bn)))&&gi.push(fn);return gi}function Gd(ie,ge){for(var Ke=ie.length;Ke--;)if(Ul(ie[Ke][0],ge))return Ke;return-1}function Ml(ie,ge,Ke){var It=ge(ie);return Pc(ie)?It:Ue(It,Ke(ie))}function zs(ie){return ie==null?ie===void 0?O:y:We&&We in Object(ie)?_x(ie):Bc(ie)}function Ic(ie){return Oc(ie)&&zs(ie)==s}function Fl(ie,ge,Ke,It,en){return ie===ge?!0:ie==null||ge==null||!Oc(ie)&&!Oc(ge)?ie!==ie&&ge!==ge:Bv(ie,ge,Ke,It,Fl,en)}function Bv(ie,ge,Ke,It,en,rr){var wn=Pc(ie),gi=Pc(ge),bn=wn?l:kl(ie),fn=gi?l:kl(ge);bn=bn==s?b:bn,fn=fn==s?b:fn;var eo=bn==b,ka=fn==b,mi=bn==fn;if(mi&&Rv(ie)){if(!Rv(ge))return!1;wn=!0,eo=!1}if(mi&&!eo)return rr||(rr=new Zi),wn||Fv(ie)?wp(ie,ge,Ke,It,en,rr):Of(ie,ge,bn,Ke,It,en,rr);if(!(Ke&i)){var ho=eo&&ee.call(ie,"__wrapped__"),ma=ka&&ee.call(ge,"__wrapped__");if(ho||ma){var si=ho?ie.value():ie,Lo=ma?ge.value():ge;return rr||(rr=new Zi),en(si,Lo,Ke,It,rr)}}return mi?(rr||(rr=new Zi),kT(ie,ge,Ke,It,en,rr)):!1}function Pv(ie){if(!Mv(ie)||Ov(ie))return!1;var ge=Xd(ie)?xe:G;return ge.test(jo(ie))}function Yd(ie){return Oc(ie)&&Px(ie.length)&&!!Z[zs(ie)]}function Cx(ie){if(!xp(ie))return At(ie);var ge=[];for(var Ke in Object(ie))ee.call(ie,Ke)&&Ke!="constructor"&&ge.push(Ke);return ge}function wp(ie,ge,Ke,It,en,rr){var wn=Ke&i,gi=ie.length,bn=ge.length;if(gi!=bn&&!(wn&&bn>gi))return!1;var fn=rr.get(ie);if(fn&&rr.get(ge))return fn==ge;var eo=-1,ka=!0,mi=Ke&o?new Ge:void 0;for(rr.set(ie,ge),rr.set(ge,ie);++eo<gi;){var ho=ie[eo],ma=ge[eo];if(It)var si=wn?It(ma,ho,eo,ge,ie,rr):It(ho,ma,eo,ie,ge,rr);if(si!==void 0){if(si)continue;ka=!1;break}if(mi){if(!Ne(ge,function(Lo,Dl){if(!Ve(mi,Dl)&&(ho===Lo||en(ho,Lo,Ke,It,rr)))return mi.push(Dl)})){ka=!1;break}}else if(!(ho===ma||en(ho,ma,Ke,It,rr))){ka=!1;break}}return rr.delete(ie),rr.delete(ge),ka}function Of(ie,ge,Ke,It,en,rr,wn){switch(Ke){case U:if(ie.byteLength!=ge.byteLength||ie.byteOffset!=ge.byteOffset)return!1;ie=ie.buffer,ge=ge.buffer;case F:return!(ie.byteLength!=ge.byteLength||!rr(new ot(ie),new ot(ge)));case u:case d:case v:return Ul(+ie,+ge);case A:return ie.name==ge.name&&ie.message==ge.message;case C:case B:return ie==ge+"";case p:var gi=we;case _:var bn=It&i;if(gi||(gi=Ze),ie.size!=ge.size&&!bn)return!1;var fn=wn.get(ie);if(fn)return fn==ge;It|=o,wn.set(ie,ge);var eo=wp(gi(ie),gi(ge),It,en,rr,wn);return wn.delete(ie),eo;case T:if(Ji)return Ji.call(ie)==Ji.call(ge)}return!1}function kT(ie,ge,Ke,It,en,rr){var wn=Ke&i,gi=bp(ie),bn=gi.length,fn=bp(ge),eo=fn.length;if(bn!=eo&&!wn)return!1;for(var ka=bn;ka--;){var mi=gi[ka];if(!(wn?mi in ge:ee.call(ge,mi)))return!1}var ho=rr.get(ie);if(ho&&rr.get(ge))return ho==ge;var ma=!0;rr.set(ie,ge),rr.set(ge,ie);for(var si=wn;++ka<bn;){mi=gi[ka];var Lo=ie[mi],Dl=ge[mi];if(It)var Jd=wn?It(Dl,Lo,mi,ge,ie,rr):It(Lo,Dl,mi,ie,ge,rr);if(!(Jd===void 0?Lo===Dl||en(Lo,Dl,Ke,It,rr):Jd)){ma=!1;break}si||(si=mi=="constructor")}if(ma&&!si){var Sp=ie.constructor,Zd=ge.constructor;Sp!=Zd&&"constructor"in ie&&"constructor"in ge&&!(typeof Sp=="function"&&Sp instanceof Sp&&typeof Zd=="function"&&Zd instanceof Zd)&&(ma=!1)}return rr.delete(ie),rr.delete(ge),ma}function bp(ie){return Ml(ie,UT,Tv)}function Ur(ie,ge){var Ke=ie.__data__;return Ix(ge)?Ke[typeof ge=="string"?"string":"hash"]:Ke.map}function ku(ie,ge){var Ke=Te(ie,ge);return Pv(Ke)?Ke:void 0}function _x(ie){var ge=ee.call(ie,We),Ke=ie[We];try{ie[We]=void 0;var It=!0}catch{}var en=pe.call(ie);return It&&(ge?ie[We]=Ke:delete ie[We]),en}var Tv=Je?function(ie){return ie==null?[]:(ie=Object(ie),ke(Je(ie),function(ge){return xt.call(ie,ge)}))}:Mf,kl=zs;(kt&&kl(new kt(new ArrayBuffer(1)))!=U||sr&&kl(new sr)!=p||xr&&kl(xr.resolve())!=x||pr&&kl(new pr)!=_||Pn&&kl(new Pn)!=P)&&(kl=function(ie){var ge=zs(ie),Ke=ge==b?ie.constructor:void 0,It=Ke?jo(Ke):"";if(It)switch(It){case Ec:return U;case Hs:return p;case Tl:return x;case Uo:return _;case Do:return P}return ge});function Ex(ie,ge){return ge=ge??a,!!ge&&(typeof ie=="number"||X.test(ie))&&ie>-1&&ie%1==0&&ie<ge}function Ix(ie){var ge=typeof ie;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?ie!=="__proto__":ie===null}function Ov(ie){return!!ce&&ce in ie}function xp(ie){var ge=ie&&ie.constructor,Ke=typeof ge=="function"&&ge.prototype||Oe;return ie===Ke}function Bc(ie){return pe.call(ie)}function jo(ie){if(ie!=null){try{return ft.call(ie)}catch{}try{return ie+""}catch{}}return""}function Ul(ie,ge){return ie===ge||ie!==ie&&ge!==ge}var Rf=Ic(function(){return arguments}())?Ic:function(ie){return Oc(ie)&&ee.call(ie,"callee")&&!xt.call(ie,"callee")},Pc=Array.isArray;function Tc(ie){return ie!=null&&Px(ie.length)&&!Xd(ie)}var Rv=nt||Ff;function Bx(ie,ge){return Fl(ie,ge)}function Xd(ie){if(!Mv(ie))return!1;var ge=zs(ie);return ge==f||ge==h||ge==c||ge==S}function Px(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=a}function Mv(ie){var ge=typeof ie;return ie!=null&&(ge=="object"||ge=="function")}function Oc(ie){return ie!=null&&typeof ie=="object"}var Fv=ye?lt(ye):Yd;function UT(ie){return Tc(ie)?Iv(ie):Cx(ie)}function Mf(){return[]}function Ff(){return!1}e.exports=Bx}(l0,l0.exports)),l0.exports}var z1t=q1t();const IUe=kr(z1t);function K1t(e){if(e.length===0)return new Set;const t=e[0],r=e.slice(1),n=new Set;for(const i of t)r.every(o=>o.has(i))&&n.add(i);return n}function W1t(e,t){const r={};for(const n of t)e.has(n)||(r.added??(r.added=new Set),r.added.add(n));for(const n of e)t.has(n)||(r.removed??(r.removed=new Set),r.removed.add(n));return r.added||r.removed?r:void 0}function Moe(e,t){for(const[r,n]of Object.entries(e)){const i=n,o=t[r];if("eq"in i&&o!==i.eq||"neq"in i&&o===i.neq||"gt"in i&&(typeof o!="number"||o<=i.gt))return!1}return!0}function Foe(e,t,r){const n=Object.fromEntries(Object.keys(r).map(i=>[i,new Set]));for(const[i,o]of Object.entries(r))if("eq"in o){const s=e.index(t,i).get().get(o.eq);if(s)for(const l of s)n[i].add(l)}else if("neq"in o){const a=e.index(t,i);for(const[s,l]of a.get())if(s!==o.neq)for(const c of l)n[i].add(c)}else if("gt"in o){const a=e.index(t,i);for(const[s,l]of a.get())if(s>o.gt)for(const c of l)n[i].add(c)}return K1t(Object.values(n))}class V1t{constructor(t,r){K(this,"indexCache",new Map);K(this,"historyCache",new Map);this.recordMap=t,this.history=r}filterHistory(t){if(this.historyCache.has(t))return this.historyCache.get(t);const r=qe("filterHistory:"+t,(n,i)=>{if(xh(n))return this.history.get();const o=this.history.getDiffSince(i);if(o===Es)return this.history.get();const a={added:{},removed:{},updated:{}};let s=0,l=0,c=0;for(const u of o){for(const d of Fi(u.added))if(d.typeName===t)if(a.removed[d.id]){const A=a.removed[d.id];delete a.removed[d.id],l--,A!==d&&(a.updated[d.id]=[A,d],c++)}else a.added[d.id]=d,s++;for(const[d,A]of Fi(u.updated))A.typeName===t&&(a.added[A.id]?a.added[A.id]=A:a.updated[A.id]?a.updated[A.id]=[a.updated[A.id][0],A]:(a.updated[A.id]=[d,A],c++));for(const d of Fi(u.removed))d.typeName===t&&(a.added[d.id]?(delete a.added[d.id],s--):a.updated[d.id]?(a.removed[d.id]=a.updated[d.id][0],delete a.updated[d.id],c--,l++):(a.removed[d.id]=d,l++))}return s||l||c?s0(this.history.get(),a):n},{historyLength:100});return this.historyCache.set(t,r),r}index(t,r){const n=t+":"+r;if(this.indexCache.has(n))return this.indexCache.get(n);const i=this.__uncached_createIndex(t,r);return this.indexCache.set(n,i),i}__uncached_createIndex(t,r){const n=this.filterHistory(t),i=()=>{n.get();const o=new Map;for(const a of this.recordMap.values())if(a.typeName===t){const s=a[r];o.has(s)||o.set(s,new Set),o.get(s).add(a.id)}return o};return qe("index:"+t+":"+r,(o,a)=>{if(xh(o))return i();const s=n.getDiffSince(a);if(s===Es)return i();const l=new Map,c=(f,h)=>{let p=l.get(f);p||(p=new SC(o.get(f)??new Set)),p.add(h),l.set(f,p)},u=(f,h)=>{let p=l.get(f);p||(p=new SC(o.get(f)??new Set)),p.remove(h),l.set(f,p)};for(const f of s){for(const h of Fi(f.added))if(h.typeName===t){const p=h[r];c(p,h.id)}for(const[h,p]of Fi(f.updated))if(p.typeName===t){const v=h[r],y=p[r];v!==y&&(u(v,p.id),c(y,p.id))}for(const h of Fi(f.removed))if(h.typeName===t){const p=h[r];u(p,h.id)}}let d,A;for(const[f,h]of l){const p=h.get();p&&(d||(d=new Map(o)),A||(A=new Map),p.value.size===0?d.delete(f):d.set(f,p.value),A.set(f,p.diff))}return d&&A?s0(d,A):o},{historyLength:100})}record(t,r=()=>({}),n="record:"+t+(r?":"+r.toString():"")){const i=this.ids(t,r,n);return qe(n,()=>{for(const o of i.get())return this.recordMap.get(o)})}records(t,r=()=>({}),n="records:"+t+(r?":"+r.toString():"")){const i=this.ids(t,r,"ids:"+n);return qe(n,()=>Array.from(i.get(),o=>this.recordMap.get(o)),{isEqual:yke})}ids(t,r=()=>({}),n="ids:"+t+(r?":"+r.toString():"")){const i=this.filterHistory(t),o=()=>{i.get();const l=r();if(Object.keys(l).length===0){const c=new Set;for(const u of this.recordMap.values())u.typeName===t&&c.add(u.id);return c}return Foe(this,t,l)},a=l=>{const c=o(),u=W1t(l,c);return u?s0(c,u):l},s=qe("ids_query:"+n,r,{isEqual:IUe});return qe("query:"+n,(l,c)=>{const u=s.get();if(xh(l))return o();if(c<s.lastChangedEpoch)return a(l);const d=i.getDiffSince(c);if(d===Es)return a(l);const A=new SC(l);for(const h of d){for(const p of Fi(h.added))p.typeName===t&&Moe(u,p)&&A.add(p.id);for(const[p,v]of Fi(h.updated))v.typeName===t&&(Moe(u,v)?A.add(v.id):A.remove(v.id));for(const p of Fi(h.removed))p.typeName===t&&A.remove(p.id)}const f=A.get();return f?s0(f.value,f.diff):l},{historyLength:50})}exec(t,r){const n=Foe(this,t,r);return n.size===0?vd:Array.from(n,i=>this.recordMap.get(i))}}class G1t{constructor(t){K(this,"_beforeCreateHandlers",{});K(this,"_afterCreateHandlers",{});K(this,"_beforeChangeHandlers",{});K(this,"_afterChangeHandlers",{});K(this,"_beforeDeleteHandlers",{});K(this,"_afterDeleteHandlers",{});K(this,"_operationCompleteHandlers",[]);K(this,"_isEnabled",!0);this.store=t}isEnabled(){return this._isEnabled}setIsEnabled(t){this._isEnabled=t}handleBeforeCreate(t,r){if(!this._isEnabled)return t;const n=this._beforeCreateHandlers[t.typeName];if(n){let i=t;for(const o of n)i=o(i,r);return i}return t}handleAfterCreate(t,r){if(!this._isEnabled)return;const n=this._afterCreateHandlers[t.typeName];if(n)for(const i of n)i(t,r)}handleBeforeChange(t,r,n){if(!this._isEnabled)return r;const i=this._beforeChangeHandlers[r.typeName];if(i){let o=r;for(const a of i)o=a(t,o,n);return o}return r}handleAfterChange(t,r,n){if(!this._isEnabled)return;const i=this._afterChangeHandlers[r.typeName];if(i)for(const o of i)o(t,r,n)}handleBeforeDelete(t,r){if(!this._isEnabled)return!0;const n=this._beforeDeleteHandlers[t.typeName];if(n){for(const i of n)if(i(t,r)===!1)return!1}return!0}handleAfterDelete(t,r){if(!this._isEnabled)return;const n=this._afterDeleteHandlers[t.typeName];if(n)for(const i of n)i(t,r)}handleOperationComplete(t){if(this._isEnabled)for(const r of this._operationCompleteHandlers)r(t)}register(t){const r=[];for(const[n,i]of Object.entries(t))i!=null&&i.beforeCreate&&r.push(this.registerBeforeCreateHandler(n,i.beforeCreate)),i!=null&&i.afterCreate&&r.push(this.registerAfterCreateHandler(n,i.afterCreate)),i!=null&&i.beforeChange&&r.push(this.registerBeforeChangeHandler(n,i.beforeChange)),i!=null&&i.afterChange&&r.push(this.registerAfterChangeHandler(n,i.afterChange)),i!=null&&i.beforeDelete&&r.push(this.registerBeforeDeleteHandler(n,i.beforeDelete)),i!=null&&i.afterDelete&&r.push(this.registerAfterDeleteHandler(n,i.afterDelete));return()=>{for(const n of r)n()}}registerBeforeCreateHandler(t,r){return this._beforeCreateHandlers[t]||(this._beforeCreateHandlers[t]=[]),this._beforeCreateHandlers[t].push(r),()=>Xf(this._beforeCreateHandlers[t],r)}registerAfterCreateHandler(t,r){return this._afterCreateHandlers[t]||(this._afterCreateHandlers[t]=[]),this._afterCreateHandlers[t].push(r),()=>Xf(this._afterCreateHandlers[t],r)}registerBeforeChangeHandler(t,r){return this._beforeChangeHandlers[t]||(this._beforeChangeHandlers[t]=[]),this._beforeChangeHandlers[t].push(r),()=>Xf(this._beforeChangeHandlers[t],r)}registerAfterChangeHandler(t,r){return this._afterChangeHandlers[t]||(this._afterChangeHandlers[t]=[]),this._afterChangeHandlers[t].push(r),()=>Xf(this._afterChangeHandlers[t],r)}registerBeforeDeleteHandler(t,r){return this._beforeDeleteHandlers[t]||(this._beforeDeleteHandlers[t]=[]),this._beforeDeleteHandlers[t].push(r),()=>Xf(this._beforeDeleteHandlers[t],r)}registerAfterDeleteHandler(t,r){return this._afterDeleteHandlers[t]||(this._afterDeleteHandlers[t]=[]),this._afterDeleteHandlers[t].push(r),()=>Xf(this._afterDeleteHandlers[t],r)}registerOperationCompleteHandler(t){return this._operationCompleteHandlers.push(t),()=>Xf(this._operationCompleteHandlers,t)}}function Xf(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}class Mz{constructor(t){K(this,"id");K(this,"records");K(this,"history",Ci("history",0,{historyLength:1e3}));K(this,"query");K(this,"listeners",new Set);K(this,"historyAccumulator",new X1t);K(this,"historyReactor");K(this,"schema");K(this,"props");K(this,"scopedTypes");K(this,"sideEffects",new G1t(this));K(this,"isMergingRemoteChanges",!1);K(this,"_integrityChecker");K(this,"_isPossiblyCorrupted",!1);K(this,"pendingAfterEvents",null);K(this,"_isInAtomicOp",!1);const{initialData:r,schema:n,id:i}=t;this.id=i??tn(),this.schema=n,this.props=t.props,r?this.records=new Ooe("store",_s(r).map(([o,a])=>[o,this.schema.validateRecord(this,a,"initialize",null)])):this.records=new Ooe("store"),this.query=new V1t(this.records,this.history),this.historyReactor=a1t("Store.historyReactor",()=>{this.history.get(),this._flushHistory()},{scheduleEffect:o=>this.cancelHistoryReactor=$ke(o)}),this.scopedTypes={document:new Set(Fi(this.schema.types).filter(o=>o.scope==="document").map(o=>o.typeName)),session:new Set(Fi(this.schema.types).filter(o=>o.scope==="session").map(o=>o.typeName)),presence:new Set(Fi(this.schema.types).filter(o=>o.scope==="presence").map(o=>o.typeName))}}cancelHistoryReactor(){}_flushHistory(){if(this.historyAccumulator.hasChanges()){const t=this.historyAccumulator.flush();for(const{changes:r,source:n}of t){let i=null,o=null,a=null;for(const{onHistory:s,filters:l}of this.listeners)if(!(l.source!=="all"&&l.source!==n))if(l.scope!=="all")if(l.scope==="document"){if(o??(o=this.filterChangesByScope(r,"document")),!o)continue;s({changes:o,source:n})}else if(l.scope==="session"){if(i??(i=this.filterChangesByScope(r,"session")),!i)continue;s({changes:i,source:n})}else{if(a??(a=this.filterChangesByScope(r,"presence")),!a)continue;s({changes:a,source:n})}else s({changes:r,source:n})}}}dispose(){this.cancelHistoryReactor()}filterChangesByScope(t,r){const n={added:M0(t.added,(i,o)=>this.scopedTypes[r].has(o.typeName)),updated:M0(t.updated,(i,o)=>this.scopedTypes[r].has(o[1].typeName)),removed:M0(t.removed,(i,o)=>this.scopedTypes[r].has(o.typeName))};return Object.keys(n.added).length===0&&Object.keys(n.updated).length===0&&Object.keys(n.removed).length===0?null:n}updateHistory(t){this.historyAccumulator.add({changes:t,source:this.isMergingRemoteChanges?"remote":"user"}),this.listeners.size===0&&this.historyAccumulator.clear(),this.history.set(this.history.get()+1,t)}validate(t){this.allRecords().forEach(r=>this.schema.validateRecord(this,r,t,null))}put(t,r){this.atomic(()=>{const n={},i={};let o,a=!1;const s=this.isMergingRemoteChanges?"remote":"user";for(let l=0,c=t.length;l<c;l++){o=t[l];const u=this.records.__unsafe__getWithoutCapture(o.id);if(u){if(o=this.sideEffects.handleBeforeChange(u,o,s),this.schema.validateRecord(this,o,r??"updateRecord",u)===u)continue;o=o,this.records.set(o.id,o),a=!0,n[o.id]=[u,o],this.addDiffForAfterEvent(u,o)}else o=this.sideEffects.handleBeforeCreate(o,s),a=!0,o=this.schema.validateRecord(this,o,r??"createRecord",null),o=o,i[o.id]=o,this.addDiffForAfterEvent(null,o),this.records.set(o.id,o)}a&&this.updateHistory({added:i,updated:n,removed:{}})})}remove(t){this.atomic(()=>{const r=new Set(t),n=this.isMergingRemoteChanges?"remote":"user";if(this.sideEffects.isEnabled())for(const a of t){const s=this.records.__unsafe__getWithoutCapture(a);s&&this.sideEffects.handleBeforeDelete(s,n)===!1&&r.delete(a)}const i=this.records.deleteMany(r);if(i.length===0)return;const o={};for(const[a,s]of i)o[a]=s,this.addDiffForAfterEvent(s,null);this.updateHistory({added:{},updated:{},removed:o})})}get(t){return this.records.get(t)}unsafeGetWithoutCapture(t){return this.records.__unsafe__getWithoutCapture(t)}serialize(t="document"){const r={};for(const[n,i]of this.records)(t==="all"||this.scopedTypes[t].has(i.typeName))&&(r[n]=i);return r}getStoreSnapshot(t="document"){return{store:this.serialize(t),schema:this.schema.serialize()}}getSnapshot(t="document"){return console.warn("[tldraw] `Store.getSnapshot` is deprecated and will be removed in a future release. Use `getSnapshot` from the `tldraw` package instead."),this.getStoreSnapshot(t)}migrateSnapshot(t){const r=this.schema.migrateStoreSnapshot(t);if(r.type==="error")throw new Error(`Failed to migrate snapshot: ${r.reason}`);return{store:r.value,schema:this.schema.serialize()}}loadStoreSnapshot(t){const r=this.schema.migrateStoreSnapshot(t);if(r.type==="error")throw new Error(`Failed to migrate snapshot: ${r.reason}`);const n=this.sideEffects.isEnabled();try{this.sideEffects.setIsEnabled(!1),this.atomic(()=>{this.clear(),this.put(Object.values(r.value)),this.ensureStoreIsUsable()})}finally{this.sideEffects.setIsEnabled(n)}}loadSnapshot(t){console.warn("[tldraw] `Store.loadSnapshot` is deprecated and will be removed in a future release. Use `loadSnapshot` from the 'tldraw' package instead."),this.loadStoreSnapshot(t)}allRecords(){return Array.from(this.records.values())}clear(){this.remove(Array.from(this.records.keys()))}update(t,r){const n=this.unsafeGetWithoutCapture(t);if(!n){console.error(`Record ${t} not found. This is probably an error`);return}this.put([r(n)])}has(t){return this.records.has(t)}listen(t,r){this._flushHistory();const n={onHistory:t,filters:{source:(r==null?void 0:r.source)??"all",scope:(r==null?void 0:r.scope)??"all"}};return this.historyReactor.scheduler.isActivelyListening||(this.historyReactor.start(),this.historyReactor.scheduler.execute()),this.listeners.add(n),()=>{this.listeners.delete(n),this.listeners.size===0&&this.historyReactor.stop()}}mergeRemoteChanges(t){if(this.isMergingRemoteChanges)return t();if(this._isInAtomicOp)throw new Error("Cannot merge remote changes while in atomic operation");try{this.isMergingRemoteChanges=!0,Ca(t)}finally{this.isMergingRemoteChanges=!1,this.ensureStoreIsUsable()}}extractingChanges(t){const r=[],n=this.historyAccumulator.addInterceptor(i=>r.push(i.changes));try{return Ca(t),Rz(r)}finally{n()}}applyDiff(t,{runCallbacks:r=!0,ignoreEphemeralKeys:n=!1}={}){this.atomic(()=>{const i=Fi(t.added);for(const[a,s]of Fi(t.updated)){const l=this.schema.getType(s.typeName);if(n&&l.ephemeralKeySet.size){const c=this.get(s.id);if(!c){i.push(s);continue}let u=null;for(const[d,A]of Object.entries(s))l.ephemeralKeySet.has(d)||Object.is(A,na(c,d))||(u||(u={...c}),u[d]=A);u&&i.push(u)}else i.push(s)}const o=wSt(t.removed);i.length&&this.put(i),o.length&&this.remove(o)},r)}createCache(t){const r=new hc;return{get:n=>{const i=this.records.getAtom(n);if(i)return r.get(i,()=>t(n,i)).get()}}}createComputedCache(t,r,n){return this.createCache((i,o)=>{const a=n!=null&&n.areRecordsEqual?qe(Ci.name+":equals",()=>o.get(),{isEqual:n.areRecordsEqual}):o;return qe(t+":"+i,()=>r(a.get()),{isEqual:n==null?void 0:n.areResultsEqual})})}ensureStoreIsUsable(){this.atomic(()=>{var t;this._integrityChecker??(this._integrityChecker=this.schema.createIntegrityChecker(this)),(t=this._integrityChecker)==null||t.call(this)})}markAsPossiblyCorrupted(){this._isPossiblyCorrupted=!0}isPossiblyCorrupted(){return this._isPossiblyCorrupted}addDiffForAfterEvent(t,r){if(vr(this.pendingAfterEvents,"must be in event operation"),t===r||(t&&r&&vr(t.id===r.id),!t&&!r))return;const n=(t||r).id,i=this.pendingAfterEvents.get(n);i?i.after=r:this.pendingAfterEvents.set(n,{before:t,after:r})}flushAtomicCallbacks(){let t=0;const r=this.isMergingRemoteChanges?"remote":"user";for(;this.pendingAfterEvents;){const n=this.pendingAfterEvents;if(this.pendingAfterEvents=null,!!this.sideEffects.isEnabled()){if(t++,t>100)throw new Error("Maximum store update depth exceeded, bailing out");for(const{before:i,after:o}of n.values())i&&o?this.sideEffects.handleAfterChange(i,o,r):i&&!o?this.sideEffects.handleAfterDelete(i,r):!i&&o&&this.sideEffects.handleAfterCreate(o,r);this.pendingAfterEvents||this.sideEffects.handleOperationComplete(r)}}}atomic(t,r=!0){return Ca(()=>{if(this._isInAtomicOp)return this.pendingAfterEvents||(this.pendingAfterEvents=new Map),t();this.pendingAfterEvents=new Map;const n=this.sideEffects.isEnabled();this.sideEffects.setIsEnabled(r??n),this._isInAtomicOp=!0;try{const i=t();return this.flushAtomicCallbacks(),i}finally{this.pendingAfterEvents=null,this.sideEffects.setIsEnabled(n),this._isInAtomicOp=!1}})}addHistoryInterceptor(t){return this.historyAccumulator.addInterceptor(r=>t(r,this.isMergingRemoteChanges?"remote":"user"))}}function Y1t(e){if(e.length===0)return[];const t=[];let r=[e[0]],n;for(let i=1,o=e.length;i<o;i++)n=e[i],r[0].source!==n.source&&(t.push(r),r=[]),r.push(n);return t.push(r),t.map(i=>({source:i[0].source,changes:Rz(i.map(o=>o.changes))}))}class X1t{constructor(){K(this,"_history",[]);K(this,"_interceptors",new Set)}addInterceptor(t){return this._interceptors.add(t),()=>{this._interceptors.delete(t)}}add(t){this._history.push(t);for(const r of this._interceptors)r(t)}flush(){const t=Y1t(this._history);return this._history=[],t}clear(){this._history=[]}hasChanges(){return this._history.length>0}}function J1t(e,t,r){const n=new hc;return{get(i,o){return n.get(i,()=>(i instanceof Mz?i:i.store).createComputedCache(e,l=>t(i,l),r)).get(o)}}}function Z1t(e){const t=[];for(let r=e.length-1;r>=0;r--){const n=e[r];if("id"in n)t.unshift(n);else{const i=n.dependsOn,o=t[0];o&&(t[0]={...o,dependsOn:i.concat(o.dependsOn??[])})}}return t}function Hg({sequence:e,sequenceId:t,retroactive:r=!0}){const n={sequenceId:t,retroactive:r,sequence:Z1t(e)};return BUe(n),n}function is(e,t){return Object.fromEntries(_s(t).map(([r,n])=>[r,`${e}/${n}`]))}function Us(e){const t=e.sequenceId;return Hg({sequenceId:t,retroactive:e.retroactive??!0,sequence:e.sequence.map(r=>"id"in r?{...r,scope:"record",filter:n=>{var i,o;return n.typeName===e.recordType&&(((i=r.filter)==null?void 0:i.call(r,n))??!0)&&(((o=e.filter)==null?void 0:o.call(e,n))??!0)}}:r)})}function eCt(e){const t=new Map(e.map(o=>[o.id,o])),r=new Set,n=[];function i(o){vr(!r.has(o.id),`Circular dependency in migrations: ${o.id}`),r.add(o.id);const{version:a,sequenceId:s}=RE(o.id),l=t.get(`${s}/${a-1}`);if(l&&i(l),o.dependsOn)for(const c of o.dependsOn){const u=t.get(c);u&&i(u)}t.delete(o.id),n.push(o)}for(const o of t.values())i(o);return n}function RE(e){const[t,r]=e.split("/");return{sequenceId:t,version:parseInt(r)}}function koe(e,t){t&&vr(e.startsWith(t+"/"),`Every migration in sequence '${t}' must have an id starting with '${t}/'. Got invalid id: '${e}'`),vr(e.match(/^(.*?)\/(0|[1-9]\d*)$/),`Invalid migration id: '${e}'`)}function BUe(e){if(vr(!e.sequenceId.includes("/"),`sequenceId cannot contain a '/', got ${e.sequenceId}`),vr(e.sequenceId.length,"sequenceId must be a non-empty string"),e.sequence.length===0)return;koe(e.sequence[0].id,e.sequenceId);let t=RE(e.sequence[0].id).version;vr(t===1,`Expected the first migrationId to be '${e.sequenceId}/1' but got '${e.sequence[0].id}'`);for(let r=1;r<e.sequence.length;r++){const n=e.sequence[r].id;koe(n,e.sequenceId);const i=RE(n).version;vr(i===t+1,`Migration id numbers must increase in increments of 1, expected ${e.sequenceId}/${t+1} but got '${e.sequence[r].id}'`),t=i}}var xA=(e=>(e.IncompatibleSubtype="incompatible-subtype",e.UnknownType="unknown-type",e.TargetVersionTooNew="target-version-too-new",e.TargetVersionTooOld="target-version-too-old",e.MigrationError="migration-error",e.UnrecognizedSubtype="unrecognized-subtype",e))(xA||{});function tCt(e){if(e.schemaVersion>2||e.schemaVersion<1)return qA.err("Bad schema version");if(e.schemaVersion===2)return qA.ok(e);const t={schemaVersion:2,sequences:{"com.tldraw.store":e.storeVersion}};for(const[r,n]of Object.entries(e.recordVersions))if(t.sequences[`com.tldraw.${r}`]=n.version,"subTypeKey"in n)for(const[i,o]of Object.entries(n.subTypeVersions))t.sequences[`com.tldraw.${r}.${i}`]=o;return qA.ok(t)}class Fz{constructor(t,r){K(this,"migrations",{});K(this,"sortedMigrations");var i;this.types=t,this.options=r;for(const o of r.migrations??[])vr(!this.migrations[o.sequenceId],`Duplicate migration sequenceId ${o.sequenceId}`),BUe(o),this.migrations[o.sequenceId]=o;const n=Object.values(this.migrations).flatMap(o=>o.sequence);this.sortedMigrations=eCt(n);for(const o of this.sortedMigrations)if((i=o.dependsOn)!=null&&i.length)for(const a of o.dependsOn){const s=n.find(l=>l.id===a);vr(s,`Migration '${o.id}' depends on missing migration '${a}'`)}}static create(t,r){return new Fz(t,r??{})}validateRecord(t,r,n,i){try{const o=na(this.types,r.typeName);if(!o)throw new Error(`Missing definition for record type ${r.typeName}`);return o.validate(r,i??void 0)}catch(o){if(this.options.onValidationFailure)return this.options.onValidationFailure({store:t,record:r,phase:n,recordBefore:i,error:o});throw o}}getMigrationsSince(t){const r=tCt(t);if(!r.ok)return r;const n=r.value,i=new Set(Object.keys(n.sequences).filter(a=>this.migrations[a]));for(const a in this.migrations)n.sequences[a]===void 0&&this.migrations[a].retroactive&&i.add(a);if(i.size===0)return qA.ok([]);const o=new Set;for(const a of i){const s=n.sequences[a];if(typeof s!="number"&&this.migrations[a].retroactive||s===0){for(const u of this.migrations[a].sequence)o.add(u.id);continue}const l=`${a}/${s}`,c=this.migrations[a].sequence.findIndex(u=>u.id===l);if(c===-1)return qA.err("Incompatible schema?");for(const u of this.migrations[a].sequence.slice(c+1))o.add(u.id)}return qA.ok(this.sortedMigrations.filter(({id:a})=>o.has(a)))}migratePersistedRecord(t,r,n="up"){const i=this.getMigrationsSince(r);if(!i.ok)return console.error("Error migrating record",i.error),{type:"error",reason:xA.MigrationError};let o=i.value;if(o.length===0)return{type:"success",value:t};if(o.some(a=>a.scope==="store"))return{type:"error",reason:n==="down"?xA.TargetVersionTooOld:xA.TargetVersionTooNew};if(n==="down"){if(!o.every(a=>a.down))return{type:"error",reason:xA.TargetVersionTooOld};o=o.slice().reverse()}t=kn(t);try{for(const a of o){if(a.scope==="store")throw new Error;if(!(a.filter?a.filter(t):!0))continue;const l=a[n](t);l&&(t=kn(l))}}catch(a){return console.error("Error migrating record",a),{type:"error",reason:xA.MigrationError}}return{type:"success",value:t}}migrateStoreSnapshot(t){let{store:r}=t;const n=this.getMigrationsSince(t.schema);if(!n.ok)return console.error("Error migrating store",n.error),{type:"error",reason:xA.MigrationError};const i=n.value;if(i.length===0)return{type:"success",value:r};r=kn(r);try{for(const o of i)if(o.scope==="record")for(const[a,s]of Object.entries(r)){if(!(o.filter?o.filter(s):!0))continue;const c=o.up(s);c&&(r[a]=kn(c))}else if(o.scope==="store"){const a=o.up(r);a&&(r=kn(a))}else Di(o)}catch(o){return console.error("Error migrating store",o),{type:"error",reason:xA.MigrationError}}return{type:"success",value:r}}createIntegrityChecker(t){var r,n;return((n=(r=this.options).createIntegrityChecker)==null?void 0:n.call(r,t))??void 0}serialize(){return{schemaVersion:2,sequences:Object.fromEntries(Object.values(this.migrations).map(({sequenceId:t,sequence:r})=>[t,r.length?RE(r.at(-1).id).version:0]))}}serializeEarliestVersion(){return{schemaVersion:2,sequences:Object.fromEntries(Object.values(this.migrations).map(({sequenceId:t})=>[t,0]))}}getType(t){const r=na(this.types,t);return vr(r,"record type does not exists"),r}}hf("@tldraw/store","3.9.0","esm");function rCt(e){if(!e.length)return null;let t="";for(const r of e)typeof r=="number"?t+=`.${r}`:r.startsWith("(")?t.endsWith(")")?t=`${t.slice(0,-1)}, ${r.slice(1)}`:t+=r:t+=`.${r}`;return t=t.replace(/id = [^,]+, /,"").replace(/id = [^)]+/,""),t.startsWith(".")?t.slice(1):t}class Fr extends Error{constructor(r,n=[]){const i=rCt(n),o=r.split(`
`).map((a,s)=>s===0?a:`  ${a}`).join(`
`);super(n?`At ${i}: ${o}`:o);K(this,"name","ValidationError");this.rawMessage=r,this.path=n}}function Za(e,t){try{return t()}catch(r){throw r instanceof Fr?new Fr(r.rawMessage,[e,...r.path]):new Fr(r.toString(),[e])}}function ZA(e){if(e===null)return"null";if(Array.isArray(e))return"an array";const t=typeof e;switch(t){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${t}`;case"object":return`an ${t}`;case"undefined":return"undefined";default:Di(t)}}class Ta{constructor(t,r){this.validationFn=t,this.validateUsingKnownGoodVersionFn=r}validate(t){return this.validationFn(t)}validateUsingKnownGoodVersion(t,r){return Object.is(t,r)?t:this.validateUsingKnownGoodVersionFn?this.validateUsingKnownGoodVersionFn(t,r):this.validate(r)}isValid(t){try{return this.validate(t),!0}catch{return!1}}nullable(){return lCt(this)}optional(){return TUe(this)}refine(t){return new Ta(r=>t(this.validate(r)),(r,n)=>{const i=this.validateUsingKnownGoodVersion(r,n);return Object.is(r,i)?r:t(i)})}check(t,r){return typeof t=="string"?this.refine(n=>(Za(`(check ${t})`,()=>r(n)),n)):this.refine(n=>(t(n),n))}}class nCt extends Ta{constructor(t){super(r=>{const n=Uoe.validate(r);for(let i=0;i<n.length;i++)Za(i,()=>t.validate(n[i]));return n},(r,n)=>{if(!t.validateUsingKnownGoodVersion)return this.validate(n);const i=Uoe.validate(n);let o=r.length!==i.length;for(let a=0;a<i.length;a++){const s=i[a];if(a>=r.length){o=!0,Za(a,()=>t.validate(s));continue}if(Object.is(r[a],s))continue;const l=Za(a,()=>t.validateUsingKnownGoodVersion(r[a],s));Object.is(l,r[a])||(o=!0)}return o?n:r}),this.itemValidator=t}nonEmpty(){return this.check(t=>{if(t.length===0)throw new Fr("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(t=>{if(t.length<=1)throw new Fr("Expected an array with length greater than 1")})}}class ME extends Ta{constructor(t,r=!1){super(n=>{if(typeof n!="object"||n===null)throw new Fr(`Expected object, got ${ZA(n)}`);for(const[i,o]of Object.entries(t))Za(i,()=>{o.validate(na(n,i))});if(!r){for(const i of Object.keys(n))if(!ml(t,i))throw new Fr("Unexpected property",[i])}return n},(n,i)=>{if(typeof i!="object"||i===null)throw new Fr(`Expected object, got ${ZA(i)}`);let o=!1;for(const[a,s]of Object.entries(t)){const l=na(n,a),c=na(i,a);if(Object.is(l,c))continue;const u=Za(a,()=>{const d=s;return d.validateUsingKnownGoodVersion?d.validateUsingKnownGoodVersion(l,c):d.validate(c)});Object.is(u,l)||(o=!0)}if(!r){for(const a of Object.keys(i))if(!ml(t,a))throw new Fr("Unexpected property",[a])}for(const a of Object.keys(n))if(!ml(i,a)){o=!0;break}return o?i:n}),this.config=t,this.shouldAllowUnknownProperties=r}allowUnknownProperties(){return new ME(this.config,!0)}extend(t){return new ME({...this.config,...t})}}class VB extends Ta{constructor(t,r,n,i){super(o=>{this.expectObject(o);const{matchingSchema:a,variant:s}=this.getMatchingSchemaAndVariant(o);return a===void 0?this.unknownValueValidation(o,s):Za(`(${t} = ${s})`,()=>a.validate(o))},(o,a)=>{this.expectObject(a),this.expectObject(o);const{matchingSchema:s,variant:l}=this.getMatchingSchemaAndVariant(a);return s===void 0?this.unknownValueValidation(a,l):na(o,t)!==na(a,t)?Za(`(${t} = ${l})`,()=>s.validate(a)):Za(`(${t} = ${l})`,()=>s.validateUsingKnownGoodVersion?s.validateUsingKnownGoodVersion(o,a):s.validate(a))}),this.key=t,this.config=r,this.unknownValueValidation=n,this.useNumberKeys=i}expectObject(t){if(typeof t!="object"||t===null)throw new Fr(`Expected an object, got ${ZA(t)}`,[])}getMatchingSchemaAndVariant(t){const r=na(t,this.key);if(!this.useNumberKeys&&typeof r!="string")throw new Fr(`Expected a string for key "${this.key}", got ${ZA(r)}`);if(this.useNumberKeys&&!Number.isFinite(Number(r)))throw new Fr(`Expected a number for key "${this.key}", got "${r}"`);return{matchingSchema:ml(this.config,r)?this.config[r]:void 0,variant:r}}validateUnknownVariants(t){return new VB(this.key,this.config,t,this.useNumberKeys)}}class iCt extends Ta{constructor(t,r){super(n=>{if(typeof n!="object"||n===null)throw new Fr(`Expected object, got ${ZA(n)}`);for(const[i,o]of Object.entries(n))Za(i,()=>{t.validate(i),r.validate(o)});return n},(n,i)=>{if(typeof i!="object"||i===null)throw new Fr(`Expected object, got ${ZA(i)}`);let o=!1;for(const[a,s]of Object.entries(i)){if(!ml(n,a)){o=!0,Za(a,()=>{t.validate(a),r.validate(s)});continue}const l=na(n,a),c=s;if(Object.is(l,c))continue;const u=Za(a,()=>r.validateUsingKnownGoodVersion?r.validateUsingKnownGoodVersion(l,c):r.validate(c));Object.is(u,l)||(o=!0)}for(const a of Object.keys(n))if(!ml(i,a)){o=!0;break}return o?i:n}),this.keyValidator=t,this.valueValidator=r}}function kz(e){return new Ta(t=>{if(typeof t!==e)throw new Fr(`Expected ${e}, got ${ZA(t)}`);return t})}const oCt=new Ta(e=>e),or=kz("string"),Yt=kz("number").check(e=>{if(Number.isNaN(e))throw new Fr("Expected a number, got NaN");if(!Number.isFinite(e))throw new Fr(`Expected a finite number, got ${e}`)}),FE=Yt.check(e=>{if(e<0)throw new Fr(`Expected a positive number, got ${e}`)}),_i=Yt.check(e=>{if(e<=0)throw new Fr(`Expected a non-zero positive number, got ${e}`)}),PUe=Yt.check(e=>{if(!Number.isInteger(e))throw new Fr(`Expected an integer, got ${e}`)}),CC=PUe.check(e=>{if(e<0)throw new Fr(`Expected a positive integer, got ${e}`)}),aCt=PUe.check(e=>{if(e<=0)throw new Fr(`Expected a non-zero positive integer, got ${e}`)}),Cr=kz("boolean");function sa(e){return new Ta(t=>{if(t!==e)throw new Fr(`Expected ${e}, got ${JSON.stringify(t)}`);return e})}const Uoe=new Ta(e=>{if(!Array.isArray(e))throw new Fr(`Expected an array, got ${ZA(e)}`);return e});function Co(e){return new nCt(e)}function Er(e){return new ME(e)}function W3(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null||Object.getPrototypeOf(e)===KSt)}function V3(e){return e===null||typeof e=="number"||typeof e=="string"||typeof e=="boolean"?!0:Array.isArray(e)?e.every(V3):W3(e)?Object.values(e).every(V3):!1}const _o=new Ta(e=>{if(V3(e))return e;throw new Fr(`Expected json serializable value, got ${typeof e}`)},(e,t)=>{if(Array.isArray(e)&&Array.isArray(t)){let r=e.length!==t.length;for(let n=0;n<t.length;n++){if(n>=e.length){r=!0,_o.validate(t[n]);continue}const i=e[n],o=t[n];if(Object.is(i,o))continue;const a=_o.validateUsingKnownGoodVersion(i,o);Object.is(a,i)||(r=!0)}return r?t:e}else if(W3(e)&&W3(t)){let r=!1;for(const n of Object.keys(t)){if(!ml(e,n)){r=!0,_o.validate(t[n]);continue}const i=e[n],o=t[n];if(Object.is(i,o))continue;const a=_o.validateUsingKnownGoodVersion(i,o);Object.is(a,i)||(r=!0)}for(const n of Object.keys(e))if(!ml(t,n)){r=!0;break}return r?t:e}else return _o.validate(t)});function kE(e,t){return new iCt(e,t)}function Uz(e,t){return new VB(e,t,(r,n)=>{throw new Fr(`Expected one of ${Object.keys(t).map(i=>JSON.stringify(i)).join(" or ")}, got ${JSON.stringify(n)}`,[e])},!1)}function sCt(e,t){return new VB(e,t,(r,n)=>{throw new Fr(`Expected one of ${Object.keys(t).map(i=>JSON.stringify(i)).join(" or ")}, got ${JSON.stringify(n)}`,[e])},!0)}function Pu(e,t){return new Ta(r=>Za(e,()=>t.validate(r)),(r,n)=>Za(e,()=>t.validateUsingKnownGoodVersion?t.validateUsingKnownGoodVersion(r,n):t.validate(n)))}function GB(e){return new Ta(t=>{if(!e.has(t)){const r=Array.from(e,n=>JSON.stringify(n)).join(" or ");throw new Fr(`Expected ${r}, got ${t}`)}return t})}function TUe(e){return new Ta(t=>{if(t!==void 0)return e.validate(t)},(t,r)=>{if(!(t===void 0&&r===void 0)&&r!==void 0)return e.validateUsingKnownGoodVersion&&t!==void 0?e.validateUsingKnownGoodVersion(t,r):e.validate(r)})}function lCt(e){return new Ta(t=>t===null?null:e.validate(t),(t,r)=>r===null?null:e.validateUsingKnownGoodVersion&&t!==null?e.validateUsingKnownGoodVersion(t,r):e.validate(r))}function YB(...e){return GB(new Set(e))}function Dz(e){try{return new URL(e)}catch{if(e.startsWith("/")||e.startsWith("./"))try{return new URL(e,"http://example.com")}catch{throw new Fr(`Expected a valid url, got ${JSON.stringify(e)}`)}throw new Fr(`Expected a valid url, got ${JSON.stringify(e)}`)}}const cCt=new Set(["http:","https:","mailto:"]),Ts=or.check(e=>{if(e==="")return;const t=Dz(e);if(!cCt.has(t.protocol.toLowerCase()))throw new Fr(`Expected a valid url, got ${JSON.stringify(e)} (invalid protocol)`)}),uCt=new Set(["http:","https:","data:","asset:"]),Fh=or.check(e=>{if(e==="")return;const t=Dz(e);if(!uCt.has(t.protocol.toLowerCase()))throw new Fr(`Expected a valid url, got ${JSON.stringify(e)} (invalid protocol)`)});or.check(e=>{if(e==="")return;if(!Dz(e).protocol.toLowerCase().match(/^https?:$/))throw new Fr(`Expected a valid url, got ${JSON.stringify(e)} (invalid protocol)`)});const jz=or.refine(e=>{try{return USt(e),e}catch{throw new Fr(`Expected an index key, got ${JSON.stringify(e)}`)}});hf("@tldraw/validate","3.9.0","esm");function Bs(e){return or.refine(t=>{if(!t.startsWith(`${e}:`))throw new Error(`${e} ID must start with "${e}:"`);return t})}const XB=Bs("asset");function Lz(e,t){return Er({id:XB,typeName:sa("asset"),type:sa(e),props:t,meta:_o})}const kh=Er({x:Yt,y:Yt,z:Yt.optional()}),k0=Er({x:Yt,y:Yt,w:Yt,h:Yt}),OUe=Yt.check(e=>{if(e<0||e>1)throw new Fr("Opacity must be between 0 and 1")}),dCt=or.refine(e=>{if(!e.startsWith("page:")&&!e.startsWith("shape:"))throw new Error('Parent ID must start with "page:" or "shape:"');return e}),il=Bs("shape");function ACt(e,t,r){return Er({id:il,typeName:sa("shape"),x:Yt,y:Yt,rotation:Yt,index:jz,parentId:dCt,type:sa(e),isLocked:Cr,opacity:OUe,props:t?Er(t):_o,meta:r?Er(r):_o})}const fCt=Bs("binding");function hCt(e,t,r){return Er({id:fCt,typeName:sa("binding"),type:sa(e),fromId:il,toId:il,props:t?Er(t):_o,meta:r?Er(r):_o})}is("com.tldraw.binding",{});Us({sequenceId:"com.tldraw.binding",recordType:"binding",sequence:[]});function Ch(e){return`binding:${tn()}`}function pCt(e){return Bu("binding",{scope:"document",validator:Pu("binding",Uz("type",Fb(e,(t,{props:r,meta:n})=>hCt(t,r,n))))}).withDefaultProperties(()=>({meta:{}}))}class Mo{constructor(t,r,n){this.id=t,this.defaultValue=r,this.type=n}static define(t,r){const{defaultValue:n,type:i=oCt}=r;return new Mo(t,n,i)}static defineEnum(t,r){const{defaultValue:n,values:i}=r;return new gCt(t,n,i)}setDefaultValue(t){this.defaultValue=t}validate(t){return this.type.validate(t)}validateUsingKnownGoodVersion(t,r){return this.type.validateUsingKnownGoodVersion?this.type.validateUsingKnownGoodVersion(t,r):this.validate(r)}}class gCt extends Mo{constructor(t,r,n){super(t,r,YB(...n)),this.values=n}}const b1=is("com.tldraw.shape",{AddIsLocked:1,HoistOpacity:2,AddMeta:3,AddWhite:4}),mCt=Us({sequenceId:"com.tldraw.shape",recordType:"shape",sequence:[{id:b1.AddIsLocked,up:e=>{e.isLocked=!1},down:e=>{delete e.isLocked}},{id:b1.HoistOpacity,up:e=>{e.opacity=Number(e.props.opacity??"1"),delete e.props.opacity},down:e=>{const t=e.opacity;delete e.opacity,e.props.opacity=t<.175?"0.1":t<.375?"0.25":t<.625?"0.5":t<.875?"0.75":"1"}},{id:b1.AddMeta,up:e=>{e.meta={}}},{id:b1.AddWhite,up:e=>{},down:e=>{e.props.color==="white"&&(e.props.color="black")}}]});function Og(e){return e?e.typeName==="shape":!1}function Wa(e){return e?e.startsWith("shape:"):!1}function cn(e){return`shape:${e??tn()}`}function RUe(e){const t=new Map;for(const[r,n]of Object.entries(e))if(n instanceof Mo){if(t.has(n))throw new Error(`Duplicate style prop ${n.id}. Each style prop can only be used once within a shape.`);t.set(n,r)}return t}function gc(e,t){return Fb(t,(r,n)=>`com.tldraw.shape.${e}/${n}`)}function vCt(e){return Bu("shape",{scope:"document",validator:Pu("shape",Uz("type",Fb(e,(t,{props:r,meta:n})=>ACt(t,r,n))))}).withDefaultProperties(()=>({x:0,y:0,rotation:0,isLocked:!1,opacity:1,meta:{}}))}function Doe(e,t){const r=[];for(const[n,{migrations:i}]of Object.entries(t)){const o=`com.tldraw.${e}.${n}`;i?"sequenceId"in i?(vr(o===i.sequenceId,`sequenceId mismatch for ${n} ${WB} migrations. Expected '${o}', got '${i.sequenceId}'`),r.push(i)):"sequence"in i?r.push(Hg({sequenceId:o,retroactive:!1,sequence:i.sequence.map(a=>"id"in a?MUe(e,n,a):a)})):r.push(Hg({sequenceId:o,retroactive:!1,sequence:Object.keys(i.migrators).map(a=>Number(a)).sort((a,s)=>a-s).map(a=>({id:`${o}/${a}`,scope:"record",filter:s=>s.typeName===e&&s.type===n,up:s=>{const l=i.migrators[a].up(s);if(l)return l},down:s=>{const l=i.migrators[a].down(s);if(l)return l}}))})):r.push(Hg({sequenceId:o,retroactive:!1,sequence:[]}))}return r}function MUe(e,t,r){return{id:r.id,dependsOn:r.dependsOn,scope:"record",filter:n=>n.typeName===e&&n.type===t,up:n=>{const i=r.up(n.props);i&&(n.props=i)},down:typeof r.down=="function"?n=>{const i=r.down(n.props);i&&(n.props=i)}:void 0}}const FUe=["black","grey","light-violet","violet","blue","light-blue","yellow","orange","green","light-green","light-red","red","white"],UE={lightMode:{id:"light",text:"#000000",background:"rgb(249, 250, 251)",solid:"#fcfffe",black:{solid:"#1d1d1d",fill:"#1d1d1d",note:{fill:"#FCE19C",text:"#000000"},semi:"#e8e8e8",pattern:"#494949",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},blue:{solid:"#4465e9",fill:"#4465e9",note:{fill:"#8AA3FF",text:"#000000"},semi:"#dce1f8",pattern:"#6681ee",highlight:{srgb:"#10acff",p3:"color(display-p3 0.308 0.6632 0.9996)"}},green:{solid:"#099268",fill:"#099268",note:{fill:"#6FC896",text:"#000000"},semi:"#d3e9e3",pattern:"#39a785",highlight:{srgb:"#00ffc8",p3:"color(display-p3 0.2536 0.984 0.7981)"}},grey:{solid:"#9fa8b2",fill:"#9fa8b2",note:{fill:"#C0CAD3",text:"#000000"},semi:"#eceef0",pattern:"#bcc3c9",highlight:{srgb:"#cbe7f1",p3:"color(display-p3 0.8163 0.9023 0.9416)"}},"light-blue":{solid:"#4ba1f1",fill:"#4ba1f1",note:{fill:"#9BC4FD",text:"#000000"},semi:"#ddedfa",pattern:"#6fbbf8",highlight:{srgb:"#00f4ff",p3:"color(display-p3 0.1512 0.9414 0.9996)"}},"light-green":{solid:"#4cb05e",fill:"#4cb05e",note:{fill:"#98D08A",text:"#000000"},semi:"#dbf0e0",pattern:"#65cb78",highlight:{srgb:"#65f641",p3:"color(display-p3 0.563 0.9495 0.3857)"}},"light-red":{solid:"#f87777",fill:"#f87777",note:{fill:"#F7A5A1",text:"#000000"},semi:"#f4dadb",pattern:"#fe9e9e",highlight:{srgb:"#ff7fa3",p3:"color(display-p3 0.9988 0.5301 0.6397)"}},"light-violet":{solid:"#e085f4",fill:"#e085f4",note:{fill:"#DFB0F9",text:"#000000"},semi:"#f5eafa",pattern:"#e9acf8",highlight:{srgb:"#ff88ff",p3:"color(display-p3 0.9676 0.5652 0.9999)"}},orange:{solid:"#e16919",fill:"#e16919",note:{fill:"#FAA475",text:"#000000"},semi:"#f8e2d4",pattern:"#f78438",highlight:{srgb:"#ffa500",p3:"color(display-p3 0.9988 0.6905 0.266)"}},red:{solid:"#e03131",fill:"#e03131",note:{fill:"#FC8282",text:"#000000"},semi:"#f4dadb",pattern:"#e55959",highlight:{srgb:"#ff636e",p3:"color(display-p3 0.9992 0.4376 0.45)"}},violet:{solid:"#ae3ec9",fill:"#ae3ec9",note:{fill:"#DB91FD",text:"#000000"},semi:"#ecdcf2",pattern:"#bd63d3",highlight:{srgb:"#c77cff",p3:"color(display-p3 0.7469 0.5089 0.9995)"}},yellow:{solid:"#f1ac4b",fill:"#f1ac4b",note:{fill:"#FED49A",text:"#000000"},semi:"#f9f0e6",pattern:"#fecb92",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},white:{solid:"#FFFFFF",fill:"#FFFFFF",semi:"#f5f5f5",pattern:"#f9f9f9",note:{fill:"#FFFFFF",text:"#000000"},highlight:{srgb:"#ffffff",p3:"color(display-p3 1 1 1)"}}},darkMode:{id:"dark",text:"hsl(210, 17%, 98%)",background:"hsl(240, 5%, 6.5%)",solid:"#010403",black:{solid:"#f2f2f2",fill:"#f2f2f2",note:{fill:"#2c2c2c",text:"#f2f2f2"},semi:"#2c3036",pattern:"#989898",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},blue:{solid:"#4f72fc",fill:"#4f72fc",note:{fill:"#2A3F98",text:"#f2f2f2"},semi:"#262d40",pattern:"#3a4b9e",highlight:{srgb:"#0079d2",p3:"color(display-p3 0.0032 0.4655 0.7991)"}},green:{solid:"#099268",fill:"#099268",note:{fill:"#014429",text:"#f2f2f2"},semi:"#253231",pattern:"#366a53",highlight:{srgb:"#009774",p3:"color(display-p3 0.0085 0.582 0.4604)"}},grey:{solid:"#9398b0",fill:"#9398b0",note:{fill:"#56595F",text:"#f2f2f2"},semi:"#33373c",pattern:"#7c8187",highlight:{srgb:"#9cb4cb",p3:"color(display-p3 0.6299 0.7012 0.7856)"}},"light-blue":{solid:"#4dabf7",fill:"#4dabf7",note:{fill:"#1F5495",text:"#f2f2f2"},semi:"#2a3642",pattern:"#4d7aa9",highlight:{srgb:"#00bdc8",p3:"color(display-p3 0.0023 0.7259 0.7735)"}},"light-green":{solid:"#40c057",fill:"#40c057",note:{fill:"#21581D",text:"#f2f2f2"},semi:"#2a3830",pattern:"#4e874e",highlight:{srgb:"#00a000",p3:"color(display-p3 0.2711 0.6172 0.0195)"}},"light-red":{solid:"#ff8787",fill:"#ff8787",note:{fill:"#923632",text:"#f2f2f2"},semi:"#3b3235",pattern:"#a56767",highlight:{srgb:"#db005b",p3:"color(display-p3 0.7849 0.0585 0.3589)"}},"light-violet":{solid:"#e599f7",fill:"#e599f7",note:{fill:"#762F8E",text:"#f2f2f2"},semi:"#383442",pattern:"#9770a9",highlight:{srgb:"#c400c7",p3:"color(display-p3 0.7024 0.0403 0.753)"}},orange:{solid:"#f76707",fill:"#f76707",note:{fill:"#843906",text:"#f2f2f2"},semi:"#3a2e2a",pattern:"#9f552d",highlight:{srgb:"#d07a00",p3:"color(display-p3 0.7699 0.4937 0.0085)"}},red:{solid:"#e03131",fill:"#e03131",note:{fill:"#89231A",text:"#f2f2f2"},semi:"#36292b",pattern:"#8f3734",highlight:{srgb:"#de002c",p3:"color(display-p3 0.7978 0.0509 0.2035)"}},violet:{solid:"#ae3ec9",fill:"#ae3ec9",note:{fill:"#681683",text:"#f2f2f2"},semi:"#31293c",pattern:"#763a8b",highlight:{srgb:"#9e00ee",p3:"color(display-p3 0.5651 0.0079 0.8986)"}},yellow:{solid:"#ffc034",fill:"#ffc034",note:{fill:"#98571B",text:"#f2f2f2"},semi:"#3c3934",pattern:"#fecb92",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},white:{solid:"#f3f3f3",fill:"#f3f3f3",semi:"#f5f5f5",pattern:"#f9f9f9",note:{fill:"#eaeaea",text:"#1d1d1d"},highlight:{srgb:"#ffffff",p3:"color(display-p3 1 1 1)"}}}};function Nd(e){return e.isDarkMode?UE.darkMode:UE.lightMode}const Os=Mo.defineEnum("tldraw:color",{defaultValue:"black",values:FUe}),Nz=Mo.defineEnum("tldraw:labelColor",{defaultValue:"black",values:FUe}),Uh=Mo.defineEnum("tldraw:dash",{defaultValue:"draw",values:["draw","solid","dashed","dotted"]}),Dh=Mo.defineEnum("tldraw:fill",{defaultValue:"none",values:["none","semi","solid","pattern","fill"]}),cu=Mo.defineEnum("tldraw:font",{defaultValue:"draw",values:["draw","sans","serif","mono"]}),kUe={draw:"'tldraw_draw', sans-serif",sans:"'tldraw_sans', sans-serif",serif:"'tldraw_serif', serif",mono:"'tldraw_mono', monospace"},uu=Mo.defineEnum("tldraw:size",{defaultValue:"m",values:["s","m","l","xl"]}),UUe=["arrow","triangle","square","dot","pipe","diamond","inverted","bar","none"],DE=Mo.defineEnum("tldraw:arrowheadStart",{defaultValue:"none",values:UUe}),jE=Mo.defineEnum("tldraw:arrowheadEnd",{defaultValue:"arrow",values:UUe}),DUe={labelColor:Nz,color:Os,fill:Dh,dash:Uh,size:uu,arrowheadStart:DE,arrowheadEnd:jE,font:cu,start:kh,end:kh,bend:Yt,text:or,labelPosition:Yt,scale:_i},bg=gc("arrow",{AddLabelColor:1,AddIsPrecise:2,AddLabelPosition:3,ExtractBindings:4,AddScale:5});function x1(e){return MUe("shape","arrow",e)}const jUe=Hg({sequenceId:"com.tldraw.shape.arrow",retroactive:!1,sequence:[x1({id:bg.AddLabelColor,up:e=>{e.labelColor="black"},down:"retired"}),x1({id:bg.AddIsPrecise,up:({start:e,end:t})=>{e.type==="binding"&&(e.isPrecise=!(e.normalizedAnchor.x===.5&&e.normalizedAnchor.y===.5)),t.type==="binding"&&(t.isPrecise=!(t.normalizedAnchor.x===.5&&t.normalizedAnchor.y===.5))},down:({start:e,end:t})=>{e.type==="binding"&&(e.isPrecise||(e.normalizedAnchor={x:.5,y:.5}),delete e.isPrecise),t.type==="binding"&&(t.isPrecise||(t.normalizedAnchor={x:.5,y:.5}),delete t.isPrecise)}}),x1({id:bg.AddLabelPosition,up:e=>{e.labelPosition=.5},down:e=>{delete e.labelPosition}}),{id:bg.ExtractBindings,scope:"store",up:e=>{const t=Object.values(e).filter(r=>r.typeName==="shape"&&r.type==="arrow");for(const r of t){const{start:n,end:i}=r.props;if(n.type==="binding"){const o=Ch(),a={typeName:"binding",id:o,type:"arrow",fromId:r.id,toId:n.boundShapeId,meta:{},props:{terminal:"start",normalizedAnchor:n.normalizedAnchor,isExact:n.isExact,isPrecise:n.isPrecise}};e[o]=a,r.props.start={x:0,y:0}}else delete r.props.start.type;if(i.type==="binding"){const o=Ch(),a={typeName:"binding",id:o,type:"arrow",fromId:r.id,toId:i.boundShapeId,meta:{},props:{terminal:"end",normalizedAnchor:i.normalizedAnchor,isExact:i.isExact,isPrecise:i.isPrecise}};e[o]=a,r.props.end={x:0,y:0}}else delete r.props.end.type}}},x1({id:bg.AddScale,up:e=>{e.scale=1},down:e=>{delete e.scale}})]}),LUe={terminal:YB("start","end"),normalizedAnchor:kh,isExact:Cr,isPrecise:Cr},NUe={sequence:[{dependsOn:[bg.ExtractBindings]}]},yCt=Pu("camera",Er({typeName:sa("camera"),id:Bs("camera"),x:Yt,y:Yt,z:Yt,meta:_o})),wCt=is("com.tldraw.camera",{AddMeta:1}),bCt=Us({sequenceId:"com.tldraw.camera",recordType:"camera",sequence:[{id:wCt.AddMeta,up:e=>{e.meta={}}}]}),Xc=Bu("camera",{validator:yCt,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,z:1,meta:{}})),xCt=new Set(["none","default","pointer","cross","grab","rotate","grabbing","resize-edge","resize-corner","text","move","ew-resize","ns-resize","nesw-resize","nwse-resize","nesw-rotate","nwse-rotate","swne-rotate","senw-rotate","zoom-in","zoom-out"]),$Ue=GB(xCt),SCt=Er({type:$Ue,rotation:Yt}),CCt=new Set(["accent","white","black","selection-stroke","selection-fill","laser","muted-1"]),_Ct=GB(CCt),ECt=new Set(["starting","paused","active","stopping"]),QUe=Er({id:or,points:Co(kh),size:FE,color:_Ct,opacity:Yt,state:GB(ECt),delay:Yt,shrink:Yt,taper:Cr}),Qw=Bs("page"),ICt=Pu("page",Er({typeName:sa("page"),id:Qw,name:or,index:jz,meta:_o})),BCt=is("com.tldraw.page",{AddMeta:1}),PCt=Us({sequenceId:"com.tldraw.page",recordType:"page",sequence:[{id:BCt.AddMeta,up:e=>{e.meta={}}}]}),Rs=Bu("page",{validator:ICt,scope:"document"}).withDefaultProperties(()=>({meta:{}}));function Ha(e){return Rs.isId(e)}const TCt={id:!1,typeName:!1,currentPageId:!1,opacityForNextShape:!1,stylesForNextShape:!1,followingUserId:!1,highlightedUserIds:!1,brush:!1,cursor:!1,scribbles:!1,isFocusMode:!0,isDebugMode:!0,isToolLocked:!0,exportBackground:!0,screenBounds:!0,insets:!0,zoomBrush:!1,chatMessage:!1,isChatting:!1,isPenMode:!1,isGridMode:!0,isFocused:!0,devicePixelRatio:!0,isCoarsePointer:!0,isHoveringCanvas:!1,openMenus:!1,isChangingStyle:!1,isReadonly:!0,meta:!1,duplicateProps:!1};function HUe(e){return e?M0(e,t=>TCt[t]):null}Bs("instance");function OCt(e){const t={};for(const[n,i]of e)t[n]=TUe(i);const r=Pu("instance",Er({typeName:sa("instance"),id:Bs("instance"),currentPageId:Qw,followingUserId:or.nullable(),brush:k0.nullable(),opacityForNextShape:OUe,stylesForNextShape:Er(t),cursor:SCt,scribbles:Co(QUe),isFocusMode:Cr,isDebugMode:Cr,isToolLocked:Cr,exportBackground:Cr,screenBounds:k0,insets:Co(Cr),zoomBrush:k0.nullable(),isPenMode:Cr,isGridMode:Cr,chatMessage:or,isChatting:Cr,highlightedUserIds:Co(or),isFocused:Cr,devicePixelRatio:Yt,isCoarsePointer:Cr,isHoveringCanvas:Cr.nullable(),openMenus:Co(or),isChangingStyle:Cr,isReadonly:Cr,meta:_o,duplicateProps:Er({shapeIds:Co(Bs("shape")),offset:Er({x:Yt,y:Yt})}).nullable()}));return Bu("instance",{validator:r,scope:"session",ephemeralKeys:{currentPageId:!1,meta:!1,followingUserId:!0,opacityForNextShape:!0,stylesForNextShape:!0,brush:!0,cursor:!0,scribbles:!0,isFocusMode:!0,isDebugMode:!0,isToolLocked:!0,exportBackground:!0,screenBounds:!0,insets:!0,zoomBrush:!0,isPenMode:!0,isGridMode:!0,chatMessage:!0,isChatting:!0,highlightedUserIds:!0,isFocused:!0,devicePixelRatio:!0,isCoarsePointer:!0,isHoveringCanvas:!0,openMenus:!0,isChangingStyle:!0,isReadonly:!0,duplicateProps:!0}}).withDefaultProperties(()=>({followingUserId:null,opacityForNextShape:1,stylesForNextShape:{},brush:null,scribbles:[],cursor:{type:"default",rotation:0},isFocusMode:!1,exportBackground:!1,isDebugMode:!1,isToolLocked:!1,screenBounds:{x:0,y:0,w:1080,h:720},insets:[!1,!1,!1,!1],zoomBrush:null,isGridMode:!1,isPenMode:!1,chatMessage:"",isChatting:!1,highlightedUserIds:[],isFocused:!1,devicePixelRatio:typeof window>"u"?1:window.devicePixelRatio,isCoarsePointer:!1,isHoveringCanvas:null,openMenus:[],isChangingStyle:!1,isReadonly:!1,meta:{},duplicateProps:null}))}const Mn=is("com.tldraw.instance",{AddTransparentExportBgs:1,RemoveDialog:2,AddToolLockMode:3,RemoveExtraPropsForNextShape:4,AddLabelColor:5,AddFollowingUserId:6,RemoveAlignJustify:7,AddZoom:8,AddVerticalAlign:9,AddScribbleDelay:10,RemoveUserId:11,AddIsPenModeAndIsGridMode:12,HoistOpacity:13,AddChat:14,AddHighlightedUserIds:15,ReplacePropsForNextShapeWithStylesForNextShape:16,AddMeta:17,RemoveCursorColor:18,AddLonelyProperties:19,ReadOnlyReadonly:20,AddHoveringCanvas:21,AddScribbles:22,AddInset:23,AddDuplicateProps:24,RemoveCanMoveCamera:25}),RCt=Us({sequenceId:"com.tldraw.instance",recordType:"instance",sequence:[{id:Mn.AddTransparentExportBgs,up:e=>({...e,exportBackground:!0})},{id:Mn.RemoveDialog,up:({dialog:e,...t})=>t},{id:Mn.AddToolLockMode,up:e=>({...e,isToolLocked:!1})},{id:Mn.RemoveExtraPropsForNextShape,up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:Object.fromEntries(Object.entries(e).filter(([r])=>["color","labelColor","dash","fill","size","font","align","verticalAlign","icon","geo","arrowheadStart","arrowheadEnd","spline"].includes(r)))})},{id:Mn.AddLabelColor,up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:{...e,labelColor:"black"}})},{id:Mn.AddFollowingUserId,up:e=>({...e,followingUserId:null})},{id:Mn.RemoveAlignJustify,up:e=>{let t=e.propsForNextShape.align;return t==="justify"&&(t="start"),{...e,propsForNextShape:{...e.propsForNextShape,align:t}}}},{id:Mn.AddZoom,up:e=>({...e,zoomBrush:null})},{id:Mn.AddVerticalAlign,up:e=>({...e,propsForNextShape:{...e.propsForNextShape,verticalAlign:"middle"}})},{id:Mn.AddScribbleDelay,up:e=>e.scribble!==null?{...e,scribble:{...e.scribble,delay:0}}:{...e}},{id:Mn.RemoveUserId,up:({userId:e,...t})=>t},{id:Mn.AddIsPenModeAndIsGridMode,up:e=>({...e,isPenMode:!1,isGridMode:!1})},{id:Mn.HoistOpacity,up:({propsForNextShape:{opacity:e,...t},...r})=>({...r,opacityForNextShape:Number(e??"1"),propsForNextShape:t})},{id:Mn.AddChat,up:e=>({...e,chatMessage:"",isChatting:!1})},{id:Mn.AddHighlightedUserIds,up:e=>({...e,highlightedUserIds:[]})},{id:Mn.ReplacePropsForNextShapeWithStylesForNextShape,up:({propsForNextShape:e,...t})=>({...t,stylesForNextShape:{}})},{id:Mn.AddMeta,up:e=>({...e,meta:{}})},{id:Mn.RemoveCursorColor,up:e=>{const{color:t,...r}=e.cursor;return{...e,cursor:r}}},{id:Mn.AddLonelyProperties,up:e=>({...e,canMoveCamera:!0,isFocused:!1,devicePixelRatio:1,isCoarsePointer:!1,openMenus:[],isChangingStyle:!1,isReadOnly:!1})},{id:Mn.ReadOnlyReadonly,up:({isReadOnly:e,...t})=>({...t,isReadonly:e})},{id:Mn.AddHoveringCanvas,up:e=>({...e,isHoveringCanvas:null})},{id:Mn.AddScribbles,up:({scribble:e,...t})=>({...t,scribbles:[]})},{id:Mn.AddInset,up:e=>({...e,insets:[!1,!1,!1,!1]}),down:({insets:e,...t})=>({...t})},{id:Mn.AddDuplicateProps,up:e=>({...e,duplicateProps:null}),down:({duplicateProps:e,...t})=>({...t})},{id:Mn.RemoveCanMoveCamera,up:({canMoveCamera:e,...t})=>({...t}),down:e=>({...e,canMoveCamera:!0})}]}),Sa="instance:instance",MCt=Pu("instance_page_state",Er({typeName:sa("instance_page_state"),id:Bs("instance_page_state"),pageId:Qw,selectedShapeIds:Co(il),hintingShapeIds:Co(il),erasingShapeIds:Co(il),hoveredShapeId:il.nullable(),editingShapeId:il.nullable(),croppingShapeId:il.nullable(),focusedGroupId:il.nullable(),meta:_o})),Ry=is("com.tldraw.instance_page_state",{AddCroppingId:1,RemoveInstanceIdAndCameraId:2,AddMeta:3,RenameProperties:4,RenamePropertiesAgain:5}),FCt=Us({sequenceId:"com.tldraw.instance_page_state",recordType:"instance_page_state",sequence:[{id:Ry.AddCroppingId,up(e){e.croppingShapeId=null}},{id:Ry.RemoveInstanceIdAndCameraId,up(e){delete e.instanceId,delete e.cameraId}},{id:Ry.AddMeta,up:e=>{e.meta={}}},{id:Ry.RenameProperties,up:e=>{},down:e=>{}},{id:Ry.RenamePropertiesAgain,up:e=>{e.selectedShapeIds=e.selectedIds,delete e.selectedIds,e.hintingShapeIds=e.hintingIds,delete e.hintingIds,e.erasingShapeIds=e.erasingIds,delete e.erasingIds,e.hoveredShapeId=e.hoveredId,delete e.hoveredId,e.editingShapeId=e.editingId,delete e.editingId,e.croppingShapeId=e.croppingShapeId??e.croppingId??null,delete e.croppingId,e.focusedGroupId=e.focusLayerId,delete e.focusLayerId},down:e=>{e.selectedIds=e.selectedShapeIds,delete e.selectedShapeIds,e.hintingIds=e.hintingShapeIds,delete e.hintingShapeIds,e.erasingIds=e.erasingShapeIds,delete e.erasingShapeIds,e.hoveredId=e.hoveredShapeId,delete e.hoveredShapeId,e.editingId=e.editingShapeId,delete e.editingShapeId,e.croppingId=e.croppingShapeId,delete e.croppingShapeId,e.focusLayerId=e.focusedGroupId,delete e.focusedGroupId}}]}),tc=Bu("instance_page_state",{validator:MCt,scope:"session",ephemeralKeys:{pageId:!1,selectedShapeIds:!1,editingShapeId:!1,croppingShapeId:!1,meta:!1,hintingShapeIds:!0,erasingShapeIds:!0,hoveredShapeId:!0,focusedGroupId:!0}}).withDefaultProperties(()=>({editingShapeId:null,croppingShapeId:null,selectedShapeIds:[],hoveredShapeId:null,erasingShapeIds:[],hintingShapeIds:[],focusedGroupId:null,meta:{}})),kCt=Pu("pointer",Er({typeName:sa("pointer"),id:Bs("pointer"),x:Yt,y:Yt,lastActivityTimestamp:Yt,meta:_o})),UCt=is("com.tldraw.pointer",{AddMeta:1}),DCt=Us({sequenceId:"com.tldraw.pointer",recordType:"pointer",sequence:[{id:UCt.AddMeta,up:e=>{e.meta={}}}]}),$z=Bu("pointer",{validator:kCt,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,lastActivityTimestamp:0,meta:{}})),LE=$z.createId("pointer"),jCt=Pu("instance_presence",Er({typeName:sa("instance_presence"),id:Bs("instance_presence"),userId:or,userName:or,lastActivityTimestamp:Yt.nullable(),followingUserId:or.nullable(),cursor:Er({x:Yt,y:Yt,type:$Ue,rotation:Yt}).nullable(),color:or,camera:Er({x:Yt,y:Yt,z:Yt}).nullable(),screenBounds:k0.nullable(),selectedShapeIds:Co(Bs("shape")),currentPageId:Bs("page"),brush:k0.nullable(),scribbles:Co(QUe),chatMessage:or,meta:_o})),sg=is("com.tldraw.instance_presence",{AddScribbleDelay:1,RemoveInstanceId:2,AddChatMessage:3,AddMeta:4,RenameSelectedShapeIds:5,NullableCameraCursor:6}),LCt=Us({sequenceId:"com.tldraw.instance_presence",recordType:"instance_presence",sequence:[{id:sg.AddScribbleDelay,up:e=>{e.scribble!==null&&(e.scribble.delay=0)}},{id:sg.RemoveInstanceId,up:e=>{delete e.instanceId}},{id:sg.AddChatMessage,up:e=>{e.chatMessage=""}},{id:sg.AddMeta,up:e=>{e.meta={}}},{id:sg.RenameSelectedShapeIds,up:e=>{}},{id:sg.NullableCameraCursor,up:e=>{},down:e=>{e.camera===null&&(e.camera={x:0,y:0,z:1}),e.lastActivityTimestamp===null&&(e.lastActivityTimestamp=0),e.cursor===null&&(e.cursor={type:"default",x:0,y:0,rotation:0}),e.screenBounds===null&&(e.screenBounds={x:0,y:0,w:1,h:1})}}]}),NCt=Bu("instance_presence",{validator:jCt,scope:"presence"}).withDefaultProperties(()=>({lastActivityTimestamp:null,followingUserId:null,color:"#FF0000",camera:null,cursor:null,screenBounds:null,selectedShapeIds:[],brush:null,scribbles:[],chatMessage:"",meta:{}})),$Ct=Pu("document",Er({typeName:sa("document"),id:sa("document:document"),gridSize:Yt,name:or,meta:_o})),joe=is("com.tldraw.document",{AddName:1,AddMeta:2}),QCt=Us({sequenceId:"com.tldraw.document",recordType:"document",sequence:[{id:joe.AddName,up:e=>{e.name=""},down:e=>{delete e.name}},{id:joe.AddMeta,up:e=>{e.meta={}}}]}),Qz=Bu("document",{validator:$Ct,scope:"document"}).withDefaultProperties(()=>({gridSize:10,name:"",meta:{}})),G3=Qz.createId("document");function HCt(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function Loe(e){e.typeName==="asset"&&("src"in e&&(e.src="<redacted>"),"src"in e.props&&(e.props.src="<redacted>"))}function qCt({error:e,phase:t,record:r,recordBefore:n}){throw lz(e,{tags:{origin:"store.validateRecord",storePhase:t,isExistingValidationIssue:t==="initialize"},extras:{recordBefore:n?Loe(kn(n)):void 0,recordAfter:Loe(kn(r))}}),e}function zCt(){return[Rs.create({id:"page:page",name:"Page 1",index:"a1",meta:{}})]}function KCt(e){const t=e.query.ids("page"),r=e.query.records("instance_page_state"),n=()=>{if(!e.has(G3))return e.put([Qz.create({id:G3,name:e.props.defaultName})]),n();if(!e.has(LE))return e.put([$z.create({id:LE})]),n();const i=t.get();if(i.size===0)return e.put(zCt()),n();const o=()=>[...i].map(u=>e.get(u)).sort(HCt)[0].id,a=e.get(Sa);if(a){if(!i.has(a.currentPageId))return e.put([{...a,currentPageId:o()}]),n()}else return e.put([e.schema.types.instance.create({id:Sa,currentPageId:o(),exportBackground:!0})]),n();const s=new Set,l=new Set;for(const u of i){const d=tc.createId(u);e.get(d)||s.add(d);const f=Xc.createId(u);e.has(f)||l.add(f)}s.size>0&&e.put([...s].map(u=>tc.create({id:u,pageId:tc.parseId(u)}))),l.size>0&&e.put([...l].map(u=>Xc.create({id:u})));const c=r.get();for(const u of c){if(!i.has(u.pageId)){e.remove([u.id]);continue}if(u.croppingShapeId&&!e.has(u.croppingShapeId))return e.put([{...u,croppingShapeId:null}]),n();if(u.focusedGroupId&&!e.has(u.focusedGroupId))return e.put([{...u,focusedGroupId:null}]),n();if(u.hoveredShapeId&&!e.has(u.hoveredShapeId))return e.put([{...u,hoveredShapeId:null}]),n();const d=u.selectedShapeIds.filter(h=>e.has(h));if(d.length!==u.selectedShapeIds.length)return e.put([{...u,selectedShapeIds:d}]),n();const A=u.hintingShapeIds.filter(h=>e.has(h));if(A.length!==u.hintingShapeIds.length)return e.put([{...u,hintingShapeIds:A}]),n();const f=u.erasingShapeIds.filter(h=>e.has(h));if(f.length!==u.erasingShapeIds.length)return e.put([{...u,erasingShapeIds:f}]),n()}};return n}const WCt=Lz("bookmark",Er({title:or,description:or,image:or,favicon:or,src:Fh.nullable()})),Noe=is("com.tldraw.asset.bookmark",{MakeUrlsValid:1,AddFavicon:2}),VCt=Us({sequenceId:"com.tldraw.asset.bookmark",recordType:"asset",filter:e=>e.type==="bookmark",sequence:[{id:Noe.MakeUrlsValid,up:e=>{Fh.isValid(e.props.src)||(e.props.src="")},down:e=>{}},{id:Noe.AddFavicon,up:e=>{Fh.isValid(e.props.favicon)||(e.props.favicon="")},down:e=>{delete e.props.favicon}}]}),GCt=Lz("image",Er({w:Yt,h:Yt,name:or,isAnimated:Cr,mimeType:or.nullable(),src:Fh.nullable(),fileSize:_i.optional()})),My=is("com.tldraw.asset.image",{AddIsAnimated:1,RenameWidthHeight:2,MakeUrlsValid:3,AddFileSize:4,MakeFileSizeOptional:5}),YCt=Us({sequenceId:"com.tldraw.asset.image",recordType:"asset",filter:e=>e.type==="image",sequence:[{id:My.AddIsAnimated,up:e=>{e.props.isAnimated=!1},down:e=>{delete e.props.isAnimated}},{id:My.RenameWidthHeight,up:e=>{e.props.w=e.props.width,e.props.h=e.props.height,delete e.props.width,delete e.props.height},down:e=>{e.props.width=e.props.w,e.props.height=e.props.h,delete e.props.w,delete e.props.h}},{id:My.MakeUrlsValid,up:e=>{Fh.isValid(e.props.src)||(e.props.src="")},down:e=>{}},{id:My.AddFileSize,up:e=>{e.props.fileSize=-1},down:e=>{delete e.props.fileSize}},{id:My.MakeFileSizeOptional,up:e=>{e.props.fileSize===-1&&(e.props.fileSize=void 0)},down:e=>{e.props.fileSize===void 0&&(e.props.fileSize=-1)}}]}),XCt=Lz("video",Er({w:Yt,h:Yt,name:or,isAnimated:Cr,mimeType:or.nullable(),src:Fh.nullable(),fileSize:Yt.optional()})),Fy=is("com.tldraw.asset.video",{AddIsAnimated:1,RenameWidthHeight:2,MakeUrlsValid:3,AddFileSize:4,MakeFileSizeOptional:5}),JCt=Us({sequenceId:"com.tldraw.asset.video",recordType:"asset",filter:e=>e.type==="video",sequence:[{id:Fy.AddIsAnimated,up:e=>{e.props.isAnimated=!1},down:e=>{delete e.props.isAnimated}},{id:Fy.RenameWidthHeight,up:e=>{e.props.w=e.props.width,e.props.h=e.props.height,delete e.props.width,delete e.props.height},down:e=>{e.props.width=e.props.w,e.props.height=e.props.h,delete e.props.w,delete e.props.h}},{id:Fy.MakeUrlsValid,up:e=>{Fh.isValid(e.props.src)||(e.props.src="")},down:e=>{}},{id:Fy.AddFileSize,up:e=>{e.props.fileSize=-1},down:e=>{delete e.props.fileSize}},{id:Fy.MakeFileSizeOptional,up:e=>{e.props.fileSize===-1&&(e.props.fileSize=void 0)},down:e=>{e.props.fileSize===void 0&&(e.props.fileSize=-1)}}]}),ZCt=Pu("asset",Uz("type",{image:GCt,video:XCt,bookmark:WCt})),e_t=is("com.tldraw.asset",{AddMeta:1}),t_t=Us({sequenceId:"com.tldraw.asset",recordType:"asset",sequence:[{id:e_t.AddMeta,up:e=>{e.meta={}}}]}),ef=Bu("asset",{validator:ZCt,scope:"document"}).withDefaultProperties(()=>({meta:{}})),qUe={w:_i,h:_i,assetId:XB.nullable(),url:Ts},$oe=gc("bookmark",{NullAssetId:1,MakeUrlsValid:2}),zUe={sequence:[{id:$oe.NullAssetId,up:e=>{e.assetId===void 0&&(e.assetId=null)},down:"retired"},{id:$oe.MakeUrlsValid,up:e=>{Ts.isValid(e.url)||(e.url="")},down:e=>{}}]},KUe=Er({type:YB("free","straight"),points:Co(kh)}),WUe={color:Os,fill:Dh,dash:Uh,size:uu,segments:Co(KUe),isComplete:Cr,isClosed:Cr,isPen:Cr,scale:_i},Qoe=gc("draw",{AddInPen:1,AddScale:2}),VUe={sequence:[{id:Qoe.AddInPen,up:e=>{const{points:t}=e.segments[0];if(t.length===0){e.isPen=!1;return}let r=!(t[0].z===0||t[0].z===.5);t[1]&&(r=r&&!(t[1].z===0||t[1].z===.5)),e.isPen=r},down:"retired"},{id:Qoe.AddScale,up:e=>{e.scale=1},down:e=>{delete e.scale}}]},r_t=/(^\/r\/[^/]+\/?$)/,n_t=[{hostnames:["beta.tldraw.com","tldraw.com","localhost:3000"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(r_t))return e}},{hostnames:["figma.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/embed\/?$/)){const r=t.searchParams.get("url");if(r)return r}}},{hostnames:["google.*"],fromEmbedUrl:e=>{const t=Zt(e);if(!t)return;if(t.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&t.searchParams.has("center")&&t.searchParams.get("zoom")){const n=t.searchParams.get("zoom"),[i,o]=t.searchParams.get("center").split(",");return`https://www.google.com/maps/@${i},${o},${n}z`}}},{hostnames:["val.town"],fromEmbedUrl:e=>{const t=Zt(e),r=t&&t.pathname.match(/\/embed\/(.+)\/?/);if(r)return`https://www.val.town/v/${r[1]}`}},{hostnames:["codesandbox.io"],fromEmbedUrl:e=>{const t=Zt(e),r=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(r)return`https://codesandbox.io/s/${r[1]}`}},{hostnames:["codepen.io"],fromEmbedUrl:e=>{const t=/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/,r=e.match(t);if(r){const[n,i,o]=r;return`https://codepen.io/${i}/pen/${o}`}}},{hostnames:["scratch.mit.edu"],fromEmbedUrl:e=>{const t=/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/,r=e.match(t);if(r){const[n,i]=r;return`https://scratch.mit.edu/projects/${i}`}}},{hostnames:["*.youtube.com","youtube.com","youtu.be"],fromEmbedUrl:e=>{const t=Zt(e);if(!t)return;if(t.hostname.replace(/^www./,"")==="youtube.com"){const n=t.pathname.match(/^\/embed\/([^/]+)\/?/);if(n)return`https://www.youtube.com/watch?v=${n[1]}`}}},{hostnames:["calendar.google.*"],fromEmbedUrl:e=>{const t=Zt(e),r=t==null?void 0:t.searchParams.get("src");if(t!=null&&t.pathname.match(/\/calendar\/embed/)&&r){t.pathname="/calendar/u/0";const n=Array.from(t.searchParams.keys());for(const i of n)t.searchParams.delete(i);return t.searchParams.set("cid",r),t.href}}},{hostnames:["docs.google.*"],fromEmbedUrl:e=>{const t=Zt(e);if(t!=null&&t.pathname.match(/^\/presentation/)&&(t!=null&&t.pathname.match(/\/embed\/?$/))){t.pathname=t.pathname.replace(/\/embed$/,"/pub");const r=Array.from(t.searchParams.keys());for(const n of r)t.searchParams.delete(n);return t.href}}},{hostnames:["gist.github.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/))return e.split("/").pop()?e:void 0}},{hostnames:["replit.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/)&&t.searchParams.has("embed"))return t.searchParams.delete("embed"),t.href}},{hostnames:["felt.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/embed\/map\//))return t.pathname=t.pathname.replace(/^\/embed/,""),t.href}},{hostnames:["open.spotify.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/embed\/(artist|album)\//))return t.origin+t.pathname.replace(/^\/embed/,"")}},{hostnames:["vimeo.com","player.vimeo.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.hostname==="player.vimeo.com"){const r=t.pathname.match(/^\/video\/([^/]+)\/?$/);if(r)return"https://vimeo.com/"+r[1]}}},{hostnames:["excalidraw.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.hash.match(/#room=/))return e}},{hostnames:["observablehq.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}${t.pathname.replace("/embed","")}#cell-*`;if(t&&t.pathname.match(/^\/embed\/([^/]+)\/?$/))return`${t.origin}${t.pathname.replace("/embed","/d")}#cell-*`}},{hostnames:["desmos.com"],fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.hostname==="www.desmos.com"&&t.pathname.match(/^\/calculator\/([^/]+)\/?$/)&&t.search==="?embed"&&t.hash==="")return e.replace("?embed","")}}],GUe={w:_i,h:_i,url:or},S1=gc("embed",{GenOriginalUrlInEmbed:1,RemoveDoesResize:2,RemoveTmpOldUrl:3,RemovePermissionOverrides:4}),YUe={sequence:[{id:S1.GenOriginalUrlInEmbed,up:e=>{try{const t=e.url,r=new URL(t).host.replace("www.","");let n;for(const i of n_t)if(i.hostnames.includes(r))try{n=i.fromEmbedUrl(t)}catch(o){console.warn(o)}e.tmpOldUrl=e.url,e.url=n??""}catch{e.url="",e.tmpOldUrl=e.url}},down:"retired"},{id:S1.RemoveDoesResize,up:e=>{delete e.doesResize},down:"retired"},{id:S1.RemoveTmpOldUrl,up:e=>{delete e.tmpOldUrl},down:"retired"},{id:S1.RemovePermissionOverrides,up:e=>{delete e.overridePermissions},down:"retired"}]},XUe={w:_i,h:_i,name:or},JUe={sequence:[]},NE=Mo.defineEnum("tldraw:horizontalAlign",{defaultValue:"middle",values:["start","middle","end","start-legacy","end-legacy","middle-legacy"]}),$E=Mo.defineEnum("tldraw:verticalAlign",{defaultValue:"middle",values:["start","middle","end"]}),rc=Mo.defineEnum("tldraw:geo",{defaultValue:"rectangle",values:["cloud","rectangle","ellipse","triangle","diamond","pentagon","hexagon","octagon","star","rhombus","rhombus-2","oval","trapezoid","arrow-right","arrow-left","arrow-up","arrow-down","x-box","check-box","heart"]}),ZUe={geo:rc,labelColor:Nz,color:Os,fill:Dh,dash:Uh,size:uu,font:cu,align:NE,verticalAlign:$E,url:Ts,w:_i,h:_i,growY:FE,text:or,scale:_i},Yu=gc("geo",{AddUrlProp:1,AddLabelColor:2,RemoveJustify:3,AddCheckBox:4,AddVerticalAlign:5,MigrateLegacyAlign:6,AddCloud:7,MakeUrlsValid:8,AddScale:9}),eDe={sequence:[{id:Yu.AddUrlProp,up:e=>{e.url=""},down:"retired"},{id:Yu.AddLabelColor,up:e=>{e.labelColor="black"},down:"retired"},{id:Yu.RemoveJustify,up:e=>{e.align==="justify"&&(e.align="start")},down:"retired"},{id:Yu.AddCheckBox,up:e=>{},down:"retired"},{id:Yu.AddVerticalAlign,up:e=>{e.verticalAlign="middle"},down:"retired"},{id:Yu.MigrateLegacyAlign,up:e=>{let t;switch(e.align){case"start":t="start-legacy";break;case"end":t="end-legacy";break;default:t="middle-legacy";break}e.align=t},down:"retired"},{id:Yu.AddCloud,up:e=>{},down:"retired"},{id:Yu.MakeUrlsValid,up:e=>{Ts.isValid(e.url)||(e.url="")},down:e=>{}},{id:Yu.AddScale,up:e=>{e.scale=1},down:e=>{delete e.scale}}]},tDe={},rDe={sequence:[]},nDe={color:Os,size:uu,segments:Co(KUe),isComplete:Cr,isPen:Cr,scale:_i},i_t=gc("highlight",{AddScale:1}),iDe={sequence:[{id:i_t.AddScale,up:e=>{e.scale=1},down:e=>{delete e.scale}}]},o_t=Er({topLeft:kh,bottomRight:kh}),oDe={w:_i,h:_i,playing:Cr,url:Ts,assetId:XB.nullable(),crop:o_t.nullable(),flipX:Cr,flipY:Cr},C1=gc("image",{AddUrlProp:1,AddCropProp:2,MakeUrlsValid:3,AddFlipProps:4}),aDe={sequence:[{id:C1.AddUrlProp,up:e=>{e.url=""},down:"retired"},{id:C1.AddCropProp,up:e=>{e.crop=null},down:e=>{delete e.crop}},{id:C1.MakeUrlsValid,up:e=>{Ts.isValid(e.url)||(e.url="")},down:e=>{}},{id:C1.AddFlipProps,up:e=>{e.flipX=!1,e.flipY=!1},down:e=>{delete e.flipX,delete e.flipY}}]},QE=Mo.defineEnum("tldraw:spline",{defaultValue:"line",values:["cubic","line"]}),a_t=Er({id:or,index:jz,x:Yt,y:Yt}),sDe={color:Os,dash:Uh,size:uu,spline:QE,points:kE(or,a_t),scale:_i},ky=gc("line",{AddSnapHandles:1,RemoveExtraHandleProps:2,HandlesToPoints:3,PointIndexIds:4,AddScale:5}),lDe={sequence:[{id:ky.AddSnapHandles,up:e=>{for(const t of Object.values(e.handles))t.canSnap=!0},down:"retired"},{id:ky.RemoveExtraHandleProps,up:e=>{e.handles=Cke(Object.values(e.handles).map(t=>[t.index,{x:t.x,y:t.y}]))},down:e=>{const t=Object.entries(e.handles).map(([r,n])=>({index:r,...n})).sort(ta);e.handles=Object.fromEntries(t.map((r,n)=>{const i=n===0?"start":n===t.length-1?"end":`handle:${r.index}`;return[i,{id:i,type:"vertex",canBind:!1,canSnap:!0,index:r.index,x:r.x,y:r.y}]}))}},{id:ky.HandlesToPoints,up:e=>{const t=Object.entries(e.handles).map(([r,{x:n,y:i}])=>({x:n,y:i,index:r})).sort(ta);e.points=t.map(({x:r,y:n})=>({x:r,y:n})),delete e.handles},down:e=>{const t=$w(e.points.length);e.handles=Object.fromEntries(e.points.map((r,n)=>[t[n],{x:r.x,y:r.y}])),delete e.points}},{id:ky.PointIndexIds,up:e=>{const t=$w(e.points.length);e.points=Object.fromEntries(e.points.map((r,n)=>{const i=t[n];return[i,{id:i,index:i,x:r.x,y:r.y}]}))},down:e=>{const t=Object.values(e.points).sort(ta);e.points=t.map(({x:r,y:n})=>({x:r,y:n}))}},{id:ky.AddScale,up:e=>{e.scale=1},down:e=>{delete e.scale}}]},cDe={color:Os,labelColor:Nz,size:uu,font:cu,fontSizeAdjustment:FE,align:NE,verticalAlign:$E,growY:FE,url:Ts,text:or,scale:_i},pA=gc("note",{AddUrlProp:1,RemoveJustify:2,MigrateLegacyAlign:3,AddVerticalAlign:4,MakeUrlsValid:5,AddFontSizeAdjustment:6,AddScale:7,AddLabelColor:8}),uDe={sequence:[{id:pA.AddUrlProp,up:e=>{e.url=""},down:"retired"},{id:pA.RemoveJustify,up:e=>{e.align==="justify"&&(e.align="start")},down:"retired"},{id:pA.MigrateLegacyAlign,up:e=>{switch(e.align){case"start":e.align="start-legacy";return;case"end":e.align="end-legacy";return;default:e.align="middle-legacy";return}},down:"retired"},{id:pA.AddVerticalAlign,up:e=>{e.verticalAlign="middle"},down:"retired"},{id:pA.MakeUrlsValid,up:e=>{Ts.isValid(e.url)||(e.url="")},down:e=>{}},{id:pA.AddFontSizeAdjustment,up:e=>{e.fontSizeAdjustment=0},down:e=>{delete e.fontSizeAdjustment}},{id:pA.AddScale,up:e=>{e.scale=1},down:e=>{delete e.scale}},{id:pA.AddLabelColor,up:e=>{e.labelColor="black"},down:e=>{delete e.labelColor}}]},Y3=Mo.defineEnum("tldraw:textAlign",{defaultValue:"start",values:["start","middle","end"]}),dDe={color:Os,size:uu,font:cu,textAlign:Y3,w:_i,text:or,scale:_i,autoSize:Cr},Hoe=gc("text",{RemoveJustify:1,AddTextAlign:2}),ADe={sequence:[{id:Hoe.RemoveJustify,up:e=>{e.align==="justify"&&(e.align="start")},down:"retired"},{id:Hoe.AddTextAlign,up:e=>{e.textAlign=e.align,delete e.align},down:e=>{e.align=e.textAlign,delete e.textAlign}}]},fDe={w:_i,h:_i,time:Yt,playing:Cr,url:Ts,assetId:XB.nullable()},qoe=gc("video",{AddUrlProp:1,MakeUrlsValid:2}),hDe={sequence:[{id:qoe.AddUrlProp,up:e=>{e.url=""},down:"retired"},{id:qoe.MakeUrlsValid,up:e=>{Ts.isValid(e.url)||(e.url="")},down:e=>{}}]},_1=is("com.tldraw.store",{RemoveCodeAndIconShapeTypes:1,AddInstancePresenceType:2,RemoveTLUserAndPresenceAndAddPointer:3,RemoveUserDocument:4}),s_t=Hg({sequenceId:"com.tldraw.store",retroactive:!1,sequence:[{id:_1.RemoveCodeAndIconShapeTypes,scope:"store",up:e=>{for(const[t,r]of _s(e))r.typeName==="shape"&&(r.type==="icon"||r.type==="code")&&delete e[t]}},{id:_1.AddInstancePresenceType,scope:"store",up(e){}},{id:_1.RemoveTLUserAndPresenceAndAddPointer,scope:"store",up:e=>{for(const[t,r]of _s(e))r.typeName.match(/^(user|user_presence)$/)&&delete e[t]}},{id:_1.RemoveUserDocument,scope:"store",up:e=>{for(const[t,r]of _s(e))r.typeName.match("user_document")&&delete e[t]}}]}),l_t={arrow:{migrations:jUe,props:DUe},bookmark:{migrations:zUe,props:qUe},draw:{migrations:VUe,props:WUe},embed:{migrations:YUe,props:GUe},frame:{migrations:JUe,props:XUe},geo:{migrations:eDe,props:ZUe},group:{migrations:rDe,props:tDe},highlight:{migrations:iDe,props:nDe},image:{migrations:aDe,props:oDe},line:{migrations:lDe,props:sDe},note:{migrations:uDe,props:cDe},text:{migrations:ADe,props:dDe},video:{migrations:hDe,props:fDe}},c_t={arrow:{migrations:NUe,props:LUe}};function u_t({shapes:e=l_t,bindings:t=c_t,migrations:r}={}){const n=new Map;for(const s of Fi(e))for(const l of RUe(s.props??{}).keys()){if(n.has(l.id)&&n.get(l.id)!==l)throw new Error(`Multiple StyleProp instances with the same id: ${l.id}`);n.set(l.id,l)}const i=vCt(e),o=pCt(t),a=OCt(n);return Fz.create({asset:ef,binding:o,camera:Xc,document:Qz,instance:a,instance_page_state:tc,page:Rs,instance_presence:NCt,pointer:$z,shape:i},{migrations:[s_t,t_t,bCt,QCt,RCt,FCt,PCt,LCt,DCt,mCt,VCt,YCt,JCt,...Doe("shape",e),...Doe("binding",t),...r??[]],onValidationFailure:qCt,createIntegrityChecker:KCt})}const Hw=[{locale:"id",label:"Bahasa Indonesia"},{locale:"ms",label:"Bahasa Melayu"},{locale:"ca",label:"Catal"},{locale:"cs",label:"etina"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Espaol"},{locale:"tl",label:"Filipino"},{locale:"fr",label:"Franais"},{locale:"gl",label:"Galego"},{locale:"hr",label:"Hrvatski"},{locale:"it",label:"Italiano"},{locale:"hu",label:"Magyar"},{locale:"nl",label:"Nederlands"},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Portugus - Brasil"},{locale:"pt-pt",label:"Portugus - Europeu"},{locale:"ro",label:"Romn"},{locale:"sl",label:"Slovenina"},{locale:"so",label:"Somali"},{locale:"fi",label:"Suomi"},{locale:"sv",label:"Svenska"},{locale:"vi",label:"Ting Vit"},{locale:"tr",label:"Trke"},{locale:"el",label:""},{locale:"ru",label:""},{locale:"uk",label:""},{locale:"he",label:""},{locale:"ur",label:""},{locale:"ar",label:""},{locale:"fa",label:""},{locale:"ne",label:""},{locale:"mr",label:""},{locale:"hi-in",label:""},{locale:"bn",label:""},{locale:"pa",label:""},{locale:"gu-in",label:""},{locale:"ta",label:""},{locale:"te",label:""},{locale:"kn",label:""},{locale:"ml",label:""},{locale:"th",label:""},{locale:"km-kh",label:""},{locale:"ko-kr",label:""},{locale:"ja",label:""},{locale:"zh-cn",label:""},{locale:"zh-tw",label:" ()"}];function d_t(){const e=typeof window<"u"?window.navigator.languages??["en"]:["en"];return A_t(e)}function A_t(e){for(const t of e){const r=f_t(t);if(r)return r}return"en"}const zoe={zh:"zh-cn",pt:"pt-br",ko:"ko-kr",hi:"hi-in"};function f_t(e){const t=Hw.find(i=>i.locale===e.toLowerCase());if(t)return t.locale;const[r,n]=e.split(/[-_]/).map(i=>i.toLowerCase());if(n){const i=Hw.find(o=>o.locale===r);if(i)return i.locale}return r in zoe?zoe[r]:null}hf("@tldraw/tlschema","3.9.0","esm");var rj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Koe;function h_t(){return Koe||(Koe=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,n(s)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(rj)),rj.exports}var p_t=h_t();const jt=kr(p_t),pDe="3.9.0",Woe={major:"2024-09-13T14:36:29.063Z",minor:"2025-03-03T11:42:22.746Z"},g_t={error:null};class Hz extends I.Component{constructor(){super(...arguments);K(this,"state",g_t)}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r){var n,i;(i=(n=this.props).onError)==null||i.call(n,r)}render(){const{error:r}=this.state;if(r!==null){const{fallback:n}=this.props;return m.jsx(n,{error:r})}return this.props.children}}function qw({children:e,fallback:t,...r}){return t===null?e:m.jsx(Hz,{fallback:t,...r,children:e})}function qz(e,t){return JB(`${e}_${t}`)}function sv(e){return JB(`${I.useId()}${e??""}`)}function ic(e){const t=Va(I.useContext(gDe));return JB(`${t}_${e}`)}function JB(e){return e.replace(/:/g,"_")}const gDe=I.createContext(null);function m_t({children:e}){const t=sv();return m.jsx(gDe.Provider,{value:t,children:e})}const zz=I.createContext(null);function Ee(){const e=ue.useContext(zz);if(!e)throw new Error("useEditor must be used inside of the <Tldraw /> or <TldrawEditor /> components");return e}function yf(){return ue.useContext(zz)}function Kz({editor:e,children:t}){return m.jsx(zz.Provider,{value:e,children:m.jsx(m_t,{children:t})})}function v_t(){return m.jsx("div",{className:"tl-background"})}function lv(e,t,r,n,i,o){I.useLayoutEffect(()=>{const a=e.current;if(!a||t===void 0)return;let s=`translate(${t}px, ${r}px)`;n!==void 0&&(s+=` scale(${n})`),i!==void 0&&(s+=` rotate(${i}rad)`),o&&(s+=` translate(${o.x}px, ${o.y}px)`),a.style.transform=s})}const nj=({brush:e,color:t,opacity:r,className:n})=>{const i=I.useRef(null);lv(i,e.x,e.y);const o=_e(Math.max(1,e.w)),a=_e(Math.max(1,e.h));return m.jsx("svg",{className:"tl-overlays__item",ref:i,children:t?m.jsxs("g",{className:"tl-brush",opacity:r,children:[m.jsx("rect",{width:o,height:a,fill:t,opacity:.75}),m.jsx("rect",{width:o,height:a,fill:"none",stroke:t,opacity:.1})]}):m.jsx("rect",{className:`tl-brush tl-brush__default ${n}`,width:o,height:a})})},an={isSafari:!1,isIos:!1,isChromeForIos:!1,isFirefox:!1,isAndroid:!1,isWebview:!1,isDarwin:!1,hasCanvasSupport:!1};typeof window<"u"&&"navigator"in window&&(an.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),an.isIos=!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i),an.isChromeForIos=/crios.*safari/i.test(navigator.userAgent),an.isFirefox=/firefox/i.test(navigator.userAgent),an.isAndroid=/android/i.test(navigator.userAgent),an.isDarwin=window.navigator.userAgent.toLowerCase().indexOf("mac")>-1,an.hasCanvasSupport=typeof window<"u"&&"Promise"in window&&"HTMLCanvasElement"in window);const Voe={isLocked:!1,wheelBehavior:"pan",panSpeed:1,zoomSpeed:1,zoomSteps:[.1,.25,.5,1,2,4,8]},ij={duration:0,easing:so.easeInOutCubic},Goe={CAMERA_MOVE:-10},y_t=["top","right","bottom","left"],Yoe=0,Wz=2,E1=1,Xoe=5,w_t=128;var oj={};const b_t={},mDe=Qa("pointerCaptureTrackingObject",{defaults:{all:new Map},shouldStoreForSession:!1}),xi={logPreventDefaults:Qa("logPreventDefaults",{defaults:{all:!1}}),logPointerCaptures:Qa("logPointerCaptures",{defaults:{all:!1}}),logElementRemoves:Qa("logElementRemoves",{defaults:{all:!1}}),debugSvg:Qa("debugSvg",{defaults:{all:!1}}),showFps:Qa("showFps",{defaults:{all:!1}}),measurePerformance:Qa("measurePerformance",{defaults:{all:!1}}),throwToBlob:Qa("throwToBlob",{defaults:{all:!1}}),reconnectOnPing:Qa("reconnectOnPing",{defaults:{all:!1}}),debugCursors:Qa("debugCursors",{defaults:{all:!1}}),forceSrgb:Qa("forceSrgbColors",{defaults:{all:!1}}),debugGeometry:Qa("debugGeometry",{defaults:{all:!1}}),hideShapes:Qa("hideShapes",{defaults:{all:!1}}),editOnType:Qa("editOnType",{defaults:{all:!1}})};if(typeof Element<"u"){const e=Element.prototype.removeChild;iu("element removal logging",()=>{xi.logElementRemoves.get()?Element.prototype.removeChild=function(t){return console.warn("[tldraw] removing child:",t),e.call(this,t)}:Element.prototype.removeChild=e})}function Qa(e,{defaults:t,shouldStoreForSession:r=!0}){return x_t({name:e,defaults:t,shouldStoreForSession:r})}function x_t(e){const t=C_t(e),r=e.shouldStoreForSession?S_t(e.name):null,n=Ci(`debug:${e.name}`,r??t);return typeof window<"u"&&(e.shouldStoreForSession&&iu(`debug:${e.name}`,()=>{const i=n.get();i===t?Lke(`tldraw_debug:${e.name}`):pz(`tldraw_debug:${e.name}`,JSON.stringify(i))}),Object.defineProperty(window,`tldraw${e.name.replace(/^[a-z]/,i=>i.toUpperCase())}`,{get(){return n.get()},set(i){n.set(i)},configurable:!0})),Object.assign(n,e)}function S_t(e){try{return JSON.parse(jke(`tldraw_debug:${e}`)??"null")}catch{return null}}function aj(e){try{return e()}catch{return null}}function C_t(e){switch(aj(()=>oj.TLDRAW_ENV)??aj(()=>oj.VERCEL_PUBLIC_TLDRAW_ENV)??aj(()=>oj.NEXT_PUBLIC_TLDRAW_ENV)??"production"){case"production":return e.defaults.production??e.defaults.all;case"preview":case"staging":return e.defaults.staging??e.defaults.all;default:return e.defaults.development??e.defaults.all}}function HE(e){if(e instanceof HTMLElement)return e;if(e.parentElement)return HE(e.parentElement);throw Error("Could not find a parent element of an HTML type!")}function hr(e){e.preventDefault(),xi.logPreventDefaults.get()&&console.warn("preventDefault called on event:",e)}function qb(e,t){if(e.setPointerCapture(t.pointerId),xi.logPointerCaptures.get()){const r=mDe.get();r.set(e,(r.get(e)??0)+1),console.warn("setPointerCapture called on element:",e,t)}}function zb(e,t){if(e.hasPointerCapture(t.pointerId)&&(e.releasePointerCapture(t.pointerId),xi.logPointerCaptures.get())){const r=mDe.get();r.get(e)===1?r.delete(e):r.has(e)?r.set(e,r.get(e)-1):console.warn("Release without capture"),console.warn("releasePointerCapture called on element:",e,t)}}const Ei=e=>e.stopPropagation(),zo=(e,t,r)=>{e&&e.style.setProperty(t,r)},__t=["input","select","button","textarea"];function vDe(){const{activeElement:e}=document;return!!(e&&(e.getAttribute("contenteditable")||__t.indexOf(e.tagName.toLowerCase())>-1))}const ra=e=>an.isDarwin?e.metaKey:e.ctrlKey||e.metaKey;function xs(e){return e.isKilled=!0,{point:{x:e.clientX,y:e.clientY,z:e.pressure},shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey,metaKey:e.metaKey,accelKey:ra(e),pointerId:e.pointerId,button:e.button,isPen:e.pointerType==="pen"}}function Vz(){const e=Ee();return I.useMemo(function(){let n,i;function o(p){if(!p.isKilled){if(p.button===Wz){e.dispatch({type:"pointer",target:"canvas",name:"right_click",...xs(p)});return}p.button!==0&&p.button!==1&&p.button!==5||(qb(p.currentTarget,p),e.dispatch({type:"pointer",target:"canvas",name:"pointer_down",...xs(p)}))}}function a(p){p.isKilled||p.clientX===n&&p.clientY===i||(n=p.clientX,i=p.clientY,e.dispatch({type:"pointer",target:"canvas",name:"pointer_move",...xs(p)}))}function s(p){p.isKilled||p.button!==0&&p.button!==1&&p.button!==2&&p.button!==5||(n=p.clientX,i=p.clientY,zb(p.currentTarget,p),e.dispatch({type:"pointer",target:"canvas",name:"pointer_up",...xs(p)}))}function l(p){if(p.isKilled||e.getInstanceState().isPenMode&&p.pointerType!=="pen")return;const v=p.pointerType==="mouse"||p.pointerType==="pen";e.updateInstanceState({isHoveringCanvas:v?!0:null})}function c(p){if(p.isKilled||e.getInstanceState().isPenMode&&p.pointerType!=="pen")return;const v=p.pointerType==="mouse"||p.pointerType==="pen";e.updateInstanceState({isHoveringCanvas:v?!1:null})}function u(p){p.isKilled=!0,hr(p)}function d(p){p.isKilled=!0,p.target instanceof HTMLElement&&p.target.tagName!=="A"&&p.target.tagName!=="TEXTAREA"&&!(e.getEditingShape()&&p.target.className.includes("tl-text-content"))&&hr(p)}function A(p){hr(p)}async function f(p){var y,b;if(hr(p),Ei(p),(b=(y=p.dataTransfer)==null?void 0:y.files)!=null&&b.length){const x=Array.from(p.dataTransfer.files);await e.putExternalContent({type:"files",files:x,point:e.screenToPage({x:p.clientX,y:p.clientY}),ignoreParent:!1});return}const v=p.dataTransfer.getData("url");if(v){await e.putExternalContent({type:"url",url:v,point:e.screenToPage({x:p.clientX,y:p.clientY})});return}}function h(p){Ei(p)}return{onPointerDown:o,onPointerMove:a,onPointerUp:s,onPointerEnter:l,onPointerLeave:c,onDragOver:A,onDrop:f,onTouchStart:u,onTouchEnd:d,onClick:h}},[e])}function E_t(){const e=Ee();I.useEffect(()=>{let t=e.getInstanceState().isCoarsePointer;const r=a=>{const s=a.pointerType!=="mouse";t!==s&&(t=s,e.updateInstanceState({isCoarsePointer:s}))};window.addEventListener("pointerdown",r,{capture:!0});const n=window.matchMedia&&window.matchMedia("(any-pointer: coarse)"),i=an.isFirefox&&!an.isAndroid&&!an.isIos,o=()=>{const a=i?!1:n.matches;t===a&&(t=a,e.updateInstanceState({isCoarsePointer:a}))};return n&&(n.addEventListener("change",o),o()),()=>{window.removeEventListener("pointerdown",r,{capture:!0}),n&&n.removeEventListener("change",o)}},[e])}const yDe=I.createContext(null);function wDe({container:e,children:t}){return m.jsx(yDe.Provider,{value:e,children:t})}function Yi(){return Va(I.useContext(yDe),"useContainer used outside of <Tldraw />")}function I_t(){const e=Ee(),t=Yi(),r=Re("isFocused",()=>e.getIsFocused(),[e]);I.useEffect(()=>{if(!t)return;function n(i){if(i.isSpecialRedispatchedEvent)return;hr(i),Ei(i);const o=t.querySelector(".tl-canvas");if(!o)return;const a=new DragEvent(i.type,i);a.isSpecialRedispatchedEvent=!0,o.dispatchEvent(a)}return t.addEventListener("dragover",n),t.addEventListener("drop",n),()=>{t.removeEventListener("dragover",n),t.removeEventListener("drop",n)}},[t]),I.useEffect(()=>{if(typeof window>"u"||!("matchMedia"in window))return;let n=null;const i=()=>{n!=null&&n();const o=`(resolution: ${window.devicePixelRatio}dppx)`,a=matchMedia(o),s=l=>{l.type==="change"&&i()};a.addEventListener?a.addEventListener("change",i):a.addListener&&a.addListener(s),n=()=>{a.removeEventListener?a.removeEventListener("change",i):a.removeListener&&a.removeListener(s)},e.updateInstanceState({devicePixelRatio:window.devicePixelRatio})};return i(),()=>{n==null||n()}},[e]),I.useEffect(()=>{if(!r)return;const n=s=>{if(s.altKey&&(e.isIn("zoom")||!e.getPath().endsWith(".idle"))&&!I1(e)&&hr(s),s.isKilled)return;switch(s.isKilled=!0,s.key){case"=":case"-":case"0":{if(s.metaKey||s.ctrlKey){hr(s);return}break}case"Tab":{if(I1(e))return;break}case",":return;case"Escape":{if((e.getEditingShape()||e.getSelectedShapeIds().length>0)&&hr(s),e.menus.getOpenMenus().length>0)return;e.inputs.keys.has("Escape")||(e.inputs.keys.add("Escape"),e.cancel(),t.focus());return}default:if(I1(e))return}const l={type:"keyboard",name:s.repeat?"key_repeat":"key_down",key:s.key,code:s.code,shiftKey:s.shiftKey,altKey:s.altKey,ctrlKey:s.metaKey||s.ctrlKey,metaKey:s.metaKey,accelKey:ra(s)};e.dispatch(l)},i=s=>{if(s.isKilled||(s.isKilled=!0,I1(e))||s.key===",")return;const l={type:"keyboard",name:"key_up",key:s.key,code:s.code,shiftKey:s.shiftKey,altKey:s.altKey,ctrlKey:s.metaKey||s.ctrlKey,metaKey:s.metaKey,accelKey:ra(s)};e.dispatch(l)};function o(s){var l,c;if(t.contains(s.target)){const u=s.touches[0].pageX,d=s.touches[0].radiusX||0;(u-d<10||u+d>e.getViewportScreenBounds().width-10)&&(((l=s.target)==null?void 0:l.tagName)==="BUTTON"&&((c=s.target)==null||c.click()),hr(s))}}const a=s=>{t.contains(s.target)&&(s.ctrlKey||s.metaKey)&&hr(s)};return t.addEventListener("touchstart",o,{passive:!1}),t.addEventListener("wheel",a,{passive:!1}),document.addEventListener("gesturestart",hr),document.addEventListener("gesturechange",hr),document.addEventListener("gestureend",hr),t.addEventListener("keydown",n),t.addEventListener("keyup",i),()=>{t.removeEventListener("touchstart",o),t.removeEventListener("wheel",a),document.removeEventListener("gesturestart",hr),document.removeEventListener("gesturechange",hr),document.removeEventListener("gestureend",hr),t.removeEventListener("keydown",n),t.removeEventListener("keyup",i)}},[e,t,r])}function I1(e){return e.menus.hasOpenMenus()||vDe()}const B_t=["textarea","input"];function P_t(e){const t=Ee();I.useEffect(()=>{const r=e.current;if(!r)return;const n=i=>{var o;if(i instanceof PointerEvent&&i.pointerType==="pen"){i.isKilled=!0;const{target:a}=i;if(B_t.includes((o=a.tagName)==null?void 0:o.toLocaleLowerCase())||t.isIn("select.editing_shape"))return;hr(i)}};return r.addEventListener("touchstart",n),r.addEventListener("touchend",n),()=>{r.removeEventListener("touchstart",n),r.removeEventListener("touchend",n)}},[t,e])}function T_t(e,t,r){return Math.max(t,Math.min(e,r))}const Bo={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Joe(e,t,r){return t===0||Math.abs(t)===1/0?Math.pow(e,r*5):e*t*r/(t+r*e)}function Zoe(e,t,r,n=.15){return n===0?T_t(e,t,r):e<t?-Joe(t-e,r-t,n)+t:e>r?+Joe(e-r,r-t,n)+r:e}function O_t(e,[t,r],[n,i]){const[[o,a],[s,l]]=e;return[Zoe(t,o,a,n),Zoe(r,s,l,i)]}function R_t(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M_t(e){var t=R_t(e,"string");return typeof t=="symbol"?t:String(t)}function Yo(e,t,r){return t=M_t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eae(Object(r),!0).forEach(function(n){Yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eae(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const bDe={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function tae(e){return e?e[0].toUpperCase()+e.slice(1):""}const F_t=["enter","leave"];function k_t(e=!1,t){return e&&!F_t.includes(t)}function U_t(e,t="",r=!1){const n=bDe[e],i=n&&n[t]||t;return"on"+tae(e)+tae(i)+(k_t(r,i)?"Capture":"")}const D_t=["gotpointercapture","lostpointercapture"];function j_t(e){let t=e.substring(2).toLowerCase();const r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));const n=D_t.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(n);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:r}}function L_t(e,t=""){const r=bDe[e],n=r&&r[t]||t;return e+n}function xDe(e){return"touches"in e}function N_t(e){return xDe(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function $_t(e){return Array.from(e.touches).filter(t=>{var r,n;return t.target===e.currentTarget||((r=e.currentTarget)===null||r===void 0||(n=r.contains)===null||n===void 0?void 0:n.call(r,t.target))})}function X3(e,t){try{const r=t.clientX-e.clientX,n=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,a=Math.hypot(r,n);return{angle:-(Math.atan2(r,n)*180)/Math.PI,distance:a,origin:[i,o]}}catch{}return null}function Q_t(e){return $_t(e).map(t=>t.identifier)}function rae(e,t){const[r,n]=Array.from(e.touches).filter(i=>t.includes(i.identifier));return X3(r,n)}const nae=40,iae=800;function SDe(e){let{deltaX:t,deltaY:r,deltaMode:n}=e;return n===1?(t*=nae,r*=nae):n===2&&(t*=iae,r*=iae),[t,r]}function H_t(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:n,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:o})}return t}function qE(e,...t){return typeof e=="function"?e(...t):e}function q_t(){}function z_t(...e){return e.length===0?q_t:e.length===1?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function oae(e,t){return Object.assign({},t,e||{})}const K_t=32;class CDe{constructor(t,r,n){this.ctrl=t,this.args=r,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:r,ingKey:n,args:i}=this;r[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const r=this.state,n=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=t.target,r.currentTarget=t.currentTarget,r.lastOffset=n.from?qE(n.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=t.timeStamp)}computeValues(t){const r=this.state;r._values=t,r.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:r,config:n,shared:i}=this;r.args=this.args;let o=0;if(t&&(r.event=t,n.preventDefault&&t.cancelable&&r.event.preventDefault(),r.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,H_t(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,o=t.timeStamp-r.timeStamp,r.timeStamp=t.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const _=r._delta.map(Math.abs);Bo.addTo(r._distance,_)}this.axisIntent&&this.axisIntent(t);const[a,s]=r._movement,[l,c]=n.threshold,{_step:u,values:d}=r;if(n.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(a)>=l&&d[0]),u[1]===!1&&(u[1]=Math.abs(s)>=c&&d[1])):(u[0]===!1&&(u[0]=Math.abs(a)>=l&&Math.sign(a)*l),u[1]===!1&&(u[1]=Math.abs(s)>=c&&Math.sign(s)*c)),r.intentional=u[0]!==!1||u[1]!==!1,!r.intentional)return;const A=[0,0];if(n.hasCustomTransform){const[_,B]=d;A[0]=u[0]!==!1?_-u[0]:0,A[1]=u[1]!==!1?B-u[1]:0}else A[0]=u[0]!==!1?a-u[0]:0,A[1]=u[1]!==!1?s-u[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(A);const f=r.offset,h=r._active&&!r._blocked||r.active;h&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=i[this.ingKey]=r._active,t&&(r.first&&("bounds"in n&&(r._bounds=qE(n.bounds,r)),this.setup&&this.setup()),r.movement=A,this.computeOffset()));const[p,v]=r.offset,[[y,b],[x,S]]=r._bounds;r.overflow=[p<y?-1:p>b?1:0,v<x?-1:v>S?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const C=r._active?n.rubberband||[0,0]:[0,0];if(r.offset=O_t(r._bounds,r.offset,C),r.delta=Bo.sub(r.offset,f),this.computeMovement(),h&&(!r.last||o>K_t)){r.delta=Bo.sub(r.offset,f);const _=r.delta.map(Math.abs);Bo.addTo(r.distance,_),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&o>0&&(r.velocity=[_[0]/o,_[1]/o],r.timeDelta=o)}}emit(){const t=this.state,r=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;const i=this.handler(ti(ti(ti({},r),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function W_t([e,t],r){const n=Math.abs(e),i=Math.abs(t);if(n>i&&n>r)return"x";if(i>n&&i>r)return"y"}class V_t extends CDe{constructor(...t){super(...t),Yo(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Bo.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Bo.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const r=this.state,n=this.config;if(!r.axis&&t){const i=typeof n.axisThreshold=="object"?n.axisThreshold[N_t(t)]:n.axisThreshold;r.axis=W_t(r._movement,i)}r._blocked=(n.lockDirection||!!n.axis)&&!r.axis||!!n.axis&&n.axis!==r.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const G_t=e=>e,aae=.15,_De={enabled(e=!0){return e},eventOptions(e,t,r){return ti(ti({},r.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[aae,aae];case!1:return[0,0];default:return Bo.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return Bo.toVector(e)},transform(e,t,r){const n=e||r.shared.transform;return this.hasCustomTransform=!!n,n||G_t},threshold(e){return Bo.toVector(e,0)}},Y_t=0,Kb=ti(ti({},_De),{},{axis(e,t,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(e=Y_t){return e},bounds(e={}){if(typeof e=="function")return o=>Kb.bounds(e(o));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=e;return[[t,r],[n,i]]}}),Wb=typeof window<"u"&&window.document&&window.document.createElement;function EDe(){return Wb&&"ontouchstart"in window}function X_t(){return EDe()||Wb&&window.navigator.maxTouchPoints>1}function J_t(){return Wb&&"onpointerdown"in window}function Z_t(){return Wb&&"exitPointerLock"in window.document}function eEt(){try{return"constructor"in GestureEvent}catch{return!1}}const ll={isBrowser:Wb,gesture:eEt(),touch:EDe(),touchscreen:X_t(),pointer:J_t(),pointerLock:Z_t()},tEt=250,rEt=180,nEt=.5,iEt=50,oEt=250,aEt=10,sae={mouse:0,touch:0,pen:8};ti(ti({},Kb),{},{device(e,t,{pointer:{touch:r=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&ll.pointerLock,ll.touch&&r?"touch":this.pointerLock?"mouse":ll.pointer&&!i?"pointer":ll.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&e?tEt:void 0,!(!ll.touchscreen||r===!1))return e||(r!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&this.device==="pointer"&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:n=3,axis:i=void 0}){const o=Bo.toVector(e,r?n:i?1:0);return this.filterTaps=r,this.tapsThreshold=n,o},swipe({velocity:e=nEt,distance:t=iEt,duration:r=oEt}={}){return{velocity:this.transform(Bo.toVector(e)),distance:this.transform(Bo.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return rEt;case!1:return 0;default:return e}},axisThreshold(e){return e?ti(ti({},sae),e):sae},keyboardDisplacement(e=aEt){return e}});function IDe(e){const[t,r]=e.overflow,[n,i]=e._delta,[o,a]=e._direction;(t<0&&n>0&&o<0||t>0&&n<0&&o>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&i>0&&a<0||r>0&&i<0&&a>0)&&(e._movement[1]=e._movementBound[1])}const sEt=30,lEt=100;class cEt extends CDe{constructor(...t){super(...t),Yo(this,"ingKey","pinching"),Yo(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:r,lastOffset:n}=this.state;t==="wheel"?this.state.offset=Bo.add(r,n):this.state.offset=[(1+r[0])*n[0],r[1]+n[1]]}computeMovement(){const{offset:t,lastOffset:r}=this.state;this.state.movement=[t[0]/r[0],t[1]-r[1]]}axisIntent(){const t=this.state,[r,n]=t._movement;if(!t.axis){const i=Math.abs(r)*sEt-Math.abs(n);i<0?t.axis="angle":i>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const r=this.state,n=this.ctrl.touchIds;if(r._active&&r._touchIds.every(o=>n.has(o))||n.size<2)return;this.start(t),r._touchIds=Array.from(n).slice(0,2);const i=rae(t,r._touchIds);i&&this.pinchStart(t,i)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const r=this.state,n=r._pointerEvents,i=this.ctrl.pointerIds;if(r._active&&Array.from(n.keys()).every(a=>i.has(a))||(n.size<2&&n.set(t.pointerId,t),r._pointerEvents.size<2))return;this.start(t);const o=X3(...Array.from(n.values()));o&&this.pinchStart(t,o)}pinchStart(t,r){const n=this.state;n.origin=r.origin,this.computeValues([r.distance,r.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const r=rae(t,this.state._touchIds);r&&this.pinchMove(t,r)}pointerMove(t){const r=this.state._pointerEvents;if(r.has(t.pointerId)&&r.set(t.pointerId,t),!this.state._active)return;const n=X3(...Array.from(r.values()));n&&this.pinchMove(t,n)}pinchMove(t,r){const n=this.state,i=n._values[1],o=r.angle-i;let a=0;Math.abs(o)>270&&(a+=Math.sign(o)),this.computeValues([r.distance,r.angle-360*a]),n.origin=r.origin,n.turns=a,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(r=>!this.ctrl.touchIds.has(r))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const r=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}r._pointerEvents.has(t.pointerId)&&r._pointerEvents.delete(t.pointerId),r._active&&r._pointerEvents.size<2&&(r._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const r=this.state;r._active||(this.start(t),this.computeValues([t.scale,t.rotation]),r.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const r=this.state;this.computeValues([t.scale,t.rotation]),r.origin=[t.clientX,t.clientY];const n=r._movement;r._movement=[t.scale-1,t.rotation],r._delta=Bo.sub(r._movement,n),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const r=this.config.modifierKey;r&&(Array.isArray(r)?!r.find(n=>t[n]):!t[r])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const n=this.state;n._delta=[-SDe(t)[1]/lEt*n.offset[0],0],Bo.addTo(n._movement,n._delta),IDe(n),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const r=this.config.device;r&&(t(r,"start",this[r+"Start"].bind(this)),t(r,"change",this[r+"Move"].bind(this)),t(r,"end",this[r+"End"].bind(this)),t(r,"cancel",this[r+"End"].bind(this)),t("lostPointerCapture","",this[r+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const uEt=ti(ti({},_De),{},{device(e,t,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!ll.touch&&ll.gesture)return"gesture";if(ll.touch&&n)return"touch";if(ll.touchscreen){if(ll.pointer)return"pointer";if(ll.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:n={}}){const i=a=>{const s=oae(qE(r,a),{min:-1/0,max:1/0});return[s.min,s.max]},o=a=>{const s=oae(qE(n,a),{min:-1/0,max:1/0});return[s.min,s.max]};return typeof r!="function"&&typeof n!="function"?[i(),o()]:a=>[i(a),o(a)]},threshold(e,t,r){return this.lockDirection=r.axis==="lock",Bo.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});ti(ti({},Kb),{},{mouseOnly:(e=!0)=>e});class dEt extends V_t{constructor(...t){super(...t),Yo(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const r=this.state;r._delta=SDe(t),Bo.addTo(r._movement,r._delta),IDe(r),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const AEt=Kb;ti(ti({},Kb),{},{mouseOnly:(e=!0)=>e});const Gz=new Map,J3=new Map;function fEt(e){Gz.set(e.key,e.engine),J3.set(e.key,e.resolver)}const hEt={key:"pinch",engine:cEt,resolver:uEt},pEt={key:"wheel",engine:dEt,resolver:AEt};function gEt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function mEt(e,t){if(e==null)return{};var r=gEt(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const vEt={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=ll.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},yEt=["target","eventOptions","window","enabled","transform"];function _C(e={},t){const r={};for(const[n,i]of Object.entries(t))switch(typeof i){case"function":r[n]=i.call(r,e[n],n,e);break;case"object":r[n]=_C(e[n],i);break;case"boolean":i&&(r[n]=e[n]);break}return r}function wEt(e,t,r={}){const n=e,{target:i,eventOptions:o,window:a,enabled:s,transform:l}=n,c=mEt(n,yEt);if(r.shared=_C({target:i,eventOptions:o,window:a,enabled:s,transform:l},vEt),t){const u=J3.get(t);r[t]=_C(ti({shared:r.shared},c),u)}else for(const u in c){const d=J3.get(u);d&&(r[u]=_C(ti({shared:r.shared},c[u]),d))}return r}class BDe{constructor(t,r){Yo(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=r}add(t,r,n,i,o){const a=this._listeners,s=L_t(r,n),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=ti(ti({},l),o);t.addEventListener(s,i,c);const u=()=>{t.removeEventListener(s,i,c),a.delete(u)};return a.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class bEt{constructor(){Yo(this,"_timeouts",new Map)}add(t,r,n=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(r,n,...i))}remove(t){const r=this._timeouts.get(t);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class xEt{constructor(t){Yo(this,"gestures",new Set),Yo(this,"_targetEventStore",new BDe(this)),Yo(this,"gestureEventStores",{}),Yo(this,"gestureTimeoutStores",{}),Yo(this,"handlers",{}),Yo(this,"config",{}),Yo(this,"pointerIds",new Set),Yo(this,"touchIds",new Set),Yo(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),SEt(this,t)}setEventIds(t){if(xDe(t))return this.touchIds=new Set(Q_t(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,r){this.handlers=t,this.nativeHandlers=r}applyConfig(t,r){this.config=wEt(t,r,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const r=this.config.shared,n={};let i;if(!(r.target&&(i=r.target(),!i))){if(r.enabled){for(const a of this.gestures){const s=this.config[a],l=lae(n,s.eventOptions,!!i);if(s.enabled){const c=Gz.get(a);new c(this,t,a).bind(l)}}const o=lae(n,r.eventOptions,!!i);for(const a in this.nativeHandlers)o(a,"",s=>this.nativeHandlers[a](ti(ti({},this.state.shared),{},{event:s,args:t})),void 0,!0)}for(const o in n)n[o]=z_t(...n[o]);if(!i)return n;for(const o in n){const{device:a,capture:s,passive:l}=j_t(o);this._targetEventStore.add(i,a,"",n[o],{capture:s,passive:l})}}}}function lg(e,t){e.gestures.add(t),e.gestureEventStores[t]=new BDe(e,t),e.gestureTimeoutStores[t]=new bEt}function SEt(e,t){t.drag&&lg(e,"drag"),t.wheel&&lg(e,"wheel"),t.scroll&&lg(e,"scroll"),t.move&&lg(e,"move"),t.pinch&&lg(e,"pinch"),t.hover&&lg(e,"hover")}const lae=(e,t,r)=>(n,i,o,a={},s=!1)=>{var l,c;const u=(l=a.capture)!==null&&l!==void 0?l:t.capture,d=(c=a.passive)!==null&&c!==void 0?c:t.passive;let A=s?n:U_t(n,i,u);r&&d&&(A+="Passive"),e[A]=e[A]||[],e[A].push(o)},CEt=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function _Et(e){const t={},r={},n=new Set;for(let i in e)CEt.test(i)?(n.add(RegExp.lastMatch),r[i]=e[i]):t[i]=e[i];return[r,t,n]}function cg(e,t,r,n,i,o){if(!e.has(r)||!Gz.has(n))return;const a=r+"Start",s=r+"End",l=c=>{let u;return c.first&&a in t&&t[a](c),r in t&&(u=t[r](c)),c.last&&s in t&&t[s](c),u};i[n]=l,o[n]=o[n]||{}}function EEt(e,t){const[r,n,i]=_Et(e),o={};return cg(i,r,"onDrag","drag",o,t),cg(i,r,"onWheel","wheel",o,t),cg(i,r,"onScroll","scroll",o,t),cg(i,r,"onPinch","pinch",o,t),cg(i,r,"onMove","move",o,t),cg(i,r,"onHover","hover",o,t),{handlers:o,config:t,nativeHandlers:n}}function IEt(e,t={},r,n){const i=ue.useMemo(()=>new xEt(e),[]);if(i.applyHandlers(e,n),i.applyConfig(t,r),ue.useEffect(i.effect.bind(i)),ue.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function BEt(e){return e.forEach(fEt),function(r,n){const{handlers:i,nativeHandlers:o,config:a}=EEt(r,n||{});return IEt(i,a,void 0,o)}}const cae=10,PEt=/Mac|iPod|iPhone|iPad/.test(typeof window>"u"?"node":window.navigator.platform);function PDe(e){let{deltaY:t,deltaX:r}=e,n=0;return e.ctrlKey||e.altKey||e.metaKey?n=(Math.abs(t)>cae?cae*Math.sign(t):t)/100:e.shiftKey&&!PEt&&(r=t,t=0),{x:-r,y:-t,z:-n}}const TEt=BEt([pEt,hEt]);let ug;const OEt=e=>ug===void 0?(ug=e,!1):e-ug>120&&e-ug<160?(ug=e,!0):(ug=e,!1);function REt(e){const t=Ee(),r=I.useMemo(()=>{let n="not sure";const i=({event:p})=>{if(!t.getInstanceState().isFocused||(n="not sure",OEt(Date.now())))return;const v=t.getEditingShapeId();if(v){const x=t.getShape(v);if(x&&t.getShapeUtil(x).canScroll(x)){const C=t.getShapePageBounds(v);if(C!=null&&C.containsPoint(t.inputs.currentPagePoint))return}}hr(p),Ei(p);const y=PDe(p);if(y.x===0&&y.y===0)return;const b={type:"wheel",name:"wheel",delta:y,point:new L(p.clientX,p.clientY),shiftKey:p.shiftKey,altKey:p.altKey,ctrlKey:p.metaKey||p.ctrlKey,metaKey:p.metaKey,accelKey:ra(p)};t.dispatch(b)};let o=1,a=1,s=1,l=0;const c=new L,u=new L,d=p=>{const v=e.current;n="not sure";const{event:y,origin:b,da:x}=p;y instanceof WheelEvent||(y.target===v||v!=null&&v.contains(y.target))&&(u.x=b[0],u.y=b[1],c.x=b[0],c.y=b[1],o=x[0],a=t.getZoomLevel(),t.dispatch({type:"pinch",name:"pinch_start",point:{x:b[0],y:b[1],z:t.getZoomLevel()},delta:{x:0,y:0},shiftKey:y.shiftKey,altKey:y.altKey,ctrlKey:y.metaKey||y.ctrlKey,metaKey:y.metaKey,accelKey:ra(y)}))},A=p=>{if(p&&(n="zooming"),n==="zooming")return;const v=Math.abs(l-o),y=L.Dist(c,u);switch(n){case"not sure":{v>24?n="zooming":y>16&&(n="panning");break}case"panning":{v>64&&(n="zooming");break}}};return{onWheel:i,onPinchStart:d,onPinchEnd:p=>{const v=e.current,{event:y,origin:b,offset:x}=p;if(y instanceof WheelEvent||!(y.target===v||v!=null&&v.contains(y.target)))return;const S=x[0];n="not sure",t.timers.requestAnimationFrame(()=>{t.dispatch({type:"pinch",name:"pinch_end",point:{x:b[0],y:b[1],z:S},delta:{x:b[0],y:b[1]},shiftKey:y.shiftKey,altKey:y.altKey,ctrlKey:y.metaKey||y.ctrlKey,metaKey:y.metaKey,accelKey:ra(y)})})},onPinch:p=>{const v=e.current,{event:y,origin:b,offset:x,da:S}=p;if(y instanceof WheelEvent||!(y.target===v||v!=null&&v.contains(y.target)))return;const C=p.type==="gesturechange"||p.type==="gestureend";l=S[0];const _=b[0]-u.x,B=b[1]-u.y;switch(u.x=b[0],u.y=b[1],A(C),n){case"zooming":{s=x[0],t.dispatch({type:"pinch",name:"pinch",point:{x:b[0],y:b[1],z:s},delta:{x:_,y:B},shiftKey:y.shiftKey,altKey:y.altKey,ctrlKey:y.metaKey||y.ctrlKey,metaKey:y.metaKey,accelKey:ra(y)});break}case"panning":{t.dispatch({type:"pinch",name:"pinch",point:{x:b[0],y:b[1],z:a},delta:{x:_,y:B},shiftKey:y.shiftKey,altKey:y.altKey,ctrlKey:y.metaKey||y.ctrlKey,metaKey:y.metaKey,accelKey:ra(y)});break}}}}},[t,e]);TEt(r,{target:e,eventOptions:{passive:!1},pinch:{from:()=>[t.getZoomLevel(),0],scaleBounds:()=>{const n=t.getBaseZoom(),i=t.getCameraOptions().zoomSteps,o=i[0]*n,a=i[i.length-1]*n;return{from:t.getZoomLevel(),max:a,min:o}}}})}function sj(e,t,r){const n=e.getShape(t),i=e.getShapeHandles(n);return{shape:n,handle:i.find(o=>o.id===r)}}function MEt(e,t){const r=Ee();return I.useMemo(()=>{const n=l=>{if(l.isKilled)return;const c=HE(l.currentTarget);qb(c,l);const{shape:u,handle:d}=sj(r,e,t);d&&r.dispatch({type:"pointer",target:"handle",handle:d,shape:u,name:"pointer_down",...xs(l)})};let i,o;return{onPointerDown:n,onPointerMove:l=>{if(l.isKilled||l.clientX===i&&l.clientY===o)return;i=l.clientX,o=l.clientY;const{shape:c,handle:u}=sj(r,e,t);u&&r.dispatch({type:"pointer",target:"handle",handle:u,shape:c,name:"pointer_move",...xs(l)})},onPointerUp:l=>{if(l.isKilled)return;const c=HE(l.currentTarget);zb(c,l);const{shape:u,handle:d}=sj(r,e,t);d&&r.dispatch({type:"pointer",target:"handle",handle:d,shape:u,name:"pointer_up",...xs(l)})}}},[r,e,t])}function FEt(e){const t=Ee();I.useLayoutEffect(()=>{const r=gke(()=>{e.current&&t.updateViewportScreenBounds(e.current)},200,{trailing:!0}),n=t.timers.setInterval(r,1e3);window.addEventListener("resize",r);const i=new ResizeObserver(s=>{s[0].contentRect&&r()}),o=e.current;let a=null;return o&&(i.observe(o),a=kEt(o),a.addEventListener("scroll",r)),()=>{clearInterval(n),window.removeEventListener("resize",r),i.disconnect(),a==null||a.removeEventListener("scroll",r),r.cancel()}},[t,e])}/*!
 * Author: excalidraw
 * MIT License: https://github.com/excalidraw/excalidraw/blob/master/LICENSE
 * https://github.com/excalidraw/excalidraw/blob/48c3465b19f10ec755b3eb84e21a01a468e96e43/packages/excalidraw/utils.ts#L600
 */const kEt=e=>{let t=e.parentElement;for(;t;){if(t===document.body)return document;const{overflowY:r}=window.getComputedStyle(t);if(t.scrollHeight>t.clientHeight&&(r==="auto"||r==="scroll"||r==="overlay"))return t;t=t.parentElement}return document};class st{constructor(t=0,r=0,n=0,i=0){K(this,"x",0);K(this,"y",0);K(this,"w",0);K(this,"h",0);this.x=t,this.y=r,this.w=n,this.h=i}get point(){return new L(this.x,this.y)}set point(t){this.x=t.x,this.y=t.y}get minX(){return this.x}set minX(t){this.x=t}get midX(){return this.x+this.w/2}get maxX(){return this.x+this.w}get minY(){return this.y}set minY(t){this.y=t}get midY(){return this.y+this.h/2}get maxY(){return this.y+this.h}get width(){return this.w}set width(t){this.w=t}get height(){return this.h}set height(t){this.h=t}get aspectRatio(){return this.width/this.height}get center(){return new L(this.midX,this.midY)}set center(t){this.minX=t.x-this.width/2,this.minY=t.y-this.height/2}get corners(){return[new L(this.minX,this.minY),new L(this.maxX,this.minY),new L(this.maxX,this.maxY),new L(this.minX,this.maxY)]}get cornersAndCenter(){return[new L(this.minX,this.minY),new L(this.maxX,this.minY),new L(this.maxX,this.maxY),new L(this.minX,this.maxY),this.center]}get sides(){const{corners:t}=this;return[[t[0],t[1]],[t[1],t[2]],[t[2],t[3]],[t[3],t[0]]]}get size(){return new L(this.w,this.h)}toFixed(){return this.x=w1(this.x),this.y=w1(this.y),this.w=w1(this.w),this.h=w1(this.h),this}setTo(t){return this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h,this}set(t=0,r=0,n=0,i=0){return this.x=t,this.y=r,this.w=n,this.h=i,this}expand(t){const r=Math.min(this.minX,t.minX),n=Math.min(this.minY,t.minY),i=Math.max(this.maxX,t.maxX),o=Math.max(this.maxY,t.maxY);return this.x=r,this.y=n,this.w=i-r,this.h=o-n,this}expandBy(t){return this.x-=t,this.y-=t,this.w+=t*2,this.h+=t*2,this}scale(t){return this.x/=t,this.y/=t,this.w/=t,this.h/=t,this}clone(){const{x:t,y:r,w:n,h:i}=this;return new st(t,r,n,i)}translate(t){return this.x+=t.x,this.y+=t.y,this}snapToGrid(t){const r=Math.round(this.minX/t)*t,n=Math.round(this.minY/t)*t,i=Math.round(this.maxX/t)*t,o=Math.round(this.maxY/t)*t;this.minX=r,this.minY=n,this.width=Math.max(1,i-r),this.height=Math.max(1,o-n)}collides(t){return st.Collides(this,t)}contains(t){return st.Contains(this,t)}includes(t){return st.Includes(this,t)}containsPoint(t,r=0){return st.ContainsPoint(this,t,r)}getHandlePoint(t){switch(t){case"top_left":return new L(this.minX,this.minY);case"top_right":return new L(this.maxX,this.minY);case"bottom_left":return new L(this.minX,this.maxY);case"bottom_right":return new L(this.maxX,this.maxY);case"top":return new L(this.midX,this.minY);case"right":return new L(this.maxX,this.midY);case"bottom":return new L(this.midX,this.maxY);case"left":return new L(this.minX,this.midY)}}toJson(){return{x:this.minX,y:this.minY,w:this.w,h:this.h}}resize(t,r,n){const{minX:i,minY:o,maxX:a,maxY:s}=this;let{minX:l,minY:c,maxX:u,maxY:d}=this;switch(t){case"left":case"top_left":case"bottom_left":{l+=r;break}case"right":case"top_right":case"bottom_right":{u+=r;break}}switch(t){case"top":case"top_left":case"top_right":{c+=n;break}case"bottom":case"bottom_left":case"bottom_right":{d+=n;break}}const A=(u-l)/(a-i),f=(d-c)/(s-o),h=A<0,p=f<0;if(h){const v=u;u=l,l=v}if(p){const v=d;d=c,c=v}this.minX=l,this.minY=c,this.width=Math.abs(u-l),this.height=Math.abs(d-c)}union(t){const r=Math.min(this.minX,t.x),n=Math.min(this.minY,t.y),i=Math.max(this.maxX,t.w+t.x),o=Math.max(this.maxY,t.h+t.y);return this.x=r,this.y=n,this.width=i-r,this.height=o-n,this}static From(t){return new st(t.x,t.y,t.w,t.h)}static FromCenter(t,r){return new st(t.x-r.x/2,t.y-r.y/2,r.x,r.y)}static FromPoints(t){if(t.length===0)return new st;let r=1/0,n=1/0,i=-1/0,o=-1/0,a;for(let s=0,l=t.length;s<l;s++)a=t[s],r=Math.min(a.x,r),n=Math.min(a.y,n),i=Math.max(a.x,i),o=Math.max(a.y,o);return new st(r,n,i-r,o-n)}static Expand(t,r){const n=Math.min(r.minX,t.minX),i=Math.min(r.minY,t.minY),o=Math.max(r.maxX,t.maxX),a=Math.max(r.maxY,t.maxY);return new st(n,i,o-n,a-i)}static ExpandBy(t,r){return new st(t.minX-r,t.minY-r,t.width+r*2,t.height+r*2)}static Collides(t,r){return!(t.maxX<r.minX||t.minX>r.maxX||t.maxY<r.minY||t.minY>r.maxY)}static Contains(t,r){return t.minX<r.minX&&t.minY<r.minY&&t.maxY>r.maxY&&t.maxX>r.maxX}static Includes(t,r){return st.Collides(t,r)||st.Contains(t,r)}static ContainsPoint(t,r,n=0){return!(r.x<t.minX-n||r.y<t.minY-n||r.x>t.maxX+n||r.y>t.maxY+n)}static Common(t){let r=1/0,n=1/0,i=-1/0,o=-1/0;for(let a=0;a<t.length;a++){const s=t[a];r=Math.min(r,s.minX),n=Math.min(n,s.minY),i=Math.max(i,s.maxX),o=Math.max(o,s.maxY)}return new st(r,n,i-r,o-n)}static Sides(t,r=0){const{corners:n}=t;return[[n[0],n[1]],[n[1],n[2]],[n[2],n[3]],[n[3],n[0]]]}static Resize(t,r,n,i,o=!1){const{minX:a,minY:s,maxX:l,maxY:c}=t;let{minX:u,minY:d,maxX:A,maxY:f}=t;switch(r){case"left":case"top_left":case"bottom_left":{u+=n;break}case"right":case"top_right":case"bottom_right":{A+=n;break}}switch(r){case"top":case"top_left":case"top_right":{d+=i;break}case"bottom":case"bottom_left":case"bottom_right":{f+=i;break}}const h=(A-u)/(l-a),p=(f-d)/(c-s),v=h<0,y=p<0;if(o){const x=(l-a)/(c-s),S=Math.abs(A-u),C=Math.abs(f-d),_=S*(p<0?1:-1)*(1/x),B=C*(h<0?1:-1)*x,T=x<S/C;switch(r){case"top_left":{T?d=f+_:u=A+B;break}case"top_right":{T?d=f+_:A=u-B;break}case"bottom_right":{T?f=d-_:A=u-B;break}case"bottom_left":{T?f=d-_:u=A+B;break}case"bottom":case"top":{const O=(u+A)/2,P=C*x;u=O-P/2,A=O+P/2;break}case"left":case"right":{const O=(d+f)/2,P=S/x;d=O-P/2,f=O+P/2;break}}}if(v){const x=A;A=u,u=x}if(y){const x=f;f=d,d=x}const b=new st(u,d,Math.abs(A-u),Math.abs(f-d));return{box:b,scaleX:+(b.width/t.width*(h>0?1:-1)).toFixed(5),scaleY:+(b.height/t.height*(p>0?1:-1)).toFixed(5)}}equals(t){return st.Equals(this,t)}static Equals(t,r){return r.x===t.x&&r.y===t.y&&r.w===t.w&&r.h===t.h}zeroFix(){return this.w=Math.max(1,this.w),this.h=Math.max(1,this.h),this}static ZeroFix(t){return new st(t.x,t.y,Math.max(1,t.w),Math.max(1,t.h))}}function UEt(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"top_left":return"bottom_left";case"top_right":return"bottom_right";case"bottom_left":return"top_left";case"bottom_right":return"top_right";default:return e}}function DEt(e){switch(e){case"left":return"right";case"right":return"left";case"top_left":return"top_right";case"top_right":return"top_left";case"bottom_left":return"bottom_right";case"bottom_right":return"bottom_left";default:return e}}function jEt(e){return e==="top_left"||e==="top_right"||e==="bottom_right"||e==="bottom_left"}class ct{constructor(t,r,n,i,o,a){K(this,"a",1);K(this,"b",0);K(this,"c",0);K(this,"d",1);K(this,"e",0);K(this,"f",0);this.a=t,this.b=r,this.c=n,this.d=i,this.e=o,this.f=a}equals(t){return this===t||this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}multiply(t){const r=t,{a:n,b:i,c:o,d:a,e:s,f:l}=this;return this.a=n*r.a+o*r.b,this.c=n*r.c+o*r.d,this.e=n*r.e+o*r.f+s,this.b=i*r.a+a*r.b,this.d=i*r.c+a*r.d,this.f=i*r.e+a*r.f+l,this}rotate(t,r,n){return t===0?this:r===void 0?this.multiply(ct.Rotate(t)):this.translate(r,n).multiply(ct.Rotate(t)).translate(-r,-n)}translate(t,r){return this.multiply(ct.Translate(t,r))}scale(t,r){return this.multiply(ct.Scale(t,r))}invert(){const{a:t,b:r,c:n,d:i,e:o,f:a}=this,s=t*i-r*n;return this.a=i/s,this.b=r/-s,this.c=n/-s,this.d=t/s,this.e=(i*o-n*a)/-s,this.f=(r*o-t*a)/s,this}applyToPoint(t){return ct.applyToPoint(this,t)}applyToPoints(t){return ct.applyToPoints(this,t)}rotation(){return ct.Rotation(this)}point(){return ct.Point(this)}decomposed(){return ct.Decompose(this)}toCssString(){return ct.toCssString(this)}setTo(t){return Object.assign(this,t),this}decompose(){return ct.Decompose(this)}clone(){return new ct(this.a,this.b,this.c,this.d,this.e,this.f)}static Identity(){return new ct(1,0,0,1,0,0)}static Translate(t,r){return new ct(1,0,0,1,t,r)}static Rotate(t,r,n){if(t===0)return ct.Identity();const i=Math.cos(t),o=Math.sin(t),a=new ct(i,o,-o,i,0,0);return r===void 0?a:ct.Compose(ct.Translate(r,n),a,ct.Translate(-r,-n))}static Scale(t,r,n,i){const o=new ct(t,0,0,r,0,0);return n===void 0?o:ct.Compose(ct.Translate(n,i),o,ct.Translate(-n,-i))}static Multiply(t,r){return{a:t.a*r.a+t.c*r.b,c:t.a*r.c+t.c*r.d,e:t.a*r.e+t.c*r.f+t.e,b:t.b*r.a+t.d*r.b,d:t.b*r.c+t.d*r.d,f:t.b*r.e+t.d*r.f+t.f}}static Inverse(t){const r=t.a*t.d-t.b*t.c;return{a:t.d/r,b:t.b/-r,c:t.c/-r,d:t.a/r,e:(t.d*t.e-t.c*t.f)/-r,f:(t.b*t.e-t.a*t.f)/r}}static Absolute(t){const r=t.a*t.d-t.b*t.c;return{a:t.d/r,b:t.b/-r,c:t.c/-r,d:t.a/r,e:(t.d*t.e-t.c*t.f)/r,f:(t.b*t.e-t.a*t.f)/-r}}static Compose(...t){const r=ct.Identity();for(let n=0,i=t.length;n<i;n++)r.multiply(t[n]);return r}static Point(t){return new L(t.e,t.f)}static Rotation(t){let r;if(t.a!==0||t.c!==0){const n=(t.a*t.a+t.c*t.c)**.5;r=Math.acos(t.a/n)*(t.c>0?-1:1)}else if(t.b!==0||t.d!==0){const n=(t.b*t.b+t.d*t.d)**.5;r=En+Math.acos(t.b/n)*(t.d>0?-1:1)}else r=0;return Q3(r)}static Decompose(t){let r,n,i;if(t.a!==0||t.c!==0){const o=(t.a*t.a+t.c*t.c)**.5;r=o,n=(t.a*t.d-t.b*t.c)/o,i=Math.acos(t.a/o)*(t.c>0?-1:1)}else if(t.b!==0||t.d!==0){const o=(t.b*t.b+t.d*t.d)**.5;r=(t.a*t.d-t.b*t.c)/o,n=o,i=En+Math.acos(t.b/o)*(t.d>0?-1:1)}else r=0,n=0,i=0;return{x:t.e,y:t.f,scaleX:r,scaleY:n,rotation:Q3(i)}}static Smooth(t,r=1e10){return t.a=Math.round(t.a*r)/r,t.b=Math.round(t.b*r)/r,t.c=Math.round(t.c*r)/r,t.d=Math.round(t.d*r)/r,t.e=Math.round(t.e*r)/r,t.f=Math.round(t.f*r)/r,t}static toCssString(t){return`matrix(${_e(t.a)}, ${_e(t.b)}, ${_e(t.c)}, ${_e(t.d)}, ${_e(t.e)}, ${_e(t.f)})`}static applyToPoint(t,r){return new L(t.a*r.x+t.c*r.y+t.e,t.b*r.x+t.d*r.y+t.f,r.z)}static applyToXY(t,r,n){return[t.a*r+t.c*n+t.e,t.b*r+t.d*n+t.f]}static applyToPoints(t,r){return r.map(n=>new L(t.a*n.x+t.c*n.y+t.e,t.b*n.x+t.d*n.y+t.f,n.z))}static applyToBounds(t,r){return new st(t.e+r.minX,t.f+r.minY,r.width,r.height)}static From(t){return new ct(t.a,t.b,t.c,t.d,t.e,t.f)}static Cast(t){return t instanceof ct?t:ct.From(t)}}class wf{constructor(t){K(this,"isFilled",!1);K(this,"isClosed",!0);K(this,"isLabel",!1);K(this,"debugColor");K(this,"ignore");K(this,"_vertices");K(this,"_bounds");K(this,"_area");K(this,"_length");this.isFilled=t.isFilled,this.isClosed=t.isClosed,this.isLabel=t.isLabel??!1,this.debugColor=t.debugColor,this.ignore=t.ignore}hitTestPoint(t,r=0,n=!1){return this.isClosed&&(this.isFilled||n)&&Is(t,this.vertices)?!0:L.Dist2(t,this.nearestPoint(t))<=r*r}distanceToPoint(t,r=!1){return t.dist(this.nearestPoint(t))*(this.isClosed&&(this.isFilled||r)&&Is(t,this.vertices)?-1:1)}distanceToLineSegment(t,r){if(t.equals(r))return this.distanceToPoint(t);const{vertices:n}=this;let i,o=1/0,a,s,l;for(let c=0;c<n.length;c++)s=n[c],l=L.NearestPointOnLineSegment(t,r,s,!0),a=L.Dist2(s,l),a<o&&(o=a,i=l);if(!i)throw Error("nearest point not found");return this.isClosed&&this.isFilled&&Is(i,this.vertices)?-o:o}hitTestLineSegment(t,r,n=0){return this.distanceToLineSegment(t,r)<=n}nearestPointOnLineSegment(t,r){const{vertices:n}=this;let i,o=1/0,a,s,l;for(let c=0;c<n.length;c++)s=n[c],l=L.NearestPointOnLineSegment(t,r,s,!0),a=L.Dist2(s,l),a<o&&(o=a,i=l);if(!i)throw Error("nearest point not found");return i}isPointInBounds(t,r=0){const{bounds:n}=this;return!(t.x<n.minX-r||t.y<n.minY-r||t.x>n.maxX+r||t.y>n.maxY+r)}get vertices(){return this._vertices||(this._vertices=this.getVertices()),this._vertices}getBounds(){return st.FromPoints(this.vertices)}get bounds(){return this._bounds||(this._bounds=this.getBounds()),this._bounds}get center(){return this.bounds.center}get area(){return this._area||(this._area=this.getArea()),this._area}getArea(){if(!this.isClosed)return 0;const{vertices:t}=this;let r=0;for(let n=0,i=t.length;n<i;n++){const o=t[n],a=t[(n+1)%i];r+=o.x*a.y-a.x*o.y}return r/2}toSimpleSvgPath(){let t="";const{vertices:r}=this,n=r.length;if(n===0)return t;t+=`M${r[0].x},${r[0].y}`;for(let i=1;i<n;i++)t+=`L${r[i].x},${r[i].y}`;return this.isClosed&&(t+="Z"),t}get length(){return this._length?this._length:(this._length=this.getLength(),this._length)}getLength(){const{vertices:t}=this;let r,n=t[0],i=0;for(let o=1;o<t.length;o++)r=t[o],i+=L.Dist2(n,r),n=r;return Math.sqrt(i)}}class bl extends wf{constructor(r){super({...r,isClosed:!0,isFilled:!1});K(this,"children",[]);K(this,"ignoredChildren",[]);for(const n of r.children)n.ignore?this.ignoredChildren.push(n):this.children.push(n);if(this.children.length===0)throw Error("Group2d must have at least one child")}getVertices(){return this.children.filter(r=>!r.isLabel).flatMap(r=>r.vertices)}nearestPoint(r){let n=1/0,i;const{children:o}=this;if(o.length===0)throw Error("no children");let a,s;for(const l of o)a=l.nearestPoint(r),s=L.Dist2(a,r),s<n&&(n=s,i=a);if(!i)throw Error("nearest point not found");return i}distanceToPoint(r,n=!1){return Math.min(...this.children.map((i,o)=>i.distanceToPoint(r,n||o>0)))}hitTestPoint(r,n,i){return!!this.children.filter(o=>!o.isLabel).find(o=>o.hitTestPoint(r,n,i))}hitTestLineSegment(r,n,i){return!!this.children.filter(o=>!o.isLabel).find(o=>o.hitTestLineSegment(r,n,i))}getArea(){return this.children[0].area}toSimpleSvgPath(){let r="";for(const i of this.children)r+=i.toSimpleSvgPath();const n=st.FromPoints(this.vertices).corners;for(let i=0,o=n.length;i<o;i++){const a=n[i],s=n[(i-1+o)%o],l=a.dist(s),c=n[(i+1)%o],u=a.dist(c),d=a.clone().lrp(s,4/l),A=a,f=a.clone().lrp(c,4/u);r+=`M${d.x},${d.y} L${A.x},${A.y} L${f.x},${f.y} `}return r}getLength(){return this.children.reduce((r,n)=>n.isLabel?r:r+n.length,0)}getSvgPathData(){return this.children.map((r,n)=>r.isLabel?"":r.getSvgPathData(n===0)).join(" ")}}function LEt(e=!0){const[t,r]=I.useState(0),n=Ee();I.useEffect(()=>{if(!e)return;const i=()=>r(o=>o+1);return n.on("tick",i),()=>{n.off("tick",i)}},[n,e])}const NEt=Ro(function({showStroke:t=!0,showVertices:r=!0,showClosestPointOnOutline:n=!0}){const i=Ee();LEt(n);const o=i.getZoomLevel(),a=i.getRenderingShapes(),{inputs:{currentPagePoint:s}}=i;return m.jsx("svg",{style:{position:"absolute",pointerEvents:"none",zIndex:999999999,top:0,left:0,overflow:"visible"},children:a.map(l=>{const c=i.getShape(l.id);if(c.type==="group")return null;const u=i.getShapeGeometry(c),d=i.getShapePageTransform(c),A=i.getPointInShapeSpace(c,s),f=u.nearestPoint(A),h=u.distanceToPoint(A,!0),p=Math.abs(h)*o,v=h<0,{vertices:y}=u;return m.jsxs("g",{transform:d.toCssString(),strokeLinecap:"round",strokeLinejoin:"round",children:[t&&m.jsx("g",{stroke:u.debugColor??"red",opacity:"1",strokeWidth:2/o,fill:"none",children:m.jsx(TDe,{geometry:u})}),r&&y.map((b,x)=>m.jsx("circle",{cx:b.x,cy:b.y,r:2/o,fill:`hsl(${Cm(x,[0,y.length-1],[120,200])}, 100%, 50%)`,stroke:"black",strokeWidth:1/o},`v${x}`)),n&&p<150&&m.jsx("line",{x1:f.x,y1:f.y,x2:A.x,y2:A.y,opacity:1-p/150,stroke:v?"goldenrod":"dodgerblue",strokeWidth:2/o})]},l.id+"_outline")})})});function TDe({geometry:e}){return e instanceof bl?m.jsx(m.Fragment,{children:[...e.children,...e.ignoredChildren].map((t,r)=>m.jsx(TDe,{geometry:t},r))}):m.jsx("path",{d:e.toSimpleSvgPath()})}function ODe(e){return nSt(e)}function RDe(){const e=Ee(),t=S1t("userIds",()=>ODe(e.getCollaborators().map(r=>r.userId)).sort(),{isEqual:(r,n)=>{var i;return r.join(",")===((i=n.join)==null?void 0:i.call(n,","))}},[e]);return Re(t)}function ZB(e){const t=Ee();return Re(`latestPresence:${e}`,()=>t.getCollaborators().find(n=>n.userId===e),[t,e])??null}const $Et=Ro(function(){return RDe().map(r=>m.jsx(QEt,{collaboratorId:r},r))}),QEt=Ro(function({collaboratorId:t}){const r=Ee(),n=ZB(t),i=qEt(r,n);if(!(n&&n.currentPageId===r.getCurrentPageId()))return null;switch(i){case"inactive":{const{followingUserId:o,highlightedUserIds:a}=r.getInstanceState();if(!(o===n.userId||a.includes(n.userId)))return null;break}case"idle":{const{highlightedUserIds:o}=r.getInstanceState();if(n.followingUserId===r.user.getId()&&!(n.chatMessage||o.includes(n.userId)))return null;break}}return m.jsx(HEt,{latestPresence:n})}),HEt=Ro(function({latestPresence:t}){const r=Ee(),{CollaboratorBrush:n,CollaboratorScribble:i,CollaboratorCursor:o,CollaboratorHint:a,CollaboratorShapeIndicator:s}=Un(),l=r.getZoomLevel(),c=r.getViewportPageBounds(),{userId:u,chatMessage:d,brush:A,scribbles:f,selectedShapeIds:h,userName:p,cursor:v,color:y}=t;if(!v)return null;const b=!(v.x<c.minX-12/l||v.y<c.minY-16/l||v.x>c.maxX-12/l||v.y>c.maxY-16/l);return m.jsxs(m.Fragment,{children:[A&&n?m.jsx(n,{className:"tl-collaborator__brush",brush:A,color:y,opacity:.1},u+"_brush"):null,b&&o?m.jsx(o,{className:"tl-collaborator__cursor",point:v,color:y,zoom:l,name:p!=="New User"?p:null,chatMessage:d??""},u+"_cursor"):a?m.jsx(a,{className:"tl-collaborator__cursor-hint",point:v,color:y,zoom:l,viewport:c},u+"_cursor_hint"):null,i&&f.length?m.jsx(m.Fragment,{children:f.map(x=>m.jsx(i,{className:"tl-collaborator__scribble",scribble:x,color:y,zoom:l,opacity:x.color==="laser"?.5:.1},u+"_scribble_"+x.id))}):null,s&&h.filter(x=>!r.isShapeHidden(x)).map(x=>m.jsx(s,{className:"tl-collaborator__shape-indicator",shapeId:x,color:y,opacity:.5},u+"_"+x))]})});function uae(e,t){return t>e.options.collaboratorInactiveTimeoutMs?"inactive":t>e.options.collaboratorIdleTimeoutMs?"idle":"active"}function qEt(e,t){const r=I.useRef((t==null?void 0:t.lastActivityTimestamp)??-1),[n,i]=I.useState(()=>uae(e,Date.now()-r.current));return I.useEffect(()=>{const o=e.timers.setInterval(()=>{i(uae(e,Date.now()-r.current))},e.options.collaboratorCheckIntervalMs);return()=>clearInterval(o)},[e]),t&&(r.current=t.lastActivityTimestamp??1/0),n}function zEt(){const e=Ee(),t=Re("is menu open",()=>e.menus.hasAnyOpenMenus(),[e]),[r,n]=I.useState(!1),i=t||r,o=Vz(),a=I.useRef({isDown:!1,isDragging:!1,start:new L}),s=I.useCallback(u=>{u.button===0&&(n(!0),a.current={isDown:!0,isDragging:!1,start:new L(u.clientX,u.clientY)}),e.menus.clearOpenMenus()},[e]),l=I.useCallback(u=>{var d,A,f;if(a.current.isDown){if(a.current.isDragging){(d=o.onPointerMove)==null||d.call(o,u);return}if(L.Dist2(a.current.start,new L(u.clientX,u.clientY))>e.options.dragDistanceSquared){a.current={...a.current,isDown:!0,isDragging:!0};const{x:h,y:p}=a.current.start;(A=o.onPointerDown)==null||A.call(o,{...u,clientX:h,clientY:p,button:0}),(f=o.onPointerMove)==null||f.call(o,u)}}},[o,e]),c=I.useCallback(u=>{var d;(d=o.onPointerUp)==null||d.call(o,u),n(!1),a.current={isDown:!1,isDragging:!1,start:new L(u.clientX,u.clientY)}},[o]);return i&&m.jsx("div",{className:"tlui-menu-click-capture","data-testid":"menu-click-capture.content",...o,onPointerDown:s,onPointerMove:l,onPointerUp:c})}const MDe=I.memo(function({id:t,shape:r,util:n,index:i,backgroundIndex:o,opacity:a}){const s=Ee(),{ShapeErrorFallback:l}=Un(),c=I.useRef(null),u=I.useRef(null),d=I.useRef({transform:"",clipPath:"none",width:0,height:0,x:0,y:0,isCulled:!1});zA("set shape stuff",()=>{const h=s.getShape(t);if(!h)return;const p=d.current,v=s.getShapeClipPath(t)??"none";v!==p.clipPath&&(zo(c.current,"clip-path",v),zo(u.current,"clip-path",v),p.clipPath=v);const y=s.getShapePageTransform(t),b=ct.toCssString(y),x=s.getShapeGeometry(h).bounds;b!==p.transform&&(zo(c.current,"transform",b),zo(u.current,"transform",b),p.transform=b);const S=Math.max(x.width,1),C=Math.max(x.height,1);(S!==p.width||C!==p.height)&&(zo(c.current,"width",S+"px"),zo(c.current,"height",C+"px"),zo(u.current,"width",S+"px"),zo(u.current,"height",C+"px"),p.width=S,p.height=C)},[s]),zA("set opacity and z-index",()=>{const h=c.current,p=u.current;zo(h,"opacity",a),zo(p,"opacity",a),zo(h,"z-index",i),zo(p,"z-index",o)},[a,i,o]),zA("set display",()=>{if(!s.getShape(t))return;const v=s.getCulledShapes().has(t);v!==d.current.isCulled&&(zo(c.current,"display",v?"none":"block"),zo(u.current,"display",v?"none":"block"),d.current.isCulled=v)},[s]);const A=I.useCallback(h=>s.annotateError(h,{origin:"shape",willCrashApp:!1}),[s]);if(!r)return null;const f="fill"in r.props&&r.props.fill!=="none";return m.jsxs(m.Fragment,{children:[n.backgroundComponent&&m.jsx("div",{ref:u,className:"tl-shape tl-shape-background","data-shape-type":r.type,"data-shape-id":r.id,draggable:!1,children:m.jsx(qw,{fallback:l,onError:A,children:m.jsx(kDe,{shape:r,util:n})})}),m.jsx("div",{ref:c,className:"tl-shape","data-shape-type":r.type,"data-shape-is-filled":f,"data-shape-id":r.id,draggable:!1,children:m.jsx(qw,{fallback:l,onError:A,children:m.jsx(FDe,{shape:r,util:n})})})]})}),FDe=I.memo(function({shape:t,util:r}){return KB("InnerShape:"+t.type,()=>r.component(r.editor.store.unsafeGetWithoutCapture(t.id)),[r,t.id])},(e,t)=>e.shape.props===t.shape.props&&e.shape.meta===t.shape.meta&&e.util===t.util),kDe=I.memo(function({shape:t,util:r}){return KB("InnerShape:"+t.type,()=>{var n;return(n=r.backgroundComponent)==null?void 0:n.call(r,r.editor.store.unsafeGetWithoutCapture(t.id))},[r,t.id])},(e,t)=>e.shape.props===t.shape.props&&e.shape.meta===t.shape.meta&&e.util===t.util);function KEt({className:e}){const t=Ee(),{Background:r,SvgDefs:n,ShapeIndicators:i}=Un(),o=I.useRef(null),a=I.useRef(null),s=I.useRef(null),l=Yi();FEt(o),I_t(),E_t(),REt(o),P_t(o);const c=I.useRef({lodDisableTextOutline:!1,allowTextOutline:!0});zA("position layers",function(){const{x:b,y:x,z:S}=t.getCamera();if(c.current.allowTextOutline&&an.isSafari&&(l.style.setProperty("--tl-text-outline","none"),c.current.allowTextOutline=!1),c.current.allowTextOutline&&S<t.options.textShadowLod!==c.current.lodDisableTextOutline){const B=S<t.options.textShadowLod;l.style.setProperty("--tl-text-outline",B?"none":"var(--tl-text-outline-reference)"),c.current.lodDisableTextOutline=B}const C=S>=1?Cm(S,[1,8],[.125,.5],!0):Cm(S,[.1,1],[-2,.125],!0),_=`scale(${_e(S)}) translate(${_e(b+C)}px,${_e(x+C)}px)`;zo(a.current,"transform",_),zo(s.current,"transform",_)},[t,l]);const u=Vz(),d=Re("shapeSvgDefs",()=>{const y=new Map;for(const b of Fi(t.shapeUtils)){if(!b)return;const x=b.getCanvasSvgDefs();for(const{key:S,component:C}of x)y.has(S)||y.set(S,m.jsx(C,{},S))}return[...y.values()]},[t]),A=Re("debug_shapes",()=>xi.hideShapes.get(),[xi]),f=Re("debug_svg",()=>xi.debugSvg.get(),[xi]),h=Re("debug_geometry",()=>xi.debugGeometry.get(),[xi]),p=Re("isEditingAnything",()=>t.getEditingShapeId()!==null,[t]),v=Re("isSelectingAnything",()=>!!t.getSelectedShapeIds().length,[t]);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{ref:o,draggable:!1,"data-iseditinganything":p,"data-isselectinganything":v,className:jt("tl-canvas",e),"data-testid":"canvas",...u,children:[m.jsx("svg",{className:"tl-svg-context",children:m.jsxs("defs",{children:[d,m.jsx(aIt,{}),m.jsx(sIt,{}),n&&m.jsx(n,{})]})}),r&&m.jsx("div",{className:"tl-background__wrapper",children:m.jsx(r,{})}),m.jsx(VEt,{}),m.jsxs("div",{ref:a,className:"tl-html-layer tl-shapes",draggable:!1,children:[m.jsx(dIt,{}),m.jsx(uIt,{}),A?null:f?m.jsx(rIt,{}):m.jsx(iIt,{})]}),m.jsx("div",{className:"tl-overlays",children:m.jsxs("div",{ref:s,className:"tl-html-layer",children:[h?m.jsx(NEt,{}):null,m.jsx(YEt,{}),m.jsx(GEt,{}),m.jsx(XEt,{}),i&&m.jsx(i,{}),m.jsx(oIt,{}),m.jsx(JEt,{}),m.jsx(cIt,{}),m.jsx(ZEt,{}),m.jsx($Et,{})]})}),m.jsx(AIt,{})]}),m.jsx(zEt,{}),m.jsx(WEt,{})]})}function WEt(){const{InFrontOfTheCanvas:e}=Un();return e?m.jsx(e,{}):null}function VEt(){const e=Ee(),t=Re("gridSize",()=>e.getDocumentSettings().gridSize,[e]),{x:r,y:n,z:i}=Re("camera",()=>e.getCamera(),[e]),o=Re("isGridMode",()=>e.getInstanceState().isGridMode,[e]),{Grid:a}=Un();return a&&o?m.jsx(a,{x:r,y:n,z:i,size:t}):null}function GEt(){const e=Ee(),t=Re("scribbles",()=>e.getInstanceState().scribbles,[e]),r=Re("zoomLevel",()=>e.getZoomLevel(),[e]),{Scribble:n}=Un();return n&&t.length?t.map(i=>m.jsx(n,{className:"tl-user-scribble",scribble:i,zoom:r},i.id)):null}function YEt(){const e=Ee(),t=Re("brush",()=>e.getInstanceState().brush,[e]),{Brush:r}=Un();return r&&t?m.jsx(r,{className:"tl-user-brush",brush:t}):null}function XEt(){const e=Ee(),t=Re("zoomBrush",()=>e.getInstanceState().zoomBrush,[e]),{ZoomBrush:r}=Un();return r&&t?m.jsx(r,{className:"tl-user-brush tl-zoom-brush",brush:t}):null}function JEt(){const e=Ee(),t=Re("snapLines",()=>e.snaps.getIndicators(),[e]),r=Re("zoomLevel",()=>e.getZoomLevel(),[e]),{SnapIndicator:n}=Un();return n&&t.length>0?t.map(i=>m.jsx(n,{className:"tl-user-snapline",line:i,zoom:r},i.id)):null}function ZEt(){const e=Ee(),t=Re("handles shapeIdWithHandles",()=>{const{isReadonly:r,isChangingStyle:n}=e.getInstanceState();if(r||n)return!1;const i=e.getOnlySelectedShape();return!i||!e.getShapeHandles(i)?!1:i.id},[e]);return t?m.jsx(eIt,{shapeId:t}):null}function eIt({shapeId:e}){const t=Ee(),{Handles:r}=Un(),n=Re("zoomLevel",()=>t.getZoomLevel(),[t]),i=Re("coarse pointer",()=>t.getInstanceState().isCoarsePointer,[t]),o=Re("handles transform",()=>t.getShapePageTransform(e),[t,e]),a=Re("handles",()=>{const l=t.getShapeHandles(e);if(!l)return null;const c=(i?t.options.coarseHandleRadius:t.options.handleRadius)/n*2;return l.filter(u=>u.type!=="virtual"||!l.some(d=>d!==u&&d.type==="vertex"&&L.Dist(u,d)<c)).sort(u=>u.type==="vertex"?1:-1)},[t,n,i,e]),s=Re("isHidden",()=>t.isShapeHidden(e),[t,e]);return!r||!a||!o||s?null:m.jsx(r,{children:m.jsx("g",{transform:ct.toCssString(o),children:a.map(l=>m.jsx(tIt,{shapeId:e,handle:l,zoom:n,isCoarse:i},l.id))})})}function tIt({shapeId:e,handle:t,zoom:r,isCoarse:n}){const i=MEt(e,t.id),{Handle:o}=Un();return o?m.jsx("g",{"aria-label":"handle",transform:`translate(${t.x}, ${t.y})`,...i,children:m.jsx(o,{shapeId:e,handle:t,zoom:r,isCoarse:n})}):null}function rIt(){const e=Ee();return Re("rendering shapes",()=>e.getRenderingShapes(),[e]).map(r=>m.jsxs(I.Fragment,{children:[m.jsx(MDe,{...r}),m.jsx(lIt,{id:r.id,mode:"iframe"})]},r.id+"_fragment"))}function nIt(){const e=Ee(),t=I.useRef(new Set);return zA("reflow for culled shapes",()=>{const r=e.getCulledShapes();if(t.current.size===r.size&&[...r].every(i=>t.current.has(i)))return;t.current=r;const n=document.getElementsByClassName("tl-canvas");n.length!==0&&n[0].offsetHeight},[e]),null}function iIt(){const e=Ee(),t=Re("rendering shapes",()=>e.getRenderingShapes(),[e]);return m.jsxs(m.Fragment,{children:[t.map(r=>m.jsx(MDe,{...r},r.id+"_shape")),an.isSafari&&m.jsx(nIt,{})]})}function oIt(){const e=Ee(),{ShapeIndicator:t}=Un(),r=Re("hinting shape ids",()=>az(e.getHintingShapeIds()),[e]);return!r.length||!t?null:r.map(n=>m.jsx(t,{className:"tl-user-indicator__hint",shapeId:n},n+"_hinting"))}function aIt(){return m.jsxs("g",{id:ic("cursor"),children:[m.jsxs("g",{fill:"rgba(0,0,0,.2)",transform:"translate(-11,-11)",children:[m.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),m.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),m.jsxs("g",{fill:"white",transform:"translate(-12,-12)",children:[m.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),m.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),m.jsxs("g",{fill:"currentColor",transform:"translate(-12,-12)",children:[m.jsx("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),m.jsx("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})]})]})}function sIt(){const e=ic("cursor_hint");return m.jsx("path",{id:e,fill:"currentColor",d:"M -2,-5 2,0 -2,5 Z"})}function lIt({id:e,mode:t}){const r=Ee(),[n,i]=I.useState(null),o=Re("is in root",()=>{const a=r.getShape(e);return(a==null?void 0:a.parentId)===r.getCurrentPageId()},[r,e]);return I.useEffect(()=>{if(!o)return;let a=null;const s=iu("shape to svg",async()=>{const l=Math.random();a=l;const u=r.isShapeOfType(e,"frame")?0:10;let d=r.getShapePageBounds(e);if(!d)return;d=d.clone().expandBy(u);const A=await r.getSvgString([e],{padding:u});if(a!==l||!A)return;const f=`data:image/svg+xml;utf8,${encodeURIComponent(A.svg)}`;i({src:f,bounds:d})});return()=>{a=null,s()}},[r,e,o]),!o||!n?null:t==="iframe"?m.jsx("iframe",{src:n.src,width:n.bounds.width,height:n.bounds.height,referrerPolicy:"no-referrer",style:{position:"absolute",top:0,left:0,border:"none",transform:`translate(${n.bounds.x}px, ${n.bounds.maxY+12}px)`,outline:"1px solid black",maxWidth:"none"}}):m.jsx("img",{src:n.src,width:n.bounds.width,height:n.bounds.height,referrerPolicy:"no-referrer",style:{position:"absolute",top:0,left:0,transform:`translate(${n.bounds.x}px, ${n.bounds.maxY+12}px)`,outline:"1px solid black",maxWidth:"none"}})}function cIt(){const e=Ee(),t=Re("selection rotation",()=>e.getSelectionRotation(),[e]),r=Re("selection bounds",()=>e.getSelectionRotatedPageBounds(),[e]),{SelectionForeground:n}=Un();return!r||!n?null:m.jsx(n,{bounds:r,rotation:t})}function uIt(){const e=Ee(),t=Re("selection rotation",()=>e.getSelectionRotation(),[e]),r=Re("selection bounds",()=>e.getSelectionRotatedPageBounds(),[e]),{SelectionBackground:n}=Un();return!r||!n?null:m.jsx(n,{bounds:r,rotation:t})}function dIt(){const{OnTheCanvas:e}=Un();return e?m.jsx(e,{}):null}function AIt(){const e=Ee(),t=Re("camera state",()=>e.getCameraState(),[e]);return m.jsx("div",{className:jt("tl-hit-test-blocker",{"tl-hit-test-blocker__hidden":t==="idle"})})}function fIt({className:e,zoom:t,point:r,color:n,viewport:i,opacity:o=1}){const a=I.useRef(null);lv(a,vo(r.x,i.minX+5/t,i.maxX-5/t),vo(r.y,i.minY+5/t,i.maxY-5/t),1/t,L.Angle(i.center,r));const s=ic("cursor_hint");return m.jsxs("svg",{ref:a,className:jt("tl-overlays__item",e),children:[m.jsx("use",{href:`#${s}`,color:n,strokeWidth:3,stroke:"var(--color-background)"}),m.jsx("use",{href:`#${s}`,color:n,opacity:o})]})}const dae=I.memo(function({className:t,zoom:r,point:n,color:i,name:o,chatMessage:a}){const s=I.useRef(null);lv(s,n==null?void 0:n.x,n==null?void 0:n.y,1/r);const l=ic("cursor");return n?m.jsxs("div",{ref:s,className:jt("tl-overlays__item",t),children:[m.jsx("svg",{className:"tl-cursor",children:m.jsx("use",{href:`#${l}`,color:i})}),a?m.jsxs(m.Fragment,{children:[o&&m.jsx("div",{className:"tl-nametag-title",style:{color:i},children:o}),m.jsx("div",{className:"tl-nametag-chat",style:{backgroundColor:i},children:a})]}):o&&m.jsx("div",{className:"tl-nametag",style:{backgroundColor:i},children:o})]}):null});function hIt({x:e,y:t,z:r,size:n}){const i=sv("grid"),o=Ee(),{gridSteps:a}=o.options;return m.jsxs("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("defs",{children:a.map(({min:s,mid:l,step:c},u)=>{const d=c*n*r,A=.5+e*r,f=.5+t*r,h=A>0?A%d:d+A%d,p=f>0?f%d:d+f%d,v=r<l?Cm(r,[s,l],[0,1]):1;return m.jsx("pattern",{id:qz(i,`${c}`),width:d,height:d,patternUnits:"userSpaceOnUse",children:m.jsx("circle",{className:"tl-grid-dot",cx:h,cy:p,r:1,opacity:v})},u)})}),a.map(({step:s},l)=>m.jsx("rect",{width:"100%",height:"100%",fill:`url(#${i}_${s})`},l))]})}function pIt({handle:e,isCoarse:t,className:r,zoom:n}){const i=Ee(),o=(t?i.options.coarseHandleRadius:i.options.handleRadius)/n;if(e.type==="clone"){const s=3/n,l=`M0,${-s} A${s},${s} 0 0,1 0,${s}`,c=y_t.indexOf(e.id);return m.jsxs("g",{className:jt(`tl-handle tl-handle__${e.type}`,r),children:[m.jsx("circle",{className:"tl-handle__bg",r:o}),m.jsx("path",{className:"tl-handle__fg",d:l,transform:`rotate(${-90+90*c})`})]})}const a=(e.type==="create"&&t?3:4)/Math.max(n,.25);return m.jsxs("g",{className:jt(`tl-handle tl-handle__${e.type}`,r),children:[m.jsx("circle",{className:"tl-handle__bg",r:o}),m.jsx("circle",{className:"tl-handle__fg",r:a})]})}const gIt=({children:e})=>m.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:e}),mIt=()=>{const{Spinner:e}=Un();return m.jsx(KK,{children:e?m.jsx(e,{}):null})};function Yz(e,t=!0){const r=e.length;if(r<2)return"";let n=e[0],i=e[1];if(r===2)return`M${$r(n)}L${$r(i)}`;let o="";for(let a=2,s=r-1;a<s;a++)n=e[a],i=e[a+1],o+=Ga(n,i);return t?`M${Ga(e[0],e[1])}Q${$r(e[1])}${Ga(e[1],e[2])}T${o}${Ga(e[r-1],e[0])}${Ga(e[0],e[1])}Z`:`M${$r(e[0])}Q${$r(e[1])}${Ga(e[1],e[2])}${e.length>3?"T":""}${o}L${$r(e[r-1])}`}function Aae({scribble:e,zoom:t,color:r,opacity:n,className:i}){return e.points.length?m.jsx("svg",{className:i&&jt("tl-overlays__item",i),children:m.jsx("path",{className:"tl-scribble",d:Yz(e.points,!1),stroke:r??`var(--color-${e.color})`,fill:"none",strokeWidth:8/t,opacity:n??e.opacity})}):null}function UDe({bounds:e,rotation:t}){const r=I.useRef(null);return lv(r,e.x,e.y,1,t),I.useLayoutEffect(()=>{const n=r.current;n&&(n.style.width=_e(Math.max(1,e.width))+"px",n.style.height=_e(Math.max(1,e.height))+"px")},[e.width,e.height]),m.jsx("div",{ref:r,className:"tl-selection__bg",draggable:!1})}function vIt({bounds:e,rotation:t}){const r=Ee(),n=I.useRef(null),i=Re("only selected shape",()=>r.getOnlySelectedShape(),[r]),o=i?r.getShapeUtil(i).expandSelectionOutlinePx(i):0;return lv(n,e==null?void 0:e.x,e==null?void 0:e.y,1,t,{x:-o,y:-o}),e=o instanceof st?e.clone().expand(o).zeroFix():e.clone().expandBy(o).zeroFix(),m.jsx("svg",{ref:n,className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:m.jsx("rect",{className:jt("tl-selection__fg__outline"),width:_e(e.width),height:_e(e.height)})})}const yIt=()=>m.jsx("div",{className:"tl-shape-error-boundary"}),wIt=({shape:e,util:t})=>KB("Indicator: "+e.type,()=>t.indicator(t.editor.store.unsafeGetWithoutCapture(e.id))),bIt=({editor:e,id:t})=>{const r=Re("shape for indicator",()=>e.store.get(t),[e,t]),{ShapeIndicatorErrorFallback:n}=Un();return!r||r.isLocked?null:m.jsx(qw,{fallback:n,onError:i=>e.annotateError(i,{origin:"react.shapeIndicator",willCrashApp:!1}),children:m.jsx(wIt,{shape:r,util:e.getShapeUtil(r)},r.id)})},fae=I.memo(function({shapeId:t,className:r,color:n,hidden:i,opacity:o}){const a=Ee(),s=I.useRef(null);return zA("indicator transform",()=>{const l=s.current;if(!l)return;const c=a.getShapePageTransform(t);c&&l.style.setProperty("transform",c.toCssString())},[a,t]),I.useLayoutEffect(()=>{const l=s.current;l&&l.style.setProperty("display",i?"none":"block")},[i]),m.jsx("svg",{ref:s,className:jt("tl-overlays__item",r),children:m.jsx("g",{className:"tl-shape-indicator",stroke:n??"var(--color-selected)",opacity:o,children:m.jsx(bIt,{editor:a,id:t})})})}),xIt=()=>m.jsx("circle",{cx:4,cy:4,r:8,strokeWidth:"1",stroke:"red"}),DDe=I.memo(function(){const t=Ee(),r=I.useRef(new Set),n=Re("should display selected ids",()=>{const a=r.current,s=new Set;if(t.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle")&&!t.getInstanceState().isChangingStyle){const l=t.getSelectedShapeIds();for(const c of l)s.add(c);if(t.isInAny("select.idle","select.editing_shape")){const c=t.getInstanceState();if(c.isHoveringCanvas&&!c.isCoarsePointer){const u=t.getHoveredShapeId();u&&s.add(u)}}}if(a.size!==s.size)return r.current=s,s;for(const l of s)if(!a.has(l))return r.current=s,s;return a},[t]),i=Re("rendering shapes",()=>t.getRenderingShapes(),[t]),{ShapeIndicator:o}=Un();return o?i.map(({id:a})=>m.jsx(o,{shapeId:a,hidden:!n.has(a)},a+"_indicator")):null});function SIt({points:e,zoom:t}){const r=2.5/t,n=e.reduce((A,f)=>Math.min(A,f.x),1/0),i=e.reduce((A,f)=>Math.max(A,f.x),-1/0),o=e.reduce((A,f)=>Math.min(A,f.y),1/0),a=e.reduce((A,f)=>Math.max(A,f.y),-1/0),s=e.some(A=>A.x===n&&A.y===o);let l,c,u,d;return s?(l=n,c=o,u=i,d=a):(l=n,c=a,u=i,d=o),m.jsxs("g",{className:"tl-snap-indicator",stroke:"lime",children:[m.jsx("line",{x1:l,y1:c,x2:u,y2:d}),e.map((A,f)=>m.jsx("g",{transform:`translate(${A.x},${A.y})`,children:m.jsx("path",{className:"tl-snap-point",d:`M ${-r},${-r} L ${r},${r} M ${-r},${r} L ${r},${-r}`})},f))]})}function CIt({gaps:e,direction:t,zoom:r}){const n=3.5/r;let i=[-1/0,1/0],o=null;const a=t==="horizontal";for(const l of e){if(o=Vl(i[0],i[1],a?l.startEdge[0].y:l.startEdge[0].x,a?l.startEdge[1].y:l.startEdge[1].x),o)i=o;else continue;if(o=Vl(i[0],i[1],a?l.endEdge[0].y:l.endEdge[0].x,a?l.endEdge[1].y:l.endEdge[1].x),o)i=o;else continue}if(i===null)return null;const s=(i[0]+i[1])/2;return m.jsx("g",{className:"tl-snap-indicator",stroke:"cyan",children:e.map(({startEdge:l,endEdge:c},u)=>m.jsx(I.Fragment,{children:a?m.jsxs(m.Fragment,{children:[m.jsx("line",{x1:l[0].x,y1:s-2*n,x2:l[1].x,y2:s+2*n}),m.jsx("line",{x1:c[0].x,y1:s-2*n,x2:c[1].x,y2:s+2*n}),m.jsx("line",{x1:l[0].x,y1:s,x2:c[0].x,y2:s}),m.jsx("line",{x1:(l[0].x+c[0].x)/2,y1:s-n,x2:(l[0].x+c[0].x)/2,y2:s+n})]}):m.jsxs(m.Fragment,{children:[m.jsx("line",{x1:s-2*n,y1:l[0].y,x2:s+2*n,y2:l[1].y}),m.jsx("line",{x1:s-2*n,y1:c[0].y,x2:s+2*n,y2:c[1].y}),m.jsx("line",{x1:s,y1:l[0].y,x2:s,y2:c[0].y}),m.jsx("line",{x1:s-n,y1:(l[0].y+c[0].y)/2,x2:s+n,y2:(l[0].y+c[0].y)/2})]})},u))})}function _It({className:e,line:t,zoom:r}){return m.jsx("svg",{className:jt("tl-overlays__item",e),children:t.type==="points"?m.jsx(SIt,{...t,zoom:r}):t.type==="gaps"?m.jsx(CIt,{...t,zoom:r}):null})}function Xz(){return m.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",children:m.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[m.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"currentColor"}),m.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"currentColor",children:m.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}const EIt=()=>null;function jDe(e,t){const r=I.useRef(e);return t(e,r.current)?r.current:(r.current=e,e)}const IIt=(e,t)=>(e??(e=null),t??(t=null),e===t?!0:!e||!t?!1:yke(e,t));function PA(e){return jDe(e,IIt)}const BIt=(e,t)=>(e??(e=null),t??(t=null),e===t?!0:!e||!t?!1:_ke(e,t));function cv(e){return jDe(e,BIt)}const LDe=I.createContext(null);function PIt({overrides:e={},children:t}){const r=cv(e),n=I.useMemo(()=>({Background:v_t,SvgDefs:EIt,Brush:nj,ZoomBrush:nj,CollaboratorBrush:nj,Cursor:dae,CollaboratorCursor:dae,CollaboratorHint:fIt,CollaboratorShapeIndicator:fae,Grid:hIt,Scribble:Aae,SnapIndicator:_It,Handles:gIt,Handle:pIt,CollaboratorScribble:Aae,ErrorFallback:$De,ShapeErrorFallback:yIt,ShapeIndicatorErrorFallback:xIt,Spinner:Xz,SelectionBackground:UDe,SelectionForeground:vIt,ShapeIndicators:DDe,ShapeIndicator:fae,OnTheCanvas:null,InFrontOfTheCanvas:null,Canvas:KEt,LoadingScreen:mIt,...r}),[r]);return m.jsx(LDe.Provider,{value:n,children:t})}function Un(){const e=I.useContext(LDe);if(!e)throw new Error("useEditorComponents must be used inside of <EditorComponentsProvider />");return e}const eP={openWindow(e,t){window.open(e,t,"noopener noreferrer")},refreshPage(){window.location.reload()},async hardReset(){var e;return await((e=window.__tldraw__hardReset)==null?void 0:e.call(window))}};function NDe(){eP.hardReset()}function TIt(){eP.refreshPage()}const OIt="https://github.com/tldraw/tldraw/issues/new",$De=({error:e,editor:t})=>{const r=I.useRef(null),[n,i]=I.useState(!1),[o,a]=I.useState(!1),[s,l]=I.useState(!1);let c=null;try{c=Un().Canvas??null}catch{}const u=e instanceof Error?e.message:String(e),d=e instanceof Error?e.stack:null,A=Re("isDarkMode",()=>{try{if(t)return t.user.getIsDarkMode()}catch{}return null},[t]),[f,h]=I.useState(null);I.useLayoutEffect(()=>{var C;A!==null&&h(A);let x=(C=r.current)==null?void 0:C.parentElement,S=!1;for(;x;){if(x.classList.contains("tl-theme__dark")||x.classList.contains("tl-theme__light")){S=!0;break}x=x.parentElement}if(S){h(null);return}typeof window<"u"&&"matchMedia"in window&&h(window.matchMedia("(prefers-color-scheme: dark)").matches)},[A]),I.useEffect(()=>{if(o){const x=t==null?void 0:t.timers.setTimeout(()=>{a(!1)},2e3);return()=>clearTimeout(x)}},[o,t]);const p=()=>{const x=document.createElement("textarea");x.value=d??u,document.body.appendChild(x),x.select(),document.execCommand("copy"),x.remove(),a(!0)},v=()=>{TIt()},y=async()=>{NDe()},b=new URL(OIt);return b.searchParams.set("title",u),b.searchParams.set("labels","bug"),b.searchParams.set("body",`Hey, I ran into an error while using tldraw:

\`\`\`js
${d??u}
\`\`\`

My browser: ${navigator.userAgent}`),m.jsxs("div",{ref:r,className:jt("tl-container tl-error-boundary",f===null?"":f?"tl-theme__dark":"tl-theme__light"),children:[m.jsx("div",{className:"tl-error-boundary__overlay"}),t&&m.jsx(Hz,{onError:jw,fallback:()=>null,children:m.jsx(Kz,{editor:t,children:m.jsx("div",{className:"tl-overlay tl-error-boundary__canvas",children:c?m.jsx(c,{}):null})})}),m.jsx("div",{className:jt("tl-modal","tl-error-boundary__content",{"tl-error-boundary__content__expanded":n&&!s}),children:s?m.jsxs(m.Fragment,{children:[m.jsx("h2",{children:"Are you sure?"}),m.jsx("p",{children:"Resetting your data will delete your drawing and cannot be undone."}),m.jsxs("div",{className:"tl-error-boundary__content__actions",children:[m.jsx("button",{onClick:()=>l(!1),children:"Cancel"}),m.jsx("button",{className:"tl-error-boundary__reset",onClick:y,children:"Reset data"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("h2",{children:"Something went wrong"}),m.jsx("p",{children:"Please refresh the page to continue."}),m.jsxs("p",{children:["If you keep seeing this screen, you can create a"," ",m.jsx("a",{href:b.toString(),children:"GitHub issue"})," or ask for help on"," ",m.jsx("a",{href:"https://discord.tldraw.com/?utm_source=sdk&utm_medium=organic&utm_campaign=error-screen",children:"Discord"}),". If you are still stuck, you can reset the tldraw data on your machine. This may erase the project you were working on, so try to get help first."]}),n&&m.jsxs(m.Fragment,{children:["Message:",m.jsx("h4",{children:m.jsx("code",{children:u})}),"Stack trace:",m.jsxs("div",{className:"tl-error-boundary__content__error",children:[m.jsx("pre",{children:m.jsx("code",{children:d??u})}),m.jsx("button",{onClick:p,children:o?"Copied!":"Copy"})]})]}),m.jsxs("div",{className:"tl-error-boundary__content__actions",children:[m.jsx("button",{onClick:()=>i(!n),children:n?"Hide details":"Show details"}),m.jsxs("div",{className:"tl-error-boundary__content__actions__group",children:[m.jsx("button",{className:"tl-error-boundary__reset",onClick:()=>l(!0),children:"Reset data"}),m.jsx("button",{className:"tl-error-boundary__refresh",onClick:v,children:"Refresh Page"})]})]})]})})]})},QDe="TLDRAW_USER_DATA_v3",HDe=Er({id:or,name:or.nullable().optional(),color:or.nullable().optional(),locale:or.nullable().optional(),animationSpeed:Yt.nullable().optional(),edgeScrollSpeed:Yt.nullable().optional(),colorScheme:YB("light","dark","system").optional(),isSnapMode:Cr.nullable().optional(),isWrapMode:Cr.nullable().optional(),isDynamicSizeMode:Cr.nullable().optional(),isPasteAtCursorMode:Cr.nullable().optional()}),ed={AddAnimationSpeed:1,AddIsSnapMode:2,MakeFieldsNullable:3,AddEdgeScrollSpeed:4,AddExcalidrawSelectMode:5,AddDynamicSizeMode:6,AllowSystemColorScheme:7,AddPasteAtCursor:8},Jz=Math.max(...Object.values(ed));function RIt(e){e.version<ed.AddAnimationSpeed&&(e.user.animationSpeed=1),e.version<ed.AddIsSnapMode&&(e.user.isSnapMode=!1),e.version<ed.MakeFieldsNullable,e.version<ed.AddEdgeScrollSpeed&&(e.user.edgeScrollSpeed=1),e.version<ed.AddExcalidrawSelectMode&&(e.user.isWrapMode=!1),e.version<ed.AllowSystemColorScheme&&(e.user.isDarkMode===!0?e.user.colorScheme="dark":e.user.isDarkMode===!1&&(e.user.colorScheme="light"),delete e.user.isDarkMode),e.version<ed.AddDynamicSizeMode&&(e.user.isDynamicSizeMode=!1),e.version<ed.AddPasteAtCursor&&(e.user.isPasteAtCursorMode=!1),e.version=Jz}const Z3=["#FF802B","#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467"];function qDe(){return Z3[Math.floor(Math.random()*Z3.length)]}function MIt(){var e,t;return typeof window<"u"&&"matchMedia"in window?((t=(e=window.matchMedia)==null?void 0:e.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:t.matches)??!1:!1}const $c=Object.freeze({name:"New User",locale:d_t(),color:qDe(),edgeScrollSpeed:1,animationSpeed:MIt()?0:1,isSnapMode:!1,isWrapMode:!1,isDynamicSizeMode:!1,isPasteAtCursorMode:!1,colorScheme:"light"});function lj(){return{id:tn(),color:qDe()}}function zDe(e){if(e===null||typeof e!="object"||!("version"in e)||!("user"in e)||typeof e.version!="number")return lj();const t=kn(e);RIt(t);try{return HDe.validate(t.user)}catch{return lj()}}function FIt(){const e=JSON.parse(fz(QDe)||"null")??null;return zDe(e)}const tP=Ci("globalUserData",null);function kIt(){hz(QDe,JSON.stringify({version:Jz,user:tP.get()}))}function KDe(e){HDe.validate(e),tP.set(e),kIt(),UIt()}const qg=typeof BroadcastChannel<"u"?new BroadcastChannel("tldraw-user-sync"):null;qg==null||qg.addEventListener("message",e=>{const t=e.data;(t==null?void 0:t.type)===VDe&&(t==null?void 0:t.origin)!==WDe()&&tP.set(zDe(t.data))});let cj=null;function WDe(){return cj===null&&(cj=tn()),cj}const VDe="tldraw-user-preferences-change";function UIt(){qg==null||qg.postMessage({type:VDe,origin:WDe(),data:{user:GDe(),version:Jz}})}function GDe(){let e=tP.get();return e||(e=FIt(),KDe(e)),e}const DIt=qe("defaultLocalStorageUserPrefs",()=>GDe());function YDe(e={}){return{userPreferences:e.userPreferences??DIt,setUserPreferences:e.setUserPreferences??KDe}}var hae={},pae={},uj={},dj,gae;function Ds(){if(gae)return dj;gae=1;var e=Qe();return dj=e([].slice),dj}var mae;function Zz(){if(mae)return uj;mae=1;var e=la(),t=Vi(),r=ip().f,n=Ds(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(a){try{return r(a)}catch{return n(i)}};return uj.f=function(s){return i&&e(s)==="Window"?o(s):r(t(s))},uj}var Aj,vae;function jn(){if(vae)return Aj;vae=1;var e=jB(),t=vn();return Aj=function(r,n,i){return i.get&&e(i.get,n,{getter:!0}),i.set&&e(i.set,n,{setter:!0}),t.f(r,n,i)},Aj}var fj={},yae;function XDe(){if(yae)return fj;yae=1;var e=qt();return fj.f=e,fj}var hj,wae;function eK(){if(wae)return hj;wae=1;var e=ht();return hj=e,hj}var pj,bae;function ii(){if(bae)return pj;bae=1;var e=eK(),t=ar(),r=XDe(),n=vn().f;return pj=function(i){var o=e.Symbol||(e.Symbol={});t(o,i)||n(o,i,{value:r.f(i)})},pj}var gj,xae;function JDe(){if(xae)return gj;xae=1;var e=gt(),t=Vt(),r=qt(),n=Zr();return gj=function(){var i=t("Symbol"),o=i&&i.prototype,a=o&&o.valueOf,s=r("toPrimitive");o&&!o[s]&&n(o,s,function(l){return e(a,this)},{arity:1})},gj}var mj,Sae;function os(){if(Sae)return mj;Sae=1;var e=vn().f,t=ar(),r=qt(),n=r("toStringTag");return mj=function(i,o,a){i&&!a&&(i=i.prototype),i&&!t(i,n)&&e(i,n,{configurable:!0,value:o})},mj}var vj,Cae;function Ti(){if(Cae)return vj;Cae=1;var e=un(),t=Qe(),r=pf(),n=fr(),i=Tr(),o=Nb(),a=t([].push),s=function(l){var c=l===1,u=l===2,d=l===3,A=l===4,f=l===6,h=l===7,p=l===5||f;return function(v,y,b,x){for(var S=n(v),C=r(S),_=i(C),B=e(y,b),T=0,O=x||o,P=c?O(v,_):u||h?O(v,0):void 0,F,U;_>T;T++)if((p||T in C)&&(F=C[T],U=B(F,T,S),l))if(c)P[T]=U;else if(U)switch(l){case 3:return!0;case 5:return F;case 6:return T;case 2:a(P,F)}else switch(l){case 4:return!1;case 7:a(P,F)}return f?-1:d||A?A:P}};return vj={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)},vj}var _ae;function jIt(){if(_ae)return pae;_ae=1;var e=J(),t=ht(),r=gt(),n=Qe(),i=Ar(),o=Nt(),a=tp(),s=rt(),l=ar(),c=ca(),u=pt(),d=Vi(),A=Ld(),f=er(),h=Fs(),p=Pi(),v=iv(),y=ip(),b=Zz(),x=LB(),S=Oo(),C=vn(),_=yz(),B=RB(),T=Zr(),O=jn(),P=mf(),F=DB(),U=Ub(),k=np(),M=qt(),D=XDe(),j=ii(),$=JDe(),Q=os(),H=Vr(),W=Ti().forEach,z=F("hidden"),V="Symbol",G="prototype",X=H.set,Z=H.getterFor(V),oe=Object[G],ae=t.Symbol,ne=ae&&ae[G],te=t.RangeError,se=t.TypeError,de=t.QObject,re=S.f,he=C.f,ye=b.f,ke=B.f,Ue=n([].push),Ne=P("symbols"),Ye=P("op-symbols"),lt=P("wks"),Ve=!de||!de[G]||!de[G].findChild,Te=function(ce,pe,xe){var $e=re(oe,pe);$e&&delete oe[pe],he(ce,pe,xe),$e&&ce!==oe&&he(oe,pe,$e)},we=o&&s(function(){return p(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!==7})?Te:he,Be=function(ce,pe){var xe=Ne[ce]=p(ne);return X(xe,{type:V,tag:ce,description:pe}),o||(xe.description=pe),xe},Ze=function(pe,xe,$e){pe===oe&&Ze(Ye,xe,$e),u(pe);var ve=A(xe);return u($e),l(Ne,ve)?($e.enumerable?(l(pe,z)&&pe[z][ve]&&(pe[z][ve]=!1),$e=p($e,{enumerable:h(0,!1)})):(l(pe,z)||he(pe,z,h(1,p(null))),pe[z][ve]=!0),we(pe,ve,$e)):he(pe,ve,$e)},me=function(pe,xe){u(pe);var $e=d(xe),ve=v($e).concat(ee($e));return W(ve,function(ot){(!o||r(Oe,$e,ot))&&Ze(pe,ot,$e[ot])}),pe},Se=function(pe,xe){return xe===void 0?p(pe):me(p(pe),xe)},Oe=function(pe){var xe=A(pe),$e=r(ke,this,xe);return this===oe&&l(Ne,xe)&&!l(Ye,xe)?!1:$e||!l(this,xe)||!l(Ne,xe)||l(this,z)&&this[z][xe]?$e:!0},it=function(pe,xe){var $e=d(pe),ve=A(xe);if(!($e===oe&&l(Ne,ve)&&!l(Ye,ve))){var ot=re($e,ve);return ot&&l(Ne,ve)&&!(l($e,z)&&$e[z][ve])&&(ot.enumerable=!0),ot}},ft=function(pe){var xe=ye(d(pe)),$e=[];return W(xe,function(ve){!l(Ne,ve)&&!l(U,ve)&&Ue($e,ve)}),$e},ee=function(ce){var pe=ce===oe,xe=ye(pe?Ye:d(ce)),$e=[];return W(xe,function(ve){l(Ne,ve)&&(!pe||l(oe,ve))&&Ue($e,Ne[ve])}),$e};return a||(ae=function(){if(c(ne,this))throw new se("Symbol is not a constructor");var pe=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),xe=k(pe),$e=function(ve){var ot=this===void 0?t:this;ot===oe&&r($e,Ye,ve),l(ot,z)&&l(ot[z],xe)&&(ot[z][xe]=!1);var xt=h(1,ve);try{we(ot,xe,xt)}catch(De){if(!(De instanceof te))throw De;Te(ot,xe,xt)}};return o&&Ve&&we(oe,xe,{configurable:!0,set:$e}),Be(xe,pe)},ne=ae[G],T(ne,"toString",function(){return Z(this).tag}),T(ae,"withoutSetter",function(ce){return Be(k(ce),ce)}),B.f=Oe,C.f=Ze,_.f=me,S.f=it,y.f=b.f=ft,x.f=ee,D.f=function(ce){return Be(M(ce),ce)},o&&(O(ne,"description",{configurable:!0,get:function(){return Z(this).description}}),i||T(oe,"propertyIsEnumerable",Oe,{unsafe:!0}))),e({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:ae}),W(v(lt),function(ce){j(ce)}),e({target:V,stat:!0,forced:!a},{useSetter:function(){Ve=!0},useSimple:function(){Ve=!1}}),e({target:"Object",stat:!0,forced:!a,sham:!o},{create:Se,defineProperty:Ze,defineProperties:me,getOwnPropertyDescriptor:it}),e({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:ft}),$(),Q(ae,V),U[z]=!0,pae}var Eae={},yj,Iae;function ZDe(){if(Iae)return yj;Iae=1;var e=tp();return yj=e&&!!Symbol.for&&!!Symbol.keyFor,yj}var Bae;function LIt(){if(Bae)return Eae;Bae=1;var e=J(),t=Vt(),r=ar(),n=er(),i=mf(),o=ZDe(),a=i("string-to-symbol-registry"),s=i("symbol-to-string-registry");return e({target:"Symbol",stat:!0,forced:!o},{for:function(l){var c=n(l);if(r(a,c))return a[c];var u=t("Symbol")(c);return a[c]=u,s[u]=c,u}}),Eae}var Pae={},Tae;function NIt(){if(Tae)return Pae;Tae=1;var e=J(),t=ar(),r=gf(),n=rp(),i=mf(),o=ZDe(),a=i("symbol-to-string-registry");return e({target:"Symbol",stat:!0,forced:!o},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(t(a,l))return a[l]}}),Pae}var Oae={},wj,Rae;function eje(){if(Rae)return wj;Rae=1;var e=Qe(),t=Eu(),r=ir(),n=la(),i=er(),o=e([].push);return wj=function(a){if(r(a))return a;if(t(a)){for(var s=a.length,l=[],c=0;c<s;c++){var u=a[c];typeof u=="string"?o(l,u):(typeof u=="number"||n(u)==="Number"||n(u)==="String")&&o(l,i(u))}var d=l.length,A=!0;return function(f,h){if(A)return A=!1,h;if(t(this))return h;for(var p=0;p<d;p++)if(l[p]===f)return h}}},wj}var Mae;function tje(){if(Mae)return Oae;Mae=1;var e=J(),t=Vt(),r=Pa(),n=gt(),i=Qe(),o=rt(),a=ir(),s=gf(),l=Ds(),c=eje(),u=tp(),d=String,A=t("JSON","stringify"),f=i(/./.exec),h=i("".charAt),p=i("".charCodeAt),v=i("".replace),y=i(1 .toString),b=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,C=!u||o(function(){var O=t("Symbol")("stringify detection");return A([O])!=="[null]"||A({a:O})!=="{}"||A(Object(O))!=="{}"}),_=o(function(){return A("\uDF06\uD834")!=='"\\udf06\\ud834"'||A("\uDEAD")!=='"\\udead"'}),B=function(O,P){var F=l(arguments),U=c(P);if(!(!a(U)&&(O===void 0||s(O))))return F[1]=function(k,M){if(a(U)&&(M=n(U,this,d(k),M)),!s(M))return M},r(A,null,F)},T=function(O,P,F){var U=h(F,P-1),k=h(F,P+1);return f(x,O)&&!f(S,k)||f(S,O)&&!f(x,U)?"\\u"+y(p(O,0),16):O};return A&&e({target:"JSON",stat:!0,arity:3,forced:C||_},{stringify:function(P,F,U){var k=l(arguments),M=r(C?B:A,null,k);return _&&typeof M=="string"?v(M,b,T):M}}),Oae}var Fae={},kae;function $It(){if(kae)return Fae;kae=1;var e=J(),t=tp(),r=rt(),n=LB(),i=fr(),o=!t||r(function(){n.f(1)});return e({target:"Object",stat:!0,forced:o},{getOwnPropertySymbols:function(s){var l=n.f;return l?l(i(s)):[]}}),Fae}var Uae;function QIt(){return Uae||(Uae=1,jIt(),LIt(),NIt(),tje(),$It()),hae}var Dae={},jae;function HIt(){if(jae)return Dae;jae=1;var e=J(),t=Nt(),r=ht(),n=Qe(),i=ar(),o=ir(),a=ca(),s=er(),l=jn(),c=nv(),u=r.Symbol,d=u&&u.prototype;if(t&&o(u)&&(!("description"in d)||u().description!==void 0)){var A={},f=function(){var C=arguments.length<1||arguments[0]===void 0?void 0:s(arguments[0]),_=a(d,this)?new u(C):C===void 0?u():u(C);return C===""&&(A[_]=!0),_};c(f,u),f.prototype=d,d.constructor=f;var h=String(u("description detection"))==="Symbol(description detection)",p=n(d.valueOf),v=n(d.toString),y=/^Symbol\((.*)\)[^)]+$/,b=n("".replace),x=n("".slice);l(d,"description",{configurable:!0,get:function(){var C=p(this);if(i(A,C))return"";var _=v(C),B=h?x(_,7,-1):b(_,y,"$1");return B===""?void 0:B}}),e({global:!0,constructor:!0,forced:!0},{Symbol:f})}return Dae}var Lae={},Nae;function qIt(){if(Nae)return Lae;Nae=1;var e=ii();return e("asyncIterator"),Lae}var $ae={},Qae;function zIt(){if(Qae)return $ae;Qae=1;var e=ii();return e("hasInstance"),$ae}var Hae={},qae;function KIt(){if(qae)return Hae;qae=1;var e=ii();return e("isConcatSpreadable"),Hae}var zae={},Kae;function WIt(){if(Kae)return zae;Kae=1;var e=ii();return e("iterator"),zae}var Wae={},Vae;function VIt(){if(Vae)return Wae;Vae=1;var e=ii();return e("match"),Wae}var Gae={},Yae;function GIt(){if(Yae)return Gae;Yae=1;var e=ii();return e("matchAll"),Gae}var Xae={},Jae;function YIt(){if(Jae)return Xae;Jae=1;var e=ii();return e("replace"),Xae}var Zae={},ese;function XIt(){if(ese)return Zae;ese=1;var e=ii();return e("search"),Zae}var tse={},rse;function JIt(){if(rse)return tse;rse=1;var e=ii();return e("species"),tse}var nse={},ise;function ZIt(){if(ise)return nse;ise=1;var e=ii();return e("split"),nse}var ose={},ase;function eBt(){if(ase)return ose;ase=1;var e=ii(),t=JDe();return e("toPrimitive"),t(),ose}var sse={},lse;function tBt(){if(lse)return sse;lse=1;var e=Vt(),t=ii(),r=os();return t("toStringTag"),r(e("Symbol"),"Symbol"),sse}var cse={},use;function rBt(){if(use)return cse;use=1;var e=ii();return e("unscopables"),cse}var dse={},bj,Ase;function rP(){if(Ase)return bj;Ase=1;var e=Qe(),t=Gt();return bj=function(r,n,i){try{return e(t(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},bj}var xj,fse;function rje(){if(fse)return xj;fse=1;var e=Jt();return xj=function(t){return e(t)||t===null},xj}var Sj,hse;function nje(){if(hse)return Sj;hse=1;var e=rje(),t=String,r=TypeError;return Sj=function(n){if(e(n))return n;throw new r("Can't set "+t(n)+" as a prototype")},Sj}var Cj,pse;function mc(){if(pse)return Cj;pse=1;var e=rP(),t=Jt(),r=Bn(),n=nje();return Cj=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,o={},a;try{a=e(Object.prototype,"__proto__","set"),a(o,[]),i=o instanceof Array}catch{}return function(l,c){return r(l),n(c),t(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Cj}var _j,gse;function ije(){if(gse)return _j;gse=1;var e=vn().f;return _j=function(t,r,n){n in t||e(t,n,{configurable:!0,get:function(){return r[n]},set:function(i){r[n]=i}})},_j}var Ej,mse;function sp(){if(mse)return Ej;mse=1;var e=ir(),t=Jt(),r=mc();return Ej=function(n,i,o){var a,s;return r&&e(a=i.constructor)&&a!==o&&t(s=a.prototype)&&s!==o.prototype&&r(n,s),n},Ej}var Ij,vse;function uv(){if(vse)return Ij;vse=1;var e=er();return Ij=function(t,r){return t===void 0?arguments.length<2?"":r:e(t)},Ij}var Bj,yse;function oje(){if(yse)return Bj;yse=1;var e=Jt(),t=Gi();return Bj=function(r,n){e(n)&&"cause"in n&&t(r,"cause",n.cause)},Bj}var Pj,wse;function tK(){if(wse)return Pj;wse=1;var e=Qe(),t=Error,r=e("".replace),n=function(a){return String(new t(a).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,o=i.test(n);return Pj=function(a,s){if(o&&typeof a=="string"&&!t.prepareStackTrace)for(;s--;)a=r(a,i,"");return a},Pj}var Tj,bse;function aje(){if(bse)return Tj;bse=1;var e=rt(),t=Fs();return Tj=!e(function(){var r=new Error("a");return"stack"in r?(Object.defineProperty(r,"stack",t(1,7)),r.stack!==7):!0}),Tj}var Oj,xse;function rK(){if(xse)return Oj;xse=1;var e=Gi(),t=tK(),r=aje(),n=Error.captureStackTrace;return Oj=function(i,o,a,s){r&&(n?n(i,o):e(i,"stack",t(a,s)))},Oj}var Rj,Sse;function sje(){if(Sse)return Rj;Sse=1;var e=Vt(),t=ar(),r=Gi(),n=ca(),i=mc(),o=nv(),a=ije(),s=sp(),l=uv(),c=oje(),u=rK(),d=Nt(),A=Ar();return Rj=function(f,h,p,v){var y="stackTraceLimit",b=v?2:1,x=f.split("."),S=x[x.length-1],C=e.apply(null,x);if(C){var _=C.prototype;if(!A&&t(_,"cause")&&delete _.cause,!p)return C;var B=e("Error"),T=h(function(O,P){var F=l(v?P:O,void 0),U=v?new C(O):new C;return F!==void 0&&r(U,"message",F),u(U,T,U.stack,2),this&&n(_,this)&&s(U,this,T),arguments.length>b&&c(U,arguments[b]),U});if(T.prototype=_,S!=="Error"?i?i(T,B):o(T,B,{name:!0}):d&&y in C&&(a(T,C,y),a(T,C,"prepareStackTrace")),o(T,C),!A)try{_.name!==S&&r(_,"name",S),_.constructor=T}catch{}return T}},Rj}var Cse;function nBt(){if(Cse)return dse;Cse=1;var e=J(),t=ht(),r=Pa(),n=sje(),i="WebAssembly",o=t[i],a=new Error("e",{cause:7}).cause!==7,s=function(c,u){var d={};d[c]=n(c,u,a),e({global:!0,constructor:!0,arity:1,forced:a},d)},l=function(c,u){if(o&&o[c]){var d={};d[c]=n(i+"."+c,u,a),e({target:i,stat:!0,constructor:!0,arity:1,forced:a},d)}};return s("Error",function(c){return function(d){return r(c,this,arguments)}}),s("EvalError",function(c){return function(d){return r(c,this,arguments)}}),s("RangeError",function(c){return function(d){return r(c,this,arguments)}}),s("ReferenceError",function(c){return function(d){return r(c,this,arguments)}}),s("SyntaxError",function(c){return function(d){return r(c,this,arguments)}}),s("TypeError",function(c){return function(d){return r(c,this,arguments)}}),s("URIError",function(c){return function(d){return r(c,this,arguments)}}),l("CompileError",function(c){return function(d){return r(c,this,arguments)}}),l("LinkError",function(c){return function(d){return r(c,this,arguments)}}),l("RuntimeError",function(c){return function(d){return r(c,this,arguments)}}),dse}var _se={},Mj,Ese;function lje(){if(Ese)return Mj;Ese=1;var e=Nt(),t=rt(),r=pt(),n=uv(),i=Error.prototype.toString,o=t(function(){if(e){var a=Object.create(Object.defineProperty({},"name",{get:function(){return this===a}}));if(i.call(a)!=="true")return!0}return i.call({message:1,name:2})!=="2: 1"||i.call({})!=="Error"});return Mj=o?function(){var s=r(this),l=n(s.name,"Error"),c=n(s.message);return l?c?l+": "+c:l:c}:i,Mj}var Ise;function iBt(){if(Ise)return _se;Ise=1;var e=Zr(),t=lje(),r=Error.prototype;return r.toString!==t&&e(r,"toString",t),_se}var Bse={},Pse={},Fj,Tse;function nK(){if(Tse)return Fj;Tse=1;var e=rt();return Fj=!e(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Fj}var kj,Ose;function Xi(){if(Ose)return kj;Ose=1;var e=ar(),t=ir(),r=fr(),n=DB(),i=nK(),o=n("IE_PROTO"),a=Object,s=a.prototype;return kj=i?a.getPrototypeOf:function(l){var c=r(l);if(e(c,o))return c[o];var u=c.constructor;return t(u)&&c instanceof u?u.prototype:c instanceof a?s:null},kj}var Uj,Rse;function dv(){return Rse||(Rse=1,Uj={}),Uj}var Dj,Mse;function iK(){if(Mse)return Dj;Mse=1;var e=qt(),t=dv(),r=e("iterator"),n=Array.prototype;return Dj=function(i){return i!==void 0&&(t.Array===i||n[r]===i)},Dj}var jj,Fse;function $d(){if(Fse)return jj;Fse=1;var e=ns(),t=Bi(),r=Wi(),n=dv(),i=qt(),o=i("iterator");return jj=function(a){if(!r(a))return t(a,o)||t(a,"@@iterator")||n[e(a)]},jj}var Lj,kse;function lp(){if(kse)return Lj;kse=1;var e=gt(),t=Gt(),r=pt(),n=rp(),i=$d(),o=TypeError;return Lj=function(a,s){var l=arguments.length<2?i(a):s;if(t(l))return r(e(l,a));throw new o(n(a)+" is not iterable")},Lj}var Nj,Use;function bf(){if(Use)return Nj;Use=1;var e=gt(),t=pt(),r=Bi();return Nj=function(n,i,o){var a,s;t(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw o;return o}a=e(a,n)}catch(l){s=!0,a=l}if(i==="throw")throw o;if(s)throw a;return t(a),o},Nj}var $j,Dse;function oi(){if(Dse)return $j;Dse=1;var e=un(),t=gt(),r=pt(),n=rp(),i=iK(),o=Tr(),a=ca(),s=lp(),l=$d(),c=bf(),u=TypeError,d=function(f,h){this.stopped=f,this.result=h},A=d.prototype;return $j=function(f,h,p){var v=p&&p.that,y=!!(p&&p.AS_ENTRIES),b=!!(p&&p.IS_RECORD),x=!!(p&&p.IS_ITERATOR),S=!!(p&&p.INTERRUPTED),C=e(h,v),_,B,T,O,P,F,U,k=function(D){return _&&c(_,"normal",D),new d(!0,D)},M=function(D){return y?(r(D),S?C(D[0],D[1],k):C(D[0],D[1])):S?C(D,k):C(D)};if(b)_=f.iterator;else if(x)_=f;else{if(B=l(f),!B)throw new u(n(f)+" is not iterable");if(i(B)){for(T=0,O=o(f);O>T;T++)if(P=M(f[T]),P&&a(A,P))return P;return new d(!1)}_=s(f,B)}for(F=b?f.next:_.next;!(U=t(F,_)).done;){try{P=M(U.value)}catch(D){c(_,"throw",D)}if(typeof P=="object"&&P&&a(A,P))return P}return new d(!1)},$j}var jse;function oBt(){if(jse)return Pse;jse=1;var e=J(),t=ca(),r=Xi(),n=mc(),i=nv(),o=Pi(),a=Gi(),s=Fs(),l=oje(),c=rK(),u=oi(),d=uv(),A=qt(),f=A("toStringTag"),h=Error,p=[].push,v=function(x,S){var C=t(y,this),_;n?_=n(new h,C?r(this):y):(_=C?this:o(y),a(_,f,"Error")),S!==void 0&&a(_,"message",d(S)),c(_,v,_.stack,1),arguments.length>2&&l(_,arguments[2]);var B=[];return u(x,p,{that:B}),a(_,"errors",B),_};n?n(v,h):i(v,h,{name:!0});var y=v.prototype=o(h.prototype,{constructor:s(1,v),message:s(1,""),name:s(1,"AggregateError")});return e({global:!0,constructor:!0,arity:2},{AggregateError:v}),Pse}var Lse;function cje(){return Lse||(Lse=1,oBt()),Bse}var Nse={},$se;function aBt(){if($se)return Nse;$se=1;var e=J(),t=Vt(),r=Pa(),n=rt(),i=sje(),o="AggregateError",a=t(o),s=!n(function(){return a([1]).errors[0]!==1})&&n(function(){return a([1],o,{cause:7}).cause!==7});return e({global:!0,constructor:!0,arity:2,forced:s},{AggregateError:i(o,function(l){return function(u,d){return r(l,this,arguments)}},s,!0)}),Nse}var Qse={},Qj,Hse;function vc(){if(Hse)return Qj;Hse=1;var e=Nt(),t=vn(),r=Fs();return Qj=function(n,i,o){e?t.f(n,i,r(0,o)):n[i]=o},Qj}var Hj,qse;function Vb(){if(qse)return Hj;qse=1;var e=rt(),t=qt(),r=Cu(),n=t("species");return Hj=function(i){return r>=51||!e(function(){var o=[],a=o.constructor={};return a[n]=function(){return{foo:1}},o[i](Boolean).foo!==1})},Hj}var zse;function sBt(){if(zse)return Qse;zse=1;var e=J(),t=rt(),r=Eu(),n=Jt(),i=fr(),o=Tr(),a=op(),s=vc(),l=Nb(),c=Vb(),u=qt(),d=Cu(),A=u("isConcatSpreadable"),f=d>=51||!t(function(){var v=[];return v[A]=!1,v.concat()[0]!==v}),h=function(v){if(!n(v))return!1;var y=v[A];return y!==void 0?!!y:r(v)},p=!f||!c("concat");return e({target:"Array",proto:!0,arity:1,forced:p},{concat:function(y){var b=i(this),x=l(b,0),S=0,C,_,B,T,O;for(C=-1,B=arguments.length;C<B;C++)if(O=C===-1?b:arguments[C],h(O))for(T=o(O),a(S+T),_=0;_<T;_++,S++)_ in O&&s(x,S,O[_]);else a(S+1),s(x,S++,O);return x.length=S,x}}),Qse}var Kse={},qj,Wse;function nP(){if(Wse)return qj;Wse=1;var e=rp(),t=TypeError;return qj=function(r,n){if(!delete r[n])throw new t("Cannot delete property "+e(n)+" of "+e(r))},qj}var zj,Vse;function uje(){if(Vse)return zj;Vse=1;var e=fr(),t=_u(),r=Tr(),n=nP(),i=Math.min;return zj=[].copyWithin||function(a,s){var l=e(this),c=r(l),u=t(a,c),d=t(s,c),A=arguments.length>2?arguments[2]:void 0,f=i((A===void 0?c:t(A,c))-d,c-u),h=1;for(d<u&&u<d+f&&(h=-1,d+=f-1,u+=f-1);f-- >0;)d in l?l[u]=l[d]:n(l,u),u+=h,d+=h;return l},zj}var Gse;function lBt(){if(Gse)return Kse;Gse=1;var e=J(),t=uje(),r=ni();return e({target:"Array",proto:!0},{copyWithin:t}),r("copyWithin"),Kse}var Yse={},Kj,Xse;function yc(){if(Xse)return Kj;Xse=1;var e=rt();return Kj=function(t,r){var n=[][t];return!!n&&e(function(){n.call(null,r||function(){return 1},1)})},Kj}var Jse;function cBt(){if(Jse)return Yse;Jse=1;var e=J(),t=Ti().every,r=yc(),n=r("every");return e({target:"Array",proto:!0,forced:!n},{every:function(o){return t(this,o,arguments.length>1?arguments[1]:void 0)}}),Yse}var Zse={},Wj,ele;function oK(){if(ele)return Wj;ele=1;var e=fr(),t=_u(),r=Tr();return Wj=function(i){for(var o=e(this),a=r(o),s=arguments.length,l=t(s>1?arguments[1]:void 0,a),c=s>2?arguments[2]:void 0,u=c===void 0?a:t(c,a);u>l;)o[l++]=i;return o},Wj}var tle;function uBt(){if(tle)return Zse;tle=1;var e=J(),t=oK(),r=ni();return e({target:"Array",proto:!0},{fill:t}),r("fill"),Zse}var rle={},nle;function dBt(){if(nle)return rle;nle=1;var e=J(),t=Ti().filter,r=Vb(),n=r("filter");return e({target:"Array",proto:!0,forced:!n},{filter:function(o){return t(this,o,arguments.length>1?arguments[1]:void 0)}}),rle}var ile={},ole;function ABt(){if(ole)return ile;ole=1;var e=J(),t=Ti().find,r=ni(),n="find",i=!0;return n in[]&&Array(1)[n](function(){i=!1}),e({target:"Array",proto:!0,forced:i},{find:function(a){return t(this,a,arguments.length>1?arguments[1]:void 0)}}),r(n),ile}var ale={},sle;function fBt(){if(sle)return ale;sle=1;var e=J(),t=Ti().findIndex,r=ni(),n="findIndex",i=!0;return n in[]&&Array(1)[n](function(){i=!1}),e({target:"Array",proto:!0,forced:i},{findIndex:function(a){return t(this,a,arguments.length>1?arguments[1]:void 0)}}),r(n),ale}var lle={},Vj,cle;function iP(){if(cle)return Vj;cle=1;var e=un(),t=pf(),r=fr(),n=Tr(),i=function(o){var a=o===1;return function(s,l,c){for(var u=r(s),d=t(u),A=n(d),f=e(l,c),h,p;A-- >0;)if(h=d[A],p=f(h,A,u),p)switch(o){case 0:return h;case 1:return A}return a?-1:void 0}};return Vj={findLast:i(0),findLastIndex:i(1)},Vj}var ule;function dje(){if(ule)return lle;ule=1;var e=J(),t=iP().findLast,r=ni();return e({target:"Array",proto:!0},{findLast:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}}),r("findLast"),lle}var dle={},Ale;function Aje(){if(Ale)return dle;Ale=1;var e=J(),t=iP().findLastIndex,r=ni();return e({target:"Array",proto:!0},{findLastIndex:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}}),r("findLastIndex"),dle}var fle={},Gj,hle;function fje(){if(hle)return Gj;hle=1;var e=Ti().forEach,t=yc(),r=t("forEach");return Gj=r?[].forEach:function(i){return e(this,i,arguments.length>1?arguments[1]:void 0)},Gj}var ple;function hBt(){if(ple)return fle;ple=1;var e=J(),t=fje();return e({target:"Array",proto:!0,forced:[].forEach!==t},{forEach:t}),fle}var gle={},Yj,mle;function aK(){if(mle)return Yj;mle=1;var e=pt(),t=bf();return Yj=function(r,n,i,o){try{return o?n(e(i)[0],i[1]):n(i)}catch(a){t(r,"throw",a)}},Yj}var Xj,vle;function hje(){if(vle)return Xj;vle=1;var e=un(),t=gt(),r=fr(),n=aK(),i=iK(),o=Iu(),a=Tr(),s=vc(),l=lp(),c=$d(),u=Array;return Xj=function(A){var f=r(A),h=o(this),p=arguments.length,v=p>1?arguments[1]:void 0,y=v!==void 0;y&&(v=e(v,p>2?arguments[2]:void 0));var b=c(f),x=0,S,C,_,B,T,O;if(b&&!(this===u&&i(b)))for(C=h?new this:[],B=l(f,b),T=B.next;!(_=t(T,B)).done;x++)O=y?n(B,v,[_.value,x],!0):_.value,s(C,x,O);else for(S=a(f),C=h?new this(S):u(S);S>x;x++)O=y?v(f[x],x):f[x],s(C,x,O);return C.length=x,C},Xj}var Jj,yle;function oP(){if(yle)return Jj;yle=1;var e=qt(),t=e("iterator"),r=!1;try{var n=0,i={next:function(){return{done:!!n++}},return:function(){r=!0}};i[t]=function(){return this},Array.from(i,function(){throw 2})}catch{}return Jj=function(o,a){try{if(!a&&!r)return!1}catch{return!1}var s=!1;try{var l={};l[t]=function(){return{next:function(){return{done:s=!0}}}},o(l)}catch{}return s},Jj}var wle;function pBt(){if(wle)return gle;wle=1;var e=J(),t=hje(),r=oP(),n=!r(function(i){Array.from(i)});return e({target:"Array",stat:!0,forced:n},{from:t}),gle}var ble={},xle;function gBt(){if(xle)return ble;xle=1;var e=J(),t=Db().includes,r=rt(),n=ni(),i=r(function(){return!Array(1).includes()});return e({target:"Array",proto:!0,forced:i},{includes:function(a){return t(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),ble}var Sle={},Cle;function mBt(){if(Cle)return Sle;Cle=1;var e=J(),t=ap(),r=Db().indexOf,n=yc(),i=t([].indexOf),o=!!i&&1/i([1],1,-0)<0,a=o||!n("indexOf");return e({target:"Array",proto:!0,forced:a},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return o?i(this,l,c)||0:r(this,l,c)}}),Sle}var _le={},Ele;function vBt(){if(Ele)return _le;Ele=1;var e=J(),t=Eu();return e({target:"Array",stat:!0},{isArray:t}),_le}var Zj,Ile;function Av(){if(Ile)return Zj;Ile=1;var e=rt(),t=ir(),r=Jt(),n=Pi(),i=Xi(),o=Zr(),a=qt(),s=Ar(),l=a("iterator"),c=!1,u,d,A;[].keys&&(A=[].keys(),"next"in A?(d=i(i(A)),d!==Object.prototype&&(u=d)):c=!0);var f=!r(u)||e(function(){var h={};return u[l].call(h)!==h});return f?u={}:s&&(u=n(u)),t(u[l])||o(u,l,function(){return this}),Zj={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},Zj}var eL,Ble;function cp(){if(Ble)return eL;Ble=1;var e=Av().IteratorPrototype,t=Pi(),r=Fs(),n=os(),i=dv(),o=function(){return this};return eL=function(a,s,l,c){var u=s+" Iterator";return a.prototype=t(e,{next:r(+!c,l)}),n(a,u,!1,!0),i[u]=o,a},eL}var tL,Ple;function sK(){if(Ple)return tL;Ple=1;var e=J(),t=gt(),r=Ar(),n=rv(),i=ir(),o=cp(),a=Xi(),s=mc(),l=os(),c=Gi(),u=Zr(),d=qt(),A=dv(),f=Av(),h=n.PROPER,p=n.CONFIGURABLE,v=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,b=d("iterator"),x="keys",S="values",C="entries",_=function(){return this};return tL=function(B,T,O,P,F,U,k){o(O,T,P);var M=function(X){if(X===F&&H)return H;if(!y&&X&&X in $)return $[X];switch(X){case x:return function(){return new O(this,X)};case S:return function(){return new O(this,X)};case C:return function(){return new O(this,X)}}return function(){return new O(this)}},D=T+" Iterator",j=!1,$=B.prototype,Q=$[b]||$["@@iterator"]||F&&$[F],H=!y&&Q||M(F),W=T==="Array"&&$.entries||Q,z,V,G;if(W&&(z=a(W.call(new B)),z!==Object.prototype&&z.next&&(!r&&a(z)!==v&&(s?s(z,v):i(z[b])||u(z,b,_)),l(z,D,!0,!0),r&&(A[D]=_))),h&&F===S&&Q&&Q.name!==S&&(!r&&p?c($,"name",S):(j=!0,H=function(){return t(Q,this)})),F)if(V={values:M(S),keys:U?H:M(x),entries:M(C)},k)for(G in V)(y||j||!(G in $))&&u($,G,V[G]);else e({target:T,proto:!0,forced:y||j},V);return(!r||k)&&$[b]!==H&&u($,b,H,{name:F}),A[T]=H,V},tL}var rL,Tle;function co(){return Tle||(Tle=1,rL=function(e,t){return{value:e,done:t}}),rL}var nL,Ole;function aP(){if(Ole)return nL;Ole=1;var e=Vi(),t=ni(),r=dv(),n=Vr(),i=vn().f,o=sK(),a=co(),s=Ar(),l=Nt(),c="Array Iterator",u=n.set,d=n.getterFor(c);nL=o(Array,"Array",function(f,h){u(this,{type:c,target:e(f),index:0,kind:h})},function(){var f=d(this),h=f.target,p=f.index++;if(!h||p>=h.length)return f.target=null,a(void 0,!0);switch(f.kind){case"keys":return a(p,!1);case"values":return a(h[p],!1)}return a([p,h[p]],!1)},"values");var A=r.Arguments=r.Array;if(t("keys"),t("values"),t("entries"),!s&&l&&A.name!=="values")try{i(A,"name",{value:"values"})}catch{}return nL}var Rle={},Mle;function yBt(){if(Mle)return Rle;Mle=1;var e=J(),t=Qe(),r=pf(),n=Vi(),i=yc(),o=t([].join),a=r!==Object,s=a||!i("join",",");return e({target:"Array",proto:!0,forced:s},{join:function(c){return o(n(this),c===void 0?",":c)}}),Rle}var Fle={},iL,kle;function pje(){if(kle)return iL;kle=1;var e=Pa(),t=Vi(),r=Dn(),n=Tr(),i=yc(),o=Math.min,a=[].lastIndexOf,s=!!a&&1/[1].lastIndexOf(1,-0)<0,l=i("lastIndexOf"),c=s||!l;return iL=c?function(d){if(s)return e(a,this,arguments)||0;var A=t(this),f=n(A);if(f===0)return-1;var h=f-1;for(arguments.length>1&&(h=o(h,r(arguments[1]))),h<0&&(h=f+h);h>=0;h--)if(h in A&&A[h]===d)return h||0;return-1}:a,iL}var Ule;function wBt(){if(Ule)return Fle;Ule=1;var e=J(),t=pje();return e({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t}),Fle}var Dle={},jle;function bBt(){if(jle)return Dle;jle=1;var e=J(),t=Ti().map,r=Vb(),n=r("map");return e({target:"Array",proto:!0,forced:!n},{map:function(o){return t(this,o,arguments.length>1?arguments[1]:void 0)}}),Dle}var Lle={},Nle;function xBt(){if(Nle)return Lle;Nle=1;var e=J(),t=rt(),r=Iu(),n=vc(),i=Array,o=t(function(){function a(){}return!(i.of.call(a)instanceof a)});return e({target:"Array",stat:!0,forced:o},{of:function(){for(var s=0,l=arguments.length,c=new(r(this)?this:i)(l);l>s;)n(c,s,arguments[s++]);return c.length=l,c}}),Lle}var $le={},oL,Qle;function lK(){if(Qle)return oL;Qle=1;var e=Nt(),t=Eu(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=e&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();return oL=i?function(o,a){if(t(o)&&!n(o,"length").writable)throw new r("Cannot set read only .length");return o.length=a}:function(o,a){return o.length=a},oL}var Hle;function SBt(){if(Hle)return $le;Hle=1;var e=J(),t=fr(),r=Tr(),n=lK(),i=op(),o=rt(),a=o(function(){return[].push.call({length:4294967296},1)!==4294967297}),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(c){return c instanceof TypeError}},l=a||!s();return e({target:"Array",proto:!0,arity:1,forced:l},{push:function(u){var d=t(this),A=r(d),f=arguments.length;i(A+f);for(var h=0;h<f;h++)d[A]=arguments[h],A++;return n(d,A),A}}),$le}var qle={},aL,zle;function sP(){if(zle)return aL;zle=1;var e=Gt(),t=fr(),r=pf(),n=Tr(),i=TypeError,o="Reduce of empty array with no initial value",a=function(s){return function(l,c,u,d){var A=t(l),f=r(A),h=n(A);if(e(c),h===0&&u<2)throw new i(o);var p=s?h-1:0,v=s?-1:1;if(u<2)for(;;){if(p in f){d=f[p],p+=v;break}if(p+=v,s?p<0:h<=p)throw new i(o)}for(;s?p>=0:h>p;p+=v)p in f&&(d=c(d,f[p],p,A));return d}};return aL={left:a(!1),right:a(!0)},aL}var sL,Kle;function lP(){if(Kle)return sL;Kle=1;var e=ht(),t=Su(),r=la(),n=function(i){return t.slice(0,i.length)===i};return sL=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":r(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"}(),sL}var lL,Wle;function fv(){if(Wle)return lL;Wle=1;var e=lP();return lL=e==="NODE",lL}var Vle;function CBt(){if(Vle)return qle;Vle=1;var e=J(),t=sP().left,r=yc(),n=Cu(),i=fv(),o=!i&&n>79&&n<83,a=o||!r("reduce");return e({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return t(this,l,c,c>1?arguments[1]:void 0)}}),qle}var Gle={},Yle;function _Bt(){if(Yle)return Gle;Yle=1;var e=J(),t=sP().right,r=yc(),n=Cu(),i=fv(),o=!i&&n>79&&n<83,a=o||!r("reduceRight");return e({target:"Array",proto:!0,forced:a},{reduceRight:function(l){return t(this,l,arguments.length,arguments.length>1?arguments[1]:void 0)}}),Gle}var Xle={},Jle;function EBt(){if(Jle)return Xle;Jle=1;var e=J(),t=Qe(),r=Eu(),n=t([].reverse),i=[1,2];return e({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),Xle}var Zle={},ece;function IBt(){if(ece)return Zle;ece=1;var e=J(),t=Eu(),r=Iu(),n=Jt(),i=_u(),o=Tr(),a=Vi(),s=vc(),l=qt(),c=Vb(),u=Ds(),d=c("slice"),A=l("species"),f=Array,h=Math.max;return e({target:"Array",proto:!0,forced:!d},{slice:function(v,y){var b=a(this),x=o(b),S=i(v,x),C=i(y===void 0?x:y,x),_,B,T;if(t(b)&&(_=b.constructor,r(_)&&(_===f||t(_.prototype))?_=void 0:n(_)&&(_=_[A],_===null&&(_=void 0)),_===f||_===void 0))return u(b,S,C);for(B=new(_===void 0?f:_)(h(C-S,0)),T=0;S<C;S++,T++)S in b&&s(B,T,b[S]);return B.length=T,B}}),Zle}var tce={},rce;function BBt(){if(rce)return tce;rce=1;var e=J(),t=Ti().some,r=yc(),n=r("some");return e({target:"Array",proto:!0,forced:!n},{some:function(o){return t(this,o,arguments.length>1?arguments[1]:void 0)}}),tce}var nce={},cL,ice;function cK(){if(ice)return cL;ice=1;var e=Ds(),t=Math.floor,r=function(n,i){var o=n.length;if(o<8)for(var a=1,s,l;a<o;){for(l=a,s=n[a];l&&i(n[l-1],s)>0;)n[l]=n[--l];l!==a++&&(n[l]=s)}else for(var c=t(o/2),u=r(e(n,0,c),i),d=r(e(n,c),i),A=u.length,f=d.length,h=0,p=0;h<A||p<f;)n[h+p]=h<A&&p<f?i(u[h],d[p])<=0?u[h++]:d[p++]:h<A?u[h++]:d[p++];return n};return cL=r,cL}var uL,oce;function gje(){if(oce)return uL;oce=1;var e=Su(),t=e.match(/firefox\/(\d+)/i);return uL=!!t&&+t[1],uL}var dL,ace;function mje(){if(ace)return dL;ace=1;var e=Su();return dL=/MSIE|Trident/.test(e),dL}var AL,sce;function uK(){if(sce)return AL;sce=1;var e=Su(),t=e.match(/AppleWebKit\/(\d+)\./);return AL=!!t&&+t[1],AL}var lce;function PBt(){if(lce)return nce;lce=1;var e=J(),t=Qe(),r=Gt(),n=fr(),i=Tr(),o=nP(),a=er(),s=rt(),l=cK(),c=yc(),u=gje(),d=mje(),A=Cu(),f=uK(),h=[],p=t(h.sort),v=t(h.push),y=s(function(){h.sort(void 0)}),b=s(function(){h.sort(null)}),x=c("sort"),S=!s(function(){if(A)return A<70;if(!(u&&u>3)){if(d)return!0;if(f)return f<603;var B="",T,O,P,F;for(T=65;T<76;T++){switch(O=String.fromCharCode(T),T){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(F=0;F<47;F++)h.push({k:O+F,v:P})}for(h.sort(function(U,k){return k.v-U.v}),F=0;F<h.length;F++)O=h[F].k.charAt(0),B.charAt(B.length-1)!==O&&(B+=O);return B!=="DGBEFHACIJK"}}),C=y||!b||!x||!S,_=function(B){return function(T,O){return O===void 0?-1:T===void 0?1:B!==void 0?+B(T,O)||0:a(T)>a(O)?1:-1}};return e({target:"Array",proto:!0,forced:C},{sort:function(T){T!==void 0&&r(T);var O=n(this);if(S)return T===void 0?p(O):p(O,T);var P=[],F=i(O),U,k;for(k=0;k<F;k++)k in O&&v(P,O[k]);for(l(P,_(T)),U=i(P),k=0;k<U;)O[k]=P[k++];for(;k<F;)o(O,k++);return O}}),nce}var cce={},fL,uce;function up(){if(uce)return fL;uce=1;var e=Vt(),t=jn(),r=qt(),n=Nt(),i=r("species");return fL=function(o){var a=e(o);n&&a&&!a[i]&&t(a,i,{configurable:!0,get:function(){return this}})},fL}var dce;function TBt(){if(dce)return cce;dce=1;var e=up();return e("Array"),cce}var Ace={},fce;function OBt(){if(fce)return Ace;fce=1;var e=J(),t=fr(),r=_u(),n=Dn(),i=Tr(),o=lK(),a=op(),s=Nb(),l=vc(),c=nP(),u=Vb(),d=u("splice"),A=Math.max,f=Math.min;return e({target:"Array",proto:!0,forced:!d},{splice:function(p,v){var y=t(this),b=i(y),x=r(p,b),S=arguments.length,C,_,B,T,O,P;for(S===0?C=_=0:S===1?(C=0,_=b-x):(C=S-2,_=f(A(n(v),0),b-x)),a(b+C-_),B=s(y,_),T=0;T<_;T++)O=x+T,O in y&&l(B,T,y[O]);if(B.length=_,C<_){for(T=x;T<b-_;T++)O=T+_,P=T+C,O in y?y[P]=y[O]:c(y,P);for(T=b;T>b-_+C;T--)c(y,T-1)}else if(C>_)for(T=b-_;T>x;T--)O=T+_-1,P=T+C-1,O in y?y[P]=y[O]:c(y,P);for(T=0;T<C;T++)y[T+x]=arguments[T+2];return o(y,b-_+C),B}}),Ace}var hce={},hL,pce;function vje(){if(pce)return hL;pce=1;var e=Tr();return hL=function(t,r){for(var n=e(t),i=new r(n),o=0;o<n;o++)i[o]=t[n-o-1];return i},hL}var gce;function yje(){if(gce)return hce;gce=1;var e=J(),t=vje(),r=Vi(),n=ni(),i=Array;return e({target:"Array",proto:!0},{toReversed:function(){return t(r(this),i)}}),n("toReversed"),hce}var mce={},pL,vce;function xf(){if(vce)return pL;vce=1;var e=Tr();return pL=function(t,r,n){for(var i=0,o=arguments.length>2?n:e(r),a=new t(o);o>i;)a[i]=r[i++];return a},pL}var gL,yce;function wje(){if(yce)return gL;yce=1;var e=ht();return gL=function(t,r){var n=e[t],i=n&&n.prototype;return i&&i[r]},gL}var wce;function bje(){if(wce)return mce;wce=1;var e=J(),t=Qe(),r=Gt(),n=Vi(),i=xf(),o=wje(),a=ni(),s=Array,l=t(o("Array","sort"));return e({target:"Array",proto:!0},{toSorted:function(u){u!==void 0&&r(u);var d=n(this),A=i(s,d);return l(A,u)}}),a("toSorted"),mce}var bce={},xce;function xje(){if(xce)return bce;xce=1;var e=J(),t=ni(),r=op(),n=Tr(),i=_u(),o=Vi(),a=Dn(),s=Array,l=Math.max,c=Math.min;return e({target:"Array",proto:!0},{toSpliced:function(d,A){var f=o(this),h=n(f),p=i(d,h),v=arguments.length,y=0,b,x,S,C;for(v===0?b=x=0:v===1?(b=0,x=h-p):(b=v-2,x=c(l(a(A),0),h-p)),S=r(h+b-x),C=s(S);y<p;y++)C[y]=f[y];for(;y<p+b;y++)C[y]=arguments[y-p+2];for(;y<S;y++)C[y]=f[y+x-b];return C}}),t("toSpliced"),bce}var Sce={},Cce;function RBt(){if(Cce)return Sce;Cce=1;var e=J(),t=fr(),r=Tr(),n=lK(),i=nP(),o=op(),a=[].unshift(0)!==1,s=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(c){return c instanceof TypeError}},l=a||!s();return e({target:"Array",proto:!0,arity:1,forced:l},{unshift:function(u){var d=t(this),A=r(d),f=arguments.length;if(f){o(A+f);for(var h=A;h--;){var p=h+f;h in d?d[p]=d[h]:i(d,p)}for(var v=0;v<f;v++)d[v]=arguments[v]}return n(d,A+f)}}),Sce}var _ce={},mL,Ece;function Sje(){if(Ece)return mL;Ece=1;var e=Tr(),t=Dn(),r=RangeError;return mL=function(n,i,o,a){var s=e(n),l=t(o),c=l<0?s+l:l;if(c>=s||c<0)throw new r("Incorrect index");for(var u=new i(s),d=0;d<s;d++)u[d]=d===c?a:n[d];return u},mL}var Ice;function Cje(){if(Ice)return _ce;Ice=1;var e=J(),t=Sje(),r=Vi(),n=Array;return e({target:"Array",proto:!0},{with:function(i,o){return t(r(this),n,i,o)}}),_ce}var Bce={},vL,Pce;function cP(){return Pce||(Pce=1,vL=typeof ArrayBuffer<"u"&&typeof DataView<"u"),vL}var yL,Tce;function wc(){if(Tce)return yL;Tce=1;var e=Zr();return yL=function(t,r,n){for(var i in r)e(t,i,r[i],n);return t},yL}var wL,Oce;function Oa(){if(Oce)return wL;Oce=1;var e=ca(),t=TypeError;return wL=function(r,n){if(e(n,r))return r;throw new t("Incorrect invocation")},wL}var bL,Rce;function Gb(){if(Rce)return bL;Rce=1;var e=Dn(),t=ks(),r=RangeError;return bL=function(n){if(n===void 0)return 0;var i=e(n),o=t(i);if(i!==o)throw new r("Wrong length or index");return o},bL}var xL,Mce;function dK(){return Mce||(Mce=1,xL=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}),xL}var SL,Fce;function _je(){if(Fce)return SL;Fce=1;var e=2220446049250313e-31,t=1/e;return SL=function(r){return r+t-t},SL}var CL,kce;function Eje(){if(kce)return CL;kce=1;var e=dK(),t=_je(),r=Math.abs,n=2220446049250313e-31;return CL=function(i,o,a,s){var l=+i,c=r(l),u=e(l);if(c<s)return u*t(c/s/o)*s*o;var d=(1+o/n)*c,A=d-(d-c);return A>a||A!==A?u*(1/0):u*A},CL}var _L,Uce;function AK(){if(Uce)return _L;Uce=1;var e=Eje(),t=11920928955078125e-23,r=34028234663852886e22,n=11754943508222875e-54;return _L=Math.fround||function(o){return e(o,t,r,n)},_L}var EL,Dce;function MBt(){if(Dce)return EL;Dce=1;var e=Array,t=Math.abs,r=Math.pow,n=Math.floor,i=Math.log,o=Math.LN2,a=function(l,c,u){var d=e(u),A=u*8-c-1,f=(1<<A)-1,h=f>>1,p=c===23?r(2,-24)-r(2,-77):0,v=l<0||l===0&&1/l<0?1:0,y=0,b,x,S;for(l=t(l),l!==l||l===1/0?(x=l!==l?1:0,b=f):(b=n(i(l)/o),S=r(2,-b),l*S<1&&(b--,S*=2),b+h>=1?l+=p/S:l+=p*r(2,1-h),l*S>=2&&(b++,S/=2),b+h>=f?(x=0,b=f):b+h>=1?(x=(l*S-1)*r(2,c),b+=h):(x=l*r(2,h-1)*r(2,c),b=0));c>=8;)d[y++]=x&255,x/=256,c-=8;for(b=b<<c|x,A+=c;A>0;)d[y++]=b&255,b/=256,A-=8;return d[y-1]|=v*128,d},s=function(l,c){var u=l.length,d=u*8-c-1,A=(1<<d)-1,f=A>>1,h=d-7,p=u-1,v=l[p--],y=v&127,b;for(v>>=7;h>0;)y=y*256+l[p--],h-=8;for(b=y&(1<<-h)-1,y>>=-h,h+=c;h>0;)b=b*256+l[p--],h-=8;if(y===0)y=1-f;else{if(y===A)return b?NaN:v?-1/0:1/0;b+=r(2,c),y-=f}return(v?-1:1)*b*r(2,y-c)};return EL={pack:a,unpack:s},EL}var IL,jce;function uP(){if(jce)return IL;jce=1;var e=ht(),t=Qe(),r=Nt(),n=cP(),i=rv(),o=Gi(),a=jn(),s=wc(),l=rt(),c=Oa(),u=Dn(),d=ks(),A=Gb(),f=AK(),h=MBt(),p=Xi(),v=mc(),y=oK(),b=Ds(),x=sp(),S=nv(),C=os(),_=Vr(),B=i.PROPER,T=i.CONFIGURABLE,O="ArrayBuffer",P="DataView",F="prototype",U="Wrong length",k="Wrong index",M=_.getterFor(O),D=_.getterFor(P),j=_.set,$=e[O],Q=$,H=Q&&Q[F],W=e[P],z=W&&W[F],V=Object.prototype,G=e.Array,X=e.RangeError,Z=t(y),oe=t([].reverse),ae=h.pack,ne=h.unpack,te=function(Te){return[Te&255]},se=function(Te){return[Te&255,Te>>8&255]},de=function(Te){return[Te&255,Te>>8&255,Te>>16&255,Te>>24&255]},re=function(Te){return Te[3]<<24|Te[2]<<16|Te[1]<<8|Te[0]},he=function(Te){return ae(f(Te),23,4)},ye=function(Te){return ae(Te,52,8)},ke=function(Te,we,Be){a(Te[F],we,{configurable:!0,get:function(){return Be(this)[we]}})},Ue=function(Te,we,Be,Ze){var me=D(Te),Se=A(Be),Oe=!!Ze;if(Se+we>me.byteLength)throw new X(k);var it=me.bytes,ft=Se+me.byteOffset,ee=b(it,ft,ft+we);return Oe?ee:oe(ee)},Ne=function(Te,we,Be,Ze,me,Se){var Oe=D(Te),it=A(Be),ft=Ze(+me),ee=!!Se;if(it+we>Oe.byteLength)throw new X(k);for(var ce=Oe.bytes,pe=it+Oe.byteOffset,xe=0;xe<we;xe++)ce[pe+xe]=ft[ee?xe:we-xe-1]};if(!n)Q=function(we){c(this,H);var Be=A(we);j(this,{type:O,bytes:Z(G(Be),0),byteLength:Be}),r||(this.byteLength=Be,this.detached=!1)},H=Q[F],W=function(we,Be,Ze){c(this,z),c(we,H);var me=M(we),Se=me.byteLength,Oe=u(Be);if(Oe<0||Oe>Se)throw new X("Wrong offset");if(Ze=Ze===void 0?Se-Oe:d(Ze),Oe+Ze>Se)throw new X(U);j(this,{type:P,buffer:we,byteLength:Ze,byteOffset:Oe,bytes:me.bytes}),r||(this.buffer=we,this.byteLength=Ze,this.byteOffset=Oe)},z=W[F],r&&(ke(Q,"byteLength",M),ke(W,"buffer",D),ke(W,"byteLength",D),ke(W,"byteOffset",D)),s(z,{getInt8:function(we){return Ue(this,1,we)[0]<<24>>24},getUint8:function(we){return Ue(this,1,we)[0]},getInt16:function(we){var Be=Ue(this,2,we,arguments.length>1?arguments[1]:!1);return(Be[1]<<8|Be[0])<<16>>16},getUint16:function(we){var Be=Ue(this,2,we,arguments.length>1?arguments[1]:!1);return Be[1]<<8|Be[0]},getInt32:function(we){return re(Ue(this,4,we,arguments.length>1?arguments[1]:!1))},getUint32:function(we){return re(Ue(this,4,we,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(we){return ne(Ue(this,4,we,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(we){return ne(Ue(this,8,we,arguments.length>1?arguments[1]:!1),52)},setInt8:function(we,Be){Ne(this,1,we,te,Be)},setUint8:function(we,Be){Ne(this,1,we,te,Be)},setInt16:function(we,Be){Ne(this,2,we,se,Be,arguments.length>2?arguments[2]:!1)},setUint16:function(we,Be){Ne(this,2,we,se,Be,arguments.length>2?arguments[2]:!1)},setInt32:function(we,Be){Ne(this,4,we,de,Be,arguments.length>2?arguments[2]:!1)},setUint32:function(we,Be){Ne(this,4,we,de,Be,arguments.length>2?arguments[2]:!1)},setFloat32:function(we,Be){Ne(this,4,we,he,Be,arguments.length>2?arguments[2]:!1)},setFloat64:function(we,Be){Ne(this,8,we,ye,Be,arguments.length>2?arguments[2]:!1)}});else{var Ye=B&&$.name!==O;!l(function(){$(1)})||!l(function(){new $(-1)})||l(function(){return new $,new $(1.5),new $(NaN),$.length!==1||Ye&&!T})?(Q=function(we){return c(this,H),x(new $(A(we)),this,Q)},Q[F]=H,H.constructor=Q,S(Q,$)):Ye&&T&&o($,"name",O),v&&p(z)!==V&&v(z,V);var lt=new W(new Q(2)),Ve=t(z.setInt8);lt.setInt8(0,2147483648),lt.setInt8(1,2147483649),(lt.getInt8(0)||!lt.getInt8(1))&&s(z,{setInt8:function(we,Be){Ve(this,we,Be<<24>>24)},setUint8:function(we,Be){Ve(this,we,Be<<24>>24)}},{unsafe:!0})}return C(Q,O),C(W,P),IL={ArrayBuffer:Q,DataView:W},IL}var Lce;function FBt(){if(Lce)return Bce;Lce=1;var e=J(),t=ht(),r=uP(),n=up(),i="ArrayBuffer",o=r[i],a=t[i];return e({global:!0,constructor:!0,forced:a!==o},{ArrayBuffer:o}),n(i),Bce}var Nce={},BL,$ce;function cr(){if($ce)return BL;$ce=1;var e=cP(),t=Nt(),r=ht(),n=ir(),i=Jt(),o=ar(),a=ns(),s=rp(),l=Gi(),c=Zr(),u=jn(),d=ca(),A=Xi(),f=mc(),h=qt(),p=np(),v=Vr(),y=v.enforce,b=v.get,x=r.Int8Array,S=x&&x.prototype,C=r.Uint8ClampedArray,_=C&&C.prototype,B=x&&A(x),T=S&&A(S),O=Object.prototype,P=r.TypeError,F=h("toStringTag"),U=p("TYPED_ARRAY_TAG"),k="TypedArrayConstructor",M=e&&!!f&&a(r.opera)!=="Opera",D=!1,j,$,Q,H={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},z=function(te){if(!i(te))return!1;var se=a(te);return se==="DataView"||o(H,se)||o(W,se)},V=function(ne){var te=A(ne);if(i(te)){var se=b(te);return se&&o(se,k)?se[k]:V(te)}},G=function(ne){if(!i(ne))return!1;var te=a(ne);return o(H,te)||o(W,te)},X=function(ne){if(G(ne))return ne;throw new P("Target is not a typed array")},Z=function(ne){if(n(ne)&&(!f||d(B,ne)))return ne;throw new P(s(ne)+" is not a typed array constructor")},oe=function(ne,te,se,de){if(t){if(se)for(var re in H){var he=r[re];if(he&&o(he.prototype,ne))try{delete he.prototype[ne]}catch{try{he.prototype[ne]=te}catch{}}}(!T[ne]||se)&&c(T,ne,se?te:M&&S[ne]||te,de)}},ae=function(ne,te,se){var de,re;if(t){if(f){if(se){for(de in H)if(re=r[de],re&&o(re,ne))try{delete re[ne]}catch{}}if(!B[ne]||se)try{return c(B,ne,se?te:M&&B[ne]||te)}catch{}else return}for(de in H)re=r[de],re&&(!re[ne]||se)&&c(re,ne,te)}};for(j in H)$=r[j],Q=$&&$.prototype,Q?y(Q)[k]=$:M=!1;for(j in W)$=r[j],Q=$&&$.prototype,Q&&(y(Q)[k]=$);if((!M||!n(B)||B===Function.prototype)&&(B=function(){throw new P("Incorrect invocation")},M))for(j in H)r[j]&&f(r[j],B);if((!M||!T||T===O)&&(T=B.prototype,M))for(j in H)r[j]&&f(r[j].prototype,T);if(M&&A(_)!==T&&f(_,T),t&&!o(T,F)){D=!0,u(T,F,{configurable:!0,get:function(){return i(this)?this[U]:void 0}});for(j in H)r[j]&&l(r[j],U,j)}return BL={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:D&&U,aTypedArray:X,aTypedArrayConstructor:Z,exportTypedArrayMethod:oe,exportTypedArrayStaticMethod:ae,getTypedArrayConstructor:V,isView:z,isTypedArray:G,TypedArray:B,TypedArrayPrototype:T},BL}var Qce;function kBt(){if(Qce)return Nce;Qce=1;var e=J(),t=cr(),r=t.NATIVE_ARRAY_BUFFER_VIEWS;return e({target:"ArrayBuffer",stat:!0,forced:!r},{isView:t.isView}),Nce}var Hce={},qce;function UBt(){if(qce)return Hce;qce=1;var e=J(),t=ap(),r=rt(),n=uP(),i=pt(),o=_u(),a=ks(),s=n.ArrayBuffer,l=n.DataView,c=l.prototype,u=t(s.prototype.slice),d=t(c.getUint8),A=t(c.setUint8),f=r(function(){return!new s(2).slice(1,void 0).byteLength});return e({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:f},{slice:function(p,v){if(u&&v===void 0)return u(i(this),p);for(var y=i(this).byteLength,b=o(p,y),x=o(v===void 0?y:v,y),S=new s(a(x-b)),C=new l(this),_=new l(S),B=0;b<x;)A(_,B++,d(C,b++));return S}}),Hce}var zce={},Kce={},Wce;function DBt(){if(Wce)return Kce;Wce=1;var e=J(),t=uP(),r=cP();return e({global:!0,constructor:!0,forced:!r},{DataView:t.DataView}),Kce}var Vce;function jBt(){return Vce||(Vce=1,DBt()),zce}var Gce={},Yce;function Ije(){if(Yce)return Gce;Yce=1;var e=J(),t=Qe(),r=Math.pow,n=31,i=1023,o=r(2,-24),a=.0009765625,s=function(c){var u=c>>>15,d=c>>>10&n,A=c&i;return d===n?A===0?u===0?1/0:-1/0:NaN:d===0?A*(u===0?o:-o):r(2,d-15)*(u===0?1+A*a:-1-A*a)},l=t(DataView.prototype.getUint16);return e({target:"DataView",proto:!0},{getFloat16:function(u){var d=l(this,u,arguments.length>1?arguments[1]:!1);return s(d)}}),Gce}var Xce={},PL,Jce;function Bje(){if(Jce)return PL;Jce=1;var e=ns(),t=TypeError;return PL=function(r){if(e(r)==="DataView")return r;throw new t("Argument is not a DataView")},PL}var TL,Zce;function Pje(){if(Zce)return TL;Zce=1;var e=Math.log,t=Math.LN2;return TL=Math.log2||function(n){return e(n)/t},TL}var eue;function Tje(){if(eue)return Xce;eue=1;var e=J(),t=Qe(),r=Bje(),n=Gb(),i=Pje(),o=_je(),a=Math.pow,s=65520,l=61005353927612305e-21,c=16777216,u=1024,d=function(f){if(f!==f)return 32256;if(f===0)return(1/f===-1/0)<<15;var h=f<0;if(h&&(f=-f),f>=s)return h<<15|31744;if(f<l)return h<<15|o(f*c);var p=i(f)|0;if(p===-15)return h<<15|u;var v=o((f*a(2,-p)-1)*u);return v===u?h<<15|p+16<<10:h<<15|p+15<<10|v},A=t(DataView.prototype.setUint16);return e({target:"DataView",proto:!0},{setFloat16:function(h,p){r(this);var v=n(h),y=d(+p);return A(this,v,y,arguments.length>2?arguments[2]:!1)}}),Xce}var tue={},OL,rue;function Oje(){if(rue)return OL;rue=1;var e=ht(),t=rP(),r=la(),n=e.ArrayBuffer,i=e.TypeError;return OL=n&&t(n.prototype,"byteLength","get")||function(o){if(r(o)!=="ArrayBuffer")throw new i("ArrayBuffer expected");return o.byteLength},OL}var RL,nue;function Rje(){if(nue)return RL;nue=1;var e=ht(),t=cP(),r=Oje(),n=e.DataView;return RL=function(i){if(!t||r(i)!==0)return!1;try{return new n(i),!1}catch{return!0}},RL}var iue;function Mje(){if(iue)return tue;iue=1;var e=Nt(),t=jn(),r=Rje(),n=ArrayBuffer.prototype;return e&&!("detached"in n)&&t(n,"detached",{configurable:!0,get:function(){return r(this)}}),tue}var oue={},ML,aue;function Yb(){if(aue)return ML;aue=1;var e=Rje(),t=TypeError;return ML=function(r){if(e(r))throw new t("ArrayBuffer is detached");return r},ML}var FL,sue;function Fje(){if(sue)return FL;sue=1;var e=ht(),t=fv();return FL=function(r){if(t){try{return e.process.getBuiltinModule(r)}catch{}try{return Function('return require("'+r+'")')()}catch{}}},FL}var kL,lue;function fK(){if(lue)return kL;lue=1;var e=ht(),t=rt(),r=Cu(),n=lP(),i=e.structuredClone;return kL=!!i&&!t(function(){if(n==="DENO"&&r>92||n==="NODE"&&r>94||n==="BROWSER"&&r>97)return!1;var o=new ArrayBuffer(8),a=i(o,{transfer:[o]});return o.byteLength!==0||a.byteLength!==8}),kL}var UL,cue;function kje(){if(cue)return UL;cue=1;var e=ht(),t=Fje(),r=fK(),n=e.structuredClone,i=e.ArrayBuffer,o=e.MessageChannel,a=!1,s,l,c,u;if(r)a=function(d){n(d,{transfer:[d]})};else if(i)try{o||(s=t("worker_threads"),s&&(o=s.MessageChannel)),o&&(l=new o,c=new i(2),u=function(d){l.port1.postMessage(null,[d])},c.byteLength===2&&(u(c),c.byteLength===0&&(a=u)))}catch{}return UL=a,UL}var DL,uue;function Uje(){if(uue)return DL;uue=1;var e=ht(),t=Qe(),r=rP(),n=Gb(),i=Yb(),o=Oje(),a=kje(),s=fK(),l=e.structuredClone,c=e.ArrayBuffer,u=e.DataView,d=Math.min,A=c.prototype,f=u.prototype,h=t(A.slice),p=r(A,"resizable","get"),v=r(A,"maxByteLength","get"),y=t(f.getInt8),b=t(f.setInt8);return DL=(s||a)&&function(x,S,C){var _=o(x),B=S===void 0?_:n(S),T=!p||!p(x),O;if(i(x),s&&(x=l(x,{transfer:[x]}),_===B&&(C||T)))return x;if(_>=B&&(!C||T))O=h(x,0,B);else{var P=C&&!T&&v?{maxByteLength:v(x)}:void 0;O=new c(B,P);for(var F=new u(x),U=new u(O),k=d(B,_),M=0;M<k;M++)b(U,M,y(F,M))}return s||a(x),O},DL}var due;function Dje(){if(due)return oue;due=1;var e=J(),t=Uje();return t&&e({target:"ArrayBuffer",proto:!0},{transfer:function(){return t(this,arguments.length?arguments[0]:void 0,!0)}}),oue}var Aue={},fue;function jje(){if(fue)return Aue;fue=1;var e=J(),t=Uje();return t&&e({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return t(this,arguments.length?arguments[0]:void 0,!1)}}),Aue}var hue={},pue;function LBt(){if(pue)return hue;pue=1;var e=J(),t=Qe(),r=rt(),n=r(function(){return new Date(16e11).getYear()!==120}),i=t(Date.prototype.getFullYear);return e({target:"Date",proto:!0,forced:n},{getYear:function(){return i(this)-1900}}),hue}var gue={},mue;function NBt(){if(mue)return gue;mue=1;var e=J(),t=Qe(),r=Date,n=t(r.prototype.getTime);return e({target:"Date",stat:!0},{now:function(){return n(new r)}}),gue}var vue={},yue;function $Bt(){if(yue)return vue;yue=1;var e=J(),t=Qe(),r=Dn(),n=Date.prototype,i=t(n.getTime),o=t(n.setFullYear);return e({target:"Date",proto:!0},{setYear:function(s){i(this);var l=r(s),c=l>=0&&l<=99?l+1900:l;return o(this,c)}}),vue}var wue={},bue;function QBt(){if(bue)return wue;bue=1;var e=J();return e({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString}),wue}var xue={},jL,Sue;function dP(){if(Sue)return jL;Sue=1;var e=Dn(),t=er(),r=Bn(),n=RangeError;return jL=function(o){var a=t(r(this)),s="",l=e(o);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(s+=a);return s},jL}var LL,Cue;function AP(){if(Cue)return LL;Cue=1;var e=Qe(),t=ks(),r=er(),n=dP(),i=Bn(),o=e(n),a=e("".slice),s=Math.ceil,l=function(c){return function(u,d,A){var f=r(i(u)),h=t(d),p=f.length,v=A===void 0?" ":r(A),y,b;return h<=p||v===""?f:(y=h-p,b=o(v,s(y/v.length)),b.length>y&&(b=a(b,0,y)),c?f+b:b+f)}};return LL={start:l(!1),end:l(!0)},LL}var NL,_ue;function HBt(){if(_ue)return NL;_ue=1;var e=Qe(),t=rt(),r=AP().start,n=RangeError,i=isFinite,o=Math.abs,a=Date.prototype,s=a.toISOString,l=e(a.getTime),c=e(a.getUTCDate),u=e(a.getUTCFullYear),d=e(a.getUTCHours),A=e(a.getUTCMilliseconds),f=e(a.getUTCMinutes),h=e(a.getUTCMonth),p=e(a.getUTCSeconds);return NL=t(function(){return s.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!t(function(){s.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var y=this,b=u(y),x=A(y),S=b<0?"-":b>9999?"+":"";return S+r(o(b),S?6:4,0)+"-"+r(h(y)+1,2,0)+"-"+r(c(y),2,0)+"T"+r(d(y),2,0)+":"+r(f(y),2,0)+":"+r(p(y),2,0)+"."+r(x,3,0)+"Z"}:s,NL}var Eue;function qBt(){if(Eue)return xue;Eue=1;var e=J(),t=HBt();return e({target:"Date",proto:!0,forced:Date.prototype.toISOString!==t},{toISOString:t}),xue}var Iue={},Bue;function zBt(){if(Bue)return Iue;Bue=1;var e=J(),t=rt(),r=fr(),n=FB(),i=t(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});return e({target:"Date",proto:!0,arity:1,forced:i},{toJSON:function(a){var s=r(this),l=n(s,"number");return typeof l=="number"&&!isFinite(l)?null:s.toISOString()}}),Iue}var Pue={},$L,Tue;function KBt(){if(Tue)return $L;Tue=1;var e=pt(),t=qke(),r=TypeError;return $L=function(n){if(e(this),n==="string"||n==="default")n="string";else if(n!=="number")throw new r("Incorrect hint");return t(this,n)},$L}var Oue;function WBt(){if(Oue)return Pue;Oue=1;var e=ar(),t=Zr(),r=KBt(),n=qt(),i=n("toPrimitive"),o=Date.prototype;return e(o,i)||t(o,i,r),Pue}var Rue={},Mue;function VBt(){if(Mue)return Rue;Mue=1;var e=Qe(),t=Zr(),r=Date.prototype,n="Invalid Date",i="toString",o=e(r[i]),a=e(r.getTime);return String(new Date(NaN))!==n&&t(r,i,function(){var l=a(this);return l===l?o(this):n}),Rue}var Fue={},kue;function GBt(){if(kue)return Fue;kue=1;var e=J(),t=Qe(),r=er(),n=t("".charAt),i=t("".charCodeAt),o=t(/./.exec),a=t(1 .toString),s=t("".toUpperCase),l=/[\w*+\-./@]/,c=function(u,d){for(var A=a(u,16);A.length<d;)A="0"+A;return A};return e({global:!0},{escape:function(d){for(var A=r(d),f="",h=A.length,p=0,v,y;p<h;)v=n(A,p++),o(l,v)?f+=v:(y=i(v,0),y<256?f+="%"+c(y,2):f+="%u"+s(c(y,4)));return f}}),Fue}var Uue={},QL,Due;function Lje(){if(Due)return QL;Due=1;var e=Qe(),t=Gt(),r=Jt(),n=ar(),i=Ds(),o=kb(),a=Function,s=e([].concat),l=e([].join),c={},u=function(d,A,f){if(!n(c,A)){for(var h=[],p=0;p<A;p++)h[p]="a["+p+"]";c[A]=a("C,a","return new C("+l(h,",")+")")}return c[A](d,f)};return QL=o?a.bind:function(A){var f=t(this),h=f.prototype,p=i(arguments,1),v=function(){var b=s(p,i(arguments));return this instanceof v?u(f,b.length,b):f.apply(A,b)};return r(h)&&(v.prototype=h),v},QL}var jue;function YBt(){if(jue)return Uue;jue=1;var e=J(),t=Lje();return e({target:"Function",proto:!0,forced:Function.bind!==t},{bind:t}),Uue}var Lue={},Nue;function XBt(){if(Nue)return Lue;Nue=1;var e=ir(),t=Jt(),r=vn(),n=ca(),i=qt(),o=jB(),a=i("hasInstance"),s=Function.prototype;return a in s||r.f(s,a,{value:o(function(l){if(!e(this)||!t(l))return!1;var c=this.prototype;return t(c)?n(c,l):l instanceof this},a)}),Lue}var $ue={},Que;function JBt(){if(Que)return $ue;Que=1;var e=Nt(),t=rv().EXISTS,r=Qe(),n=jn(),i=Function.prototype,o=r(i.toString),a=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=r(a.exec),l="name";return e&&!t&&n(i,l,{configurable:!0,get:function(){try{return s(a,o(this))[1]}catch{return""}}}),$ue}var Hue={},que;function Nje(){if(que)return Hue;que=1;var e=J(),t=ht();return e({global:!0,forced:t.globalThis!==t},{globalThis:t}),Hue}var zue={},Kue;function $je(){if(Kue)return zue;Kue=1;var e=J(),t=ht(),r=Oa(),n=pt(),i=ir(),o=Xi(),a=jn(),s=vc(),l=rt(),c=ar(),u=qt(),d=Av().IteratorPrototype,A=Nt(),f=Ar(),h="constructor",p="Iterator",v=u("toStringTag"),y=TypeError,b=t[p],x=f||!i(b)||b.prototype!==d||!l(function(){b({})}),S=function(){if(r(this,d),o(this)===d)throw new y("Abstract class Iterator not directly constructable")},C=function(_,B){A?a(d,_,{configurable:!0,get:function(){return B},set:function(T){if(n(this),this===d)throw new y("You can't redefine this property");c(this,_)?this[_]=T:s(this,_,T)}}):d[_]=B};return c(d,v)||C(v,p),(x||!c(d,h)||d[h]===Object)&&C(h,S),S.prototype=d,e({global:!0,constructor:!0,forced:x},{Iterator:S}),zue}var Wue={},HL,Vue;function Gn(){return Vue||(Vue=1,HL=function(e){return{iterator:e,next:e.next,done:!1}}),HL}var qL,Gue;function Xb(){if(Gue)return qL;Gue=1;var e=RangeError;return qL=function(t){if(t===t)return t;throw new e("NaN is not allowed")},qL}var zL,Yue;function Jb(){if(Yue)return zL;Yue=1;var e=Dn(),t=RangeError;return zL=function(r){var n=e(r);if(n<0)throw new t("The argument can't be less than 0");return n},zL}var KL,Xue;function dp(){if(Xue)return KL;Xue=1;var e=gt(),t=Pi(),r=Gi(),n=wc(),i=qt(),o=Vr(),a=Bi(),s=Av().IteratorPrototype,l=co(),c=bf(),u=i("toStringTag"),d="IteratorHelper",A="WrapForValidIterator",f=o.set,h=function(y){var b=o.getterFor(y?A:d);return n(t(s),{next:function(){var S=b(this);if(y)return S.nextHandler();if(S.done)return l(void 0,!0);try{var C=S.nextHandler();return S.returnHandlerResult?C:l(C,S.done)}catch(_){throw S.done=!0,_}},return:function(){var x=b(this),S=x.iterator;if(x.done=!0,y){var C=a(S,"return");return C?e(C,S):l(void 0,!0)}if(x.inner)try{c(x.inner.iterator,"normal")}catch(_){return c(S,"throw",_)}return S&&c(S,"normal"),l(void 0,!0)}})},p=h(!0),v=h(!1);return r(v,u,"Iterator Helper"),KL=function(y,b,x){var S=function(_,B){B?(B.iterator=_.iterator,B.next=_.next):B=_,B.type=b?A:d,B.returnHandlerResult=!!x,B.nextHandler=y,B.counter=0,B.done=!1,f(this,B)};return S.prototype=b?p:v,S},KL}var Jue;function Qje(){if(Jue)return Wue;Jue=1;var e=J(),t=gt(),r=pt(),n=Gn(),i=Xb(),o=Jb(),a=dp(),s=Ar(),l=a(function(){for(var c=this.iterator,u=this.next,d,A;this.remaining;)if(this.remaining--,d=r(t(u,c)),A=this.done=!!d.done,A)return;if(d=r(t(u,c)),A=this.done=!!d.done,!A)return d.value});return e({target:"Iterator",proto:!0,real:!0,forced:s},{drop:function(u){r(this);var d=o(i(+u));return new l(n(this),{remaining:d})}}),Wue}var Zue={},ede;function Hje(){if(ede)return Zue;ede=1;var e=J(),t=oi(),r=Gt(),n=pt(),i=Gn();return e({target:"Iterator",proto:!0,real:!0},{every:function(a){n(this),r(a);var s=i(this),l=0;return!t(s,function(c,u){if(!a(c,l++))return u()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}}),Zue}var tde={},rde;function qje(){if(rde)return tde;rde=1;var e=J(),t=gt(),r=Gt(),n=pt(),i=Gn(),o=dp(),a=aK(),s=Ar(),l=o(function(){for(var c=this.iterator,u=this.predicate,d=this.next,A,f,h;;){if(A=n(t(d,c)),f=this.done=!!A.done,f)return;if(h=A.value,a(c,u,[h,this.counter++],!0))return h}});return e({target:"Iterator",proto:!0,real:!0,forced:s},{filter:function(u){return n(this),r(u),new l(i(this),{predicate:u})}}),tde}var nde={},ide;function zje(){if(ide)return nde;ide=1;var e=J(),t=oi(),r=Gt(),n=pt(),i=Gn();return e({target:"Iterator",proto:!0,real:!0},{find:function(a){n(this),r(a);var s=i(this),l=0;return t(s,function(c,u){if(a(c,l++))return u(c)},{IS_RECORD:!0,INTERRUPTED:!0}).result}}),nde}var ode={},WL,ade;function Kje(){if(ade)return WL;ade=1;var e=gt(),t=pt(),r=Gn(),n=$d();return WL=function(i,o){(!o||typeof i!="string")&&t(i);var a=n(i);return r(t(a!==void 0?e(a,i):i))},WL}var sde;function Wje(){if(sde)return ode;sde=1;var e=J(),t=gt(),r=Gt(),n=pt(),i=Gn(),o=Kje(),a=dp(),s=bf(),l=Ar(),c=a(function(){for(var u=this.iterator,d=this.mapper,A,f;;){if(f=this.inner)try{if(A=n(t(f.next,f.iterator)),!A.done)return A.value;this.inner=null}catch(h){s(u,"throw",h)}if(A=n(t(this.next,u)),this.done=!!A.done)return;try{this.inner=o(d(A.value,this.counter++),!1)}catch(h){s(u,"throw",h)}}});return e({target:"Iterator",proto:!0,real:!0,forced:l},{flatMap:function(d){return n(this),r(d),new c(i(this),{mapper:d,inner:null})}}),ode}var lde={},cde;function Vje(){if(cde)return lde;cde=1;var e=J(),t=oi(),r=Gt(),n=pt(),i=Gn();return e({target:"Iterator",proto:!0,real:!0},{forEach:function(a){n(this),r(a);var s=i(this),l=0;t(s,function(c){a(c,l++)},{IS_RECORD:!0})}}),lde}var ude={},dde;function Gje(){if(dde)return ude;dde=1;var e=J(),t=gt(),r=fr(),n=ca(),i=Av().IteratorPrototype,o=dp(),a=Kje(),s=Ar(),l=o(function(){return t(this.next,this.iterator)},!0);return e({target:"Iterator",stat:!0,forced:s},{from:function(u){var d=a(typeof u=="string"?r(u):u,!0);return n(i,d.iterator)?d.iterator:new l(d)}}),ude}var Ade={},VL,fde;function Yje(){if(fde)return VL;fde=1;var e=gt(),t=Gt(),r=pt(),n=Gn(),i=dp(),o=aK(),a=i(function(){var s=this.iterator,l=r(e(this.next,s)),c=this.done=!!l.done;if(!c)return o(s,this.mapper,[l.value,this.counter++],!0)});return VL=function(l){return r(this),t(l),new a(n(this),{mapper:l})},VL}var hde;function Xje(){if(hde)return Ade;hde=1;var e=J(),t=Yje(),r=Ar();return e({target:"Iterator",proto:!0,real:!0,forced:r},{map:t}),Ade}var pde={},gde;function Jje(){if(gde)return pde;gde=1;var e=J(),t=oi(),r=Gt(),n=pt(),i=Gn(),o=TypeError;return e({target:"Iterator",proto:!0,real:!0},{reduce:function(s){n(this),r(s);var l=i(this),c=arguments.length<2,u=c?void 0:arguments[1],d=0;if(t(l,function(A){c?(c=!1,u=A):u=s(u,A,d),d++},{IS_RECORD:!0}),c)throw new o("Reduce of empty iterator with no initial value");return u}}),pde}var mde={},vde;function Zje(){if(vde)return mde;vde=1;var e=J(),t=oi(),r=Gt(),n=pt(),i=Gn();return e({target:"Iterator",proto:!0,real:!0},{some:function(a){n(this),r(a);var s=i(this),l=0;return t(s,function(c,u){if(a(c,l++))return u()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}}),mde}var yde={},wde;function eLe(){if(wde)return yde;wde=1;var e=J(),t=gt(),r=pt(),n=Gn(),i=Xb(),o=Jb(),a=dp(),s=bf(),l=Ar(),c=a(function(){var u=this.iterator;if(!this.remaining--)return this.done=!0,s(u,"normal",void 0);var d=r(t(this.next,u)),A=this.done=!!d.done;if(!A)return d.value});return e({target:"Iterator",proto:!0,real:!0,forced:l},{take:function(d){r(this);var A=o(i(+d));return new c(n(this),{remaining:A})}}),yde}var bde={},xde;function tLe(){if(xde)return bde;xde=1;var e=J(),t=pt(),r=oi(),n=Gn(),i=[].push;return e({target:"Iterator",proto:!0,real:!0},{toArray:function(){var a=[];return r(n(t(this)),i,{that:a,IS_RECORD:!0}),a}}),bde}var Sde={},Cde;function ZBt(){if(Cde)return Sde;Cde=1;var e=ht(),t=os();return t(e.JSON,"JSON",!0),Sde}var _de={},Ede={},GL={exports:{}},YL,Ide;function hK(){if(Ide)return YL;Ide=1;var e=rt();return YL=e(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),YL}var XL,Bde;function pK(){if(Bde)return XL;Bde=1;var e=rt(),t=Jt(),r=la(),n=hK(),i=Object.isExtensible,o=e(function(){});return XL=o||n?function(s){return!t(s)||n&&r(s)==="ArrayBuffer"?!1:i?i(s):!0}:i,XL}var JL,Pde;function Sf(){if(Pde)return JL;Pde=1;var e=rt();return JL=!e(function(){return Object.isExtensible(Object.preventExtensions({}))}),JL}var Tde;function Ap(){if(Tde)return GL.exports;Tde=1;var e=J(),t=Qe(),r=Ub(),n=Jt(),i=ar(),o=vn().f,a=ip(),s=Zz(),l=pK(),c=np(),u=Sf(),d=!1,A=c("meta"),f=0,h=function(S){o(S,A,{value:{objectID:"O"+f++,weakData:{}}})},p=function(S,C){if(!n(S))return typeof S=="symbol"?S:(typeof S=="string"?"S":"P")+S;if(!i(S,A)){if(!l(S))return"F";if(!C)return"E";h(S)}return S[A].objectID},v=function(S,C){if(!i(S,A)){if(!l(S))return!0;if(!C)return!1;h(S)}return S[A].weakData},y=function(S){return u&&d&&l(S)&&!i(S,A)&&h(S),S},b=function(){x.enable=function(){},d=!0;var S=a.f,C=t([].splice),_={};_[A]=1,S(_).length&&(a.f=function(B){for(var T=S(B),O=0,P=T.length;O<P;O++)if(T[O]===A){C(T,O,1);break}return T},e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},x=GL.exports={enable:b,fastKey:p,getWeakData:v,onFreeze:y};return r[A]=!0,GL.exports}var ZL,Ode;function fP(){if(Ode)return ZL;Ode=1;var e=J(),t=ht(),r=Qe(),n=jb(),i=Zr(),o=Ap(),a=oi(),s=Oa(),l=ir(),c=Wi(),u=Jt(),d=rt(),A=oP(),f=os(),h=sp();return ZL=function(p,v,y){var b=p.indexOf("Map")!==-1,x=p.indexOf("Weak")!==-1,S=b?"set":"add",C=t[p],_=C&&C.prototype,B=C,T={},O=function(j){var $=r(_[j]);i(_,j,j==="add"?function(H){return $(this,H===0?0:H),this}:j==="delete"?function(Q){return x&&!u(Q)?!1:$(this,Q===0?0:Q)}:j==="get"?function(H){return x&&!u(H)?void 0:$(this,H===0?0:H)}:j==="has"?function(H){return x&&!u(H)?!1:$(this,H===0?0:H)}:function(H,W){return $(this,H===0?0:H,W),this})},P=n(p,!l(C)||!(x||_.forEach&&!d(function(){new C().entries().next()})));if(P)B=y.getConstructor(v,p,b,S),o.enable();else if(n(p,!0)){var F=new B,U=F[S](x?{}:-0,1)!==F,k=d(function(){F.has(1)}),M=A(function(j){new C(j)}),D=!x&&d(function(){for(var j=new C,$=5;$--;)j[S]($,$);return!j.has(-0)});M||(B=v(function(j,$){s(j,_);var Q=h(new C,j,B);return c($)||a($,Q[S],{that:Q,AS_ENTRIES:b}),Q}),B.prototype=_,_.constructor=B),(k||D)&&(O("delete"),O("has"),b&&O("get")),(D||U)&&O(S),x&&_.clear&&delete _.clear}return T[p]=B,e({global:!0,constructor:!0,forced:B!==C},T),f(B,p),x||y.setStrong(B,p,b),B},ZL}var eN,Rde;function rLe(){if(Rde)return eN;Rde=1;var e=Pi(),t=jn(),r=wc(),n=un(),i=Oa(),o=Wi(),a=oi(),s=sK(),l=co(),c=up(),u=Nt(),d=Ap().fastKey,A=Vr(),f=A.set,h=A.getterFor;return eN={getConstructor:function(p,v,y,b){var x=p(function(T,O){i(T,S),f(T,{type:v,index:e(null),first:null,last:null,size:0}),u||(T.size=0),o(O)||a(O,T[b],{that:T,AS_ENTRIES:y})}),S=x.prototype,C=h(v),_=function(T,O,P){var F=C(T),U=B(T,O),k,M;return U?U.value=P:(F.last=U={index:M=d(O,!0),key:O,value:P,previous:k=F.last,next:null,removed:!1},F.first||(F.first=U),k&&(k.next=U),u?F.size++:T.size++,M!=="F"&&(F.index[M]=U)),T},B=function(T,O){var P=C(T),F=d(O),U;if(F!=="F")return P.index[F];for(U=P.first;U;U=U.next)if(U.key===O)return U};return r(S,{clear:function(){for(var O=this,P=C(O),F=P.first;F;)F.removed=!0,F.previous&&(F.previous=F.previous.next=null),F=F.next;P.first=P.last=null,P.index=e(null),u?P.size=0:O.size=0},delete:function(T){var O=this,P=C(O),F=B(O,T);if(F){var U=F.next,k=F.previous;delete P.index[F.index],F.removed=!0,k&&(k.next=U),U&&(U.previous=k),P.first===F&&(P.first=U),P.last===F&&(P.last=k),u?P.size--:O.size--}return!!F},forEach:function(O){for(var P=C(this),F=n(O,arguments.length>1?arguments[1]:void 0),U;U=U?U.next:P.first;)for(F(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(O){return!!B(this,O)}}),r(S,y?{get:function(O){var P=B(this,O);return P&&P.value},set:function(O,P){return _(this,O===0?0:O,P)}}:{add:function(O){return _(this,O=O===0?0:O,O)}}),u&&t(S,"size",{configurable:!0,get:function(){return C(this).size}}),x},setStrong:function(p,v,y){var b=v+" Iterator",x=h(v),S=h(b);s(p,v,function(C,_){f(this,{type:b,target:C,state:x(C),kind:_,last:null})},function(){for(var C=S(this),_=C.kind,B=C.last;B&&B.removed;)B=B.previous;return!C.target||!(C.last=B=B?B.next:C.state.first)?(C.target=null,l(void 0,!0)):l(_==="keys"?B.key:_==="values"?B.value:[B.key,B.value],!1)},y?"entries":"values",!y,!0),c(v)}},eN}var Mde;function ePt(){if(Mde)return Ede;Mde=1;var e=fP(),t=rLe();return e("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},t),Ede}var Fde;function gK(){return Fde||(Fde=1,ePt()),_de}var kde={},tN,Ude;function uo(){if(Ude)return tN;Ude=1;var e=Qe(),t=Map.prototype;return tN={Map,set:e(t.set),get:e(t.get),has:e(t.has),remove:e(t.delete),proto:t},tN}var Dde;function nLe(){if(Dde)return kde;Dde=1;var e=J(),t=Qe(),r=Gt(),n=Bn(),i=oi(),o=uo(),a=Ar(),s=rt(),l=o.Map,c=o.has,u=o.get,d=o.set,A=t([].push),f=a||s(function(){return l.groupBy("ab",function(h){return h}).get("a").length!==1});return e({target:"Map",stat:!0,forced:a||f},{groupBy:function(p,v){n(p),r(v);var y=new l,b=0;return i(p,function(x){var S=v(x,b++);c(y,S)?A(u(y,S),x):d(y,S,[x])}),y}}),kde}var jde={},rN,Lde;function iLe(){if(Lde)return rN;Lde=1;var e=Math.log;return rN=Math.log1p||function(r){var n=+r;return n>-1e-8&&n<1e-8?n-n*n/2:e(1+n)},rN}var Nde;function tPt(){if(Nde)return jde;Nde=1;var e=J(),t=iLe(),r=Math.acosh,n=Math.log,i=Math.sqrt,o=Math.LN2,a=!r||Math.floor(r(Number.MAX_VALUE))!==710||r(1/0)!==1/0;return e({target:"Math",stat:!0,forced:a},{acosh:function(l){var c=+l;return c<1?NaN:c>9490626562425156e-8?n(c)+o:t(c-1+i(c-1)*i(c+1))}}),jde}var $de={},Qde;function rPt(){if(Qde)return $de;Qde=1;var e=J(),t=Math.asinh,r=Math.log,n=Math.sqrt;function i(a){var s=+a;return!isFinite(s)||s===0?s:s<0?-i(-s):r(s+n(s*s+1))}var o=!(t&&1/t(0)>0);return e({target:"Math",stat:!0,forced:o},{asinh:i}),$de}var Hde={},qde;function nPt(){if(qde)return Hde;qde=1;var e=J(),t=Math.atanh,r=Math.log,n=!(t&&1/t(-0)<0);return e({target:"Math",stat:!0,forced:n},{atanh:function(o){var a=+o;return a===0?a:r((1+a)/(1-a))/2}}),Hde}var zde={},Kde;function iPt(){if(Kde)return zde;Kde=1;var e=J(),t=dK(),r=Math.abs,n=Math.pow;return e({target:"Math",stat:!0},{cbrt:function(o){var a=+o;return t(a)*n(r(a),1/3)}}),zde}var Wde={},Vde;function oPt(){if(Vde)return Wde;Vde=1;var e=J(),t=Math.floor,r=Math.log,n=Math.LOG2E;return e({target:"Math",stat:!0},{clz32:function(o){var a=o>>>0;return a?31-t(r(a+.5)*n):32}}),Wde}var Gde={},nN,Yde;function hP(){if(Yde)return nN;Yde=1;var e=Math.expm1,t=Math.exp;return nN=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||e(-2e-17)!==-2e-17?function(n){var i=+n;return i===0?i:i>-1e-6&&i<1e-6?i+i*i/2:t(i)-1}:e,nN}var Xde;function aPt(){if(Xde)return Gde;Xde=1;var e=J(),t=hP(),r=Math.cosh,n=Math.abs,i=Math.E,o=!r||r(710)===1/0;return e({target:"Math",stat:!0,forced:o},{cosh:function(s){var l=t(n(s)-1)+1;return(l+1/(l*i*i))*(i/2)}}),Gde}var Jde={},Zde;function sPt(){if(Zde)return Jde;Zde=1;var e=J(),t=hP();return e({target:"Math",stat:!0,forced:t!==Math.expm1},{expm1:t}),Jde}var eAe={},tAe;function lPt(){if(tAe)return eAe;tAe=1;var e=J(),t=AK();return e({target:"Math",stat:!0},{fround:t}),eAe}var rAe={},nAe;function oLe(){if(nAe)return rAe;nAe=1;var e=J(),t=Eje(),r=.0009765625,n=65504,i=6103515625e-14;return e({target:"Math",stat:!0},{f16round:function(a){return t(a,r,n,i)}}),rAe}var iAe={},oAe;function cPt(){if(oAe)return iAe;oAe=1;var e=J(),t=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!t&&t(1/0,NaN)!==1/0;return e({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,s){for(var l=0,c=0,u=arguments.length,d=0,A,f;c<u;)A=r(arguments[c++]),d<A?(f=d/A,l=l*f*f+1,d=A):A>0?(f=A/d,l+=f*f):l+=A;return d===1/0?1/0:d*n(l)}}),iAe}var aAe={},sAe;function uPt(){if(sAe)return aAe;sAe=1;var e=J(),t=rt(),r=Math.imul,n=t(function(){return r(4294967295,5)!==-5||r.length!==2});return e({target:"Math",stat:!0,forced:n},{imul:function(o,a){var s=65535,l=+o,c=+a,u=s&l,d=s&c;return 0|u*d+((s&l>>>16)*d+u*(s&c>>>16)<<16>>>0)}}),aAe}var lAe={},iN,cAe;function aLe(){if(cAe)return iN;cAe=1;var e=Math.log,t=Math.LOG10E;return iN=Math.log10||function(n){return e(n)*t},iN}var uAe;function dPt(){if(uAe)return lAe;uAe=1;var e=J(),t=aLe();return e({target:"Math",stat:!0},{log10:t}),lAe}var dAe={},AAe;function APt(){if(AAe)return dAe;AAe=1;var e=J(),t=iLe();return e({target:"Math",stat:!0},{log1p:t}),dAe}var fAe={},hAe;function fPt(){if(hAe)return fAe;hAe=1;var e=J(),t=Pje();return e({target:"Math",stat:!0},{log2:t}),fAe}var pAe={},gAe;function hPt(){if(gAe)return pAe;gAe=1;var e=J(),t=dK();return e({target:"Math",stat:!0},{sign:t}),pAe}var mAe={},vAe;function pPt(){if(vAe)return mAe;vAe=1;var e=J(),t=rt(),r=hP(),n=Math.abs,i=Math.exp,o=Math.E,a=t(function(){return Math.sinh(-2e-17)!==-2e-17});return e({target:"Math",stat:!0,forced:a},{sinh:function(l){var c=+l;return n(c)<1?(r(c)-r(-c))/2:(i(c-1)-i(-c-1))*(o/2)}}),mAe}var yAe={},wAe;function gPt(){if(wAe)return yAe;wAe=1;var e=J(),t=hP(),r=Math.exp;return e({target:"Math",stat:!0},{tanh:function(i){var o=+i,a=t(o),s=t(-o);return a===1/0?1:s===1/0?-1:(a-s)/(r(o)+r(-o))}}),yAe}var bAe={},xAe;function mPt(){if(xAe)return bAe;xAe=1;var e=os();return e(Math,"Math",!0),bAe}var SAe={},CAe;function vPt(){if(CAe)return SAe;CAe=1;var e=J(),t=Vke();return e({target:"Math",stat:!0},{trunc:t}),SAe}var _Ae={},oN,EAe;function pP(){if(EAe)return oN;EAe=1;var e=Qe();return oN=e(1 .valueOf),oN}var aN,IAe;function hv(){return IAe||(IAe=1,aN=`	
\v\f\r \u2028\u2029\uFEFF`),aN}var sN,BAe;function pv(){if(BAe)return sN;BAe=1;var e=Qe(),t=Bn(),r=er(),n=hv(),i=e("".replace),o=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),s=function(l){return function(c){var u=r(t(c));return l&1&&(u=i(u,o,"")),l&2&&(u=i(u,a,"$1")),u}};return sN={start:s(1),end:s(2),trim:s(3)},sN}var PAe;function yPt(){if(PAe)return _Ae;PAe=1;var e=J(),t=Ar(),r=Nt(),n=ht(),i=eK(),o=Qe(),a=jb(),s=ar(),l=sp(),c=ca(),u=gf(),d=FB(),A=rt(),f=ip().f,h=Oo().f,p=vn().f,v=pP(),y=pv().trim,b="Number",x=n[b],S=i[b],C=x.prototype,_=n.TypeError,B=o("".slice),T=o("".charCodeAt),O=function(D){var j=d(D,"number");return typeof j=="bigint"?j:P(j)},P=function(D){var j=d(D,"number"),$,Q,H,W,z,V,G,X;if(u(j))throw new _("Cannot convert a Symbol value to a number");if(typeof j=="string"&&j.length>2){if(j=y(j),$=T(j,0),$===43||$===45){if(Q=T(j,2),Q===88||Q===120)return NaN}else if($===48){switch(T(j,1)){case 66:case 98:H=2,W=49;break;case 79:case 111:H=8,W=55;break;default:return+j}for(z=B(j,2),V=z.length,G=0;G<V;G++)if(X=T(z,G),X<48||X>W)return NaN;return parseInt(z,H)}}return+j},F=a(b,!x(" 0o1")||!x("0b1")||x("+0x1")),U=function(D){return c(C,D)&&A(function(){v(D)})},k=function(j){var $=arguments.length<1?0:x(O(j));return U(this)?l(Object($),this,k):$};k.prototype=C,F&&!t&&(C.constructor=k),e({global:!0,constructor:!0,wrap:!0,forced:F},{Number:k});var M=function(D,j){for(var $=r?f(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Q=0,H;$.length>Q;Q++)s(j,H=$[Q])&&!s(D,H)&&p(D,H,h(j,H))};return t&&S&&M(i[b],S),(F||t)&&M(i[b],x),_Ae}var TAe={},OAe;function wPt(){if(OAe)return TAe;OAe=1;var e=J();return e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)}),TAe}var RAe={},lN,MAe;function sLe(){if(MAe)return lN;MAe=1;var e=ht(),t=e.isFinite;return lN=Number.isFinite||function(n){return typeof n=="number"&&t(n)},lN}var FAe;function bPt(){if(FAe)return RAe;FAe=1;var e=J(),t=sLe();return e({target:"Number",stat:!0},{isFinite:t}),RAe}var kAe={},cN,UAe;function mK(){if(UAe)return cN;UAe=1;var e=Jt(),t=Math.floor;return cN=Number.isInteger||function(n){return!e(n)&&isFinite(n)&&t(n)===n},cN}var DAe;function xPt(){if(DAe)return kAe;DAe=1;var e=J(),t=mK();return e({target:"Number",stat:!0},{isInteger:t}),kAe}var jAe={},LAe;function SPt(){if(LAe)return jAe;LAe=1;var e=J();return e({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),jAe}var NAe={},$Ae;function CPt(){if($Ae)return NAe;$Ae=1;var e=J(),t=mK(),r=Math.abs;return e({target:"Number",stat:!0},{isSafeInteger:function(i){return t(i)&&r(i)<=9007199254740991}}),NAe}var QAe={},HAe;function _Pt(){if(HAe)return QAe;HAe=1;var e=J();return e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991}),QAe}var qAe={},zAe;function EPt(){if(zAe)return qAe;zAe=1;var e=J();return e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991}),qAe}var KAe={},uN,WAe;function lLe(){if(WAe)return uN;WAe=1;var e=ht(),t=rt(),r=Qe(),n=er(),i=pv().trim,o=hv(),a=r("".charAt),s=e.parseFloat,l=e.Symbol,c=l&&l.iterator,u=1/s(o+"-0")!==-1/0||c&&!t(function(){s(Object(c))});return uN=u?function(A){var f=i(n(A)),h=s(f);return h===0&&a(f,0)==="-"?-0:h}:s,uN}var VAe;function IPt(){if(VAe)return KAe;VAe=1;var e=J(),t=lLe();return e({target:"Number",stat:!0,forced:Number.parseFloat!==t},{parseFloat:t}),KAe}var GAe={},dN,YAe;function cLe(){if(YAe)return dN;YAe=1;var e=ht(),t=rt(),r=Qe(),n=er(),i=pv().trim,o=hv(),a=e.parseInt,s=e.Symbol,l=s&&s.iterator,c=/^[+-]?0x/i,u=r(c.exec),d=a(o+"08")!==8||a(o+"0x16")!==22||l&&!t(function(){a(Object(l))});return dN=d?function(f,h){var p=i(n(f));return a(p,h>>>0||(u(c,p)?16:10))}:a,dN}var XAe;function BPt(){if(XAe)return GAe;XAe=1;var e=J(),t=cLe();return e({target:"Number",stat:!0,forced:Number.parseInt!==t},{parseInt:t}),GAe}var JAe={},ZAe;function PPt(){if(ZAe)return JAe;ZAe=1;var e=J(),t=Qe(),r=Dn(),n=pP(),i=dP(),o=aLe(),a=rt(),s=RangeError,l=String,c=isFinite,u=Math.abs,d=Math.floor,A=Math.pow,f=Math.round,h=t(1 .toExponential),p=t(i),v=t("".slice),y=h(-69e-12,4)==="-6.9000e-11"&&h(1.255,2)==="1.25e+0"&&h(12345,3)==="1.235e+4"&&h(25,0)==="3e+1",b=function(){return a(function(){h(1,1/0)})&&a(function(){h(1,-1/0)})},x=function(){return!a(function(){h(1/0,1/0),h(NaN,1/0)})},S=!y||!b()||!x();return e({target:"Number",proto:!0,forced:S},{toExponential:function(_){var B=n(this);if(_===void 0)return h(B);var T=r(_);if(!c(B))return String(B);if(T<0||T>20)throw new s("Incorrect fraction digits");if(y)return h(B,T);var O="",P,F,U,k;if(B<0&&(O="-",B=-B),B===0)F=0,P=p("0",T+1);else{var M=o(B);F=d(M);var D=A(10,F-T),j=f(B/D);2*B>=(2*j+1)*D&&(j+=1),j>=A(10,T+1)&&(j/=10,F+=1),P=l(j)}return T!==0&&(P=v(P,0,1)+"."+v(P,1)),F===0?(U="+",k="0"):(U=F>0?"+":"-",k=l(u(F))),P+="e"+U+k,O+P}}),JAe}var efe={},tfe;function TPt(){if(tfe)return efe;tfe=1;var e=J(),t=Qe(),r=Dn(),n=pP(),i=dP(),o=rt(),a=RangeError,s=String,l=Math.floor,c=t(i),u=t("".slice),d=t(1 .toFixed),A=function(b,x,S){return x===0?S:x%2===1?A(b,x-1,S*b):A(b*b,x/2,S)},f=function(b){for(var x=0,S=b;S>=4096;)x+=12,S/=4096;for(;S>=2;)x+=1,S/=2;return x},h=function(b,x,S){for(var C=-1,_=S;++C<6;)_+=x*b[C],b[C]=_%1e7,_=l(_/1e7)},p=function(b,x){for(var S=6,C=0;--S>=0;)C+=b[S],b[S]=l(C/x),C=C%x*1e7},v=function(b){for(var x=6,S="";--x>=0;)if(S!==""||x===0||b[x]!==0){var C=s(b[x]);S=S===""?C:S+c("0",7-C.length)+C}return S},y=o(function(){return d(8e-5,3)!=="0.000"||d(.9,0)!=="1"||d(1.255,2)!=="1.25"||d(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!o(function(){d({})});return e({target:"Number",proto:!0,forced:y},{toFixed:function(x){var S=n(this),C=r(x),_=[0,0,0,0,0,0],B="",T="0",O,P,F,U;if(C<0||C>20)throw new a("Incorrect fraction digits");if(S!==S)return"NaN";if(S<=-1e21||S>=1e21)return s(S);if(S<0&&(B="-",S=-S),S>1e-21)if(O=f(S*A(2,69,1))-69,P=O<0?S*A(2,-O,1):S/A(2,O,1),P*=4503599627370496,O=52-O,O>0){for(h(_,0,P),F=C;F>=7;)h(_,1e7,0),F-=7;for(h(_,A(10,F,1),0),F=O-1;F>=23;)p(_,1<<23),F-=23;p(_,1<<F),h(_,1,1),p(_,2),T=v(_)}else h(_,0,P),h(_,1<<-O,0),T=v(_)+c("0",C);return C>0?(U=T.length,T=B+(U<=C?"0."+c("0",C-U)+T:u(T,0,U-C)+"."+u(T,U-C))):T=B+T,T}}),efe}var rfe={},nfe;function OPt(){if(nfe)return rfe;nfe=1;var e=J(),t=Qe(),r=rt(),n=pP(),i=t(1 .toPrecision),o=r(function(){return i(1,void 0)!=="1"})||!r(function(){i({})});return e({target:"Number",proto:!0,forced:o},{toPrecision:function(s){return s===void 0?i(n(this)):i(n(this),s)}}),rfe}var ife={},AN,ofe;function uLe(){if(ofe)return AN;ofe=1;var e=Nt(),t=Qe(),r=gt(),n=rt(),i=iv(),o=LB(),a=RB(),s=fr(),l=pf(),c=Object.assign,u=Object.defineProperty,d=t([].concat);return AN=!c||n(function(){if(e&&c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var A={},f={},h=Symbol("assign detection"),p="abcdefghijklmnopqrst";return A[h]=7,p.split("").forEach(function(v){f[v]=v}),c({},A)[h]!==7||i(c({},f)).join("")!==p})?function(f,h){for(var p=s(f),v=arguments.length,y=1,b=o.f,x=a.f;v>y;)for(var S=l(arguments[y++]),C=b?d(i(S),b(S)):i(S),_=C.length,B=0,T;_>B;)T=C[B++],(!e||r(x,S,T))&&(p[T]=S[T]);return p}:c,AN}var afe;function RPt(){if(afe)return ife;afe=1;var e=J(),t=uLe();return e({target:"Object",stat:!0,arity:2,forced:Object.assign!==t},{assign:t}),ife}var sfe={},lfe;function MPt(){if(lfe)return sfe;lfe=1;var e=J(),t=Nt(),r=Pi();return e({target:"Object",stat:!0,sham:!t},{create:r}),sfe}var cfe={},fN,ufe;function gP(){if(ufe)return fN;ufe=1;var e=Ar(),t=ht(),r=rt(),n=uK();return fN=e||!r(function(){if(!(n&&n<535)){var i=Math.random();__defineSetter__.call(null,i,function(){}),delete t[i]}}),fN}var dfe;function FPt(){if(dfe)return cfe;dfe=1;var e=J(),t=Nt(),r=gP(),n=Gt(),i=fr(),o=vn();return t&&e({target:"Object",proto:!0,forced:r},{__defineGetter__:function(s,l){o.f(i(this),s,{get:n(l),enumerable:!0,configurable:!0})}}),cfe}var Afe={},ffe;function kPt(){if(ffe)return Afe;ffe=1;var e=J(),t=Nt(),r=yz().f;return e({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!t},{defineProperties:r}),Afe}var hfe={},pfe;function UPt(){if(pfe)return hfe;pfe=1;var e=J(),t=Nt(),r=vn().f;return e({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!t},{defineProperty:r}),hfe}var gfe={},mfe;function DPt(){if(mfe)return gfe;mfe=1;var e=J(),t=Nt(),r=gP(),n=Gt(),i=fr(),o=vn();return t&&e({target:"Object",proto:!0,forced:r},{__defineSetter__:function(s,l){o.f(i(this),s,{set:n(l),enumerable:!0,configurable:!0})}}),gfe}var vfe={},hN,yfe;function dLe(){if(yfe)return hN;yfe=1;var e=Nt(),t=rt(),r=Qe(),n=Xi(),i=iv(),o=Vi(),a=RB().f,s=r(a),l=r([].push),c=e&&t(function(){var d=Object.create(null);return d[2]=2,!s(d,2)}),u=function(d){return function(A){for(var f=o(A),h=i(f),p=c&&n(f)===null,v=h.length,y=0,b=[],x;v>y;)x=h[y++],(!e||(p?x in f:s(f,x)))&&l(b,d?[x,f[x]]:f[x]);return b}};return hN={entries:u(!0),values:u(!1)},hN}var wfe;function jPt(){if(wfe)return vfe;wfe=1;var e=J(),t=dLe().entries;return e({target:"Object",stat:!0},{entries:function(n){return t(n)}}),vfe}var bfe={},xfe;function LPt(){if(xfe)return bfe;xfe=1;var e=J(),t=Sf(),r=rt(),n=Jt(),i=Ap().onFreeze,o=Object.freeze,a=r(function(){o(1)});return e({target:"Object",stat:!0,forced:a,sham:!t},{freeze:function(l){return o&&n(l)?o(i(l)):l}}),bfe}var Sfe={},Cfe;function NPt(){if(Cfe)return Sfe;Cfe=1;var e=J(),t=oi(),r=vc();return e({target:"Object",stat:!0},{fromEntries:function(i){var o={};return t(i,function(a,s){r(o,a,s)},{AS_ENTRIES:!0}),o}}),Sfe}var _fe={},Efe;function $Pt(){if(Efe)return _fe;Efe=1;var e=J(),t=rt(),r=Vi(),n=Oo().f,i=Nt(),o=!i||t(function(){n(1)});return e({target:"Object",stat:!0,forced:o,sham:!i},{getOwnPropertyDescriptor:function(s,l){return n(r(s),l)}}),_fe}var Ife={},Bfe;function QPt(){if(Bfe)return Ife;Bfe=1;var e=J(),t=Nt(),r=vz(),n=Vi(),i=Oo(),o=vc();return e({target:"Object",stat:!0,sham:!t},{getOwnPropertyDescriptors:function(s){for(var l=n(s),c=i.f,u=r(l),d={},A=0,f,h;u.length>A;)h=c(l,f=u[A++]),h!==void 0&&o(d,f,h);return d}}),Ife}var Pfe={},Tfe;function HPt(){if(Tfe)return Pfe;Tfe=1;var e=J(),t=rt(),r=Zz().f,n=t(function(){return!Object.getOwnPropertyNames(1)});return e({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),Pfe}var Ofe={},Rfe;function qPt(){if(Rfe)return Ofe;Rfe=1;var e=J(),t=rt(),r=fr(),n=Xi(),i=nK(),o=t(function(){n(1)});return e({target:"Object",stat:!0,forced:o,sham:!i},{getPrototypeOf:function(s){return n(r(s))}}),Ofe}var Mfe={},Ffe;function ALe(){if(Ffe)return Mfe;Ffe=1;var e=J(),t=Vt(),r=Qe(),n=Gt(),i=Bn(),o=Ld(),a=oi(),s=rt(),l=Object.groupBy,c=t("Object","create"),u=r([].push),d=!l||s(function(){return l("ab",function(A){return A}).a.length!==1});return e({target:"Object",stat:!0,forced:d},{groupBy:function(f,h){i(f),n(h);var p=c(null),v=0;return a(f,function(y){var b=o(h(y,v++));b in p?u(p[b],y):p[b]=[y]}),p}}),Mfe}var kfe={},Ufe;function fLe(){if(Ufe)return kfe;Ufe=1;var e=J(),t=ar();return e({target:"Object",stat:!0},{hasOwn:t}),kfe}var Dfe={},pN,jfe;function vK(){return jfe||(jfe=1,pN=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}),pN}var Lfe;function zPt(){if(Lfe)return Dfe;Lfe=1;var e=J(),t=vK();return e({target:"Object",stat:!0},{is:t}),Dfe}var Nfe={},$fe;function KPt(){if($fe)return Nfe;$fe=1;var e=J(),t=pK();return e({target:"Object",stat:!0,forced:Object.isExtensible!==t},{isExtensible:t}),Nfe}var Qfe={},Hfe;function WPt(){if(Hfe)return Qfe;Hfe=1;var e=J(),t=rt(),r=Jt(),n=la(),i=hK(),o=Object.isFrozen,a=i||t(function(){});return e({target:"Object",stat:!0,forced:a},{isFrozen:function(l){return!r(l)||i&&n(l)==="ArrayBuffer"?!0:o?o(l):!1}}),Qfe}var qfe={},zfe;function VPt(){if(zfe)return qfe;zfe=1;var e=J(),t=rt(),r=Jt(),n=la(),i=hK(),o=Object.isSealed,a=i||t(function(){});return e({target:"Object",stat:!0,forced:a},{isSealed:function(l){return!r(l)||i&&n(l)==="ArrayBuffer"?!0:o?o(l):!1}}),qfe}var Kfe={},Wfe;function GPt(){if(Wfe)return Kfe;Wfe=1;var e=J(),t=fr(),r=iv(),n=rt(),i=n(function(){r(1)});return e({target:"Object",stat:!0,forced:i},{keys:function(a){return r(t(a))}}),Kfe}var Vfe={},Gfe;function YPt(){if(Gfe)return Vfe;Gfe=1;var e=J(),t=Nt(),r=gP(),n=fr(),i=Ld(),o=Xi(),a=Oo().f;return t&&e({target:"Object",proto:!0,forced:r},{__lookupGetter__:function(l){var c=n(this),u=i(l),d;do if(d=a(c,u))return d.get;while(c=o(c))}}),Vfe}var Yfe={},Xfe;function XPt(){if(Xfe)return Yfe;Xfe=1;var e=J(),t=Nt(),r=gP(),n=fr(),i=Ld(),o=Xi(),a=Oo().f;return t&&e({target:"Object",proto:!0,forced:r},{__lookupSetter__:function(l){var c=n(this),u=i(l),d;do if(d=a(c,u))return d.set;while(c=o(c))}}),Yfe}var Jfe={},Zfe;function JPt(){if(Zfe)return Jfe;Zfe=1;var e=J(),t=Jt(),r=Ap().onFreeze,n=Sf(),i=rt(),o=Object.preventExtensions,a=i(function(){o(1)});return e({target:"Object",stat:!0,forced:a,sham:!n},{preventExtensions:function(l){return o&&t(l)?o(r(l)):l}}),Jfe}var ehe={},the;function ZPt(){if(the)return ehe;the=1;var e=Nt(),t=jn(),r=Jt(),n=rje(),i=fr(),o=Bn(),a=Object.getPrototypeOf,s=Object.setPrototypeOf,l=Object.prototype,c="__proto__";if(e&&a&&s&&!(c in l))try{t(l,c,{configurable:!0,get:function(){return a(i(this))},set:function(d){var A=o(this);n(d)&&r(A)&&s(A,d)}})}catch{}return ehe}var rhe={},nhe;function eTt(){if(nhe)return rhe;nhe=1;var e=J(),t=Jt(),r=Ap().onFreeze,n=Sf(),i=rt(),o=Object.seal,a=i(function(){o(1)});return e({target:"Object",stat:!0,forced:a,sham:!n},{seal:function(l){return o&&t(l)?o(r(l)):l}}),rhe}var ihe={},ohe;function tTt(){if(ohe)return ihe;ohe=1;var e=J(),t=mc();return e({target:"Object",stat:!0},{setPrototypeOf:t}),ihe}var ahe={},gN,she;function rTt(){if(she)return gN;she=1;var e=bz(),t=ns();return gN=e?{}.toString:function(){return"[object "+t(this)+"]"},gN}var lhe;function nTt(){if(lhe)return ahe;lhe=1;var e=bz(),t=Zr(),r=rTt();return e||t(Object.prototype,"toString",r,{unsafe:!0}),ahe}var che={},uhe;function iTt(){if(uhe)return che;uhe=1;var e=J(),t=dLe().values;return e({target:"Object",stat:!0},{values:function(n){return t(n)}}),che}var dhe={},Ahe;function oTt(){if(Ahe)return dhe;Ahe=1;var e=J(),t=lLe();return e({global:!0,forced:parseFloat!==t},{parseFloat:t}),dhe}var fhe={},hhe;function aTt(){if(hhe)return fhe;hhe=1;var e=J(),t=cLe();return e({global:!0,forced:parseInt!==t},{parseInt:t}),fhe}var phe={},ghe={},mN,mhe;function mP(){if(mhe)return mN;mhe=1;var e=Iu(),t=rp(),r=TypeError;return mN=function(n){if(e(n))return n;throw new r(t(n)+" is not a constructor")},mN}var vN,vhe;function vP(){if(vhe)return vN;vhe=1;var e=pt(),t=mP(),r=Wi(),n=qt(),i=n("species");return vN=function(o,a){var s=e(o).constructor,l;return s===void 0||r(l=e(s)[i])?a:t(l)},vN}var yN,yhe;function El(){if(yhe)return yN;yhe=1;var e=TypeError;return yN=function(t,r){if(t<r)throw new e("Not enough arguments");return t},yN}var wN,whe;function hLe(){if(whe)return wN;whe=1;var e=Su();return wN=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),wN}var bN,bhe;function yP(){if(bhe)return bN;bhe=1;var e=ht(),t=Pa(),r=un(),n=ir(),i=ar(),o=rt(),a=Yke(),s=Ds(),l=kB(),c=El(),u=hLe(),d=fv(),A=e.setImmediate,f=e.clearImmediate,h=e.process,p=e.Dispatch,v=e.Function,y=e.MessageChannel,b=e.String,x=0,S={},C="onreadystatechange",_,B,T,O;o(function(){_=e.location});var P=function(M){if(i(S,M)){var D=S[M];delete S[M],D()}},F=function(M){return function(){P(M)}},U=function(M){P(M.data)},k=function(M){e.postMessage(b(M),_.protocol+"//"+_.host)};return(!A||!f)&&(A=function(D){c(arguments.length,1);var j=n(D)?D:v(D),$=s(arguments,1);return S[++x]=function(){t(j,void 0,$)},B(x),x},f=function(D){delete S[D]},d?B=function(M){h.nextTick(F(M))}:p&&p.now?B=function(M){p.now(F(M))}:y&&!u?(T=new y,O=T.port2,T.port1.onmessage=U,B=r(O.postMessage,O)):e.addEventListener&&n(e.postMessage)&&!e.importScripts&&_&&_.protocol!=="file:"&&!o(k)?(B=k,e.addEventListener("message",U,!1)):C in l("script")?B=function(M){a.appendChild(l("script"))[C]=function(){a.removeChild(this),P(M)}}:B=function(M){setTimeout(F(M),0)}),bN={set:A,clear:f},bN}var xN,xhe;function pLe(){if(xhe)return xN;xhe=1;var e=ht(),t=Nt(),r=Object.getOwnPropertyDescriptor;return xN=function(n){if(!t)return e[n];var i=r(e,n);return i&&i.value},xN}var SN,She;function gLe(){if(She)return SN;She=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var r={item:t,next:null},n=this.tail;n?n.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t){var r=this.head=t.next;return r===null&&(this.tail=null),t.item}}},SN=e,SN}var CN,Che;function sTt(){if(Che)return CN;Che=1;var e=Su();return CN=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",CN}var _N,_he;function lTt(){if(_he)return _N;_he=1;var e=Su();return _N=/web0s(?!.*chrome)/i.test(e),_N}var EN,Ehe;function mLe(){if(Ehe)return EN;Ehe=1;var e=ht(),t=pLe(),r=un(),n=yP().set,i=gLe(),o=hLe(),a=sTt(),s=lTt(),l=fv(),c=e.MutationObserver||e.WebKitMutationObserver,u=e.document,d=e.process,A=e.Promise,f=t("queueMicrotask"),h,p,v,y,b;if(!f){var x=new i,S=function(){var C,_;for(l&&(C=d.domain)&&C.exit();_=x.get();)try{_()}catch(B){throw x.head&&h(),B}C&&C.enter()};!o&&!l&&!s&&c&&u?(p=!0,v=u.createTextNode(""),new c(S).observe(v,{characterData:!0}),h=function(){v.data=p=!p}):!a&&A&&A.resolve?(y=A.resolve(void 0),y.constructor=A,b=r(y.then,y),h=function(){b(S)}):l?h=function(){d.nextTick(S)}:(n=r(n,e),h=function(){n(S)}),f=function(C){x.head||h(),x.add(C)}}return EN=f,EN}var IN,Ihe;function vLe(){return Ihe||(Ihe=1,IN=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}}),IN}var BN,Bhe;function fp(){return Bhe||(Bhe=1,BN=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),BN}var PN,Phe;function gv(){if(Phe)return PN;Phe=1;var e=ht();return PN=e.Promise,PN}var TN,The;function Zb(){if(The)return TN;The=1;var e=ht(),t=gv(),r=ir(),n=jb(),i=UB(),o=qt(),a=lP(),s=Ar(),l=Cu(),c=t&&t.prototype,u=o("species"),d=!1,A=r(e.PromiseRejectionEvent),f=n("Promise",function(){var h=i(t),p=h!==String(t);if(!p&&l===66||s&&!(c.catch&&c.finally))return!0;if(!l||l<51||!/native code/.test(h)){var v=new t(function(x){x(1)}),y=function(x){x(function(){},function(){})},b=v.constructor={};if(b[u]=y,d=v.then(function(){})instanceof y,!d)return!0}return!p&&(a==="BROWSER"||a==="DENO")&&!A});return TN={CONSTRUCTOR:f,REJECTION_EVENT:A,SUBCLASSING:d},TN}var ON={},Ohe;function Qd(){if(Ohe)return ON;Ohe=1;var e=Gt(),t=TypeError,r=function(n){var i,o;this.promise=new n(function(a,s){if(i!==void 0||o!==void 0)throw new t("Bad Promise constructor");i=a,o=s}),this.resolve=e(i),this.reject=e(o)};return ON.f=function(n){return new r(n)},ON}var Rhe;function cTt(){if(Rhe)return ghe;Rhe=1;var e=J(),t=Ar(),r=fv(),n=ht(),i=gt(),o=Zr(),a=mc(),s=os(),l=up(),c=Gt(),u=ir(),d=Jt(),A=Oa(),f=vP(),h=yP().set,p=mLe(),v=vLe(),y=fp(),b=gLe(),x=Vr(),S=gv(),C=Zb(),_=Qd(),B="Promise",T=C.CONSTRUCTOR,O=C.REJECTION_EVENT,P=C.SUBCLASSING,F=x.getterFor(B),U=x.set,k=S&&S.prototype,M=S,D=k,j=n.TypeError,$=n.document,Q=n.process,H=_.f,W=H,z=!!($&&$.createEvent&&n.dispatchEvent),V="unhandledrejection",G="rejectionhandled",X=0,Z=1,oe=2,ae=1,ne=2,te,se,de,re,he=function(Be){var Ze;return d(Be)&&u(Ze=Be.then)?Ze:!1},ye=function(Be,Ze){var me=Ze.value,Se=Ze.state===Z,Oe=Se?Be.ok:Be.fail,it=Be.resolve,ft=Be.reject,ee=Be.domain,ce,pe,xe;try{Oe?(Se||(Ze.rejection===ne&&lt(Ze),Ze.rejection=ae),Oe===!0?ce=me:(ee&&ee.enter(),ce=Oe(me),ee&&(ee.exit(),xe=!0)),ce===Be.promise?ft(new j("Promise-chain cycle")):(pe=he(ce))?i(pe,ce,it,ft):it(ce)):ft(me)}catch($e){ee&&!xe&&ee.exit(),ft($e)}},ke=function(Be,Ze){Be.notified||(Be.notified=!0,p(function(){for(var me=Be.reactions,Se;Se=me.get();)ye(Se,Be);Be.notified=!1,Ze&&!Be.rejection&&Ne(Be)}))},Ue=function(Be,Ze,me){var Se,Oe;z?(Se=$.createEvent("Event"),Se.promise=Ze,Se.reason=me,Se.initEvent(Be,!1,!0),n.dispatchEvent(Se)):Se={promise:Ze,reason:me},!O&&(Oe=n["on"+Be])?Oe(Se):Be===V&&v("Unhandled promise rejection",me)},Ne=function(Be){i(h,n,function(){var Ze=Be.facade,me=Be.value,Se=Ye(Be),Oe;if(Se&&(Oe=y(function(){r?Q.emit("unhandledRejection",me,Ze):Ue(V,Ze,me)}),Be.rejection=r||Ye(Be)?ne:ae,Oe.error))throw Oe.value})},Ye=function(Be){return Be.rejection!==ae&&!Be.parent},lt=function(Be){i(h,n,function(){var Ze=Be.facade;r?Q.emit("rejectionHandled",Ze):Ue(G,Ze,Be.value)})},Ve=function(Be,Ze,me){return function(Se){Be(Ze,Se,me)}},Te=function(Be,Ze,me){Be.done||(Be.done=!0,me&&(Be=me),Be.value=Ze,Be.state=oe,ke(Be,!0))},we=function(Be,Ze,me){if(!Be.done){Be.done=!0,me&&(Be=me);try{if(Be.facade===Ze)throw new j("Promise can't be resolved itself");var Se=he(Ze);Se?p(function(){var Oe={done:!1};try{i(Se,Ze,Ve(we,Oe,Be),Ve(Te,Oe,Be))}catch(it){Te(Oe,it,Be)}}):(Be.value=Ze,Be.state=Z,ke(Be,!1))}catch(Oe){Te({done:!1},Oe,Be)}}};if(T&&(M=function(Ze){A(this,D),c(Ze),i(te,this);var me=F(this);try{Ze(Ve(we,me),Ve(Te,me))}catch(Se){Te(me,Se)}},D=M.prototype,te=function(Ze){U(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new b,rejection:!1,state:X,value:null})},te.prototype=o(D,"then",function(Ze,me){var Se=F(this),Oe=H(f(this,M));return Se.parent=!0,Oe.ok=u(Ze)?Ze:!0,Oe.fail=u(me)&&me,Oe.domain=r?Q.domain:void 0,Se.state===X?Se.reactions.add(Oe):p(function(){ye(Oe,Se)}),Oe.promise}),se=function(){var Be=new te,Ze=F(Be);this.promise=Be,this.resolve=Ve(we,Ze),this.reject=Ve(Te,Ze)},_.f=H=function(Be){return Be===M||Be===de?new se(Be):W(Be)},!t&&u(S)&&k!==Object.prototype)){re=k.then,P||o(k,"then",function(Ze,me){var Se=this;return new M(function(Oe,it){i(re,Se,Oe,it)}).then(Ze,me)},{unsafe:!0});try{delete k.constructor}catch{}a&&a(k,D)}return e({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:M}),s(M,B,!1,!0),l(B),ghe}var Mhe={},RN,Fhe;function wP(){if(Fhe)return RN;Fhe=1;var e=gv(),t=oP(),r=Zb().CONSTRUCTOR;return RN=r||!t(function(n){e.all(n).then(void 0,function(){})}),RN}var khe;function uTt(){if(khe)return Mhe;khe=1;var e=J(),t=gt(),r=Gt(),n=Qd(),i=fp(),o=oi(),a=wP();return e({target:"Promise",stat:!0,forced:a},{all:function(l){var c=this,u=n.f(c),d=u.resolve,A=u.reject,f=i(function(){var h=r(c.resolve),p=[],v=0,y=1;o(l,function(b){var x=v++,S=!1;y++,t(h,c,b).then(function(C){S||(S=!0,p[x]=C,--y||d(p))},A)}),--y||d(p)});return f.error&&A(f.value),u.promise}}),Mhe}var Uhe={},Dhe;function dTt(){if(Dhe)return Uhe;Dhe=1;var e=J(),t=Ar(),r=Zb().CONSTRUCTOR,n=gv(),i=Vt(),o=ir(),a=Zr(),s=n&&n.prototype;if(e({target:"Promise",proto:!0,forced:r,real:!0},{catch:function(c){return this.then(void 0,c)}}),!t&&o(n)){var l=i("Promise").prototype.catch;s.catch!==l&&a(s,"catch",l,{unsafe:!0})}return Uhe}var jhe={},Lhe;function ATt(){if(Lhe)return jhe;Lhe=1;var e=J(),t=gt(),r=Gt(),n=Qd(),i=fp(),o=oi(),a=wP();return e({target:"Promise",stat:!0,forced:a},{race:function(l){var c=this,u=n.f(c),d=u.reject,A=i(function(){var f=r(c.resolve);o(l,function(h){t(f,c,h).then(u.resolve,d)})});return A.error&&d(A.value),u.promise}}),jhe}var Nhe={},$he;function fTt(){if($he)return Nhe;$he=1;var e=J(),t=Qd(),r=Zb().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:r},{reject:function(i){var o=t.f(this),a=o.reject;return a(i),o.promise}}),Nhe}var Qhe={},MN,Hhe;function yLe(){if(Hhe)return MN;Hhe=1;var e=pt(),t=Jt(),r=Qd();return MN=function(n,i){if(e(n),t(i)&&i.constructor===n)return i;var o=r.f(n),a=o.resolve;return a(i),o.promise},MN}var qhe;function hTt(){if(qhe)return Qhe;qhe=1;var e=J(),t=Vt(),r=Ar(),n=gv(),i=Zb().CONSTRUCTOR,o=yLe(),a=t("Promise"),s=r&&!i;return e({target:"Promise",stat:!0,forced:r||i},{resolve:function(c){return o(s&&this===a?n:this,c)}}),Qhe}var zhe;function pTt(){return zhe||(zhe=1,cTt(),uTt(),dTt(),ATt(),fTt(),hTt()),phe}var Khe={},Whe;function wLe(){if(Whe)return Khe;Whe=1;var e=J(),t=gt(),r=Gt(),n=Qd(),i=fp(),o=oi(),a=wP();return e({target:"Promise",stat:!0,forced:a},{allSettled:function(l){var c=this,u=n.f(c),d=u.resolve,A=u.reject,f=i(function(){var h=r(c.resolve),p=[],v=0,y=1;o(l,function(b){var x=v++,S=!1;y++,t(h,c,b).then(function(C){S||(S=!0,p[x]={status:"fulfilled",value:C},--y||d(p))},function(C){S||(S=!0,p[x]={status:"rejected",reason:C},--y||d(p))})}),--y||d(p)});return f.error&&A(f.value),u.promise}}),Khe}var Vhe={},Ghe;function bLe(){if(Ghe)return Vhe;Ghe=1;var e=J(),t=gt(),r=Gt(),n=Vt(),i=Qd(),o=fp(),a=oi(),s=wP(),l="No one promise resolved";return e({target:"Promise",stat:!0,forced:s},{any:function(u){var d=this,A=n("AggregateError"),f=i.f(d),h=f.resolve,p=f.reject,v=o(function(){var y=r(d.resolve),b=[],x=0,S=1,C=!1;a(u,function(_){var B=x++,T=!1;S++,t(y,d,_).then(function(O){T||C||(C=!0,h(O))},function(O){T||C||(T=!0,b[B]=O,--S||p(new A(b,l)))})}),--S||p(new A(b,l))});return v.error&&p(v.value),f.promise}}),Vhe}var Yhe={},Xhe;function gTt(){if(Xhe)return Yhe;Xhe=1;var e=J(),t=Ar(),r=gv(),n=rt(),i=Vt(),o=ir(),a=vP(),s=yLe(),l=Zr(),c=r&&r.prototype,u=!!r&&n(function(){c.finally.call({then:function(){}},function(){})});if(e({target:"Promise",proto:!0,real:!0,forced:u},{finally:function(A){var f=a(this,i("Promise")),h=o(A);return this.then(h?function(p){return s(f,A()).then(function(){return p})}:A,h?function(p){return s(f,A()).then(function(){throw p})}:A)}}),!t&&o(r)){var d=i("Promise").prototype.finally;c.finally!==d&&l(c,"finally",d,{unsafe:!0})}return Yhe}var Jhe={},Zhe;function xLe(){if(Zhe)return Jhe;Zhe=1;var e=J(),t=ht(),r=Pa(),n=Ds(),i=Qd(),o=Gt(),a=fp(),s=t.Promise,l=!1,c=!s||!s.try||a(function(){s.try(function(u){l=u===8},8)}).error||!l;return e({target:"Promise",stat:!0,forced:c},{try:function(u){var d=arguments.length>1?n(arguments,1):[],A=i.f(this),f=a(function(){return r(o(u),void 0,d)});return(f.error?A.reject:A.resolve)(f.value),A.promise}}),Jhe}var epe={},tpe;function SLe(){if(tpe)return epe;tpe=1;var e=J(),t=Qd();return e({target:"Promise",stat:!0},{withResolvers:function(){var n=t.f(this);return{promise:n.promise,resolve:n.resolve,reject:n.reject}}}),epe}var rpe={},npe;function mTt(){if(npe)return rpe;npe=1;var e=J(),t=Pa(),r=Gt(),n=pt(),i=rt(),o=!i(function(){Reflect.apply(function(){})});return e({target:"Reflect",stat:!0,forced:o},{apply:function(s,l,c){return t(r(s),l,n(c))}}),rpe}var ipe={},ope;function vTt(){if(ope)return ipe;ope=1;var e=J(),t=Vt(),r=Pa(),n=Lje(),i=mP(),o=pt(),a=Jt(),s=Pi(),l=rt(),c=t("Reflect","construct"),u=Object.prototype,d=[].push,A=l(function(){function p(){}return!(c(function(){},[],p)instanceof p)}),f=!l(function(){c(function(){})}),h=A||f;return e({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(v,y){i(v),o(y);var b=arguments.length<3?v:i(arguments[2]);if(f&&!A)return c(v,y,b);if(v===b){switch(y.length){case 0:return new v;case 1:return new v(y[0]);case 2:return new v(y[0],y[1]);case 3:return new v(y[0],y[1],y[2]);case 4:return new v(y[0],y[1],y[2],y[3])}var x=[null];return r(d,x,y),new(r(n,v,x))}var S=b.prototype,C=s(a(S)?S:u),_=r(v,C,y);return a(_)?_:C}}),ipe}var ape={},spe;function yTt(){if(spe)return ape;spe=1;var e=J(),t=Nt(),r=pt(),n=Ld(),i=vn(),o=rt(),a=o(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})});return e({target:"Reflect",stat:!0,forced:a,sham:!t},{defineProperty:function(l,c,u){r(l);var d=n(c);r(u);try{return i.f(l,d,u),!0}catch{return!1}}}),ape}var lpe={},cpe;function wTt(){if(cpe)return lpe;cpe=1;var e=J(),t=pt(),r=Oo().f;return e({target:"Reflect",stat:!0},{deleteProperty:function(i,o){var a=r(t(i),o);return a&&!a.configurable?!1:delete i[o]}}),lpe}var upe={},FN,dpe;function CLe(){if(dpe)return FN;dpe=1;var e=ar();return FN=function(t){return t!==void 0&&(e(t,"value")||e(t,"writable"))},FN}var Ape;function bTt(){if(Ape)return upe;Ape=1;var e=J(),t=gt(),r=Jt(),n=pt(),i=CLe(),o=Oo(),a=Xi();function s(l,c){var u=arguments.length<3?l:arguments[2],d,A;if(n(l)===u)return l[c];if(d=o.f(l,c),d)return i(d)?d.value:d.get===void 0?void 0:t(d.get,u);if(r(A=a(l)))return s(A,c,u)}return e({target:"Reflect",stat:!0},{get:s}),upe}var fpe={},hpe;function xTt(){if(hpe)return fpe;hpe=1;var e=J(),t=Nt(),r=pt(),n=Oo();return e({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(o,a){return n.f(r(o),a)}}),fpe}var ppe={},gpe;function STt(){if(gpe)return ppe;gpe=1;var e=J(),t=pt(),r=Xi(),n=nK();return e({target:"Reflect",stat:!0,sham:!n},{getPrototypeOf:function(o){return r(t(o))}}),ppe}var mpe={},vpe;function CTt(){if(vpe)return mpe;vpe=1;var e=J();return e({target:"Reflect",stat:!0},{has:function(r,n){return n in r}}),mpe}var ype={},wpe;function _Tt(){if(wpe)return ype;wpe=1;var e=J(),t=pt(),r=pK();return e({target:"Reflect",stat:!0},{isExtensible:function(i){return t(i),r(i)}}),ype}var bpe={},xpe;function ETt(){if(xpe)return bpe;xpe=1;var e=J(),t=vz();return e({target:"Reflect",stat:!0},{ownKeys:t}),bpe}var Spe={},Cpe;function ITt(){if(Cpe)return Spe;Cpe=1;var e=J(),t=Vt(),r=pt(),n=Sf();return e({target:"Reflect",stat:!0,sham:!n},{preventExtensions:function(o){r(o);try{var a=t("Object","preventExtensions");return a&&a(o),!0}catch{return!1}}}),Spe}var _pe={},Epe;function BTt(){if(Epe)return _pe;Epe=1;var e=J(),t=gt(),r=pt(),n=Jt(),i=CLe(),o=rt(),a=vn(),s=Oo(),l=Xi(),c=Fs();function u(A,f,h){var p=arguments.length<4?A:arguments[3],v=s.f(r(A),f),y,b,x;if(!v){if(n(b=l(A)))return u(b,f,h,p);v=c(0)}if(i(v)){if(v.writable===!1||!n(p))return!1;if(y=s.f(p,f)){if(y.get||y.set||y.writable===!1)return!1;y.value=h,a.f(p,f,y)}else a.f(p,f,c(0,h))}else{if(x=v.set,x===void 0)return!1;t(x,p,h)}return!0}var d=o(function(){var A=function(){},f=a.f(new A,"a",{configurable:!0});return Reflect.set(A.prototype,"a",1,f)!==!1});return e({target:"Reflect",stat:!0,forced:d},{set:u}),_pe}var Ipe={},Bpe;function PTt(){if(Bpe)return Ipe;Bpe=1;var e=J(),t=pt(),r=nje(),n=mc();return n&&e({target:"Reflect",stat:!0},{setPrototypeOf:function(o,a){t(o),r(a);try{return n(o,a),!0}catch{return!1}}}),Ipe}var Ppe={},Tpe;function TTt(){if(Tpe)return Ppe;Tpe=1;var e=J(),t=ht(),r=os();return e({global:!0},{Reflect:{}}),r(t.Reflect,"Reflect",!0),Ppe}var Ope={},Rpe;function OTt(){if(Rpe)return Ope;Rpe=1;var e=Nt(),t=ht(),r=Qe(),n=jb(),i=sp(),o=Gi(),a=Pi(),s=ip().f,l=ca(),c=qB(),u=er(),d=Qb(),A=NB(),f=ije(),h=Zr(),p=rt(),v=ar(),y=Vr().enforce,b=up(),x=qt(),S=Sz(),C=nUe(),_=x("match"),B=t.RegExp,T=B.prototype,O=t.SyntaxError,P=r(T.exec),F=r("".charAt),U=r("".replace),k=r("".indexOf),M=r("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,j=/a/g,$=/a/g,Q=new B(j)!==j,H=A.MISSED_STICKY,W=A.UNSUPPORTED_Y,z=e&&(!Q||H||S||C||p(function(){return $[_]=!1,B(j)!==j||B($)===$||String(B(j,"i"))!=="/a/i"})),V=function(ae){for(var ne=ae.length,te=0,se="",de=!1,re;te<=ne;te++){if(re=F(ae,te),re==="\\"){se+=re+F(ae,++te);continue}!de&&re==="."?se+="[\\s\\S]":(re==="["?de=!0:re==="]"&&(de=!1),se+=re)}return se},G=function(ae){for(var ne=ae.length,te=0,se="",de=[],re=a(null),he=!1,ye=!1,ke=0,Ue="",Ne;te<=ne;te++){if(Ne=F(ae,te),Ne==="\\")Ne+=F(ae,++te);else if(Ne==="]")he=!1;else if(!he)switch(!0){case Ne==="[":he=!0;break;case Ne==="(":if(se+=Ne,M(ae,te+1,te+3)==="?:")continue;P(D,M(ae,te+1))&&(te+=2,ye=!0),ke++;continue;case(Ne===">"&&ye):if(Ue===""||v(re,Ue))throw new O("Invalid capture group name");re[Ue]=!0,de[de.length]=[Ue,ke],ye=!1,Ue="";continue}ye?Ue+=Ne:se+=Ne}return[se,de]};if(n("RegExp",z)){for(var X=function(ne,te){var se=l(T,this),de=c(ne),re=te===void 0,he=[],ye=ne,ke,Ue,Ne,Ye,lt,Ve;if(!se&&de&&re&&ne.constructor===X)return ne;if((de||l(T,ne))&&(ne=ne.source,re&&(te=d(ye))),ne=ne===void 0?"":u(ne),te=te===void 0?"":u(te),ye=ne,S&&"dotAll"in j&&(Ue=!!te&&k(te,"s")>-1,Ue&&(te=U(te,/s/g,""))),ke=te,H&&"sticky"in j&&(Ne=!!te&&k(te,"y")>-1,Ne&&W&&(te=U(te,/y/g,""))),C&&(Ye=G(ne),ne=Ye[0],he=Ye[1]),lt=i(B(ne,te),se?this:T,X),(Ue||Ne||he.length)&&(Ve=y(lt),Ue&&(Ve.dotAll=!0,Ve.raw=X(V(ne),ke)),Ne&&(Ve.sticky=!0),he.length&&(Ve.groups=he)),ne!==ye)try{o(lt,"source",ye===""?"(?:)":ye)}catch{}return lt},Z=s(B),oe=0;Z.length>oe;)f(X,B,Z[oe++]);T.constructor=X,X.prototype=T,h(t,"RegExp",X,{constructor:!0})}return b("RegExp"),Ope}var Mpe={},kN,Fpe;function bP(){if(Fpe)return kN;Fpe=1;var e=TypeError;return kN=function(t){if(typeof t=="string")return t;throw new e("Argument is not a string")},kN}var kpe;function _Le(){if(kpe)return Mpe;kpe=1;var e=J(),t=Qe(),r=bP(),n=ar(),i=AP().start,o=hv(),a=Array,s=RegExp.escape,l=t("".charAt),c=t("".charCodeAt),u=t(1.1.toString),d=t([].join),A=/^[0-9a-z]/i,f=/^[$()*+./?[\\\]^{|}]/,h=RegExp("^[!\"#%&',\\-:;<=>@`~"+o+"]"),p=t(A.exec),v={"	":"t","\n":"n","\v":"v","\f":"f","\r":"r"},y=function(x){var S=u(c(x,0),16);return S.length<3?"\\x"+i(S,2,"0"):"\\u"+i(S,4,"0")},b=!s||s("ab")!=="\\x61b";return e({target:"RegExp",stat:!0,forced:b},{escape:function(S){r(S);for(var C=S.length,_=a(C),B=0;B<C;B++){var T=l(S,B);if(B===0&&p(A,T))_[B]=y(T);else if(n(v,T))_[B]="\\"+v[T];else if(p(f,T))_[B]="\\"+T;else if(p(h,T))_[B]=y(T);else{var O=c(T,0);(O&63488)!==55296?_[B]=T:O>=56320||B+1>=C||(c(S,B+1)&64512)!==56320?_[B]=y(T):(_[B]=T,_[++B]=l(S,B))}}return d(_,"")}}),Mpe}var Upe={},Dpe;function RTt(){if(Dpe)return Upe;Dpe=1;var e=Nt(),t=Sz(),r=la(),n=jn(),i=Vr().get,o=RegExp.prototype,a=TypeError;return e&&t&&n(o,"dotAll",{configurable:!0,get:function(){if(this!==o){if(r(this)==="RegExp")return!!i(this).dotAll;throw new a("Incompatible receiver, RegExp required")}}}),Upe}var jpe={},Lpe;function MTt(){if(Lpe)return jpe;Lpe=1;var e=ht(),t=Nt(),r=jn(),n=xz(),i=rt(),o=e.RegExp,a=o.prototype,s=t&&i(function(){var l=!0;try{o(".","d")}catch{l=!1}var c={},u="",d=l?"dgimsy":"gimsy",A=function(v,y){Object.defineProperty(c,v,{get:function(){return u+=y,!0}})},f={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};l&&(f.hasIndices="d");for(var h in f)A(h,f[h]);var p=Object.getOwnPropertyDescriptor(a,"flags").get.call(c);return p!==d||u!==d});return s&&r(a,"flags",{configurable:!0,get:n}),jpe}var Npe={},$pe;function FTt(){if($pe)return Npe;$pe=1;var e=Nt(),t=NB().MISSED_STICKY,r=la(),n=jn(),i=Vr().get,o=RegExp.prototype,a=TypeError;return e&&t&&n(o,"sticky",{configurable:!0,get:function(){if(this!==o){if(r(this)==="RegExp")return!!i(this).sticky;throw new a("Incompatible receiver, RegExp required")}}}),Npe}var Qpe={},Hpe;function kTt(){if(Hpe)return Qpe;Hpe=1,$B();var e=J(),t=gt(),r=ir(),n=pt(),i=er(),o=function(){var s=!1,l=/[ac]/;return l.exec=function(){return s=!0,/./.exec.apply(this,arguments)},l.test("abc")===!0&&s}(),a=/./.test;return e({target:"RegExp",proto:!0,forced:!o},{test:function(s){var l=n(this),c=i(s),u=l.exec;if(!r(u))return t(a,l,c);var d=t(u,l,c);return d===null?!1:(n(d),!0)}}),Qpe}var qpe={},zpe;function UTt(){if(zpe)return qpe;zpe=1;var e=rv().PROPER,t=Zr(),r=pt(),n=er(),i=rt(),o=Qb(),a="toString",s=RegExp.prototype,l=s[a],c=i(function(){return l.call({source:"a",flags:"b"})!=="/a/b"}),u=e&&l.name!==a;return(c||u)&&t(s,a,function(){var A=r(this),f=n(A.source),h=n(o(A));return"/"+f+"/"+h},{unsafe:!0}),qpe}var Kpe={},Wpe={},Vpe;function DTt(){if(Vpe)return Wpe;Vpe=1;var e=fP(),t=rLe();return e("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},t),Wpe}var Gpe;function jTt(){return Gpe||(Gpe=1,DTt()),Kpe}var Ype={},UN,Xpe;function Fo(){if(Xpe)return UN;Xpe=1;var e=Qe(),t=Set.prototype;return UN={Set,add:e(t.add),has:e(t.has),remove:e(t.delete),proto:t},UN}var DN,Jpe;function ua(){if(Jpe)return DN;Jpe=1;var e=Fo().has;return DN=function(t){return e(t),t},DN}var jN,Zpe;function Cf(){if(Zpe)return jN;Zpe=1;var e=gt();return jN=function(t,r,n){for(var i=n?t:t.iterator,o=t.next,a,s;!(a=e(o,i)).done;)if(s=r(a.value),s!==void 0)return s},jN}var LN,ege;function js(){if(ege)return LN;ege=1;var e=Qe(),t=Cf(),r=Fo(),n=r.Set,i=r.proto,o=e(i.forEach),a=e(i.keys),s=a(new n).next;return LN=function(l,c,u){return u?t({iterator:a(l),next:s},c):o(l,c)},LN}var NN,tge;function yK(){if(tge)return NN;tge=1;var e=Fo(),t=js(),r=e.Set,n=e.add;return NN=function(i){var o=new r;return t(i,function(a){n(o,a)}),o},NN}var $N,rge;function ex(){if(rge)return $N;rge=1;var e=rP(),t=Fo();return $N=e(t.proto,"size","get")||function(r){return r.size},$N}var QN,nge;function hp(){if(nge)return QN;nge=1;var e=Gt(),t=pt(),r=gt(),n=Dn(),i=Gn(),o="Invalid size",a=RangeError,s=TypeError,l=Math.max,c=function(u,d){this.set=u,this.size=l(d,0),this.has=e(u.has),this.keys=e(u.keys)};return c.prototype={getIterator:function(){return i(t(r(this.keys,this.set)))},includes:function(u){return r(this.has,this.set,u)}},QN=function(u){t(u);var d=+u.size;if(d!==d)throw new s(o);var A=n(d);if(A<0)throw new a(o);return new c(u,A)},QN}var HN,ige;function ELe(){if(ige)return HN;ige=1;var e=ua(),t=Fo(),r=yK(),n=ex(),i=hp(),o=js(),a=Cf(),s=t.has,l=t.remove;return HN=function(u){var d=e(this),A=i(u),f=r(d);return n(d)<=A.size?o(d,function(h){A.includes(h)&&l(f,h)}):a(A.getIterator(),function(h){s(d,h)&&l(f,h)}),f},HN}var qN,oge;function pp(){if(oge)return qN;oge=1;var e=Vt(),t=function(n){return{size:n,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},r=function(n){return{size:n,has:function(){return!0},keys:function(){throw new Error("e")}}};return qN=function(n,i){var o=e("Set");try{new o()[n](t(0));try{return new o()[n](t(-1)),!1}catch{if(!i)return!0;try{return new o()[n](r(-1/0)),!1}catch{var a=new o;return a.add(1),a.add(2),i(a[n](r(1/0)))}}}catch{return!1}},qN}var age;function ILe(){if(age)return Ype;age=1;var e=J(),t=ELe(),r=pp(),n=!r("difference",function(i){return i.size===0});return e({target:"Set",proto:!0,real:!0,forced:n},{difference:t}),Ype}var sge={},zN,lge;function BLe(){if(lge)return zN;lge=1;var e=ua(),t=Fo(),r=ex(),n=hp(),i=js(),o=Cf(),a=t.Set,s=t.add,l=t.has;return zN=function(u){var d=e(this),A=n(u),f=new a;return r(d)>A.size?o(A.getIterator(),function(h){l(d,h)&&s(f,h)}):i(d,function(h){A.includes(h)&&s(f,h)}),f},zN}var cge;function PLe(){if(cge)return sge;cge=1;var e=J(),t=rt(),r=BLe(),n=pp(),i=!n("intersection",function(o){return o.size===2&&o.has(1)&&o.has(2)})||t(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return e({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),sge}var uge={},KN,dge;function TLe(){if(dge)return KN;dge=1;var e=ua(),t=Fo().has,r=ex(),n=hp(),i=js(),o=Cf(),a=bf();return KN=function(l){var c=e(this),u=n(l);if(r(c)<=u.size)return i(c,function(A){if(u.includes(A))return!1},!0)!==!1;var d=u.getIterator();return o(d,function(A){if(t(c,A))return a(d,"normal",!1)})!==!1},KN}var Age;function OLe(){if(Age)return uge;Age=1;var e=J(),t=TLe(),r=pp(),n=!r("isDisjointFrom",function(i){return!i});return e({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:t}),uge}var fge={},WN,hge;function RLe(){if(hge)return WN;hge=1;var e=ua(),t=ex(),r=js(),n=hp();return WN=function(o){var a=e(this),s=n(o);return t(a)>s.size?!1:r(a,function(l){if(!s.includes(l))return!1},!0)!==!1},WN}var pge;function MLe(){if(pge)return fge;pge=1;var e=J(),t=RLe(),r=pp(),n=!r("isSubsetOf",function(i){return i});return e({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:t}),fge}var gge={},VN,mge;function FLe(){if(mge)return VN;mge=1;var e=ua(),t=Fo().has,r=ex(),n=hp(),i=Cf(),o=bf();return VN=function(s){var l=e(this),c=n(s);if(r(l)<c.size)return!1;var u=c.getIterator();return i(u,function(d){if(!t(l,d))return o(u,"normal",!1)})!==!1},VN}var vge;function kLe(){if(vge)return gge;vge=1;var e=J(),t=FLe(),r=pp(),n=!r("isSupersetOf",function(i){return!i});return e({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:t}),gge}var yge={},GN,wge;function ULe(){if(wge)return GN;wge=1;var e=ua(),t=Fo(),r=yK(),n=hp(),i=Cf(),o=t.add,a=t.has,s=t.remove;return GN=function(c){var u=e(this),d=n(c).getIterator(),A=r(u);return i(d,function(f){a(u,f)?s(A,f):o(A,f)}),A},GN}var bge;function DLe(){if(bge)return yge;bge=1;var e=J(),t=ULe(),r=pp();return e({target:"Set",proto:!0,real:!0,forced:!r("symmetricDifference")},{symmetricDifference:t}),yge}var xge={},YN,Sge;function jLe(){if(Sge)return YN;Sge=1;var e=ua(),t=Fo().add,r=yK(),n=hp(),i=Cf();return YN=function(a){var s=e(this),l=n(a).getIterator(),c=r(s);return i(l,function(u){t(c,u)}),c},YN}var Cge;function LLe(){if(Cge)return xge;Cge=1;var e=J(),t=jLe(),r=pp();return e({target:"Set",proto:!0,real:!0,forced:!r("union")},{union:t}),xge}var _ge={},Ege;function LTt(){if(Ege)return _ge;Ege=1;var e=J(),t=ov().codeAt;return e({target:"String",proto:!0},{codePointAt:function(n){return t(this,n)}}),_ge}var Ige={},XN,Bge;function wK(){if(Bge)return XN;Bge=1;var e=qB(),t=TypeError;return XN=function(r){if(e(r))throw new t("The method doesn't accept regular expressions");return r},XN}var JN,Pge;function bK(){if(Pge)return JN;Pge=1;var e=qt(),t=e("match");return JN=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[t]=!1,"/./"[r](n)}catch{}}return!1},JN}var Tge;function NTt(){if(Tge)return Ige;Tge=1;var e=J(),t=ap(),r=Oo().f,n=ks(),i=er(),o=wK(),a=Bn(),s=bK(),l=Ar(),c=t("".slice),u=Math.min,d=s("endsWith"),A=!l&&!d&&!!function(){var f=r(String.prototype,"endsWith");return f&&!f.writable}();return e({target:"String",proto:!0,forced:!A&&!d},{endsWith:function(h){var p=i(a(this));o(h);var v=arguments.length>1?arguments[1]:void 0,y=p.length,b=v===void 0?y:u(n(v),y),x=i(h);return c(p,b-x.length,b)===x}}),Ige}var Oge={},Rge;function NLe(){if(Rge)return Oge;Rge=1;var e=J(),t=Qe(),r=_u(),n=RangeError,i=String.fromCharCode,o=String.fromCodePoint,a=t([].join),s=!!o&&o.length!==1;return e({target:"String",stat:!0,arity:1,forced:s},{fromCodePoint:function(c){for(var u=[],d=arguments.length,A=0,f;d>A;){if(f=+arguments[A++],r(f,1114111)!==f)throw new n(f+" is not a valid code point");u[A]=f<65536?i(f):i(((f-=65536)>>10)+55296,f%1024+56320)}return a(u,"")}}),Oge}var Mge={},Fge;function $Tt(){if(Fge)return Mge;Fge=1;var e=J(),t=Qe(),r=wK(),n=Bn(),i=er(),o=bK(),a=t("".indexOf);return e({target:"String",proto:!0,forced:!o("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),Mge}var kge={},Uge;function $Le(){if(Uge)return kge;Uge=1;var e=J(),t=Qe(),r=Bn(),n=er(),i=t("".charCodeAt);return e({target:"String",proto:!0},{isWellFormed:function(){for(var a=n(r(this)),s=a.length,l=0;l<s;l++){var c=i(a,l);if((c&63488)===55296&&(c>=56320||++l>=s||(i(a,l)&64512)!==56320))return!1}return!0}}),kge}var Dge={},jge;function QLe(){if(jge)return Dge;jge=1;var e=ov().charAt,t=er(),r=Vr(),n=sK(),i=co(),o="String Iterator",a=r.set,s=r.getterFor(o);return n(String,"String",function(l){a(this,{type:o,string:t(l),index:0})},function(){var c=s(this),u=c.string,d=c.index,A;return d>=u.length?i(void 0,!0):(A=e(u,d),c.index+=A.length,i(A,!1))}),Dge}var Lge={},Nge;function QTt(){if(Nge)return Lge;Nge=1;var e=gt(),t=QB(),r=pt(),n=Wi(),i=ks(),o=er(),a=Bn(),s=Bi(),l=HB(),c=$b();return t("match",function(u,d,A){return[function(h){var p=a(this),v=n(h)?void 0:s(h,u);return v?e(v,h,p):new RegExp(h)[u](o(p))},function(f){var h=r(this),p=o(f),v=A(d,h,p);if(v.done)return v.value;if(!h.global)return c(h,p);var y=h.unicode;h.lastIndex=0;for(var b=[],x=0,S;(S=c(h,p))!==null;){var C=o(S[0]);b[x]=C,C===""&&(h.lastIndex=l(p,i(h.lastIndex),y)),x++}return x===0?null:b}]}),Lge}var $ge={},Qge;function HLe(){if(Qge)return $ge;Qge=1;var e=J(),t=gt(),r=ap(),n=cp(),i=co(),o=Bn(),a=ks(),s=er(),l=pt(),c=Wi(),u=la(),d=qB(),A=Qb(),f=Bi(),h=Zr(),p=rt(),v=qt(),y=vP(),b=HB(),x=$b(),S=Vr(),C=Ar(),_=v("matchAll"),B="RegExp String",T=B+" Iterator",O=S.set,P=S.getterFor(T),F=RegExp.prototype,U=TypeError,k=r("".indexOf),M=r("".matchAll),D=!!M&&!p(function(){M("a",/./)}),j=n(function(H,W,z,V){O(this,{type:T,regexp:H,string:W,global:z,unicode:V,done:!1})},B,function(){var H=P(this);if(H.done)return i(void 0,!0);var W=H.regexp,z=H.string,V=x(W,z);return V===null?(H.done=!0,i(void 0,!0)):H.global?(s(V[0])===""&&(W.lastIndex=b(z,a(W.lastIndex),H.unicode)),i(V,!1)):(H.done=!0,i(V,!1))}),$=function(Q){var H=l(this),W=s(Q),z=y(H,RegExp),V=s(A(H)),G,X,Z;return G=new z(z===RegExp?H.source:H,V),X=!!~k(V,"g"),Z=!!~k(V,"u"),G.lastIndex=a(H.lastIndex),new j(G,W,X,Z)};return e({target:"String",proto:!0,forced:D},{matchAll:function(H){var W=o(this),z,V,G,X;if(c(H)){if(D)return M(W,H)}else{if(d(H)&&(z=s(o(A(H))),!~k(z,"g")))throw new U("`.matchAll` does not allow non-global regexes");if(D)return M(W,H);if(G=f(H,_),G===void 0&&C&&u(H)==="RegExp"&&(G=$),G)return t(G,H,W)}return V=s(W),X=new RegExp(H,"g"),C?t($,X,V):X[_](V)}}),C||_ in F||h(F,_,$),$ge}var Hge={},ZN,qge;function qLe(){if(qge)return ZN;qge=1;var e=Su();return ZN=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(e),ZN}var zge;function HTt(){if(zge)return Hge;zge=1;var e=J(),t=AP().end,r=qLe();return e({target:"String",proto:!0,forced:r},{padEnd:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}}),Hge}var Kge={},Wge;function qTt(){if(Wge)return Kge;Wge=1;var e=J(),t=AP().start,r=qLe();return e({target:"String",proto:!0,forced:r},{padStart:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}}),Kge}var Vge={},Gge;function zTt(){if(Gge)return Vge;Gge=1;var e=J(),t=Qe(),r=Vi(),n=fr(),i=er(),o=Tr(),a=t([].push),s=t([].join);return e({target:"String",stat:!0},{raw:function(c){var u=r(n(c).raw),d=o(u);if(!d)return"";for(var A=arguments.length,f=[],h=0;;){if(a(f,i(u[h++])),h===d)return s(f,"");h<A&&a(f,i(arguments[h]))}}}),Vge}var Yge={},Xge;function KTt(){if(Xge)return Yge;Xge=1;var e=J(),t=dP();return e({target:"String",proto:!0},{repeat:t}),Yge}var Jge={},Zge;function WTt(){if(Zge)return Jge;Zge=1;var e=gt(),t=QB(),r=pt(),n=Wi(),i=Bn(),o=vK(),a=er(),s=Bi(),l=$b();return t("search",function(c,u,d){return[function(f){var h=i(this),p=n(f)?void 0:s(f,c);return p?e(p,f,h):new RegExp(f)[c](a(h))},function(A){var f=r(this),h=a(A),p=d(u,f,h);if(p.done)return p.value;var v=f.lastIndex;o(v,0)||(f.lastIndex=0);var y=l(f,h);return o(f.lastIndex,v)||(f.lastIndex=v),y===null?-1:y.index}]}),Jge}var eme={},tme;function VTt(){if(tme)return eme;tme=1;var e=gt(),t=Qe(),r=QB(),n=pt(),i=Wi(),o=Bn(),a=vP(),s=HB(),l=ks(),c=er(),u=Bi(),d=$b(),A=NB(),f=rt(),h=A.UNSUPPORTED_Y,p=4294967295,v=Math.min,y=t([].push),b=t("".slice),x=!f(function(){var C=/(?:)/,_=C.exec;C.exec=function(){return _.apply(this,arguments)};var B="ab".split(C);return B.length!==2||B[0]!=="a"||B[1]!=="b"}),S="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;return r("split",function(C,_,B){var T="0".split(void 0,0).length?function(O,P){return O===void 0&&P===0?[]:e(_,this,O,P)}:_;return[function(P,F){var U=o(this),k=i(P)?void 0:u(P,C);return k?e(k,P,U,F):e(T,c(U),P,F)},function(O,P){var F=n(this),U=c(O);if(!S){var k=B(T,F,U,P,T!==_);if(k.done)return k.value}var M=a(F,RegExp),D=F.unicode,j=(F.ignoreCase?"i":"")+(F.multiline?"m":"")+(F.unicode?"u":"")+(h?"g":"y"),$=new M(h?"^(?:"+F.source+")":F,j),Q=P===void 0?p:P>>>0;if(Q===0)return[];if(U.length===0)return d($,U)===null?[U]:[];for(var H=0,W=0,z=[];W<U.length;){$.lastIndex=h?0:W;var V=d($,h?b(U,W):U),G;if(V===null||(G=v(l($.lastIndex+(h?W:0)),U.length))===H)W=s(U,W,D);else{if(y(z,b(U,H,W)),z.length===Q)return z;for(var X=1;X<=V.length-1;X++)if(y(z,V[X]),z.length===Q)return z;W=H=G}}return y(z,b(U,H)),z}]},S||!x,h),eme}var rme={},nme;function GTt(){if(nme)return rme;nme=1;var e=J(),t=ap(),r=Oo().f,n=ks(),i=er(),o=wK(),a=Bn(),s=bK(),l=Ar(),c=t("".slice),u=Math.min,d=s("startsWith"),A=!l&&!d&&!!function(){var f=r(String.prototype,"startsWith");return f&&!f.writable}();return e({target:"String",proto:!0,forced:!A&&!d},{startsWith:function(h){var p=i(a(this));o(h);var v=n(u(arguments.length>1?arguments[1]:void 0,p.length)),y=i(h);return c(p,v,v+y.length)===y}}),rme}var ime={},ome;function YTt(){if(ome)return ime;ome=1;var e=J(),t=Qe(),r=Bn(),n=Dn(),i=er(),o=t("".slice),a=Math.max,s=Math.min,l=!"".substr||"ab".substr(-1)!=="b";return e({target:"String",proto:!0,forced:l},{substr:function(u,d){var A=i(r(this)),f=A.length,h=n(u),p,v;return h===1/0&&(h=0),h<0&&(h=a(f+h,0)),p=d===void 0?f:n(d),p<=0||p===1/0?"":(v=s(h+p,f),h>=v?"":o(A,h,v))}}),ime}var ame={},sme;function zLe(){if(sme)return ame;sme=1;var e=J(),t=gt(),r=Qe(),n=Bn(),i=er(),o=rt(),a=Array,s=r("".charAt),l=r("".charCodeAt),c=r([].join),u="".toWellFormed,d="",A=u&&o(function(){return t(u,1)!=="1"});return e({target:"String",proto:!0,forced:A},{toWellFormed:function(){var h=i(n(this));if(A)return t(u,h);for(var p=h.length,v=a(p),y=0;y<p;y++){var b=l(h,y);(b&63488)!==55296?v[y]=s(h,y):b>=56320||y+1>=p||(l(h,y+1)&64512)!==56320?v[y]=d:(v[y]=s(h,y),v[++y]=s(h,y))}return c(v,"")}}),ame}var lme={},e$,cme;function xK(){if(cme)return e$;cme=1;var e=rv().PROPER,t=rt(),r=hv(),n="";return e$=function(i){return t(function(){return!!r[i]()||n[i]()!==n||e&&r[i].name!==i})},e$}var ume;function XTt(){if(ume)return lme;ume=1;var e=J(),t=pv().trim,r=xK();return e({target:"String",proto:!0,forced:r("trim")},{trim:function(){return t(this)}}),lme}var dme={},Ame={},t$,fme;function KLe(){if(fme)return t$;fme=1;var e=pv().end,t=xK();return t$=t("trimEnd")?function(){return e(this)}:"".trimEnd,t$}var hme;function JTt(){if(hme)return Ame;hme=1;var e=J(),t=KLe();return e({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==t},{trimRight:t}),Ame}var pme;function ZTt(){if(pme)return dme;pme=1,JTt();var e=J(),t=KLe();return e({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==t},{trimEnd:t}),dme}var gme={},mme={},r$,vme;function WLe(){if(vme)return r$;vme=1;var e=pv().start,t=xK();return r$=t("trimStart")?function(){return e(this)}:"".trimStart,r$}var yme;function eOt(){if(yme)return mme;yme=1;var e=J(),t=WLe();return e({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==t},{trimLeft:t}),mme}var wme;function tOt(){if(wme)return gme;wme=1,eOt();var e=J(),t=WLe();return e({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==t},{trimStart:t}),gme}var bme={},n$,xme;function Ls(){if(xme)return n$;xme=1;var e=Qe(),t=Bn(),r=er(),n=/"/g,i=e("".replace);return n$=function(o,a,s,l){var c=r(t(o)),u="<"+a;return s!==""&&(u+=" "+s+'="'+i(r(l),n,"&quot;")+'"'),u+">"+c+"</"+a+">"},n$}var i$,Sme;function Ns(){if(Sme)return i$;Sme=1;var e=rt();return i$=function(t){return e(function(){var r=""[t]('"');return r!==r.toLowerCase()||r.split('"').length>3})},i$}var Cme;function rOt(){if(Cme)return bme;Cme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("anchor")},{anchor:function(i){return t(this,"a","name",i)}}),bme}var _me={},Eme;function nOt(){if(Eme)return _me;Eme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("big")},{big:function(){return t(this,"big","","")}}),_me}var Ime={},Bme;function iOt(){if(Bme)return Ime;Bme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("blink")},{blink:function(){return t(this,"blink","","")}}),Ime}var Pme={},Tme;function oOt(){if(Tme)return Pme;Tme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("bold")},{bold:function(){return t(this,"b","","")}}),Pme}var Ome={},Rme;function aOt(){if(Rme)return Ome;Rme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("fixed")},{fixed:function(){return t(this,"tt","","")}}),Ome}var Mme={},Fme;function sOt(){if(Fme)return Mme;Fme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("fontcolor")},{fontcolor:function(i){return t(this,"font","color",i)}}),Mme}var kme={},Ume;function lOt(){if(Ume)return kme;Ume=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("fontsize")},{fontsize:function(i){return t(this,"font","size",i)}}),kme}var Dme={},jme;function cOt(){if(jme)return Dme;jme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("italics")},{italics:function(){return t(this,"i","","")}}),Dme}var Lme={},Nme;function uOt(){if(Nme)return Lme;Nme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("link")},{link:function(i){return t(this,"a","href",i)}}),Lme}var $me={},Qme;function dOt(){if(Qme)return $me;Qme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("small")},{small:function(){return t(this,"small","","")}}),$me}var Hme={},qme;function AOt(){if(qme)return Hme;qme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("strike")},{strike:function(){return t(this,"strike","","")}}),Hme}var zme={},Kme;function fOt(){if(Kme)return zme;Kme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("sub")},{sub:function(){return t(this,"sub","","")}}),zme}var Wme={},Vme;function hOt(){if(Vme)return Wme;Vme=1;var e=J(),t=Ls(),r=Ns();return e({target:"String",proto:!0,forced:r("sup")},{sup:function(){return t(this,"sup","","")}}),Wme}var Gme={},B1={exports:{}},o$,Yme;function SK(){if(Yme)return o$;Yme=1;var e=ht(),t=rt(),r=oP(),n=cr().NATIVE_ARRAY_BUFFER_VIEWS,i=e.ArrayBuffer,o=e.Int8Array;return o$=!n||!t(function(){o(1)})||!t(function(){new o(-1)})||!r(function(a){new o,new o(null),new o(1.5),new o(a)},!0)||t(function(){return new o(new i(2),1,void 0).length!==1}),o$}var a$,Xme;function VLe(){if(Xme)return a$;Xme=1;var e=Jb(),t=RangeError;return a$=function(r,n){var i=e(r);if(i%n)throw new t("Wrong offset");return i},a$}var s$,Jme;function GLe(){if(Jme)return s$;Jme=1;var e=Math.round;return s$=function(t){var r=e(t);return r<0?0:r>255?255:r&255},s$}var l$,Zme;function CK(){if(Zme)return l$;Zme=1;var e=ns();return l$=function(t){var r=e(t);return r==="BigInt64Array"||r==="BigUint64Array"},l$}var c$,eve;function xP(){if(eve)return c$;eve=1;var e=FB(),t=TypeError;return c$=function(r){var n=e(r,"number");if(typeof n=="number")throw new t("Can't convert number to bigint");return BigInt(n)},c$}var u$,tve;function YLe(){if(tve)return u$;tve=1;var e=un(),t=gt(),r=mP(),n=fr(),i=Tr(),o=lp(),a=$d(),s=iK(),l=CK(),c=cr().aTypedArrayConstructor,u=xP();return u$=function(A){var f=r(this),h=n(A),p=arguments.length,v=p>1?arguments[1]:void 0,y=v!==void 0,b=a(h),x,S,C,_,B,T,O,P;if(b&&!s(b))for(O=o(h,b),P=O.next,h=[];!(T=t(P,O)).done;)h.push(T.value);for(y&&p>2&&(v=e(v,arguments[2])),S=i(h),C=new(c(f))(S),_=l(C),x=0;S>x;x++)B=y?v(h[x],x):h[x],C[x]=_?u(B):+B;return C},u$}var rve;function Hd(){if(rve)return B1.exports;rve=1;var e=J(),t=ht(),r=gt(),n=Nt(),i=SK(),o=cr(),a=uP(),s=Oa(),l=Fs(),c=Gi(),u=mK(),d=ks(),A=Gb(),f=VLe(),h=GLe(),p=Ld(),v=ar(),y=ns(),b=Jt(),x=gf(),S=Pi(),C=ca(),_=mc(),B=ip().f,T=YLe(),O=Ti().forEach,P=up(),F=jn(),U=vn(),k=Oo(),M=xf(),D=Vr(),j=sp(),$=D.get,Q=D.set,H=D.enforce,W=U.f,z=k.f,V=t.RangeError,G=a.ArrayBuffer,X=G.prototype,Z=a.DataView,oe=o.NATIVE_ARRAY_BUFFER_VIEWS,ae=o.TYPED_ARRAY_TAG,ne=o.TypedArray,te=o.TypedArrayPrototype,se=o.isTypedArray,de="BYTES_PER_ELEMENT",re="Wrong length",he=function(Ye,lt){F(Ye,lt,{configurable:!0,get:function(){return $(this)[lt]}})},ye=function(Ye){var lt;return C(X,Ye)||(lt=y(Ye))==="ArrayBuffer"||lt==="SharedArrayBuffer"},ke=function(Ye,lt){return se(Ye)&&!x(lt)&&lt in Ye&&u(+lt)&&lt>=0},Ue=function(lt,Ve){return Ve=p(Ve),ke(lt,Ve)?l(2,lt[Ve]):z(lt,Ve)},Ne=function(lt,Ve,Te){return Ve=p(Ve),ke(lt,Ve)&&b(Te)&&v(Te,"value")&&!v(Te,"get")&&!v(Te,"set")&&!Te.configurable&&(!v(Te,"writable")||Te.writable)&&(!v(Te,"enumerable")||Te.enumerable)?(lt[Ve]=Te.value,lt):W(lt,Ve,Te)};return n?(oe||(k.f=Ue,U.f=Ne,he(te,"buffer"),he(te,"byteOffset"),he(te,"byteLength"),he(te,"length")),e({target:"Object",stat:!0,forced:!oe},{getOwnPropertyDescriptor:Ue,defineProperty:Ne}),B1.exports=function(Ye,lt,Ve){var Te=Ye.match(/\d+/)[0]/8,we=Ye+(Ve?"Clamped":"")+"Array",Be="get"+Ye,Ze="set"+Ye,me=t[we],Se=me,Oe=Se&&Se.prototype,it={},ft=function(xe,$e){var ve=$(xe);return ve.view[Be]($e*Te+ve.byteOffset,!0)},ee=function(xe,$e,ve){var ot=$(xe);ot.view[Ze]($e*Te+ot.byteOffset,Ve?h(ve):ve,!0)},ce=function(xe,$e){W(xe,$e,{get:function(){return ft(this,$e)},set:function(ve){return ee(this,$e,ve)},enumerable:!0})};oe?i&&(Se=lt(function(xe,$e,ve,ot){return s(xe,Oe),j(function(){return b($e)?ye($e)?ot!==void 0?new me($e,f(ve,Te),ot):ve!==void 0?new me($e,f(ve,Te)):new me($e):se($e)?M(Se,$e):r(T,Se,$e):new me(A($e))}(),xe,Se)}),_&&_(Se,ne),O(B(me),function(xe){xe in Se||c(Se,xe,me[xe])}),Se.prototype=Oe):(Se=lt(function(xe,$e,ve,ot){s(xe,Oe);var xt=0,De=0,We,Je,nt;if(!b($e))nt=A($e),Je=nt*Te,We=new G(Je);else if(ye($e)){We=$e,De=f(ve,Te);var At=$e.byteLength;if(ot===void 0){if(At%Te)throw new V(re);if(Je=At-De,Je<0)throw new V(re)}else if(Je=d(ot)*Te,Je+De>At)throw new V(re);nt=Je/Te}else return se($e)?M(Se,$e):r(T,Se,$e);for(Q(xe,{buffer:We,byteOffset:De,byteLength:Je,length:nt,view:new Z(We)});xt<nt;)ce(xe,xt++)}),_&&_(Se,ne),Oe=Se.prototype=S(te)),Oe.constructor!==Se&&c(Oe,"constructor",Se),H(Oe).TypedArrayConstructor=Se,ae&&c(Oe,ae,we);var pe=Se!==me;it[we]=Se,e({global:!0,constructor:!0,forced:pe,sham:!oe},it),de in Se||c(Se,de,Te),de in Oe||c(Oe,de,Te),P(we)}):B1.exports=function(){},B1.exports}var nve;function pOt(){if(nve)return Gme;nve=1;var e=Hd();return e("Float32",function(t){return function(n,i,o){return t(this,n,i,o)}}),Gme}var ive={},ove;function gOt(){if(ove)return ive;ove=1;var e=Hd();return e("Float64",function(t){return function(n,i,o){return t(this,n,i,o)}}),ive}var ave={},sve;function mOt(){if(sve)return ave;sve=1;var e=Hd();return e("Int8",function(t){return function(n,i,o){return t(this,n,i,o)}}),ave}var lve={},cve;function vOt(){if(cve)return lve;cve=1;var e=Hd();return e("Int16",function(t){return function(n,i,o){return t(this,n,i,o)}}),lve}var uve={},dve;function yOt(){if(dve)return uve;dve=1;var e=Hd();return e("Int32",function(t){return function(n,i,o){return t(this,n,i,o)}}),uve}var Ave={},fve;function wOt(){if(fve)return Ave;fve=1;var e=Hd();return e("Uint8",function(t){return function(n,i,o){return t(this,n,i,o)}}),Ave}var hve={},pve;function bOt(){if(pve)return hve;pve=1;var e=Hd();return e("Uint8",function(t){return function(n,i,o){return t(this,n,i,o)}},!0),hve}var gve={},mve;function xOt(){if(mve)return gve;mve=1;var e=Hd();return e("Uint16",function(t){return function(n,i,o){return t(this,n,i,o)}}),gve}var vve={},yve;function SOt(){if(yve)return vve;yve=1;var e=Hd();return e("Uint32",function(t){return function(n,i,o){return t(this,n,i,o)}}),vve}var wve={},bve;function XLe(){if(bve)return wve;bve=1;var e=cr(),t=Tr(),r=Dn(),n=e.aTypedArray,i=e.exportTypedArrayMethod;return i("at",function(a){var s=n(this),l=t(s),c=r(a),u=c>=0?c:l+c;return u<0||u>=l?void 0:s[u]}),wve}var xve={},Sve;function COt(){if(Sve)return xve;Sve=1;var e=Qe(),t=cr(),r=uje(),n=e(r),i=t.aTypedArray,o=t.exportTypedArrayMethod;return o("copyWithin",function(s,l){return n(i(this),s,l,arguments.length>2?arguments[2]:void 0)}),xve}var Cve={},_ve;function _Ot(){if(_ve)return Cve;_ve=1;var e=cr(),t=Ti().every,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("every",function(o){return t(r(this),o,arguments.length>1?arguments[1]:void 0)}),Cve}var Eve={},Ive;function EOt(){if(Ive)return Eve;Ive=1;var e=cr(),t=oK(),r=xP(),n=ns(),i=gt(),o=Qe(),a=rt(),s=e.aTypedArray,l=e.exportTypedArrayMethod,c=o("".slice),u=a(function(){var d=0;return new Int8Array(2).fill({valueOf:function(){return d++}}),d!==1});return l("fill",function(A){var f=arguments.length;s(this);var h=c(n(this),0,3)==="Big"?r(A):+A;return i(t,this,h,f>1?arguments[1]:void 0,f>2?arguments[2]:void 0)},u),Eve}var Bve={},d$,Pve;function _K(){if(Pve)return d$;Pve=1;var e=xf(),t=cr().getTypedArrayConstructor;return d$=function(r,n){return e(t(r),n)},d$}var Tve;function IOt(){if(Tve)return Bve;Tve=1;var e=cr(),t=Ti().filter,r=_K(),n=e.aTypedArray,i=e.exportTypedArrayMethod;return i("filter",function(a){var s=t(n(this),a,arguments.length>1?arguments[1]:void 0);return r(this,s)}),Bve}var Ove={},Rve;function BOt(){if(Rve)return Ove;Rve=1;var e=cr(),t=Ti().find,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("find",function(o){return t(r(this),o,arguments.length>1?arguments[1]:void 0)}),Ove}var Mve={},Fve;function POt(){if(Fve)return Mve;Fve=1;var e=cr(),t=Ti().findIndex,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("findIndex",function(o){return t(r(this),o,arguments.length>1?arguments[1]:void 0)}),Mve}var kve={},Uve;function JLe(){if(Uve)return kve;Uve=1;var e=cr(),t=iP().findLast,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("findLast",function(o){return t(r(this),o,arguments.length>1?arguments[1]:void 0)}),kve}var Dve={},jve;function ZLe(){if(jve)return Dve;jve=1;var e=cr(),t=iP().findLastIndex,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("findLastIndex",function(o){return t(r(this),o,arguments.length>1?arguments[1]:void 0)}),Dve}var Lve={},Nve;function TOt(){if(Nve)return Lve;Nve=1;var e=cr(),t=Ti().forEach,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("forEach",function(o){t(r(this),o,arguments.length>1?arguments[1]:void 0)}),Lve}var $ve={},Qve;function OOt(){if(Qve)return $ve;Qve=1;var e=SK(),t=cr().exportTypedArrayStaticMethod,r=YLe();return t("from",r,e),$ve}var Hve={},qve;function ROt(){if(qve)return Hve;qve=1;var e=cr(),t=Db().includes,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("includes",function(o){return t(r(this),o,arguments.length>1?arguments[1]:void 0)}),Hve}var zve={},Kve;function MOt(){if(Kve)return zve;Kve=1;var e=cr(),t=Db().indexOf,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("indexOf",function(o){return t(r(this),o,arguments.length>1?arguments[1]:void 0)}),zve}var Wve={},Vve;function FOt(){if(Vve)return Wve;Vve=1;var e=ht(),t=rt(),r=Qe(),n=cr(),i=aP(),o=qt(),a=o("iterator"),s=e.Uint8Array,l=r(i.values),c=r(i.keys),u=r(i.entries),d=n.aTypedArray,A=n.exportTypedArrayMethod,f=s&&s.prototype,h=!t(function(){f[a].call([1])}),p=!!f&&f.values&&f[a]===f.values&&f.values.name==="values",v=function(){return l(d(this))};return A("entries",function(){return u(d(this))},h),A("keys",function(){return c(d(this))},h),A("values",v,h||!p,{name:"values"}),A(a,v,h||!p,{name:"values"}),Wve}var Gve={},Yve;function kOt(){if(Yve)return Gve;Yve=1;var e=cr(),t=Qe(),r=e.aTypedArray,n=e.exportTypedArrayMethod,i=t([].join);return n("join",function(a){return i(r(this),a)}),Gve}var Xve={},Jve;function UOt(){if(Jve)return Xve;Jve=1;var e=cr(),t=Pa(),r=pje(),n=e.aTypedArray,i=e.exportTypedArrayMethod;return i("lastIndexOf",function(a){var s=arguments.length;return t(r,n(this),s>1?[a,arguments[1]]:[a])}),Xve}var Zve={},eye;function DOt(){if(eye)return Zve;eye=1;var e=cr(),t=Ti().map,r=e.aTypedArray,n=e.getTypedArrayConstructor,i=e.exportTypedArrayMethod;return i("map",function(a){return t(r(this),a,arguments.length>1?arguments[1]:void 0,function(s,l){return new(n(s))(l)})}),Zve}var tye={},rye;function jOt(){if(rye)return tye;rye=1;var e=cr(),t=SK(),r=e.aTypedArrayConstructor,n=e.exportTypedArrayStaticMethod;return n("of",function(){for(var o=0,a=arguments.length,s=new(r(this))(a);a>o;)s[o]=arguments[o++];return s},t),tye}var nye={},iye;function LOt(){if(iye)return nye;iye=1;var e=cr(),t=sP().left,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("reduce",function(o){var a=arguments.length;return t(r(this),o,a,a>1?arguments[1]:void 0)}),nye}var oye={},aye;function NOt(){if(aye)return oye;aye=1;var e=cr(),t=sP().right,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("reduceRight",function(o){var a=arguments.length;return t(r(this),o,a,a>1?arguments[1]:void 0)}),oye}var sye={},lye;function $Ot(){if(lye)return sye;lye=1;var e=cr(),t=e.aTypedArray,r=e.exportTypedArrayMethod,n=Math.floor;return r("reverse",function(){for(var o=this,a=t(o).length,s=n(a/2),l=0,c;l<s;)c=o[l],o[l++]=o[--a],o[a]=c;return o}),sye}var cye={},uye;function QOt(){if(uye)return cye;uye=1;var e=ht(),t=gt(),r=cr(),n=Tr(),i=VLe(),o=fr(),a=rt(),s=e.RangeError,l=e.Int8Array,c=l&&l.prototype,u=c&&c.set,d=r.aTypedArray,A=r.exportTypedArrayMethod,f=!a(function(){var p=new Uint8ClampedArray(2);return t(u,p,{length:1,0:3},1),p[1]!==3}),h=f&&r.NATIVE_ARRAY_BUFFER_VIEWS&&a(function(){var p=new l(2);return p.set(1),p.set("2",1),p[0]!==0||p[1]!==2});return A("set",function(v){d(this);var y=i(arguments.length>1?arguments[1]:void 0,1),b=o(v);if(f)return t(u,this,b,y);var x=this.length,S=n(b),C=0;if(S+y>x)throw new s("Wrong length");for(;C<S;)this[y+C]=b[C++]},!f||h),cye}var dye={},Aye;function HOt(){if(Aye)return dye;Aye=1;var e=cr(),t=rt(),r=Ds(),n=e.aTypedArray,i=e.getTypedArrayConstructor,o=e.exportTypedArrayMethod,a=t(function(){new Int8Array(1).slice()});return o("slice",function(l,c){for(var u=r(n(this),l,c),d=i(this),A=0,f=u.length,h=new d(f);f>A;)h[A]=u[A++];return h},a),dye}var fye={},hye;function qOt(){if(hye)return fye;hye=1;var e=cr(),t=Ti().some,r=e.aTypedArray,n=e.exportTypedArrayMethod;return n("some",function(o){return t(r(this),o,arguments.length>1?arguments[1]:void 0)}),fye}var pye={},gye;function zOt(){if(gye)return pye;gye=1;var e=ht(),t=ap(),r=rt(),n=Gt(),i=cK(),o=cr(),a=gje(),s=mje(),l=Cu(),c=uK(),u=o.aTypedArray,d=o.exportTypedArrayMethod,A=e.Uint16Array,f=A&&t(A.prototype.sort),h=!!f&&!(r(function(){f(new A(2),null)})&&r(function(){f(new A(2),{})})),p=!!f&&!r(function(){if(l)return l<74;if(a)return a<67;if(s)return!0;if(c)return c<602;var y=new A(516),b=Array(516),x,S;for(x=0;x<516;x++)S=x%4,y[x]=515-x,b[x]=x-2*S+3;for(f(y,function(C,_){return(C/4|0)-(_/4|0)}),x=0;x<516;x++)if(y[x]!==b[x])return!0}),v=function(y){return function(b,x){return y!==void 0?+y(b,x)||0:x!==x?-1:b!==b?1:b===0&&x===0?1/b>0&&1/x<0?1:-1:b>x}};return d("sort",function(b){return b!==void 0&&n(b),p?f(this,b):i(u(this),v(b))},!p||h),pye}var mye={},vye;function KOt(){if(vye)return mye;vye=1;var e=cr(),t=ks(),r=_u(),n=e.aTypedArray,i=e.getTypedArrayConstructor,o=e.exportTypedArrayMethod;return o("subarray",function(s,l){var c=n(this),u=c.length,d=r(s,u),A=i(c);return new A(c.buffer,c.byteOffset+d*c.BYTES_PER_ELEMENT,t((l===void 0?u:r(l,u))-d))}),mye}var yye={},wye;function WOt(){if(wye)return yye;wye=1;var e=ht(),t=Pa(),r=cr(),n=rt(),i=Ds(),o=e.Int8Array,a=r.aTypedArray,s=r.exportTypedArrayMethod,l=[].toLocaleString,c=!!o&&n(function(){l.call(new o(1))}),u=n(function(){return[1,2].toLocaleString()!==new o([1,2]).toLocaleString()})||!n(function(){o.prototype.toLocaleString.call([1,2])});return s("toLocaleString",function(){return t(l,c?i(a(this)):a(this),i(arguments))},u),yye}var bye={},xye;function eNe(){if(xye)return bye;xye=1;var e=vje(),t=cr(),r=t.aTypedArray,n=t.exportTypedArrayMethod,i=t.getTypedArrayConstructor;return n("toReversed",function(){return e(r(this),i(this))}),bye}var Sye={},Cye;function tNe(){if(Cye)return Sye;Cye=1;var e=cr(),t=Qe(),r=Gt(),n=xf(),i=e.aTypedArray,o=e.getTypedArrayConstructor,a=e.exportTypedArrayMethod,s=t(e.TypedArrayPrototype.sort);return a("toSorted",function(c){c!==void 0&&r(c);var u=i(this),d=n(o(u),u);return s(d,c)}),Sye}var _ye={},Eye;function VOt(){if(Eye)return _ye;Eye=1;var e=cr().exportTypedArrayMethod,t=rt(),r=ht(),n=Qe(),i=r.Uint8Array,o=i&&i.prototype||{},a=[].toString,s=n([].join);t(function(){a.call({})})&&(a=function(){return s(this)});var l=o.toString!==a;return e("toString",a,l),_ye}var Iye={},Bye;function rNe(){if(Bye)return Iye;Bye=1;var e=Sje(),t=cr(),r=CK(),n=Dn(),i=xP(),o=t.aTypedArray,a=t.getTypedArrayConstructor,s=t.exportTypedArrayMethod,l=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(c){return c===8}}();return s("with",function(c,u){var d=o(this),A=n(c),f=r(d)?i(u):+u;return e(d,a(d),A,f)},!l),Iye}var Pye={},Tye;function GOt(){if(Tye)return Pye;Tye=1;var e=J(),t=Qe(),r=er(),n=String.fromCharCode,i=t("".charAt),o=t(/./.exec),a=t("".slice),s=/^[\da-f]{2}$/i,l=/^[\da-f]{4}$/i;return e({global:!0},{unescape:function(u){for(var d=r(u),A="",f=d.length,h=0,p,v;h<f;){if(p=i(d,h++),p==="%"){if(i(d,h)==="u"){if(v=a(d,h+1,h+5),o(l,v)){A+=n(parseInt(v,16)),h+=5;continue}}else if(v=a(d,h,h+2),o(s,v)){A+=n(parseInt(v,16)),h+=2;continue}}A+=p}return A}}),Pye}var Oye={},Rye={},A$,Mye;function nNe(){if(Mye)return A$;Mye=1;var e=Qe(),t=wc(),r=Ap().getWeakData,n=Oa(),i=pt(),o=Wi(),a=Jt(),s=oi(),l=Ti(),c=ar(),u=Vr(),d=u.set,A=u.getterFor,f=l.find,h=l.findIndex,p=e([].splice),v=0,y=function(S){return S.frozen||(S.frozen=new b)},b=function(){this.entries=[]},x=function(S,C){return f(S.entries,function(_){return _[0]===C})};return b.prototype={get:function(S){var C=x(this,S);if(C)return C[1]},has:function(S){return!!x(this,S)},set:function(S,C){var _=x(this,S);_?_[1]=C:this.entries.push([S,C])},delete:function(S){var C=h(this.entries,function(_){return _[0]===S});return~C&&p(this.entries,C,1),!!~C}},A$={getConstructor:function(S,C,_,B){var T=S(function(U,k){n(U,O),d(U,{type:C,id:v++,frozen:null}),o(k)||s(k,U[B],{that:U,AS_ENTRIES:_})}),O=T.prototype,P=A(C),F=function(U,k,M){var D=P(U),j=r(i(k),!0);return j===!0?y(D).set(k,M):j[D.id]=M,U};return t(O,{delete:function(U){var k=P(this);if(!a(U))return!1;var M=r(U);return M===!0?y(k).delete(U):M&&c(M,k.id)&&delete M[k.id]},has:function(k){var M=P(this);if(!a(k))return!1;var D=r(k);return D===!0?y(M).has(k):D&&c(D,M.id)}}),t(O,_?{get:function(k){var M=P(this);if(a(k)){var D=r(k);if(D===!0)return y(M).get(k);if(D)return D[M.id]}},set:function(k,M){return F(this,k,M)}}:{add:function(k){return F(this,k,!0)}}),T}},A$}var Fye;function YOt(){if(Fye)return Rye;Fye=1;var e=Sf(),t=ht(),r=Qe(),n=wc(),i=Ap(),o=fP(),a=nNe(),s=Jt(),l=Vr().enforce,c=rt(),u=Wke(),d=Object,A=Array.isArray,f=d.isExtensible,h=d.isFrozen,p=d.isSealed,v=d.freeze,y=d.seal,b=!t.ActiveXObject&&"ActiveXObject"in t,x,S=function(U){return function(){return U(this,arguments.length?arguments[0]:void 0)}},C=o("WeakMap",S,a),_=C.prototype,B=r(_.set),T=function(){return e&&c(function(){var U=v([]);return B(new C,U,1),!h(U)})};if(u)if(b){x=a.getConstructor(S,"WeakMap",!0),i.enable();var O=r(_.delete),P=r(_.has),F=r(_.get);n(_,{delete:function(U){if(s(U)&&!f(U)){var k=l(this);return k.frozen||(k.frozen=new x),O(this,U)||k.frozen.delete(U)}return O(this,U)},has:function(k){if(s(k)&&!f(k)){var M=l(this);return M.frozen||(M.frozen=new x),P(this,k)||M.frozen.has(k)}return P(this,k)},get:function(k){if(s(k)&&!f(k)){var M=l(this);return M.frozen||(M.frozen=new x),P(this,k)?F(this,k):M.frozen.get(k)}return F(this,k)},set:function(k,M){if(s(k)&&!f(k)){var D=l(this);D.frozen||(D.frozen=new x),P(this,k)?B(this,k,M):D.frozen.set(k,M)}else B(this,k,M);return this}})}else T()&&n(_,{set:function(k,M){var D;return A(k)&&(h(k)?D=v:p(k)&&(D=y)),B(this,k,M),D&&D(k),this}});return Rye}var kye;function EK(){return kye||(kye=1,YOt()),Oye}var Uye={},Dye={},jye;function XOt(){if(jye)return Dye;jye=1;var e=fP(),t=nNe();return e("WeakSet",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},t),Dye}var Lye;function JOt(){return Lye||(Lye=1,XOt()),Uye}var Nye={},$ye;function ZOt(){return $ye||($ye=1,cje()),Nye}var Qye={},Hye;function eRt(){if(Hye)return Qye;Hye=1;var e=J(),t=ht(),r=ca(),n=Xi(),i=mc(),o=nv(),a=Pi(),s=Gi(),l=Fs(),c=rK(),u=uv(),d=qt(),A=rt(),f=Ar(),h=t.SuppressedError,p=d("toStringTag"),v=Error,y=!!h&&h.length!==3,b=!!h&&A(function(){return new h(1,2,3,{cause:4}).cause===4}),x=y||b,S=function(B,T,O){var P=r(C,this),F;return i?F=x&&(!P||n(this)===C)?new h:i(new v,P?n(this):C):(F=P?this:a(C),s(F,p,"Error")),O!==void 0&&s(F,"message",u(O)),c(F,S,F.stack,1),s(F,"error",B),s(F,"suppressed",T),F};i?i(S,v):o(S,v,{name:!0});var C=S.prototype=x?h.prototype:a(v.prototype,{constructor:l(1,S),message:l(1,""),name:l(1,"SuppressedError")});return x&&!f&&(C.constructor=S),e({global:!0,constructor:!0,arity:3,forced:x},{SuppressedError:S}),Qye}var qye={},f$,zye;function tx(){if(zye)return f$;zye=1;var e=ht(),t=MB(),r=ir(),n=Pi(),i=Xi(),o=Zr(),a=qt(),s=Ar(),l="USE_FUNCTION_CONSTRUCTOR",c=a("asyncIterator"),u=e.AsyncIterator,d=t.AsyncIteratorPrototype,A,f;if(d)A=d;else if(r(u))A=u.prototype;else if(t[l]||e[l])try{f=i(i(i(Function("return async function*(){}()")()))),i(f)===Object.prototype&&(A=f)}catch{}return A?s&&(A=n(A)):A={},r(A[c])||o(A,c,function(){return this}),f$=A,f$}var h$,Kye;function SP(){if(Kye)return h$;Kye=1;var e=gt(),t=pt(),r=Pi(),n=Bi(),i=wc(),o=Vr(),a=Vt(),s=tx(),l=co(),c=a("Promise"),u="AsyncFromSyncIterator",d=o.set,A=o.getterFor(u),f=function(p,v,y){var b=p.done;c.resolve(p.value).then(function(x){v(l(x,b))},y)},h=function(v){v.type=u,d(this,v)};return h.prototype=i(r(s),{next:function(){var v=A(this);return new c(function(y,b){var x=t(e(v.next,v.iterator));f(x,y,b)})},return:function(){var p=A(this).iterator;return new c(function(v,y){var b=n(p,"return");if(b===void 0)return v(l(void 0,!0));var x=t(e(b,p));f(x,v,y)})}}),h$=h,h$}var p$,Wye;function tRt(){if(Wye)return p$;Wye=1;var e=gt(),t=SP(),r=pt(),n=lp(),i=Gn(),o=Bi(),a=qt(),s=a("asyncIterator");return p$=function(l,c){var u=arguments.length<2?o(l,s):c;return u?r(e(u,l)):new t(i(n(l)))},p$}var g$,Vye;function rx(){if(Vye)return g$;Vye=1;var e=gt(),t=Vt(),r=Bi();return g$=function(n,i,o,a){try{var s=r(n,"return");if(s)return t("Promise").resolve(e(s,n)).then(function(){i(o)},function(l){a(l)})}catch(l){return a(l)}i(o)},g$}var m$,Gye;function mv(){if(Gye)return m$;Gye=1;var e=gt(),t=Gt(),r=pt(),n=Jt(),i=op(),o=Vt(),a=Gn(),s=rx(),l=function(c){var u=c===0,d=c===1,A=c===2,f=c===3;return function(h,p,v){r(h);var y=p!==void 0;(y||!u)&&t(p);var b=a(h),x=o("Promise"),S=b.iterator,C=b.next,_=0;return new x(function(B,T){var O=function(F){s(S,T,F,T)},P=function(){try{if(y)try{i(_)}catch(F){O(F)}x.resolve(r(e(C,S))).then(function(F){try{if(r(F).done)u?(v.length=_,B(v)):B(f?!1:A||void 0);else{var U=F.value;try{if(y){var k=p(U,_),M=function(D){if(d)P();else if(A)D?P():s(S,B,!1,T);else if(u)try{v[_++]=D,P()}catch(j){O(j)}else D?s(S,B,f||U,T):P()};n(k)?x.resolve(k).then(M,O):M(k)}else v[_++]=U,P()}catch(D){O(D)}}}catch(D){T(D)}},T)}catch(F){T(F)}};P()})}};return m$={toArray:l(0),forEach:l(1),every:l(2),some:l(3),find:l(4)},m$}var v$,Yye;function iNe(){if(Yye)return v$;Yye=1;var e=un(),t=Qe(),r=fr(),n=Iu(),i=tRt(),o=lp(),a=Gn(),s=$d(),l=Bi(),c=Vt(),u=wje(),d=qt(),A=SP(),f=mv().toArray,h=d("asyncIterator"),p=t(u("Array","values")),v=t(p([]).next),y=function(){return new b(this)},b=function(x){this.iterator=p(x)};return b.prototype.next=function(){return v(this.iterator)},v$=function(S){var C=this,_=arguments.length,B=_>1?arguments[1]:void 0,T=_>2?arguments[2]:void 0;return new(c("Promise"))(function(O){var P=r(S);B!==void 0&&(B=e(B,T));var F=l(P,h),U=F?void 0:s(P)||y,k=n(C)?new C:[],M=F?i(P,F):new A(a(o(P,U)));O(f(M,B,k))})},v$}var Xye;function rRt(){if(Xye)return qye;Xye=1;var e=J(),t=iNe(),r=rt(),n=Array.fromAsync,i=!n||r(function(){var o=0;return n.call(function(){return o++,[]},{length:0}),o!==1});return e({target:"Array",stat:!0,forced:i},{fromAsync:t}),qye}var Jye={},Zye;function nRt(){return Zye||(Zye=1,wz()),Jye}var e0e={},t0e;function iRt(){if(t0e)return e0e;t0e=1;var e=J(),t=Ti().filterReject,r=ni();return e({target:"Array",proto:!0,forced:!0},{filterOut:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}}),r("filterOut"),e0e}var r0e={},n0e;function oRt(){if(n0e)return r0e;n0e=1;var e=J(),t=Ti().filterReject,r=ni();return e({target:"Array",proto:!0,forced:!0},{filterReject:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)}}),r("filterReject"),r0e}var i0e={},o0e;function aRt(){return o0e||(o0e=1,dje()),i0e}var a0e={},s0e;function sRt(){return s0e||(s0e=1,Aje()),a0e}var l0e={},y$,c0e;function IK(){if(c0e)return y$;c0e=1;var e=un(),t=Qe(),r=pf(),n=fr(),i=Ld(),o=Tr(),a=Pi(),s=xf(),l=Array,c=t([].push);return y$=function(u,d,A,f){for(var h=n(u),p=r(h),v=e(d,A),y=a(null),b=o(p),x=0,S,C,_;b>x;x++)_=p[x],C=i(v(_,x,h)),C in y?c(y[C],_):y[C]=[_];if(f&&(S=f(h),S!==l))for(C in y)y[C]=s(S,y[C]);return y},y$}var u0e;function lRt(){if(u0e)return l0e;u0e=1;var e=J(),t=IK(),r=ni();return e({target:"Array",proto:!0},{group:function(i){var o=arguments.length>1?arguments[1]:void 0;return t(this,i,o)}}),r("group"),l0e}var d0e={},A0e;function cRt(){if(A0e)return d0e;A0e=1;var e=J(),t=IK(),r=yc(),n=ni();return e({target:"Array",proto:!0,forced:!r("groupBy")},{groupBy:function(o){var a=arguments.length>1?arguments[1]:void 0;return t(this,o,a)}}),n("groupBy"),d0e}var f0e={},w$,h0e;function oNe(){if(h0e)return w$;h0e=1;var e=un(),t=Qe(),r=pf(),n=fr(),i=Tr(),o=uo(),a=o.Map,s=o.get,l=o.has,c=o.set,u=t([].push);return w$=function(A){for(var f=n(this),h=r(f),p=e(A,arguments.length>1?arguments[1]:void 0),v=new a,y=i(h),b=0,x,S;y>b;b++)S=h[b],x=p(S,b,f),l(v,x)?u(s(v,x),S):c(v,x,[S]);return v},w$}var p0e;function uRt(){if(p0e)return f0e;p0e=1;var e=J(),t=yc(),r=ni(),n=oNe(),i=Ar();return e({target:"Array",proto:!0,name:"groupToMap",forced:i||!t("groupByToMap")},{groupByToMap:n}),r("groupByToMap"),f0e}var g0e={},m0e;function dRt(){if(m0e)return g0e;m0e=1;var e=J(),t=ni(),r=oNe(),n=Ar();return e({target:"Array",proto:!0,forced:n},{groupToMap:r}),t("groupToMap"),g0e}var v0e={},y0e;function ARt(){if(y0e)return v0e;y0e=1;var e=J(),t=Eu(),r=Object.isFrozen,n=function(i,o){if(!r||!t(i)||!r(i))return!1;for(var a=0,s=i.length,l;a<s;)if(l=i[a++],!(typeof l=="string"||o&&l===void 0))return!1;return s!==0};return e({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(o){if(!n(o,!0))return!1;var a=o.raw;return a.length===o.length&&n(a,!1)}}),v0e}var w0e={},b0e;function fRt(){if(b0e)return w0e;b0e=1;var e=Nt(),t=ni(),r=fr(),n=Tr(),i=jn();return e&&(i(Array.prototype,"lastIndex",{configurable:!0,get:function(){var a=r(this),s=n(a);return s===0?0:s-1}}),t("lastIndex")),w0e}var x0e={},S0e;function hRt(){if(S0e)return x0e;S0e=1;var e=Nt(),t=ni(),r=fr(),n=Tr(),i=jn();return e&&(i(Array.prototype,"lastItem",{configurable:!0,get:function(){var a=r(this),s=n(a);return s===0?void 0:a[s-1]},set:function(a){var s=r(this),l=n(s);return s[l===0?0:l-1]=a}}),t("lastItem")),x0e}var C0e={},_0e;function pRt(){return _0e||(_0e=1,yje()),C0e}var E0e={},I0e;function gRt(){return I0e||(I0e=1,bje()),E0e}var B0e={},P0e;function mRt(){return P0e||(P0e=1,xje()),B0e}var T0e={},b$,O0e;function bc(){if(O0e)return b$;O0e=1;var e=Qe(),t=Cf(),r=uo(),n=r.Map,i=r.proto,o=e(i.forEach),a=e(i.entries),s=a(new n).next;return b$=function(l,c,u){return u?t({iterator:a(l),next:s},function(d){return c(d[1],d[0])}):o(l,c)},b$}var x$,R0e;function BK(){if(R0e)return x$;R0e=1;var e=Qe(),t=Gt(),r=Wi(),n=Tr(),i=fr(),o=uo(),a=bc(),s=o.Map,l=o.has,c=o.set,u=e([].push);return x$=function(A){var f=i(this),h=n(f),p=[],v=new s,y=r(A)?function(C){return C}:t(A),b,x,S;for(b=0;b<h;b++)x=f[b],S=y(x),l(v,S)||c(v,S,x);return a(v,function(C){u(p,C)}),p},x$}var M0e;function vRt(){if(M0e)return T0e;M0e=1;var e=J(),t=ni(),r=BK();return e({target:"Array",proto:!0,forced:!0},{uniqueBy:r}),t("uniqueBy"),T0e}var F0e={},k0e;function yRt(){return k0e||(k0e=1,Cje()),F0e}var U0e={},D0e;function wRt(){return D0e||(D0e=1,Mje()),U0e}var j0e={},L0e;function bRt(){return L0e||(L0e=1,Dje()),j0e}var N0e={},$0e;function xRt(){return $0e||($0e=1,jje()),N0e}var Q0e={},S$,H0e;function aNe(){if(H0e)return S$;H0e=1;var e=Vt(),t=gt(),r=Qe(),n=un(),i=pt(),o=Gt(),a=Wi(),s=Bi(),l=qt(),c=l("asyncDispose"),u=l("dispose"),d=r([].push),A=function(h,p){if(p==="async-dispose"){var v=s(h,c);return v!==void 0||(v=s(h,u),v===void 0)?v:function(){var y=this,b=e("Promise");return new b(function(x){t(v,y),x(void 0)})}}return s(h,u)},f=function(h,p,v){return arguments.length<3&&!a(h)&&(v=o(A(i(h),p))),v===void 0?function(){}:n(v,h)};return S$=function(h,p,v,y){var b;if(arguments.length<4){if(a(p)&&v==="sync-dispose")return;b=f(p,v)}else b=f(void 0,v,y);d(h.stack,b)},S$}var q0e;function SRt(){if(q0e)return Q0e;q0e=1;var e=J(),t=Nt(),r=Vt(),n=Gt(),i=Oa(),o=Zr(),a=wc(),s=jn(),l=qt(),c=Vr(),u=aNe(),d=Cu(),A=r("Promise"),f=r("SuppressedError"),h=ReferenceError,p=l("asyncDispose"),v=l("toStringTag"),y="AsyncDisposableStack",b=c.set,x=c.getterFor(y),S="async-dispose",C="disposed",_="pending",B=function(F){var U=x(F);if(U.state===C)throw new h(y+" already disposed");return U},T=function(){b(i(this,O),{type:y,state:_,stack:[]}),t||(this.disposed=!1)},O=T.prototype;a(O,{disposeAsync:function(){var U=this;return new A(function(k,M){var D=x(U);if(D.state===C)return k(void 0);D.state=C,t||(U.disposed=!0);var j=D.stack,$=j.length,Q=!1,H,W=function(V){Q?H=new f(V,H):(Q=!0,H=V),z()},z=function(){if($){var V=j[--$];j[$]=null;try{A.resolve(V()).then(z,W)}catch(G){W(G)}}else D.stack=null,Q?M(H):k(void 0)};z()})},use:function(U){return u(B(this),U,S),U},adopt:function(U,k){var M=B(this);return n(k),u(M,void 0,S,function(){return k(U)}),U},defer:function(U){var k=B(this);n(U),u(k,void 0,S,U)},move:function(){var U=B(this),k=new T;return x(k).stack=U.stack,U.stack=[],U.state=C,t||(this.disposed=!0),k}}),t&&s(O,"disposed",{configurable:!0,get:function(){return x(this).state===C}}),o(O,p,O.disposeAsync,{name:"disposeAsync"}),o(O,v,y,{nonWritable:!0});var P=d&&d<136;return e({global:!0,constructor:!0,forced:P},{AsyncDisposableStack:T}),Q0e}var z0e={},K0e;function CRt(){if(K0e)return z0e;K0e=1;var e=J(),t=Oa(),r=Xi(),n=Gi(),i=ar(),o=qt(),a=tx(),s=Ar(),l=o("toStringTag"),c=TypeError,u=function(){if(t(this,a),r(this)===a)throw new c("Abstract class AsyncIterator not directly constructable")};return u.prototype=a,i(a,l)||n(a,l,"AsyncIterator"),(s||!i(a,"constructor")||a.constructor===Object)&&n(a,"constructor",u),e({global:!0,constructor:!0,forced:s},{AsyncIterator:u}),z0e}var W0e={},C$,V0e;function vv(){if(V0e)return C$;V0e=1;var e=gt(),t=fp(),r=pt(),n=Pi(),i=Gi(),o=wc(),a=qt(),s=Vr(),l=Vt(),c=Bi(),u=tx(),d=co(),A=bf(),f=l("Promise"),h=a("toStringTag"),p="AsyncIteratorHelper",v="WrapForValidAsyncIterator",y=s.set,b=function(C){var _=!C,B=s.getterFor(C?v:p),T=function(O){var P=t(function(){return B(O)}),F=P.error,U=P.value;return F||_&&U.done?{exit:!0,value:F?f.reject(U):f.resolve(d(void 0,!0))}:{exit:!1,value:U}};return o(n(u),{next:function(){var P=T(this),F=P.value;if(P.exit)return F;var U=t(function(){return r(F.nextHandler(f))}),k=U.error,M=U.value;return k&&(F.done=!0),k?f.reject(M):f.resolve(M)},return:function(){var O=T(this),P=O.value;if(O.exit)return P;P.done=!0;var F=P.iterator,U,k,M=t(function(){if(P.inner)try{A(P.inner.iterator,"normal")}catch(D){return A(F,"throw",D)}return c(F,"return")});return U=k=M.value,M.error?f.reject(k):U===void 0?f.resolve(d(void 0,!0)):(M=t(function(){return e(U,F)}),k=M.value,M.error?f.reject(k):C?f.resolve(k):f.resolve(k).then(function(D){return r(D),d(void 0,!0)}))}})},x=b(!0),S=b(!1);return i(S,h,"Async Iterator Helper"),C$=function(C,_){var B=function(O,P){P?(P.iterator=O.iterator,P.next=O.next):P=O,P.type=_?v:p,P.nextHandler=C,P.counter=0,P.done=!1,y(this,P)};return B.prototype=_?x:S,B},C$}var _$,G0e;function sNe(){if(G0e)return _$;G0e=1;var e=gt(),t=Gt(),r=pt(),n=Jt(),i=Gn(),o=vv(),a=co(),s=rx(),l=o(function(c){var u=this,d=u.iterator,A=u.mapper;return new c(function(f,h){var p=function(y){u.done=!0,h(y)},v=function(y){s(d,p,y,p)};c.resolve(r(e(u.next,d))).then(function(y){try{if(r(y).done)u.done=!0,f(a(void 0,!0));else{var b=y.value;try{var x=A(b,u.counter++),S=function(C){f(a(C,!1))};n(x)?c.resolve(x).then(S,v):S(x)}catch(C){v(C)}}}catch(C){p(C)}},p)})});return _$=function(u){return r(this),t(u),new l(i(this),{mapper:u})},_$}var E$,Y0e;function lNe(){if(Y0e)return E$;Y0e=1;var e=gt(),t=sNe(),r=function(n,i){return[i,n]};return E$=function(){return e(t,this,r)},E$}var X0e;function _Rt(){if(X0e)return W0e;X0e=1;var e=J(),t=lNe();return e({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:t}),W0e}var J0e={},Z0e;function ERt(){if(Z0e)return J0e;Z0e=1;var e=gt(),t=Zr(),r=Vt(),n=Bi(),i=ar(),o=qt(),a=tx(),s=o("asyncDispose"),l=r("Promise");return i(a,s)||t(a,s,function(){var c=this;return new l(function(u,d){var A=n(c,"return");A?l.resolve(e(A,c)).then(function(){u(void 0)},d):u(void 0)})}),J0e}var ewe={},twe;function IRt(){if(twe)return ewe;twe=1;var e=J(),t=gt(),r=pt(),n=Gn(),i=Xb(),o=Jb(),a=vv(),s=co(),l=Ar(),c=a(function(u){var d=this;return new u(function(A,f){var h=function(v){d.done=!0,f(v)},p=function(){try{u.resolve(r(t(d.next,d.iterator))).then(function(v){try{r(v).done?(d.done=!0,A(s(void 0,!0))):d.remaining?(d.remaining--,p()):A(s(v.value,!1))}catch(y){h(y)}},h)}catch(v){h(v)}};p()})});return e({target:"AsyncIterator",proto:!0,real:!0,forced:l},{drop:function(d){r(this);var A=o(i(+d));return new c(n(this),{remaining:A})}}),ewe}var rwe={},nwe;function BRt(){if(nwe)return rwe;nwe=1;var e=J(),t=mv().every;return e({target:"AsyncIterator",proto:!0,real:!0},{every:function(n){return t(this,n)}}),rwe}var iwe={},owe;function PRt(){if(owe)return iwe;owe=1;var e=J(),t=gt(),r=Gt(),n=pt(),i=Jt(),o=Gn(),a=vv(),s=co(),l=rx(),c=Ar(),u=a(function(d){var A=this,f=A.iterator,h=A.predicate;return new d(function(p,v){var y=function(S){A.done=!0,v(S)},b=function(S){l(f,y,S,y)},x=function(){try{d.resolve(n(t(A.next,f))).then(function(S){try{if(n(S).done)A.done=!0,p(s(void 0,!0));else{var C=S.value;try{var _=h(C,A.counter++),B=function(T){T?p(s(C,!1)):x()};i(_)?d.resolve(_).then(B,b):B(_)}catch(T){b(T)}}}catch(T){y(T)}},y)}catch(S){y(S)}};x()})});return e({target:"AsyncIterator",proto:!0,real:!0,forced:c},{filter:function(A){return n(this),r(A),new u(o(this),{predicate:A})}}),iwe}var awe={},swe;function TRt(){if(swe)return awe;swe=1;var e=J(),t=mv().find;return e({target:"AsyncIterator",proto:!0,real:!0},{find:function(n){return t(this,n)}}),awe}var lwe={},I$,cwe;function cNe(){if(cwe)return I$;cwe=1;var e=gt(),t=ir(),r=pt(),n=Gn(),i=$d(),o=Bi(),a=qt(),s=SP(),l=a("asyncIterator");return I$=function(c){var u=r(c),d=!0,A=o(u,l),f;return t(A)||(A=i(u),d=!1),A!==void 0?f=e(A,u):(f=u,d=!0),r(f),n(d?f:new s(n(f)))},I$}var uwe;function ORt(){if(uwe)return lwe;uwe=1;var e=J(),t=gt(),r=Gt(),n=pt(),i=Jt(),o=Gn(),a=vv(),s=co(),l=cNe(),c=rx(),u=Ar(),d=a(function(A){var f=this,h=f.iterator,p=f.mapper;return new A(function(v,y){var b=function(_){f.done=!0,y(_)},x=function(_){c(h,b,_,b)},S=function(){try{A.resolve(n(t(f.next,h))).then(function(_){try{if(n(_).done)f.done=!0,v(s(void 0,!0));else{var B=_.value;try{var T=p(B,f.counter++),O=function(P){try{f.inner=l(P),C()}catch(F){x(F)}};i(T)?A.resolve(T).then(O,x):O(T)}catch(P){x(P)}}}catch(P){b(P)}},b)}catch(_){b(_)}},C=function(){var _=f.inner;if(_)try{A.resolve(n(t(_.next,_.iterator))).then(function(B){try{n(B).done?(f.inner=null,S()):v(s(B.value,!1))}catch(T){x(T)}},x)}catch(B){x(B)}else S()};C()})});return e({target:"AsyncIterator",proto:!0,real:!0,forced:u},{flatMap:function(f){return n(this),r(f),new d(o(this),{mapper:f,inner:null})}}),lwe}var dwe={},Awe;function RRt(){if(Awe)return dwe;Awe=1;var e=J(),t=mv().forEach;return e({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(n){return t(this,n)}}),dwe}var fwe={},B$,hwe;function uNe(){if(hwe)return B$;hwe=1;var e=gt(),t=vv();return B$=t(function(){return e(this.next,this.iterator)},!0),B$}var pwe;function MRt(){if(pwe)return fwe;pwe=1;var e=J(),t=fr(),r=ca(),n=cNe(),i=tx(),o=uNe(),a=Ar();return e({target:"AsyncIterator",stat:!0,forced:a},{from:function(l){var c=n(typeof l=="string"?t(l):l);return r(i,c.iterator)?c.iterator:new o(c)}}),fwe}var gwe={},mwe;function FRt(){if(mwe)return gwe;mwe=1;var e=J(),t=lNe();return e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:t}),gwe}var vwe={},ywe;function kRt(){if(ywe)return vwe;ywe=1;var e=J(),t=sNe(),r=Ar();return e({target:"AsyncIterator",proto:!0,real:!0,forced:r},{map:t}),vwe}var wwe={},bwe;function URt(){if(bwe)return wwe;bwe=1;var e=J(),t=gt(),r=Gt(),n=pt(),i=Jt(),o=Vt(),a=Gn(),s=rx(),l=o("Promise"),c=TypeError;return e({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(d){n(this),r(d);var A=a(this),f=A.iterator,h=A.next,p=arguments.length<2,v=p?void 0:arguments[1],y=0;return new l(function(b,x){var S=function(_){s(f,x,_,x)},C=function(){try{l.resolve(n(t(h,f))).then(function(_){try{if(n(_).done)p?x(new c("Reduce of empty iterator with no initial value")):b(v);else{var B=_.value;if(p)p=!1,v=B,C();else try{var T=d(v,B,y),O=function(P){v=P,C()};i(T)?l.resolve(T).then(O,S):O(T)}catch(P){S(P)}}y++}catch(P){x(P)}},x)}catch(_){x(_)}};C()})}}),wwe}var xwe={},Swe;function DRt(){if(Swe)return xwe;Swe=1;var e=J(),t=mv().some;return e({target:"AsyncIterator",proto:!0,real:!0},{some:function(n){return t(this,n)}}),xwe}var Cwe={},_we;function jRt(){if(_we)return Cwe;_we=1;var e=J(),t=gt(),r=pt(),n=Gn(),i=Xb(),o=Jb(),a=vv(),s=co(),l=Ar(),c=a(function(u){var d=this,A=d.iterator,f;if(!d.remaining--){var h=s(void 0,!0);return d.done=!0,f=A.return,f!==void 0?u.resolve(t(f,A,void 0)).then(function(){return h}):h}return u.resolve(t(d.next,A)).then(function(p){return r(p).done?(d.done=!0,s(void 0,!0)):s(p.value,!1)}).then(null,function(p){throw d.done=!0,p})});return e({target:"AsyncIterator",proto:!0,real:!0,forced:l},{take:function(d){r(this);var A=o(i(+d));return new c(n(this),{remaining:A})}}),Cwe}var Ewe={},Iwe;function LRt(){if(Iwe)return Ewe;Iwe=1;var e=J(),t=mv().toArray;return e({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return t(this,void 0,[])}}),Ewe}var Bwe={},P$,Pwe;function PK(){if(Pwe)return P$;Pwe=1;var e=Vr(),t=cp(),r=co(),n=Wi(),i=Jt(),o=jn(),a=Nt(),s="Incorrect Iterator.range arguments",l="NumericRangeIterator",c=e.set,u=e.getterFor(l),d=RangeError,A=TypeError,f=t(function(v,y,b,x,S,C){if(typeof v!=x||y!==1/0&&y!==-1/0&&typeof y!=x)throw new A(s);if(v===1/0||v===-1/0)throw new d(s);var _=y>v,B=!1,T;if(b===void 0)T=void 0;else if(i(b))T=b.step,B=!!b.inclusive;else if(typeof b==x)T=b;else throw new A(s);if(n(T)&&(T=_?C:-C),typeof T!=x)throw new A(s);if(T===1/0||T===-1/0||T===S&&v!==y)throw new d(s);var O=v!==v||y!==y||T!==T||y>v!=T>S;c(this,{type:l,start:v,end:y,step:T,inclusive:B,hitsEnd:O,currentCount:S,zero:S}),a||(this.start=v,this.end=y,this.step=T,this.inclusive=B)},l,function(){var v=u(this);if(v.hitsEnd)return r(void 0,!0);var y=v.start,b=v.end,x=v.step,S=y+x*v.currentCount++;S===b&&(v.hitsEnd=!0);var C=v.inclusive,_;return b>y?_=C?S>b:S>=b:_=C?b>S:b>=S,_?(v.hitsEnd=!0,r(void 0,!0)):r(S,!1)}),h=function(p){o(f.prototype,p,{get:function(){return u(this)[p]},set:function(){},configurable:!0,enumerable:!1})};return a&&(h("start"),h("end"),h("inclusive"),h("step")),P$=f,P$}var Twe;function NRt(){if(Twe)return Bwe;Twe=1;var e=J(),t=PK();return typeof BigInt=="function"&&e({target:"BigInt",stat:!0,forced:!0},{range:function(n,i,o){return new t(n,i,o,"bigint",BigInt(0),BigInt(1))}}),Bwe}var Owe={},T$,Rwe;function dNe(){if(Rwe)return T$;Rwe=1,gK(),EK();var e=Vt(),t=Pi(),r=Jt(),n=Object,i=TypeError,o=e("Map"),a=e("WeakMap"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=t(null)};s.prototype.get=function(c,u){return this[c]||(this[c]=u())},s.prototype.next=function(c,u,d){var A=d?this.objectsByIndex[c]||(this.objectsByIndex[c]=new a):this.primitives||(this.primitives=new o),f=A.get(u);return f||A.set(u,f=new s),f};var l=new s;return T$=function(){var c=l,u=arguments.length,d,A;for(d=0;d<u;d++)r(A=arguments[d])&&(c=c.next(d,A,!0));if(this===n&&c===l)throw new i("Composite keys must contain a non-primitive component");for(d=0;d<u;d++)r(A=arguments[d])||(c=c.next(d,A,!1));return c},T$}var Mwe;function $Rt(){if(Mwe)return Owe;Mwe=1;var e=J(),t=Pa(),r=dNe(),n=Vt(),i=Pi(),o=Object,a=function(){var s=n("Object","freeze");return s?s(i(null)):i(null)};return e({global:!0,forced:!0},{compositeKey:function(){return t(r,o,arguments).get("object",a)}}),Owe}var Fwe={},kwe;function QRt(){if(kwe)return Fwe;kwe=1;var e=J(),t=dNe(),r=Vt(),n=Pa();return e({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?r("Symbol").for(arguments[0]):n(t,null,arguments).get("symbol",r("Symbol"))}}),Fwe}var Uwe={},Dwe;function HRt(){return Dwe||(Dwe=1,Ije()),Uwe}var jwe={},Lwe;function qRt(){if(Lwe)return jwe;Lwe=1;var e=J(),t=Qe(),r=t(DataView.prototype.getUint8);return e({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(i){return r(this,i)}}),jwe}var Nwe={},$we;function zRt(){return $we||($we=1,Tje()),Nwe}var Qwe={},Hwe;function KRt(){if(Hwe)return Qwe;Hwe=1;var e=J(),t=Qe(),r=Bje(),n=Gb(),i=GLe(),o=t(DataView.prototype.setUint8);return e({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(s,l){r(this);var c=n(s);return o(this,c,i(l))}}),Qwe}var qwe={},zwe;function WRt(){if(zwe)return qwe;zwe=1;var e=J(),t=Nt(),r=Vt(),n=Gt(),i=Oa(),o=Zr(),a=wc(),s=jn(),l=qt(),c=Vr(),u=aNe(),d=r("SuppressedError"),A=ReferenceError,f=l("dispose"),h=l("toStringTag"),p="DisposableStack",v=c.set,y=c.getterFor(p),b="sync-dispose",x="disposed",S="pending",C=function(T){var O=y(T);if(O.state===x)throw new A(p+" already disposed");return O},_=function(){v(i(this,B),{type:p,state:S,stack:[]}),t||(this.disposed=!1)},B=_.prototype;return a(B,{dispose:function(){var O=y(this);if(O.state!==x){O.state=x,t||(this.disposed=!0);for(var P=O.stack,F=P.length,U=!1,k;F;){var M=P[--F];P[F]=null;try{M()}catch(D){U?k=new d(D,k):(U=!0,k=D)}}if(O.stack=null,U)throw k}},use:function(O){return u(C(this),O,b),O},adopt:function(O,P){var F=C(this);return n(P),u(F,void 0,b,function(){P(O)}),O},defer:function(O){var P=C(this);n(O),u(P,void 0,b,O)},move:function(){var O=C(this),P=new _;return y(P).stack=O.stack,O.stack=[],O.state=x,t||(this.disposed=!0),P}}),t&&s(B,"disposed",{configurable:!0,get:function(){return y(this).state===x}}),o(B,f,B.dispose,{name:"dispose"}),o(B,h,p,{nonWritable:!0}),e({global:!0,constructor:!0},{DisposableStack:_}),qwe}var Kwe={},Wwe;function VRt(){if(Wwe)return Kwe;Wwe=1;var e=J(),t=Vt(),r=Jt(),n=ns(),i=rt(),o="Error",a="DOMException",s=Object.setPrototypeOf||{}.__proto__,l=t(a),c=Error,u=c.isError,d=!u||!s||i(function(){return l&&!u(new l(a))||!u(new c(o,{cause:function(){}}))||u(t("Object","create")(c.prototype))});return e({target:"Error",stat:!0,sham:!0,forced:d},{isError:function(f){if(!r(f))return!1;var h=n(f);return h===o||h===a}}),Kwe}var Vwe={},O$,Gwe;function ANe(){if(Gwe)return O$;Gwe=1;var e=Qe(),t=Gt();return O$=function(){return e(t(this))},O$}var Ywe;function GRt(){if(Ywe)return Vwe;Ywe=1;var e=J(),t=ANe();return e({target:"Function",proto:!0,forced:!0},{demethodize:t}),Vwe}var Xwe={},Jwe;function YRt(){if(Jwe)return Xwe;Jwe=1;var e=J(),t=Qe(),r=ir(),n=UB(),i=ar(),o=Nt(),a=Object.getOwnPropertyDescriptor,s=/^\s*class\b/,l=t(s.exec),c=function(u){try{if(!o||!l(s,n(u)))return!1}catch{}var d=a(u,"prototype");return!!d&&i(d,"writable")&&!d.writable};return e({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(d){return r(d)&&!c(d)}}),Xwe}var Zwe={},ebe;function XRt(){if(ebe)return Zwe;ebe=1;var e=J(),t=Iu();return e({target:"Function",stat:!0,forced:!0},{isConstructor:t}),Zwe}var tbe={},rbe;function JRt(){if(rbe)return tbe;rbe=1;var e=qt(),t=vn().f,r=e("metadata"),n=Function.prototype;return n[r]===void 0&&t(n,r,{value:null}),tbe}var nbe={},ibe;function ZRt(){if(ibe)return nbe;ibe=1;var e=J(),t=ANe();return e({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:t}),nbe}var obe={},abe;function eMt(){return abe||(abe=1,Nje()),obe}var sbe={},lbe;function tMt(){return lbe||(lbe=1,$je()),sbe}var cbe={},R$,ube;function fNe(){if(ube)return R$;ube=1;var e=gt(),t=Yje(),r=function(n,i){return[i,n]};return R$=function(){return e(t,this,r)},R$}var dbe;function rMt(){if(dbe)return cbe;dbe=1;var e=J(),t=fNe();return e({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:t}),cbe}var Abe={},fbe;function nMt(){if(fbe)return Abe;fbe=1;var e=J(),t=gt(),r=Gt(),n=pt(),i=$d(),o=dp(),a=co(),s=Array,l=o(function(){for(;;){var c=this.iterator;if(!c){var u=this.nextIterableIndex++,d=this.iterables;if(u>=d.length)return this.done=!0,a(void 0,!0);var A=d[u];this.iterables[u]=null,c=this.iterator=t(A.method,A.iterable),this.next=c.next}var f=n(t(this.next,c));if(f.done){this.iterator=null,this.next=null;continue}return f}},!1,!0);return e({target:"Iterator",stat:!0,forced:!0},{concat:function(){for(var u=arguments.length,d=s(u),A=0;A<u;A++){var f=n(arguments[A]);d[A]={iterable:f,method:r(i(f))}}return new l({iterables:d,nextIterableIndex:0,iterator:null,next:null})}}),Abe}var hbe={},pbe;function iMt(){if(pbe)return hbe;pbe=1;var e=gt(),t=Zr(),r=Bi(),n=ar(),i=qt(),o=Av().IteratorPrototype,a=i("dispose");return n(o,a)||t(o,a,function(){var s=r(this,"return");s&&e(s,this)}),hbe}var gbe={},mbe;function oMt(){return mbe||(mbe=1,Qje()),gbe}var vbe={},ybe;function aMt(){return ybe||(ybe=1,Hje()),vbe}var wbe={},bbe;function sMt(){return bbe||(bbe=1,qje()),wbe}var xbe={},Sbe;function lMt(){return Sbe||(Sbe=1,zje()),xbe}var Cbe={},_be;function cMt(){return _be||(_be=1,Wje()),Cbe}var Ebe={},Ibe;function uMt(){return Ibe||(Ibe=1,Vje()),Ebe}var Bbe={},Pbe;function dMt(){return Pbe||(Pbe=1,Gje()),Bbe}var Tbe={},Obe;function AMt(){if(Obe)return Tbe;Obe=1;var e=J(),t=fNe();return e({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:t}),Tbe}var Rbe={},Mbe;function fMt(){return Mbe||(Mbe=1,Xje()),Rbe}var Fbe={},kbe;function hMt(){if(kbe)return Fbe;kbe=1;var e=J(),t=PK(),r=TypeError;return e({target:"Iterator",stat:!0,forced:!0},{range:function(i,o,a){if(typeof i=="number")return new t(i,o,a,"number",0,1);if(typeof i=="bigint")return new t(i,o,a,"bigint",BigInt(0),BigInt(1));throw new r("Incorrect Iterator.range arguments")}}),Fbe}var Ube={},Dbe;function pMt(){return Dbe||(Dbe=1,Jje()),Ube}var jbe={},Lbe;function gMt(){return Lbe||(Lbe=1,Zje()),jbe}var Nbe={},$be;function mMt(){return $be||($be=1,eLe()),Nbe}var Qbe={},Hbe;function vMt(){return Hbe||(Hbe=1,tLe()),Qbe}var qbe={},zbe;function yMt(){if(zbe)return qbe;zbe=1;var e=J(),t=pt(),r=SP(),n=uNe(),i=Gn(),o=Ar();return e({target:"Iterator",proto:!0,real:!0,forced:o},{toAsync:function(){return new n(i(new r(i(t(this)))))}}),qbe}var Kbe={},M$,Wbe;function hNe(){if(Wbe)return M$;Wbe=1;var e=rt();return M$=!e(function(){var t="9007199254740993",r=JSON.rawJSON(t);return!JSON.isRawJSON(r)||JSON.stringify(r)!==t}),M$}var F$,Vbe;function pNe(){if(Vbe)return F$;Vbe=1;var e=Jt(),t=Vr().get;return F$=function(n){if(!e(n))return!1;var i=t(n);return!!i&&i.type==="RawJSON"},F$}var Gbe;function wMt(){if(Gbe)return Kbe;Gbe=1;var e=J(),t=hNe(),r=pNe();return e({target:"JSON",stat:!0,forced:!t},{isRawJSON:r}),Kbe}var Ybe={},k$,Xbe;function gNe(){if(Xbe)return k$;Xbe=1;var e=Qe(),t=ar(),r=SyntaxError,n=parseInt,i=String.fromCharCode,o=e("".charAt),a=e("".slice),s=e(/./.exec),l={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},c=/^[\da-f]{4}$/i,u=/^[\u0000-\u001F]$/;return k$=function(d,A){for(var f=!0,h="";A<d.length;){var p=o(d,A);if(p==="\\"){var v=a(d,A,A+2);if(t(l,v))h+=l[v],A+=2;else if(v==="\\u"){A+=2;var y=a(d,A,A+4);if(!s(c,y))throw new r("Bad Unicode escape at: "+A);h+=i(n(y,16)),A+=4}else throw new r('Unknown escape sequence: "'+v+'"')}else if(p==='"'){f=!1,A++;break}else{if(s(u,p))throw new r("Bad control character in string literal at: "+A);h+=p,A++}}if(f)throw new r("Unterminated string at: "+A);return{value:h,end:A}},k$}var Jbe;function bMt(){if(Jbe)return Ybe;Jbe=1;var e=J(),t=Nt(),r=ht(),n=Vt(),i=Qe(),o=gt(),a=ir(),s=Jt(),l=Eu(),c=ar(),u=er(),d=Tr(),A=vc(),f=rt(),h=gNe(),p=tp(),v=r.JSON,y=r.Number,b=r.SyntaxError,x=v&&v.parse,S=n("Object","keys"),C=Object.getOwnPropertyDescriptor,_=i("".charAt),B=i("".slice),T=i(/./.exec),O=i([].push),P=/^\d$/,F=/^[1-9]$/,U=/^[\d-]$/,k=/^[\t\n\r ]$/,M=0,D=1,j=function(G,X){G=u(G);var Z=new W(G,0),oe=Z.parse(),ae=oe.value,ne=Z.skip(k,oe.end);if(ne<G.length)throw new b('Unexpected extra character: "'+_(G,ne)+'" after the parsed data at: '+ne);return a(X)?$({"":ae},"",X,oe):ae},$=function(G,X,Z,oe){var ae=G[X],ne=oe&&ae===oe.value,te=ne&&typeof oe.source=="string"?{source:oe.source}:{},se,de,re,he,ye;if(s(ae)){var ke=l(ae),Ue=ne?oe.nodes:ke?[]:{};if(ke)for(se=Ue.length,re=d(ae),he=0;he<re;he++)Q(ae,he,$(ae,""+he,Z,he<se?Ue[he]:void 0));else for(de=S(ae),re=d(de),he=0;he<re;he++)ye=de[he],Q(ae,ye,$(ae,ye,Z,c(Ue,ye)?Ue[ye]:void 0))}return o(Z,G,X,ae,te)},Q=function(G,X,Z){if(t){var oe=C(G,X);if(oe&&!oe.configurable)return}Z===void 0?delete G[X]:A(G,X,Z)},H=function(G,X,Z,oe){this.value=G,this.end=X,this.source=Z,this.nodes=oe},W=function(G,X){this.source=G,this.index=X};W.prototype={fork:function(G){return new W(this.source,G)},parse:function(){var G=this.source,X=this.skip(k,this.index),Z=this.fork(X),oe=_(G,X);if(T(U,oe))return Z.number();switch(oe){case"{":return Z.object();case"[":return Z.array();case'"':return Z.string();case"t":return Z.keyword(!0);case"f":return Z.keyword(!1);case"n":return Z.keyword(null)}throw new b('Unexpected character: "'+oe+'" at: '+X)},node:function(G,X,Z,oe,ae){return new H(X,oe,G?null:B(this.source,Z,oe),ae)},object:function(){for(var G=this.source,X=this.index+1,Z=!1,oe={},ae={};X<G.length;){if(X=this.until(['"',"}"],X),_(G,X)==="}"&&!Z){X++;break}var ne=this.fork(X).string(),te=ne.value;X=ne.end,X=this.until([":"],X)+1,X=this.skip(k,X),ne=this.fork(X).parse(),A(ae,te,ne),A(oe,te,ne.value),X=this.until([",","}"],ne.end);var se=_(G,X);if(se===",")Z=!0,X++;else if(se==="}"){X++;break}}return this.node(D,oe,this.index,X,ae)},array:function(){for(var G=this.source,X=this.index+1,Z=!1,oe=[],ae=[];X<G.length;){if(X=this.skip(k,X),_(G,X)==="]"&&!Z){X++;break}var ne=this.fork(X).parse();if(O(ae,ne),O(oe,ne.value),X=this.until([",","]"],ne.end),_(G,X)===",")Z=!0,X++;else if(_(G,X)==="]"){X++;break}}return this.node(D,oe,this.index,X,ae)},string:function(){var G=this.index,X=h(this.source,this.index+1);return this.node(M,X.value,G,X.end)},number:function(){var G=this.source,X=this.index,Z=X;if(_(G,Z)==="-"&&Z++,_(G,Z)==="0")Z++;else if(T(F,_(G,Z)))Z=this.skip(P,Z+1);else throw new b("Failed to parse number at: "+Z);if(_(G,Z)==="."&&(Z=this.skip(P,Z+1)),_(G,Z)==="e"||_(G,Z)==="E"){Z++,(_(G,Z)==="+"||_(G,Z)==="-")&&Z++;var oe=Z;if(Z=this.skip(P,Z),oe===Z)throw new b("Failed to parse number's exponent value at: "+Z)}return this.node(M,y(B(G,X,Z)),X,Z)},keyword:function(G){var X=""+G,Z=this.index,oe=Z+X.length;if(B(this.source,Z,oe)!==X)throw new b("Failed to parse value at: "+Z);return this.node(M,G,Z,oe)},skip:function(G,X){for(var Z=this.source;X<Z.length&&T(G,_(Z,X));X++);return X},until:function(G,X){X=this.skip(k,X);for(var Z=_(this.source,X),oe=0;oe<G.length;oe++)if(G[oe]===Z)return X;throw new b('Unexpected character: "'+Z+'" at: '+X)}};var z=f(function(){var G="9007199254740993",X;return x(G,function(Z,oe,ae){X=ae.source}),X!==G}),V=p&&!f(function(){return 1/x("-0 	")!==-1/0});return e({target:"JSON",stat:!0,forced:z},{parse:function(X,Z){return V&&!a(Z)?x(X):j(X,Z)}}),Ybe}var Zbe={},exe;function xMt(){if(exe)return Zbe;exe=1;var e=J(),t=Sf(),r=hNe(),n=Vt(),i=gt(),o=Qe(),a=ir(),s=pNe(),l=er(),c=vc(),u=gNe(),d=eje(),A=np(),f=Vr().set,h=String,p=SyntaxError,v=n("JSON","parse"),y=n("JSON","stringify"),b=n("Object","create"),x=n("Object","freeze"),S=o("".charAt),C=o("".slice),_=o([].push),B=A(),T=B.length,O="Unacceptable as raw JSON",P=function(F){return F===" "||F==="	"||F===`
`||F==="\r"};return e({target:"JSON",stat:!0,forced:!r},{rawJSON:function(U){var k=l(U);if(k===""||P(S(k,0))||P(S(k,k.length-1)))throw new p(O);var M=v(k);if(typeof M=="object"&&M!==null)throw new p(O);var D=b(null);return f(D,{type:"RawJSON"}),c(D,"rawJSON",k),t?x(D):D}}),y&&e({target:"JSON",stat:!0,arity:3,forced:!r},{stringify:function(U,k,M){var D=d(k),j=[],$=y(U,function(X,Z){var oe=a(D)?i(D,this,h(X),Z):Z;return s(oe)?B+(_(j,oe.rawJSON)-1):oe},M);if(typeof $!="string")return $;for(var Q="",H=$.length,W=0;W<H;W++){var z=S($,W);if(z==='"'){var V=u($,++W).end-1,G=C($,W,V);Q+=C(G,0,T)===B?j[C(G,T)]:'"'+G+'"',W=V}else Q+=z}return Q}}),Zbe}var txe={},U$,rxe;function da(){if(rxe)return U$;rxe=1;var e=uo().has;return U$=function(t){return e(t),t},U$}var nxe;function SMt(){if(nxe)return txe;nxe=1;var e=J(),t=da(),r=uo().remove;return e({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var i=t(this),o=!0,a,s=0,l=arguments.length;s<l;s++)a=r(i,arguments[s]),o=o&&a;return!!o}}),txe}var ixe={},oxe;function CMt(){if(oxe)return ixe;oxe=1;var e=J(),t=da(),r=uo(),n=r.get,i=r.has,o=r.set;return e({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(s,l){var c=t(this),u,d;return i(c,s)?(u=n(c,s),"update"in l&&(u=l.update(u,s,c),o(c,s,u)),u):(d=l.insert(s,c),o(c,s,d),d)}}),ixe}var axe={},sxe;function _Mt(){if(sxe)return axe;sxe=1;var e=J(),t=un(),r=da(),n=bc();return e({target:"Map",proto:!0,real:!0,forced:!0},{every:function(o){var a=r(this),s=t(o,arguments.length>1?arguments[1]:void 0);return n(a,function(l,c){if(!s(l,c,a))return!1},!0)!==!1}}),axe}var lxe={},cxe;function EMt(){if(cxe)return lxe;cxe=1;var e=J(),t=un(),r=da(),n=uo(),i=bc(),o=n.Map,a=n.set;return e({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(l){var c=r(this),u=t(l,arguments.length>1?arguments[1]:void 0),d=new o;return i(c,function(A,f){u(A,f,c)&&a(d,f,A)}),d}}),lxe}var uxe={},dxe;function IMt(){if(dxe)return uxe;dxe=1;var e=J(),t=un(),r=da(),n=bc();return e({target:"Map",proto:!0,real:!0,forced:!0},{find:function(o){var a=r(this),s=t(o,arguments.length>1?arguments[1]:void 0),l=n(a,function(c,u){if(s(c,u,a))return{value:c}},!0);return l&&l.value}}),uxe}var Axe={},fxe;function BMt(){if(fxe)return Axe;fxe=1;var e=J(),t=un(),r=da(),n=bc();return e({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(o){var a=r(this),s=t(o,arguments.length>1?arguments[1]:void 0),l=n(a,function(c,u){if(s(c,u,a))return{key:u}},!0);return l&&l.key}}),Axe}var hxe={},D$,pxe;function CP(){if(pxe)return D$;pxe=1;var e=un(),t=pt(),r=fr(),n=oi();return D$=function(i,o,a){return function(l){var c=r(l),u=arguments.length,d=u>1?arguments[1]:void 0,A=d!==void 0,f=A?e(d,u>2?arguments[2]:void 0):void 0,h=new i,p=0;return n(c,function(v){var y=A?f(v,p++):v;a?o(h,t(y)[0],y[1]):o(h,y)}),h}},D$}var gxe;function PMt(){if(gxe)return hxe;gxe=1;var e=J(),t=uo(),r=CP();return e({target:"Map",stat:!0,forced:!0},{from:r(t.Map,t.set,!0)}),hxe}var mxe={},vxe;function TMt(){if(vxe)return mxe;vxe=1;var e=J(),t=da(),r=uo(),n=r.get,i=r.has,o=r.set;return e({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:function(s,l){return i(t(this),s)?n(this,s):(o(this,s,l),l)}}),mxe}var yxe={},wxe;function OMt(){if(wxe)return yxe;wxe=1;var e=J(),t=Gt(),r=da(),n=uo(),i=n.get,o=n.has,a=n.set;return e({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(l,c){if(r(this),t(c),o(this,l))return i(this,l);l===0&&1/l===-1/0&&(l=0);var u=c(l);return a(this,l,u),u}}),yxe}var bxe={},xxe;function RMt(){return xxe||(xxe=1,nLe()),bxe}var Sxe={},j$,Cxe;function MMt(){return Cxe||(Cxe=1,j$=function(e,t){return e===t||e!==e&&t!==t}),j$}var _xe;function FMt(){if(_xe)return Sxe;_xe=1;var e=J(),t=MMt(),r=da(),n=bc();return e({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(o){return n(r(this),function(a){if(t(a,o))return!0},!0)===!0}}),Sxe}var Exe={},Ixe;function kMt(){if(Ixe)return Exe;Ixe=1;var e=J(),t=gt(),r=oi(),n=ir(),i=Gt(),o=uo().Map;return e({target:"Map",stat:!0,forced:!0},{keyBy:function(s,l){var c=n(this)?this:o,u=new c;i(l);var d=i(u.set);return r(s,function(A){t(d,u,l(A),A)}),u}}),Exe}var Bxe={},Pxe;function UMt(){if(Pxe)return Bxe;Pxe=1;var e=J(),t=da(),r=bc();return e({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(i){var o=r(t(this),function(a,s){if(a===i)return{key:s}},!0);return o&&o.key}}),Bxe}var Txe={},Oxe;function DMt(){if(Oxe)return Txe;Oxe=1;var e=J(),t=un(),r=da(),n=uo(),i=bc(),o=n.Map,a=n.set;return e({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(l){var c=r(this),u=t(l,arguments.length>1?arguments[1]:void 0),d=new o;return i(c,function(A,f){a(d,u(A,f,c),A)}),d}}),Txe}var Rxe={},Mxe;function jMt(){if(Mxe)return Rxe;Mxe=1;var e=J(),t=un(),r=da(),n=uo(),i=bc(),o=n.Map,a=n.set;return e({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(l){var c=r(this),u=t(l,arguments.length>1?arguments[1]:void 0),d=new o;return i(c,function(A,f){a(d,f,u(A,f,c))}),d}}),Rxe}var Fxe={},kxe;function LMt(){if(kxe)return Fxe;kxe=1;var e=J(),t=da(),r=oi(),n=uo().set;return e({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(o){for(var a=t(this),s=arguments.length,l=0;l<s;)r(arguments[l++],function(c,u){n(a,c,u)},{AS_ENTRIES:!0});return a}}),Fxe}var Uxe={},L$,Dxe;function _P(){if(Dxe)return L$;Dxe=1;var e=pt();return L$=function(t,r,n){return function(){for(var o=new t,a=arguments.length,s=0;s<a;s++){var l=arguments[s];n?r(o,e(l)[0],l[1]):r(o,l)}return o}},L$}var jxe;function NMt(){if(jxe)return Uxe;jxe=1;var e=J(),t=uo(),r=_P();return e({target:"Map",stat:!0,forced:!0},{of:r(t.Map,t.set,!0)}),Uxe}var Lxe={},Nxe;function $Mt(){if(Nxe)return Lxe;Nxe=1;var e=J(),t=Gt(),r=da(),n=bc(),i=TypeError;return e({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(a){var s=r(this),l=arguments.length<2,c=l?void 0:arguments[1];if(t(a),n(s,function(u,d){l?(l=!1,c=u):c=a(c,u,d,s)}),l)throw new i("Reduce of empty map with no initial value");return c}}),Lxe}var $xe={},Qxe;function QMt(){if(Qxe)return $xe;Qxe=1;var e=J(),t=un(),r=da(),n=bc();return e({target:"Map",proto:!0,real:!0,forced:!0},{some:function(o){var a=r(this),s=t(o,arguments.length>1?arguments[1]:void 0);return n(a,function(l,c){if(s(l,c,a))return!0},!0)===!0}}),$xe}var Hxe={},qxe;function HMt(){if(qxe)return Hxe;qxe=1;var e=J(),t=Gt(),r=da(),n=uo(),i=TypeError,o=n.get,a=n.has,s=n.set;return e({target:"Map",proto:!0,real:!0,forced:!0},{update:function(c,u){var d=r(this),A=arguments.length;t(u);var f=a(d,c);if(!f&&A<3)throw new i("Updating absent value");var h=f?o(d,c):t(A>2?arguments[2]:void 0)(c,d);return s(d,c,u(h,c,d)),d}}),Hxe}var zxe={},N$,Kxe;function TK(){if(Kxe)return N$;Kxe=1;var e=gt(),t=Gt(),r=ir(),n=pt(),i=TypeError;return N$=function(a,s){var l=n(this),c=t(l.get),u=t(l.has),d=t(l.set),A=arguments.length>2?arguments[2]:void 0,f;if(!r(s)&&!r(A))throw new i("At least one callback required");return e(u,l,a)?(f=e(c,l,a),r(s)&&(f=s(f),e(d,l,a,f))):r(A)&&(f=A(),e(d,l,a,f)),f},N$}var Wxe;function qMt(){if(Wxe)return zxe;Wxe=1;var e=J(),t=TK();return e({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:t}),zxe}var Vxe={},Gxe;function zMt(){if(Gxe)return Vxe;Gxe=1;var e=J(),t=TK();return e({target:"Map",proto:!0,real:!0,forced:!0},{upsert:t}),Vxe}var Yxe={},$$,Xxe;function KMt(){if(Xxe)return $$;Xxe=1;var e=TypeError;return $$=function(t){if(typeof t=="number")return t;throw new e("Argument is not a number")},$$}var Jxe;function WMt(){if(Jxe)return Yxe;Jxe=1;var e=J(),t=KMt(),r=Xb(),n=vK(),i=RangeError,o=Math.min,a=Math.max;return e({target:"Math",stat:!0,forced:!0},{clamp:function(l,c,u){if(t(l),r(t(c)),r(t(u)),n(c,0)&&n(u,-0)||c>u)throw new i("`min` should be smaller than `max`");return o(u,a(c,l))}}),Yxe}var Zxe={},eSe;function VMt(){if(eSe)return Zxe;eSe=1;var e=J();return e({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180}),Zxe}var tSe={},rSe;function GMt(){if(rSe)return tSe;rSe=1;var e=J(),t=180/Math.PI;return e({target:"Math",stat:!0,forced:!0},{degrees:function(n){return n*t}}),tSe}var nSe={},Q$,iSe;function mNe(){return iSe||(iSe=1,Q$=function(t,r,n,i,o){var a=+t,s=+r,l=+n,c=+i,u=+o;return a!==a||s!==s||l!==l||c!==c||u!==u?NaN:a===1/0||a===-1/0?a:(a-s)*(u-c)/(l-s)+c}),Q$}var oSe;function YMt(){if(oSe)return nSe;oSe=1;var e=J(),t=mNe(),r=AK();return e({target:"Math",stat:!0,forced:!0},{fscale:function(i,o,a,s,l){return r(t(i,o,a,s,l))}}),nSe}var aSe={},sSe;function XMt(){return sSe||(sSe=1,oLe()),aSe}var lSe={},cSe;function JMt(){if(cSe)return lSe;cSe=1;var e=J();return e({target:"Math",stat:!0,forced:!0},{iaddh:function(r,n,i,o){var a=r>>>0,s=n>>>0,l=i>>>0;return s+(o>>>0)+((a&l|(a|l)&~(a+l>>>0))>>>31)|0}}),lSe}var uSe={},dSe;function ZMt(){if(dSe)return uSe;dSe=1;var e=J();return e({target:"Math",stat:!0,forced:!0},{imulh:function(r,n){var i=65535,o=+r,a=+n,s=o&i,l=a&i,c=o>>16,u=a>>16,d=(c*l>>>0)+(s*l>>>16);return c*u+(d>>16)+((s*u>>>0)+(d&i)>>16)}}),uSe}var ASe={},fSe;function e2t(){if(fSe)return ASe;fSe=1;var e=J();return e({target:"Math",stat:!0,forced:!0},{isubh:function(r,n,i,o){var a=r>>>0,s=n>>>0,l=i>>>0;return s-(o>>>0)-((~a&l|~(a^l)&a-l>>>0)>>>31)|0}}),ASe}var hSe={},pSe;function t2t(){if(pSe)return hSe;pSe=1;var e=J();return e({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI}),hSe}var gSe={},mSe;function r2t(){if(mSe)return gSe;mSe=1;var e=J(),t=Math.PI/180;return e({target:"Math",stat:!0,forced:!0},{radians:function(n){return n*t}}),gSe}var vSe={},ySe;function n2t(){if(ySe)return vSe;ySe=1;var e=J(),t=mNe();return e({target:"Math",stat:!0,forced:!0},{scale:t}),vSe}var wSe={},bSe;function i2t(){if(bSe)return wSe;bSe=1;var e=J(),t=pt(),r=sLe(),n=cp(),i=co(),o=Vr(),a="Seeded Random",s=a+" Generator",l='Math.seededPRNG() argument should have a "seed" field with a finite value.',c=o.set,u=o.getterFor(s),d=TypeError,A=n(function(h){c(this,{type:s,seed:h%2147483647})},a,function(){var h=u(this),p=h.seed=(h.seed*1103515245+12345)%2147483647;return i((p&1073741823)/1073741823,!1)});return e({target:"Math",stat:!0,forced:!0},{seededPRNG:function(h){var p=t(h).seed;if(!r(p))throw new d(l);return new A(p)}}),wSe}var xSe={},SSe;function o2t(){if(SSe)return xSe;SSe=1;var e=J();return e({target:"Math",stat:!0,forced:!0},{signbit:function(r){var n=+r;return n===n&&n===0?1/n===-1/0:n<0}}),xSe}var CSe={},_Se;function a2t(){if(_Se)return CSe;_Se=1;var e=J(),t=Qe(),r=oi(),n=RangeError,i=TypeError,o=1/0,a=NaN,s=Math.abs,l=Math.pow,c=t([].push),u=l(2,1023),d=l(2,53)-1,A=Number.MAX_VALUE,f=l(2,971),h={},p={},v={},y={},b={},x=function(S,C){var _=S+C,B=C-(_-S);return{hi:_,lo:B}};return e({target:"Math",stat:!0},{sumPrecise:function(C){var _=[],B=0,T=y;switch(r(C,function(G){if(++B>=d)throw new n("Maximum allowed index exceeded");if(typeof G!="number")throw new i("Value is not a number");T!==h&&(G!==G?T=h:G===o?T=T===p?h:v:G===-o?T=T===v?h:p:(G!==0||1/G===o)&&(T===y||T===b)&&(T=b,c(_,G)))}),T){case h:return a;case p:return-o;case v:return o;case y:return-0}for(var O=[],P=0,F,U,k,M,D,j,$=0;$<_.length;$++){F=_[$];for(var Q=0,H=0;H<O.length;H++){if(U=O[H],s(F)<s(U)&&(j=F,F=U,U=j),k=x(F,U),M=k.hi,D=k.lo,s(M)===o){var W=M===o?1:-1;P+=W,F=F-W*u-W*u,s(F)<s(U)&&(j=F,F=U,U=j),k=x(F,U),M=k.hi,D=k.lo}D!==0&&(O[Q++]=D),F=M}O.length=Q,F!==0&&c(O,F)}var z=O.length-1;if(M=0,D=0,P!==0){var V=z>=0?O[z]:0;if(z--,s(P)>1||P>0&&V>0||P<0&&V<0)return P>0?o:-o;if(k=x(P*u,V/2),M=k.hi,D=k.lo,D*=2,s(2*M)===o)return M>0?M===u&&D===-(f/2)&&z>=0&&O[z]<0?A:o:M===-u&&D===f/2&&z>=0&&O[z]>0?-A:-o;D!==0&&(O[++z]=D,D=0),M*=2}for(;z>=0&&(k=x(M,O[z--]),M=k.hi,D=k.lo,D===0););return z>=0&&(D<0&&O[z]<0||D>0&&O[z]>0)&&(U=D*2,F=M+U,U===F-M&&(M=F)),M}}),CSe}var ESe={},ISe;function s2t(){if(ISe)return ESe;ISe=1;var e=J();return e({target:"Math",stat:!0,forced:!0},{umulh:function(r,n){var i=65535,o=+r,a=+n,s=o&i,l=a&i,c=o>>>16,u=a>>>16,d=(c*l>>>0)+(s*l>>>16);return c*u+(d>>>16)+((s*u>>>0)+(d&i)>>>16)}}),ESe}var BSe={},PSe;function l2t(){if(PSe)return BSe;PSe=1;var e=J(),t=Qe(),r=Dn(),n="Invalid number representation",i="Invalid radix",o=RangeError,a=SyntaxError,s=TypeError,l=parseInt,c=Math.pow,u=/^[\d.a-z]+$/,d=t("".charAt),A=t(u.exec),f=t(1 .toString),h=t("".slice),p=t("".split);return e({target:"Number",stat:!0,forced:!0},{fromString:function(y,b){var x=1;if(typeof y!="string")throw new s(n);if(!y.length)throw new a(n);if(d(y,0)==="-"&&(x=-1,y=h(y,1),!y.length))throw new a(n);var S=b===void 0?10:r(b);if(S<2||S>36)throw new o(i);if(!A(u,y))throw new a(n);var C=p(y,"."),_=l(C[0],S);if(C.length>1&&(_+=l(C[1],S)/c(S,C[1].length)),S===10&&f(_,S)!==y)throw new a(n);return x*_}}),BSe}var TSe={},OSe;function c2t(){if(OSe)return TSe;OSe=1;var e=J(),t=PK();return e({target:"Number",stat:!0,forced:!0},{range:function(n,i,o){return new t(n,i,o,"number",0,1)}}),TSe}var RSe={},MSe;function u2t(){return MSe||(MSe=1,fLe()),RSe}var FSe={},H$,kSe;function OK(){if(kSe)return H$;kSe=1;var e=Vr(),t=cp(),r=co(),n=ar(),i=iv(),o=fr(),a="Object Iterator",s=e.set,l=e.getterFor(a);return H$=t(function(u,d){var A=o(u);s(this,{type:a,mode:d,object:A,keys:i(A),index:0})},"Object",function(){for(var u=l(this),d=u.keys;;){if(d===null||u.index>=d.length)return u.object=u.keys=null,r(void 0,!0);var A=d[u.index++],f=u.object;if(n(f,A)){switch(u.mode){case"keys":return r(A,!1);case"values":return r(f[A],!1)}return r([A,f[A]],!1)}}}),H$}var USe;function d2t(){if(USe)return FSe;USe=1;var e=J(),t=OK();return e({target:"Object",stat:!0,forced:!0},{iterateEntries:function(n){return new t(n,"entries")}}),FSe}var DSe={},jSe;function A2t(){if(jSe)return DSe;jSe=1;var e=J(),t=OK();return e({target:"Object",stat:!0,forced:!0},{iterateKeys:function(n){return new t(n,"keys")}}),DSe}var LSe={},NSe;function f2t(){if(NSe)return LSe;NSe=1;var e=J(),t=OK();return e({target:"Object",stat:!0,forced:!0},{iterateValues:function(n){return new t(n,"values")}}),LSe}var $Se={},QSe;function h2t(){return QSe||(QSe=1,ALe()),$Se}var HSe={},qSe={},zSe;function p2t(){if(zSe)return qSe;zSe=1;var e=J(),t=gt(),r=Nt(),n=up(),i=Gt(),o=pt(),a=Oa(),s=ir(),l=Wi(),c=Jt(),u=Bi(),d=Zr(),A=wc(),f=jn(),h=vLe(),p=qt(),v=Vr(),y=p("observable"),b="Observable",x="Subscription",S="SubscriptionObserver",C=v.getterFor,_=v.set,B=C(b),T=C(x),O=C(S),P=function(D){this.observer=o(D),this.cleanup=null,this.subscriptionObserver=null};P.prototype={type:x,clean:function(){var D=this.cleanup;if(D){this.cleanup=null;try{D()}catch(j){h(j)}}},close:function(){if(!r){var D=this.facade,j=this.subscriptionObserver;D.closed=!0,j&&(j.closed=!0)}this.observer=null},isClosed:function(){return this.observer===null}};var F=function(D,j){var $=_(this,new P(D)),Q;r||(this.closed=!1);try{(Q=u(D,"start"))&&t(Q,D,this)}catch(V){h(V)}if(!$.isClosed()){var H=$.subscriptionObserver=new U($);try{var W=j(H),z=W;l(W)||($.cleanup=s(W.unsubscribe)?function(){z.unsubscribe()}:i(W))}catch(V){H.error(V);return}$.isClosed()&&$.clean()}};F.prototype=A({},{unsubscribe:function(){var j=T(this);j.isClosed()||(j.close(),j.clean())}}),r&&f(F.prototype,"closed",{configurable:!0,get:function(){return T(this).isClosed()}});var U=function(D){_(this,{type:S,subscriptionState:D}),r||(this.closed=!1)};U.prototype=A({},{next:function(j){var $=O(this).subscriptionState;if(!$.isClosed()){var Q=$.observer;try{var H=u(Q,"next");H&&t(H,Q,j)}catch(W){h(W)}}},error:function(j){var $=O(this).subscriptionState;if(!$.isClosed()){var Q=$.observer;$.close();try{var H=u(Q,"error");H?t(H,Q,j):h(j)}catch(W){h(W)}$.clean()}},complete:function(){var j=O(this).subscriptionState;if(!j.isClosed()){var $=j.observer;j.close();try{var Q=u($,"complete");Q&&t(Q,$)}catch(H){h(H)}j.clean()}}}),r&&f(U.prototype,"closed",{configurable:!0,get:function(){return O(this).subscriptionState.isClosed()}});var k=function(j){a(this,M),_(this,{type:b,subscriber:i(j)})},M=k.prototype;return A(M,{subscribe:function(j){var $=arguments.length;return new F(s(j)?{next:j,error:$>1?arguments[1]:void 0,complete:$>2?arguments[2]:void 0}:c(j)?j:{},B(this).subscriber)}}),d(M,y,function(){return this}),e({global:!0,constructor:!0,forced:!0},{Observable:k}),n(b),qSe}var KSe={},WSe;function g2t(){if(WSe)return KSe;WSe=1;var e=J(),t=Vt(),r=gt(),n=pt(),i=Iu(),o=lp(),a=Bi(),s=oi(),l=qt(),c=l("observable");return e({target:"Observable",stat:!0,forced:!0},{from:function(d){var A=i(this)?this:t("Observable"),f=a(n(d),c);if(f){var h=n(r(f,d));return h.constructor===A?h:new A(function(v){return h.subscribe(v)})}var p=o(d);return new A(function(v){s(p,function(y,b){if(v.next(y),v.closed)return b()},{IS_ITERATOR:!0,INTERRUPTED:!0}),v.complete()})}}),KSe}var VSe={},GSe;function m2t(){if(GSe)return VSe;GSe=1;var e=J(),t=Vt(),r=Iu(),n=t("Array");return e({target:"Observable",stat:!0,forced:!0},{of:function(){for(var o=r(this)?this:t("Observable"),a=arguments.length,s=n(a),l=0;l<a;)s[l]=arguments[l++];return new o(function(c){for(var u=0;u<a;u++)if(c.next(s[u]),c.closed)return;c.complete()})}}),VSe}var YSe;function v2t(){return YSe||(YSe=1,p2t(),g2t(),m2t()),HSe}var XSe={},JSe;function y2t(){return JSe||(JSe=1,wLe()),XSe}var ZSe={},e1e;function w2t(){return e1e||(e1e=1,bLe()),ZSe}var t1e={},r1e;function b2t(){return r1e||(r1e=1,xLe()),t1e}var n1e={},i1e;function x2t(){return i1e||(i1e=1,SLe()),n1e}var o1e={},q$,a1e;function qd(){if(a1e)return q$;a1e=1,gK(),EK();var e=Vt(),t=Qe(),r=mf(),n=e("Map"),i=e("WeakMap"),o=t([].push),a=r("metadata"),s=a.store||(a.store=new i),l=function(h,p,v){var y=s.get(h);if(!y){if(!v)return;s.set(h,y=new n)}var b=y.get(p);if(!b){if(!v)return;y.set(p,b=new n)}return b},c=function(h,p,v){var y=l(p,v,!1);return y===void 0?!1:y.has(h)},u=function(h,p,v){var y=l(p,v,!1);return y===void 0?void 0:y.get(h)},d=function(h,p,v,y){l(v,y,!0).set(h,p)},A=function(h,p){var v=l(h,p,!1),y=[];return v&&v.forEach(function(b,x){o(y,x)}),y},f=function(h){return h===void 0||typeof h=="symbol"?h:String(h)};return q$={store:s,getMap:l,has:c,get:u,set:d,keys:A,toKey:f},q$}var s1e;function S2t(){if(s1e)return o1e;s1e=1;var e=J(),t=qd(),r=pt(),n=t.toKey,i=t.set;return e({target:"Reflect",stat:!0},{defineMetadata:function(a,s,l){var c=arguments.length<4?void 0:n(arguments[3]);i(a,s,r(l),c)}}),o1e}var l1e={},c1e;function C2t(){if(c1e)return l1e;c1e=1;var e=J(),t=qd(),r=pt(),n=t.toKey,i=t.getMap,o=t.store;return e({target:"Reflect",stat:!0},{deleteMetadata:function(s,l){var c=arguments.length<3?void 0:n(arguments[2]),u=i(r(l),c,!1);if(u===void 0||!u.delete(s))return!1;if(u.size)return!0;var d=o.get(l);return d.delete(c),!!d.size||o.delete(l)}}),l1e}var u1e={},d1e;function _2t(){if(d1e)return u1e;d1e=1;var e=J(),t=qd(),r=pt(),n=Xi(),i=t.has,o=t.get,a=t.toKey,s=function(l,c,u){var d=i(l,c,u);if(d)return o(l,c,u);var A=n(c);return A!==null?s(l,A,u):void 0};return e({target:"Reflect",stat:!0},{getMetadata:function(c,u){var d=arguments.length<3?void 0:a(arguments[2]);return s(c,r(u),d)}}),u1e}var A1e={},f1e;function E2t(){if(f1e)return A1e;f1e=1;var e=J(),t=Qe(),r=qd(),n=pt(),i=Xi(),o=BK(),a=t(o),s=t([].concat),l=r.keys,c=r.toKey,u=function(d,A){var f=l(d,A),h=i(d);if(h===null)return f;var p=u(h,A);return p.length?f.length?a(s(f,p)):p:f};return e({target:"Reflect",stat:!0},{getMetadataKeys:function(A){var f=arguments.length<2?void 0:c(arguments[1]);return u(n(A),f)}}),A1e}var h1e={},p1e;function I2t(){if(p1e)return h1e;p1e=1;var e=J(),t=qd(),r=pt(),n=t.get,i=t.toKey;return e({target:"Reflect",stat:!0},{getOwnMetadata:function(a,s){var l=arguments.length<3?void 0:i(arguments[2]);return n(a,r(s),l)}}),h1e}var g1e={},m1e;function B2t(){if(m1e)return g1e;m1e=1;var e=J(),t=qd(),r=pt(),n=t.keys,i=t.toKey;return e({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(a){var s=arguments.length<2?void 0:i(arguments[1]);return n(r(a),s)}}),g1e}var v1e={},y1e;function P2t(){if(y1e)return v1e;y1e=1;var e=J(),t=qd(),r=pt(),n=Xi(),i=t.has,o=t.toKey,a=function(s,l,c){var u=i(s,l,c);if(u)return!0;var d=n(l);return d!==null?a(s,d,c):!1};return e({target:"Reflect",stat:!0},{hasMetadata:function(l,c){var u=arguments.length<3?void 0:o(arguments[2]);return a(l,r(c),u)}}),v1e}var w1e={},b1e;function T2t(){if(b1e)return w1e;b1e=1;var e=J(),t=qd(),r=pt(),n=t.has,i=t.toKey;return e({target:"Reflect",stat:!0},{hasOwnMetadata:function(a,s){var l=arguments.length<3?void 0:i(arguments[2]);return n(a,r(s),l)}}),w1e}var x1e={},S1e;function O2t(){if(S1e)return x1e;S1e=1;var e=J(),t=qd(),r=pt(),n=t.toKey,i=t.set;return e({target:"Reflect",stat:!0},{metadata:function(a,s){return function(c,u){i(a,s,r(c),n(u))}}}),x1e}var C1e={},_1e;function R2t(){return _1e||(_1e=1,_Le()),C1e}var E1e={},I1e;function M2t(){if(I1e)return E1e;I1e=1;var e=J(),t=ua(),r=Fo().add;return e({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var i=t(this),o=0,a=arguments.length;o<a;o++)r(i,arguments[o]);return i}}),E1e}var B1e={},P1e;function F2t(){if(P1e)return B1e;P1e=1;var e=J(),t=ua(),r=Fo().remove;return e({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var i=t(this),o=!0,a,s=0,l=arguments.length;s<l;s++)a=r(i,arguments[s]),o=o&&a;return!!o}}),B1e}var T1e={},O1e;function k2t(){return O1e||(O1e=1,ILe()),T1e}var R1e={},z$,M1e;function U2t(){if(M1e)return z$;M1e=1;var e=ns(),t=ar(),r=Wi(),n=qt(),i=dv(),o=n("iterator"),a=Object;return z$=function(s){if(r(s))return!1;var l=a(s);return l[o]!==void 0||"@@iterator"in l||t(i,e(l))},z$}var K$,F1e;function gp(){if(F1e)return K$;F1e=1;var e=Vt(),t=ir(),r=U2t(),n=Jt(),i=e("Set"),o=function(a){return n(a)&&typeof a.size=="number"&&t(a.has)&&t(a.keys)};return K$=function(a){return o(a)?a:r(a)?new i(a):a},K$}var k1e;function D2t(){if(k1e)return R1e;k1e=1;var e=J(),t=gt(),r=gp(),n=ELe();return e({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(o){return t(n,this,r(o))}}),R1e}var U1e={},D1e;function j2t(){if(D1e)return U1e;D1e=1;var e=J(),t=un(),r=ua(),n=js();return e({target:"Set",proto:!0,real:!0,forced:!0},{every:function(o){var a=r(this),s=t(o,arguments.length>1?arguments[1]:void 0);return n(a,function(l){if(!s(l,l,a))return!1},!0)!==!1}}),U1e}var j1e={},L1e;function L2t(){if(L1e)return j1e;L1e=1;var e=J(),t=un(),r=ua(),n=Fo(),i=js(),o=n.Set,a=n.add;return e({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(l){var c=r(this),u=t(l,arguments.length>1?arguments[1]:void 0),d=new o;return i(c,function(A){u(A,A,c)&&a(d,A)}),d}}),j1e}var N1e={},$1e;function N2t(){if($1e)return N1e;$1e=1;var e=J(),t=un(),r=ua(),n=js();return e({target:"Set",proto:!0,real:!0,forced:!0},{find:function(o){var a=r(this),s=t(o,arguments.length>1?arguments[1]:void 0),l=n(a,function(c){if(s(c,c,a))return{value:c}},!0);return l&&l.value}}),N1e}var Q1e={},H1e;function $2t(){if(H1e)return Q1e;H1e=1;var e=J(),t=Fo(),r=CP();return e({target:"Set",stat:!0,forced:!0},{from:r(t.Set,t.add,!1)}),Q1e}var q1e={},z1e;function Q2t(){return z1e||(z1e=1,PLe()),q1e}var K1e={},W1e;function H2t(){if(W1e)return K1e;W1e=1;var e=J(),t=gt(),r=gp(),n=BLe();return e({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(o){return t(n,this,r(o))}}),K1e}var V1e={},G1e;function q2t(){return G1e||(G1e=1,OLe()),V1e}var Y1e={},X1e;function z2t(){if(X1e)return Y1e;X1e=1;var e=J(),t=gt(),r=gp(),n=TLe();return e({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(o){return t(n,this,r(o))}}),Y1e}var J1e={},Z1e;function K2t(){return Z1e||(Z1e=1,MLe()),J1e}var eCe={},tCe;function W2t(){if(tCe)return eCe;tCe=1;var e=J(),t=gt(),r=gp(),n=RLe();return e({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(o){return t(n,this,r(o))}}),eCe}var rCe={},nCe;function V2t(){return nCe||(nCe=1,kLe()),rCe}var iCe={},oCe;function G2t(){if(oCe)return iCe;oCe=1;var e=J(),t=gt(),r=gp(),n=FLe();return e({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(o){return t(n,this,r(o))}}),iCe}var aCe={},sCe;function Y2t(){if(sCe)return aCe;sCe=1;var e=J(),t=Qe(),r=ua(),n=js(),i=er(),o=t([].join),a=t([].push);return e({target:"Set",proto:!0,real:!0,forced:!0},{join:function(l){var c=r(this),u=l===void 0?",":i(l),d=[];return n(c,function(A){a(d,A)}),o(d,u)}}),aCe}var lCe={},cCe;function X2t(){if(cCe)return lCe;cCe=1;var e=J(),t=un(),r=ua(),n=Fo(),i=js(),o=n.Set,a=n.add;return e({target:"Set",proto:!0,real:!0,forced:!0},{map:function(l){var c=r(this),u=t(l,arguments.length>1?arguments[1]:void 0),d=new o;return i(c,function(A){a(d,u(A,A,c))}),d}}),lCe}var uCe={},dCe;function J2t(){if(dCe)return uCe;dCe=1;var e=J(),t=Fo(),r=_P();return e({target:"Set",stat:!0,forced:!0},{of:r(t.Set,t.add,!1)}),uCe}var ACe={},fCe;function Z2t(){if(fCe)return ACe;fCe=1;var e=J(),t=Gt(),r=ua(),n=js(),i=TypeError;return e({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(a){var s=r(this),l=arguments.length<2,c=l?void 0:arguments[1];if(t(a),n(s,function(u){l?(l=!1,c=u):c=a(c,u,u,s)}),l)throw new i("Reduce of empty set with no initial value");return c}}),ACe}var hCe={},pCe;function eFt(){if(pCe)return hCe;pCe=1;var e=J(),t=un(),r=ua(),n=js();return e({target:"Set",proto:!0,real:!0,forced:!0},{some:function(o){var a=r(this),s=t(o,arguments.length>1?arguments[1]:void 0);return n(a,function(l){if(s(l,l,a))return!0},!0)===!0}}),hCe}var gCe={},mCe;function tFt(){return mCe||(mCe=1,DLe()),gCe}var vCe={},yCe;function rFt(){if(yCe)return vCe;yCe=1;var e=J(),t=gt(),r=gp(),n=ULe();return e({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(o){return t(n,this,r(o))}}),vCe}var wCe={},bCe;function nFt(){return bCe||(bCe=1,LLe()),wCe}var xCe={},SCe;function iFt(){if(SCe)return xCe;SCe=1;var e=J(),t=gt(),r=gp(),n=jLe();return e({target:"Set",proto:!0,real:!0,forced:!0},{union:function(o){return t(n,this,r(o))}}),xCe}var CCe={},_Ce;function oFt(){if(_Ce)return CCe;_Ce=1;var e=J(),t=ov().charAt,r=Bn(),n=Dn(),i=er();return e({target:"String",proto:!0,forced:!0},{at:function(a){var s=i(r(this)),l=s.length,c=n(a),u=c>=0?c:l+c;return u<0||u>=l?void 0:t(s,u)}}),CCe}var ECe={},W$,ICe;function vNe(){if(ICe)return W$;ICe=1;var e=Qe(),t=Vi(),r=er(),n=Tr(),i=TypeError,o=e([].push),a=e([].join);return W$=function(l){var c=t(l),u=n(c);if(!u)return"";for(var d=arguments.length,A=[],f=0;;){var h=c[f++];if(h===void 0)throw new i("Incorrect template");if(o(A,r(h)),f===u)return a(A,"");f<d&&o(A,r(arguments[f]))}},W$}var BCe;function aFt(){if(BCe)return ECe;BCe=1;var e=J(),t=vNe();return e({target:"String",stat:!0,forced:!0},{cooked:t}),ECe}var PCe={},TCe;function sFt(){if(TCe)return PCe;TCe=1;var e=J(),t=cp(),r=co(),n=Bn(),i=er(),o=Vr(),a=ov(),s=a.codeAt,l=a.charAt,c="String Iterator",u=o.set,d=o.getterFor(c),A=t(function(h){u(this,{type:c,string:h,index:0})},"String",function(){var h=d(this),p=h.string,v=h.index,y;return v>=p.length?r(void 0,!0):(y=l(p,v),h.index+=y.length,r({codePoint:s(y,0),position:v},!1))});return e({target:"String",proto:!0,forced:!0},{codePoints:function(){return new A(i(n(this)))}}),PCe}var OCe={},V$,RCe;function _f(){if(RCe)return V$;RCe=1;var e=Qe(),t=WeakMap.prototype;return V$={WeakMap,set:e(t.set),get:e(t.get),has:e(t.has),remove:e(t.delete)},V$}var G$,MCe;function lFt(){if(MCe)return G$;MCe=1;var e=Vt(),t=Qe(),r=String.fromCharCode,n=e("String","fromCodePoint"),i=t("".charAt),o=t("".charCodeAt),a=t("".indexOf),s=t("".slice),l=48,c=57,u=97,d=102,A=65,f=70,h=function(y,b){var x=o(y,b);return x>=l&&x<=c},p=function(y,b,x){if(x>=y.length)return-1;for(var S=0;b<x;b++){var C=v(o(y,b));if(C===-1)return-1;S=S*16+C}return S},v=function(y){return y>=l&&y<=c?y-l:y>=u&&y<=d?y-u+10:y>=A&&y<=f?y-A+10:-1};return G$=function(y){for(var b="",x=0,S=0,C;(S=a(y,"\\",S))>-1;){if(b+=s(y,x,S),++S===y.length)return;var _=i(y,S++);switch(_){case"b":b+="\b";break;case"t":b+="	";break;case"n":b+=`
`;break;case"v":b+="\v";break;case"f":b+="\f";break;case"r":b+="\r";break;case"\r":S<y.length&&i(y,S)===`
`&&++S;case`
`:case"\u2028":case"\u2029":break;case"0":if(h(y,S))return;b+="\0";break;case"x":if(C=p(y,S,S+2),C===-1)return;S+=2,b+=r(C);break;case"u":if(S<y.length&&i(y,S)==="{"){var B=a(y,"}",++S);if(B===-1)return;C=p(y,S,B),S=B+1}else C=p(y,S,S+4),S+=4;if(C===-1||C>1114111)return;b+=n(C);break;default:if(h(_,0))return;b+=_}x=S}return b+s(y,x)},G$}var FCe;function cFt(){if(FCe)return OCe;FCe=1;var e=Sf(),t=J(),r=jB(),n=Qe(),i=Pa(),o=pt(),a=fr(),s=ir(),l=Tr(),c=vn().f,u=Ds(),d=_f(),A=vNe(),f=lFt(),h=hv(),p=new d.WeakMap,v=d.get,y=d.has,b=d.set,x=Array,S=TypeError,C=Object.freeze||Object,_=Object.isFrozen,B=Math.min,T=n("".charAt),O=n("".slice),P=n("".split),F=n(/./.exec),U=/([\n\u2028\u2029]|\r\n?)/g,k=RegExp("^["+h+"]*"),M=RegExp("[^"+h+"]"),D="Invalid tag",j="Invalid opening line",$="Invalid closing line",Q=function(X){var Z=X.raw;if(e&&!_(Z))throw new S("Raw template should be frozen");if(y(p,Z))return v(p,Z);var oe=H(Z),ae=z(oe);return c(ae,"raw",{value:C(oe)}),C(ae),b(p,Z,ae),ae},H=function(X){var Z=a(X),oe=l(Z),ae=x(oe),ne=x(oe),te=0,se,de,re,he;if(!oe)throw new S(D);for(;te<oe;te++){var ye=Z[te];if(typeof ye=="string")ae[te]=P(ye,U);else throw new S(D)}for(te=0;te<oe;te++){var ke=te+1===oe;if(se=ae[te],te===0){if(se.length===1||se[0].length>0)throw new S(j);se[1]=""}if(ke){if(se.length===1||F(M,se[se.length-1]))throw new S($);se[se.length-2]="",se[se.length-1]=""}for(var Ue=2;Ue<se.length;Ue+=2){var Ne=se[Ue],Ye=Ue+1===se.length&&!ke,lt=F(k,Ne)[0];if(!Ye&&lt.length===Ne.length){se[Ue]="";continue}de=W(lt,de)}}var Ve=de?de.length:0;for(te=0;te<oe;te++){for(se=ae[te],re=se[0],he=1;he<se.length;he+=2)re+=se[he]+O(se[he+1],Ve);ne[te]=re}return ne},W=function(X,Z){if(Z===void 0||X===Z)return X;for(var oe=0,ae=B(X.length,Z.length);oe<ae&&T(X,oe)===T(Z,oe);oe++);return O(X,0,oe)},z=function(X){for(var Z=0,oe=X.length,ae=x(oe);Z<oe;Z++)ae[Z]=f(X[Z]);return ae},V=function(X){return r(function(Z){var oe=u(arguments);return oe[0]=Q(o(Z)),i(X,this,oe)},"")},G=V(A);return t({target:"String",stat:!0,forced:!0},{dedent:function(Z){return o(Z),s(Z)?V(Z):i(G,this,arguments)}}),OCe}var kCe={},UCe;function uFt(){return UCe||(UCe=1,$Le()),kCe}var DCe={},jCe;function dFt(){return jCe||(jCe=1,HLe()),DCe}var LCe={},NCe;function AFt(){return NCe||(NCe=1,_z()),LCe}var $Ce={},QCe;function fFt(){return QCe||(QCe=1,zLe()),$Ce}var HCe={},qCe;function hFt(){if(qCe)return HCe;qCe=1;var e=ht(),t=ii(),r=vn().f,n=Oo().f,i=e.Symbol;if(t("asyncDispose"),i){var o=n(i,"asyncDispose");o.enumerable&&o.configurable&&o.writable&&r(i,"asyncDispose",{value:o.value,enumerable:!1,configurable:!1,writable:!1})}return HCe}var zCe={},KCe;function pFt(){if(KCe)return zCe;KCe=1;var e=ii();return e("customMatcher"),zCe}var WCe={},VCe;function gFt(){if(VCe)return WCe;VCe=1;var e=ht(),t=ii(),r=vn().f,n=Oo().f,i=e.Symbol;if(t("dispose"),i){var o=n(i,"dispose");o.enumerable&&o.configurable&&o.writable&&r(i,"dispose",{value:o.value,enumerable:!1,configurable:!1,writable:!1})}return WCe}var GCe={},Y$,YCe;function yNe(){if(YCe)return Y$;YCe=1;var e=Vt(),t=Qe(),r=e("Symbol"),n=r.keyFor,i=t(r.prototype.valueOf);return Y$=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Y$}var XCe;function mFt(){if(XCe)return GCe;XCe=1;var e=J(),t=yNe();return e({target:"Symbol",stat:!0},{isRegisteredSymbol:t}),GCe}var JCe={},ZCe;function vFt(){if(ZCe)return JCe;ZCe=1;var e=J(),t=yNe();return e({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:t}),JCe}var e_e={},X$,t_e;function wNe(){if(t_e)return X$;t_e=1;for(var e=mf(),t=Vt(),r=Qe(),n=gf(),i=qt(),o=t("Symbol"),a=o.isWellKnownSymbol,s=t("Object","getOwnPropertyNames"),l=r(o.prototype.valueOf),c=e("wks"),u=0,d=s(o),A=d.length;u<A;u++)try{var f=d[u];n(o[f])&&i(f)}catch{}return X$=function(p){if(a&&a(p))return!0;try{for(var v=l(p),y=0,b=s(c),x=b.length;y<x;y++)if(c[b[y]]==v)return!0}catch{}return!1},X$}var r_e;function yFt(){if(r_e)return e_e;r_e=1;var e=J(),t=wNe();return e({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:t}),e_e}var n_e={},i_e;function wFt(){if(i_e)return n_e;i_e=1;var e=J(),t=wNe();return e({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:t}),n_e}var o_e={},a_e;function bFt(){if(a_e)return o_e;a_e=1;var e=ii();return e("matcher"),o_e}var s_e={},l_e;function xFt(){if(l_e)return s_e;l_e=1;var e=ii();return e("metadata"),s_e}var c_e={},u_e;function SFt(){if(u_e)return c_e;u_e=1;var e=ii();return e("metadataKey"),c_e}var d_e={},A_e;function CFt(){if(A_e)return d_e;A_e=1;var e=ii();return e("observable"),d_e}var f_e={},h_e;function _Ft(){if(h_e)return f_e;h_e=1;var e=ii();return e("patternMatch"),f_e}var p_e={},g_e;function EFt(){if(g_e)return p_e;g_e=1;var e=ii();return e("replaceAll"),p_e}var m_e={},v_e;function IFt(){if(v_e)return m_e;v_e=1;var e=Vt(),t=mP(),r=iNe(),n=cr(),i=xf(),o=n.aTypedArrayConstructor,a=n.exportTypedArrayStaticMethod;return a("fromAsync",function(l){var c=this,u=arguments.length,d=u>1?arguments[1]:void 0,A=u>2?arguments[2]:void 0;return new(e("Promise"))(function(f){t(c),f(r(l,d,A))}).then(function(f){return i(o(c),f)})},!0),m_e}var y_e={},w_e;function BFt(){return w_e||(w_e=1,XLe()),y_e}var b_e={},x_e;function PFt(){if(x_e)return b_e;x_e=1;var e=cr(),t=Ti().filterReject,r=_K(),n=e.aTypedArray,i=e.exportTypedArrayMethod;return i("filterOut",function(a){var s=t(n(this),a,arguments.length>1?arguments[1]:void 0);return r(this,s)},!0),b_e}var S_e={},C_e;function TFt(){if(C_e)return S_e;C_e=1;var e=cr(),t=Ti().filterReject,r=_K(),n=e.aTypedArray,i=e.exportTypedArrayMethod;return i("filterReject",function(a){var s=t(n(this),a,arguments.length>1?arguments[1]:void 0);return r(this,s)},!0),S_e}var __e={},E_e;function OFt(){return E_e||(E_e=1,JLe()),__e}var I_e={},B_e;function RFt(){return B_e||(B_e=1,ZLe()),I_e}var P_e={},T_e;function MFt(){if(T_e)return P_e;T_e=1;var e=cr(),t=IK(),r=e.aTypedArray,n=e.getTypedArrayConstructor,i=e.exportTypedArrayMethod;return i("groupBy",function(a){var s=arguments.length>1?arguments[1]:void 0;return t(r(this),a,s,n)},!0),P_e}var O_e={},R_e;function FFt(){return R_e||(R_e=1,eNe()),O_e}var M_e={},F_e;function kFt(){return F_e||(F_e=1,tNe()),M_e}var k_e={},U_e;function UFt(){if(U_e)return k_e;U_e=1;var e=cr(),t=Tr(),r=CK(),n=_u(),i=xP(),o=Dn(),a=e.aTypedArray,s=e.getTypedArrayConstructor,l=e.exportTypedArrayMethod,c=Math.max,u=Math.min;return l("toSpliced",function(A,f){var h=a(this),p=s(h),v=t(h),y=n(A,v),b=arguments.length,x=0,S,C,_,B,T,O,P;if(b===0)S=C=0;else if(b===1)S=0,C=v-y;else if(C=u(c(o(f),0),v-y),S=b-2,S){B=new p(S),_=r(B);for(var F=2;F<b;F++)T=arguments[F],B[F-2]=_?i(T):+T}for(O=v+S-C,P=new p(O);x<y;x++)P[x]=h[x];for(;x<y+S;x++)P[x]=B[x-y];for(;x<O;x++)P[x]=h[x+C-S];return P},!0),k_e}var D_e={},j_e;function DFt(){if(j_e)return D_e;j_e=1;var e=Qe(),t=cr(),r=xf(),n=BK(),i=t.aTypedArray,o=t.getTypedArrayConstructor,a=t.exportTypedArrayMethod,s=e(n);return a("uniqueBy",function(c){return i(this),r(o(this),s(this,c))},!0),D_e}var L_e={},N_e;function jFt(){return N_e||(N_e=1,rNe()),L_e}var $_e={},J$,Q_e;function bNe(){if(Q_e)return J$;Q_e=1;var e=Jt(),t=String,r=TypeError;return J$=function(n){if(n===void 0||e(n))return n;throw new r(t(n)+" is not an object or undefined")},J$}var Z$,H_e;function EP(){if(H_e)return Z$;H_e=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e+"+/",r=e+"-_",n=function(i){for(var o={},a=0;a<64;a++)o[i.charAt(a)]=a;return o};return Z$={i2c:t,c2i:n(t),i2cUrl:r,c2iUrl:n(r)},Z$}var e4,q_e;function xNe(){if(q_e)return e4;q_e=1;var e=TypeError;return e4=function(t){var r=t&&t.alphabet;if(r===void 0||r==="base64"||r==="base64url")return r||"base64";throw new e("Incorrect `alphabet` option")},e4}var t4,z_e;function SNe(){if(z_e)return t4;z_e=1;var e=ht(),t=Qe(),r=bNe(),n=bP(),i=ar(),o=EP(),a=xNe(),s=Yb(),l=o.c2i,c=o.c2iUrl,u=e.SyntaxError,d=e.TypeError,A=t("".charAt),f=function(v,y){for(var b=v.length;y<b;y++){var x=A(v,y);if(x!==" "&&x!=="	"&&x!==`
`&&x!=="\f"&&x!=="\r")break}return y},h=function(v,y,b){var x=v.length;x<4&&(v+=x===2?"AA":"A");var S=(y[A(v,0)]<<18)+(y[A(v,1)]<<12)+(y[A(v,2)]<<6)+y[A(v,3)],C=[S>>16&255,S>>8&255,S&255];if(x===2){if(b&&C[1]!==0)throw new u("Extra bits");return[C[0]]}if(x===3){if(b&&C[2]!==0)throw new u("Extra bits");return[C[0],C[1]]}return C},p=function(v,y,b){for(var x=y.length,S=0;S<x;S++)v[b+S]=y[S];return b+x};return t4=function(v,y,b,x){n(v),r(y);var S=a(y)==="base64"?l:c,C=y?y.lastChunkHandling:void 0;if(C===void 0&&(C="loose"),C!=="loose"&&C!=="strict"&&C!=="stop-before-partial")throw new d("Incorrect `lastChunkHandling` option");b&&s(b.buffer);var _=b||[],B=0,T=0,O="",P=0;if(x)for(;;){if(P=f(v,P),P===v.length){if(O.length>0){if(C==="stop-before-partial")break;if(C==="loose"){if(O.length===1)throw new u("Malformed padding: exactly one additional character");B=p(_,h(O,S,!1),B)}else throw new u("Missing padding")}T=v.length;break}var F=A(v,P);if(++P,F==="="){if(O.length<2)throw new u("Padding is too early");if(P=f(v,P),O.length===2){if(P===v.length){if(C==="stop-before-partial")break;throw new u("Malformed padding: only one =")}A(v,P)==="="&&(++P,P=f(v,P))}if(P<v.length)throw new u("Unexpected character after padding");B=p(_,h(O,S,C==="strict"),B),T=v.length;break}if(!i(S,F))throw new u("Unexpected character");var U=x-B;if(U===1&&O.length===2||U===2&&O.length===3||(O+=F,O.length===4&&(B=p(_,h(O,S,!1),B),O="",T=P,B===x)))break}return{bytes:_,read:T,written:B}},t4}var K_e;function LFt(){if(K_e)return $_e;K_e=1;var e=J(),t=ht(),r=xf(),n=SNe(),i=t.Uint8Array;return i&&e({target:"Uint8Array",stat:!0},{fromBase64:function(a){var s=n(a,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return r(i,s.bytes)}}),$_e}var W_e={},r4,V_e;function CNe(){if(V_e)return r4;V_e=1;var e=ht(),t=Qe(),r=e.Uint8Array,n=e.SyntaxError,i=e.parseInt,o=Math.min,a=/[^\da-f]/i,s=t(a.exec),l=t("".slice);return r4=function(c,u){var d=c.length;if(d%2!==0)throw new n("String should be an even number of characters");for(var A=u?o(u.length,d/2):d/2,f=u||new r(A),h=0,p=0;p<A;){var v=l(c,h,h+=2);if(s(a,v))throw new n("String should only contain hex characters");f[p++]=i(v,16)}return{bytes:f,read:h}},r4}var G_e;function NFt(){if(G_e)return W_e;G_e=1;var e=J(),t=ht(),r=bP(),n=CNe();return t.Uint8Array&&e({target:"Uint8Array",stat:!0},{fromHex:function(o){return n(r(o)).bytes}}),W_e}var Y_e={},n4,X_e;function IP(){if(X_e)return n4;X_e=1;var e=ns(),t=TypeError;return n4=function(r){if(e(r)==="Uint8Array")return r;throw new t("Argument is not an Uint8Array")},n4}var J_e;function $Ft(){if(J_e)return Y_e;J_e=1;var e=J(),t=ht(),r=SNe(),n=IP(),i=t.Uint8Array;return i&&e({target:"Uint8Array",proto:!0},{setFromBase64:function(a){n(this);var s=r(a,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:s.read,written:s.written}}}),Y_e}var Z_e={},eEe;function QFt(){if(eEe)return Z_e;eEe=1;var e=J(),t=ht(),r=bP(),n=IP(),i=Yb(),o=CNe();return t.Uint8Array&&e({target:"Uint8Array",proto:!0},{setFromHex:function(s){n(this),r(s),i(this.buffer);var l=o(s,this).read;return{read:l,written:l/2}}}),Z_e}var tEe={},rEe;function HFt(){if(rEe)return tEe;rEe=1;var e=J(),t=ht(),r=Qe(),n=bNe(),i=IP(),o=Yb(),a=EP(),s=xNe(),l=a.i2c,c=a.i2cUrl,u=r("".charAt);return t.Uint8Array&&e({target:"Uint8Array",proto:!0},{toBase64:function(){var A=i(this),f=arguments.length?n(arguments[0]):void 0,h=s(f)==="base64"?l:c,p=!!f&&!!f.omitPadding;o(this.buffer);for(var v="",y=0,b=A.length,x,S=function(C){return u(h,x>>6*C&63)};y+2<b;y+=3)x=(A[y]<<16)+(A[y+1]<<8)+A[y+2],v+=S(3)+S(2)+S(1)+S(0);return y+2===b?(x=(A[y]<<16)+(A[y+1]<<8),v+=S(3)+S(2)+S(1)+(p?"":"=")):y+1===b&&(x=A[y]<<16,v+=S(3)+S(2)+(p?"":"==")),v}}),tEe}var nEe={},iEe;function qFt(){if(iEe)return nEe;iEe=1;var e=J(),t=ht(),r=Qe(),n=IP(),i=Yb(),o=r(1 .toString);return t.Uint8Array&&e({target:"Uint8Array",proto:!0},{toHex:function(){n(this),i(this.buffer);for(var s="",l=0,c=this.length;l<c;l++){var u=o(this[l],16);s+=u.length===1?"0"+u:u}return s}}),nEe}var oEe={},i4,aEe;function BP(){if(aEe)return i4;aEe=1;var e=_f().has;return i4=function(t){return e(t),t},i4}var sEe;function zFt(){if(sEe)return oEe;sEe=1;var e=J(),t=BP(),r=_f().remove;return e({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var i=t(this),o=!0,a,s=0,l=arguments.length;s<l;s++)a=r(i,arguments[s]),o=o&&a;return!!o}}),oEe}var lEe={},cEe;function KFt(){if(cEe)return lEe;cEe=1;var e=J(),t=_f(),r=CP();return e({target:"WeakMap",stat:!0,forced:!0},{from:r(t.WeakMap,t.set,!0)}),lEe}var uEe={},dEe;function WFt(){if(dEe)return uEe;dEe=1;var e=J(),t=_f(),r=_P();return e({target:"WeakMap",stat:!0,forced:!0},{of:r(t.WeakMap,t.set,!0)}),uEe}var AEe={},fEe;function VFt(){if(fEe)return AEe;fEe=1;var e=J(),t=BP(),r=_f(),n=r.get,i=r.has,o=r.set;return e({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(s,l){var c=t(this),u,d;return i(c,s)?(u=n(c,s),"update"in l&&(u=l.update(u,s,c),o(c,s,u)),u):(d=l.insert(s,c),o(c,s,d),d)}}),AEe}var hEe={},pEe;function GFt(){if(pEe)return hEe;pEe=1;var e=J(),t=BP(),r=_f(),n=r.get,i=r.has,o=r.set;return e({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsert:function(s,l){return i(t(this),s)?n(this,s):(o(this,s,l),l)}}),hEe}var gEe={},mEe;function YFt(){if(mEe)return gEe;mEe=1;var e=J(),t=Gt(),r=BP(),n=_f(),i=n.get,o=n.has,a=n.set;return e({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(l,c){if(r(this),t(c),o(this,l))return i(this,l);a(this,l);var u=c(l);return a(this,l,u),u}}),gEe}var vEe={},yEe;function XFt(){if(yEe)return vEe;yEe=1;var e=J(),t=TK();return e({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:t}),vEe}var wEe={},o4,bEe;function nx(){if(bEe)return o4;bEe=1;var e=Qe(),t=WeakSet.prototype;return o4={WeakSet,add:e(t.add),has:e(t.has),remove:e(t.delete)},o4}var a4,xEe;function _Ne(){if(xEe)return a4;xEe=1;var e=nx().has;return a4=function(t){return e(t),t},a4}var SEe;function JFt(){if(SEe)return wEe;SEe=1;var e=J(),t=_Ne(),r=nx().add;return e({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var i=t(this),o=0,a=arguments.length;o<a;o++)r(i,arguments[o]);return i}}),wEe}var CEe={},_Ee;function ZFt(){if(_Ee)return CEe;_Ee=1;var e=J(),t=_Ne(),r=nx().remove;return e({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var i=t(this),o=!0,a,s=0,l=arguments.length;s<l;s++)a=r(i,arguments[s]),o=o&&a;return!!o}}),CEe}var EEe={},IEe;function ekt(){if(IEe)return EEe;IEe=1;var e=J(),t=nx(),r=CP();return e({target:"WeakSet",stat:!0,forced:!0},{from:r(t.WeakSet,t.add,!1)}),EEe}var BEe={},PEe;function tkt(){if(PEe)return BEe;PEe=1;var e=J(),t=nx(),r=_P();return e({target:"WeakSet",stat:!0,forced:!0},{of:r(t.WeakSet,t.add,!1)}),BEe}var TEe={},OEe;function rkt(){if(OEe)return TEe;OEe=1;var e=J(),t=ht(),r=Vt(),n=Qe(),i=gt(),o=rt(),a=er(),s=El(),l=EP().c2i,c=/[^\d+/a-z]/i,u=/[\t\n\f\r ]+/g,d=/[=]{1,2}$/,A=r("atob"),f=String.fromCharCode,h=n("".charAt),p=n("".replace),v=n(c.exec),y=!!A&&!o(function(){return A("aGk=")!=="hi"}),b=y&&o(function(){return A(" ")!==""}),x=y&&!o(function(){A("a")}),S=y&&!o(function(){A()}),C=y&&A.length!==1,_=!y||b||x||S||C;return e({global:!0,bind:!0,enumerable:!0,forced:_},{atob:function(T){if(s(arguments.length,1),y&&!b&&!x)return i(A,t,T);var O=p(a(T),u,""),P="",F=0,U=0,k,M,D;if(O.length%4===0&&(O=p(O,d,"")),k=O.length,k%4===1||v(c,O))throw new(r("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;F<k;)M=h(O,F++),D=U%4?D*64+l[M]:l[M],U++%4&&(P+=f(255&D>>(-2*U&6)));return P}}),TEe}var REe={},MEe;function nkt(){if(MEe)return REe;MEe=1;var e=J(),t=ht(),r=Vt(),n=Qe(),i=gt(),o=rt(),a=er(),s=El(),l=EP().i2c,c=r("btoa"),u=n("".charAt),d=n("".charCodeAt),A=!!c&&!o(function(){return c("hi")!=="aGk="}),f=A&&!o(function(){c()}),h=A&&o(function(){return c(null)!=="bnVsbA=="}),p=A&&c.length!==1;return e({global:!0,bind:!0,enumerable:!0,forced:!A||f||h||p},{btoa:function(y){if(s(arguments.length,1),A)return i(c,t,a(y));for(var b=a(y),x="",S=0,C=l,_,B;u(b,S)||(C="=",S%1);){if(B=d(b,S+=3/4),B>255)throw new(r("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");_=_<<8|B,x+=u(C,63&_>>8-S%1*8)}return x}}),REe}var FEe={},s4,kEe;function ENe(){return kEe||(kEe=1,s4={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),s4}var l4,UEe;function INe(){if(UEe)return l4;UEe=1;var e=kB(),t=e("span").classList,r=t&&t.constructor&&t.constructor.prototype;return l4=r===Object.prototype?void 0:r,l4}var DEe;function ikt(){if(DEe)return FEe;DEe=1;var e=ht(),t=ENe(),r=INe(),n=fje(),i=Gi(),o=function(s){if(s&&s.forEach!==n)try{i(s,"forEach",n)}catch{s.forEach=n}};for(var a in t)t[a]&&o(e[a]&&e[a].prototype);return o(r),FEe}var jEe={},LEe;function okt(){if(LEe)return jEe;LEe=1;var e=ht(),t=ENe(),r=INe(),n=aP(),i=Gi(),o=os(),a=qt(),s=a("iterator"),l=n.values,c=function(d,A){if(d){if(d[s]!==l)try{i(d,s,l)}catch{d[s]=l}if(o(d,A,!0),t[A]){for(var f in n)if(d[f]!==n[f])try{i(d,f,n[f])}catch{d[f]=n[f]}}}};for(var u in t)c(e[u]&&e[u].prototype,u);return c(r,"DOMTokenList"),jEe}var NEe={},c4,$Ee;function BNe(){return $Ee||($Ee=1,c4={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}),c4}var QEe;function akt(){if(QEe)return NEe;QEe=1;var e=J(),t=Vt(),r=Fje(),n=rt(),i=Pi(),o=Fs(),a=vn().f,s=Zr(),l=jn(),c=ar(),u=Oa(),d=pt(),A=lje(),f=uv(),h=BNe(),p=tK(),v=Vr(),y=Nt(),b=Ar(),x="DOMException",S="DATA_CLONE_ERR",C=t("Error"),_=t(x)||function(){try{var ne=t("MessageChannel")||r("worker_threads").MessageChannel;new ne().port1.postMessage(new WeakMap)}catch(te){if(te.name===S&&te.code===25)return te.constructor}}(),B=_&&_.prototype,T=C.prototype,O=v.set,P=v.getterFor(x),F="stack"in new C(x),U=function(ne){return c(h,ne)&&h[ne].m?h[ne].c:0},k=function(){u(this,M);var te=arguments.length,se=f(te<1?void 0:arguments[0]),de=f(te<2?void 0:arguments[1],"Error"),re=U(de);if(O(this,{type:x,name:de,message:se,code:re}),y||(this.name=de,this.message=se,this.code=re),F){var he=new C(se);he.name=x,a(this,"stack",o(1,p(he.stack,1)))}},M=k.prototype=i(T),D=function(ne){return{enumerable:!0,configurable:!0,get:ne}},j=function(ne){return D(function(){return P(this)[ne]})};y&&(l(M,"code",j("code")),l(M,"message",j("message")),l(M,"name",j("name"))),a(M,"constructor",o(1,k));var $=n(function(){return!(new _ instanceof C)}),Q=$||n(function(){return T.toString!==A||String(new _(1,2))!=="2: 1"}),H=$||n(function(){return new _(1,"DataCloneError").code!==25}),W=$||_[S]!==25||B[S]!==25,z=b?Q||H||W:$;e({global:!0,constructor:!0,forced:z},{DOMException:z?k:_});var V=t(x),G=V.prototype;Q&&(b||_===V)&&s(G,"toString",A),H&&y&&_===V&&l(G,"code",D(function(){return U(d(this).name)}));for(var X in h)if(c(h,X)){var Z=h[X],oe=Z.s,ae=o(6,Z.c);c(V,oe)||a(V,oe,ae),c(G,oe)||a(G,oe,ae)}return NEe}var HEe={},qEe;function skt(){if(qEe)return HEe;qEe=1;var e=J(),t=ht(),r=Vt(),n=Fs(),i=vn().f,o=ar(),a=Oa(),s=sp(),l=uv(),c=BNe(),u=tK(),d=Nt(),A=Ar(),f="DOMException",h=r("Error"),p=r(f),v=function(){a(this,y);var k=arguments.length,M=l(k<1?void 0:arguments[0]),D=l(k<2?void 0:arguments[1],"Error"),j=new p(M,D),$=new h(M);return $.name=f,i(j,"stack",n(1,u($.stack,1))),s(j,this,v),j},y=v.prototype=p.prototype,b="stack"in new h(f),x="stack"in new p(1,2),S=p&&d&&Object.getOwnPropertyDescriptor(t,f),C=!!S&&!(S.writable&&S.configurable),_=b&&!C&&!x;e({global:!0,constructor:!0,forced:A||_},{DOMException:_?v:p});var B=r(f),T=B.prototype;if(T.constructor!==B){A||i(T,"constructor",n(1,B));for(var O in c)if(o(c,O)){var P=c[O],F=P.s;o(B,F)||i(B,F,n(6,P.c))}}return HEe}var zEe={},KEe;function lkt(){if(KEe)return zEe;KEe=1;var e=Vt(),t=os(),r="DOMException";return t(e(r),r),zEe}var WEe={},VEe={},GEe;function ckt(){if(GEe)return VEe;GEe=1;var e=J(),t=ht(),r=yP().clear;return e({global:!0,bind:!0,enumerable:!0,forced:t.clearImmediate!==r},{clearImmediate:r}),VEe}var YEe={},u4,XEe;function RK(){if(XEe)return u4;XEe=1;var e=ht(),t=Pa(),r=ir(),n=lP(),i=Su(),o=Ds(),a=El(),s=e.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=e.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return u4=function(c,u){var d=u?2:1;return l?function(A,f){var h=a(arguments.length,1)>d,p=r(A)?A:s(A),v=h?o(arguments,d):[],y=h?function(){t(p,this,v)}:p;return u?c(y,f):c(y)}:c},u4}var JEe;function ukt(){if(JEe)return YEe;JEe=1;var e=J(),t=ht(),r=yP().set,n=RK(),i=t.setImmediate?n(r,!1):r;return e({global:!0,bind:!0,enumerable:!0,forced:t.setImmediate!==i},{setImmediate:i}),YEe}var ZEe;function dkt(){return ZEe||(ZEe=1,ckt(),ukt()),WEe}var eIe={},tIe;function Akt(){if(tIe)return eIe;tIe=1;var e=J(),t=ht(),r=mLe(),n=Gt(),i=El(),o=rt(),a=Nt(),s=o(function(){return a&&Object.getOwnPropertyDescriptor(t,"queueMicrotask").value.length!==1});return e({global:!0,enumerable:!0,dontCallGetSet:!0,forced:s},{queueMicrotask:function(c){i(arguments.length,1),r(n(c))}}),eIe}var rIe={},nIe;function fkt(){if(nIe)return rIe;nIe=1;var e=J(),t=ht(),r=jn(),n=Nt(),i=TypeError,o=Object.defineProperty,a=t.self!==t;try{if(n){var s=Object.getOwnPropertyDescriptor(t,"self");(a||!s||!s.get||!s.enumerable)&&r(t,"self",{get:function(){return t},set:function(c){if(this!==t)throw new i("Illegal invocation");o(t,"self",{value:c,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else e({global:!0,simple:!0,forced:a},{self:t})}catch{}return rIe}var iIe={},oIe;function hkt(){if(oIe)return iIe;oIe=1;var e=Ar(),t=J(),r=ht(),n=Vt(),i=Qe(),o=rt(),a=np(),s=ir(),l=Iu(),c=Wi(),u=Jt(),d=gf(),A=oi(),f=pt(),h=ns(),p=ar(),v=vc(),y=Gi(),b=Tr(),x=El(),S=Qb(),C=uo(),_=Fo(),B=js(),T=kje(),O=aje(),P=fK(),F=r.Object,U=r.Array,k=r.Date,M=r.Error,D=r.TypeError,j=r.PerformanceMark,$=n("DOMException"),Q=C.Map,H=C.has,W=C.get,z=C.set,V=_.Set,G=_.add,X=_.has,Z=n("Object","keys"),oe=i([].push),ae=i((!0).valueOf),ne=i(1 .valueOf),te=i("".valueOf),se=i(k.prototype.getTime),de=a("structuredClone"),re="DataCloneError",he="Transferring",ye=function(ee){return!o(function(){var ce=new r.Set([7]),pe=ee(ce),xe=ee(F(7));return pe===ce||!pe.has(7)||!u(xe)||+xe!=7})&&ee},ke=function(ee,ce){return!o(function(){var pe=new ce,xe=ee({a:pe,b:pe});return!(xe&&xe.a===xe.b&&xe.a instanceof ce&&xe.a.stack===pe.stack)})},Ue=function(ee){return!o(function(){var ce=ee(new r.AggregateError([1],de,{cause:3}));return ce.name!=="AggregateError"||ce.errors[0]!==1||ce.message!==de||ce.cause!==3})},Ne=r.structuredClone,Ye=e||!ke(Ne,M)||!ke(Ne,$)||!Ue(Ne),lt=!Ne&&ye(function(ee){return new j(de,{detail:ee}).detail}),Ve=ye(Ne)||lt,Te=function(ee){throw new $("Uncloneable type: "+ee,re)},we=function(ee,ce){throw new $((ce||"Cloning")+" of "+ee+" cannot be properly polyfilled in this engine",re)},Be=function(ee,ce){return Ve||we(ce),Ve(ee)},Ze=function(){var ee;try{ee=new r.DataTransfer}catch{try{ee=new r.ClipboardEvent("").clipboardData}catch{}}return ee&&ee.items&&ee.files?ee:null},me=function(ee,ce,pe){if(H(ce,ee))return W(ce,ee);var xe=pe||h(ee),$e,ve,ot,xt,De,We;if(xe==="SharedArrayBuffer")Ve?$e=Ve(ee):$e=ee;else{var Je=r.DataView;!Je&&!s(ee.slice)&&we("ArrayBuffer");try{if(s(ee.slice)&&!ee.resizable)$e=ee.slice(0);else for(ve=ee.byteLength,ot=("maxByteLength"in ee)?{maxByteLength:ee.maxByteLength}:void 0,$e=new ArrayBuffer(ve,ot),xt=new Je(ee),De=new Je($e),We=0;We<ve;We++)De.setUint8(We,xt.getUint8(We))}catch{throw new $("ArrayBuffer is detached",re)}}return z(ce,ee,$e),$e},Se=function(ee,ce,pe,xe,$e){var ve=r[ce];return u(ve)||we(ce),new ve(me(ee.buffer,$e),pe,xe)},Oe=function(ee,ce){if(d(ee)&&Te("Symbol"),!u(ee))return ee;if(ce){if(H(ce,ee))return W(ce,ee)}else ce=new Q;var pe=h(ee),xe,$e,ve,ot,xt,De,We,Je;switch(pe){case"Array":ve=U(b(ee));break;case"Object":ve={};break;case"Map":ve=new Q;break;case"Set":ve=new V;break;case"RegExp":ve=new RegExp(ee.source,S(ee));break;case"Error":switch($e=ee.name,$e){case"AggregateError":ve=new(n($e))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":ve=new(n($e));break;case"CompileError":case"LinkError":case"RuntimeError":ve=new(n("WebAssembly",$e));break;default:ve=new M}break;case"DOMException":ve=new $(ee.message,ee.name);break;case"ArrayBuffer":case"SharedArrayBuffer":ve=me(ee,ce,pe);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":De=pe==="DataView"?ee.byteLength:ee.length,ve=Se(ee,pe,ee.byteOffset,De,ce);break;case"DOMQuad":try{ve=new DOMQuad(Oe(ee.p1,ce),Oe(ee.p2,ce),Oe(ee.p3,ce),Oe(ee.p4,ce))}catch{ve=Be(ee,pe)}break;case"File":if(Ve)try{ve=Ve(ee),h(ve)!==pe&&(ve=void 0)}catch{}if(!ve)try{ve=new File([ee],ee.name,ee)}catch{}ve||we(pe);break;case"FileList":if(ot=Ze(),ot){for(xt=0,De=b(ee);xt<De;xt++)ot.items.add(Oe(ee[xt],ce));ve=ot.files}else ve=Be(ee,pe);break;case"ImageData":try{ve=new ImageData(Oe(ee.data,ce),ee.width,ee.height,{colorSpace:ee.colorSpace})}catch{ve=Be(ee,pe)}break;default:if(Ve)ve=Ve(ee);else switch(pe){case"BigInt":ve=F(ee.valueOf());break;case"Boolean":ve=F(ae(ee));break;case"Number":ve=F(ne(ee));break;case"String":ve=F(te(ee));break;case"Date":ve=new k(se(ee));break;case"Blob":try{ve=ee.slice(0,ee.size,ee.type)}catch{we(pe)}break;case"DOMPoint":case"DOMPointReadOnly":xe=r[pe];try{ve=xe.fromPoint?xe.fromPoint(ee):new xe(ee.x,ee.y,ee.z,ee.w)}catch{we(pe)}break;case"DOMRect":case"DOMRectReadOnly":xe=r[pe];try{ve=xe.fromRect?xe.fromRect(ee):new xe(ee.x,ee.y,ee.width,ee.height)}catch{we(pe)}break;case"DOMMatrix":case"DOMMatrixReadOnly":xe=r[pe];try{ve=xe.fromMatrix?xe.fromMatrix(ee):new xe(ee)}catch{we(pe)}break;case"AudioData":case"VideoFrame":s(ee.clone)||we(pe);try{ve=ee.clone()}catch{Te(pe)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":we(pe);default:Te(pe)}}switch(z(ce,ee,ve),pe){case"Array":case"Object":for(We=Z(ee),xt=0,De=b(We);xt<De;xt++)Je=We[xt],v(ve,Je,Oe(ee[Je],ce));break;case"Map":ee.forEach(function(nt,At){z(ve,Oe(At,ce),Oe(nt,ce))});break;case"Set":ee.forEach(function(nt){G(ve,Oe(nt,ce))});break;case"Error":y(ve,"message",Oe(ee.message,ce)),p(ee,"cause")&&y(ve,"cause",Oe(ee.cause,ce)),$e==="AggregateError"?ve.errors=Oe(ee.errors,ce):$e==="SuppressedError"&&(ve.error=Oe(ee.error,ce),ve.suppressed=Oe(ee.suppressed,ce));case"DOMException":O&&y(ve,"stack",Oe(ee.stack,ce))}return ve},it=function(ee,ce){if(!u(ee))throw new D("Transfer option cannot be converted to a sequence");var pe=[];A(ee,function(At){oe(pe,f(At))});for(var xe=0,$e=b(pe),ve=new V,ot,xt,De,We,Je,nt;xe<$e;){if(ot=pe[xe++],xt=h(ot),xt==="ArrayBuffer"?X(ve,ot):H(ce,ot))throw new $("Duplicate transferable",re);if(xt==="ArrayBuffer"){G(ve,ot);continue}if(P)We=Ne(ot,{transfer:[ot]});else switch(xt){case"ImageBitmap":De=r.OffscreenCanvas,l(De)||we(xt,he);try{Je=new De(ot.width,ot.height),nt=Je.getContext("bitmaprenderer"),nt.transferFromImageBitmap(ot),We=Je.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!s(ot.clone)||!s(ot.close))&&we(xt,he);try{We=ot.clone(),ot.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":we(xt,he)}if(We===void 0)throw new $("This object cannot be transferred: "+xt,re);z(ce,ot,We)}return ve},ft=function(ee){B(ee,function(ce){P?Ve(ce,{transfer:[ce]}):s(ce.transfer)?ce.transfer():T?T(ce):we("ArrayBuffer",he)})};return t({global:!0,enumerable:!0,sham:!P,forced:Ye},{structuredClone:function(ce){var pe=x(arguments.length,1)>1&&!c(arguments[1])?f(arguments[1]):void 0,xe=pe?pe.transfer:void 0,$e,ve;xe!==void 0&&($e=new Q,ve=it(xe,$e));var ot=Oe(ce,$e);return ve&&ft(ve),ot}}),iIe}var aIe={},sIe={},lIe;function pkt(){if(lIe)return sIe;lIe=1;var e=J(),t=ht(),r=RK(),n=r(t.setInterval,!0);return e({global:!0,bind:!0,forced:t.setInterval!==n},{setInterval:n}),sIe}var cIe={},uIe;function gkt(){if(uIe)return cIe;uIe=1;var e=J(),t=ht(),r=RK(),n=r(t.setTimeout,!0);return e({global:!0,bind:!0,forced:t.setTimeout!==n},{setTimeout:n}),cIe}var dIe;function mkt(){return dIe||(dIe=1,pkt(),gkt()),aIe}var AIe={},fIe={},d4,hIe;function PP(){if(hIe)return d4;hIe=1;var e=rt(),t=qt(),r=Nt(),n=Ar(),i=t("iterator");return d4=!e(function(){var o=new URL("b?a=1&b=2&c=3","https://a"),a=o.searchParams,s=new URLSearchParams("a=1&a=2&b=3"),l="";return o.pathname="c%20d",a.forEach(function(c,u){a.delete("b"),l+=u+c}),s.delete("a",2),s.delete("b",void 0),n&&(!o.toJSON||!s.has("a",1)||s.has("a",2)||!s.has("a",void 0)||s.has("b"))||!a.size&&(n||!r)||!a.sort||o.href!=="https://a/c%20d?a=1&c=3"||a.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!a[i]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||l!=="a1c3"||new URL("https://x",void 0).host!=="x"}),d4}var A4,pIe;function vkt(){if(pIe)return A4;pIe=1;var e=Qe(),t=2147483647,r=36,n=1,i=26,o=38,a=700,s=72,l=128,c="-",u=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,A="Overflow: input needs wider integers to process",f=r-n,h=RangeError,p=e(d.exec),v=Math.floor,y=String.fromCharCode,b=e("".charCodeAt),x=e([].join),S=e([].push),C=e("".replace),_=e("".split),B=e("".toLowerCase),T=function(U){for(var k=[],M=0,D=U.length;M<D;){var j=b(U,M++);if(j>=55296&&j<=56319&&M<D){var $=b(U,M++);($&64512)===56320?S(k,((j&1023)<<10)+($&1023)+65536):(S(k,j),M--)}else S(k,j)}return k},O=function(U){return U+22+75*(U<26)},P=function(U,k,M){var D=0;for(U=M?v(U/a):U>>1,U+=v(U/k);U>f*i>>1;)U=v(U/f),D+=r;return v(D+(f+1)*U/(U+o))},F=function(U){var k=[];U=T(U);var M=U.length,D=l,j=0,$=s,Q,H;for(Q=0;Q<U.length;Q++)H=U[Q],H<128&&S(k,y(H));var W=k.length,z=W;for(W&&S(k,c);z<M;){var V=t;for(Q=0;Q<U.length;Q++)H=U[Q],H>=D&&H<V&&(V=H);var G=z+1;if(V-D>v((t-j)/G))throw new h(A);for(j+=(V-D)*G,D=V,Q=0;Q<U.length;Q++){if(H=U[Q],H<D&&++j>t)throw new h(A);if(H===D){for(var X=j,Z=r;;){var oe=Z<=$?n:Z>=$+i?i:Z-$;if(X<oe)break;var ae=X-oe,ne=r-oe;S(k,y(O(oe+ae%ne))),X=v(ae/ne),Z+=r}S(k,y(O(X))),$=P(j,G,z===W),j=0,z++}}j++,D++}return x(k,"")};return A4=function(U){var k=[],M=_(C(B(U),d,"."),"."),D,j;for(D=0;D<M.length;D++)j=M[D],S(k,p(u,j)?"xn--"+F(j):j);return x(k,".")},A4}var f4,gIe;function PNe(){if(gIe)return f4;gIe=1,aP(),NLe();var e=J(),t=ht(),r=pLe(),n=Vt(),i=gt(),o=Qe(),a=Nt(),s=PP(),l=Zr(),c=jn(),u=wc(),d=os(),A=cp(),f=Vr(),h=Oa(),p=ir(),v=ar(),y=un(),b=ns(),x=pt(),S=Jt(),C=er(),_=Pi(),B=Fs(),T=lp(),O=$d(),P=co(),F=El(),U=qt(),k=cK(),M=U("iterator"),D="URLSearchParams",j=D+"Iterator",$=f.set,Q=f.getterFor(D),H=f.getterFor(j),W=r("fetch"),z=r("Request"),V=r("Headers"),G=z&&z.prototype,X=V&&V.prototype,Z=t.TypeError,oe=t.encodeURIComponent,ae=String.fromCharCode,ne=n("String","fromCodePoint"),te=parseInt,se=o("".charAt),de=o([].join),re=o([].push),he=o("".replace),ye=o([].shift),ke=o([].splice),Ue=o("".split),Ne=o("".slice),Ye=o(/./.exec),lt=/\+/g,Ve="",Te=/^[0-9a-f]+$/i,we=function(De,We){var Je=Ne(De,We,We+2);return Ye(Te,Je)?te(Je,16):NaN},Be=function(De){for(var We=0,Je=128;Je>0&&(De&Je)!==0;Je>>=1)We++;return We},Ze=function(De){var We=null;switch(De.length){case 1:We=De[0];break;case 2:We=(De[0]&31)<<6|De[1]&63;break;case 3:We=(De[0]&15)<<12|(De[1]&63)<<6|De[2]&63;break;case 4:We=(De[0]&7)<<18|(De[1]&63)<<12|(De[2]&63)<<6|De[3]&63;break}return We>1114111?null:We},me=function(De){De=he(De,lt," ");for(var We=De.length,Je="",nt=0;nt<We;){var At=se(De,nt);if(At==="%"){if(se(De,nt+1)==="%"||nt+3>We){Je+="%",nt++;continue}var kt=we(De,nt+1);if(kt!==kt){Je+=At,nt++;continue}nt+=2;var sr=Be(kt);if(sr===0)At=ae(kt);else{if(sr===1||sr>4){Je+=Ve,nt++;continue}for(var xr=[kt],pr=1;pr<sr&&(nt++,!(nt+3>We||se(De,nt)!=="%"));){var Pn=we(De,nt+1);if(Pn!==Pn){nt+=3;break}if(Pn>191||Pn<128)break;re(xr,Pn),nt+=2,pr++}if(xr.length!==sr){Je+=Ve;continue}var ai=Ze(xr);ai===null?Je+=Ve:At=ne(ai)}}Je+=At,nt++}return Je},Se=/[!'()~]|%20/g,Oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},it=function(De){return Oe[De]},ft=function(De){return he(oe(De),Se,it)},ee=A(function(We,Je){$(this,{type:j,target:Q(We).entries,index:0,kind:Je})},D,function(){var We=H(this),Je=We.target,nt=We.index++;if(!Je||nt>=Je.length)return We.target=null,P(void 0,!0);var At=Je[nt];switch(We.kind){case"keys":return P(At.key,!1);case"values":return P(At.value,!1)}return P([At.key,At.value],!1)},!0),ce=function(De){this.entries=[],this.url=null,De!==void 0&&(S(De)?this.parseObject(De):this.parseQuery(typeof De=="string"?se(De,0)==="?"?Ne(De,1):De:C(De)))};ce.prototype={type:D,bindURL:function(De){this.url=De,this.update()},parseObject:function(De){var We=this.entries,Je=O(De),nt,At,kt,sr,xr,pr,Pn;if(Je)for(nt=T(De,Je),At=nt.next;!(kt=i(At,nt)).done;){if(sr=T(x(kt.value)),xr=sr.next,(pr=i(xr,sr)).done||(Pn=i(xr,sr)).done||!i(xr,sr).done)throw new Z("Expected sequence with length 2");re(We,{key:C(pr.value),value:C(Pn.value)})}else for(var ai in De)v(De,ai)&&re(We,{key:ai,value:C(De[ai])})},parseQuery:function(De){if(De)for(var We=this.entries,Je=Ue(De,"&"),nt=0,At,kt;nt<Je.length;)At=Je[nt++],At.length&&(kt=Ue(At,"="),re(We,{key:me(ye(kt)),value:me(de(kt,"="))}))},serialize:function(){for(var De=this.entries,We=[],Je=0,nt;Je<De.length;)nt=De[Je++],re(We,ft(nt.key)+"="+ft(nt.value));return de(We,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var pe=function(){h(this,xe);var We=arguments.length>0?arguments[0]:void 0,Je=$(this,new ce(We));a||(this.size=Je.entries.length)},xe=pe.prototype;if(u(xe,{append:function(We,Je){var nt=Q(this);F(arguments.length,2),re(nt.entries,{key:C(We),value:C(Je)}),a||this.length++,nt.updateURL()},delete:function(De){for(var We=Q(this),Je=F(arguments.length,1),nt=We.entries,At=C(De),kt=Je<2?void 0:arguments[1],sr=kt===void 0?kt:C(kt),xr=0;xr<nt.length;){var pr=nt[xr];if(pr.key===At&&(sr===void 0||pr.value===sr)){if(ke(nt,xr,1),sr!==void 0)break}else xr++}a||(this.size=nt.length),We.updateURL()},get:function(We){var Je=Q(this).entries;F(arguments.length,1);for(var nt=C(We),At=0;At<Je.length;At++)if(Je[At].key===nt)return Je[At].value;return null},getAll:function(We){var Je=Q(this).entries;F(arguments.length,1);for(var nt=C(We),At=[],kt=0;kt<Je.length;kt++)Je[kt].key===nt&&re(At,Je[kt].value);return At},has:function(We){for(var Je=Q(this).entries,nt=F(arguments.length,1),At=C(We),kt=nt<2?void 0:arguments[1],sr=kt===void 0?kt:C(kt),xr=0;xr<Je.length;){var pr=Je[xr++];if(pr.key===At&&(sr===void 0||pr.value===sr))return!0}return!1},set:function(We,Je){var nt=Q(this);F(arguments.length,1);for(var At=nt.entries,kt=!1,sr=C(We),xr=C(Je),pr=0,Pn;pr<At.length;pr++)Pn=At[pr],Pn.key===sr&&(kt?ke(At,pr--,1):(kt=!0,Pn.value=xr));kt||re(At,{key:sr,value:xr}),a||(this.size=At.length),nt.updateURL()},sort:function(){var We=Q(this);k(We.entries,function(Je,nt){return Je.key>nt.key?1:-1}),We.updateURL()},forEach:function(We){for(var Je=Q(this).entries,nt=y(We,arguments.length>1?arguments[1]:void 0),At=0,kt;At<Je.length;)kt=Je[At++],nt(kt.value,kt.key,this)},keys:function(){return new ee(this,"keys")},values:function(){return new ee(this,"values")},entries:function(){return new ee(this,"entries")}},{enumerable:!0}),l(xe,M,xe.entries,{name:"entries"}),l(xe,"toString",function(){return Q(this).serialize()},{enumerable:!0}),a&&c(xe,"size",{get:function(){return Q(this).entries.length},configurable:!0,enumerable:!0}),d(pe,D),e({global:!0,constructor:!0,forced:!s},{URLSearchParams:pe}),!s&&p(V)){var $e=o(X.has),ve=o(X.set),ot=function(De){if(S(De)){var We=De.body,Je;if(b(We)===D)return Je=De.headers?new V(De.headers):new V,$e(Je,"content-type")||ve(Je,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(De,{body:B(0,C(We)),headers:B(0,Je)})}return De};if(p(W)&&e({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(We){return W(We,arguments.length>1?ot(arguments[1]):{})}}),p(z)){var xt=function(We){return h(this,G),new z(We,arguments.length>1?ot(arguments[1]):{})};G.constructor=xt,xt.prototype=G,e({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:xt})}}return f4={URLSearchParams:pe,getState:Q},f4}var mIe;function ykt(){if(mIe)return fIe;mIe=1,QLe();var e=J(),t=Nt(),r=PP(),n=ht(),i=un(),o=Qe(),a=Zr(),s=jn(),l=Oa(),c=ar(),u=uLe(),d=hje(),A=Ds(),f=ov().codeAt,h=vkt(),p=er(),v=os(),y=El(),b=PNe(),x=Vr(),S=x.set,C=x.getterFor("URL"),_=b.URLSearchParams,B=b.getState,T=n.URL,O=n.TypeError,P=n.parseInt,F=Math.floor,U=Math.pow,k=o("".charAt),M=o(/./.exec),D=o([].join),j=o(1 .toString),$=o([].pop),Q=o([].push),H=o("".replace),W=o([].shift),z=o("".split),V=o("".slice),G=o("".toLowerCase),X=o([].unshift),Z="Invalid authority",oe="Invalid scheme",ae="Invalid host",ne="Invalid port",te=/[a-z]/i,se=/[\d+-.a-z]/i,de=/\d/,re=/^0x/i,he=/^[0-7]+$/,ye=/^\d+$/,ke=/^[\da-f]+$/i,Ue=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,Ye=/^[\u0000-\u0020]+/,lt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Ve=/[\t\n\r]/g,Te,we=function(Pe){var tt=z(Pe,"."),Fe,be,ze,$t,_t,dn,nr;if(tt.length&&tt[tt.length-1]===""&&tt.length--,Fe=tt.length,Fe>4)return Pe;for(be=[],ze=0;ze<Fe;ze++){if($t=tt[ze],$t==="")return Pe;if(_t=10,$t.length>1&&k($t,0)==="0"&&(_t=M(re,$t)?16:8,$t=V($t,_t===8?1:2)),$t==="")dn=0;else{if(!M(_t===10?ye:_t===8?he:ke,$t))return Pe;dn=P($t,_t)}Q(be,dn)}for(ze=0;ze<Fe;ze++)if(dn=be[ze],ze===Fe-1){if(dn>=U(256,5-Fe))return null}else if(dn>255)return null;for(nr=$(be),ze=0;ze<be.length;ze++)nr+=be[ze]*U(256,3-ze);return nr},Be=function(Pe){var tt=[0,0,0,0,0,0,0,0],Fe=0,be=null,ze=0,$t,_t,dn,nr,Xn,Oi,Ge,An=function(){return k(Pe,ze)};if(An()===":"){if(k(Pe,1)!==":")return;ze+=2,Fe++,be=Fe}for(;An();){if(Fe===8)return;if(An()===":"){if(be!==null)return;ze++,Fe++,be=Fe;continue}for($t=_t=0;_t<4&&M(ke,An());)$t=$t*16+P(An(),16),ze++,_t++;if(An()==="."){if(_t===0||(ze-=_t,Fe>6))return;for(dn=0;An();){if(nr=null,dn>0)if(An()==="."&&dn<4)ze++;else return;if(!M(de,An()))return;for(;M(de,An());){if(Xn=P(An(),10),nr===null)nr=Xn;else{if(nr===0)return;nr=nr*10+Xn}if(nr>255)return;ze++}tt[Fe]=tt[Fe]*256+nr,dn++,(dn===2||dn===4)&&Fe++}if(dn!==4)return;break}else if(An()===":"){if(ze++,!An())return}else if(An())return;tt[Fe++]=$t}if(be!==null)for(Oi=Fe-be,Fe=7;Fe!==0&&Oi>0;)Ge=tt[Fe],tt[Fe--]=tt[be+Oi-1],tt[be+--Oi]=Ge;else if(Fe!==8)return;return tt},Ze=function(Pe){for(var tt=null,Fe=1,be=null,ze=0,$t=0;$t<8;$t++)Pe[$t]!==0?(ze>Fe&&(tt=be,Fe=ze),be=null,ze=0):(be===null&&(be=$t),++ze);return ze>Fe?be:tt},me=function(Pe){var tt,Fe,be,ze;if(typeof Pe=="number"){for(tt=[],Fe=0;Fe<4;Fe++)X(tt,Pe%256),Pe=F(Pe/256);return D(tt,".")}if(typeof Pe=="object"){for(tt="",be=Ze(Pe),Fe=0;Fe<8;Fe++)ze&&Pe[Fe]===0||(ze&&(ze=!1),be===Fe?(tt+=Fe?":":"::",ze=!0):(tt+=j(Pe[Fe],16),Fe<7&&(tt+=":")));return"["+tt+"]"}return Pe},Se={},Oe=u({},Se,{" ":1,'"':1,"<":1,">":1,"`":1}),it=u({},Oe,{"#":1,"?":1,"{":1,"}":1}),ft=u({},it,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ee=function(Pe,tt){var Fe=f(Pe,0);return Fe>32&&Fe<127&&!c(tt,Pe)?Pe:encodeURIComponent(Pe)},ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(Pe,tt){var Fe;return Pe.length===2&&M(te,k(Pe,0))&&((Fe=k(Pe,1))===":"||!tt&&Fe==="|")},xe=function(Pe){var tt;return Pe.length>1&&pe(V(Pe,0,2))&&(Pe.length===2||(tt=k(Pe,2))==="/"||tt==="\\"||tt==="?"||tt==="#")},$e=function(Pe){return Pe==="."||G(Pe)==="%2e"},ve=function(Pe){return Pe=G(Pe),Pe===".."||Pe==="%2e."||Pe===".%2e"||Pe==="%2e%2e"},ot={},xt={},De={},We={},Je={},nt={},At={},kt={},sr={},xr={},pr={},Pn={},ai={},Ec={},Hs={},Tl={},Uo={},Do={},ls={},Ji={},Ln={},Ol=function(Pe,tt,Fe){var be=p(Pe),ze,$t,_t;if(tt){if($t=this.parse(be),$t)throw new O($t);this.searchParams=null}else{if(Fe!==void 0&&(ze=new Ol(Fe,!0)),$t=this.parse(be,null,ze),$t)throw new O($t);_t=B(new _),_t.bindURL(this),this.searchParams=_t}};Ol.prototype={type:"URL",parse:function(Pe,tt,Fe){var be=this,ze=tt||ot,$t=0,_t="",dn=!1,nr=!1,Xn=!1,Oi,Ge,An,pa;for(Pe=p(Pe),tt||(be.scheme="",be.username="",be.password="",be.host=null,be.port=null,be.path=[],be.query=null,be.fragment=null,be.cannotBeABaseURL=!1,Pe=H(Pe,Ye,""),Pe=H(Pe,lt,"$1")),Pe=H(Pe,Ve,""),Oi=d(Pe);$t<=Oi.length;){switch(Ge=Oi[$t],ze){case ot:if(Ge&&M(te,Ge))_t+=G(Ge),ze=xt;else{if(tt)return oe;ze=De;continue}break;case xt:if(Ge&&(M(se,Ge)||Ge==="+"||Ge==="-"||Ge==="."))_t+=G(Ge);else if(Ge===":"){if(tt&&(be.isSpecial()!==c(ce,_t)||_t==="file"&&(be.includesCredentials()||be.port!==null)||be.scheme==="file"&&!be.host))return;if(be.scheme=_t,tt){be.isSpecial()&&ce[be.scheme]===be.port&&(be.port=null);return}_t="",be.scheme==="file"?ze=Ec:be.isSpecial()&&Fe&&Fe.scheme===be.scheme?ze=We:be.isSpecial()?ze=kt:Oi[$t+1]==="/"?(ze=Je,$t++):(be.cannotBeABaseURL=!0,Q(be.path,""),ze=ls)}else{if(tt)return oe;_t="",ze=De,$t=0;continue}break;case De:if(!Fe||Fe.cannotBeABaseURL&&Ge!=="#")return oe;if(Fe.cannotBeABaseURL&&Ge==="#"){be.scheme=Fe.scheme,be.path=A(Fe.path),be.query=Fe.query,be.fragment="",be.cannotBeABaseURL=!0,ze=Ln;break}ze=Fe.scheme==="file"?Ec:nt;continue;case We:if(Ge==="/"&&Oi[$t+1]==="/")ze=sr,$t++;else{ze=nt;continue}break;case Je:if(Ge==="/"){ze=xr;break}else{ze=Do;continue}case nt:if(be.scheme=Fe.scheme,Ge===Te)be.username=Fe.username,be.password=Fe.password,be.host=Fe.host,be.port=Fe.port,be.path=A(Fe.path),be.query=Fe.query;else if(Ge==="/"||Ge==="\\"&&be.isSpecial())ze=At;else if(Ge==="?")be.username=Fe.username,be.password=Fe.password,be.host=Fe.host,be.port=Fe.port,be.path=A(Fe.path),be.query="",ze=Ji;else if(Ge==="#")be.username=Fe.username,be.password=Fe.password,be.host=Fe.host,be.port=Fe.port,be.path=A(Fe.path),be.query=Fe.query,be.fragment="",ze=Ln;else{be.username=Fe.username,be.password=Fe.password,be.host=Fe.host,be.port=Fe.port,be.path=A(Fe.path),be.path.length--,ze=Do;continue}break;case At:if(be.isSpecial()&&(Ge==="/"||Ge==="\\"))ze=sr;else if(Ge==="/")ze=xr;else{be.username=Fe.username,be.password=Fe.password,be.host=Fe.host,be.port=Fe.port,ze=Do;continue}break;case kt:if(ze=sr,Ge!=="/"||k(_t,$t+1)!=="/")continue;$t++;break;case sr:if(Ge!=="/"&&Ge!=="\\"){ze=xr;continue}break;case xr:if(Ge==="@"){dn&&(_t="%40"+_t),dn=!0,An=d(_t);for(var Zi=0;Zi<An.length;Zi++){var Rl=An[Zi];if(Rl===":"&&!Xn){Xn=!0;continue}var fo=ee(Rl,ft);Xn?be.password+=fo:be.username+=fo}_t=""}else if(Ge===Te||Ge==="/"||Ge==="?"||Ge==="#"||Ge==="\\"&&be.isSpecial()){if(dn&&_t==="")return Z;$t-=d(_t).length+1,_t="",ze=pr}else _t+=Ge;break;case pr:case Pn:if(tt&&be.scheme==="file"){ze=Tl;continue}else if(Ge===":"&&!nr){if(_t==="")return ae;if(pa=be.parseHost(_t),pa)return pa;if(_t="",ze=ai,tt===Pn)return}else if(Ge===Te||Ge==="/"||Ge==="?"||Ge==="#"||Ge==="\\"&&be.isSpecial()){if(be.isSpecial()&&_t==="")return ae;if(tt&&_t===""&&(be.includesCredentials()||be.port!==null))return;if(pa=be.parseHost(_t),pa)return pa;if(_t="",ze=Uo,tt)return;continue}else Ge==="["?nr=!0:Ge==="]"&&(nr=!1),_t+=Ge;break;case ai:if(M(de,Ge))_t+=Ge;else if(Ge===Te||Ge==="/"||Ge==="?"||Ge==="#"||Ge==="\\"&&be.isSpecial()||tt){if(_t!==""){var Fu=P(_t,10);if(Fu>65535)return ne;be.port=be.isSpecial()&&Fu===ce[be.scheme]?null:Fu,_t=""}if(tt)return;ze=Uo;continue}else return ne;break;case Ec:if(be.scheme="file",Ge==="/"||Ge==="\\")ze=Hs;else if(Fe&&Fe.scheme==="file")switch(Ge){case Te:be.host=Fe.host,be.path=A(Fe.path),be.query=Fe.query;break;case"?":be.host=Fe.host,be.path=A(Fe.path),be.query="",ze=Ji;break;case"#":be.host=Fe.host,be.path=A(Fe.path),be.query=Fe.query,be.fragment="",ze=Ln;break;default:xe(D(A(Oi,$t),""))||(be.host=Fe.host,be.path=A(Fe.path),be.shortenPath()),ze=Do;continue}else{ze=Do;continue}break;case Hs:if(Ge==="/"||Ge==="\\"){ze=Tl;break}Fe&&Fe.scheme==="file"&&!xe(D(A(Oi,$t),""))&&(pe(Fe.path[0],!0)?Q(be.path,Fe.path[0]):be.host=Fe.host),ze=Do;continue;case Tl:if(Ge===Te||Ge==="/"||Ge==="\\"||Ge==="?"||Ge==="#"){if(!tt&&pe(_t))ze=Do;else if(_t===""){if(be.host="",tt)return;ze=Uo}else{if(pa=be.parseHost(_t),pa)return pa;if(be.host==="localhost"&&(be.host=""),tt)return;_t="",ze=Uo}continue}else _t+=Ge;break;case Uo:if(be.isSpecial()){if(ze=Do,Ge!=="/"&&Ge!=="\\")continue}else if(!tt&&Ge==="?")be.query="",ze=Ji;else if(!tt&&Ge==="#")be.fragment="",ze=Ln;else if(Ge!==Te&&(ze=Do,Ge!=="/"))continue;break;case Do:if(Ge===Te||Ge==="/"||Ge==="\\"&&be.isSpecial()||!tt&&(Ge==="?"||Ge==="#")){if(ve(_t)?(be.shortenPath(),Ge!=="/"&&!(Ge==="\\"&&be.isSpecial())&&Q(be.path,"")):$e(_t)?Ge!=="/"&&!(Ge==="\\"&&be.isSpecial())&&Q(be.path,""):(be.scheme==="file"&&!be.path.length&&pe(_t)&&(be.host&&(be.host=""),_t=k(_t,0)+":"),Q(be.path,_t)),_t="",be.scheme==="file"&&(Ge===Te||Ge==="?"||Ge==="#"))for(;be.path.length>1&&be.path[0]==="";)W(be.path);Ge==="?"?(be.query="",ze=Ji):Ge==="#"&&(be.fragment="",ze=Ln)}else _t+=ee(Ge,it);break;case ls:Ge==="?"?(be.query="",ze=Ji):Ge==="#"?(be.fragment="",ze=Ln):Ge!==Te&&(be.path[0]+=ee(Ge,Se));break;case Ji:!tt&&Ge==="#"?(be.fragment="",ze=Ln):Ge!==Te&&(Ge==="'"&&be.isSpecial()?be.query+="%27":Ge==="#"?be.query+="%23":be.query+=ee(Ge,Se));break;case Ln:Ge!==Te&&(be.fragment+=ee(Ge,Oe));break}$t++}},parseHost:function(Pe){var tt,Fe,be;if(k(Pe,0)==="["){if(k(Pe,Pe.length-1)!=="]"||(tt=Be(V(Pe,1,-1)),!tt))return ae;this.host=tt}else if(this.isSpecial()){if(Pe=h(Pe),M(Ue,Pe)||(tt=we(Pe),tt===null))return ae;this.host=tt}else{if(M(Ne,Pe))return ae;for(tt="",Fe=d(Pe),be=0;be<Fe.length;be++)tt+=ee(Fe[be],Se);this.host=tt}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return c(ce,this.scheme)},shortenPath:function(){var Pe=this.path,tt=Pe.length;tt&&(this.scheme!=="file"||tt!==1||!pe(Pe[0],!0))&&Pe.length--},serialize:function(){var Pe=this,tt=Pe.scheme,Fe=Pe.username,be=Pe.password,ze=Pe.host,$t=Pe.port,_t=Pe.path,dn=Pe.query,nr=Pe.fragment,Xn=tt+":";return ze!==null?(Xn+="//",Pe.includesCredentials()&&(Xn+=Fe+(be?":"+be:"")+"@"),Xn+=me(ze),$t!==null&&(Xn+=":"+$t)):tt==="file"&&(Xn+="//"),Xn+=Pe.cannotBeABaseURL?_t[0]:_t.length?"/"+D(_t,"/"):"",dn!==null&&(Xn+="?"+dn),nr!==null&&(Xn+="#"+nr),Xn},setHref:function(Pe){var tt=this.parse(Pe);if(tt)throw new O(tt);this.searchParams.update()},getOrigin:function(){var Pe=this.scheme,tt=this.port;if(Pe==="blob")try{return new qs(Pe.path[0]).origin}catch{return"null"}return Pe==="file"||!this.isSpecial()?"null":Pe+"://"+me(this.host)+(tt!==null?":"+tt:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(Pe){this.parse(p(Pe)+":",ot)},getUsername:function(){return this.username},setUsername:function(Pe){var tt=d(p(Pe));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Fe=0;Fe<tt.length;Fe++)this.username+=ee(tt[Fe],ft)}},getPassword:function(){return this.password},setPassword:function(Pe){var tt=d(p(Pe));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Fe=0;Fe<tt.length;Fe++)this.password+=ee(tt[Fe],ft)}},getHost:function(){var Pe=this.host,tt=this.port;return Pe===null?"":tt===null?me(Pe):me(Pe)+":"+tt},setHost:function(Pe){this.cannotBeABaseURL||this.parse(Pe,pr)},getHostname:function(){var Pe=this.host;return Pe===null?"":me(Pe)},setHostname:function(Pe){this.cannotBeABaseURL||this.parse(Pe,Pn)},getPort:function(){var Pe=this.port;return Pe===null?"":p(Pe)},setPort:function(Pe){this.cannotHaveUsernamePasswordPort()||(Pe=p(Pe),Pe===""?this.port=null:this.parse(Pe,ai))},getPathname:function(){var Pe=this.path;return this.cannotBeABaseURL?Pe[0]:Pe.length?"/"+D(Pe,"/"):""},setPathname:function(Pe){this.cannotBeABaseURL||(this.path=[],this.parse(Pe,Uo))},getSearch:function(){var Pe=this.query;return Pe?"?"+Pe:""},setSearch:function(Pe){Pe=p(Pe),Pe===""?this.query=null:(k(Pe,0)==="?"&&(Pe=V(Pe,1)),this.query="",this.parse(Pe,Ji)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Pe=this.fragment;return Pe?"#"+Pe:""},setHash:function(Pe){if(Pe=p(Pe),Pe===""){this.fragment=null;return}k(Pe,0)==="#"&&(Pe=V(Pe,1)),this.fragment="",this.parse(Pe,Ln)},update:function(){this.query=this.searchParams.serialize()||null}};var qs=function(tt){var Fe=l(this,pi),be=y(arguments.length,1)>1?arguments[1]:void 0,ze=S(Fe,new Ol(tt,!1,be));t||(Fe.href=ze.serialize(),Fe.origin=ze.getOrigin(),Fe.protocol=ze.getProtocol(),Fe.username=ze.getUsername(),Fe.password=ze.getPassword(),Fe.host=ze.getHost(),Fe.hostname=ze.getHostname(),Fe.port=ze.getPort(),Fe.pathname=ze.getPathname(),Fe.search=ze.getSearch(),Fe.searchParams=ze.getSearchParams(),Fe.hash=ze.getHash())},pi=qs.prototype,Ni=function(Pe,tt){return{get:function(){return C(this)[Pe]()},set:tt&&function(Fe){return C(this)[tt](Fe)},configurable:!0,enumerable:!0}};if(t&&(s(pi,"href",Ni("serialize","setHref")),s(pi,"origin",Ni("getOrigin")),s(pi,"protocol",Ni("getProtocol","setProtocol")),s(pi,"username",Ni("getUsername","setUsername")),s(pi,"password",Ni("getPassword","setPassword")),s(pi,"host",Ni("getHost","setHost")),s(pi,"hostname",Ni("getHostname","setHostname")),s(pi,"port",Ni("getPort","setPort")),s(pi,"pathname",Ni("getPathname","setPathname")),s(pi,"search",Ni("getSearch","setSearch")),s(pi,"searchParams",Ni("getSearchParams")),s(pi,"hash",Ni("getHash","setHash"))),a(pi,"toJSON",function(){return C(this).serialize()},{enumerable:!0}),a(pi,"toString",function(){return C(this).serialize()},{enumerable:!0}),T){var ha=T.createObjectURL,Ao=T.revokeObjectURL;ha&&a(qs,"createObjectURL",i(ha,T)),Ao&&a(qs,"revokeObjectURL",i(Ao,T))}return v(qs,"URL"),e({global:!0,constructor:!0,forced:!r,sham:!t},{URL:qs}),fIe}var vIe;function wkt(){return vIe||(vIe=1,ykt()),AIe}var yIe={},wIe;function bkt(){if(wIe)return yIe;wIe=1;var e=J(),t=Vt(),r=rt(),n=El(),i=er(),o=PP(),a=t("URL"),s=o&&r(function(){a.canParse()}),l=r(function(){return a.canParse.length!==1});return e({target:"URL",stat:!0,forced:!s||l},{canParse:function(u){var d=n(arguments.length,1),A=i(u),f=d<2||arguments[1]===void 0?void 0:i(arguments[1]);try{return!!new a(A,f)}catch{return!1}}}),yIe}var bIe={},xIe;function xkt(){if(xIe)return bIe;xIe=1;var e=J(),t=Vt(),r=El(),n=er(),i=PP(),o=t("URL");return e({target:"URL",stat:!0,forced:!i},{parse:function(s){var l=r(arguments.length,1),c=n(s),u=l<2||arguments[1]===void 0?void 0:n(arguments[1]);try{return new o(c,u)}catch{return null}}}),bIe}var SIe={},CIe;function Skt(){if(CIe)return SIe;CIe=1;var e=J(),t=gt();return e({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return t(URL.prototype.toString,this)}}),SIe}var _Ie={},EIe;function Ckt(){return EIe||(EIe=1,PNe()),_Ie}var IIe={},BIe;function _kt(){if(BIe)return IIe;BIe=1;var e=Zr(),t=Qe(),r=er(),n=El(),i=URLSearchParams,o=i.prototype,a=t(o.append),s=t(o.delete),l=t(o.forEach),c=t([].push),u=new i("a=1&a=2&b=3");return u.delete("a",1),u.delete("b",void 0),u+""!="a=2"&&e(o,"delete",function(d){var A=arguments.length,f=A<2?void 0:arguments[1];if(A&&f===void 0)return s(this,d);var h=[];l(this,function(_,B){c(h,{key:B,value:_})}),n(A,1);for(var p=r(d),v=r(f),y=0,b=0,x=!1,S=h.length,C;y<S;)C=h[y++],x||C.key===p?(x=!0,s(this,C.key)):b++;for(;b<S;)C=h[b++],C.key===p&&C.value===v||a(this,C.key,C.value)},{enumerable:!0,unsafe:!0}),IIe}var PIe={},TIe;function Ekt(){if(TIe)return PIe;TIe=1;var e=Zr(),t=Qe(),r=er(),n=El(),i=URLSearchParams,o=i.prototype,a=t(o.getAll),s=t(o.has),l=new i("a=1");return(l.has("a",2)||!l.has("a",void 0))&&e(o,"has",function(u){var d=arguments.length,A=d<2?void 0:arguments[1];if(d&&A===void 0)return s(this,u);var f=a(this,u);n(d,1);for(var h=r(A),p=0;p<f.length;)if(f[p++]===h)return!0;return!1},{enumerable:!0,unsafe:!0}),PIe}var OIe={},RIe;function Ikt(){if(RIe)return OIe;RIe=1;var e=Nt(),t=Qe(),r=jn(),n=URLSearchParams.prototype,i=t(n.forEach);return e&&!("size"in n)&&r(n,"size",{get:function(){var a=0;return i(this,function(){a++}),a},configurable:!0,enumerable:!0}),OIe}var h4,MIe;function Bkt(){return MIe||(MIe=1,QIt(),HIt(),qIt(),zIt(),KIt(),WIt(),VIt(),GIt(),YIt(),XIt(),JIt(),ZIt(),eBt(),tBt(),rBt(),nBt(),iBt(),cje(),aBt(),wz(),sBt(),lBt(),cBt(),uBt(),dBt(),ABt(),fBt(),dje(),Aje(),eUe(),Jke(),hBt(),pBt(),gBt(),mBt(),vBt(),aP(),yBt(),wBt(),bBt(),xBt(),SBt(),CBt(),_Bt(),EBt(),IBt(),BBt(),PBt(),TBt(),OBt(),yje(),bje(),xje(),tUe(),Zke(),RBt(),Cje(),FBt(),kBt(),UBt(),jBt(),Ije(),Tje(),Mje(),Dje(),jje(),LBt(),NBt(),$Bt(),QBt(),qBt(),zBt(),WBt(),VBt(),GBt(),YBt(),XBt(),JBt(),Nje(),$je(),Qje(),Hje(),qje(),zje(),Wje(),Vje(),Gje(),Xje(),Jje(),Zje(),eLe(),tLe(),tje(),ZBt(),gK(),nLe(),tPt(),rPt(),nPt(),iPt(),oPt(),aPt(),sPt(),lPt(),oLe(),cPt(),uPt(),dPt(),APt(),fPt(),hPt(),pPt(),gPt(),mPt(),vPt(),yPt(),wPt(),bPt(),xPt(),SPt(),CPt(),_Pt(),EPt(),IPt(),BPt(),PPt(),TPt(),OPt(),RPt(),MPt(),FPt(),kPt(),UPt(),DPt(),jPt(),LPt(),NPt(),$Pt(),QPt(),HPt(),qPt(),ALe(),fLe(),zPt(),KPt(),WPt(),VPt(),GPt(),YPt(),XPt(),JPt(),ZPt(),eTt(),tTt(),nTt(),iTt(),oTt(),aTt(),pTt(),wLe(),bLe(),gTt(),xLe(),SLe(),mTt(),vTt(),yTt(),wTt(),bTt(),xTt(),STt(),CTt(),_Tt(),ETt(),ITt(),BTt(),PTt(),TTt(),OTt(),_Le(),RTt(),$B(),MTt(),FTt(),kTt(),UTt(),jTt(),ILe(),PLe(),OLe(),MLe(),kLe(),DLe(),LLe(),rUe(),LTt(),NTt(),NLe(),$Tt(),$Le(),QLe(),QTt(),HLe(),HTt(),qTt(),zTt(),KTt(),oUe(),_z(),WTt(),VTt(),GTt(),YTt(),zLe(),XTt(),ZTt(),tOt(),rOt(),nOt(),iOt(),oOt(),aOt(),sOt(),lOt(),cOt(),uOt(),dOt(),AOt(),fOt(),hOt(),pOt(),gOt(),mOt(),vOt(),yOt(),wOt(),bOt(),xOt(),SOt(),XLe(),COt(),_Ot(),EOt(),IOt(),BOt(),POt(),JLe(),ZLe(),TOt(),OOt(),ROt(),MOt(),FOt(),kOt(),UOt(),DOt(),jOt(),LOt(),NOt(),$Ot(),QOt(),HOt(),qOt(),zOt(),KOt(),WOt(),eNe(),tNe(),VOt(),rNe(),GOt(),EK(),JOt(),ZOt(),eRt(),rRt(),nRt(),iRt(),oRt(),aRt(),sRt(),lRt(),cRt(),uRt(),dRt(),ARt(),fRt(),hRt(),pRt(),gRt(),mRt(),vRt(),yRt(),wRt(),bRt(),xRt(),SRt(),CRt(),_Rt(),ERt(),IRt(),BRt(),PRt(),TRt(),ORt(),RRt(),MRt(),FRt(),kRt(),URt(),DRt(),jRt(),LRt(),NRt(),$Rt(),QRt(),HRt(),qRt(),zRt(),KRt(),WRt(),VRt(),GRt(),YRt(),XRt(),JRt(),ZRt(),eMt(),tMt(),rMt(),nMt(),iMt(),oMt(),aMt(),sMt(),lMt(),cMt(),uMt(),dMt(),AMt(),fMt(),hMt(),pMt(),gMt(),mMt(),vMt(),yMt(),wMt(),bMt(),xMt(),SMt(),CMt(),_Mt(),EMt(),IMt(),BMt(),PMt(),TMt(),OMt(),RMt(),FMt(),kMt(),UMt(),DMt(),jMt(),LMt(),NMt(),$Mt(),QMt(),HMt(),qMt(),zMt(),WMt(),VMt(),GMt(),YMt(),XMt(),JMt(),ZMt(),e2t(),t2t(),r2t(),n2t(),i2t(),o2t(),a2t(),s2t(),l2t(),c2t(),u2t(),d2t(),A2t(),f2t(),h2t(),v2t(),y2t(),w2t(),b2t(),x2t(),S2t(),C2t(),_2t(),E2t(),I2t(),B2t(),P2t(),T2t(),O2t(),R2t(),M2t(),F2t(),k2t(),D2t(),j2t(),L2t(),N2t(),$2t(),Q2t(),H2t(),q2t(),z2t(),K2t(),W2t(),V2t(),G2t(),Y2t(),X2t(),J2t(),Z2t(),eFt(),tFt(),rFt(),nFt(),iFt(),oFt(),aFt(),sFt(),cFt(),uFt(),dFt(),AFt(),fFt(),hFt(),pFt(),gFt(),mFt(),vFt(),yFt(),wFt(),bFt(),xFt(),SFt(),CFt(),_Ft(),EFt(),IFt(),BFt(),PFt(),TFt(),OFt(),RFt(),MFt(),FFt(),kFt(),UFt(),DFt(),jFt(),LFt(),NFt(),$Ft(),QFt(),HFt(),qFt(),zFt(),KFt(),WFt(),VFt(),GFt(),YFt(),XFt(),JFt(),ZFt(),ekt(),tkt(),rkt(),nkt(),ikt(),okt(),akt(),skt(),lkt(),dkt(),Akt(),fkt(),hkt(),mkt(),wkt(),bkt(),xkt(),Skt(),Ckt(),_kt(),Ekt(),Ikt(),h4=eK()),h4}var p4,FIe;function Pkt(){return FIe||(FIe=1,p4=Bkt()),p4}var Uy=Pkt();const zg="TLDRAW_TAB_ID_v2",wd=globalThis.window;function Tkt(){return wd?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(wd.navigator.platform)||an.isDarwin&&"ontouchend"in document:!1}const zE=wd?wd[zg]??jke(zg)??"TLDRAW_INSTANCE_STATE_V1_"+tn():"<error>";wd&&(wd[zg]=zE,Tkt()?pz(zg,zE):Lke(zg));wd==null||wd.addEventListener("beforeunload",()=>{pz(zg,zE)});const TNe={Initial:0},TP=Math.max(...Object.values(TNe));function Okt(e){e.version<TNe.Initial,e.version=TP}const ONe=Er({version:Yt,currentPageId:Qw.optional(),isFocusMode:Cr.optional(),exportBackground:Cr.optional(),isDebugMode:Cr.optional(),isToolLocked:Cr.optional(),isGridMode:Cr.optional(),pageStates:Co(Er({pageId:Qw,camera:Er({x:Yt,y:Yt,z:Yt}).optional(),selectedShapeIds:Co(il).optional(),focusedGroupId:il.nullable().optional()})).optional()});function Rkt(e){if(!e||typeof e!="object")return console.warn("Invalid instance state"),null;if(!("version"in e)||typeof e.version!="number")return console.warn("No version in instance state"),null;e.version!==TP&&(e=kn(e),Okt(e));try{return ONe.validate(e)}catch(t){return console.warn(t),null}}function MK(e){const t=e.query.ids("page");return qe("sessionStateSnapshot",()=>{const r=e.get(Sa);if(!r)return null;const n=[...t.get()];return{version:TP,currentPageId:r.currentPageId,exportBackground:r.exportBackground,isFocusMode:r.isFocusMode,isDebugMode:r.isDebugMode,isToolLocked:r.isToolLocked,isGridMode:r.isGridMode,pageStates:n.map(i=>{const o=e.get(tc.createId(i)),a=e.get(Xc.createId(i));return{pageId:i,camera:{x:(a==null?void 0:a.x)??0,y:(a==null?void 0:a.y)??0,z:(a==null?void 0:a.z)??1},selectedShapeIds:(o==null?void 0:o.selectedShapeIds)??[],focusedGroupId:(o==null?void 0:o.focusedGroupId)??null}})}},{isEqual:IUe})}function e5(e,t,r){const n=Rkt(t);if(!n)return;const i=HUe(e.get(Sa)),o=r!=null&&r.forceOverwrite?n:i,a=r!=null&&r.forceOverwrite?i:n,s=e.schema.types.instance.create({id:Sa,...i,currentPageId:n.currentPageId,isDebugMode:(o==null?void 0:o.isDebugMode)??(a==null?void 0:a.isDebugMode),isFocusMode:(o==null?void 0:o.isFocusMode)??(a==null?void 0:a.isFocusMode),isToolLocked:(o==null?void 0:o.isToolLocked)??(a==null?void 0:a.isToolLocked),isGridMode:(o==null?void 0:o.isGridMode)??(a==null?void 0:a.isGridMode),exportBackground:(o==null?void 0:o.exportBackground)??(a==null?void 0:a.exportBackground)});e.atomic(()=>{var l,c,u;for(const d of n.pageStates??[]){if(!e.has(d.pageId))continue;const A=Xc.createId(d.pageId),f=tc.createId(d.pageId),h=e.get(A),p=e.get(f);e.put([Xc.create({id:A,x:((l=d.camera)==null?void 0:l.x)??(h==null?void 0:h.x),y:((c=d.camera)==null?void 0:c.y)??(h==null?void 0:h.y),z:((u=d.camera)==null?void 0:u.z)??(h==null?void 0:h.z)}),tc.create({id:f,pageId:d.pageId,selectedShapeIds:d.selectedShapeIds??(p==null?void 0:p.selectedShapeIds),focusedGroupId:d.focusedGroupId??(p==null?void 0:p.focusedGroupId)})])}e.put([s]),e.ensureStoreIsUsable()})}function Mkt(e){var i;const t=[];for(const o of Object.values(e))(i=o.typeName)!=null&&i.match(/^(instance.*|pointer|camera)$/)&&t.push(o);const r=t.filter(o=>o.typeName==="instance"&&o.id!==Sa)[0];if(!r)return null;const n={version:TP,currentPageId:r.currentPageId,exportBackground:!!r.exportBackground,isFocusMode:!!r.isFocusMode,isDebugMode:!!r.isDebugMode,isToolLocked:!!r.isToolLocked,isGridMode:!1,pageStates:t.filter(o=>o.typeName==="instance_page_state"&&o.instanceId===r.id).map(o=>{const a=e[o.cameraId]??{x:0,y:0,z:1};return{pageId:o.pageId,camera:{x:a.x,y:a.y,z:a.z},selectedShapeIds:o.selectedShapeIds,focusedGroupId:o.focusedGroupId}})};try{return ONe.validate(n),n}catch{return null}}function RNe(e,t,r){let n={};if("store"in t){const a=e.schema.migrateStoreSnapshot(t);if(a.type!=="success")throw new Error("Failed to migrate store snapshot: "+a.reason);n.document={schema:e.schema.serialize(),store:M0(a.value,(s,{typeName:l})=>e.scopedTypes.document.has(l))}}else n=t;const i=HUe(e.get(Sa)),o=MNe.get(e,MK).get();e.atomic(()=>{n.document&&e.loadStoreSnapshot(n.document),i&&e.update(Sa,a=>({...a,...i})),o&&e5(e,o),n.session&&e5(e,n.session,{forceOverwrite:r==null?void 0:r.forceOverwriteSessionState})})}const MNe=new hc;function Fkt(e){const r=MNe.get(e,MK).get();if(!r)throw new Error("Session state is not ready yet");return{document:e.getStoreSnapshot(),session:r}}function FNe(e){const t=[],r=new Set;for(const n of e){if(r.has(n.type))throw new Error(`Binding type "${n.type}" is defined more than once`);t.push(n),r.add(n.type)}return t}function tf({children:e,className:t="",...r}){return m.jsx("svg",{...r,className:jt("tl-svg-container",t),children:e})}function FK(e,t,r,n){const i=e.x-r.x,o=e.y-r.y,a=n.x-r.x,s=n.y-r.y,l=t.x-e.x,c=t.y-e.y,u=a*o-s*i,d=l*o-c*i,A=s*l-a*c;if(u===0||d===0||A===0)return null;if(A!==0){const f=u/A,h=d/A;if(0<=f&&f<=1&&0<=h&&h<=1)return L.AddXY(e,f*l,f*c)}return null}function ix(e,t,r,n){const i=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y),o=2*((t.x-e.x)*(e.x-r.x)+(t.y-e.y)*(e.y-r.y)),a=r.x*r.x+r.y*r.y+e.x*e.x+e.y*e.y-2*(r.x*e.x+r.y*e.y)-n*n,s=o*o-4*i*a;if(s<0||s===0)return null;const l=Math.sqrt(s),c=(-o+l)/(2*i),u=(-o-l)/(2*i);if((c<0||c>1)&&(u<0||u>1))return null;const d=[];return 0<=c&&c<=1&&d.push(L.Lrp(e,t,c)),0<=u&&u<=1&&d.push(L.Lrp(e,t,u)),d.length===0?null:d}function kkt(e,t,r){const n=[];let i;for(let o=0,a=r.length-1;o<a;o++)i=FK(e,t,r[o],r[o+1]),i&&n.push(i);return n.length===0?null:n}function kK(e,t,r){const n=[];let i;for(let o=1,a=r.length;o<a+1;o++)i=FK(e,t,r[o-1],r[o%r.length]),i&&n.push(i);return n.length===0?null:n}function Ukt(e,t,r,n){let i=r.x-e.x,o=r.y-e.y;const a=Math.sqrt(i*i+o*o),s=(a*a-n*n+t*t)/(2*a),l=Math.sqrt(t*t-s*s);return i/=a,o/=a,[new L(e.x+i*s-o*l,e.y+o*s+i*l),new L(e.x+i*s+o*l,e.y+o*s-i*l)]}function t5(e,t,r){const n=[];let i,o,a;for(let s=0,l=r.length;s<l;s++)i=r[s],o=r[(s+1)%r.length],a=ix(i,o,e,t),a&&n.push(...a);return n.length===0?null:n}function kIe(e,t,r){const n=[];let i,o,a;for(let s=1,l=r.length;s<l;s++)i=r[s-1],o=r[s],a=ix(i,o,e,t),a&&n.push(...a);return n.length===0?null:n}function P1(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function UK(e,t,r,n){return P1(e,r,n)!==P1(t,r,n)&&P1(e,t,r)!==P1(e,t,n)}function UIe(e,t){const r=new Map;let n,i,o,a;for(let s=0,l=e.length;s<l;s++)if(n=e[s],Is(n,t)){const c=g4(n);r.has(c)||r.set(c,n)}for(let s=0,l=t.length;s<l;s++)if(n=t[s],Is(n,e)){const c=g4(n);r.has(c)||r.set(c,n)}for(let s=0,l=e.length;s<l;s++){n=e[s],i=e[(s+1)%e.length];for(let c=0,u=t.length;c<u;c++){o=t[c],a=t[(c+1)%t.length];const d=FK(n,i,o,a);if(d!==null){const A=g4(d);r.has(A)||r.set(A,d)}}}return r.size===0?null:Dkt([...r.values()])}function g4(e){return`${e.x},${e.y}`}function Dkt(e){const t=L.Average(e);return e.sort((r,n)=>L.Angle(t,r)-L.Angle(t,n))}function DK(e,t){let r,n,i,o;for(let a=0,s=e.length;a<s;a++){r=e[a],n=e[(a+1)%s];for(let l=0,c=t.length;l<c;l++)if(i=t[l],o=t[(l+1)%c],UK(r,n,i,o))return!0}return!1}function jkt(e,t){let r,n,i,o;for(let a=0,s=e.length;a<s;a++){r=e[a],n=e[(a+1)%s];for(let l=1,c=t.length;l<c;l++)if(i=t[l-1],o=t[l],UK(r,n,i,o))return!0}return!1}class ld extends wf{constructor(r){super({...r,isClosed:!1,isFilled:!1});K(this,"start");K(this,"end");K(this,"d");K(this,"u");K(this,"ul");const{start:n,end:i}=r;this.start=n,this.end=i,this.d=n.clone().sub(i),this.u=this.d.clone().uni(),this.ul=this.u.len()}getLength(){return this.d.len()}midPoint(){return this.start.lrp(this.end,.5)}getVertices(){return[this.start,this.end]}nearestPoint(r){const{start:n,end:i,d:o,u:a,ul:s}=this;if(o.len()===0||s===0)return n;const l=L.Sub(r,n).dpr(a)/s,c=n.x+a.x*l;if(c<Math.min(n.x,i.x))return n.x<i.x?n:i;if(c>Math.max(n.x,i.x))return n.x>i.x?n:i;const u=n.y+a.y*l;return u<Math.min(n.y,i.y)?n.y<i.y?n:i:u>Math.max(n.y,i.y)?n.y>i.y?n:i:new L(c,u)}hitTestLineSegment(r,n,i=0){return UK(r,n,this.start,this.end)||this.distanceToLineSegment(r,n)<=i}getSvgPathData(r=!0){const{start:n,end:i}=this;return`${r?`M${n.toFixed()}`:""} L${i.toFixed()}`}}class yv extends wf{constructor(r){super({isClosed:!1,isFilled:!1,...r});K(this,"points");K(this,"_segments");const{points:n}=r;this.points=n}get segments(){if(!this._segments){this._segments=[];const{vertices:r}=this;for(let n=0,i=r.length-1;n<i;n++){const o=r[n],a=r[n+1];this._segments.push(new ld({start:o,end:a}))}this.isClosed&&this._segments.push(new ld({start:r[r.length-1],end:r[0]}))}return this._segments}getLength(){return this.segments.reduce((r,n)=>r+n.length,0)}getVertices(){return this.points}nearestPoint(r){const{segments:n}=this;let i=this.points[0],o=1/0,a,s;for(let l=0;l<n.length;l++)a=n[l].nearestPoint(r),s=L.Dist2(a,r),s<o&&(i=a,o=s);if(!i)throw Error("nearest point not found");return i}hitTestLineSegment(r,n,i=0){const{segments:o}=this;for(let a=0,s=o.length;a<s;a++)if(o[a].hitTestLineSegment(r,n,i))return!0;return!1}getSvgPathData(){const{vertices:r}=this;return r.length<2?"":r.reduce((n,i,o)=>o===0?`M ${i.x} ${i.y}`:`${n} L ${i.x} ${i.y}`,"")}}class wi extends yv{constructor(t){super({...t}),this.isClosed=!0}}class du extends wi{constructor(r){const{x:n=0,y:i=0,width:o,height:a}=r;super({...r,points:[new L(n,i),new L(n+o,i),new L(n+o,i+a),new L(n,i+a)]});K(this,"x");K(this,"y");K(this,"w");K(this,"h");this.x=n,this.y=i,this.w=o,this.h=a}getBounds(){return new st(this.x,this.y,this.w,this.h)}getSvgPathData(){const{x:r,y:n,w:i,h:o}=this;return`M${r},${n} h${i} v${o} h-${i}z`}}class oc{constructor(t){K(this,"options",{});this.editor=t}static configure(t){return class extends this{constructor(){super(...arguments);K(this,"options",{...this.options,...t})}}}canSnap(t){return!0}canScroll(t){return!1}canBind(t){return!0}canEdit(t){return!1}canResize(t){return!0}canEditInReadOnly(t){return!1}canCrop(t){return!1}canBeLaidOut(t,r){return!0}providesBackgroundForChildren(t){return!1}hideResizeHandles(t){return!1}hideRotateHandle(t){return!1}hideSelectionBoundsBg(t){return!1}hideSelectionBoundsFg(t){return!1}isAspectRatioLocked(t){return!1}canReceiveNewChildrenOfType(t,r){return!1}canDropShapes(t,r){return!1}expandSelectionOutlinePx(t){return 0}getCanvasSvgDefs(){return[]}getBoundsSnapGeometry(t){return{}}getHandleSnapGeometry(t){return{}}getText(t){}}K(oc,"props"),K(oc,"migrations"),K(oc,"type");function Jl(e,t,r={}){const{closed:n=!1,snap:i=1,start:o="outset",end:a="outset",lengthRatio:s=2,style:l="dashed",forceSolid:c=!1}=r;let u=0,d=0,A=1,f=0,h=0;if(c)return{strokeDasharray:"none",strokeDashoffset:"none"};switch(l){case"dashed":{A=1,u=Math.min(t*s,e/4);break}case"dotted":{A=100,u=t/A;break}default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return n||(o==="outset"?(e+=u/2,h+=u/2):o==="skip"&&(e-=u,h-=u),a==="outset"?e+=u/2:a==="skip"&&(e-=u)),d=Math.floor(e/u/(2*A)),d-=d%i,d<3&&l==="dashed"?e/t<4?(u=e,d=1,f=0):(u=e*(1/3),f=e*(1/3)):(u=e/d/(2*A),n?(h=u/2,f=(e-d*u)/d):f=(e-d*u)/Math.max(1,d-1)),{strokeDasharray:[u,f].join(" "),strokeDashoffset:h.toString()}}function DIe({bounds:e,className:t}){const r=Ee(),n=Re("zoom level",()=>r.getZoomLevel(),[r]);return m.jsx("g",{className:t,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e.sides.map((i,o)=>{const{strokeDasharray:a,strokeDashoffset:s}=Jl(i[0].dist(i[1]),1/n,{style:"dashed",lengthRatio:4});return m.jsx("line",{x1:i[0].x,y1:i[0].y,x2:i[1].x,y2:i[1].y,strokeDasharray:a,strokeDashoffset:s},o)})})}class EC extends oc{hideSelectionBoundsFg(){return!0}canBind(){return!1}getDefaultProps(){return{}}getGeometry(t){const r=this.editor.getSortedChildIdsForParent(t.id);return r.length===0?new du({width:1,height:1,isFilled:!1}):new bl({children:r.map(n=>{const i=this.editor.getShape(n),o=this.editor.getShapeGeometry(n),a=this.editor.getShapeLocalTransform(i).applyToPoints(o.vertices);return o.isClosed?new wi({points:a,isFilled:!0}):new yv({points:a})})})}component(t){const r=this.editor.getErasingShapeIds().includes(t.id),{hintingShapeIds:n}=this.editor.getCurrentPageState(),i=n.length>0&&n.some(s=>s!==t.id&&this.editor.isShapeOfType(this.editor.getShape(s),"group")),o=this.editor.getCurrentPageState().focusedGroupId!==t.id;if(!r&&(o||i))return null;const a=this.editor.getShapeGeometry(t).bounds;return m.jsx(tf,{children:m.jsx(DIe,{className:"tl-group",bounds:a})})}indicator(t){const r=this.editor.getShapeGeometry(t).bounds;return m.jsx(DIe,{className:"",bounds:r})}onChildrenChange(t){const r=this.editor.getSortedChildIdsForParent(t.id);if(r.length===0){this.editor.getCurrentPageState().focusedGroupId===t.id&&this.editor.popFocusedGroupId(),this.editor.deleteShapes([t.id]);return}else if(r.length===1){this.editor.getCurrentPageState().focusedGroupId===t.id&&this.editor.popFocusedGroupId(),this.editor.reparentShapes(r,t.parentId),this.editor.deleteShapes([t.id]);return}}}K(EC,"type","group"),K(EC,"props",tDe),K(EC,"migrations",rDe);const kNe=[EC],Lkt=new Set(kNe.map(e=>e.type));function UNe(e){const t=[...kNe],r=new Set;for(const n of e){if(Lkt.has(n.type))throw new Error(`Shape type "${n.type}" is a core shapes type and cannot be overridden`);if(r.has(n.type))throw new Error(`Shape type "${n.type}" is defined more than once`);t.push(n),r.add(n.type)}return t}function DNe(e,t){const r=new Map;return async function(i){const o=r.get(i);if(o)return o;const a=(async()=>{try{const s=await lu(i,t);return vr(s.ok),await e(s)}catch(s){return console.error(s),null}})();return r.set(i,a),a}}const OP=DNe(async e=>await fl.blobToDataUrl(await e.blob())),Nkt=/@import\s+(?:"([^"]+)"|'([^']+)'|url\s*\(\s*(?:"([^"]+)"|'([^']+)'|([^'")]+))\s*\))([^;]+);/gi,$kt=/@font-face\s*{([^}]+)}/gi,jNe=/url\s*\(\s*(?:"([^"]+)"|'([^']+)'|([^'")]+))\s*\)/gi,Qkt=/(?:^|;)\s*font-family\s*:\s*(?:([^'"][^;\n]+)|"([^"]+)"|'([^']+)')\s*(?:;|$)/gi;function Hkt(e){return Array.from(e.matchAll(Nkt),t=>({url:t[1]||t[2]||t[3]||t[4]||t[5],extras:t[6]}))}function LNe(e,t){return Array.from(e.matchAll($kt),r=>{const n=r[1],i=Array.from(n.matchAll(jNe),a=>{var l;const s=a[1]||a[2]||a[3];return{original:s,resolved:((l=Zt(s,t))==null?void 0:l.href)??null}}),o=new Set(Array.from(n.matchAll(Qkt),a=>(a[1]||a[2]||a[3]).toLowerCase()));return{fontFace:n,urls:i,fontFamilies:o}})}function qkt(e){const t=/\s*(?:([^'"][^;\n\s,]+)|"([^"]+)"|'([^']+)')\s*/gi,r=/\s*,\s*/gi,n=new Set;for(;;){const i=t.exec(e);if(!i)break;const o=i[1]||i[2]||i[3];if(n.add(o.toLowerCase()),r.lastIndex=t.lastIndex,!r.exec(e))break;t.lastIndex=r.lastIndex}return n}function NNe(e){return!(e.startsWith("-")||e.startsWith("animation")||e.startsWith("transition")||e==="cursor"||e==="pointer-events"||e==="user-select"||e==="touch-action")}function zkt(e,t){return{imports:Hkt(e),fontFaces:LNe(e,t)}}function Kkt(e){return Array.from(e.matchAll(jNe),t=>({original:t[0],url:t[1]||t[2]||t[3]}))}const Wkt=new Set(["border-collapse","border-spacing","caption-side","color","cursor","direction","empty-cells","font-family","font-size","font-style","font-variant","font-weight","font-size-adjust","font-stretch","font","letter-spacing","line-height","list-style-image","list-style-position","list-style-type","list-style","orphans","quotes","tab-size","text-align","text-align-last","text-decoration-color","text-indent","text-justify","text-shadow","text-transform","visibility","white-space","widows","word-break","word-spacing","word-wrap"]);function $Ne(e){return Wkt.has(e)}var Vkt=Object.create,QNe=Object.defineProperty,Gkt=Object.getOwnPropertyDescriptor,Ykt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),HNe=e=>{throw TypeError(e)},qNe=(e,t,r)=>t in e?QNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xkt=e=>[,,,Vkt(null)],zNe=["class","method","getter","setter","accessor","field","value","get","set"],KNe=e=>e!==void 0&&typeof e!="function"?HNe("Function expected"):e,Jkt=(e,t,r,n,i)=>({kind:zNe[e],name:t,metadata:n,addInitializer:o=>r._?HNe("Already initialized"):i.push(KNe(o||null))}),Zkt=(e,t)=>qNe(t,Ykt("metadata"),e[3]),eUt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},tUt=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=zNe[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,Gkt(i,r)),y=n.length-1;y>=0;y--)l=Jkt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,KNe(a)&&(v[h]=a);return v&&QNe(i,r,v),i},T1=(e,t,r)=>qNe(e,typeof t!="symbol"?t+"":t,r),WNe,RP;WNe=[Ja];class jK{constructor(){eUt(RP,5,this),T1(this,"fontFacesPromise",null),T1(this,"foundFontNames",new Set),T1(this,"fontFacesToEmbed",new Set),T1(this,"pendingPromises",[])}startFindingCurrentDocumentFontFaces(){vr(!this.fontFacesPromise,"FontEmbedder already started"),this.fontFacesPromise=rUt()}onFontFamilyValue(t){vr(this.fontFacesPromise,"FontEmbedder not started");const r=qkt(t);for(const n of r){if(this.foundFontNames.has(n))return;this.foundFontNames.add(n),this.pendingPromises.push(this.fontFacesPromise.then(i=>{const o=i.filter(a=>a.fontFamilies.has(n));for(const a of o)if(!this.fontFacesToEmbed.has(a)){this.fontFacesToEmbed.add(a);for(const s of a.urls)!s.resolved||s.embedded||(s.embedded=OP(s.resolved))}}))}}async createCss(){await Promise.all(this.pendingPromises);let t="";for(const r of this.fontFacesToEmbed){let n=`@font-face {${r.fontFace}}`;for(const i of r.urls){if(!i.embedded)continue;const o=await i.embedded;o&&(n=n.replace(i.original,o))}t+=n}return t}}RP=Xkt();tUt(RP,1,"onFontFamilyValue",WNe,jK);Zkt(RP,jK);async function rUt(){var t;const e=[];for(const r of document.styleSheets){let n;try{n=r.cssRules}catch{}if(n){for(const i of r.cssRules)if(i instanceof CSSFontFaceRule)e.push(LNe(i.cssText,r.href??document.baseURI));else if(i instanceof CSSImportRule){const o=new URL(i.href,((t=i.parentStyleSheet)==null?void 0:t.href)??document.baseURI);e.push(r5(o.href))}}else r.href&&e.push(r5(r.href))}return lr(await Promise.all(e)).flat()}const r5=DNe(async e=>{const t=zkt(await e.text(),e.url),r=await Promise.all(t.imports.map(({url:n})=>r5(new URL(n,e.url).href)));return[...t.fontFaces,...lr(r).flat()]});function VNe(e){if(e.shadowRoot)return e.shadowRoot.childNodes;if(aUt(e)){const t=e.assignedNodes();if(t!=null&&t.length)return t}return e.childNodes}function*n5(e){for(const t of VNe(e))nUt(t)&&(yield t)}function MP(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)??globalThis}function nUt(e){return e instanceof MP(e).Element}function iUt(e){return e instanceof MP(e).ShadowRoot}function oUt(e){return"getRootNode"in e&&iUt(e.getRootNode())}function aUt(e){return oUt(e)&&e instanceof MP(e).HTMLSlotElement}function sUt(e){return e.style}function LK(e,t){return MP(e).getComputedStyle(e,t)}const _h={};class lUt{constructor(t){K(this,"styles",new Map);K(this,"fonts",new jK);this.root=t}readRootElementStyles(t){this.readElementStyles(t,{shouldRespectDefaults:!1,shouldSkipInheritedParentStyles:!1});const r=Array.from(n5(t));for(;r.length;){const n=r.pop();r.push(...n5(n)),this.readElementStyles(n,{shouldRespectDefaults:!0,shouldSkipInheritedParentStyles:!0})}}readElementStyles(t,{shouldRespectDefaults:r=!0,shouldSkipInheritedParentStyles:n=!0}){var s;const i=r?AUt(t.tagName.toLowerCase()):_h,o=n?((s=this.styles.get(t.parentElement))==null?void 0:s.self)??_h:_h,a={self:cUt(t,{defaultStyles:i,parentStyles:o}),before:jIe(t,"::before"),after:jIe(t,"::after")};this.styles.set(t,a)}fetchResources(){const t=[];for(const r of this.styles.values())for(const n of Fi(r))if(n)for(const[i,o]of Object.entries(n)){if(!o)continue;i==="font-family"&&this.fonts.onFontFamilyValue(o);const a=Kkt(o);a.length!==0&&t.push(...a.map(async({url:s,original:l})=>{const c=await OP(s)??"data:";n[i]=o.replace(l,`url("${c}")`)}))}return Promise.all(t)}unwrapCustomElements(){const t=new Set,r=(n,i)=>{if(t.has(n))return;t.add(n);const o=n.shadowRoot;if(o){const a=document.createElement("div");this.styles.set(a,this.styles.get(n)),a.setAttribute("data-tl-custom-element",n.tagName),(i??n.parentElement).appendChild(a);for(const s of o.childNodes)s instanceof Element?r(s,a):a.appendChild(s.cloneNode(!0));n.remove()}else if(i){if(n.tagName.toLowerCase()==="style")return;const a=n.cloneNode(!1);this.styles.set(a,this.styles.get(n)),i.appendChild(a);for(const s of VNe(n))s instanceof Element?r(s,a):a.appendChild(s.cloneNode(!0))}};for(const n of this.styles.keys())r(n,null)}embedStyles(){let t="";for(const[r,n]of this.styles){if(n.after||n.before){const o=`pseudo-${tn()}`;r.classList.add(o),n.before&&(t+=`.${o}::before {${LIe(n.before)}}
`),n.after&&(t+=`.${o}::after {${LIe(n.after)}}
`)}const i=sUt(r);for(const[o,a]of Object.entries(n.self))a&&i.setProperty(o,a);i.fontKerning==="auto"&&(i.fontKerning="normal")}return t}async getFontFaceCss(){return await this.fonts.createCss()}dispose(){dUt()}}function cUt(e,{defaultStyles:t,parentStyles:r}){return e.computedStyleMap?GNe(e.computedStyleMap(),{defaultStyles:t,parentStyles:r}):NK(LK(e),{defaultStyles:t,parentStyles:r})}function jIe(e,t){const r=LK(e,t),n=r.getPropertyValue("content");if(!(n===""||n==="none"))return NK(r,{defaultStyles:_h,parentStyles:_h})}function GNe(e,{defaultStyles:t,parentStyles:r}){const n={};for(const i of e.keys()){if(!NNe(i))continue;const o=e.get(i).toString();t[i]!==o&&(r[i]===o&&$Ne(i)||(n[i]=o))}return n}function NK(e,{defaultStyles:t,parentStyles:r}){const n={};for(const i of e){if(!NNe(i))continue;const o=e.getPropertyValue(i);t[i]!==o&&(r[i]===o&&$Ne(i)||(n[i]=o))}return n}function LIe(e){let t="";for(const[r,n]of Object.entries(e))t+=`${r}: ${n};`;return t}let Kg;const NIe={};function uUt(){if(!Kg){const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e);const t=Va(e.contentDocument,"frame must have a document"),r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");r.appendChild(n),t.body.appendChild(r),Kg={iframe:e,foreignObject:n,document:t}}return Kg}function dUt(){Kg&&(document.body.removeChild(Kg.iframe),Kg=void 0)}const $Ie={defaultStyles:_h,parentStyles:_h};function AUt(e){let t=NIe[e];if(!t){const{foreignObject:r,document:n}=uUt(),i=n.createElement(e);r.appendChild(i),t=i.computedStyleMap?GNe(i.computedStyleMap(),$Ie):NK(LK(i),$Ie),r.removeChild(i),NIe[e]=t}return t}function fUt(e,t){Array.from(e.attributes).forEach(n=>{t.setAttribute(n.name,n.value)})}function QIe(e,t){return e.replaceWith(t),t}async function U0(e,t){const r=document.createElement("img");t&&fUt(t,r),r.setAttribute("src",e??"data:"),r.setAttribute("decoding","sync"),r.setAttribute("loading","eager");try{await r.decode()}catch{}return r}async function hUt(e){try{const t=e.toDataURL();return await U0(t,e)}catch{return await U0(null,e)}}async function pUt(e){try{const t=await bs.getVideoFrameAsDataUrl(e);return U0(t,e)}catch(t){console.error("Could not get video frame",t)}if(e.poster){const t=await OP(e.poster);return U0(t,e)}return U0(null,e)}async function YNe(e){if(e instanceof HTMLCanvasElement)return QIe(e,await hUt(e));if(e instanceof HTMLVideoElement)return QIe(e,await pUt(e));if(e instanceof HTMLImageElement){const t=e.currentSrc||e.src,r=await OP(t);e.setAttribute("src",r??"data:"),e.setAttribute("decoding","sync"),e.setAttribute("loading","eager");try{await e.decode()}catch{}return e}else e instanceof HTMLInputElement?e.setAttribute("value",e.value):e instanceof HTMLTextAreaElement&&(e.textContent=e.value);await Promise.all(Array.from(n5(e),t=>YNe(t)))}function FP(e){const t=I.useRef();return I.useLayoutEffect(()=>{t.current=e}),I.useDebugValue(e),I.useCallback((...r)=>{const n=t.current;return vr(n,"fn does not exist"),n(...r)},[])}const $K=I.createContext(null);function gUt({context:e,editor:t,children:r}){const n=t.options.exportProvider;return m.jsx(Kz,{editor:t,children:m.jsx(wDe,{container:t.getContainer(),children:m.jsx($K.Provider,{value:e,children:m.jsx(n,{children:r})})})})}function ox(){return I.useContext($K)}function mUt(){const e=I.useContext($K),[t]=I.useState(oz);return I.useEffect(()=>(e==null||e.waitUntil(t),()=>{t.resolve()}),[t,e]),FP(()=>{t.resolve()})}var vUt=Object.create,XNe=Object.defineProperty,yUt=Object.getOwnPropertyDescriptor,wUt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),JNe=e=>{throw TypeError(e)},ZNe=(e,t,r)=>t in e?XNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bUt=e=>[,,,vUt(null)],e$e=["class","method","getter","setter","accessor","field","value","get","set"],t$e=e=>e!==void 0&&typeof e!="function"?JNe("Function expected"):e,xUt=(e,t,r,n,i)=>({kind:e$e[e],name:t,metadata:n,addInitializer:o=>r._?JNe("Already initialized"):i.push(t$e(o||null))}),SUt=(e,t)=>ZNe(t,wUt("metadata"),e[3]),CUt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},_Ut=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=e$e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,yUt(i,r)),y=n.length-1;y>=0;y--)l=xUt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,t$e(a)&&(v[h]=a);return v&&XNe(i,r,v),i},HIe=(e,t,r)=>ZNe(e,typeof t!="symbol"?t+"":t,r),r$e,kP;r$e=[Ja];class QK{constructor(t){this.maxDelayTimeMs=t,CUt(kP,5,this),HIe(this,"isResolved",!1),HIe(this,"promisesToWaitFor",[])}waitUntil(t){if(this.isResolved)throw new Error("Cannot `waitUntil` - the export has already been resolved. Make sure to call `waitUntil` as soon as possible during an export - ie within the first react effect after rendering.");this.promisesToWaitFor.push(t.catch(r=>console.error("Error whilst waiting for export:",r)))}async resolvePromises(){let t=null;for(;this.promisesToWaitFor.length!==t;)t=this.promisesToWaitFor.length,await Promise.allSettled(this.promisesToWaitFor),await U3(0)}async resolve(){const t=U3(this.maxDelayTimeMs).then(()=>"timeout"),r=this.resolvePromises().then(()=>"resolved");await Promise.race([t,r])==="timeout"&&console.warn("[tldraw] Export delay timed out after ${this.maxDelayTimeMs}ms"),this.isResolved=!0}}kP=bUt();_Ut(kP,1,"waitUntil",r$e,QK);SUt(kP,QK);function EUt(e,t,r={}){var y,b;if(!window.document)throw Error("No document");const{scale:n=1,background:i=e.getInstanceState().exportBackground,padding:o=e.options.defaultSvgPadding,preserveAspectRatio:a}=r,s=r.darkMode??e.user.getIsDarkMode(),l=e.getShapeAndDescendantIds(t),c=e.getUnorderedRenderingShapes(!1).filter(({id:x})=>l.has(x));let u=null;if(r.bounds)u=r.bounds;else for(const{id:x}of c){const S=e.getShapeMaskedPageBounds(x);S&&(u?u.union(S):u=S.clone())}if(!u)return;const d=t.length===1&&e.isShapeOfType(e.getShape(t[0]),"frame")?t[0]:null;d||u.expandBy(o);const A=u.width*n,f=u.height*n;try{(b=(y=document.body).focus)==null||b.call(y)}catch{}const h=new QK(e.options.maxExportDelayMs),p=oz();return h.waitUntil(p),{jsx:m.jsx(IUt,{editor:e,preserveAspectRatio:a,scale:n,pixelRatio:r.pixelRatio??null,bbox:u,background:i,singleFrameShapeId:d,isDarkMode:s,renderingShapes:c,onMount:p.resolve,waitUntil:h.waitUntil}),width:A,height:f,exportDelay:h}}function IUt({editor:e,preserveAspectRatio:t,scale:r,pixelRatio:n,bbox:i,background:o,singleFrameShapeId:a,isDarkMode:s,renderingShapes:l,onMount:c,waitUntil:u}){const d=sv(),A=Nd({isDarkMode:s}),f=Bz("export state",{defsById:{},shapeElements:null}),{defsById:h,shapeElements:p}=Re(f),v=FP(x=>{f.update(S=>{if(ml(S.defsById,x.key))return S;const C=Promise.resolve(x.getElement());return u(C.then(_=>{f.update(B=>({...B,defsById:{...B.defsById,[x.key]:{pending:!1,element:_}}}))})),{...S,defsById:{...S.defsById,[x.key]:{pending:!0,element:C}}}})}),y=I.useMemo(()=>({isDarkMode:s,waitUntil:u,addExportDef:v,scale:r,pixelRatio:n,async resolveAssetUrl(x,S){const C=e.getAsset(x);return!C||C.type!=="image"&&C.type!=="video"?null:await e.resolveAssetUrl(x,{screenScale:r*(S/C.props.w),shouldResolveToOriginal:n===null,dpr:n??void 0})}}),[s,u,v,r,n,e]),b=I.useRef(!1);return I.useLayoutEffect(()=>{if(b.current)throw new Error("SvgExport should only render once - do not use with react strict mode");b.current=!0,(async()=>{const x={},S=l.map(async({id:_,opacity:B,index:T,backgroundIndex:O})=>{var k,M;if(_===a)return[];const P=e.getShape(_);if(e.isShapeOfType(P,"group"))return[];const F=[],U=e.getShapeUtil(P);if(U.toSvg||U.toBackgroundSvg){const[D,j]=await Promise.all([(k=U.toSvg)==null?void 0:k.call(U,P,y),(M=U.toBackgroundSvg)==null?void 0:M.call(U,P,y)]),$=e.getShapePageTransform(P);let Q=$.toCssString(),H=1;"scale"in P.props&&P.props.scale!==1&&(H=P.props.scale,Q=`${Q} scale(${P.props.scale}, ${P.props.scale})`);const W=e.getShapeMask(P.id),z=W?ct.From(ct.Inverse($)).applyToPoints(W):null,V=qz(d,P.id);z&&(x[V]={pending:!1,element:m.jsx("clipPath",{id:V,children:m.jsx("path",{d:`M${z.map(({x:G,y:X})=>`${G/H},${X/H}`).join("L")}Z`})})}),D&&F.push({zIndex:T,element:m.jsx("g",{transform:Q,opacity:B,clipPath:W?`url(#${V})`:void 0,children:D},`fg_${P.id}`)}),j&&F.push({zIndex:O,element:m.jsx("g",{transform:Q,opacity:B,clipPath:W?`url(#${V})`:void 0,children:j},`bg_${P.id}`)})}else F.push({zIndex:T,element:m.jsx(qIe,{shape:P,util:U,component:FDe,className:"tl-shape",bbox:i,opacity:B},`fg_${P.id}`)}),U.backgroundComponent&&F.push({zIndex:O,element:m.jsx(qIe,{shape:P,util:U,component:kDe,className:"tl-shape tl-shape-background",bbox:i,opacity:B},`bg_${P.id}`)});return F}),C=(await Promise.all(S)).flat();Vh.flushSync(()=>{f.update(_=>({..._,shapeElements:C.sort((B,T)=>B.zIndex-T.zIndex).map(({element:B})=>B),defsById:{..._.defsById,...x}}))})})()},[i,e,y,d,l,a,f]),I.useEffect(()=>{p!==null&&c()},[c,p]),m.jsx(gUt,{editor:e,context:y,children:m.jsxs("svg",{preserveAspectRatio:t,direction:"ltr",width:i.width*r,height:i.height*r,viewBox:`${i.minX} ${i.minY} ${i.width} ${i.height}`,strokeLinecap:"round",strokeLinejoin:"round",style:{backgroundColor:o?a?A.solid:A.background:"transparent"},"data-color-mode":s?"dark":"light",className:`tl-container tl-theme__force-sRGB ${s?"tl-theme__dark":"tl-theme__light"}`,children:[m.jsx("defs",{children:Object.entries(h).map(([x,S])=>S.pending?null:m.jsx(I.Fragment,{children:S.element},x))}),p]})})}function qIe({shape:e,util:t,className:r,component:n,bbox:i,opacity:o}){const a=Ee(),s=ct.Translate(-i.minX,-i.minY).multiply(a.getShapePageTransform(e.id)),l=a.getShapeGeometry(e.id).bounds,c=Math.max(l.width,1),u=Math.max(l.height,1);return m.jsx(Hz,{fallback:()=>null,children:m.jsx("foreignObject",{x:i.minX,y:i.minY,width:i.w,height:i.h,className:"tl-shape-foreign-object",children:m.jsx("div",{className:r,"data-shape-type":e.type,style:{clipPath:a.getShapeClipPath(e.id),transform:s.toCssString(),width:c,height:u,opacity:o},children:m.jsx(n,{shape:e,util:t})})})})}let BUt=1;async function PUt(e,t,r={}){const n=EUt(e,t,r);if(!n)return;const i=e.getContainer(),o=document.createElement("div");o.className="tldraw-svg-export",o.inert=!0,o.tabIndex=-1,Object.assign(o.style,{position:"absolute",top:"0px",left:"0px",width:n.width+"px",height:n.height+"px",pointerEvents:"none",opacity:0}),i.appendChild(o);const a=xTe.createRoot(o,{identifierPrefix:`export_${BUt++}_`});try{await Promise.resolve(),Vh.flushSync(()=>{a.render(n.jsx)}),await n.exportDelay.resolve();const s=o.firstElementChild;return vr(s instanceof SVGSVGElement,"Expected an SVG element"),await TUt(s),{svg:s,width:n.width,height:n.height}}finally{setTimeout(()=>{a.unmount(),i.removeChild(o)},0)}}async function TUt(e){const t=[...e.querySelectorAll("foreignObject.tl-shape-foreign-object > *")];if(!t.length)return;const r=new lUt(e);try{r.fonts.startFindingCurrentDocumentFontFaces(),await Promise.all(t.map(o=>YNe(o)));for(const o of t)r.readRootElementStyles(o);await r.fetchResources();const n=await r.getFontFaceCss();r.unwrapCustomElements();const i=r.embedStyles();if(n||i){const o=document.createElementNS("http://www.w3.org/2000/svg","style");o.textContent=`${n}
${i}`,e.prepend(o)}}finally{r.dispose()}}let m4=null;function OUt(){return m4||(m4={maxWidth:v4("width"),maxHeight:v4("height"),maxArea:v4("area")}),m4}const zIe=8192,RUt=4096*4096,MUt={area:[16384,14188,11402,11180,10836,8192,4096],height:[8388607,65535,32767,16384,8192,4096],width:[4194303,65535,32767,16384,8192,4096]};function v4(e){const t=document.createElement("canvas");t.width=1,t.height=1;const r=t.getContext("2d");for(const n of MUt[e]){const i=e==="height"?1:n,o=e==="width"?1:n,a=document.createElement("canvas");a.width=i,a.height=o,a.getContext("2d").fillRect(i-1,o-1,1,1),r.drawImage(a,i-1,o-1,1,1,0,0,1,1);const l=r.getImageData(0,0,1,1).data[3]!==0;if(a.width=0,a.height=0,l)return t.width=0,t.height=0,e==="area"?n*n:n}throw t.width=0,t.height=0,Error("Failed to determine maximum canvas dimension")}function FUt(e,t){if(e<=zIe&&t<=zIe&&e*t<=RUt)return[e,t];const{maxWidth:r,maxHeight:n,maxArea:i}=OUt(),o=e/t;if(e>r&&(e=r,t=e/o),t>n&&(t=n,e=t*o),e*t>i){const a=Math.sqrt(i/(e*t));e*=a,t*=a}return[e,t]}async function kUt(e,t){const{type:r,width:n,height:i,quality:o=1,pixelRatio:a=2}=t;let[s,l]=FUt(n*a,i*a);s=Math.floor(s),l=Math.floor(l);const c=s/n,u=await fl.blobToDataUrl(new Blob([e],{type:"image/svg+xml"})),d=await new Promise(f=>{const h=Lw();h.crossOrigin="anonymous",h.onload=async()=>{an.isSafari&&await U3(250);const p=document.createElement("canvas"),v=p.getContext("2d");p.width=s,p.height=l,v.imageSmoothingEnabled=!0,v.imageSmoothingQuality="high",v.drawImage(h,0,0,s,l),URL.revokeObjectURL(u),f(p)},h.onerror=()=>{f(null)},h.src=u});if(!d)return null;const A=await new Promise(f=>d.toBlob(h=>{(!h||xi.throwToBlob.get())&&f(null),f(h)},"image/"+r,o));if(!A)return null;if(r==="png"){const f=new DataView(await A.arrayBuffer());return Wc.setPhysChunk(f,c,{type:"image/"+r})}else return A}const Gl={menus:Ci("open menus",[]),getOpenMenus(e){return e?this.menus.get().filter(t=>t.endsWith("-"+e)):this.menus.get()},addOpenMenu(e,t=""){const r=t?`${e}-${t}`:e,n=new Set(this.menus.get());n.has(r)||(n.add(r),this.menus.set([...n]))},deleteOpenMenu(e,t=""){const r=t?`${e}-${t}`:e,n=new Set(this.menus.get());n.has(r)&&(n.delete(r),this.menus.set([...n]))},clearOpenMenus(e){this.menus.set(e?this.menus.get().filter(t=>!t.endsWith("-"+e)):[])},_hiddenMenus:[],hideOpenMenus(e){if(this._hiddenMenus=[...this.getOpenMenus(e)],this._hiddenMenus.length!==0)for(const t of this._hiddenMenus)this.deleteOpenMenu(t,e)},showOpenMenus(e){if(this._hiddenMenus.length!==0){for(const t of this._hiddenMenus)this.addOpenMenu(t,e);this._hiddenMenus=[]}},isMenuOpen(e,t){return this.getOpenMenus(t).includes(e)},hasOpenMenus(e){return this.getOpenMenus(e).length>0},hasAnyOpenMenus(){return this.getOpenMenus().length>0},forContext(e){return{getOpenMenus:()=>this.getOpenMenus(e),addOpenMenu:t=>this.addOpenMenu(t,e),deleteOpenMenu:t=>this.deleteOpenMenu(t,e),clearOpenMenus:()=>this.clearOpenMenus(e),isMenuOpen:t=>this.isMenuOpen(t,e),hasOpenMenus:()=>this.hasOpenMenus(e),hasAnyOpenMenus:()=>this.hasAnyOpenMenus()}}},i5=new HSt,UUt={maxShapesPerPage:4e3,maxFilesAtOnce:100,maxPages:40,animationMediumMs:320,followChaseViewportSnap:2,doubleClickDurationMs:450,multiClickDurationMs:200,coarseDragDistanceSquared:36,dragDistanceSquared:16,defaultSvgPadding:32,cameraSlideFriction:.09,gridSteps:[{min:-1,mid:.15,step:64},{min:.05,mid:.375,step:16},{min:.15,mid:1,step:4},{min:.7,mid:2.5,step:1}],collaboratorInactiveTimeoutMs:6e4,collaboratorIdleTimeoutMs:3e3,collaboratorCheckIntervalMs:1200,cameraMovingTimeoutMs:64,hitTestMargin:8,edgeScrollDelay:200,edgeScrollEaseDuration:200,edgeScrollSpeed:25,edgeScrollDistance:8,coarsePointerWidth:12,coarseHandleRadius:20,handleRadius:12,longPressDurationMs:500,textShadowLod:.35,adjacentShapeMargin:10,flattenImageBoundsExpand:64,flattenImageBoundsPadding:16,laserDelayMs:1200,maxExportDelayMs:5e3,temporaryAssetPreviewLifetimeMs:18e4,actionShortcutsLocation:"swap",createTextOnCanvasDoubleClick:!0,exportProvider:I.Fragment,enableToolbarKeyboardShortcuts:!0};function KIe(e,t){if(!t)return!1;switch(e.type){case"mixed":return t.type==="mixed";case"shared":return t.type==="shared"&&e.value===t.value;default:throw Di(e)}}class DUt{constructor(t){K(this,"map");this.map=new Map(t)}get(t){return this.map.get(t)}getAsKnownValue(t){const r=this.get(t);if(r&&r.type!=="mixed")return r.value}get size(){return this.map.size}equals(t){if(this.size!==t.size)return!1;const r=new Set;for(const[n,i]of this){if(!KIe(i,t.get(n)))return!1;r.add(n)}for(const[n,i]of t)if(!r.has(n)&&!KIe(i,this.get(n)))return!1;return!0}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.map[Symbol.iterator]()}}class o5 extends DUt{set(t,r){this.map.set(t,r)}applyValue(t,r){const n=this.get(t);if(!n){this.set(t,{type:"shared",value:r});return}switch(n.type){case"mixed":return;case"shared":n.value!==r&&this.set(t,{type:"mixed"});return;default:Di(n,"type")}}}function jUt(e,t,r){return lu(e).then(function(n){return n.arrayBuffer()}).then(function(n){return new File([n],t,{type:r})})}const LUt="https://cdn.tldraw.com";function jA(){return`${LUt}/${pDe}`}function NUt(e){switch(e.type){case"shapes":return`s${e.shapeIds.map(r=>y4(r.slice(6))).join(".")}`;case"page":return"p"+y4(Rs.parseId(e.pageId));case"viewport":{const{bounds:t,pageId:r}=e;let n=`v${Math.round(t.x)}.${Math.round(t.y)}.${Math.round(t.w)}.${Math.round(t.h)}`;return r&&(n+="."+y4(Rs.parseId(r))),n}default:Di(e)}}function $Ut(e){switch(e[0]){case"s":return{type:"shapes",shapeIds:e.slice(1).split(".").filter(Boolean).map(n=>cn(decodeURIComponent(n)))};case"p":return{type:"page",pageId:Rs.createId(decodeURIComponent(e.slice(1)))};case"v":{const[r,n,i,o,a]=e.slice(1).split(".");return{type:"viewport",bounds:new st(Number(r),Number(n),Number(i),Number(o)),pageId:a?Rs.createId(decodeURIComponent(a)):void 0}}default:throw Error("Invalid deep link string")}}function y4(e){return encodeURIComponent(e).replace(/\./g,"%2E")}function QUt(e,t){var i;let r=e;const n=new Set(t);for(;n.has(r);)r=(i=/^.*(\d+)$/.exec(r))!=null&&i[1]?r.replace(/(\d+)(?=\D?)$/,o=>(+o+1).toString()):`${r} 1`;return r}function O1(e,t,r,n){if(r.length===0)return[];const i=new Map;for(const a of lr(r.map(s=>e.getShape(s)))){const{parentId:s}=a;i.has(s)||i.set(s,{children:lr(e.getSortedChildIdsForParent(s).map(l=>e.getShape(l))),moving:new Set}),i.get(s).moving.add(a)}const o=[];switch(t){case"toBack":{i.forEach(({moving:a,children:s})=>HUt(a,s,o));break}case"toFront":{i.forEach(({moving:a,children:s})=>qUt(a,s,o));break}case"forward":{i.forEach(({moving:a,children:s})=>zUt(e,a,s,o,n));break}case"backward":{i.forEach(({moving:a,children:s})=>KUt(e,a,s,o,n));break}}return o}function HUt(e,t,r){const n=t.length;if(e.size===n)return;let i,o;for(let a=0;a<n;a++){const s=t[a];if(e.has(s))i=s.index,e.delete(s);else{o=s.index;break}}if(e.size!==0){const a=_m(i,o,e.size);r.push(...Array.from(e.values()).sort(ta).map((s,l)=>({...s,index:a[l]})))}}function qUt(e,t,r){const n=t.length;if(e.size===n)return;let i,o;for(let a=n-1;a>-1;a--){const s=t[a];if(e.has(s))o=s.index,e.delete(s);else{i=s.index;break}}if(e.size!==0){const a=_m(i,o,e.size);r.push(...Array.from(e.values()).sort(ta).map((s,l)=>({...s,index:a[l]})))}}function WIe(e,t){const r=e.getShapeGeometry(t),n=e.getShapePageTransform(t);return!r||!n?null:n.applyToPoints(r.vertices)}function n$e(e,t){const r=Array.from(t).map(i=>{const o=WIe(e,i);return o?{shape:i,vertices:o}:null}).filter(Boolean);return i=>{const o=WIe(e,i);return o?r.some(a=>DK(a.vertices,o)):!1}}function zUt(e,t,r,n,i){var l;const o=n$e(e,t),a=r.length;if(t.size===a)return;let s={name:"skipping"};for(let c=0;c<a;c++){const u=t.has(r[c]);switch(s.name){case"skipping":{if(!u)continue;s={name:"selecting",selectIndex:c};break}case"selecting":{if(u||!(i!=null&&i.considerAllShapes)&&!o(r[c]))continue;const{selectIndex:d}=s;_m(r[c].index,(l=r[c+1])==null?void 0:l.index,c-d).forEach((A,f)=>{const h=r[d+f];t.has(h)&&n.push({...h,index:A})}),s={name:"skipping"};break}}}}function KUt(e,t,r,n,i){var l;const o=n$e(e,t),a=r.length;if(t.size===a)return;let s={name:"skipping"};for(let c=a-1;c>-1;c--){const u=t.has(r[c]);switch(s.name){case"skipping":{if(!u)continue;s={name:"selecting",selectIndex:c};break}case"selecting":{if(u||!(i!=null&&i.considerAllShapes)&&!o(r[c]))continue;_m((l=r[c-1])==null?void 0:l.index,r[c].index,s.selectIndex-c).forEach((d,A)=>{const f=r[c+A+1];t.has(f)&&n.push({...f,index:d})}),s={name:"skipping"};break}}}}function i$e({editor:e,ids:t}){const r=lr(t.map(a=>e.getShape(a))),n=e.getShapesSharedRotation(t),i=e.getShapesRotatedPageBounds(t);if(!i)return null;const o=i.center.clone().rotWith(i.point,n);return{pageCenter:o,initialCursorAngle:o.angle(e.inputs.originPagePoint),initialShapesRotation:n,shapeSnapshots:r.map(a=>({shape:a,initialPagePoint:e.getShapePageTransform(a.id).point()}))}}function IC({delta:e,editor:t,snapshot:r,stage:n,centerOverride:i}){const{pageCenter:o,shapeSnapshots:a}=r;t.updateShapes(a.map(({shape:l,initialPagePoint:c})=>{const u=Wa(l.parentId)?t.getShapePageTransform(l.parentId):ct.Identity(),d=L.RotWith(c,i??o,e),A=ct.applyToPoint(ct.Inverse(u),d),f=Sh(l.rotation+e);return{id:l.id,type:l.type,x:A.x,y:A.y,rotation:f}}));const s=[];a.forEach(({shape:l})=>{var A,f,h;const c=t.getShape(l.id);if(!c)return;const u=t.getShapeUtil(l);if(n==="start"||n==="one-off"){const p=(A=u.onRotateStart)==null?void 0:A.call(u,l);p&&s.push(p)}const d=(f=u.onRotate)==null?void 0:f.call(u,l,c);if(d&&s.push(d),n==="end"||n==="one-off"){const p=(h=u.onRotateEnd)==null?void 0:h.call(u,l,c);p&&s.push(p)}}),s.length>0&&t.updateShapes(s)}const WUt=e=>{const{store:t}=e,r=t.query.filterHistory("binding"),n=t.query.records("binding");function i(){const o=n.get(),a=new Map;for(const s of o){const{fromId:l,toId:c}=s,u=a.get(l);u?u.push(s):a.set(l,[s]);const d=a.get(c);d?d.push(s):a.set(c,[s])}return a}return qe("arrowBindingsIndex",(o,a)=>{if(xh(o))return i();const s=o,l=r.getDiffSince(a);if(l===Es)return i();let c;function u(f){c??(c=new Map(s));const h=c.get(f.fromId),p=h==null?void 0:h.filter(b=>b.id!==f.id);p!=null&&p.length?c.set(f.fromId,p):c.delete(f.fromId);const v=c.get(f.toId),y=v==null?void 0:v.filter(b=>b.id!==f.id);y!=null&&y.length?c.set(f.toId,y):c.delete(f.toId)}function d(f){c??(c=new Map(s));let h=c.get(f);return h?h===s.get(f)&&(h=h.slice(0),c.set(f,h)):(h=[],c.set(f,h)),h}function A(f){d(f.fromId).push(f),d(f.toId).push(f)}for(const f of l){for(const h of Fi(f.added))A(h);for(const[h,p]of Fi(f.updated))u(h),A(p);for(const h of Fi(f.removed))u(h)}return c??s})};function VUt(e,t,r){const n=e.getShapeMaskedPageBounds(t);return n===void 0?!0:!r.includes(n)}const GUt=e=>{function t(r){const n=r.getCurrentPageShapeIds(),i=r.getViewportPageBounds(),o=new Set;return n.forEach(a=>{VUt(r,a,i)&&o.add(a)}),o}return qe("getCulledShapes",r=>{if(xh(r))return t(e);const n=t(e);if(r.size!==n.size)return n;for(const i of r)if(!n.has(i))return n;return r})},YUt=e=>{const t=e.query.ids("shape"),r=e.query.filterHistory("shape");function n(){const i={},o=t.get(),a=Array(o.size);return o.forEach(s=>a.push(e.get(s))),a.sort(ta),a.forEach(s=>{i[s.parentId]||(i[s.parentId]=[]),i[s.parentId].push(s.id)}),i}return qe("parentsToChildrenWithIndexes",(i,o)=>{if(xh(i))return n();const a=r.getDiffSince(o);if(a===Es)return n();if(a.length===0)return i;let s=null;const l=d=>{s||(s={...i}),s[d]?s[d]===i[d]&&(s[d]=[...s[d]]):s[d]=[]},c=new Set;let u;for(let d=0,A=a.length;d<A;d++){u=a[d];for(const f of Object.values(u.added))Og(f)&&(l(f.parentId),s[f.parentId].push(f.id),c.add(s[f.parentId]));for(const[f,h]of Object.values(u.updated))if(Og(h)&&Og(f)){if(f.parentId!==h.parentId)l(f.parentId),l(h.parentId),s[f.parentId].splice(s[f.parentId].indexOf(h.id),1),s[h.parentId].push(h.id),c.add(s[h.parentId]);else if(f.index!==h.index){l(h.parentId);const p=s[h.parentId].indexOf(h.id);s[h.parentId][p]=h.id,c.add(s[h.parentId])}}for(const f of Object.values(u.removed))Og(f)&&(l(f.parentId),s[f.parentId].splice(s[f.parentId].indexOf(f.id),1))}for(const d of c){const A=lr(d.map(f=>e.get(f)));A.sort(ta),d.splice(0,d.length,...A.map(f=>f.id))}return s??i})},w4=(e,t,r)=>{for(;!Ha(r.parentId);){const n=e.get(r.parentId);if(!n)return!1;r=n}return r.parentId===t},XUt=(e,t)=>{const r=e.query.ids("shape");let n=null;function i(){const o=t();return n=o,new Set([...r.get()].filter(a=>w4(e,o,e.get(a))))}return qe("_shapeIdsInCurrentPage",(o,a)=>{if(xh(o))return i();const s=t();if(s!==n)return i();const l=e.history.getDiffSince(a);if(l===Es)return i();const c=new SC(o);for(const d of l){for(const A of Object.values(d.added))Og(A)&&w4(e,s,A)&&c.add(A.id);for(const[A,f]of Object.values(d.updated))Og(f)&&(w4(e,s,f)?c.add(f.id):c.remove(f.id));for(const A of Object.keys(d.removed))Wa(A)&&c.remove(A)}const u=c.get();return u?s0(u.value,u.diff):o})};var JUt=Object.create,o$e=Object.defineProperty,ZUt=Object.getOwnPropertyDescriptor,eDt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),a$e=e=>{throw TypeError(e)},s$e=(e,t,r)=>t in e?o$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tDt=e=>[,,,JUt(null)],l$e=["class","method","getter","setter","accessor","field","value","get","set"],c$e=e=>e!==void 0&&typeof e!="function"?a$e("Function expected"):e,rDt=(e,t,r,n,i)=>({kind:l$e[e],name:t,metadata:n,addInitializer:o=>r._?a$e("Already initialized"):i.push(c$e(o||null))}),nDt=(e,t)=>s$e(t,eDt("metadata"),e[3]),iDt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},u$e=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=l$e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,ZUt(i,r)),y=n.length-1;y>=0;y--)l=rDt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,c$e(a)&&(v[h]=a);return v&&o$e(i,r,v),i},dg=(e,t,r)=>s$e(e,typeof t!="symbol"?t+"":t,r),d$e,A$e,ax;const oDt=40;A$e=[Ja],d$e=[Ja];class UP{constructor(t){this.editor=t,iDt(ax,5,this),dg(this,"_clickId",""),dg(this,"_clickTimeout"),dg(this,"_clickScreenPoint"),dg(this,"_previousScreenPoint"),dg(this,"_clickState","idle"),dg(this,"lastPointerInfo",{})}_getClickTimeout(t,r=tn()){this._clickId=r,clearTimeout(this._clickTimeout),this._clickTimeout=this.editor.timers.setTimeout(()=>{if(this._clickState===t&&this._clickId===r){switch(this._clickState){case"pendingTriple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"double_click",phase:"settle"});break}case"pendingQuadruple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"triple_click",phase:"settle"});break}case"pendingOverflow":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"settle"});break}}this._clickState="idle"}},t==="idle"||t==="pendingDouble"?this.editor.options.doubleClickDurationMs:this.editor.options.multiClickDurationMs)}get clickState(){return this._clickState}handlePointerEvent(t){switch(t.name){case"pointer_down":{if(!this._clickState)return t;switch(this._clickScreenPoint=L.From(t.point),this._previousScreenPoint&&L.Dist2(this._previousScreenPoint,this._clickScreenPoint)>oDt**2&&(this._clickState="idle"),this._previousScreenPoint=this._clickScreenPoint,this.lastPointerInfo=t,this._clickState){case"pendingDouble":return this._clickState="pendingTriple",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"double_click",phase:"down"};case"pendingTriple":return this._clickState="pendingQuadruple",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"triple_click",phase:"down"};case"pendingQuadruple":return this._clickState="pendingOverflow",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"quadruple_click",phase:"down"};case"idle":{this._clickState="pendingDouble";break}case"pendingOverflow":{this._clickState="overflow";break}}return this._clickTimeout=this._getClickTimeout(this._clickState),t}case"pointer_up":{if(!this._clickState)return t;switch(this._clickScreenPoint=L.From(t.point),this._clickState){case"pendingTriple":return{...this.lastPointerInfo,type:"click",name:"double_click",phase:"up"};case"pendingQuadruple":return{...this.lastPointerInfo,type:"click",name:"triple_click",phase:"up"};case"pendingOverflow":return{...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"up"}}return t}case"pointer_move":return this._clickState!=="idle"&&this._clickScreenPoint&&L.Dist2(this._clickScreenPoint,this.editor.inputs.currentScreenPoint)>(this.editor.getInstanceState().isCoarsePointer?this.editor.options.coarseDragDistanceSquared:this.editor.options.dragDistanceSquared)&&this.cancelDoubleClickTimeout(),t}return t}cancelDoubleClickTimeout(){this._clickTimeout=clearTimeout(this._clickTimeout),this._clickState="idle"}}ax=tDt();u$e(ax,1,"_getClickTimeout",A$e,UP);u$e(ax,1,"cancelDoubleClickTimeout",d$e,UP);nDt(ax,UP);class aDt{constructor(t){K(this,"_isEdgeScrolling",!1);K(this,"_edgeScrollDuration",-1);this.editor=t}updateEdgeScrolling(t){const{editor:r}=this,n=this.getEdgeScroll();if(n.x===0&&n.y===0)this._isEdgeScrolling&&(this._isEdgeScrolling=!1,this._edgeScrollDuration=0);else if(this._isEdgeScrolling||(this._isEdgeScrolling=!0,this._edgeScrollDuration=0),this._edgeScrollDuration+=t,this._edgeScrollDuration>r.options.edgeScrollDelay){const i=r.options.edgeScrollEaseDuration>0?so.easeInCubic(Math.min(1,this._edgeScrollDuration/(r.options.edgeScrollDelay+r.options.edgeScrollEaseDuration))):1;this.moveCameraWhenCloseToEdge({x:n.x*i,y:n.y*i})}}getEdgeProximityFactors(t,r,n,i,o){const{editor:a}=this,s=a.options.edgeScrollDistance,l=n?a.options.coarsePointerWidth:0,c=t-l,u=t+l,d=i?0:s,A=o?r:r-s;return c<d?Math.min(1,(d-c)/s):u>A?-Math.min(1,(u-A)/s):0}getEdgeScroll(){const{editor:t}=this,{inputs:{currentScreenPoint:{x:r,y:n}}}=t,i=t.getViewportScreenBounds(),{isCoarsePointer:o,insets:[a,s,l,c]}=t.getInstanceState(),u=this.getEdgeProximityFactors(r,i.w,o,c,s),d=this.getEdgeProximityFactors(n,i.h,o,a,l);return{x:u,y:d}}moveCameraWhenCloseToEdge(t){const{editor:r}=this;if(!r.inputs.isDragging||r.inputs.isPanning||r.getCameraOptions().isLocked||t.x===0&&t.y===0)return;const n=r.getViewportScreenBounds(),i=n.w<1e3?.612:1,o=n.h<1e3?.612:1,a=r.getZoomLevel(),s=r.user.getEdgeScrollSpeed()*r.options.edgeScrollSpeed,l=s*t.x*i/a,c=s*t.y*o/a,{x:u,y:d,z:A}=r.getCamera();r.setCamera(new L(u+l,d+c,A))}}class sDt{constructor(t,r){K(this,"disposeSideEffectListener");this.editor=t,this.disposeSideEffectListener=t.sideEffects.registerAfterChangeHandler("instance",(i,o)=>{i.isFocused!==o.isFocused&&this.updateContainerClass()});const n=t.getInstanceState().isFocused;r!==n&&t.updateInstanceState({isFocused:!!r}),this.updateContainerClass()}updateContainerClass(){const t=this.editor.getContainer();this.editor.getInstanceState().isFocused?t.classList.add("tl-container__focused"):t.classList.remove("tl-container__focused")}focus(){this.editor.getContainer().focus()}blur(){this.editor.complete(),this.editor.getContainer().blur()}dispose(){var t;(t=this.disposeSideEffectListener)==null||t.call(this)}}function Dy(e){return cDt}class lDt{constructor(){K(this,"length",0);K(this,"head",null);K(this,"tail",this)}push(t){return new HK(t,this)}toArray(){return vd}[Symbol.iterator](){return{next(){return{value:void 0,done:!0}}}}}const cDt=new lDt;class HK{constructor(t,r){K(this,"length");this.head=t,this.tail=r,this.length=r.length+1}push(t){return new HK(t,this)}toArray(){return Array.from(this)}[Symbol.iterator](){let t=this;return{next(){if(t.length){const r=t.head;return t=t.tail,{value:r,done:!1}}else return{value:void 0,done:!0}}}}}class uDt{constructor(t){K(this,"store");K(this,"dispose");K(this,"state","recording");K(this,"pendingDiff",new ADt);K(this,"stacks",Ci("HistoryManager.stacks",{undos:Dy(),redos:Dy()},{isEqual:(t,r)=>t.undos===r.undos&&t.redos===r.redos}));K(this,"annotateError");K(this,"_isInBatch",!1);this.store=t.store,this.annotateError=t.annotateError??jw,this.dispose=this.store.addHistoryInterceptor((r,n)=>{if(n==="user")switch(this.state){case"recording":this.pendingDiff.apply(r.changes),this.stacks.update(({undos:i})=>({undos:i,redos:Dy()}));break;case"recordingPreserveRedoStack":this.pendingDiff.apply(r.changes);break;case"paused":break;default:Di(this.state)}})}flushPendingDiff(){if(this.pendingDiff.isEmpty())return;const t=this.pendingDiff.clear();this.stacks.update(({undos:r,redos:n})=>({undos:r.push({type:"diff",diff:t}),redos:n}))}getNumUndos(){return this.stacks.get().undos.length+(this.pendingDiff.isEmpty()?0:1)}getNumRedos(){return this.stacks.get().redos.length}batch(t,r){const n=this.state;n!=="paused"&&(r!=null&&r.history)&&(this.state=dDt[r.history]);try{if(this._isInBatch)return Ca(t),this;this._isInBatch=!0;try{Ca(t)}catch(i){throw this.annotateError(i),i}finally{this._isInBatch=!1}return this}finally{this.state=n}}_undo({pushToRedoStack:t,toMark:r=void 0}){var i;const n=this.state;this.state="paused";try{let{undos:o,redos:a}=this.stacks.get();const s=this.pendingDiff.clear(),l=EUe(s),c=K3(s);t&&!l&&(a=a.push({type:"diff",diff:s}));let u=!1;if(l)for(;((i=o.head)==null?void 0:i.type)==="stop";){const d=o.head;if(o=o.tail,t&&(a=a.push(d)),d.id===r){u=!0;break}}if(!u)e:for(;o.head;){const d=o.head;switch(o=o.tail,t&&(a=a.push(d)),d.type){case"diff":F0(c,[K3(d.diff)]);break;case"stop":if(!r)break e;if(d.id===r){u=!0;break e}break;default:Di(d)}}if(!u&&r)return this;this.store.applyDiff(c,{ignoreEphemeralKeys:!0}),this.store.ensureStoreIsUsable(),this.stacks.set({undos:o,redos:a})}finally{this.state=n}return this}undo(){return this._undo({pushToRedoStack:!0}),this}redo(){var r;const t=this.state;this.state="paused";try{this.flushPendingDiff();let{undos:n,redos:i}=this.stacks.get();if(i.length===0)return this;for(;((r=i.head)==null?void 0:r.type)==="stop";)n=n.push(i.head),i=i.tail;const o=OE();for(;i.head;){const a=i.head;if(n=n.push(a),i=i.tail,a.type==="diff")F0(o,[a.diff]);else break}this.store.applyDiff(o,{ignoreEphemeralKeys:!0}),this.store.ensureStoreIsUsable(),this.stacks.set({undos:n,redos:i})}finally{this.state=t}return this}bail(){return this._undo({pushToRedoStack:!1}),this}bailToMark(t){return this._undo({pushToRedoStack:!1,toMark:t}),this}squashToMark(t){var o;let r=this.stacks.get().undos;const n=[];for(;r.head&&!(r.head.type==="stop"&&r.head.id===t);)r.head.type==="diff"&&n.push(r.head.diff),r=r.tail;if(!r.head||((o=r.head)==null?void 0:o.id)!==t)return console.error("Could not find mark to squash to: ",t),this;if(n.length===0)return this;const i=OE();return F0(i,n.reverse()),this.stacks.update(({redos:a})=>({undos:r.push({type:"diff",diff:i}),redos:a})),this}_mark(t){Ca(()=>{this.flushPendingDiff(),this.stacks.update(({undos:r,redos:n})=>({undos:r.push({type:"stop",id:t}),redos:n}))})}clear(){this.stacks.set({undos:Dy(),redos:Dy()}),this.pendingDiff.clear()}getMarkIdMatching(t){let r=this.stacks.get().undos;for(;r.head;){if(r.head.type==="stop"&&r.head.id.includes(t))return r.head.id;r=r.tail}return null}debug(){const{undos:t,redos:r}=this.stacks.get();return{undos:t.toArray(),redos:r.toArray(),pendingDiff:this.pendingDiff.debug(),state:this.state}}}const dDt={record:"recording","record-preserveRedoStack":"recordingPreserveRedoStack",ignore:"paused"};class ADt{constructor(){K(this,"diff",OE());K(this,"isEmptyAtom",Ci("PendingDiff.isEmpty",!0))}clear(){const t=this.diff;return this.diff=OE(),this.isEmptyAtom.set(!0),t}isEmpty(){return this.isEmptyAtom.get()}apply(t){F0(this.diff,[t]),this.isEmptyAtom.set(EUe(this.diff))}debug(){return{diff:this.diff,isEmpty:this.isEmpty()}}}class fDt{constructor(t){K(this,"scribbleItems",new Map);K(this,"state","paused");this.editor=t}addScribble(t,r=tn()){const n={id:r,scribble:{id:r,size:20,color:"accent",opacity:.8,delay:0,points:[],shrink:.1,taper:!0,...t,state:"starting"},timeoutMs:0,delayRemaining:t.delay??0,prev:null,next:null};return this.scribbleItems.set(r,n),n}reset(){this.editor.updateInstanceState({scribbles:[]}),this.scribbleItems.clear()}stop(t){const r=this.scribbleItems.get(t);if(!r)throw Error(`Scribble with id ${t} not found`);return r.delayRemaining=Math.min(r.delayRemaining,200),r.scribble.state="stopping",r}addPoint(t,r,n,i=.5){const o=this.scribbleItems.get(t);if(!o)throw Error(`Scribble with id ${t} not found`);const{prev:a}=o,s={x:r,y:n,z:i};return(!a||L.Dist(a,s)>=1)&&(o.next=s),o}tick(t){this.scribbleItems.size!==0&&this.editor.run(()=>{this.scribbleItems.forEach(r=>{if(r.scribble.state==="starting"){const{next:l,prev:c}=r;l&&l!==c&&(r.prev=l,r.scribble.points.push(l)),r.scribble.points.length>8&&(r.scribble.state="active");return}r.delayRemaining>0&&(r.delayRemaining=Math.max(0,r.delayRemaining-t)),r.timeoutMs+=t,r.timeoutMs>=16&&(r.timeoutMs=0);const{delayRemaining:n,timeoutMs:i,prev:o,next:a,scribble:s}=r;switch(s.state){case"active":{a&&a!==o?(r.prev=a,s.points.push(a),n===0&&s.points.length>8&&s.points.shift()):i===0&&(s.points.length>1?s.points.shift():r.delayRemaining=s.delay);break}case"stopping":{if(r.delayRemaining===0&&i===0){if(s.points.length===1){this.scribbleItems.delete(r.id);return}s.shrink&&(s.size=Math.max(1,s.size*(1-s.shrink))),s.points.shift()}break}}}),this.editor.updateInstanceState({scribbles:Array.from(this.scribbleItems.values()).map(({scribble:r})=>({...r,points:[...r.points]})).slice(-5)})})}}var hDt=Object.create,f$e=Object.defineProperty,pDt=Object.getOwnPropertyDescriptor,gDt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),h$e=e=>{throw TypeError(e)},p$e=(e,t,r)=>t in e?f$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mDt=e=>[,,,hDt(null)],g$e=["class","method","getter","setter","accessor","field","value","get","set"],m$e=e=>e!==void 0&&typeof e!="function"?h$e("Function expected"):e,vDt=(e,t,r,n,i)=>({kind:g$e[e],name:t,metadata:n,addInitializer:o=>r._?h$e("Already initialized"):i.push(m$e(o||null))}),yDt=(e,t)=>p$e(t,gDt("metadata"),e[3]),wDt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},DP=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=g$e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,pDt(i,r)),y=n.length-1;y>=0;y--)l=vDt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,m$e(a)&&(v[h]=a);return v&&f$e(i,r,v),i},bDt=(e,t,r)=>p$e(e,t+"",r),v$e,y$e,w$e,b$e,mp;const Wt=e=>Math.round(e*10**8)/10**8;function td(e,t,r,n,i){const o=e.filter(s=>(n==="forward"?s.startNode.id===t:s.endNode.id===t)&&Wt(s.length)===Wt(r)&&Vl(s.breadthIntersection[0],s.breadthIntersection[1],i[0],i[1]));if(o.length===0)return[];const a=new Set;return o.forEach(s=>{const l=n==="forward"?s.endNode.id:s.startNode.id;if(!a.has(l)){a.add(l);const c=td(e,l,r,n,Vl(s.breadthIntersection[0],s.breadthIntersection[1],i[0],i[1]));o.push(...c)}}),o}function xDt(e){e.sort((t,r)=>r.gaps.length-t.gaps.length);for(let t=e.length-1;t>0;t--){const r=e[t];for(let n=t-1;n>=0;n--){const i=e[n];if(i.direction===r.direction&&r.gaps.every(o=>i.gaps.some(a=>Wt(o.startEdge[0].x)===Wt(a.startEdge[0].x)&&Wt(o.startEdge[0].y)===Wt(a.startEdge[0].y)&&Wt(o.startEdge[1].x)===Wt(a.startEdge[1].x)&&Wt(o.startEdge[1].y)===Wt(a.startEdge[1].y))&&i.gaps.some(a=>Wt(o.endEdge[0].x)===Wt(a.endEdge[0].x)&&Wt(o.endEdge[0].y)===Wt(a.endEdge[0].y)&&Wt(o.endEdge[1].x)===Wt(a.endEdge[1].x)&&Wt(o.endEdge[1].y)===Wt(a.endEdge[1].y)))){e.splice(t,1);break}}}}b$e=[qe],w$e=[qe],y$e=[qe],v$e=[qe];class wv{constructor(t){this.manager=t,wDt(mp,5,this),bDt(this,"editor"),this.editor=t.editor}getSnapPointsCache(){const{editor:t}=this;return t.store.createComputedCache("snapPoints",r=>{const n=t.getShapePageTransform(r.id);if(!n)return;const o=t.getShapeUtil(r).getBoundsSnapGeometry(r).points??t.getShapeGeometry(r).bounds.cornersAndCenter;if(!(!n||!o))return o.map((a,s)=>{const{x:l,y:c}=ct.applyToPoint(n,a);return{x:l,y:c,id:`${r.id}:${s}`}})})}getSnapPoints(t){return this.getSnapPointsCache().get(t)??[]}getSnappablePoints(){const t=this.getSnapPointsCache(),r=this.manager.getSnappableShapes(),n=[];for(const i of r){const o=t.get(i);o&&n.push(...o)}return n}getSnappableGapNodes(){return Array.from(this.manager.getSnappableShapes(),t=>({id:t,pageBounds:Va(this.editor.getShapePageBounds(t))}))}getVisibleGaps(){const t=[],r=[];let n,i;const o=this.getSnappableGapNodes().sort((s,l)=>s.pageBounds.minX-l.pageBounds.minX);for(let s=0;s<o.length;s++){n=o[s];for(let l=s+1;l<o.length;l++)i=o[l],n.pageBounds.maxX<i.pageBounds.minX&&Oy(n.pageBounds.minY,n.pageBounds.maxY,i.pageBounds.minY,i.pageBounds.maxY)&&t.push({startNode:n,endNode:i,startEdge:[new L(n.pageBounds.maxX,n.pageBounds.minY),new L(n.pageBounds.maxX,n.pageBounds.maxY)],endEdge:[new L(i.pageBounds.minX,i.pageBounds.minY),new L(i.pageBounds.minX,i.pageBounds.maxY)],length:i.pageBounds.minX-n.pageBounds.maxX,breadthIntersection:Vl(n.pageBounds.minY,n.pageBounds.maxY,i.pageBounds.minY,i.pageBounds.maxY)})}const a=o.sort((s,l)=>s.pageBounds.minY-l.pageBounds.minY);for(let s=0;s<a.length;s++){n=a[s];for(let l=s+1;l<a.length;l++)i=a[l],n.pageBounds.maxY<i.pageBounds.minY&&Oy(n.pageBounds.minX,n.pageBounds.maxX,i.pageBounds.minX,i.pageBounds.maxX)&&r.push({startNode:n,endNode:i,startEdge:[new L(n.pageBounds.minX,n.pageBounds.maxY),new L(n.pageBounds.maxX,n.pageBounds.maxY)],endEdge:[new L(i.pageBounds.minX,i.pageBounds.minY),new L(i.pageBounds.maxX,i.pageBounds.minY)],length:i.pageBounds.minY-n.pageBounds.maxY,breadthIntersection:Vl(n.pageBounds.minX,n.pageBounds.maxX,i.pageBounds.minX,i.pageBounds.maxX)})}return{horizontal:t,vertical:r}}snapTranslateShapes({lockedAxis:t,initialSelectionPageBounds:r,initialSelectionSnapPoints:n,dragDelta:i}){var v,y;const o=this.manager.getSnapThreshold(),a=this.getSnappablePoints(),s=r.clone().translate(i),l=n.map(({x:b,y:x},S)=>({id:"selection:"+S,x:b+i.x,y:x+i.y})),c=a,u=[],d=[],A=new L(o,o);this.collectPointSnaps({minOffset:A,nearestSnapsX:u,nearestSnapsY:d,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:s,nearestSnapsX:u,nearestSnapsY:d,minOffset:A});const f=new L(t==="x"?0:((v=u[0])==null?void 0:v.nudge)??0,t==="y"?0:((y=d[0])==null?void 0:y.nudge)??0);A.x=0,A.y=0,u.length=0,d.length=0,l.forEach(b=>{b.x+=f.x,b.y+=f.y}),s.translate(f),this.collectPointSnaps({minOffset:A,nearestSnapsX:u,nearestSnapsY:d,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:s,nearestSnapsX:u,nearestSnapsY:d,minOffset:A});const h=this.getPointSnapLines({nearestSnapsX:u,nearestSnapsY:d}),p=this.getGapSnapLines({selectionPageBounds:s,nearestSnapsX:u,nearestSnapsY:d});return this.manager.setIndicators([...p,...h]),{nudge:f}}snapResizeShapes({initialSelectionPageBounds:t,dragDelta:r,handle:n,isAspectRatioLocked:i,isResizingFromCenter:o}){var B,T;const a=this.manager.getSnapThreshold(),{box:s,scaleX:l,scaleY:c}=st.Resize(t,n,o?r.x*2:r.x,o?r.y*2:r.y,i);let u=n;l<0&&(u=DEt(u)),c<0&&(u=UEt(u)),o&&(s.center=t.center);const d=u==="top"||u==="bottom",A=u==="left"||u==="right",f=VIe(u,s),h=this.getSnappablePoints(),p=[],v=[],y=new L(a,a);this.collectPointSnaps({minOffset:y,nearestSnapsX:p,nearestSnapsY:v,otherNodeSnapPoints:h,selectionSnapPoints:f});const b=new L(d?0:((B=p[0])==null?void 0:B.nudge)??0,A?0:((T=v[0])==null?void 0:T.nudge)??0);if(i&&jEt(u)&&b.len()!==0){const O=p.length&&v.length?Math.abs(b.x)<Math.abs(b.y)?"x":"y":p.length?"x":"y",P=t.aspectRatio;O==="x"?(v.length=0,b.y=b.x/P,(u==="bottom_left"||u==="top_right")&&(b.y=-b.y)):(p.length=0,b.x=b.y*P,(u==="bottom_left"||u==="top_right")&&(b.x=-b.x))}const x=L.Add(r,b),{box:S}=st.Resize(t,n,o?x.x*2:x.x,o?x.y*2:x.y,i);o&&(S.center=t.center);const C=VIe("any",S);p.length=0,v.length=0,y.x=0,y.y=0,this.collectPointSnaps({minOffset:y,nearestSnapsX:p,nearestSnapsY:v,otherNodeSnapPoints:h,selectionSnapPoints:C});const _=this.getPointSnapLines({nearestSnapsX:p,nearestSnapsY:v});return this.manager.setIndicators([..._]),{nudge:b}}collectPointSnaps({selectionSnapPoints:t,otherNodeSnapPoints:r,minOffset:n,nearestSnapsX:i,nearestSnapsY:o}){for(const a of t)for(const s of r){const l=L.Sub(a,s),c=Math.abs(l.x),u=Math.abs(l.y);Wt(c)<=Wt(n.x)&&(Wt(c)<Wt(n.x)&&(i.length=0),i.push({type:"points",points:{thisPoint:a,otherPoint:s},nudge:s.x-a.x}),n.x=c),Wt(u)<=Wt(n.y)&&(Wt(u)<Wt(n.y)&&(o.length=0),o.push({type:"points",points:{thisPoint:a,otherPoint:s},nudge:s.y-a.y}),n.y=u)}}collectGapSnaps({selectionPageBounds:t,minOffset:r,nearestSnapsX:n,nearestSnapsY:i}){const{horizontal:o,vertical:a}=this.getVisibleGaps();for(const s of o){if(!Oy(s.breadthIntersection[0],s.breadthIntersection[1],t.minY,t.maxY))continue;const c=s.startEdge[0].x+s.length/2-t.center.x;if(s.length>t.width&&Wt(Math.abs(c))<=Wt(r.x)){Wt(Math.abs(c))<Wt(r.x)&&(n.length=0),r.x=Math.abs(c);const y={type:"gap_center",gap:s,nudge:c},b=n.find(({type:S})=>S==="gap_center"),x=b&&Vl(s.breadthIntersection[0],s.breadthIntersection[1],b.gap.breadthIntersection[0],b.gap.breadthIntersection[1]);b&&b.gap.length>s.length&&x?n[n.indexOf(b)]=y:(!b||!x)&&n.push(y)}const d=s.startNode.pageBounds.minX-s.length,A=t.maxX,f=d-A;Wt(Math.abs(f))<=Wt(r.x)&&(Wt(Math.abs(f))<Wt(r.x)&&(n.length=0),r.x=Math.abs(f),n.push({type:"gap_duplicate",gap:s,protrusionDirection:"left",nudge:f}));const h=s.endNode.pageBounds.maxX+s.length,p=t.minX,v=h-p;Wt(Math.abs(v))<=Wt(r.x)&&(Wt(Math.abs(v))<Wt(r.x)&&(n.length=0),r.x=Math.abs(v),n.push({type:"gap_duplicate",gap:s,protrusionDirection:"right",nudge:v}))}for(const s of a){if(!Oy(s.breadthIntersection[0],s.breadthIntersection[1],t.minX,t.maxX))continue;const c=s.startEdge[0].y+s.length/2-t.center.y;if(s.length>t.height&&Wt(Math.abs(c))<=Wt(r.y)){Wt(Math.abs(c))<Wt(r.y)&&(i.length=0),r.y=Math.abs(c);const y={type:"gap_center",gap:s,nudge:c},b=i.find(({type:S})=>S==="gap_center"),x=b&&Oy(b.gap.breadthIntersection[0],b.gap.breadthIntersection[1],s.breadthIntersection[0],s.breadthIntersection[1]);b&&b.gap.length>s.length&&x?i[i.indexOf(b)]=y:(!b||!x)&&i.push(y);continue}const d=s.startNode.pageBounds.minY-s.length,A=t.maxY,f=d-A;Wt(Math.abs(f))<=Wt(r.y)&&(Wt(Math.abs(f))<Wt(r.y)&&(i.length=0),r.y=Math.abs(f),i.push({type:"gap_duplicate",gap:s,protrusionDirection:"top",nudge:f}));const h=s.endNode.pageBounds.maxY+s.length,p=t.minY,v=h-p;Wt(Math.abs(v))<=Wt(r.y)&&(Wt(Math.abs(v))<Wt(r.y)&&(i.length=0),r.y=Math.abs(v),i.push({type:"gap_duplicate",gap:s,protrusionDirection:"bottom",nudge:v}))}}getPointSnapLines({nearestSnapsX:t,nearestSnapsY:r}){const n={},i={};if(t.length>0){for(const o of t)if(o.type==="points"){const a=Wt(o.points.otherPoint.x);n[a]||(n[a]=[]),n[a].push(o.points)}}if(r.length>0){for(const o of r)if(o.type==="points"){const a=Wt(o.points.otherPoint.y);i[a]||(i[a]=[]),i[a].push(o.points)}}return Object.values(n).concat(Object.values(i)).map(o=>({id:tn(),type:"points",points:az(o.map(a=>L.From(a.otherPoint)).concat(o.map(a=>L.From(a.thisPoint))),(a,s)=>a.equals(s))}))}getGapSnapLines({selectionPageBounds:t,nearestSnapsX:r,nearestSnapsY:n}){const{vertical:i,horizontal:o}=this.getVisibleGaps(),a={top:t.sides[0],right:t.sides[1],bottom:[t.corners[3],t.corners[2]],left:[t.corners[0],t.corners[3]]},s=[];if(r.length>0)for(const l of r){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:u,startNode:d,endNode:A,length:f,endEdge:h}}=l;switch(l.type){case"gap_center":{const p=(f-t.width)/2,v=Vl(c[0],c[1],t.minY,t.maxY);s.push({type:"gaps",direction:"horizontal",id:tn(),gaps:[...td(o,d.id,p,"backward",v),{startEdge:u,endEdge:a.left},{startEdge:a.right,endEdge:h},...td(o,A.id,p,"forward",v)]});break}case"gap_duplicate":{const p=Vl(c[0],c[1],t.minY,t.maxY);s.push({type:"gaps",direction:"horizontal",id:tn(),gaps:l.protrusionDirection==="left"?[{startEdge:a.right,endEdge:u.map(v=>v.clone().addXY(-d.pageBounds.width,0))},{startEdge:u,endEdge:h},...td(o,A.id,f,"forward",p)]:[...td(o,d.id,f,"backward",p),{startEdge:u,endEdge:h},{startEdge:h.map(v=>v.clone().addXY(l.gap.endNode.pageBounds.width,0)),endEdge:a.left}]});break}}}if(n.length>0)for(const l of n){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:u,startNode:d,endNode:A,length:f,endEdge:h}}=l;switch(l.type){case"gap_center":{const p=(f-t.height)/2,v=Vl(c[0],c[1],t.minX,t.maxX);s.push({type:"gaps",direction:"vertical",id:tn(),gaps:[...td(i,d.id,p,"backward",v),{startEdge:u,endEdge:a.top},{startEdge:a.bottom,endEdge:h},...td(i,l.gap.endNode.id,p,"forward",v)]});break}case"gap_duplicate":{const p=Vl(c[0],c[1],t.minX,t.maxX);s.push({type:"gaps",direction:"vertical",id:tn(),gaps:l.protrusionDirection==="top"?[{startEdge:a.bottom,endEdge:u.map(v=>v.clone().addXY(0,-d.pageBounds.height))},{startEdge:u,endEdge:h},...td(i,A.id,f,"forward",p)]:[...td(i,d.id,f,"backward",p),{startEdge:u,endEdge:h},{startEdge:h.map(v=>v.clone().addXY(0,A.pageBounds.height)),endEdge:a.top}]})}break}}return xDt(s),s}}mp=mDt();DP(mp,1,"getSnapPointsCache",b$e,wv);DP(mp,1,"getSnappablePoints",w$e,wv);DP(mp,1,"getSnappableGapNodes",y$e,wv);DP(mp,1,"getVisibleGaps",v$e,wv);yDt(mp,wv);function VIe(e,t){const{minX:r,maxX:n,minY:i,maxY:o}=t,a=[];switch(e){case"top":case"left":case"top_left":case"any":a.push({id:"top_left",handle:"top_left",x:r,y:i})}switch(e){case"top":case"right":case"top_right":case"any":a.push({id:"top_right",handle:"top_right",x:n,y:i})}switch(e){case"bottom":case"right":case"bottom_right":case"any":a.push({id:"bottom_right",handle:"bottom_right",x:n,y:o})}switch(e){case"bottom":case"left":case"bottom_left":case"any":a.push({id:"bottom_left",handle:"bottom_left",x:r,y:o})}return a}var SDt=Object.create,x$e=Object.defineProperty,CDt=Object.getOwnPropertyDescriptor,_Dt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),S$e=e=>{throw TypeError(e)},C$e=(e,t,r)=>t in e?x$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,EDt=e=>[,,,SDt(null)],_$e=["class","method","getter","setter","accessor","field","value","get","set"],E$e=e=>e!==void 0&&typeof e!="function"?S$e("Function expected"):e,IDt=(e,t,r,n,i)=>({kind:_$e[e],name:t,metadata:n,addInitializer:o=>r._?S$e("Already initialized"):i.push(E$e(o||null))}),BDt=(e,t)=>C$e(t,_Dt("metadata"),e[3]),PDt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},TDt=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=_$e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,CDt(i,r)),y=n.length-1;y>=0;y--)l=IDt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,E$e(a)&&(v[h]=a);return v&&x$e(i,r,v),i},ODt=(e,t,r)=>C$e(e,t+"",r),I$e,jP;const RDt=()=>null,MDt=()=>[];I$e=[qe];class qK{constructor(t){this.manager=t,PDt(jP,5,this),ODt(this,"editor"),this.editor=t.editor}getSnapGeometryCache(){const{editor:t}=this;return t.store.createComputedCache("handle snap geometry",r=>{const n=t.getShapeUtil(r).getHandleSnapGeometry(r),i=n.getSelfSnapOutline?n.getSelfSnapOutline.bind(n):RDt,o=n.getSelfSnapPoints?n.getSelfSnapPoints.bind(n):MDt;return{outline:n.outline===void 0?t.getShapeGeometry(r):n.outline,points:n.points??[],getSelfSnapOutline:i,getSelfSnapPoints:o}})}*iterateSnapPointsInPageSpace(t,r){var i,o;const n=(i=this.getSnapGeometryCache().get(t))==null?void 0:i.getSelfSnapPoints(r);if(n&&n.length){const a=Va(this.editor.getShapePageTransform(t));for(const s of n)yield a.applyToPoint(s)}for(const a of this.manager.getSnappableShapes()){if(a===t)continue;const s=(o=this.getSnapGeometryCache().get(a))==null?void 0:o.points;if(!s||!s.length)continue;const l=Va(this.editor.getShapePageTransform(a));for(const c of s)yield l.applyToPoint(c)}}*iterateSnapOutlines(t,r){var i,o;const n=(i=this.getSnapGeometryCache().get(t))==null?void 0:i.getSelfSnapOutline(r);n&&(yield{shapeId:t,outline:n});for(const a of this.manager.getSnappableShapes()){if(a===t)continue;const s=(o=this.getSnapGeometryCache().get(a))==null?void 0:o.outline;s&&(yield{shapeId:a,outline:s})}}getHandleSnapPosition({currentShapeId:t,handle:r,handleInPageSpace:n}){const i=this.manager.getSnapThreshold();let o=i,a=null;for(const c of this.iterateSnapPointsInPageSpace(t,r))L.DistMin(n,c,o)&&(o=L.Dist(n,c),a=c);if(a)return a;let s=i,l=null;for(const{shapeId:c,outline:u}of this.iterateSnapOutlines(t,r)){const d=Va(this.editor.getShapePageTransform(c)),A=this.editor.getPointInShapeSpace(c,n),f=u.nearestPoint(A),h=d.applyToPoint(f);L.DistMin(n,h,s)&&(s=L.Dist(n,h),l=h)}return l||null}snapHandle({currentShapeId:t,handle:r}){const i=Va(this.editor.getShapePageTransform(t)).applyToPoint(r),o=this.getHandleSnapPosition({currentShapeId:t,handle:r,handleInPageSpace:i});return o?(this.manager.setIndicators([{id:tn(),type:"points",points:[o]}]),{nudge:L.Sub(o,i)}):null}}jP=EDt();TDt(jP,1,"getSnapGeometryCache",I$e,qK);BDt(jP,qK);var FDt=Object.create,B$e=Object.defineProperty,kDt=Object.getOwnPropertyDescriptor,UDt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),P$e=e=>{throw TypeError(e)},T$e=(e,t,r)=>t in e?B$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,DDt=e=>[,,,FDt(null)],O$e=["class","method","getter","setter","accessor","field","value","get","set"],R$e=e=>e!==void 0&&typeof e!="function"?P$e("Function expected"):e,jDt=(e,t,r,n,i)=>({kind:O$e[e],name:t,metadata:n,addInitializer:o=>r._?P$e("Already initialized"):i.push(R$e(o||null))}),LDt=(e,t)=>T$e(t,UDt("metadata"),e[3]),NDt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},zK=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=O$e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,kDt(i,r)),y=n.length-1;y>=0;y--)l=jDt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,R$e(a)&&(v[h]=a);return v&&B$e(i,r,v),i},b4=(e,t,r)=>T$e(e,typeof t!="symbol"?t+"":t,r),M$e,F$e,k$e,bv;k$e=[qe],F$e=[qe],M$e=[qe];class sx{constructor(t){this.editor=t,NDt(bv,5,this),b4(this,"shapeBounds"),b4(this,"handles"),b4(this,"_snapIndicators",Ci("snapLines",void 0)),this.shapeBounds=new wv(this),this.handles=new qK(this)}getIndicators(){return this._snapIndicators.get()??vd}clearIndicators(){this.getIndicators().length&&this._snapIndicators.set(void 0)}setIndicators(t){this._snapIndicators.set(t)}getSnapThreshold(){return 8/this.editor.getZoomLevel()}getSnappableShapes(){const{editor:t}=this,r=t.getViewportPageBounds(),n=t.getSelectedShapeIds(),i=new Set,o=a=>{if(Wa(a)){const l=t.getShape(a);l&&t.isShapeOfType(l,"frame")&&i.add(a)}const s=t.getSortedChildIdsForParent(a);for(const l of s){if(n.includes(l))continue;const c=t.getShape(l);if(!c||!t.getShapeUtil(c).canSnap(c))continue;const d=t.getShapePageBounds(l);if(d&&r.includes(d)){if(t.isShapeOfType(c,"group")){o(l);continue}i.add(l)}}};return o(this.getCurrentCommonAncestor()??t.getCurrentPageId()),i}getCurrentCommonAncestor(){return this.editor.findCommonAncestor(this.editor.getSelectedShapes())}}bv=DDt();zK(bv,1,"getSnapThreshold",k$e,sx);zK(bv,1,"getSnappableShapes",F$e,sx);zK(bv,1,"getCurrentCommonAncestor",M$e,sx);LDt(bv,sx);const $Dt=/\r?\n|\r/g;function GIe(e){return e.replace($Dt,`
`).split(`
`).map(t=>t||" ").join(`
`)}const QDt={start:"left","start-legacy":"left",middle:"center","middle-legacy":"center",end:"right","end-legacy":"right"},HDt=/\s/;class qDt{constructor(t){K(this,"baseElem");this.editor=t,this.baseElem=document.createElement("div"),this.baseElem.classList.add("tl-text"),this.baseElem.classList.add("tl-text-measure"),this.baseElem.tabIndex=-1}measureText(t,r){const n=this.baseElem.cloneNode();this.editor.getContainer().appendChild(n),n.setAttribute("dir","auto"),n.style.setProperty("unicode-bidi","plaintext"),n.style.setProperty("font-family",r.fontFamily),n.style.setProperty("font-style",r.fontStyle),n.style.setProperty("font-weight",r.fontWeight),n.style.setProperty("font-size",r.fontSize+"px"),n.style.setProperty("line-height",r.lineHeight*r.fontSize+"px"),n.style.setProperty("max-width",r.maxWidth===null?null:r.maxWidth+"px"),n.style.setProperty("min-width",r.minWidth===null?null:r.minWidth+"px"),n.style.setProperty("padding",r.padding),n.style.setProperty("overflow-wrap",r.disableOverflowWrapBreaking?"normal":"break-word"),n.textContent=GIe(t);const i=n.scrollWidth,o=n.getBoundingClientRect();return n.remove(),{x:0,y:0,w:o.width,h:o.height,scrollWidth:i}}measureElementTextNodeSpans(t,{shouldTruncateToFirstLine:r=!1}={}){const n=[],i=t.getBoundingClientRect(),o=-i.left,a=-i.top,s=new Range,l=t.childNodes[0];let c=0,u=null,d=null,A=0,f=0,h=!1;for(const p of t.childNodes)if(p.nodeType===Node.TEXT_NODE)for(const v of p.textContent??""){s.setStart(l,c),s.setEnd(l,c+v.length);const y=s.getClientRects(),b=y[y.length-1],x=b.top+a,S=b.left+o,C=b.right+o,_=S<f,B=HDt.test(v);if(B!==d||x!==A||!u){if(u){if(r&&x!==A){h=!0;break}n.push(u)}u={box:{x:S,y:x,w:b.width,h:b.height},text:v},f=S}else _&&(u.box.x=S),u.box.w=_?u.box.w+b.width:C-u.box.x,u.text+=v;v===`
`&&(f=0),d=B,A=x,c+=v.length}return u&&n.push(u),{spans:n,didTruncate:h}}measureTextSpans(t,r){if(t==="")return[];const n=this.baseElem.cloneNode();this.editor.getContainer().appendChild(n);const i=Math.ceil(r.width-r.padding*2);n.setAttribute("dir","auto"),n.style.setProperty("unicode-bidi","plaintext"),n.style.setProperty("width",`${i}px`),n.style.setProperty("height","min-content"),n.style.setProperty("font-size",`${r.fontSize}px`),n.style.setProperty("font-family",r.fontFamily),n.style.setProperty("font-weight",r.fontWeight),n.style.setProperty("line-height",`${r.lineHeight*r.fontSize}px`),n.style.setProperty("text-align",QDt[r.textAlign]),n.style.setProperty("font-style",r.fontStyle);const o=r.overflow==="truncate-ellipsis"||r.overflow==="truncate-clip";o&&(n.style.setProperty("overflow-wrap","anywhere"),n.style.setProperty("word-break","break-all"));const a=GIe(t);n.textContent=a;const{spans:s,didTruncate:l}=this.measureElementTextNodeSpans(n,{shouldTruncateToFirstLine:o});if(r.overflow==="truncate-ellipsis"&&l){n.textContent="";const c=Math.ceil(this.measureElementTextNodeSpans(n).spans[0].box.w);n.style.setProperty("width",`${i-c}px`),n.textContent=a;const u=this.measureElementTextNodeSpans(n,{shouldTruncateToFirstLine:!0}).spans,d=u[u.length-1];return u.push({text:"",box:{x:Math.min(d.box.x+d.box.w,r.width-r.padding-c),y:d.box.y,w:c,h:d.box.h}}),u}return n.remove(),s}}var zDt=Object.create,U$e=Object.defineProperty,KDt=Object.getOwnPropertyDescriptor,WDt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),D$e=e=>{throw TypeError(e)},j$e=(e,t,r)=>t in e?U$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,VDt=e=>[,,,zDt(null)],L$e=["class","method","getter","setter","accessor","field","value","get","set"],N$e=e=>e!==void 0&&typeof e!="function"?D$e("Function expected"):e,GDt=(e,t,r,n,i)=>({kind:L$e[e],name:t,metadata:n,addInitializer:o=>r._?D$e("Already initialized"):i.push(N$e(o||null))}),YDt=(e,t)=>j$e(t,WDt("metadata"),e[3]),XDt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},$$e=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=L$e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,KDt(i,r)),y=n.length-1;y>=0;y--)l=GDt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,N$e(a)&&(v[h]=a);return v&&U$e(i,r,v),i},R1=(e,t,r)=>j$e(e,typeof t!="symbol"?t+"":t,r),Q$e,H$e,lx;const YIe=$ke;H$e=[Ja],Q$e=[Ja];class LP{constructor(t){this.editor=t,XDt(lx,5,this),R1(this,"cancelRaf"),R1(this,"isPaused",!0),R1(this,"now",0),R1(this,"prevPoint",new L),this.editor.disposables.add(this.dispose),this.start()}start(){var t;this.isPaused=!1,(t=this.cancelRaf)==null||t.call(this),this.cancelRaf=YIe(this.tick),this.now=Date.now()}tick(){if(this.isPaused)return;const t=Date.now(),r=t-this.now;this.now=t,this.updatePointerVelocity(r),this.editor.emit("frame",r),this.editor.emit("tick",r),this.cancelRaf=YIe(this.tick)}dispose(){var t;this.isPaused=!0,(t=this.cancelRaf)==null||t.call(this)}updatePointerVelocity(t){const{prevPoint:r,editor:{inputs:{currentScreenPoint:n,pointerVelocity:i}}}=this;if(t===0)return;const o=L.Sub(n,r);this.prevPoint=n.clone();const a=o.len(),s=a?o.div(a):new L(0,0),l=i.clone().lrp(s.mul(a/t),.5);Math.abs(l.x)<.01&&(l.x=0),Math.abs(l.y)<.01&&(l.y=0),i.equals(l)||(this.editor.inputs.pointerVelocity=l)}}lx=VDt();$$e(lx,1,"tick",H$e,LP);$$e(lx,1,"dispose",Q$e,LP);YDt(lx,LP);var JDt=Object.create,q$e=Object.defineProperty,ZDt=Object.getOwnPropertyDescriptor,ejt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),z$e=e=>{throw TypeError(e)},K$e=(e,t,r)=>t in e?q$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tjt=e=>[,,,JDt(null)],W$e=["class","method","getter","setter","accessor","field","value","get","set"],V$e=e=>e!==void 0&&typeof e!="function"?z$e("Function expected"):e,rjt=(e,t,r,n,i)=>({kind:W$e[e],name:t,metadata:n,addInitializer:o=>r._?z$e("Already initialized"):i.push(V$e(o||null))}),njt=(e,t)=>K$e(t,ejt("metadata"),e[3]),ijt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},Il=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=W$e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,ZDt(i,r)),y=n.length-1;y>=0;y--)l=rjt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,V$e(a)&&(v[h]=a);return v&&q$e(i,r,v),i},XIe=(e,t,r)=>K$e(e,typeof t!="symbol"?t+"":t,r),G$e,Y$e,X$e,J$e,Z$e,e4e,t4e,r4e,n4e,i4e,o4e,a4e,Ra;a4e=[qe],o4e=[qe],i4e=[qe],n4e=[qe],r4e=[qe],t4e=[qe],e4e=[qe],Z$e=[qe],J$e=[qe],X$e=[qe],Y$e=[qe],G$e=[qe];class as{constructor(t,r){if(this.user=t,this.inferDarkMode=r,ijt(Ra,5,this),XIe(this,"systemColorScheme",Ci("systemColorScheme","light")),XIe(this,"disposables",new Set),typeof window>"u"||!("matchMedia"in window))return;const n=window.matchMedia("(prefers-color-scheme: dark)");n!=null&&n.matches&&this.systemColorScheme.set("dark");const i=o=>{o.matches?this.systemColorScheme.set("dark"):this.systemColorScheme.set("light")};n==null||n.addEventListener("change",i),this.disposables.add(()=>n==null?void 0:n.removeEventListener("change",i))}dispose(){this.disposables.forEach(t=>t())}updateUserPreferences(t){this.user.setUserPreferences({...this.user.userPreferences.get(),...t})}getUserPreferences(){return{id:this.getId(),name:this.getName(),locale:this.getLocale(),color:this.getColor(),animationSpeed:this.getAnimationSpeed(),isSnapMode:this.getIsSnapMode(),colorScheme:this.user.userPreferences.get().colorScheme,isDarkMode:this.getIsDarkMode(),isWrapMode:this.getIsWrapMode(),isDynamicResizeMode:this.getIsDynamicResizeMode()}}getIsDarkMode(){switch(this.user.userPreferences.get().colorScheme){case"dark":return!0;case"light":return!1;case"system":return this.systemColorScheme.get()==="dark";default:return this.inferDarkMode?this.systemColorScheme.get()==="dark":!1}}getEdgeScrollSpeed(){return this.user.userPreferences.get().edgeScrollSpeed??$c.edgeScrollSpeed}getAnimationSpeed(){return this.user.userPreferences.get().animationSpeed??$c.animationSpeed}getId(){return this.user.userPreferences.get().id}getName(){return this.user.userPreferences.get().name??$c.name}getLocale(){return this.user.userPreferences.get().locale??$c.locale}getColor(){return this.user.userPreferences.get().color??$c.color}getIsSnapMode(){return this.user.userPreferences.get().isSnapMode??$c.isSnapMode}getIsWrapMode(){return this.user.userPreferences.get().isWrapMode??$c.isWrapMode}getIsDynamicResizeMode(){return this.user.userPreferences.get().isDynamicSizeMode??$c.isDynamicSizeMode}getIsPasteAtCursorMode(){return this.user.userPreferences.get().isPasteAtCursorMode??$c.isPasteAtCursorMode}}Ra=tjt();Il(Ra,1,"getUserPreferences",a4e,as);Il(Ra,1,"getIsDarkMode",o4e,as);Il(Ra,1,"getEdgeScrollSpeed",i4e,as);Il(Ra,1,"getAnimationSpeed",n4e,as);Il(Ra,1,"getId",r4e,as);Il(Ra,1,"getName",t4e,as);Il(Ra,1,"getLocale",e4e,as);Il(Ra,1,"getColor",Z$e,as);Il(Ra,1,"getIsSnapMode",J$e,as);Il(Ra,1,"getIsWrapMode",X$e,as);Il(Ra,1,"getIsDynamicResizeMode",Y$e,as);Il(Ra,1,"getIsPasteAtCursorMode",G$e,as);njt(Ra,as);const ojt={wheel:"onWheel",pointer_down:"onPointerDown",pointer_move:"onPointerMove",long_press:"onLongPress",pointer_up:"onPointerUp",right_click:"onRightClick",middle_click:"onMiddleClick",key_down:"onKeyDown",key_up:"onKeyUp",key_repeat:"onKeyRepeat",cancel:"onCancel",complete:"onComplete",interrupt:"onInterrupt",double_click:"onDoubleClick",triple_click:"onTripleClick",quadruple_click:"onQuadrupleClick",tick:"onTick"},ajt=["brushing","cropping","dragging","dragging_handle","drawing","erasing","lasering","resizing","rotating","scribble_brushing","translating"];class Ft{constructor(t,r){K(this,"performanceTracker");K(this,"id");K(this,"type");K(this,"shapeType");K(this,"initial");K(this,"children");K(this,"isLockable");K(this,"parent");K(this,"_path");K(this,"_current");K(this,"_isActive");K(this,"_currentToolIdMask",Ci("curent tool id mask",void 0));this.editor=t;const{id:n,children:i,initial:o,isLockable:a}=this.constructor;this.id=n,this._isActive=Ci("toolIsActive"+this.id,!1),this._current=Ci("toolState"+this.id,void 0),this._path=qe("toolPath"+this.id,()=>{const s=this.getCurrent();return this.id+(s?`.${s.getPath()}`:"")}),this.parent=r??{},this.parent?i&&o?(this.type="branch",this.initial=o,this.children=Object.fromEntries(i().map(s=>[s.id,new s(this.editor,this)])),this._current.set(this.children[this.initial])):this.type="leaf":(this.type="root",i&&o&&(this.initial=o,this.children=Object.fromEntries(i().map(s=>[s.id,new s(this.editor,this)])),this._current.set(this.children[this.initial]))),this.isLockable=a,this.performanceTracker=new vke}getPath(){return this._path.get()}getCurrent(){return this._current.get()}getIsActive(){return this._isActive.get()}transition(t,r={}){var o;const n=t.split(".");let i=this;for(let a=0;a<n.length;a++){const s=n[a],l=i.getCurrent(),c=(o=i.children)==null?void 0:o[s];if(!c)throw Error(`${i.id} - no child state exists with the id ${s}.`);if((l==null?void 0:l.id)!==c.id&&(l==null||l.exit(r,s),i._current.set(c),c.enter(r,(l==null?void 0:l.id)||"initial"),!c.getIsActive()))break;i=c}return this}handleEvent(t){var i;const r=ojt[t.name],n=this._current.__unsafe__getWithoutCapture();(i=this[r])==null||i.call(this,t),this._isActive.__unsafe__getWithoutCapture()&&n&&n===this._current.__unsafe__getWithoutCapture()&&n.handleEvent(t)}enter(t,r){var n;if(xi.measurePerformance.get()&&ajt.includes(this.id)&&this.performanceTracker.start(this.id),this._isActive.set(!0),(n=this.onEnter)==null||n.call(this,t,r),this.children&&this.initial&&this.getIsActive()){const i=this.children[this.initial];this._current.set(i),i.enter(t,r)}}exit(t,r){var n,i;xi.measurePerformance.get()&&this.performanceTracker.isStarted()&&this.performanceTracker.stop(),this._isActive.set(!1),(n=this.onExit)==null||n.call(this,t,r),this.getIsActive()||(i=this.getCurrent())==null||i.exit(t,r)}getCurrentToolIdMask(){return this._currentToolIdMask.get()}setCurrentToolIdMask(t){this._currentToolIdMask.set(t)}}K(Ft,"id"),K(Ft,"initial"),K(Ft,"children"),K(Ft,"isLockable",!0);class a5 extends Ft{static children(){return[]}onKeyDown(t){var r;switch(t.code){case"KeyZ":{if(!(t.shiftKey||t.ctrlKey)){const n=this.getCurrent();n&&((r=n.getCurrent())==null?void 0:r.id)==="idle"&&this.children.zoom&&this.editor.setCurrentTool("zoom",{...t,onInteractionEnd:n.id})}break}}}}K(a5,"id","root"),K(a5,"initial","");var sjt=Object.create,s4e=Object.defineProperty,ljt=Object.getOwnPropertyDescriptor,l4e=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),c4e=e=>{throw TypeError(e)},u4e=(e,t,r)=>t in e?s4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cjt=e=>[,,,sjt((e==null?void 0:e[l4e("metadata")])??null)],d4e=["class","method","getter","setter","accessor","field","value","get","set"],A4e=e=>e!==void 0&&typeof e!="function"?c4e("Function expected"):e,ujt=(e,t,r,n,i)=>({kind:d4e[e],name:t,metadata:n,addInitializer:o=>r._?c4e("Already initialized"):i.push(A4e(o||null))}),djt=(e,t)=>u4e(t,l4e("metadata"),e[3]),Ajt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},St=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=d4e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,ljt(i,r)),y=n.length-1;y>=0;y--)l=ujt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,A4e(a)&&(v[h]=a);return v&&s4e(i,r,v),i},Ht=(e,t,r)=>u4e(e,typeof t!="symbol"?t+"":t,r),f4e,h4e,p4e,g4e,m4e,v4e,y4e,w4e,b4e,x4e,S4e,C4e,_4e,E4e,I4e,B4e,P4e,T4e,O4e,R4e,M4e,F4e,k4e,U4e,D4e,j4e,L4e,N4e,$4e,Q4e,H4e,q4e,z4e,K4e,W4e,V4e,G4e,Y4e,X4e,J4e,Z4e,eQe,tQe,rQe,nQe,iQe,oQe,aQe,sQe,lQe,cQe,uQe,dQe,AQe,fQe,hQe,pQe,gQe,mQe,vQe,yQe,wQe,bQe,xQe,SQe,CQe,_Qe,EQe,IQe,BQe,PQe,s5,wt;class yt extends(s5=nFe,PQe=[qe],BQe=[qe],IQe=[qe],EQe=[qe],_Qe=[qe],CQe=[qe],SQe=[qe],xQe=[qe],bQe=[qe],wQe=[qe],yQe=[qe],vQe=[qe],mQe=[qe],gQe=[qe],pQe=[qe],hQe=[qe],fQe=[qe],AQe=[qe],dQe=[qe],uQe=[qe],cQe=[qe],lQe=[qe],sQe=[qe],aQe=[qe],oQe=[qe],iQe=[qe],nQe=[qe],rQe=[qe],tQe=[qe],eQe=[qe],Z4e=[qe],J4e=[qe],X4e=[qe],Y4e=[qe],G4e=[qe],V4e=[qe],W4e=[qe],K4e=[qe],z4e=[qe],q4e=[qe],H4e=[qe],Q4e=[qe],$4e=[qe],N4e=[qe],L4e=[qe],j4e=[qe],D4e=[qe],U4e=[qe],k4e=[qe],F4e=[qe],M4e=[qe],R4e=[qe],O4e=[qe],T4e=[qe],P4e=[qe],B4e=[qe],I4e=[qe],E4e=[qe],_4e=[qe],C4e=[qe],S4e=[qe],x4e=[qe],b4e=[qe],w4e=[qe({isEqual:(t,r)=>t.equals(r)})],y4e=[qe],v4e=[qe],m4e=[qe],g4e=[Ja],p4e=[Ja],h4e=[Ja],f4e=[Ja],s5){constructor({store:t,user:r,shapeUtils:n,bindingUtils:i,tools:o,getContainer:a,cameraOptions:s,initialState:l,autoFocus:c,inferDarkMode:u,options:d,isShapeHidden:A}){var O;super(),Ajt(wt,5,this),Ht(this,"_isShapeHiddenPredicate"),Ht(this,"options"),Ht(this,"contextId",tn()),Ht(this,"store"),Ht(this,"root"),Ht(this,"disposables",new Set),Ht(this,"isDisposed",!1),Ht(this,"_tickManager"),Ht(this,"snaps"),Ht(this,"timers",i5.forContext(this.contextId)),Ht(this,"user"),Ht(this,"textMeasure"),Ht(this,"environment",an),Ht(this,"scribbles"),Ht(this,"sideEffects"),Ht(this,"edgeScrollManager"),Ht(this,"focusManager"),Ht(this,"getContainer"),Ht(this,"shapeUtils"),Ht(this,"styleProps"),Ht(this,"bindingUtils"),Ht(this,"history"),Ht(this,"_shouldIgnoreShapeLock",!1),Ht(this,"_crashingError",null),Ht(this,"_isChangingStyleTimeout",-1),Ht(this,"menus",Gl.forContext(this.contextId)),Ht(this,"_cameraOptions",Ci("camera options",Voe)),Ht(this,"_viewportAnimation",null),Ht(this,"_willSetInitialBounds",!0),Ht(this,"_isLockedOnFollowingUser",Ci("isLockedOnFollowingUser",!1)),Ht(this,"_cameraState",Ci("camera state","idle")),Ht(this,"_cameraStateTimeoutRemaining",0),Ht(this,"_currentPageShapeIds"),Ht(this,"_shapeGeometryCaches",{}),Ht(this,"_parentIdsToChildIds"),Ht(this,"animatingShapes",new Map),Ht(this,"externalAssetContentHandlers",{file:null,url:null}),Ht(this,"temporaryAssetPreview",new Map),Ht(this,"externalContentHandlers",{text:null,files:null,embed:null,"svg-text":null,url:null,tldraw:null,excalidraw:null}),Ht(this,"inputs",{originPagePoint:new L,originScreenPoint:new L,previousPagePoint:new L,previousScreenPoint:new L,currentPagePoint:new L,currentScreenPoint:new L,keys:new Set,buttons:new Set,isPen:!1,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1,isDragging:!1,isPointing:!1,isPinching:!1,isEditing:!1,isPanning:!1,isSpacebarPanning:!1,pointerVelocity:new L}),Ht(this,"_clickManager",new UP(this)),Ht(this,"_prevCursor","default"),Ht(this,"_shiftKeyTimeout",-1),Ht(this,"_altKeyTimeout",-1),Ht(this,"_ctrlKeyTimeout",-1),Ht(this,"_metaKeyTimeout",-1),Ht(this,"_restoreToolId","select"),Ht(this,"_pinchStart",1),Ht(this,"_didPinch",!1),Ht(this,"_selectedShapeIdsAtPointerDown",[]),Ht(this,"_longPressTimeout",-1),Ht(this,"capturedPointerId",null),Ht(this,"performanceTracker"),Ht(this,"performanceTrackerTimeout",-1),Ht(this,"_pendingEventsForNextTick",[]),this._isShapeHiddenPredicate=A,this.options={...UUt,...d},this.store=t,this.disposables.add(this.store.dispose.bind(this.store)),this.history=new uDt({store:t,annotateError:P=>{this.annotateError(P,{origin:"history.batch",willCrashApp:!0}),this.crash(P)}}),this.snaps=new sx(this),this.disposables.add(this.timers.dispose),this._cameraOptions.set({...Voe,...s}),this.user=new as(r??YDe(),u??!1),this.disposables.add(()=>this.user.dispose()),this.getContainer=a,this.textMeasure=new qDt(this),this._tickManager=new LP(this);class f extends a5{}K(f,"initial",l??""),this.root=new f(this),this.root.children={};const h=UNe(n),p={},v={},y=new Map;for(const P of h){const F=new P(this);p[P.type]=F;const U=RUe(P.props??{});v[P.type]=U;for(const k of U.keys())if(!y.has(k.id))y.set(k.id,k);else if(y.get(k.id)!==k)throw Error(`Multiple style props with id "${k.id}" in use. Style prop IDs must be unique.`)}this.shapeUtils=p,this.styleProps=v;const b=FNe(i),x={};for(const P of b){const F=new P(this);x[P.type]=F}this.bindingUtils=x;for(const P of[...o]){if(ml(this.root.children,P.id))throw Error(`Can't override tool with id "${P.id}"`);this.root.children[P.id]=new P(this,this.root)}this.scribbles=new fDt(this);const S=(P,F)=>{let U=null;const k=P.selectedShapeIds.filter(j=>!F.has(j));k.length!==P.selectedShapeIds.length&&(U||(U={...P}),U.selectedShapeIds=k);const M=P.erasingShapeIds.filter(j=>!F.has(j));M.length!==P.erasingShapeIds.length&&(U||(U={...P}),U.erasingShapeIds=M),P.hoveredShapeId&&F.has(P.hoveredShapeId)&&(U||(U={...P}),U.hoveredShapeId=null),P.editingShapeId&&F.has(P.editingShapeId)&&(U||(U={...P}),U.editingShapeId=null);const D=P.hintingShapeIds.filter(j=>!F.has(j));return D.length!==P.hintingShapeIds.length&&(U||(U={...P}),U.hintingShapeIds=D),P.focusedGroupId&&F.has(P.focusedGroupId)&&(U||(U={...P}),U.focusedGroupId=null),U};this.sideEffects=this.store.sideEffects;let C=new Map;const _=new Set,B=new Set;let T=new Set;if(this.disposables.add(this.sideEffects.registerOperationCompleteHandler(()=>{var P,F,U,k;_.clear();for(const M of B){B.delete(M);const D=this.getShape(M);if(!D)continue;const j=this.getShapeUtil(D),$=(P=j.onChildrenChange)==null?void 0:P.call(j,D);$!=null&&$.length&&this.updateShapes($)}if(T.size){const M=T;T=new Set;for(const D of M){const j=this.getBindingUtil(D);(F=j.onOperationComplete)==null||F.call(j)}}if(C.size){const M=C;C=new Map;for(const D of M.values())(k=(U=this.getBindingUtil(D.binding)).onAfterDelete)==null||k.call(U,D)}this.emit("update")})),this.disposables.add(this.sideEffects.register({shape:{afterChange:(P,F)=>{var U,k,M,D;for(const j of this.getBindingsInvolvingShape(F))T.add(j.type),j.fromId===F.id&&((k=(U=this.getBindingUtil(j)).onAfterChangeFromShape)==null||k.call(U,{binding:j,shapeBefore:P,shapeAfter:F})),j.toId===F.id&&((D=(M=this.getBindingUtil(j)).onAfterChangeToShape)==null||D.call(M,{binding:j,shapeBefore:P,shapeAfter:F}));if(P.parentId!==F.parentId){const j=$=>{var H,W,z,V;const Q=this.getShape($);if(Q)for(const G of this.getBindingsInvolvingShape(Q))T.add(G.type),G.fromId===Q.id&&((W=(H=this.getBindingUtil(G)).onAfterChangeFromShape)==null||W.call(H,{binding:G,shapeBefore:Q,shapeAfter:Q})),G.toId===Q.id&&((V=(z=this.getBindingUtil(G)).onAfterChangeToShape)==null||V.call(z,{binding:G,shapeBefore:Q,shapeAfter:Q}))};j(F.id),this.visitDescendants(F.id,j)}if(P.parentId!==F.parentId&&Ha(F.parentId)){const j=new Set([P.id]);this.visitDescendants(P.id,$=>{j.add($)});for(const $ of this.getPageStates()){if($.pageId===F.parentId)continue;const Q=S($,j);Q&&this.store.put([Q])}}P.parentId&&Wa(P.parentId)&&B.add(P.parentId),F.parentId!==P.parentId&&Wa(F.parentId)&&B.add(F.parentId)},beforeDelete:P=>{var M,D,j,$;if(_.has(P.id))return;P.parentId&&Wa(P.parentId)&&B.add(P.parentId),_.add(P.id);const F=[];for(const Q of this.getBindingsInvolvingShape(P)){T.add(Q.type),F.push(Q.id);const H=this.getBindingUtil(Q);Q.fromId===P.id?((M=H.onBeforeIsolateToShape)==null||M.call(H,{binding:Q,removedShape:P}),(D=H.onBeforeDeleteFromShape)==null||D.call(H,{binding:Q,shape:P})):((j=H.onBeforeIsolateFromShape)==null||j.call(H,{binding:Q,removedShape:P}),($=H.onBeforeDeleteToShape)==null||$.call(H,{binding:Q,shape:P}))}F.length&&this.deleteBindings(F);const U=new Set([P.id]),k=lr(this.getPageStates().map(Q=>S(Q,U)));k.length&&this.store.put(k)}},binding:{beforeCreate:P=>{var U,k;const F=(k=(U=this.getBindingUtil(P)).onBeforeCreate)==null?void 0:k.call(U,{binding:P});return F||P},afterCreate:P=>{var F,U;T.add(P.type),(U=(F=this.getBindingUtil(P)).onAfterCreate)==null||U.call(F,{binding:P})},beforeChange:(P,F)=>{var k,M;const U=(M=(k=this.getBindingUtil(F)).onBeforeChange)==null?void 0:M.call(k,{bindingBefore:P,bindingAfter:F});return U||F},afterChange:(P,F)=>{var U,k;T.add(F.type),(k=(U=this.getBindingUtil(F)).onAfterChange)==null||k.call(U,{bindingBefore:P,bindingAfter:F})},beforeDelete:P=>{var F,U;(U=(F=this.getBindingUtil(P)).onBeforeDelete)==null||U.call(F,{binding:P})},afterDelete:P=>{var F,U;(U=(F=this.getBindingUtil(P)).onAfterDelete)==null||U.call(F,{binding:P}),T.add(P.type)}},page:{afterCreate:P=>{const F=Xc.createId(P.id),U=tc.createId(P.id);this.store.has(F)||this.store.put([Xc.create({id:F})]),this.store.has(U)||this.store.put([tc.create({id:U,pageId:P.id})])},afterDelete:(P,F)=>{var M,D;if(((M=this.getInstanceState())==null?void 0:M.currentPageId)===P.id){const j=(D=this.getPages().find($=>$.id!==P.id))==null?void 0:D.id;j?this.store.put([{...this.getInstanceState(),currentPageId:j}]):F==="user"&&this.store.ensureStoreIsUsable()}const U=Xc.createId(P.id),k=tc.createId(P.id);this.store.remove([U,k])}},instance:{afterChange:(P,F,U)=>{var k;if(!this.store.has(F.currentPageId)){const M=this.store.has(P.currentPageId)?P.currentPageId:(k=this.getPages()[0])==null?void 0:k.id;M?this.store.update(F.id,D=>({...D,currentPageId:M})):U==="user"&&this.store.ensureStoreIsUsable()}}},instance_page_state:{afterChange:(P,F)=>{if((P==null?void 0:P.selectedShapeIds)!==(F==null?void 0:F.selectedShapeIds)){const U=F.selectedShapeIds.filter(M=>{var j,$;let D=(j=this.getShape(M))==null?void 0:j.parentId;for(;Wa(D);){if(F.selectedShapeIds.includes(D))return!1;D=($=this.getShape(D))==null?void 0:$.parentId}return!0});let k=null;if(U.length>0){const M=this.findCommonAncestor(lr(U.map(D=>this.getShape(D))),D=>this.isShapeOfType(D,"group"));M&&(k=M)}else F!=null&&F.focusedGroupId&&(k=F.focusedGroupId);(U.length!==F.selectedShapeIds.length||k!==F.focusedGroupId)&&this.store.put([{...F,selectedShapeIds:U,focusedGroupId:k??null}])}}}})),this._currentPageShapeIds=XUt(this.store,()=>this.getCurrentPageId()),this._parentIdsToChildIds=YUt(this.store),this.disposables.add(this.store.listen(P=>{this.emit("change",P)})),this.disposables.add(this.history.dispose),this.run(()=>{this.store.ensureStoreIsUsable(),this._updateCurrentPageState({editingShapeId:null,hoveredShapeId:null,erasingShapeIds:[]})},{history:"ignore"}),l&&this.root.children[l]===void 0)throw Error(`No state found for initialState "${l}".`);if(this.root.enter(void 0,"initial"),this.edgeScrollManager=new aDt(this),this.focusManager=new sDt(this,c),this.disposables.add(this.focusManager.dispose.bind(this.focusManager)),this.getInstanceState().followingUserId&&this.stopFollowingUser(),this.on("tick",this._flushEventsForTick),this.timers.requestAnimationFrame(()=>{this._tickManager.start()}),this.performanceTracker=new vke,(O=this.store.props.collaboration)!=null&&O.mode){const P=this.store.props.collaboration.mode;this.disposables.add(iu("update collaboration mode",()=>{this.store.put([{...this.getInstanceState(),isReadonly:P.get()==="readonly"}])}))}}getIsShapeHiddenCache(){return this._isShapeHiddenPredicate?this.store.createComputedCache("isShapeHidden",t=>this.findShapeAncestor(t,n=>this.isShapeHidden(n))?!0:this._isShapeHiddenPredicate(t,this)??!1):null}isShapeHidden(t){return this._isShapeHiddenPredicate?!!this.getIsShapeHiddenCache().get(typeof t=="string"?t:t.id):!1}dispose(){this.disposables.forEach(t=>t()),this.disposables.clear(),this.isDisposed=!0}getShapeUtil(t){const r=typeof t=="string"?t:t.type,n=na(this.shapeUtils,r);return vr(n,`No shape util found for type "${r}"`),n}hasShapeUtil(t){const r=typeof t=="string"?t:t.type;return ml(this.shapeUtils,r)}getBindingUtil(t){const r=typeof t=="string"?t:t.type,n=na(this.bindingUtils,r);return vr(n,`No binding util found for type "${r}"`),n}undo(){return this._flushEventsForTick(0),this.complete(),this.history.undo(),this}getCanUndo(){return this.history.getNumUndos()>0}redo(){return this._flushEventsForTick(0),this.complete(),this.history.redo(),this}clearHistory(){return this.history.clear(),this}getCanRedo(){return this.history.getNumRedos()>0}mark(t){return console.warn(typeof t=="string"?`[tldraw] \`editor.history.mark("${t}")\` is deprecated. Please use \`const myMarkId = editor.markHistoryStoppingPoint()\` instead.`:"[tldraw] `editor.mark()` is deprecated. Use `editor.markHistoryStoppingPoint()` instead."),this.history._mark(t??tn()),this}markHistoryStoppingPoint(t){const r=`[${t??"stop"}]_${tn()}`;return this.history._mark(r),r}getMarkIdMatching(t){return this.history.getMarkIdMatching(t)}squashToMark(t){return this.history.squashToMark(t),this}bail(){return this.history.bail(),this}bailToMark(t){return this.history.bailToMark(t),this}run(t,r){const n=this._shouldIgnoreShapeLock;this._shouldIgnoreShapeLock=(r==null?void 0:r.ignoreShapeLock)??n;try{this.history.batch(t,r)}finally{this._shouldIgnoreShapeLock=n}return this}batch(t,r){return this.run(t,r)}annotateError(t,{origin:r,willCrashApp:n,tags:i,extras:o}){const a=this.createErrorAnnotations(r,n);return lz(t,{tags:{...a.tags,...i},extras:{...a.extras,...o}}),n&&this.store.markAsPossiblyCorrupted(),this}createErrorAnnotations(t,r){try{const n=this.getEditingShapeId();return{tags:{origin:t,willCrashApp:r},extras:{activeStateNode:this.root.getPath(),selectedShapes:this.getSelectedShapes().map(i=>{const{props:o,...a}=i,{text:s,richText:l,...c}=o;return{...a,props:c}}),selectionCount:this.getSelectedShapes().length,editingShape:n?this.getShape(n):void 0,inputs:this.inputs,pageState:this.getCurrentPageState(),instanceState:this.getInstanceState(),collaboratorCount:this.getCollaboratorsOnCurrentPage().length}}}catch{return{tags:{origin:t,willCrashApp:r},extras:{}}}}getCrashingError(){return this._crashingError}crash(t){return this._crashingError=t,this.store.markAsPossiblyCorrupted(),this.emit("crash",{error:t}),this}getPath(){return this.root.getPath().split("root.")[1]}isIn(t){const r=t.split(".").reverse();let n=this.root;for(;r.length>0;){const i=r.pop();if(!i)return!0;const o=n.getCurrent();if((o==null?void 0:o.id)===i){if(r.length===0)return!0;n=o;continue}else return!1}return!1}isInAny(...t){return t.some(r=>this.isIn(r))}setCurrentTool(t,r={}){return this.root.transition(t,r),this}getCurrentTool(){return this.root.getCurrent()}getCurrentToolId(){const t=this.getCurrentTool();return t?t.getCurrentToolIdMask()??t.id:""}getStateDescendant(t){var i;const r=t.split(".").reverse();let n=this.root;for(;r.length>0;){const o=r.pop();if(!o)return n;const a=(i=n.children)==null?void 0:i[o];if(!a)return;n=a}return n}getDocumentSettings(){return this.store.get(G3)}updateDocumentSettings(t){return this.run(()=>{this.store.put([{...this.getDocumentSettings(),...t}])},{history:"ignore"}),this}getInstanceState(){return this.store.get(Sa)}updateInstanceState(t,r){return this._updateInstanceState(t,{history:"ignore",...r}),t.isChangingStyle!==void 0&&(clearTimeout(this._isChangingStyleTimeout),t.isChangingStyle===!0&&(this._isChangingStyleTimeout=this.timers.setTimeout(()=>{this._updateInstanceState({isChangingStyle:!1},{history:"ignore"})},1e3))),this}_updateInstanceState(t,r){this.run(()=>{this.store.put([{...this.getInstanceState(),...t}])},r)}getOpenMenus(){return this.menus.getOpenMenus()}addOpenMenu(t){return this.menus.addOpenMenu(t),this}deleteOpenMenu(t){return this.menus.deleteOpenMenu(t),this}clearOpenMenus(){return this.menus.clearOpenMenus(),this}getIsMenuOpen(){return this.menus.hasAnyOpenMenus()}setCursor(t){return this.updateInstanceState({cursor:{...this.getInstanceState().cursor,...t}}),this}getPageStates(){return this._getPageStatesQuery().get()}_getPageStatesQuery(){return this.store.query.records("instance_page_state")}getCurrentPageState(){return this.store.get(this._getCurrentPageStateId())}_getCurrentPageStateId(){return tc.createId(this.getCurrentPageId())}updateCurrentPageState(t){return this._updateCurrentPageState(t),this}_updateCurrentPageState(t){this.store.update(t.id??this.getCurrentPageState().id,r=>({...r,...t}))}getSelectedShapeIds(){return this.getCurrentPageState().selectedShapeIds}getSelectedShapes(){const{selectedShapeIds:t}=this.getCurrentPageState();return lr(t.map(r=>this.store.get(r)))}setSelectedShapes(t){return this.run(()=>{const r=t.map(o=>typeof o=="string"?o:o.id),{selectedShapeIds:n}=this.getCurrentPageState(),i=new Set(n);if(r.length===i.size&&r.every(o=>i.has(o)))return null;this.store.put([{...this.getCurrentPageState(),selectedShapeIds:r}])},{history:"record-preserveRedoStack"})}isAncestorSelected(t){const r=typeof t=="string"?t:(t==null?void 0:t.id)??null,n=this.getShape(r);if(!n)return!1;const i=this.getSelectedShapeIds();return!!this.findShapeAncestor(n,o=>i.includes(o.id))}select(...t){const r=typeof t[0]=="string"?t:t.map(n=>n.id);return this.setSelectedShapes(r),this}deselect(...t){const r=typeof t[0]=="string"?t:t.map(i=>i.id),n=this.getSelectedShapeIds();return n.length>0&&r.length>0&&this.setSelectedShapes(n.filter(i=>!r.includes(i))),this}selectAll(){const t=this.getSortedChildIdsForParent(this.getCurrentPageId());return t.length<=0?this:(this.setSelectedShapes(this._getUnlockedShapeIds(t)),this)}selectNone(){return this.getSelectedShapeIds().length>0&&this.setSelectedShapes([]),this}getOnlySelectedShapeId(){var t;return((t=this.getOnlySelectedShape())==null?void 0:t.id)??null}getOnlySelectedShape(){const t=this.getSelectedShapes();return t.length===1?t[0]:null}getShapesPageBounds(t){const r=lr(t.map(n=>this.getShapePageBounds(n)));return r.length===0?null:st.Common(r)}getSelectionPageBounds(){return this.getShapesPageBounds(this.getSelectedShapeIds())}getShapesSharedRotation(t){let r=!1,n=0;for(let i=0,o=t.length;i<o;i++){const a=this.getShapePageTransform(t[i]);if(a)if(r){if(a.rotation()!==n)return 0}else r=!0,n=a.rotation()}return n}getSelectionRotation(){return this.getShapesSharedRotation(this.getSelectedShapeIds())}getShapesRotatedPageBounds(t){if(t.length===0)return;const r=this.getShapesSharedRotation(t);if(r===0)return this.getShapesPageBounds(t)??void 0;if(t.length===1){const i=this.getShapeGeometry(t[0]).bounds.clone(),o=this.getShapePageTransform(t[0]);return i.point=o.applyToPoint(i.point),i}const n=st.FromPoints(t.flatMap(i=>{const o=this.getShapePageTransform(i);return o?o.applyToPoints(this.getShapeGeometry(i).bounds.corners):[]}).map(i=>i.rot(-r)));return n.point=n.point.rot(r),n}getSelectionRotatedPageBounds(){return this.getShapesRotatedPageBounds(this.getSelectedShapeIds())}getSelectionRotatedScreenBounds(){const t=this.getSelectionRotatedPageBounds();if(!t)return;const{x:r,y:n}=this.pageToScreen(t.point),i=this.getZoomLevel();return new st(r,n,t.width*i,t.height*i)}getFocusedGroupId(){return this.getCurrentPageState().focusedGroupId??this.getCurrentPageId()}getFocusedGroup(){const t=this.getFocusedGroupId();return t?this.getShape(t):void 0}setFocusedGroup(t){const r=typeof t=="string"?t:(t==null?void 0:t.id)??null;if(r!==null){const n=this.getShape(r);if(!n)throw Error(`Editor.setFocusedGroup: Shape with id ${r} does not exist`);if(!this.isShapeOfType(n,"group"))throw Error(`Editor.setFocusedGroup: Cannot set focused group to shape of type ${n.type}`)}return r===this.getFocusedGroupId()?this:this.run(()=>{this.store.update(this.getCurrentPageState().id,n=>({...n,focusedGroupId:r}))},{history:"record-preserveRedoStack"})}popFocusedGroupId(){const t=this.getFocusedGroup();if(t){const r=this.findShapeAncestor(t,n=>this.isShapeOfType(n,"group"));this.setFocusedGroup((r==null?void 0:r.id)??null),this.select(t.id)}else this.setFocusedGroup(null),this.selectNone();return this}getEditingShapeId(){return this.getCurrentPageState().editingShapeId}getEditingShape(){const t=this.getEditingShapeId();return t?this.getShape(t):void 0}setEditingShape(t){const r=typeof t=="string"?t:(t==null?void 0:t.id)??null;if(r!==this.getEditingShapeId()){if(r){const n=this.getShape(r);if(n&&this.getShapeUtil(n).canEdit(n))return this.run(()=>{this._updateCurrentPageState({editingShapeId:r})},{history:"ignore"}),this}this.run(()=>{this._updateCurrentPageState({editingShapeId:null})},{history:"ignore"})}return this}getHoveredShapeId(){return this.getCurrentPageState().hoveredShapeId}getHoveredShape(){const t=this.getHoveredShapeId();return t?this.getShape(t):void 0}setHoveredShape(t){const r=typeof t=="string"?t:(t==null?void 0:t.id)??null;return r===this.getHoveredShapeId()?this:(this.run(()=>{this.updateCurrentPageState({hoveredShapeId:r})},{history:"ignore"}),this)}getHintingShapeIds(){return this.getCurrentPageState().hintingShapeIds}getHintingShape(){const t=this.getHintingShapeIds();return lr(t.map(r=>this.getShape(r)))}setHintingShapes(t){const r=typeof t[0]=="string"?t:t.map(n=>n.id);return this.run(()=>{this._updateCurrentPageState({hintingShapeIds:az(r)})},{history:"ignore"}),this}getErasingShapeIds(){return this.getCurrentPageState().erasingShapeIds}getErasingShapes(){const t=this.getErasingShapeIds();return lr(t.map(r=>this.getShape(r)))}setErasingShapes(t){const r=typeof t[0]=="string"?t:t.map(i=>i.id);r.sort();const n=this.getErasingShapeIds();return this.run(()=>{if(r.length===n.length){for(let i=0;i<r.length;i++)if(r[i]!==n[i]){this._updateCurrentPageState({erasingShapeIds:r});break}}else this._updateCurrentPageState({erasingShapeIds:r})},{history:"ignore"}),this}getCroppingShapeId(){return this.getCurrentPageState().croppingShapeId}setCroppingShape(t){const r=typeof t=="string"?t:(t==null?void 0:t.id)??null;return r!==this.getCroppingShapeId()&&this.run(()=>{if(!r)this.updateCurrentPageState({croppingShapeId:null});else{const n=this.getShape(r),i=this.getShapeUtil(n);n&&i.canCrop(n)&&this.updateCurrentPageState({croppingShapeId:r})}},{history:"ignore"}),this}_unsafe_getCameraId(){return Xc.createId(this.getCurrentPageId())}getCamera(){const t=this.store.get(this._unsafe_getCameraId());if(this._isLockedOnFollowingUser.get()){const r=this.getCameraForFollowing();if(r)return{...t,...r}}return t}getViewportPageBoundsForFollowing(){const t=this.getInstanceState().followingUserId;if(!t)return null;const r=this.getCollaborators().find(d=>d.userId===t);if(!r||!r.camera||!r.screenBounds)return null;const{w:n,h:i}=r.screenBounds,{x:o,y:a,z:s}=r.camera,l=new st(-o,-a,n/s,i/s),c=this.getViewportScreenBounds().clone(),u=c.width/c.height;return c.width=l.width,c.height=c.width/u,c.height<l.height&&(c.height=l.height,c.width=c.height*u),c.center=l.center,c}getCameraForFollowing(){const t=this.getViewportPageBoundsForFollowing();return t?{x:-t.x,y:-t.y,z:this.getViewportScreenBounds().w/t.width}:null}getZoomLevel(){return this.getCamera().z}getInitialZoom(){const t=this.getCameraOptions();if(!t.constraints||t.constraints.initialZoom==="default")return 1;const{zx:r,zy:n}=ZIe(this,t);switch(t.constraints.initialZoom){case"fit-min":return Math.max(r,n);case"fit-max":return Math.min(r,n);case"fit-x":return r;case"fit-y":return n;case"fit-min-100":return Math.min(1,Math.max(r,n));case"fit-max-100":return Math.min(1,Math.min(r,n));case"fit-x-100":return Math.min(1,r);case"fit-y-100":return Math.min(1,n);default:throw Di(t.constraints.initialZoom)}}getBaseZoom(){const t=this.getCameraOptions();if(!t.constraints||t.constraints.baseZoom==="default")return 1;const{zx:r,zy:n}=ZIe(this,t);switch(t.constraints.baseZoom){case"fit-min":return Math.max(r,n);case"fit-max":return Math.min(r,n);case"fit-x":return r;case"fit-y":return n;case"fit-min-100":return Math.min(1,Math.max(r,n));case"fit-max-100":return Math.min(1,Math.min(r,n));case"fit-x-100":return Math.min(1,r);case"fit-y-100":return Math.min(1,n);default:throw Di(t.constraints.baseZoom)}}getCameraOptions(){return this._cameraOptions.get()}setCameraOptions(t){var n;const r=kn({...this._cameraOptions.__unsafe__getWithoutCapture(),...t});return((n=r.zoomSteps)==null?void 0:n.length)<1&&(r.zoomSteps=[1]),this._cameraOptions.set(r),this.setCamera(this.getCamera()),this}getConstrainedCamera(t,r){const n=this.getCamera();let{x:i,y:o,z:a=n.z}=t;if(!(r!=null&&r.force)){const s=this.getCameraOptions(),l=s.zoomSteps[0],c=xo(s.zoomSteps),u=this.getViewportScreenBounds();if(s.constraints){const{constraints:d}=s,A=Math.min(d.padding.y,u.w/2),f=Math.min(d.padding.x,u.h/2),h=st.From(s.constraints.bounds),p=(u.w-f*2)/h.w,v=(u.h-A*2)/h.h,y=this.getBaseZoom(),b=c*y,x=l*y;if(r!=null&&r.reset&&(a=this.getInitialZoom()),a<x||a>b){const{x:U,y:k,z:M}=n,D=-U+u.w/M/2,j=-k+u.h/M/2;a=vo(a,x,b);const $=-U+u.w/a/2,Q=-k+u.h/a/2;i=U+$-D,o=k+Q-j}const S=f/a-h.x,C=A/a-h.y,_=(u.w-f*2)/a-h.w,B=(u.h-A*2)/a-h.h,T=S+_*d.origin.x,O=C+B*d.origin.y,P=typeof d.behavior=="string"?d.behavior:d.behavior.x,F=typeof d.behavior=="string"?d.behavior:d.behavior.y;if(r!=null&&r.reset)i=T,o=O;else{switch(P){case"fixed":{i=T;break}case"contain":{a<p?i=T:i=vo(i,S+_,S);break}case"inside":{a<p?i=vo(i,S,(u.w-f)/a-h.w):i=vo(i,S+_,S);break}case"outside":{i=vo(i,f/a-h.w,(u.w-f)/a);break}case"free":break;default:throw Di(P)}switch(F){case"fixed":{o=O;break}case"contain":{a<v?o=O:o=vo(o,C+B,C);break}case"inside":{a<v?o=vo(o,C,(u.h-A)/a-h.h):o=vo(o,C+B,C);break}case"outside":{o=vo(o,A/a-h.h,(u.h-A)/a);break}case"free":break;default:throw Di(F)}}}else if(a>c||a<l){const{x:d,y:A,z:f}=n;a=vo(a,l,c),i=d+(-d+u.w/a/2)-(-d+u.w/f/2),o=A+(-A+u.h/a/2)-(-A+u.h/f/2)}}return{x:i,y:o,z:a}}_setCamera(t,r){const n=this.getCamera(),{x:i,y:o,z:a}=this.getConstrainedCamera(t,r);return n.x===i&&n.y===o&&n.z===a?this:(Ca(()=>{const s={...n,x:i,y:o,z:a};this.run(()=>{this.store.put([s])},{history:"ignore"});const{currentScreenPoint:l,currentPagePoint:c}=this.inputs,{screenBounds:u}=this.store.unsafeGetWithoutCapture(Sa);if(l.x/a-i!==c.x||l.y/a-o!==c.y){const d={type:"pointer",target:"canvas",name:"pointer_move",point:L.AddXY(l,u.x,u.y),pointerId:Goe.CAMERA_MOVE,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,shiftKey:this.inputs.shiftKey,metaKey:this.inputs.metaKey,accelKey:ra(this.inputs),button:0,isPen:this.getInstanceState().isPenMode??!1};r!=null&&r.immediate?this._flushEventForTick(d):this.dispatch(d)}this._tickCameraState()}),this)}setCamera(t,r){const{isLocked:n}=this._cameraOptions.__unsafe__getWithoutCapture();if(n&&!(r!=null&&r.force))return this;this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser();const i=L.Cast(t);Uy.Number.isFinite(i.x)||(i.x=0),Uy.Number.isFinite(i.y)||(i.y=0),(i.z===void 0||!Uy.Number.isFinite(i.z))&&(t.z=this.getZoomLevel());const o=this.getConstrainedCamera(i,r);if(r!=null&&r.animation){const{width:a,height:s}=this.getViewportScreenBounds();this._animateToViewport(new st(-o.x,-o.y,a/o.z,s/o.z),r)}else this._setCamera(o,{...r,force:!0});return this}centerOnPoint(t,r){const{isLocked:n}=this.getCameraOptions();if(n&&!(r!=null&&r.force))return this;const{width:i,height:o}=this.getViewportPageBounds();return this.setCamera(new L(-(t.x-i/2),-(t.y-o/2),this.getCamera().z),r),this}zoomToFit(t){const r=[...this.getCurrentPageShapeIds()];if(r.length<=0)return this;const n=st.Common(lr(r.map(i=>this.getShapePageBounds(i))));return this.zoomToBounds(n,t),this}resetZoom(t=this.getViewportScreenCenter(),r){const{isLocked:n,constraints:i}=this.getCameraOptions();if(n&&!(r!=null&&r.force))return this;const o=this.getCamera(),{x:a,y:s,z:l}=o,{x:c,y:u}=t;let d=1;if(i){const A=this.getInitialZoom();l!==A&&(d=A)}return this.setCamera(new L(a+(c/d-c)-(c/l-c),s+(u/d-u)-(u/l-u),d),r),this}zoomIn(t=this.getViewportScreenCenter(),r){const{isLocked:n}=this.getCameraOptions();if(n&&!(r!=null&&r.force))return this;const{x:i,y:o,z:a}=this.getCamera(),{zoomSteps:s}=this.getCameraOptions();if(s!==null&&s.length>1){const l=this.getBaseZoom();let c=xo(s)*l;for(let u=1;u<s.length;u++){const d=s[u-1]*l,A=s[u]*l;if(!(A-a<=(A-d)/2)){c=A;break}}this.setCamera(new L(i+(t.x/c-t.x)-(t.x/a-t.x),o+(t.y/c-t.y)-(t.y/a-t.y),c),r)}return this}zoomOut(t=this.getViewportScreenCenter(),r){const{isLocked:n}=this.getCameraOptions();if(n&&!(r!=null&&r.force))return this;const{zoomSteps:i}=this.getCameraOptions();if(i!==null&&i.length>1){const o=this.getBaseZoom(),{x:a,y:s,z:l}=this.getCamera();let c=i[0]*o;for(let u=i.length-1;u>0;u--){const d=i[u-1]*o,A=i[u]*o;if(!(A-l>=(A-d)/2)){c=d;break}}this.setCamera(new L(a+(t.x/c-t.x)-(t.x/l-t.x),s+(t.y/c-t.y)-(t.y/l-t.y),c),r)}return this}zoomToSelection(t){const{isLocked:r}=this.getCameraOptions();if(r&&!(t!=null&&t.force))return this;const n=this.getSelectionPageBounds();return n&&this.zoomToBounds(n,{targetZoom:Math.max(1,this.getZoomLevel()),...t}),this}zoomToBounds(t,r){const n=this._cameraOptions.__unsafe__getWithoutCapture();if(n.isLocked&&!(r!=null&&r.force))return this;const i=this.getViewportScreenBounds(),o=(r==null?void 0:r.inset)??Math.min(w_t,i.width*.28),a=this.getBaseZoom(),s=n.zoomSteps[0],l=xo(n.zoomSteps);let c=vo(Math.min((i.width-o)/t.w,(i.height-o)/t.h),s*a,l*a);return(r==null?void 0:r.targetZoom)!==void 0&&(c=Math.min(r.targetZoom,c)),this.setCamera(new L(-t.x+(i.width-t.w*c)/2/c,-t.y+(i.height-t.h*c)/2/c,c),r),this}stopCameraAnimation(){return this.emit("stop-camera-animation"),this}_animateViewport(t){if(!this._viewportAnimation)return;this._viewportAnimation.elapsed+=t;const{elapsed:r,easing:n,duration:i,start:o,end:a}=this._viewportAnimation;if(r>i){this.off("tick",this._animateViewport),this._viewportAnimation=null,this._setCamera(new L(-a.x,-a.y,this.getViewportScreenBounds().width/a.width));return}const s=i-r,l=n(1-s/i),c=o.minX+(a.minX-o.minX)*l,u=o.minY+(a.minY-o.minY)*l,d=o.maxX+(a.maxX-o.maxX)*l;this._setCamera(new L(-c,-u,this.getViewportScreenBounds().width/(d-c)),{force:!0})}_animateToViewport(t,r={animation:ij}){const{animation:n,...i}=r;if(!n)return;const{duration:o=0,easing:a=so.easeInOutCubic}=n,s=this.user.getAnimationSpeed(),l=this.getViewportPageBounds();return this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser(),o===0||s===0?this._setCamera(new L(-t.x,-t.y,this.getViewportScreenBounds().width/t.width),{...i}):(this._viewportAnimation={elapsed:0,duration:o/s,easing:a,start:l.clone(),end:t.clone()},this.once("stop-camera-animation",()=>{this.off("tick",this._animateViewport),this._viewportAnimation=null}),this.on("tick",this._animateViewport),this)}slideCamera(t={}){const{isLocked:r}=this.getCameraOptions();if(r&&!(t!=null&&t.force))return this;if(this.user.getAnimationSpeed()===0)return this;this.stopCameraAnimation();const{speed:i,friction:o=this.options.cameraSlideFriction,direction:a,speedThreshold:s=.01}=t;let l=Math.min(i,1);const c=()=>{this.off("tick",u),this.off("stop-camera-animation",c)};this.once("stop-camera-animation",c);const u=d=>{const{x:A,y:f,z:h}=this.getCamera(),p=L.Mul(a,l*d/h);l*=1-o,l<s?c():this._setCamera(new L(A+p.x,f+p.y,h))};return this.on("tick",u),this}zoomToUser(t,r={animation:{duration:500}}){const n=this.getCollaborators().find(o=>o.userId===t);if(!n)return this;const i=n.cursor;return i?(this.run(()=>{this.getInstanceState().followingUserId!==null&&this.stopFollowingUser();const o=n.currentPageId===this.getCurrentPageId();o||this.setCurrentPage(n.currentPageId),r&&r.animation&&!o&&(r.animation=void 0),this.centerOnPoint(i,r);const{highlightedUserIds:a}=this.getInstanceState();this.updateInstanceState({highlightedUserIds:[...a,t]}),this.timers.setTimeout(()=>{const s=[...this.getInstanceState().highlightedUserIds],l=s.indexOf(t);l<0||(s.splice(l,1),this.updateInstanceState({highlightedUserIds:s}))},this.options.collaboratorIdleTimeoutMs)}),this):this}updateViewportScreenBounds(t,r=!1){if(t instanceof HTMLElement){const s=t.getBoundingClientRect();t=new st(s.left||s.x,s.top||s.y,Math.max(s.width,1),Math.max(s.height,1))}else t.width=Math.max(t.width,1),t.height=Math.max(t.height,1);const n=[t.minY!==0,!KA(document.body.scrollWidth,t.maxX,1),!KA(document.body.scrollHeight,t.maxY,1),t.minX!==0],{_willSetInitialBounds:i}=this;this._willSetInitialBounds=!1;const{screenBounds:o,insets:a}=this.getInstanceState();if(t.equals(o)&&n.every((s,l)=>s===a[l]))return this;if(i)this.updateInstanceState({screenBounds:t.toJson(),insets:n}),this.setCamera(this.getCamera());else if(r&&!this.getInstanceState().followingUserId){const s=this.getViewportPageBounds().center;this.updateInstanceState({screenBounds:t.toJson(),insets:n}),this.centerOnPoint(s)}else this.updateInstanceState({screenBounds:t.toJson(),insets:n}),this._setCamera(L.From({...this.getCamera()}));return this._tickCameraState(),this}getViewportScreenBounds(){const{x:t,y:r,w:n,h:i}=this.getInstanceState().screenBounds;return new st(t,r,n,i)}getViewportScreenCenter(){const t=this.getViewportScreenBounds();return new L(t.midX-t.minX,t.midY-t.minY)}getViewportPageBounds(){const{w:t,h:r}=this.getViewportScreenBounds(),{x:n,y:i,z:o}=this.getCamera();return new st(-n,-i,t/o,r/o)}screenToPage(t){const{screenBounds:r}=this.store.unsafeGetWithoutCapture(Sa),{x:n,y:i,z:o=1}=this.getCamera();return new L((t.x-r.x)/o-n,(t.y-r.y)/o-i,t.z??.5)}pageToScreen(t){const{screenBounds:r}=this.store.unsafeGetWithoutCapture(Sa),{x:n,y:i,z:o=1}=this.getCamera();return new L((t.x+n)*o+r.x,(t.y+i)*o+r.y,t.z??.5)}pageToViewport(t){const{x:r,y:n,z:i=1}=this.getCamera();return new L((t.x+r)*i,(t.y+n)*i,t.z??.5)}_getCollaboratorsQuery(){return this.store.query.records("instance_presence",()=>({userId:{neq:this.user.getId()}}))}getCollaborators(){const t=this._getCollaboratorsQuery().get();return t.length?[...new Set(t.map(n=>n.userId))].sort().map(n=>aSt(t.filter(o=>o.userId===n),o=>o.lastActivityTimestamp??0)):vd}getCollaboratorsOnCurrentPage(){const t=this.getCurrentPageId();return this.getCollaborators().filter(r=>r.currentPageId===t)}startFollowingUser(t){this.stopFollowingUser();const r=this._getCollaboratorsQuery().get().filter(o=>o.userId===t);if(!r.length)return console.warn("User not found"),this;const n=this.user.getId();if(n||console.warn("You should set the userId for the current instance before following a user"),r.some(o=>o.followingUserId===n))return this;const i=qe("latestLeaderPresence",()=>this.getCollaborators().find(o=>o.userId===t));return Ca(()=>{this.updateInstanceState({followingUserId:t},{history:"ignore"});const o=iu("update current page",()=>{const l=i.get();if(!l){this.stopFollowingUser();return}l.currentPageId!==this.getCurrentPageId()&&this.getPage(l.currentPageId)&&this.run(()=>{this.store.put([{...this.getInstanceState(),currentPageId:l.currentPageId}]),this._isLockedOnFollowingUser.set(!0)},{history:"ignore"})}),a=()=>{o(),this._isLockedOnFollowingUser.set(!1),this.off("frame",s),this.off("stop-following",a)},s=()=>{if(!i.get()){this.stopFollowingUser();return}if(this._isLockedOnFollowingUser.get())return;const c=this.user.getAnimationSpeed();if(c===0){this._isLockedOnFollowingUser.set(!0);return}const u=this.getViewportPageBoundsForFollowing();if(!u){this.stopFollowingUser();return}const d=this.getViewportPageBounds(),A=Math.abs(u.minX-d.minX)+Math.abs(u.maxX-d.maxX),f=Math.abs(u.minY-d.minY)+Math.abs(u.maxY-d.maxY);if(A<this.options.followChaseViewportSnap&&f<this.options.followChaseViewportSnap){this._isLockedOnFollowingUser.set(!0);return}const h=vo(c*.5,.1,.8),p=new st(Pr(d.minX,u.minX,h),Pr(d.minY,u.minY,h),Pr(d.width,u.width,h),Pr(d.height,u.height,h)),v=new L(-p.x,-p.y,this.getViewportScreenBounds().width/p.width);this.stopCameraAnimation(),this._setCamera(v)};this.once("stop-following",a),this.addListener("frame",s),s()}),this}stopFollowingUser(){return this.run(()=>{this.store.put([this.getCamera()]),this._isLockedOnFollowingUser.set(!1),this.updateInstanceState({followingUserId:null}),this.emit("stop-following")},{history:"ignore"}),this}getUnorderedRenderingShapes(t){const r=[];let n=this.options.maxShapesPerPage*2,i=this.options.maxShapesPerPage;const o=this.getErasingShapeIds(),a=(l,c,u)=>{const d=this.getShape(l);if(!d||this.isShapeHidden(d))return;c*=d.opacity;let A=!1;const f=this.getShapeUtil(d);t&&(A=!u&&o.includes(l),A&&(c*=.32)),r.push({id:l,shape:d,util:f,index:n,backgroundIndex:i,opacity:c}),n+=1,i+=1;const h=this.getSortedChildIdsForParent(l);if(!h.length)return;let p=null;f.providesBackgroundForChildren(d)&&(p=i,i=n,n+=this.options.maxShapesPerPage);for(const v of h)a(v,c,u||A);p!==null&&(i=p)},s=t?[this.getCurrentPage()]:this.getPages();for(const l of s)for(const c of this.getSortedChildIdsForParent(l.id))a(c,1,!1);return r}_decayCameraStateTimeout(t){this._cameraStateTimeoutRemaining-=t,!(this._cameraStateTimeoutRemaining>0)&&(this.off("tick",this._decayCameraStateTimeout),this._cameraState.set("idle"))}_tickCameraState(){this._cameraStateTimeoutRemaining=this.options.cameraMovingTimeoutMs,this._cameraState.__unsafe__getWithoutCapture()==="idle"&&(this._cameraState.set("moving"),this.on("tick",this._decayCameraStateTimeout))}getCameraState(){return this._cameraState.get()}getRenderingShapes(){return this.getUnorderedRenderingShapes(!0).sort(jSt)}_getAllPagesQuery(){return this.store.query.records("page")}getPages(){return Array.from(this._getAllPagesQuery().get()).sort(ta)}getCurrentPage(){return this.getPage(this.getCurrentPageId())}getCurrentPageId(){return this.getInstanceState().currentPageId}getPage(t){return this.store.get(typeof t=="string"?t:t.id)}getCurrentPageShapeIds(){return this._currentPageShapeIds.get()}getCurrentPageShapeIdsSorted(){return Array.from(this.getCurrentPageShapeIds()).sort()}getPageShapeIds(t){const r=typeof t=="string"?t:t.id,n=this.store.query.exec("shape",{parentId:{eq:r}});return this.getShapeAndDescendantIds(n.map(i=>i.id))}setCurrentPage(t){const r=typeof t=="string"?t:t.id;return this.store.has(r)?(this.stopFollowingUser(),this.complete(),this.run(()=>{this.store.put([{...this.getInstanceState(),currentPageId:r}]),this.setCamera(this.getCamera())},{history:"record-preserveRedoStack"})):(console.error("Tried to set the current page id to a page that doesn't exist."),this)}updatePage(t){return this.getIsReadonly()?this:this.getPage(t.id)?this.run(()=>this.store.update(t.id,n=>({...n,...t}))):this}createPage(t){return this.run(()=>{if(this.getIsReadonly()||this.getPages().length>=this.options.maxPages)return;const r=this.getPages(),n=QUt(t.name??"Page 1",r.map(a=>a.name));let i=t.index;(!i||r.some(a=>a.index===i))&&(i=Yc(r[r.length-1].index));const o=Rs.create({meta:{},...t,name:n,index:i});this.store.put([o])}),this}deletePage(t){const r=typeof t=="string"?t:t.id;return this.run(()=>{if(this.getIsReadonly())return;const n=this.getPages();if(n.length===1)return;const i=this.getPage(r);if(i){if(r===this.getCurrentPageId()){const o=n.findIndex(s=>s.id===r),a=n[o-1]??n[o+1];this.setCurrentPage(a.id)}this.store.remove([i.id])}}),this}duplicatePage(t,r=Rs.createId()){if(this.getPages().length>=this.options.maxPages)return this;const n=typeof t=="string"?t:t.id,i=this.getPage(n);if(!i)return this;const o={...this.getCamera()},a=this.getContentFromCurrentPage(this.getSortedChildIdsForParent(i.id));return this.run(()=>{var c;const s=this.getPages(),l=Nw(i.index,(c=s[s.indexOf(i)+1])==null?void 0:c.index);if(this.createPage({name:i.name+" Copy",id:r,index:l}),this.setCurrentPage(r),this.setCamera(o),a)return this.putContentOntoCurrentPage(a)}),this}renamePage(t,r){const n=typeof t=="string"?t:t.id;return this.getIsReadonly()?this:(this.updatePage({id:n,name:r}),this)}_getAllAssetsQuery(){return this.store.query.records("asset")}getAssets(){return this._getAllAssetsQuery().get()}createAssets(t){return this.getIsReadonly()?this:t.length<=0?this:(this.run(()=>this.store.put(t),{history:"ignore"}),this)}updateAssets(t){return this.getIsReadonly()?this:t.length<=0?this:(this.run(()=>{this.store.put(t.map(r=>({...this.store.get(r.id),...r})))},{history:"ignore"}),this)}deleteAssets(t){if(this.getIsReadonly())return this;const r=typeof t[0]=="string"?t:t.map(n=>n.id);return r.length<=0?this:(this.run(()=>this.store.remove(r),{history:"ignore"}),this)}getAsset(t){return this.store.get(typeof t=="string"?t:t.id)}async resolveAssetUrl(t,r){if(!t)return null;const n=this.getAsset(t);if(!n)return null;const{screenScale:i=1,shouldResolveToOriginal:o=!1,dpr:a=this.getInstanceState().devicePixelRatio}=r,l=(u=>Math.pow(2,Math.ceil(Math.log2(u))))(i),c="connection"in navigator?navigator.connection.effectiveType:null;return await this.store.props.assets.resolve(n,{screenScale:i||1,steppedScreenScale:l,dpr:a,networkEffectiveType:c,shouldResolveToOriginal:o})}async uploadAsset(t,r,n){return await this.store.props.assets.upload(t,r,n)}getShapeGeometry(t,r){const n=(r==null?void 0:r.context)??"none";return this._shapeGeometryCaches[n]||(this._shapeGeometryCaches[n]=this.store.createComputedCache("bounds",i=>this.getShapeUtil(i).getGeometry(i,r),{areRecordsEqual:(i,o)=>i.props===o.props})),this._shapeGeometryCaches[n].get(typeof t=="string"?t:t.id)}_getShapeHandlesCache(){return this.store.createComputedCache("handles",t=>{var r,n;return(n=(r=this.getShapeUtil(t)).getHandles)==null?void 0:n.call(r,t)})}getShapeHandles(t){return this._getShapeHandlesCache().get(typeof t=="string"?t:t.id)}getShapeLocalTransform(t){const r=typeof t=="string"?t:t.id,n=this.getShape(r);if(!n)throw Error("Editor.getTransform: shape not found");return ct.Identity().translate(n.x,n.y).rotate(n.rotation)}_getShapePageTransformCache(){return this.store.createComputedCache("pageTransformCache",t=>{if(Ha(t.parentId))return this.getShapeLocalTransform(t);const r=this._getShapePageTransformCache().get(t.parentId)??ct.Identity();return ct.Compose(r,this.getShapeLocalTransform(t))})}getShapeParentTransform(t){const r=typeof t=="string"?t:t.id,n=this.getShape(r);return!n||Ha(n.parentId)?ct.Identity():this._getShapePageTransformCache().get(n.parentId)??ct.Identity()}getShapePageTransform(t){const r=typeof t=="string"?t:t.id;return this._getShapePageTransformCache().get(r)??ct.Identity()}_getShapePageBoundsCache(){return this.store.createComputedCache("pageBoundsCache",t=>{const r=this._getShapePageTransformCache().get(t.id);return r?st.FromPoints(ct.applyToPoints(r,this.getShapeGeometry(t).vertices)):new st})}getShapePageBounds(t){return this._getShapePageBoundsCache().get(typeof t=="string"?t:t.id)}_getShapeClipPathCache(){return this.store.createComputedCache("clipPathCache",t=>{const r=this._getShapeMaskCache().get(t.id);if(!r)return;if(r.length===0)return"polygon(0px 0px, 0px 0px, 0px 0px)";const n=this._getShapePageTransformCache().get(t.id);return n?`polygon(${ct.applyToPoints(ct.Inverse(n),r).map(o=>`${o.x}px ${o.y}px`).join(",")})`:void 0})}getShapeClipPath(t){return this._getShapeClipPathCache().get(typeof t=="string"?t:t.id)}_getShapeMaskCache(){return this.store.createComputedCache("pageMaskCache",t=>{if(Ha(t.parentId))return;const r=this.getShapeAncestors(t.id).filter(i=>this.isShapeOfType(i,"frame"));return r.length===0?void 0:r.map(i=>this._getShapePageTransformCache().get(i.id).applyToPoints(this.getShapeGeometry(i).vertices)).reduce((i,o)=>{if(!(o&&i))return;const a=UIe(i,o);return a?a.map(L.Cast):[]})})}getShapeMask(t){return this._getShapeMaskCache().get(typeof t=="string"?t:t.id)}getShapeMaskedPageBounds(t){return typeof t!="string"&&(t=t.id),this._getShapeMaskedPageBoundsCache().get(t)}_getShapeMaskedPageBoundsCache(){return this.store.createComputedCache("shapeMaskedPageBoundsCache",t=>{const r=this._getShapePageBoundsCache().get(t.id);if(!r)return;const n=this._getShapeMaskCache().get(t.id);if(n){if(n.length===0)return;const{corners:i}=r;if(i.every((a,s)=>a&&L.Equals(a,n[s])))return r.clone();const o=UIe(n,i);return o?st.FromPoints(o):void 0}return r})}getShapeAncestors(t,r=[]){const n=typeof t=="string"?t:t.id,i=this.getShape(n);if(!i)return r;const o=i.parentId;if(Ha(o))return r.reverse(),r;const a=this.store.get(o);return a?(r.push(a),this.getShapeAncestors(a,r)):r}findShapeAncestor(t,r){const n=typeof t=="string"?t:t.id,i=this.getShape(n);if(!i)return;const o=i.parentId;if(Ha(o))return;const a=this.getShape(o);if(a)return r(a)?a:this.findShapeAncestor(a,r)}hasAncestor(t,r){const n=typeof t=="string"?t:t==null?void 0:t.id,i=n&&this.getShape(n);return i?i.parentId===r?!0:this.hasAncestor(this.getShapeParent(i),r):!1}findCommonAncestor(t,r){var l;if(t.length===0)return;const n=typeof t[0]=="string"?t:t.map(c=>c.id),i=lr(n.map(c=>this.getShape(c)));if(i.length===1){const c=i[0].parentId;return Ha(c)?void 0:r?(l=this.findShapeAncestor(i[0],r))==null?void 0:l.id:c}const[o,...a]=i;let s=this.getShapeParent(o);for(;s;){if(r&&!r(s)){s=this.getShapeParent(s);continue}if(a.every(c=>this.hasAncestor(c,s.id)))return s.id;s=this.getShapeParent(s)}}isShapeOrAncestorLocked(t){const r=typeof t=="string"?this.getShape(t):t;return r===void 0?!1:r.isLocked?!0:this.isShapeOrAncestorLocked(this.getShapeParent(r))}_notVisibleShapes(){return GUt(this)}getCulledShapes(){const t=this._notVisibleShapes().get(),r=this.getSelectedShapeIds(),n=this.getEditingShapeId(),i=new Set(t);return n&&i.delete(n),r.forEach(o=>{i.delete(o)}),i}getCurrentPageBounds(){let t;return this.getCurrentPageShapeIdsSorted().forEach(r=>{const n=this.getShapeMaskedPageBounds(r);n&&(t?t=t.expand(n):t=n.clone())}),t}getSelectedShapeAtPoint(t){const r=this.getSelectedShapeIds();return this.getCurrentPageShapesSorted().filter(n=>n.type!=="group"&&r.includes(n.id)).reverse().find(n=>this.isPointInShape(n,t,{hitInside:!0,margin:0}))}getShapeAtPoint(t,r={}){const n=this.getZoomLevel(),i=this.getViewportPageBounds(),{filter:o,margin:a=0,hitLocked:s=!1,hitLabels:l=!1,hitInside:c=!1,hitFrameInside:u=!1}=r;let d=1/0,A=null,f=1/0,h=null;const p=(r.renderingOnly?this.getCurrentPageRenderingShapesSorted():this.getCurrentPageShapesSorted()).filter(v=>{if(v.isLocked&&!s||this.isShapeHidden(v)||this.isShapeOfType(v,"group"))return!1;const y=this.getShapeMask(v);return y&&!Is(t,y)?!1:o?o(v):!0});for(let v=p.length-1;v>=0;v--){const y=p[v],b=this.getShapeGeometry(y),x=b instanceof bl,S=this.getPointInShapeSpace(y,t);if(this.isShapeOfType(y,"frame")||(this.isShapeOfType(y,"arrow")||this.isShapeOfType(y,"geo")&&y.props.fill==="none")&&y.props.text.trim()){for(const _ of b.children)if(_.isLabel&&_.isPointInBounds(S))return y}if(this.isShapeOfType(y,"frame")){const _=b.distanceToPoint(S,c);if(Math.abs(_)<=a)return h||y;if(b.hitTestPoint(S,0,!0))return h||A||(u?y:void 0);continue}let C;if(x){let _=1/0;for(const B of b.children){if(B.isLabel&&!l)continue;const T=B.distanceToPoint(S,c);T<_&&(_=T)}C=_}else a===0&&(b.bounds.w<1||b.bounds.h<1)||b.bounds.containsPoint(S,a)?C=b.distanceToPoint(S,c):C=1/0;if(b.isClosed){if(C<=a){if(b.isFilled||x&&b.children[0].isFilled)return h||y;if(this.getShapePageBounds(y).contains(i))continue;if(Math.abs(C)<a)Math.abs(C)<f&&(f=Math.abs(C),h=y);else if(!h){const{area:_}=b;_<d&&(d=_,A=y)}}}else if(C<this.options.hitTestMargin/n)return y}return h||A||void 0}getShapesAtPoint(t,r={}){return this.getCurrentPageShapes().filter(n=>!this.isShapeHidden(n)&&this.isPointInShape(n,t,r))}isPointInShape(t,r,n={}){const{hitInside:i=!1,margin:o=0}=n,a=typeof t=="string"?t:t.id,s=this.getShapeMask(a);return s&&!Is(r,s)?!1:this.getShapeGeometry(a).hitTestPoint(this.getPointInShapeSpace(t,r),o,i)}getPointInShapeSpace(t,r){const n=typeof t=="string"?t:t.id;return this._getShapePageTransformCache().get(n).clone().invert().applyToPoint(r)}getPointInParentSpace(t,r){const n=typeof t=="string"?t:t.id,i=this.getShape(n);if(!i)return new L(0,0);if(Ha(i.parentId))return L.From(r);const o=this.getShapePageTransform(i.parentId);return o?o.clone().invert().applyToPoint(r):L.From(r)}getCurrentPageShapes(){return Array.from(this.getCurrentPageShapeIds(),t=>this.store.get(t))}getCurrentPageShapesSorted(){const t=[],r=this.getSortedChildIdsForParent(this.getCurrentPageId());for(let n=0,i=r.length;n<i;n++)TQe(this,r[n],t);return t}getCurrentPageRenderingShapesSorted(){const t=this.getCulledShapes();return this.getCurrentPageShapesSorted().filter(({id:r})=>!t.has(r)&&!this.isShapeHidden(r))}isShapeOfType(t,r){const n=typeof t=="string"?this.getShape(t):t;return n?n.type===r:!1}getShape(t){const r=typeof t=="string"?t:t.id;if(Wa(r))return this.store.get(r)}getShapeParent(t){const r=typeof t=="string"?t:t==null?void 0:t.id;if(!r)return;const n=this.getShape(r);if(!(n===void 0||!Wa(n.parentId)))return this.store.get(n.parentId)}getShapeNearestSibling(t,r){return r?r.parentId===t.parentId?r:this.findShapeAncestor(r,i=>i.parentId===t.parentId):void 0}isShapeInPage(t,r=this.getCurrentPageId()){const n=typeof t=="string"?t:t.id,i=this.getShape(n);if(!i)return!1;let o=!1;if(i.parentId===r)o=!0;else{let a=this.getShape(i.parentId);e:for(;a;){if(a.parentId===r){o=!0;break e}a=this.getShape(a.parentId)}}return o}getAncestorPageId(t){const r=typeof t=="string"?t:t==null?void 0:t.id,n=r&&this.getShape(r);if(n)return Ha(n.parentId)?n.parentId:this.getAncestorPageId(this.getShape(n.parentId))}reparentShapes(t,r,n){const i=typeof t[0]=="string"?t:t.map(A=>A.id);if(i.length===0)return this;const o=[],a=Ha(r)?ct.Identity():this.getShapePageTransform(r),s=a.rotation();let l=[];const c=lr(this.getSortedChildIdsForParent(r).map(A=>this.getShape(A)));if(n){const A=c.find(f=>f.index===n);if(A){const f=c[c.indexOf(A)+1];f?l=_m(n,f.index,i.length):l=eU(n,i.length)}else{const f=c.sort(ta).find(h=>h.index>n);f?l=_m(n,f.index,i.length):l=eU(n,i.length)}}else{const A=c.length&&c[c.length-1];l=A?eU(A.index,i.length):$w(i.length)}const u=a.clone().invert(),d=lr(i.map(A=>this.getShape(A)));return this.run(()=>{for(let A=0;A<d.length;A++){const f=d[A],h=this.getShapePageTransform(f);if(!h)continue;const p=h.point();if(!p)continue;const v=u.applyToPoint(p),y=h.rotation()-s;o.push({id:f.id,type:f.type,parentId:r,x:v.x,y:v.y,rotation:y,index:l[A]})}this.updateShapes(o)},{ignoreShapeLock:!0}),this}getHighestIndexForParent(t){const r=typeof t=="string"?t:t.id,n=this._parentIdsToChildIds.get()[r];if(!n||n.length===0)return"a1";const i=this.getShape(n[n.length-1]);return Yc(i.index)}getSortedChildIdsForParent(t){const r=typeof t=="string"?t:t.id,n=this._parentIdsToChildIds.get()[r];return n||vd}visitDescendants(t,r){const n=typeof t=="string"?t:t.id,i=this.getSortedChildIdsForParent(n);for(const o of i)r(o)!==!1&&this.visitDescendants(o,r);return this}getShapeAndDescendantIds(t){const r=new Set;for(const n of t.map(i=>this.getShape(i)).sort(ta))r.add(n.id),this.visitDescendants(n,i=>{r.add(i)});return r}getDroppingOverShape(t,r=[]){const n=this.getCurrentPageShapesSorted();for(let i=n.length-1;i>=0;i--){const o=n[i];if(this.isShapeHidden(o)||this.getSelectedShapeIds().includes(o.id)||!this.getShapeUtil(o).canDropShapes(o,r)||r.find(s=>s.id===o.id||this.hasAncestor(o,s.id)))continue;const a=this.getShapeMaskedPageBounds(o.id);if(a&&a.containsPoint(t)&&this.getShapeGeometry(o).hitTestPoint(this.getPointInShapeSpace(o,t),0,!0))return o}}getOutermostSelectableShape(t,r){const n=typeof t=="string"?t:t.id,i=this.getShape(n);let o=i,a=i;const s=this.getFocusedGroup();for(;a;){if(this.isShapeOfType(a,"group")&&(s==null?void 0:s.id)!==a.id&&!this.hasAncestor(s,a.id)&&((r==null?void 0:r(a))??!0))o=a;else if((s==null?void 0:s.id)===a.id)break;a=this.getShapeParent(a)}return o}_getBindingsIndexCache(){const t=WUt(this);return this.store.createComputedCache("bindingsIndex",r=>t.get().get(r.id))}getBinding(t){return this.store.get(t)}getBindingsFromShape(t,r){const n=typeof t=="string"?t:t.id;return this.getBindingsInvolvingShape(n).filter(i=>i.fromId===n&&i.type===r)}getBindingsToShape(t,r){const n=typeof t=="string"?t:t.id;return this.getBindingsInvolvingShape(n).filter(i=>i.toId===n&&i.type===r)}getBindingsInvolvingShape(t,r){const n=typeof t=="string"?t:t.id,i=this._getBindingsIndexCache().get(n)??vd;return r?i.filter(o=>o.type===r):i}createBindings(t){const r=[];for(const n of t){const i=this.getShape(n.fromId),o=this.getShape(n.toId);if(!i||!o||!this.canBindShapes({fromShape:i,toShape:o,binding:n}))continue;const s=this.getBindingUtil(n.type).getDefaultProps(),l=this.store.schema.types.binding.create({...n,id:n.id??Ch(),props:{...s,...n.props}});r.push(l)}return this.store.put(r),this}createBinding(t){return this.createBindings([t])}updateBindings(t){const r=[];for(const n of t){if(!n)continue;const i=this.getBinding(n.id);if(!i)continue;const o=Lc(i,n);if(o===i)continue;const a=this.getShape(o.fromId),s=this.getShape(o.toId);!a||!s||this.canBindShapes({fromShape:a,toShape:s,binding:o})&&r.push(o)}return this.store.put(r),this}updateBinding(t){return this.updateBindings([t])}deleteBindings(t,{isolateShapes:r=!1}={}){const n=t.map(i=>typeof i=="string"?i:i.id);return r?this.store.atomic(()=>{var i,o;for(const a of n){const s=this.getBinding(a);if(!s)continue;const l=this.getBindingUtil(s);(i=l.onBeforeIsolateFromShape)==null||i.call(l,{binding:s,removedShape:this.getShape(s.toId)}),(o=l.onBeforeIsolateToShape)==null||o.call(l,{binding:s,removedShape:this.getShape(s.fromId)}),this.store.remove([a])}}):this.store.remove(n),this}deleteBinding(t,r){return this.deleteBindings([t],r)}canBindShapes({fromShape:t,toShape:r,binding:n}){const i=typeof t=="string"?t:t.type,o=typeof r=="string"?r:r.type,a=typeof n=="string"?n:n.type,s={fromShapeType:i,toShapeType:o,bindingType:a};return i===o?this.getShapeUtil(i).canBind(s):this.getShapeUtil(i).canBind(s)&&this.getShapeUtil(o).canBind(s)}rotateShapesBy(t,r,n){const i=typeof t[0]=="string"?t:t.map(a=>a.id);if(i.length<=0)return this;const o=i$e({editor:this,ids:i});return o?(IC({delta:r,snapshot:o,editor:this,stage:"one-off",centerOverride:n==null?void 0:n.center}),this):this}getChangesToTranslateShape(t,r){var l,c,u;let n=t;const i=this.getShapeUtil(t),o=(l=i.onTranslateStart)==null?void 0:l.call(i,n);o&&(n=Lc(n,o)),n=Lc(n,{id:t.id,type:t.type,x:r.x,y:r.y});const a=(c=i.onTranslate)==null?void 0:c.call(i,t,n);a&&(n=Lc(n,a));const s=(u=i.onTranslateEnd)==null?void 0:u.call(i,t,n);return s&&(n=Lc(n,s)),n}nudgeShapes(t,r){const n=typeof t[0]=="string"?t:t.map(o=>o.id);if(n.length<=0)return this;const i=[];for(const o of n){const a=this.getShape(o),s=L.From(r),l=this.getShapeParentTransform(a);l&&s.rot(-l.rotation()),i.push(this.getChangesToTranslateShape(a,s.add(a)))}return this.updateShapes(i),this}duplicateShapes(t,r){return this.run(()=>{const n=typeof t[0]=="string"?t:t.map(A=>A.id);if(n.length<=0)return this;const i=new Set(n),o=this.getShapeAndDescendantIds(n),a=[...o].reverse(),s=new Map;for(const A of o)s.set(A,cn());const{shapesToCreateWithOriginals:l,bindingsToCreate:c}=JIe(this,o,A=>{const f=[];for(const p of A){const v=this.getBinding(p);if(!v)continue;const y=Ch();f.push({...v,id:y,fromId:Va(s.get(v.fromId)),toId:Va(s.get(v.toId))})}const h=[];for(const p of a){const v=Va(s.get(p)),y=this.getShape(p);if(!y)continue;let b=0,x=0;if(r&&i.has(p)){const S=this.getShapeParentTransform(y),C=new L(r.x,r.y).rot(-S.rotation());b=C.x,x=C.y}h.push({shape:{...y,id:v,x:y.x+b,y:y.y+x,index:"a1",parentId:s.get(y.parentId)??y.parentId},originalShape:y})}return{shapesToCreateWithOriginals:h,bindingsToCreate:f}});l.forEach(({shape:A,originalShape:f})=>{const h=f.parentId,p=this.getSortedChildIdsForParent(h),v=p.indexOf(f.id),y=p[v+1],b=y?this.getShape(y):void 0,x=Nw(f.index,b==null?void 0:b.index);A.index=x});const u=l.map(({shape:A})=>A);if(u.length+this.getCurrentPageShapeIds().size>this.options.maxShapesPerPage){M1(this);return}if(this.createShapes(u),this.createBindings(c),this.setSelectedShapes(lr(n.map(A=>s.get(A)))),r!==void 0){const A=this.getSelectionPageBounds(),f=this.getViewportPageBounds();A&&!f.contains(A)&&this.centerOnPoint(A.center,{animation:{duration:this.options.animationMediumMs}})}}),this}moveShapesToPage(t,r){const n=typeof t[0]=="string"?t:t.map(s=>s.id);if(n.length===0)return this;if(this.getIsReadonly())return this;const i=this.getCurrentPageId();if(r===i)return this;if(!this.store.has(r))return this;const o=this.getContentFromCurrentPage(n);if(!o)return this;if(this.getPageShapeIds(r).size+o.shapes.length>this.options.maxShapesPerPage)return M1(this,r),this;const a=this.getCamera().z;return this.run(()=>{this.deleteShapes(n),this.setCurrentPage(r),this.setFocusedGroup(null),this.selectNone(),this.putContentOntoCurrentPage(o,{select:!0,preserveIds:!0,preservePosition:!0}),this.setCamera({...this.getCamera(),z:a}),this.centerOnPoint(this.getSelectionRotatedPageBounds().center)}),this}toggleLock(t){const r=typeof t[0]=="string"?t:t.map(a=>a.id);if(this.getIsReadonly()||r.length===0)return this;let n=!0,i=!0;const o=[];for(const a of r){const s=this.getShape(a);s&&(o.push(s),s.isLocked?i=!1:n=!1)}return this.run(()=>{i?(this.updateShapes(o.map(a=>({id:a.id,type:a.type,isLocked:!0}))),this.setSelectedShapes([])):n?this.updateShapes(o.map(a=>({id:a.id,type:a.type,isLocked:!1}))):this.updateShapes(o.map(a=>({id:a.id,type:a.type,isLocked:!0})))}),this}sendToBack(t){const r=typeof t[0]=="string"?t:t.map(i=>i.id),n=O1(this,"toBack",r,{considerAllShapes:!0});return n&&this.updateShapes(n),this}sendBackward(t,r={}){const n=typeof t[0]=="string"?t:t.map(o=>o.id),i=O1(this,"backward",n,r);return i&&this.updateShapes(i),this}bringForward(t,r={}){const n=typeof t[0]=="string"?t:t.map(o=>o.id),i=O1(this,"forward",n,r);return i&&this.updateShapes(i),this}bringToFront(t){const r=typeof t[0]=="string"?t:t.map(i=>i.id),n=O1(this,"toFront",r);return n&&this.updateShapes(n),this}collectShapesViaArrowBindings(t){const{initialShapes:r,resultShapes:n,resultBounds:i,bindings:o,visited:a}=t;for(const s of o)for(const l of[s.fromId,s.toId])if(!a.has(l)){const c=r.find(u=>u.id===l);if(c&&!a.has(c.id)){a.add(c.id);const u=this.getShapePageBounds(c);if(!u)continue;n.push(c),i.push(u),this.collectShapesViaArrowBindings({...t,bindings:this.getBindingsInvolvingShape(c,"arrow")})}}}flipShapes(t,r){if(this.getIsReadonly())return this;const n=typeof t[0]=="string"?t:t.map(l=>l.id),i=lr(n.map(l=>this.getShape(l)));for(const l of i)if(this.isShapeOfType(l,"group")){const c=lr(this.getSortedChildIdsForParent(l.id).map(u=>this.getShape(u)));i.push(...c)}const o=[],a=[];for(const l of i){const c=this.getShapeUtil(l);if(!c.canBeLaidOut(l,{type:"flip",shapes:i}))continue;const u=this.getShapePageBounds(l),d=this.getShapeGeometry(l).bounds,A=this.getShapePageTransform(l.id);u&&d&&A&&(o.push({shape:l,localBounds:d,pageTransform:A,isAspectRatioLocked:c.isAspectRatioLocked(l)}),a.push(u))}if(!o.length)return this;const s=st.Common(a).center;return this.run(()=>{for(const{shape:l,localBounds:c,pageTransform:u,isAspectRatioLocked:d}of o)this.resizeShape(l.id,{x:r==="horizontal"?-1:1,y:r==="vertical"?-1:1},{initialBounds:c,initialPageTransform:u,initialShape:l,isAspectRatioLocked:d,mode:"scale_shape",scaleOrigin:s,scaleAxisRotation:0})}),this}stackShapes(t,r,n){var v,y;const i=typeof t[0]=="string"?t:t.map(b=>b.id);if(this.getIsReadonly())return this;const o=lr(i.map(b=>this.getShape(b))),a=[],s=new Set;for(const b of o){if(s.has(b.id))continue;s.add(b.id);const x=this.getShapePageBounds(b);if(!x||!((y=(v=this.getShapeUtil(b)).canBeLaidOut)!=null&&y.call(v,b,{type:"stack",shapes:o})))continue;const S=[b],C=[x];this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(b.id,"arrow"),initialShapes:o,resultShapes:S,resultBounds:C,visited:s});const _=st.Common(C);_&&a.push({shapes:S,pageBounds:_})}const l=a.length;if(n===0&&l<3||l<2)return this;let c,u,d,A;r==="horizontal"?(c="x",u="minX",d="maxX",A="width"):(c="y",u="minY",d="maxY",A="height");let f=0;if(n===0){const b={};a.sort((S,C)=>S.pageBounds[u]-C.pageBounds[u]);for(let S=0;S<l-1;S++){const C=a[S],B=a[S+1].pageBounds[u]-C.pageBounds[d];b[B]||(b[B]=0),b[B]++}let x=1;for(const[S,C]of Object.entries(b))C>x&&(x=C,f=parseFloat(S));if(x===1){let S=0;for(const[C,_]of Object.entries(b))f+=parseFloat(C)*_,S+=_;f/=S}}else f=n;const h=[];let p=a[0].pageBounds[d];for(let b=1;b<a.length;b++){const{shapes:x,pageBounds:S}=a[b],C=new L;C[c]=p+f-S[c];for(const _ of x){const B=C.clone(),T=this.getShapeParent(_);if(T){const O=this.getShapePageTransform(T);O&&B.rot(-O.rotation())}B.add(_),h.push(this.getChangesToTranslateShape(_,B))}p+=S[A]+f}return this.updateShapes(h),this}packShapes(t,r){var S,C;if(this.getIsReadonly())return this;const n=typeof t[0]=="string"?t:t.map(_=>_.id),i=lr(n.map(_=>this.getShape(_))),o=[],a=[],s=new Set;for(const _ of i){if(s.has(_.id))continue;s.add(_.id);const B=this.getShapePageBounds(_);if(!B||!((C=(S=this.getShapeUtil(_)).canBeLaidOut)!=null&&C.call(S,_,{type:"pack",shapes:i})))continue;const T=[_],O=[B];this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(_.id,"arrow"),initialShapes:i,resultShapes:T,resultBounds:O,visited:s});const P=st.Common(O);P&&(o.push({shapes:T,pageBounds:P,nextPageBounds:P.clone()}),a.push(P))}if(o.length<2)return this;let l=0;for(const{pageBounds:_}of o)l+=_.width*_.height;const c=st.Common(a),u=c.width;o.sort((_,B)=>_.pageBounds.width-B.pageBounds.width).sort((_,B)=>_.pageBounds.height-B.pageBounds.height);const d=Math.max(Math.ceil(Math.sqrt(l/.95)),u),A=[new st(c.x,c.y,d,1/0)];let f=0,h=0,p,v;for(const{nextPageBounds:_}of o)for(let B=A.length-1;B>=0;B--)if(p=A[B],!(_.width>p.width||_.height>p.height)){_.x=p.x,_.y=p.y,h=Math.max(h,_.maxY),f=Math.max(f,_.maxX),_.width===p.width&&_.height===p.height?(v=A.pop(),B<A.length&&(A[B]=v)):_.height===p.height?(p.x+=_.width+r,p.width-=_.width+r):_.width===p.width?(p.y+=_.height+r,p.height-=_.height+r):(A.push(new st(p.x+(_.width+r),p.y,p.width-(_.width+r),_.height)),p.y+=_.height+r,p.height-=_.height+r);break}const y=st.Common(o.map(_=>_.nextPageBounds)),b=L.Sub(c.center,y.center),x=[];for(const{shapes:_,pageBounds:B,nextPageBounds:T}of o){const O=L.Sub(T.point,B.point).add(b);for(const P of _){const F=O.clone();if(this.getShapeParent(P)){const k=this.getShapeParentTransform(P);k&&F.rot(-k.rotation())}F.add(P),x.push(this.getChangesToTranslateShape(P,F))}}return x.length&&this.updateShapes(x),this}alignShapes(t,r){var u,d;if(this.getIsReadonly())return this;const n=typeof t[0]=="string"?t:t.map(A=>A.id),i=lr(n.map(A=>this.getShape(A))),o=[],a=[],s=new Set;for(const A of i){if(s.has(A.id))continue;s.add(A.id);const f=this.getShapePageBounds(A);if(!f||!((d=(u=this.getShapeUtil(A)).canBeLaidOut)!=null&&d.call(u,A,{type:"align",shapes:i})))continue;const h=[A],p=[f];this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(A.id,"arrow"),initialShapes:i,resultShapes:h,resultBounds:p,visited:s});const v=st.Common(p);v&&(o.push({shapes:h,pageBounds:v}),a.push(v))}if(o.length<2)return this;const l=st.Common(a),c=[];return o.forEach(({shapes:A,pageBounds:f})=>{const h=new L;switch(r){case"top":{h.y=l.minY-f.minY;break}case"center-vertical":{h.y=l.midY-f.minY-f.height/2;break}case"bottom":{h.y=l.maxY-f.minY-f.height;break}case"left":{h.x=l.minX-f.minX;break}case"center-horizontal":{h.x=l.midX-f.minX-f.width/2;break}case"right":{h.x=l.maxX-f.minX-f.width;break}}for(const p of A){const v=h.clone(),y=this.getShapeParent(p);if(y){const b=this.getShapePageTransform(y);b&&v.rot(-b.rotation())}v.add(p),c.push(this.getChangesToTranslateShape(p,v))}}),this.updateShapes(c),this}distributeShapes(t,r){var x,S;if(this.getIsReadonly())return this;const n=typeof t[0]=="string"?t:t.map(C=>C.id),i=lr(n.map(C=>this.getShape(C))),o=[],a=new Set;for(const C of i){if(a.has(C.id))continue;a.add(C.id);const _=this.getShapePageBounds(C);if(!_||!((S=(x=this.getShapeUtil(C)).canBeLaidOut)!=null&&S.call(x,C,{type:"distribute",shapes:i})))continue;const B=[C],T=[_];this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(C.id,"arrow"),initialShapes:i,resultShapes:B,resultBounds:T,visited:a});const O=st.Common(T);O&&o.push({shapes:B,pageBounds:O})}if(o.length<3)return this;let s,l,c,u;r==="horizontal"?(s="x",l="minX",c="maxX",u="width"):(s="y",l="minY",c="maxY",u="height");const d=[],A=o.sort((C,_)=>C.pageBounds[l]-_.pageBounds[l])[0],f=o.sort((C,_)=>_.pageBounds[c]-C.pageBounds[c])[0];if(A===f){const C=new Set(A.shapes.map(_=>_.id));return this.distributeShapes(n.filter(_=>!C.has(_)),r)}const h=o.filter(C=>C!==A&&C!==f).sort((C,_)=>C.pageBounds[l]===_.pageBounds[l]?C.shapes[0].id<_.shapes[0].id?-1:1:C.pageBounds[l]-_.pageBounds[l]),p=A.pageBounds[c],v=f.pageBounds[l]-p,y=h.reduce((C,_)=>C+_.pageBounds[u],0),b=(v-y)/(h.length+1);for(let C=p+b,_=0;_<h.length;_++){const{shapes:B,pageBounds:T}=h[_],O=new L;O[s]=C-T[s],C+T[u]>f.pageBounds[c]-1&&(O[s]=f.pageBounds[c]-T[c]-1);for(const P of B){const F=O.clone(),U=this.getShapeParent(P);if(U){const k=this.getShapePageTransform(U);k&&F.rot(-k.rotation())}F.add(P),d.push(this.getChangesToTranslateShape(P,F))}C+=T[u]+b}return this.updateShapes(d),this}stretchShapes(t,r){var A,f;const n=typeof t[0]=="string"?t:t.map(h=>h.id);if(this.getIsReadonly())return this;const i=lr(n.map(h=>this.getShape(h))).filter(h=>{var p;return((p=this.getShapePageTransform(h))==null?void 0:p.rotation())%(jr/2)===0}),o=[],a=[],s=new Set;for(const h of i){if(s.has(h.id))continue;s.add(h.id);const p=this.getShapePageBounds(h);if(!p)continue;const v=[h],y=[p];if(!((f=(A=this.getShapeUtil(h)).canBeLaidOut)!=null&&f.call(A,h,{type:"stretch",shapes:i})))continue;this.collectShapesViaArrowBindings({bindings:this.getBindingsToShape(h.id,"arrow"),initialShapes:i,resultShapes:v,resultBounds:y,visited:s});const b=st.Common(y);b&&(o.push({shapes:v,pageBounds:b}),a.push(b))}if(o.length<2)return this;const l=st.Common(a);let c,u,d;return r==="horizontal"?(c="x",u="minX",d="width"):(c="y",u="minY",d="height"),this.run(()=>{o.forEach(({shapes:h,pageBounds:p})=>{const v=new L;v[c]=l[u]-p[u];const y=p.center.clone();y[c]=l[u];const b=new L(1,1);b[c]=l[d]/p[d];for(const x of h){const S=v.clone(),C=this.getShapeParentTransform(x);C&&v.rot(-C.rotation()),S.add(x);const _=this.getChangesToTranslateShape(x,S);this.updateShape(_),this.resizeShape(x.id,b,{initialBounds:this.getShapeGeometry(x).bounds,scaleOrigin:y,isAspectRatioLocked:this.getShapeUtil(x).isAspectRatioLocked(x),scaleAxisRotation:0})}})}),this}resizeShape(t,r,n={}){var h,p,v;const i=typeof t=="string"?t:t.id;if(this.getIsReadonly())return this;Uy.Number.isFinite(r.x)||(r=new L(1,r.y)),Uy.Number.isFinite(r.y)||(r=new L(r.x,1));const o=n.initialShape??this.getShape(i);if(!o)return this;const a=n.scaleOrigin??((h=this.getShapePageBounds(i))==null?void 0:h.center);if(!a)return this;const s=n.initialPageTransform?ct.Cast(n.initialPageTransform):this.getShapePageTransform(i);if(!s)return this;const l=s.rotation();if(l==null)return this;const c=n.scaleAxisRotation??l,u=n.initialBounds??this.getShapeGeometry(i).bounds;if(!u)return this;const d=n.isAspectRatioLocked??this.getShapeUtil(o).isAspectRatioLocked(o);if(!vUe(l,c))return this._resizeUnalignedShape(i,r,{...n,initialBounds:u,scaleOrigin:a,scaleAxisRotation:c,initialPageTransform:s,isAspectRatioLocked:d,initialShape:o});const A=this.getShapeUtil(o);d&&(Math.abs(r.x)>Math.abs(r.y)?r=new L(r.x,Math.sign(r.y)*Math.abs(r.x)):r=new L(Math.sign(r.x)*Math.abs(r.y),r.y));let f=!1;if(A.onResize&&A.canResize(o)){const y=this._scalePagePoint(ct.applyToPoint(s,new L(0,0)),a,r,c),b=this.getPointInParentSpace(o.id,y),x=new L(r.x,r.y),S=KA((l-c)%Math.PI,0);x.x=S?r.x:r.y,x.y=S?r.y:r.x;const C=ct.applyToPoint(s,new L),{x:_,y:B}=this.getPointInParentSpace(o.id,C);let T=o;n.skipStartAndEndCallbacks||(T=Lc(o,((p=A.onResizeStart)==null?void 0:p.call(A,o))??void 0));const O=A.onResize({...o,x:_,y:B},{newPoint:b,handle:n.dragHandle??"bottom_right",mode:n.mode??"scale_shape",scaleX:x.x,scaleY:x.y,initialBounds:u,initialShape:o});O&&(f=!0),T=Lc(T,{id:i,type:o.type,x:b.x,y:b.y,...O}),n.skipStartAndEndCallbacks||(T=Lc(T,((v=A.onResizeEnd)==null?void 0:v.call(A,o,T))??void 0)),this.updateShapes([T])}if(!f){const y=ct.applyToPoint(s,u.center),b=this._scalePagePoint(y,a,r,c),x=this.getPointInParentSpace(o.id,y),S=this.getPointInParentSpace(o.id,b),C=L.Sub(S,x);this.updateShapes([{id:i,type:o.type,x:o.x+C.x,y:o.y+C.y}])}return this}_scalePagePoint(t,r,n,i){const o=L.RotWith(t,r,-i).sub(r),a=L.MulV(o,n);return L.Add(a,r).rotWith(r,i)}_resizeUnalignedShape(t,r,n){const{type:i}=n.initialShape,o=new L(r.x,r.y);if(Math.abs(r.x)>Math.abs(r.y)?o.x=Math.sign(r.x)*Math.abs(r.y):o.y=Math.sign(r.y)*Math.abs(r.x),this.resizeShape(t,o,{initialShape:n.initialShape,initialBounds:n.initialBounds,isAspectRatioLocked:n.isAspectRatioLocked}),Math.sign(r.x)*Math.sign(r.y)<0){let{rotation:v}=ct.Decompose(n.initialPageTransform);v-=2*v,this.updateShapes([{id:t,type:i,rotation:v}])}const a=ct.applyToPoint(n.initialPageTransform,n.initialBounds.center),s=this._scalePagePoint(a,n.scaleOrigin,r,n.scaleAxisRotation),l=this.getShapePageBounds(t),c=this.getShapePageTransform(t),u=l.center,d=c.point();if(!u||!d)return this;const A=L.Sub(s,u),f=L.Add(d,A),{x:h,y:p}=this.getPointInParentSpace(t,f);return this.updateShapes([{id:t,type:i,x:h,y:p}]),this}getInitialMetaForShape(t){return{}}createShape(t){return this.createShapes([t]),this}createShapes(t){if(!Array.isArray(t))throw Error("Editor.createShapes: must provide an array of shapes or shape partials");if(this.getIsReadonly())return this;if(t.length<=0)return this;const r=this.getCurrentPageShapeIds();if(t.length+r.size>this.options.maxShapesPerPage)return M1(this),this;const i=this.getFocusedGroupId();return this.run(()=>{var u,d;const o=this.getCurrentPageShapesSorted(),a=t.map(A=>{if(A.id||(A={id:cn(),...A}),!A.parentId||!(this.store.has(A.parentId)||t.some(f=>f.id===A.parentId))){let f=this.getFocusedGroupId();for(let p=o.length-1;p>=0;p--){const v=o[p];if(!this.isShapeHidden(v)&&this.getShapeUtil(v).canReceiveNewChildrenOfType(v,A.type)&&this.isPointInShape(v,{x:A.x??0,y:A.y??0},{margin:0,hitInside:!0})){f=v.id;break}}const h=A.parentId;if(f===A.id&&(f=i),f!==h&&(A={...A},A.parentId=f,Wa(f))){const p=this.getPointInShapeSpace(this.getShape(f),{x:A.x??0,y:A.y??0});A.x=p.x,A.y=p.y,A.rotation=-this.getShapePageTransform(f).rotation()+(A.rotation??0)}}return A}),s=new Map,l=[],{opacityForNextShape:c}=this.getInstanceState();for(const A of a){const f=this.getShapeUtil(A);let h=A.index;if(!h){const b=A.parentId??i;s.has(b)||s.set(b,this.getHighestIndexForParent(b)),h=s.get(b),s.set(b,Yc(h))}const p=f.getDefaultProps();for(const[b,x]of this.styleProps[A.type])p[x]=this.getStyleForNextShape(b);let v=this.store.schema.types.shape.create({...A,index:h,opacity:A.opacity??c,parentId:A.parentId??i,props:"props"in A?{...p,...A.props}:p});if(v.index===void 0)throw Error("no index!");const y=(d=(u=this.getShapeUtil(v)).onBeforeCreate)==null?void 0:d.call(u,v);y&&(v=y),l.push(v)}l.forEach(A=>{A.meta={...this.getInitialMetaForShape(A),...A.meta}}),this.store.put(l)}),this}animateShape(t,r={animation:ij}){return this.animateShapes([t],r)}animateShapes(t,r={animation:ij}){if(!r.animation)return this;const{duration:n=500,easing:i=so.linear}=r.animation,o=tn();let a=n,s;const l=[];let c,u;for(let A=0,f=t.length;A<f;A++){if(c=t[A],!c)continue;const h=this.getShape(c.id);h&&(u={start:kn(h),end:Lc(kn(h),c)},l.push(u),this.animatingShapes.set(h.id,o))}const d=A=>{var v,y;if(a-=A,a<0){const{animatingShapes:b}=this,x=t.filter(S=>S&&b.get(S.id)===o);x.length&&this.updateShapes(x),this.off("tick",d);return}s=i(1-a/n);const{animatingShapes:f}=this,h=[];let p;for(let b=0,x=l.length;b<x;b++){const{start:S,end:C}=l[b];p=f.get(S.id),p===o&&h.push({...C,x:S.x+(C.x-S.x)*s,y:S.y+(C.y-S.y)*s,opacity:S.opacity+(C.opacity-S.opacity)*s,rotation:S.rotation+(C.rotation-S.rotation)*s,props:((y=(v=this.getShapeUtil(C)).getInterpolatedProps)==null?void 0:y.call(v,S,C,s))??C.props})}this._updateShapes(h)};return this.on("tick",d),this}groupShapes(t,r={}){var h;const{groupId:n=cn(),select:i=!0}=r;if(!Array.isArray(t))throw Error("Editor.groupShapes: must provide an array of shapes or shape ids");if(this.getIsReadonly())return this;const o=typeof t[0]=="string"?t:t.map(p=>p.id);if(o.length<=1)return this;const a=lr((this._shouldIgnoreShapeLock?o:this._getUnlockedShapeIds(o)).map(p=>this.getShape(p))),s=a.sort(ta).map(p=>p.id),l=st.Common(lr(a.map(p=>this.getShapePageBounds(p)))),{x:c,y:u}=l.point,d=this.findCommonAncestor(a)??this.getCurrentPageId();if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const A=a.filter(p=>p.parentId===d).sort(ta),f=(h=A[A.length-1])==null?void 0:h.index;return this.run(()=>{this.createShapes([{id:n,type:"group",parentId:d,index:f,x:c,y:u,opacity:1,props:{}}]),this.reparentShapes(s,n),i&&this.select(n)}),this}ungroupShapes(t,r={}){if(this.getIsReadonly())return this;const{select:n=!0}=r,i=typeof t[0]=="string"?t:t.map(l=>l.id),o=lr((this._shouldIgnoreShapeLock?i:this._getUnlockedShapeIds(i)).map(l=>this.getShape(l)));if(o.length===0)return this;if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const a=new Set,s=[];return o.forEach(l=>{this.isShapeOfType(l,"group")?s.push(l):a.add(l.id)}),s.length===0?this:(this.run(()=>{let l;for(let c=0,u=s.length;c<u;c++){l=s[c];const d=this.getSortedChildIdsForParent(l.id);for(let A=0,f=d.length;A<f;A++)a.add(d[A]);this.reparentShapes(d,l.parentId,l.index)}this.deleteShapes(s.map(c=>c.id)),n&&this.select(...a)}),this)}updateShape(t){return this.updateShapes([t]),this}updateShapes(t){const r=Array(t.length);for(let n=0,i=t.length;n<i;n++){const o=t[n];if(!o)continue;const a=this.getShape(o.id);if(a){if(!this._shouldIgnoreShapeLock){if(a.isLocked){if(!(Object.hasOwn(o,"isLocked")&&!o.isLocked))continue}else if(this.isShapeOrAncestorLocked(a))continue}this.animatingShapes.delete(o.id),r.push(o)}}return this._updateShapes(r),this}_updateShapes(t){this.getIsReadonly()||this.run(()=>{var o,a;const r=[];let n,i;for(let s=0,l=t.length;s<l;s++){const c=t[s];c&&(n=this.getShape(c.id),n&&(i=Lc(n,c),i!==n&&(i=((a=(o=this.getShapeUtil(n)).onBeforeUpdate)==null?void 0:a.call(o,n,i))??i,r.push(i))))}this.store.put(r)})}_getUnlockedShapeIds(t){return t.filter(r=>{var n;return!((n=this.getShape(r))!=null&&n.isLocked)})}deleteShapes(t){if(this.getIsReadonly())return this;if(!Array.isArray(t))throw Error("Editor.deleteShapes: must provide an array of shapes or shapeIds");const r=typeof t[0]=="string"?t:t.map(o=>o.id),n=this._shouldIgnoreShapeLock?r:this._getUnlockedShapeIds(r);if(n.length===0)return this;const i=new Set(n);for(const o of n)this.visitDescendants(o,a=>{i.add(a)});return this.run(()=>this.store.remove([...i]))}deleteShape(t){return this.deleteShapes([typeof t=="string"?t:t.id]),this}_extractSharedStyles(t,r){if(this.isShapeOfType(t,"group")){const n=this._parentIdsToChildIds.get()[t.id];if(!n)return;for(let i=0,o=n.length;i<o;i++)this._extractSharedStyles(this.getShape(n[i]),r)}else for(const[n,i]of this.styleProps[t.type])r.applyValue(n,na(t.props,i))}_getSelectionSharedStyles(){const t=this.getSelectedShapes(),r=new o5;for(const n of t)this._extractSharedStyles(n,r);return r}getStyleForNextShape(t){const r=this.getInstanceState().stylesForNextShape[t.id];return r===void 0?t.defaultValue:r}getShapeStyleIfExists(t,r){const n=this.styleProps[t.type].get(r);if(n!==void 0)return na(t.props,n)}getSharedStyles(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0)return this._getSelectionSharedStyles();const t=this.root.getCurrent(),r=new o5;if(!t)return r;if(t.shapeType)for(const n of this.styleProps[t.shapeType].keys())r.applyValue(n,this.getStyleForNextShape(n));return r}getSharedOpacity(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0){const t=[],r=i=>{const o=this.getShape(i);if(o)if(this.isShapeOfType(o,"group"))for(const a of this.getSortedChildIdsForParent(o.id))r(a);else t.push(o)};for(const i of this.getSelectedShapeIds())r(i);let n=null;for(const i of t)if(n===null)n=i.opacity;else if(n!==i.opacity)return{type:"mixed"};if(n!==null)return{type:"shared",value:n}}return{type:"shared",value:this.getInstanceState().opacityForNextShape}}setOpacityForNextShapes(t,r){return this.updateInstanceState({opacityForNextShape:t},r),this}setOpacityForSelectedShapes(t){const r=this.getSelectedShapes();if(r.length>0){const n=[],i=o=>{if(this.isShapeOfType(o,"group")){const a=this.getSortedChildIdsForParent(o);for(const s of a)i(this.getShape(s))}else n.push(o)};for(const o of r)i(o);this.updateShapes(n.map(o=>({id:o.id,type:o.type,opacity:t})))}return this}setStyleForNextShapes(t,r,n){const i=this.getInstanceState().stylesForNextShape;return this.updateInstanceState({stylesForNextShape:{...i,[t.id]:r}},n),this}setStyleForSelectedShapes(t,r){const n=this.getSelectedShapes();if(n.length>0){const i=[],o=a=>{if(this.isShapeOfType(a,"group")){const s=this.getSortedChildIdsForParent(a.id);for(const l of s)o(this.getShape(l))}else{const s=this.getShapeUtil(a),l=this.styleProps[a.type].get(t);if(l){const c={id:a.id,type:a.type,props:{[l]:r}};i.push({util:s,originalShape:a,updatePartial:c})}}};for(const a of n)o(a);this.updateShapes(i.map(({updatePartial:a})=>a))}return this}registerExternalAssetHandler(t,r){return this.externalAssetContentHandlers[t]=r,this}createTemporaryAssetPreview(t,r){if(this.temporaryAssetPreview.has(t))return this.temporaryAssetPreview.get(t);const n=URL.createObjectURL(r);return this.temporaryAssetPreview.set(t,n),setTimeout(()=>{this.temporaryAssetPreview.delete(t),URL.revokeObjectURL(n)},this.options.temporaryAssetPreviewLifetimeMs),n}getTemporaryAssetPreview(t){return this.temporaryAssetPreview.get(t)}async getAssetForExternalContent(t){var r,n;return await((n=(r=this.externalAssetContentHandlers)[t.type])==null?void 0:n.call(r,t))}hasExternalAssetHandler(t){return!!this.externalAssetContentHandlers[t]}registerExternalContentHandler(t,r){return this.externalContentHandlers[t]=r,this}async putExternalContent(t){var r,n;return(n=(r=this.externalContentHandlers)[t.type])==null?void 0:n.call(r,t)}getContentFromCurrentPage(t){const r=typeof t[0]=="string"?t:t.map(i=>i.id);if(!r||r.length===0)return;const n=this.getShapeAndDescendantIds(r);return JIe(this,n,i=>{const o=[];for(const u of i){const d=this.getBinding(u);d&&o.push(d)}const a=[],s=[];for(const u of n){const d=this.getShape(u);if(!d)continue;if(!n.has(d.parentId)){const f=this.getShapePageTransform(d.id),h=f.point();s.push({...d,x:h.x,y:h.y,rotation:f.rotation(),parentId:this.getCurrentPageId()}),a.push(d.id)}else s.push(d)}const l=[],c=new Set;for(const u of s){if(!("assetId"in u.props))continue;const d=u.props.assetId;if(!d||c.has(d))continue;c.add(d);const A=this.getAsset(d);A&&l.push(A)}return{schema:this.store.schema.serialize(),shapes:s,rootShapeIds:a,bindings:o,assets:l}})}async resolveAssetsInContent(t){if(!t)return;const r=[];return await Promise.allSettled(t.assets.map(async n=>{var i,o,a;if((n.type==="image"||n.type==="video")&&!((i=n.props.src)!=null&&i.startsWith("data:image"))&&!((o=n.props.src)!=null&&o.startsWith("data:video"))&&!((a=n.props.src)!=null&&a.startsWith("http"))){const s=kn(n),l=await this.store.props.assets.resolve(n,{screenScale:1,steppedScreenScale:1,dpr:1,networkEffectiveType:null,shouldResolveToOriginal:!0});s.props.src=await fl.blobToDataUrl(await lu(l).then(c=>c.blob())),r.push(s)}else r.push(n)})),t.assets=r,t}putContentOntoCurrentPage(t,r={}){var P,F,U;if(this.getIsReadonly())return this;if(!t.schema)throw Error(`Could not put content:
content is missing a schema.`);const{select:n=!1,preserveIds:i=!1,preservePosition:o=!1}=r;let{point:a=void 0}=r;const s=this.getCurrentPageId(),{rootShapeIds:l}=t,c=[],u=[],d=[],A={store:{...Object.fromEntries(t.assets.map(k=>[k.id,k])),...Object.fromEntries(t.shapes.map(k=>[k.id,k])),...Object.fromEntries(((P=t.bindings)==null?void 0:P.map(k=>[k.id,k]))??[])},schema:t.schema},f=this.store.schema.migrateStoreSnapshot(A);if(f.type==="error")throw Error("Could not put content: could not migrate content");for(const k of Object.values(f.value))switch(k.typeName){case"asset":{c.push(k);break}case"shape":{u.push(k);break}case"binding":{d.push(k);break}}const h=new Map(i?u.map(k=>[k.id,k.id]):u.map(k=>[k.id,cn()])),p=new Map(i?d.map(k=>[k.id,k.id]):d.map(k=>[k.id,Ch()]));let v=this.getCurrentPageId(),y=1/0,b=[];for(const k of this.getSelectedShapes()){if(y===0)break;const M=this.isShapeOfType(k,"frame"),D=this.getShapeAncestors(k);M&&D.push(k);const j=M?D.length+1:D.length;if(j<y)y=j,b=D,v=M?k.id:k.parentId;else if(j===y){if(b.length!==D.length)throw Error(`Ancestors: ${b.length} !== ${D.length}`);if(b.length===0){v=s;break}else{v=s;for(let $=0;$<b.length&&D[$]===b[$];$++)v=D[$].id}}}let x=!1;if(!Ha(v)){const k=this.getShape(v);if(k){if(!this.getViewportPageBounds().includes(this.getShapePageBounds(k)))v=s;else if(l.length===1){const M=u.find(D=>D.id===l[0]);this.isShapeOfType(k,"frame")&&this.isShapeOfType(M,"frame")&&M.props.w===(k==null?void 0:k.props.w)&&M.props.h===(k==null?void 0:k.props.h)&&(x=!0)}}else v=s}x||(x=h.has(v)),x&&(v=this.getShape(v).parentId);let S=this.getHighestIndexForParent(v);const C=[],_=u.map(k=>{const M=h.get(k.id),D={...k,id:M};return l.includes(k.id)&&(D.parentId=s,C.push(D)),h.has(D.parentId)?D.parentId=h.get(k.parentId):(l.push(D.id),D.index=S,S=Yc(S)),D});if(_.length+this.getCurrentPageShapeIds().size>this.options.maxShapesPerPage)return M1(this),this;const B=d.map(k=>({...k,id:Va(p.get(k.id)),fromId:Va(h.get(k.fromId)),toId:Va(h.get(k.toId))})),T=[],O=[];for(const k of c)this.store.has(k.id)||((k.type==="image"&&((F=k.props.src)!=null&&F.startsWith("data:image"))||k.type==="video"&&((U=k.props.src)!=null&&U.startsWith("data:video")))&&(O.push(kn(k)),k.props.src=null),T.push(k));return Promise.allSettled(O.map(async k=>{const M=await jUt(k.props.src,k.props.name,k.props.mimeType??"image/png"),D=await this.getAssetForExternalContent({type:"file",file:M,assetId:k.id});if(!D){this.deleteAssets([k.id]);return}this.updateAssets([{...D,id:k.id}])})),this.run(()=>{T.length>0&&this.createAssets(T),this.createShapes(_),this.createBindings(B),n&&this.select(...C.map($=>$.id)),v!==s&&this.reparentShapes(C.map($=>$.id),v);const k=_.map($=>this.getShape($.id)),M=st.Common(k.map($=>this.getShapePageBounds($)));if(a===void 0)if(Ha(v)){const $=this.getViewportPageBounds();o||$.includes(st.From(M))?a=M.center:a=$.center}else{const $=this.getShape(v);a=ct.applyToPoint(this.getShapePageTransform($),this.getShapeGeometry($).bounds.center)}if(C.length===1){const $=C[0];if(this.isShapeOfType($,"frame"))for(;this.getShapesAtPoint(a).some(Q=>this.isShapeOfType(Q,"frame")&&Q.props.w===$.props.w&&Q.props.h===$.props.h);)a.x+=M.w+16}const D=st.Common(lr(C.map(({id:$})=>this.getShapePageBounds($)))).center,j=L.Sub(a,D);this.updateShapes(C.map(({id:$})=>{const Q=this.getShape($),H=this.getShapeParentTransform($).decompose().rotation,W=L.Rot(j,-H);return{id:Q.id,type:Q.type,x:Q.x+W.x,y:Q.y+W.y}}))}),this}async getSvgElement(t,r={}){const n=t.length===0?this.getCurrentPageShapeIdsSorted():typeof t[0]=="string"?t:t.map(i=>i.id);if(n.length!==0)return PUt(this,n,r)}async getSvgString(t,r={}){const n=await this.getSvgElement(t,r);return n?{svg:new XMLSerializer().serializeToString(n.svg),width:n.width,height:n.height}:void 0}async getSvg(t,r={}){const n=await this.getSvgElement(t,r);if(n)return n.svg}async toImage(t,r={}){const n={format:"png",scale:1,pixelRatio:r.format==="svg"?void 0:2,...r},i=await this.getSvgString(t,n);if(!i)throw new Error("Could not create SVG");switch(n.format){case"svg":return{blob:new Blob([i.svg],{type:"image/svg+xml"}),width:i.width,height:i.height};case"jpeg":case"png":case"webp":{const o=await kUt(i.svg,{type:n.format,quality:n.quality,pixelRatio:n.pixelRatio,width:i.width,height:i.height});if(!o)throw new Error("Could not construct image.");return{blob:o,width:i.width,height:i.height}}default:Di(n.format)}}_updateInputsFromEvent(t){const{pointerVelocity:r,previousScreenPoint:n,previousPagePoint:i,currentScreenPoint:o,currentPagePoint:a}=this.inputs,{screenBounds:s}=this.store.unsafeGetWithoutCapture(Sa),{x:l,y:c,z:u}=y1(()=>this.getCamera()),d=t.point.x-s.x,A=t.point.y-s.y,f=t.point.z??.5;n.setTo(o),i.setTo(a),o.set(d,A);const h=d/u-l,p=A/u-c;isFinite(h)&&isFinite(p)&&a.set(h,p,f),this.inputs.isPen=t.type==="pointer"&&t.isPen,(t.name==="pointer_down"||this.inputs.isPinching)&&(r.set(0,0),this.inputs.originScreenPoint.setTo(o),this.inputs.originPagePoint.setTo(a)),this.run(()=>{var v;this.store.put([{id:LE,typeName:"pointer",x:a.x,y:a.y,lastActivityTimestamp:t.type==="pointer"&&t.pointerId===Goe.CAMERA_MOVE?((v=this.store.unsafeGetWithoutCapture(LE))==null?void 0:v.lastActivityTimestamp)??this._tickManager.now:this._tickManager.now,meta:{}}])},{history:"ignore"})}cancel(){return this.dispatch({type:"misc",name:"cancel"}),this}interrupt(){return this.dispatch({type:"misc",name:"interrupt"}),this}complete(){return this.dispatch({type:"misc",name:"complete"}),this}focus({focusContainer:t=!0}={}){return this.getIsFocused()?this:(t&&this.focusManager.focus(),this.updateInstanceState({isFocused:!0}),this)}blur({blurContainer:t=!0}={}){return this.getIsFocused()?(t?this.focusManager.blur():this.complete(),this.updateInstanceState({isFocused:!1}),this):this}getIsFocused(){return this.getInstanceState().isFocused}getIsReadonly(){return this.getInstanceState().isReadonly}getSnapshot(){return Fkt(this.store)}loadSnapshot(t,r){return RNe(this.store,t,r),this}_zoomToFitPageContentAt100Percent(){const t=this.getCurrentPageBounds();t&&this.zoomToBounds(t,{immediate:!0,targetZoom:this.getBaseZoom()})}_navigateToDeepLink(t){this.run(()=>{switch(t.type){case"page":{const r=this.getPage(t.pageId);r&&this.setCurrentPage(r),this._zoomToFitPageContentAt100Percent();return}case"shapes":{const r=lr(t.shapeIds.map(a=>this.getShape(a))),n={};for(const a of r){const s=this.getAncestorPageId(a);s&&(n[s]??(n[s]=[]),n[s].push(a))}const[i,o]=Object.entries(n).sort(([a,s],[l,c])=>c.length-s.length)[0]??["",[]];if(!i||!o.length)this._zoomToFitPageContentAt100Percent();else{this.setCurrentPage(i);const a=st.Common(o.map(s=>this.getShapePageBounds(s)));this.zoomToBounds(a,{immediate:!0,targetZoom:this.getBaseZoom()})}return}case"viewport":{if(t.pageId){if(!this.getPage(t.pageId)){this._zoomToFitPageContentAt100Percent();return}this.setCurrentPage(t.pageId)}this.zoomToBounds(t.bounds,{immediate:!0,inset:0});return}default:Di(t)}})}navigateToDeepLink(t){if(t&&"type"in t)return this._navigateToDeepLink(t),this;const n=new URL((t==null?void 0:t.url)??window.location.href).searchParams.get((t==null?void 0:t.param)??"d");if(!n)return this._zoomToFitPageContentAt100Percent(),this;try{this._navigateToDeepLink($Ut(n))}catch(i){console.warn(i),this._zoomToFitPageContentAt100Percent()}return this}createDeepLink(t){const r=new URL((t==null?void 0:t.url)??window.location.href);return r.searchParams.set((t==null?void 0:t.param)??"d",NUt((t==null?void 0:t.to)??{type:"viewport",pageId:this.options.maxPages===1?void 0:this.getCurrentPageId(),bounds:this.getViewportPageBounds()})),r}registerDeepLinkListener(t){if(t!=null&&t.getUrl&&!(t!=null&&t.onChange))throw Error("[tldraw:urlStateSync] If you specify getUrl, you must also specify the onChange callback.");const r=qe("url with state",()=>{var l,c;const a=((l=t==null?void 0:t.getUrl)==null?void 0:l.call(t,this))??window.location.href;return this.createDeepLink({param:t==null?void 0:t.param,url:a,to:(c=t==null?void 0:t.getTarget)==null?void 0:c.call(t,this)}).toString()}),n=(t==null?void 0:t.onChange)??(()=>{var s;const a=this.createDeepLink({param:t==null?void 0:t.param,to:(s=t==null?void 0:t.getTarget)==null?void 0:s.call(t,this)});window.history.replaceState({},document.title,a.toString())}),i=sz(a=>a(),(t==null?void 0:t.debounceMs)??500),o=iu("update url on state change",()=>n(new URL(r.get()),this),{scheduleEffect:i});return()=>{o(),i.cancel()}}cancelDoubleClick(){this._clickManager.cancelDoubleClickTimeout()}_setShiftKeyTimeout(){this.inputs.shiftKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Shift",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,metaKey:this.inputs.metaKey,accelKey:ra(this.inputs),code:"ShiftLeft"})}_setAltKeyTimeout(){this.inputs.altKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Alt",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,metaKey:this.inputs.metaKey,accelKey:ra(this.inputs),code:"AltLeft"})}_setCtrlKeyTimeout(){this.inputs.ctrlKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Ctrl",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,metaKey:this.inputs.metaKey,accelKey:ra(this.inputs),code:"ControlLeft"})}_setMetaKeyTimeout(){this.inputs.metaKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Meta",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,metaKey:this.inputs.metaKey,accelKey:ra(this.inputs),code:"MetaLeft"})}dispatch(t){return this._pendingEventsForNextTick.push(t),t.type==="pointer"&&t.name==="pointer_move"||t.type==="wheel"||t.type==="pinch"||this._flushEventsForTick(0),this}_flushEventsForTick(t){this.run(()=>{if(this._pendingEventsForNextTick.length>0){const r=[...this._pendingEventsForNextTick];this._pendingEventsForNextTick.length=0;for(const n of r)this._flushEventForTick(n)}t>0&&this.root.handleEvent({type:"misc",name:"tick",elapsed:t}),this.scribbles.tick(t)})}_flushEventForTick(t){if(this.getCrashingError())return this;this.emit("before-event",t);const{inputs:r}=this,{type:n}=t;if(t.type==="misc"){(t.name==="cancel"||t.name==="complete")&&(this.inputs.isDragging=!1,this.inputs.isPanning&&(this.inputs.isPanning=!1,this.inputs.isSpacebarPanning=!1,this.setCursor({type:this._prevCursor,rotation:0}))),this.root.handleEvent(t);return}t.shiftKey?(clearTimeout(this._shiftKeyTimeout),this._shiftKeyTimeout=-1,r.shiftKey=!0):!t.shiftKey&&r.shiftKey&&this._shiftKeyTimeout===-1&&(this._shiftKeyTimeout=this.timers.setTimeout(this._setShiftKeyTimeout,150)),t.altKey?(clearTimeout(this._altKeyTimeout),this._altKeyTimeout=-1,r.altKey=!0):!t.altKey&&r.altKey&&this._altKeyTimeout===-1&&(this._altKeyTimeout=this.timers.setTimeout(this._setAltKeyTimeout,150)),t.ctrlKey?(clearTimeout(this._ctrlKeyTimeout),this._ctrlKeyTimeout=-1,r.ctrlKey=!0):!t.ctrlKey&&r.ctrlKey&&this._ctrlKeyTimeout===-1&&(this._ctrlKeyTimeout=this.timers.setTimeout(this._setCtrlKeyTimeout,150)),t.metaKey?(clearTimeout(this._metaKeyTimeout),this._metaKeyTimeout=-1,r.metaKey=!0):!t.metaKey&&r.metaKey&&this._metaKeyTimeout===-1&&(this._metaKeyTimeout=this.timers.setTimeout(this._setMetaKeyTimeout,150));const{originPagePoint:i,currentPagePoint:o}=r;r.isPointing||(r.isDragging=!1);const a=this.store.unsafeGetWithoutCapture(Sa),s=this.store.get(this._getCurrentPageStateId()),l=this._cameraOptions.__unsafe__getWithoutCapture();switch(n){case"pinch":{if(l.isLocked)return;switch(clearTimeout(this._longPressTimeout),this._updateInputsFromEvent(t),t.name){case"pinch_start":{if(r.isPinching)return;r.isEditing||(this._pinchStart=this.getCamera().z,this._selectedShapeIdsAtPointerDown.length||(this._selectedShapeIdsAtPointerDown=[...s.selectedShapeIds]),this._didPinch=!0,r.isPinching=!0,this.interrupt());return}case"pinch":{if(!r.isPinching)return;const{point:{z:c=1},delta:{x:u,y:d}}=t,{x:A,y:f}=L.SubXY(t.point,a.screenBounds.x,a.screenBounds.y);this.stopCameraAnimation(),a.followingUserId&&this.stopFollowingUser();const{x:h,y:p,z:v}=y1(()=>this.getCamera()),{panSpeed:y,zoomSpeed:b}=l;this._setCamera(new L(h+u*y/v-A/v+A/(c*b),p+d*y/v-f/v+f/(c*b),c*b),{immediate:!0});return}case"pinch_end":{if(!r.isPinching)return this;r.isPinching=!1;const{_selectedShapeIdsAtPointerDown:c}=this;this.setSelectedShapes(this._selectedShapeIdsAtPointerDown),this._selectedShapeIdsAtPointerDown=[],this._didPinch&&(this._didPinch=!1,c.length>0&&this.once("tick",()=>{this._didPinch||this.setSelectedShapes(c)}));return}}}case"wheel":{if(l.isLocked)return;this._updateInputsFromEvent(t);const{panSpeed:c,zoomSpeed:u,wheelBehavior:d}=l;if(d!=="none"){this.stopCameraAnimation(),a.followingUserId&&this.stopFollowingUser();const{x:A,y:f,z:h}=y1(()=>this.getCamera()),{x:p,y:v,z:y=0}=t.delta;let b=d;switch(r.ctrlKey&&(b=d==="pan"?"zoom":"pan"),b){case"zoom":{const{x,y:S}=this.inputs.currentScreenPoint;let C=y;d==="zoom"&&(Math.abs(v)>10?C=10*Math.sign(v)/100:C=v/100);const _=h+(C??0)*u*h;this._setCamera(new L(A+(x/_-x)-(x/h-x),f+(S/_-S)-(S/h-S),_),{immediate:!0}),this.maybeTrackPerformance("Zooming");return}case"pan":{this._setCamera(new L(A+p*c/h,f+v*c/h,h),{immediate:!0}),this.maybeTrackPerformance("Panning");return}}}break}case"pointer":{if(r.isPinching)return;this._updateInputsFromEvent(t);const{isPen:c}=t,{isPenMode:u}=a;switch(t.name){case"pointer_down":{if(u&&!c)return;if(this.inputs.isPanning||(this._longPressTimeout=this.timers.setTimeout(()=>{const d=this.getViewportScreenBounds();this.dispatch({...t,point:this.inputs.originScreenPoint.clone().addXY(d.x,d.y),name:"long_press"})},this.options.longPressDurationMs)),this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds(),t.button===Yoe&&(this.capturedPointerId=t.pointerId),r.buttons.add(t.button),r.isPointing=!0,r.isDragging=!1,!u&&c&&this.updateInstanceState({isPenMode:!0}),t.button===Xoe?(this._restoreToolId=this.getCurrentToolId(),this.complete(),this.setCurrentTool("eraser")):t.button===E1&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0,clearTimeout(this._longPressTimeout)),this.inputs.isPanning)return this.stopCameraAnimation(),this.setCursor({type:"grabbing",rotation:0}),this;break}case"pointer_move":{if(!c&&u)return;const{x:d,y:A,z:f}=y1(()=>this.getCamera());if(this.inputs.isPanning&&this.inputs.isPointing){const{currentScreenPoint:h,previousScreenPoint:p}=this.inputs,{panSpeed:v}=l,y=L.Sub(h,p);this.setCamera(new L(d+y.x*v/f,A+y.y*v/f,f),{immediate:!0}),this.maybeTrackPerformance("Panning");return}r.isPointing&&!r.isDragging&&L.Dist2(i,o)*this.getZoomLevel()>(a.isCoarsePointer?this.options.coarseDragDistanceSquared:this.options.dragDistanceSquared)/f&&(r.isDragging=!0,clearTimeout(this._longPressTimeout));break}case"pointer_up":{if(r.isDragging=!1,r.isPointing=!1,clearTimeout(this._longPressTimeout),r.buttons.delete(t.button),a.isPenMode&&!c)return;if(this.capturedPointerId===t.pointerId&&(this.capturedPointerId=null,t.button=0),r.isPanning){r.keys.has("Space")||(r.isPanning=!1,r.isSpacebarPanning=!1);const d=this.inputs.pointerVelocity,A=Math.min(2,d.len());switch(t.button){case Yoe:{this.setCursor({type:"grab",rotation:0});break}case E1:this.inputs.keys.has(" ")?this.setCursor({type:"grab",rotation:0}):this.setCursor({type:this._prevCursor,rotation:0})}A>0&&this.slideCamera({speed:A,direction:d})}else t.button===Xoe&&(this.complete(),this.setCurrentTool(this._restoreToolId));break}}break}case"keyboard":{switch(t.key==="ShiftRight"&&(t.key="ShiftLeft"),t.key==="AltRight"&&(t.key="AltLeft"),t.code==="ControlRight"&&(t.code="ControlLeft"),t.code==="MetaRight"&&(t.code="MetaLeft"),t.name){case"key_down":{if(r.keys.add(t.code),t.code==="Space"&&!t.ctrlKey&&(this.inputs.isPanning||(this._prevCursor=a.cursor.type),this.inputs.isPanning=!0,this.inputs.isSpacebarPanning=!0,clearTimeout(this._longPressTimeout),this.setCursor({type:this.inputs.isPointing?"grabbing":"grab",rotation:0})),this.inputs.isSpacebarPanning){let c;switch(t.code){case"ArrowUp":{c=new L(0,-1);break}case"ArrowRight":{c=new L(1,0);break}case"ArrowDown":{c=new L(0,1);break}case"ArrowLeft":{c=new L(-1,0);break}}if(c){const u=this.getViewportPageBounds(),d=u.clone().translate(c.mulV({x:u.w,y:u.h}));this._animateToViewport(d,{animation:{duration:320}})}}break}case"key_up":{r.keys.delete(t.code),t.code==="Space"&&(this.inputs.buttons.has(E1)||(this.inputs.isPanning=!1,this.inputs.isSpacebarPanning=!1,this.setCursor({type:this._prevCursor,rotation:0})));break}}break}}if(t.type==="pointer"){t.button===E1?t.name="middle_click":t.button===Wz&&(t.name="right_click");const{isPenMode:c}=this.store.unsafeGetWithoutCapture(Sa);if(t.isPen===c){const u=this._clickManager.handlePointerEvent(t);if(t.name!==u.name){this.root.handleEvent(t),this.emit("event",t),this.root.handleEvent(u),this.emit("event",u);return}}}return this.root.handleEvent(t),this.emit("event",t),t.type==="pointer"&&t.name==="pointer_down"&&this.menus.clearOpenMenus(),this}maybeTrackPerformance(t){xi.measurePerformance.get()&&(this.performanceTracker.isStarted()?clearTimeout(this.performanceTrackerTimeout):this.performanceTracker.start(t),this.performanceTrackerTimeout=this.timers.setTimeout(()=>{this.performanceTracker.stop()},50))}}wt=cjt(s5);St(wt,1,"getIsShapeHiddenCache",PQe,yt);St(wt,1,"getCanUndo",BQe,yt);St(wt,1,"getCanRedo",IQe,yt);St(wt,1,"getPath",EQe,yt);St(wt,1,"getCurrentTool",_Qe,yt);St(wt,1,"getCurrentToolId",CQe,yt);St(wt,1,"getDocumentSettings",SQe,yt);St(wt,1,"getInstanceState",xQe,yt);St(wt,1,"getOpenMenus",bQe,yt);St(wt,1,"getIsMenuOpen",wQe,yt);St(wt,1,"getPageStates",yQe,yt);St(wt,1,"_getPageStatesQuery",vQe,yt);St(wt,1,"getCurrentPageState",mQe,yt);St(wt,1,"_getCurrentPageStateId",gQe,yt);St(wt,1,"getSelectedShapeIds",pQe,yt);St(wt,1,"getSelectedShapes",hQe,yt);St(wt,1,"getOnlySelectedShapeId",fQe,yt);St(wt,1,"getOnlySelectedShape",AQe,yt);St(wt,1,"getSelectionPageBounds",dQe,yt);St(wt,1,"getSelectionRotation",uQe,yt);St(wt,1,"getSelectionRotatedPageBounds",cQe,yt);St(wt,1,"getSelectionRotatedScreenBounds",lQe,yt);St(wt,1,"getFocusedGroupId",sQe,yt);St(wt,1,"getFocusedGroup",aQe,yt);St(wt,1,"getEditingShapeId",oQe,yt);St(wt,1,"getEditingShape",iQe,yt);St(wt,1,"getHoveredShapeId",nQe,yt);St(wt,1,"getHoveredShape",rQe,yt);St(wt,1,"getHintingShapeIds",tQe,yt);St(wt,1,"getHintingShape",eQe,yt);St(wt,1,"getErasingShapeIds",Z4e,yt);St(wt,1,"getErasingShapes",J4e,yt);St(wt,1,"_unsafe_getCameraId",X4e,yt);St(wt,1,"getCamera",Y4e,yt);St(wt,1,"getViewportPageBoundsForFollowing",G4e,yt);St(wt,1,"getCameraForFollowing",V4e,yt);St(wt,1,"getZoomLevel",W4e,yt);St(wt,1,"getViewportScreenBounds",K4e,yt);St(wt,1,"getViewportScreenCenter",z4e,yt);St(wt,1,"getViewportPageBounds",q4e,yt);St(wt,1,"_getCollaboratorsQuery",H4e,yt);St(wt,1,"getCollaborators",Q4e,yt);St(wt,1,"getCollaboratorsOnCurrentPage",$4e,yt);St(wt,1,"getRenderingShapes",N4e,yt);St(wt,1,"_getAllPagesQuery",L4e,yt);St(wt,1,"getPages",j4e,yt);St(wt,1,"getCurrentPageId",D4e,yt);St(wt,1,"getCurrentPageShapeIdsSorted",U4e,yt);St(wt,1,"_getAllAssetsQuery",k4e,yt);St(wt,1,"_getShapeHandlesCache",F4e,yt);St(wt,1,"_getShapePageTransformCache",M4e,yt);St(wt,1,"_getShapePageBoundsCache",R4e,yt);St(wt,1,"_getShapeClipPathCache",O4e,yt);St(wt,1,"_getShapeMaskCache",T4e,yt);St(wt,1,"_getShapeMaskedPageBoundsCache",P4e,yt);St(wt,1,"_notVisibleShapes",B4e,yt);St(wt,1,"getCulledShapes",I4e,yt);St(wt,1,"getCurrentPageBounds",E4e,yt);St(wt,1,"getCurrentPageShapes",_4e,yt);St(wt,1,"getCurrentPageShapesSorted",C4e,yt);St(wt,1,"getCurrentPageRenderingShapesSorted",S4e,yt);St(wt,1,"_getBindingsIndexCache",x4e,yt);St(wt,1,"_getSelectionSharedStyles",b4e,yt);St(wt,1,"getSharedStyles",w4e,yt);St(wt,1,"getSharedOpacity",y4e,yt);St(wt,1,"getIsFocused",v4e,yt);St(wt,1,"getIsReadonly",m4e,yt);St(wt,1,"_setShiftKeyTimeout",g4e,yt);St(wt,1,"_setAltKeyTimeout",p4e,yt);St(wt,1,"_setCtrlKeyTimeout",h4e,yt);St(wt,1,"_setMetaKeyTimeout",f4e,yt);djt(wt,yt);function M1(e,t=e.getCurrentPageId()){const r=e.getPage(t).name;e.emit("max-shapes",{name:r,pageId:t,count:e.options.maxShapesPerPage})}function Lc(e,t){if(!t)return e;let r=null;const n=Object.entries(t);for(let i=0,o=n.length;i<o;i++){const[a,s]=n[i];if(s!==void 0&&!(a==="id"||a==="type"||a==="typeName")&&s!==e[a]){if(r||(r={...e}),a==="props"||a==="meta"){r[a]={...e[a]};for(const[l,c]of Object.entries(s))r[a][l]=c;continue}r[a]=s}}return r||e}function TQe(e,t,r){const n=e.getShape(t);if(!n)return;r.push(n);const i=e.getSortedChildIdsForParent(t);for(let o=0,a=i.length;o<a;o++)TQe(e,i[o],r)}function JIe(e,t,r){let n;if(e.run(()=>{const i=e.store.extractingChanges(()=>{const o=new Set,a=new Set;for(const s of t)if(e.getShape(s))for(const c of e.getBindingsInvolvingShape(s)){const u=t.has(c.fromId),d=t.has(c.toId);if(u&&d){o.add(c.id);continue}(!u||!d)&&a.add(c.id)}e.deleteBindings([...a],{isolateShapes:!0});try{n=qA.ok(r(o))}catch(s){n=qA.err(s)}});e.store.applyDiff(K3(i),{runCallbacks:!1})},{history:"ignore"}),n.ok)return n.value;throw n.error}function ZIe(e,t){if(!t.constraints)throw Error("Should have constraints here");const{padding:{x:r,y:n}}=t.constraints,i=e.getViewportScreenBounds(),o=st.From(t.constraints.bounds),a=(i.w-r*2)/o.w,s=(i.h-n*2)/o.h;return{zx:a,zy:s}}function cx(){const e=Ee(),t=ox();return Re("isDarkMode",()=>(t==null?void 0:t.isDarkMode)??e.user.getIsDarkMode(),[t,e])}const eBe="<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'/>",tBe="<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'/>",F1='<path d="M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z" fill="white"/>';function gA(e,t,r,n,i,o=16,a=16){const s=(-r-t)*(jr/180),l=Math.sin(s),c=Math.cos(s),u=1*c-1*l,d=1*l+1*c;return`url("data:image/svg+xml,<svg height='32' width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg' style='color: ${i};'><defs><filter id='shadow' y='-40%' x='-40%' width='180px' height='180%' color-interpolation-filters='sRGB'><feDropShadow dx='${u}' dy='${d}' stdDeviation='1.2' flood-opacity='.5'/></filter></defs><g fill='none' transform='rotate(${t+r} 16 16)${n?" scale(-1,-1) translate(0, -32)":""}' filter='url(%23shadow)'>`+e.replaceAll('"',"'")+`</g></svg>") ${o} ${a}, pointer`}const fjt=["default","pointer","cross","move","grab","grabbing","text","zoom-in","zoom-out"],hjt={none:()=>"none","ew-resize":(e,t,r)=>gA(tBe,e,0,t,r),"ns-resize":(e,t,r)=>gA(tBe,e,90,t,r),"nesw-resize":(e,t,r)=>gA(eBe,e,0,t,r),"nwse-resize":(e,t,r)=>gA(eBe,e,90,t,r),"nwse-rotate":(e,t,r)=>gA(F1,e,0,t,r),"nesw-rotate":(e,t,r)=>gA(F1,e,90,t,r),"senw-rotate":(e,t,r)=>gA(F1,e,180,t,r),"swne-rotate":(e,t,r)=>gA(F1,e,270,t,r)};function hs(e,t=0,r="black"){return hjt[e](E1t(t),!1,r)}function pjt(){const e=Ee(),t=Yi(),r=cx();zA("useCursor",()=>{const{type:n,rotation:i}=e.getInstanceState().cursor;if(fjt.includes(n)){t.style.setProperty("--tl-cursor",`var(--tl-cursor-${n})`);return}t.style.setProperty("--tl-cursor",hs(n,i,r?"white":"black"))},[e,t,r])}function gjt(){const e=Ee(),t=Yi(),r=cx(),n=Re(xi.forceSrgb);ue.useEffect(()=>{r?(t.setAttribute("data-color-mode","dark"),t.classList.remove("tl-theme__light"),t.classList.add("tl-theme__dark")):(t.setAttribute("data-color-mode","light"),t.classList.remove("tl-theme__dark"),t.classList.add("tl-theme__light")),n?t.classList.add("tl-theme__force-sRGB"):t.classList.remove("tl-theme__force-sRGB")},[e,t,n,r])}function mjt(){const[e,t]=I.useState(0);I.useEffect(()=>t(r=>r+1),[])}const vjt=e=>e.props.src,yjt={upload:async(e,t)=>({src:await fl.blobToDataUrl(t)})};function wjt(e){return"schema"in e&&e.schema?e.schema:u_t({shapes:"shapeUtils"in e&&e.shapeUtils?rBe(UNe(e.shapeUtils)):void 0,bindings:"bindingUtils"in e&&e.bindingUtils?rBe(FNe(e.bindingUtils)):void 0,migrations:"migrations"in e?e.migrations:void 0})}function KE({initialData:e,defaultName:t="",id:r,assets:n=yjt,onMount:i,collaboration:o,...a}={}){const s=wjt(a),l=new Mz({id:r,schema:s,initialData:e,props:{defaultName:t,assets:{upload:n.upload,resolve:n.resolve??vjt},onMount:c=>{vr(c instanceof yt),i==null||i(c)},collaboration:o}});if(a.snapshot){if(e)throw new Error("Cannot provide both initialData and snapshot");RNe(l,a.snapshot,{forceOverwriteSessionState:!0})}return l}function rBe(e){return Object.fromEntries(e.map(t=>[t.type,{props:t.props,migrations:t.migrations}]))}function bjt(){window.alert(`Oops! We could not save changes to your browser's storage. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.
 If your hard disk is full, try clearing up some space and then reload the page.`)}function xjt(){window.alert(`Oops! We could not access your browser's storageand the app won't work correctly without that. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.`)}const Sjt=350,Cjt=1e4,nBe=Symbol("UPDATE_INSTANCE_STATE"),_jt=e=>e;class Ejt{constructor(t){K(this,"onmessage")}postMessage(t){}close(){}}const Ijt=typeof BroadcastChannel>"u"?Ejt:BroadcastChannel;class Bjt{constructor(t,{persistenceKey:r,sessionId:n=zE,onLoad:i,onLoadError:o},a=new Ijt(`tldraw-tab-sync-${r}`)){K(this,"disposables",new Set);K(this,"diffQueue",[]);K(this,"didDispose",!1);K(this,"shouldDoFullDBWrite",!0);K(this,"isReloading",!1);K(this,"persistenceKey");K(this,"sessionId");K(this,"serializedSchema");K(this,"isDebugging",!1);K(this,"documentTypes");K(this,"$sessionStateSnapshot");K(this,"db");K(this,"initTime",Date.now());K(this,"isPersisting",!1);K(this,"didLastWriteError",!1);K(this,"scheduledPersistTimeout",null);this.store=t,this.channel=a,typeof window<"u"&&(window.tlsync=this),this.persistenceKey=r,this.sessionId=n,this.db=new TE(r),this.disposables.add(()=>this.db.close()),this.serializedSchema=this.store.schema.serialize(),this.$sessionStateSnapshot=MK(this.store),this.disposables.add(t.listen(({changes:s})=>{this.diffQueue.push(s),this.channel.postMessage(_jt({type:"diff",storeId:this.store.id,changes:s,schema:this.serializedSchema})),this.schedulePersist()},{source:"user",scope:"document"})),this.disposables.add(t.listen(()=>{this.diffQueue.push(nBe),this.schedulePersist()},{scope:"session"})),this.connect(i,o),this.documentTypes=new Set(Object.values(this.store.schema.types).filter(s=>s.scope==="document").map(s=>s.typeName))}debug(...t){this.isDebugging&&console.debug(...t)}async connect(t,r){this.debug("connecting");let n;try{n=await this.db.load({sessionId:this.sessionId})}catch(i){r(i),xjt();return}if(this.debug("loaded data from store",n,"didDispose",this.didDispose),!this.didDispose)try{if(n){const i=Object.fromEntries(n.records.map(l=>[l.id,l])),o=n.sessionStateSnapshot??Mkt(i),a=this.store.schema.migrateStoreSnapshot({store:i,schema:n.schema??this.store.schema.serializeEarliestVersion()});if(a.type==="error"){console.error("failed to migrate store",a),r(new Error(`Failed to migrate store: ${a.reason}`));return}const s=Object.values(a.value).filter(l=>this.documentTypes.has(l.typeName));s.length>0&&this.store.mergeRemoteChanges(()=>{this.store.put(s,"initialize")}),o&&e5(this.store,o,{forceOverwrite:!0})}this.channel.onmessage=({data:i})=>{var s,l;this.debug("got message",i);const o=i,a=this.store.schema.getMigrationsSince(o.schema);if(a.ok){if(a.value.length>0){this.debug("telling them to reload"),this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.shouldDoFullDBWrite=!0,this.persistIfNeeded();return}}else{if(Date.now()-this.initTime<5e3){r(new Error("Schema mismatch, please close other tabs and reload the page"));return}this.debug("reloading"),this.isReloading=!0,(l=(s=window==null?void 0:window.location)==null?void 0:s.reload)==null||l.call(s);return}o.type==="diff"&&(this.debug("applying diff"),Ca(()=>{this.store.mergeRemoteChanges(()=>{this.store.applyDiff(o.changes)})}))},this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.disposables.add(()=>{this.channel.close()}),t(this)}catch(i){if(this.debug("error loading data from store",i),this.didDispose)return;r(i);return}}close(){this.debug("closing"),this.didDispose=!0,this.disposables.forEach(t=>t())}schedulePersist(){this.debug("schedulePersist",this.scheduledPersistTimeout),!this.scheduledPersistTimeout&&(this.scheduledPersistTimeout=setTimeout(()=>{this.scheduledPersistTimeout=null,this.persistIfNeeded()},this.didLastWriteError?Cjt:Sjt))}persistIfNeeded(){this.debug("persistIfNeeded",{isPersisting:this.isPersisting,isReloading:this.isReloading,shouldDoFullDBWrite:this.shouldDoFullDBWrite,diffQueueLength:this.diffQueue.length,storeIsPossiblyCorrupt:this.store.isPossiblyCorrupted()}),this.scheduledPersistTimeout&&(clearTimeout(this.scheduledPersistTimeout),this.scheduledPersistTimeout=null),!this.isPersisting&&(this.isReloading||this.store.isPossiblyCorrupted()||(this.shouldDoFullDBWrite||this.diffQueue.length>0)&&this.doPersist())}async doPersist(){if(vr(!this.isPersisting,"persist already in progress"),this.didDispose)return;this.isPersisting=!0,this.debug("doPersist start");const t=this.diffQueue;this.diffQueue=[];try{if(this.shouldDoFullDBWrite)this.shouldDoFullDBWrite=!1,await this.db.storeSnapshot({schema:this.store.schema,snapshot:this.store.serialize(),sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()});else{const r=Rz(t.filter(n=>n!==nBe));await this.db.storeChanges({changes:r,schema:this.store.schema,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()})}this.didLastWriteError=!1}catch(r){this.shouldDoFullDBWrite=!0,this.didLastWriteError=!0,console.error("failed to store changes in indexed db",r),bjt(),typeof window<"u"&&window.location.reload()}this.isPersisting=!1,this.debug("doPersist end"),this.schedulePersist()}}function OQe(e){const t=I.useRef(e),[r,n]=I.useState(e);r!==t.current&&n(t.current);const i=I.useCallback(o=>{typeof o=="function"?t.current=o(t.current):t.current=o,n(t.current)},[]);return[r,i]}function Pjt(e){const[t,r]=OQe({status:"loading"});return e=cv(e),I.useEffect(()=>{const{persistenceKey:n,sessionId:i,...o}=e;if(!n){r({status:"not-synced",store:KE(o)});return}r({status:"loading"});const a=new hc,s={upload:async(d,A)=>(await u.db.storeAsset(d.id,A),{src:d.id}),resolve:async d=>d.props.src?d.props.src.startsWith("asset:")?await a.get(d,async()=>{const A=await u.db.getAsset(d.id);return A?URL.createObjectURL(A):null}):d.props.src:null,...o.assets},l=KE({...o,assets:s});let c=!1;const u=new Bjt(l,{sessionId:i,persistenceKey:n,onLoad(){c||r({store:l,status:"synced-local"})},onLoadError(d){c||r({status:"error",error:d})}});return()=>{c=!0,u.close()}},[e,r]),t}function Tjt(){const e=Ee(),t=Yi();I.useEffect(()=>{const r=o=>t.style.setProperty("--tl-zoom",o.toString()),n=sz(r,100),i=new av("useZoomCss",()=>{e.getCurrentPageShapeIds().size<300?r(e.getZoomLevel()):n(e.getZoomLevel())});return i.attach(),i.execute(),()=>{i.detach(),n.cancel()}},[e,t])}function l5(e){const t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return t}function Ojt(e){const t=atob(e),r=l5(t);return crypto.subtle.importKey("spki",new Uint8Array(r),{name:"ECDSA",namedCurve:"P-256"},!0,["verify"])}const Rjt=5,c0={ANNUAL_LICENSE:1,PERPETUAL_LICENSE:2,INTERNAL_LICENSE:4,WITH_WATERMARK:8},Mjt=Math.max(...Object.values(c0)),u0={ID:0,HOSTS:1,FLAGS:2,EXPIRY_DATE:3},Fjt=Object.keys(u0).length,x4="sales@tldraw.com",kjt=`${jA()}/watermarks/watermark-track.svg`;class NP{constructor(t,r,n){K(this,"publicKey","MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEHJh0uUfxHtCGyerXmmatE368Hd9rI6LH9oPDQihnaCryRFWEVeOvf9U/SPbyxX74LFyJs5tYeAHq5Nc0Ax25LQ");K(this,"isDevelopment");K(this,"isTest");K(this,"isCryptoAvailable");K(this,"state",Ci("license state","pending"));K(this,"verbose",!0);this.isTest=!1,this.isDevelopment=this.getIsDevelopment(n),this.publicKey=r||this.publicKey,this.isCryptoAvailable=!!crypto.subtle,this.getLicenseFromKey(t).then(i=>{const o=Ujt(i);!this.isDevelopment&&o&&lu(kjt),o?this.state.set("unlicensed"):i.isLicensedWithWatermark?this.state.set("licensed-with-watermark"):this.state.set("licensed")})}getIsDevelopment(t){return t==="development"?!0:t==="production"?!1:window.location.protocol!=="https:"||window.location.hostname==="localhost"}async extractLicenseKey(t){const[r,n]=t.split("."),[i,o]=r.split("/");if(!i.startsWith("tldraw-"))throw new Error(`Unsupported prefix '${i}'`);const a=await Ojt(this.publicKey);let s;try{s=await crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},a,new Uint8Array(l5(atob(n))),new Uint8Array(l5(atob(o))))}catch(c){throw console.error(c),new Error("Could not perform signature validation")}if(!s)throw new Error("Invalid signature");let l;try{l=JSON.parse(atob(o))}catch{throw new Error("Could not parse object")}return l.length>Fjt&&this.outputMessages(["License key contains some unknown properties.","You may want to update tldraw packages to a newer version to get access to new functionality."]),{id:l[u0.ID],hosts:l[u0.HOSTS],flags:l[u0.FLAGS],expiryDate:l[u0.EXPIRY_DATE]}}async getLicenseFromKey(t){if(!t)return this.isDevelopment||this.outputNoLicenseKeyProvided(),{isLicenseParseable:!1,reason:"no-key-provided"};if(this.isDevelopment&&!this.isCryptoAvailable)return this.verbose&&(console.log("tldraw: you seem to be in a development environment that does not support crypto. License not verified."),console.log("You should check that this works in production separately.")),{isLicenseParseable:!1,reason:"has-key-development-mode"};let r=t.replace(/[\u200B-\u200D\uFEFF]/g,"");r=r.replace(/\r?\n|\r/g,"");try{const n=await this.extractLicenseKey(r),i=new Date(n.expiryDate),o=this.isFlagEnabled(n.flags,c0.ANNUAL_LICENSE),a=this.isFlagEnabled(n.flags,c0.PERPETUAL_LICENSE),s={license:n,isLicenseParseable:!0,isDevelopment:this.isDevelopment,isDomainValid:this.isDomainValid(n),expiryDate:i,isAnnualLicense:o,isAnnualLicenseExpired:o&&this.isAnnualLicenseExpired(i),isPerpetualLicense:a,isPerpetualLicenseExpired:a&&this.isPerpetualLicenseExpired(i),isInternalLicense:this.isFlagEnabled(n.flags,c0.INTERNAL_LICENSE),isLicensedWithWatermark:this.isFlagEnabled(n.flags,c0.WITH_WATERMARK)};return this.outputLicenseInfoIfNeeded(s),s}catch(n){return this.outputInvalidLicenseKey(n.message),{isLicenseParseable:!1,reason:"invalid-license-key"}}}isDomainValid(t){const r=window.location.hostname.toLowerCase();return t.hosts.some(n=>{const i=n.toLowerCase().trim();if(i===r||`www.${i}`===r||i===`www.${r}`||n==="*")return!0;if(n.includes("*")){const o=new RegExp(n.replace(/\*/g,".*?"));return o.test(r)||o.test(`www.${r}`)}return!1})}getExpirationDateWithoutGracePeriod(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}getExpirationDateWithGracePeriod(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+Rjt+1)}isAnnualLicenseExpired(t){const r=this.getExpirationDateWithGracePeriod(t),n=new Date>=r;return!n&&new Date>=this.getExpirationDateWithoutGracePeriod(t)&&this.outputMessages(["tldraw license is about to expire, you are in a grace period.",`Please reach out to ${x4} if you would like to renew your license.`]),n}isPerpetualLicenseExpired(t){const r=this.getExpirationDateWithGracePeriod(t),n={major:new Date(Woe.major),minor:new Date(Woe.minor)};return n.major>=r||n.minor>=r}isFlagEnabled(t,r){return(t&r)===r}outputNoLicenseKeyProvided(){}outputInvalidLicenseKey(t){this.outputMessages(["Invalid tldraw license key",`Reason: ${t}`])}outputLicenseInfoIfNeeded(t){t.isAnnualLicenseExpired&&this.outputMessages(["Your tldraw license has expired!",`Please reach out to ${x4} to renew.`]),!t.isDomainValid&&!t.isDevelopment&&this.outputMessages(["This tldraw license key is not valid for this domain!",`Please reach out to ${x4} if you would like to use tldraw on other domains.`]),t.license.flags>=Mjt*2&&this.outputMessages(["This tldraw license contains some unknown flags.","You may want to update tldraw packages to a newer version to get access to new functionality."])}outputMessages(t){if(!this.isTest&&this.verbose){this.outputDelimiter();for(const r of t)console.log(`%c${r}`,"color: white; background: crimson; padding: 2px; border-radius: 3px;");this.outputDelimiter()}}outputDelimiter(){console.log("%c-------------------------------------------------------------------","color: white; background: crimson; padding: 2px; border-radius: 3px;")}}K(NP,"className","tl-watermark_SEE-LICENSE");function Ujt(e){if(!e.isLicenseParseable||!e.isDomainValid&&!e.isDevelopment)return!0;if(e.isPerpetualLicenseExpired||e.isAnnualLicenseExpired){if(e.isInternalLicense)throw new Error("License: Internal license expired.");return!0}return!1}const RQe=I.createContext({}),Djt=()=>I.useContext(RQe);function jjt({licenseKey:e,children:t}){const[r]=I.useState(()=>new NP(e));return m.jsx(RQe.Provider,{value:r,children:t})}function Ef(e){if(!e)throw Error("usePassThroughWheelEvents must be passed a ref");const t=Yi();I.useEffect(()=>{function r(i){if(i.isSpecialRedispatchedEvent)return;const o=e.current;if(o&&o.scrollHeight>o.clientHeight)return;hr(i);const a=t.querySelector(".tl-canvas");if(!a)return;const s=new WheelEvent("wheel",i);s.isSpecialRedispatchedEvent=!0,a.dispatchEvent(s)}const n=e.current;if(n)return n.addEventListener("wheel",r,{passive:!1}),()=>{n.removeEventListener("wheel",r)}},[t,e])}const Ljt='<svg xmlns="http://www.w3.org/2000/svg" width="3001" height="1000" fill="none"><path fill="#000" d="M590.656 300.449c0 49.706-40.294 90-90 90-49.705 0-90-40.294-90-90 0-49.705 40.295-90 90-90 49.706 0 90 40.295 90 90M569.431 719.011c-15.247 32.821-56.006 91.589-98.338 91.438-32.004-.115-38.642-30.904-17.414-50.856 17.381-16.337 28.246-48.075 31.995-72.719.415-2.728-1.556-5.197-4.272-5.679-39.666-7.04-70.746-40.877-70.746-83.417 0-48.23 38.983-87.329 87.07-87.329 39.936 0 70.172 22.237 83.369 52.397 18.839 43.055 7.117 115.733-11.664 156.165M2613.29 385.681V239.319c0-11.363 9.22-20.569 20.59-20.569h8.26c11.37 0 20.59 9.206 20.59 20.569v36.911c0 8.629 7 15.625 15.63 15.625h35.25c8.63 0 15.63-6.996 15.63-15.625v-36.911c0-11.363 9.22-20.569 20.59-20.569h8.17c11.37 0 20.59 9.206 20.59 20.569v146.362c0 11.363-9.22 20.569-20.59 20.569h-8.17c-11.37 0-20.59-9.206-20.59-20.569v-36.999c0-8.63-7-15.625-15.63-15.625h-35.25c-8.63 0-15.63 6.995-15.63 15.625v36.999c0 11.363-9.22 20.569-20.59 20.569h-8.26c-11.37 0-20.59-9.206-20.59-20.569M2391.97 239.319v146.362c0 11.348-9.16 20.569-20.49 20.569h-8.2c-11.33 0-20.49-9.221-20.49-20.569V239.319c0-11.348 9.16-20.569 20.49-20.569h8.2c11.33 0 20.49 9.221 20.49 20.569M2098.23 391.43l-42.69-146.361c-3.85-13.171 6.06-26.319 19.79-26.319h10.6c9.59 0 17.93 6.611 20.08 15.952l17.01 73.045c1.48 6.348 10.47 6.478 12.14.176l19.47-73.838c2.38-9.04 10.57-15.335 19.93-15.335h12.1c9.37 0 17.56 6.3 19.94 15.346l19.49 74.067c1.66 6.305 10.65 6.178 12.13-.171l17.09-73.294c2.15-9.339 10.49-15.948 20.08-15.948h10.53c13.72 0 23.63 13.141 19.79 26.31l-42.63 146.361c-2.56 8.789-10.63 14.829-19.79 14.829h-15.68c-9.12 0-17.16-5.98-19.76-14.709l-21.17-71.059c-1.77-5.948-10.19-5.957-11.97-.012l-21.33 71.071c-2.6 8.729-10.64 14.709-19.76 14.709h-15.59c-9.17 0-17.23-6.035-19.8-14.82M2443.23 218.75h118.59c11.38 0 20.62 9.195 20.62 20.557s-9.24 20.556-20.62 20.556h-24.79c-5.53 0-10 4.477-10 10v115.818c0 11.368-9.25 20.569-20.63 20.569h-7.65c-11.39 0-20.63-9.201-20.63-20.569V269.863c0-5.523-4.48-10-10-10h-24.89c-11.37 0-20.61-9.195-20.61-20.556s9.24-20.557 20.61-20.557M1174.15 218.75h24.64c8.35 0 15.88 5.042 19.04 12.764l34.61 83.942c2.13 5.161 9.44 5.155 11.56-.01l34.43-83.932a20.58 20.58 0 0 1 19.04-12.764h24.64c11.37 0 20.58 9.208 20.58 20.569v146.362c0 11.361-9.21 20.569-20.58 20.569h-7.09c-11.36 0-20.58-9.208-20.58-20.569l-.12-50.645c-.01-6.888-9.53-8.688-12.06-2.283l-23.46 59.332a20.57 20.57 0 0 1-19.14 13.009h-3.03a20.57 20.57 0 0 1-19.15-13.046l-23.47-59.68c-2.52-6.416-12.05-4.623-12.06 2.271l-.13 51.042c0 11.361-9.21 20.569-20.57 20.569h-7.1c-11.36 0-20.57-9.208-20.57-20.569V239.319c0-11.361 9.21-20.569 20.57-20.569"/><path fill="#000" fill-rule="evenodd" d="m1449.94 391.836 6.12-19.392a6.255 6.255 0 0 1 5.96-4.369l50.22-.061a6.24 6.24 0 0 1 5.96 4.348l6.23 19.486c2.71 8.581 10.71 14.402 19.74 14.402h9.34c14.13 0 24.15-13.791 19.61-27.151l-49.74-146.361c-2.85-8.37-10.74-13.988-19.61-13.988h-33.16c-8.87 0-16.77 5.618-19.61 13.988l-49.74 146.361c-4.54 13.36 5.48 27.151 19.61 27.151h9.32c9.04 0 17.04-5.827 19.75-14.414m31.1-98.858c1.85-5.807 10.08-5.796 11.91.016l8.83 27.916c1.28 4.028-1.73 8.134-5.96 8.134h-17.74c-4.23 0-7.24-4.119-5.95-8.151zM1681.81 406.25c18.91 0 35.39-3.686 49.36-11.168 13.97-7.544 24.73-18.394 32.24-32.489 7.56-14.105 11.29-30.866 11.29-50.182 0-19.256-3.73-35.957-11.29-50.004-7.57-14.094-18.35-24.912-32.32-32.397-13.91-7.545-30.4-11.26-49.37-11.26h-49.5c-11.38 0-20.63 9.201-20.63 20.569v146.362c0 11.368 9.25 20.569 20.63 20.569zm23.13-47.701c-6.62 3.215-14.85 4.886-24.79 4.886-10.49 0-19-8.507-19-19v-64.34c0-10.149 8.23-18.376 18.38-18.376 10.18 0 18.56 1.703 25.23 4.974 6.59 3.149 11.63 8.315 15.08 15.633 3.45 7.269 5.28 17.268 5.28 30.162 0 12.891-1.82 22.951-5.28 30.347-3.39 7.319-8.36 12.509-14.9 15.714" clip-rule="evenodd"/><path fill="#000" d="M1804.21 385.681V239.319c0-11.361 9.21-20.569 20.58-20.569h91.28c11.36 0 20.57 9.202 20.57 20.557s-9.21 20.556-20.57 20.556h-54.64a7.807 7.807 0 0 0-7.81 7.813v16.366a7.806 7.806 0 0 0 7.81 7.812h48.13c11.37 0 20.58 9.246 20.58 20.602s-9.21 20.601-20.58 20.601h-48.13a7.806 7.806 0 0 0-7.81 7.812v16.455a7.807 7.807 0 0 0 7.81 7.813h54.64c11.36 0 20.57 9.202 20.57 20.556s-9.21 20.557-20.57 20.557h-91.28c-11.37 0-20.58-9.208-20.58-20.569"/><path fill="#000" fill-rule="evenodd" d="M2875.5 68.75h-2750c-31.066 0-56.25 25.184-56.25 56.25v750c0 31.066 25.184 56.25 56.25 56.25h2750c31.07 0 56.25-25.184 56.25-56.25V125c0-31.066-25.18-56.25-56.25-56.25M125.5 0C56.464 0 .5 55.964.5 125v750c0 69.036 55.965 125 125 125h2750c69.04 0 125-55.964 125-125V125c0-69.036-55.96-125-125-125z" clip-rule="evenodd"/><path fill="#000" d="M2476.06 804.813c-10.54 0-19.82-6.947-22.81-17.068L2390.79 575.7c-4.49-15.248 6.92-30.534 22.8-30.534h27.75c11.1 0 20.72 7.686 23.18 18.52L2489 671.402c2.07 9.093 14.93 9.321 17.32.308l28.83-108.844c2.76-10.435 12.19-17.7 22.98-17.7h25.17c10.8 0 20.25 7.293 22.99 17.755l28.27 107.739c2.36 9.001 15.18 8.829 17.3-.232l25.01-106.888c2.51-10.763 12.1-18.374 23.14-18.374h27.87c15.88 0 27.29 15.286 22.8 30.534l-62.46 212.045a23.78 23.78 0 0 1-22.81 17.068h-32.12c-10.39 0-19.58-6.763-22.69-16.696l-32.08-102.694c-2.62-8.397-14.51-8.331-17.04.095l-30.74 102.346c-3.02 10.061-12.27 16.949-22.76 16.949zM1742.44 804.813h-75.81c-13.09 0-23.71-10.656-23.71-23.801V568.967c0-13.145 10.62-23.801 23.71-23.801h74.8c26.6 0 49.59 5.198 68.95 15.594 19.45 10.312 34.44 25.187 44.96 44.627 10.61 19.355 15.91 42.556 15.91 69.602q0 40.57-15.78 69.73c-10.53 19.355-25.43 34.231-44.71 44.627-19.28 10.311-42.05 15.467-68.32 15.467m-29.3-83.642c0 13.145 10.61 23.801 23.71 23.801h3.06c12.8 0 23.7-2.07 32.71-6.212 9.09-4.141 16-11.283 20.71-21.426q7.2-15.213 7.2-42.345 0-27.13-7.32-42.344c-4.8-10.143-11.87-17.285-21.22-21.426-9.26-4.142-20.63-6.212-34.1-6.212h-1.04c-13.1 0-23.71 10.656-23.71 23.801zM1460.86 804.813c-13.12 0-23.76-10.656-23.76-23.801V568.967c0-13.145 10.64-23.801 23.76-23.801h22.84c13.13 0 23.76 10.656 23.76 23.801v155.247c0 13.145 10.64 23.801 23.76 23.801h57.27c13.12 0 23.76 10.656 23.76 23.801v9.196c0 13.145-10.64 23.801-23.76 23.801zM1204.45 601.964c-13.13 0-23.77-10.656-23.77-23.801v-9.196c0-13.145 10.64-23.801 23.77-23.801h177.89c13.13 0 23.78 10.656 23.78 23.801v9.196c0 13.145-10.65 23.801-23.78 23.801h-39.38c-8.21 0-14.86 6.66-14.86 14.875v164.173c0 13.145-10.64 23.801-23.78 23.801h-21.85c-13.13 0-23.78-10.656-23.78-23.801V616.839c0-8.215-6.65-14.875-14.86-14.875z"/><path fill="#000" fill-rule="evenodd" d="M2223.05 787.891c-3.02 10.047-12.27 16.922-22.74 16.922h-25.43c-16.19 0-27.64-15.862-22.57-31.261l69.88-212.045c3.21-9.753 12.31-16.341 22.56-16.341h61.84c10.25 0 19.35 6.588 22.56 16.341l69.87 212.045c5.08 15.399-6.37 31.261-22.56 31.261h-25.43c-10.48 0-19.72-6.875-22.74-16.922l-6.7-22.2a14.84 14.84 0 0 0-14.21-10.576h-63.42c-6.55 0-12.32 4.296-14.22 10.576zm76.13-96.945-14.13-48.436c-2.46-8.451-14.36-8.602-17.04-.217l-15.46 48.436c-1.84 5.759 2.45 11.645 8.48 11.645h29.6c5.94 0 10.22-5.715 8.55-11.428" clip-rule="evenodd"/><path fill="#000" d="M1939.6 804.813c-13.13 0-23.77-10.656-23.77-23.801V568.967c0-13.145 10.64-23.801 23.77-23.801h88.13c19.24 0 36.08 3.508 50.51 10.523s25.65 17.115 33.67 30.3q12.03 19.779 12.03 47.416c0 18.595-4.14 34.273-12.41 47.036-7.64 11.913-18.18 21.101-31.63 27.564-16.98 8.159-36 11.104-54.7 11.104h-43.07c-76.56 0 4.08-135.84 4.08-84.706v7.996c0 12.117 9.81 21.941 21.91 21.941 8.12 0 16.3-.345 24.04-3.043 5.91-2.113 10.43-5.451 13.55-10.015 3.2-4.565 4.81-10.523 4.81-17.877 0-7.437-1.61-13.481-4.81-18.129-3.12-4.733-7.64-8.199-13.55-10.396-7.05-2.766-14.67-3.423-22.18-3.423-13.13 0-23.77 10.656-23.77 23.801v47.71c0 11.825 11.14 16.003 19.91 20.752 12.31 6.671 7.58 25.389-6.42 25.389-7.45 0-13.49 6.048-13.49 13.508v48.395c0 13.145-10.63 23.801-23.76 23.801zm134.89-106.758 5.41 9.95 33.51 61.622c8.62 15.86-2.84 35.186-20.87 35.186h-22.27c-8.74 0-16.77-4.798-20.92-12.496l-35.05-65.04a15.52 15.52 0 0 0-13.66-8.168c-42.24 0 40.62-82.154 73.85-21.054M931.652 0h68.748v1000h-68.748z"/></svg>',Njt='<svg xmlns="http://www.w3.org/2000/svg" width="400" height="1601" fill="none"><path fill="#000" d="M72 1319.8c0-10.73 7.071-20.18 17.372-23.22l215.823-63.62c15.519-4.57 31.078 7.05 31.078 23.22v28.26c0 11.31-7.824 21.1-18.85 23.61l-109.636 24.94c-9.254 2.1-9.487 15.2-.313 17.63l110.784 29.37a24.21 24.21 0 0 1 18.015 23.4v25.64c0 11-7.423 20.62-18.071 23.41l-109.659 28.79c-9.162 2.41-8.986 15.47.236 17.63l108.792 25.46c10.955 2.56 18.702 12.33 18.702 23.57v28.39c0 16.17-15.559 27.79-31.078 23.22l-215.823-63.62c-10.3-3.04-17.372-12.49-17.372-23.22v-32.72c0-10.59 6.883-19.95 16.994-23.11l104.523-32.67c8.547-2.67 8.479-14.79-.096-17.36l-104.17-31.3C79.01 1372.42 72 1363 72 1352.31zM72 572.638V495.43c0-13.336 10.846-24.147 24.225-24.147h215.823c13.379 0 24.225 10.811 24.225 24.147v76.179q0 40.645-15.872 70.228-15.743 29.712-45.422 45.79-29.55 16.206-70.843 16.206-41.292 0-70.971-16.078-29.55-16.077-45.422-45.532Q72 612.767 72 572.638m85.132-29.84c-13.379 0-24.225 10.81-24.225 24.146v3.122q0 19.55 6.323 33.313 6.323 13.89 21.807 21.094 15.485 7.332 43.099 7.331t43.1-7.46q15.484-7.33 21.807-21.608 6.323-14.15 6.323-34.728v-1.064c0-13.336-10.846-24.146-24.225-24.146zM72 285.858c0-13.363 10.846-24.197 24.225-24.197h215.823c13.379 0 24.225 10.834 24.225 24.197v23.27c0 13.364-10.846 24.197-24.225 24.197H154.035c-13.379 0-24.225 10.834-24.225 24.197v58.328c0 13.364-10.846 24.197-24.225 24.197h-9.36C82.845 440.047 72 429.214 72 415.85zM278.463 24.72c0-13.374 10.846-24.216 24.225-24.216h9.36c13.379 0 24.225 10.842 24.225 24.216v181.174c0 13.374-10.846 24.216-24.225 24.216h-9.36c-13.379 0-24.225-10.842-24.225-24.216v-40.108c0-8.359-6.779-15.135-15.141-15.135H96.225c-13.38 0-24.225-10.842-24.225-24.216v-22.256c0-13.374 10.846-24.216 24.225-24.216h167.097c8.362 0 15.141-6.776 15.141-15.135z"/><path fill="#000" fill-rule="evenodd" d="M89.224 1062.13C78.997 1059.04 72 1049.63 72 1038.96v-25.9c0-16.486 16.145-28.147 31.818-22.979l215.823 71.169a24.19 24.19 0 0 1 16.632 22.98v62.97c0 10.45-6.706 19.71-16.632 22.98l-215.823 71.17C88.145 1246.51 72 1234.86 72 1218.37v-25.9c0-10.67 6.997-20.08 17.224-23.17l22.595-6.81a15.13 15.13 0 0 0 10.765-14.48v-64.59a15.13 15.13 0 0 0-10.765-14.48zm98.672 77.53 49.299-14.39c8.601-2.51 8.755-14.62.22-17.35l-49.299-15.75c-5.861-1.88-11.852 2.49-11.852 8.64v30.14c0 6.05 5.817 10.41 11.632 8.71" clip-rule="evenodd"/><path fill="#000" d="M72 773.439c0-13.367 10.846-24.203 24.225-24.203h215.823c13.379 0 24.225 10.836 24.225 24.203v89.762q0 29.395-10.711 51.439-10.71 22.046-30.84 34.293t-48.261 12.248q-28.388 0-47.873-12.635-18.187-11.672-28.056-32.218c-8.303-17.289-11.301-36.661-11.301-55.705v-43.867c0-77.976 138.26 4.16 86.215 4.16h-8.138c-12.334 0-22.332 9.989-22.332 22.311 0 8.269.351 16.6 3.097 24.487q3.225 9.024 10.194 13.794 6.968 4.899 18.194 4.899 11.356 0 18.453-4.899 7.226-4.77 10.581-13.794c2.815-7.188 3.484-14.944 3.484-22.596 0-13.366-10.846-24.202-24.225-24.202h-48.56c-12.036 0-16.288 11.345-21.122 20.272-6.79 12.539-25.841 7.72-25.841-6.536 0-7.586-6.156-13.736-13.749-13.736H96.225C82.845 820.916 72 810.08 72 796.714zm108.66 137.378-10.128 5.511-62.72 34.131C91.67 959.243 72 947.569 72 929.205V906.52a24.2 24.2 0 0 1 12.719-21.299l66.199-35.696a15.82 15.82 0 0 0 8.313-13.921c0-43.012 83.618 41.371 21.429 75.213"/></svg>';function $jt(e){return Re("watermarkState",()=>e.state.get(),[e])}const Qjt=`data:image/svg+xml;utf8,${encodeURIComponent(Ljt)}`,Hjt=`data:image/svg+xml;utf8,${encodeURIComponent(Njt)}`,qjt=I.memo(function(){const t=Djt(),r=Ee(),n=Re("is mobile",()=>r.getViewportScreenBounds().width<700,[r]),i=$jt(t);return["licensed-with-watermark","unlicensed"].includes(i)?m.jsxs(m.Fragment,{children:[m.jsx(Kjt,{}),m.jsx(zjt,{src:n?Hjt:Qjt})]}):null}),zjt=I.memo(function({src:t}){const r=Ee(),n=Re("debug mode",()=>r.getInstanceState().isDebugMode,[r]),i=Re("is mobile",()=>r.getViewportScreenBounds().width<700,[r]),o=Vz(),a=I.useRef(null);Ef(a);const s=`url('${t}') center 100% / 100% no-repeat`,l="https://tldraw.dev";return m.jsx("div",{ref:a,className:NP.className,"data-debug":n,"data-mobile":i,draggable:!1,...o,children:an.isWebview?m.jsx("a",{draggable:!1,role:"button",onPointerDown:c=>{Ei(c),hr(c)},onClick:()=>eP.openWindow(l,"_blank"),style:{mask:s,WebkitMask:s}}):m.jsx("a",{href:l,target:"_blank",rel:"noreferrer",draggable:!1,onPointerDown:c=>{Ei(c)},style:{mask:s,WebkitMask:s}})})}),Kjt=I.memo(function(){const t=NP.className,r=`/* ------------------- SEE LICENSE -------------------
The tldraw watermark is part of tldraw's license. It is shown for unlicensed
or "licensed-with-watermark" users. By using this library, you agree to
preserve the watermark's behavior, keeping it visible, unobscured, and
available to user-interaction.

To remove the watermark, please purchase a license at tldraw.dev.
*/

	.${t} {
		position: absolute;
		bottom: var(--space-2);
		right: var(--space-2);
		width: 96px;
		height: 32px;
		display: flex;
		align-items: center;
		justify-content: center;
		z-index: var(--layer-watermark) !important;
		background-color: color-mix(in srgb, var(--color-background) 62%, transparent);
		opacity: 1;
		border-radius: 5px;
		pointer-events: all;
		padding: 2px;
		box-sizing: content-box;
	}

	.${t} > a {
		position: absolute;
		width: 96px;
		height: 32px;
		pointer-events: all;
		cursor: inherit;
		color: var(--color-text);
		opacity: .38;
		background-color: currentColor;
	}

	.${t}[data-debug='true'] {
		bottom: 46px;
	}

	.${t}[data-mobile='true'] {
		border-radius: 4px 0px 0px 4px;
		right: -2px;
		width: 8px;
		height: 48px;
	}

	.${t}[data-mobile='true'] > a {
		width: 8px;
		height: 32px;
	}

	@media (hover: hover) {
		.${t} > a {
			pointer-events: none;
		}

		.${t}:hover {
			background-color: var(--color-background);
			transition: background-color 0.2s ease-in-out;
			transition-delay: 0.32s;
		}

		.${t}:hover > a {
			animation: delayed_link 0.2s forwards ease-in-out;
			animation-delay: 0.32s;
		}
	}

	@keyframes delayed_link {
		0% {
			cursor: inherit;
			opacity: .38;
			pointer-events: none;
		}
		100% {
			cursor: pointer;
			opacity: 1;
			pointer-events: all;
		}
	}`;return m.jsx("style",{children:r})}),Wjt=[],Vjt=[],Gjt=[],Yjt="tl-container",Xjt=I.memo(function({store:t,components:r,className:n,user:i,options:o,...a}){const[s,l]=I.useState(null),c=I.useMemo(()=>i??YDe(),[i]),u=(r==null?void 0:r.ErrorFallback)===void 0?$De:r==null?void 0:r.ErrorFallback,d={...a,shapeUtils:a.shapeUtils??Wjt,bindingUtils:a.bindingUtils??Vjt,tools:a.tools??Gjt,components:r,options:cv(o)};return m.jsx("div",{ref:l,"data-tldraw":pDe,draggable:!1,className:jt(`${Yjt} tl-theme__light`,n),onPointerDown:Ei,tabIndex:-1,children:m.jsx(qw,{fallback:u,onError:A=>lz(A,{tags:{origin:"react.tldraw-before-app"}}),children:s&&m.jsx(jjt,{licenseKey:a.licenseKey,children:m.jsx(wDe,{container:s,children:m.jsx(PIt,{overrides:r,children:t?t instanceof Mz?m.jsx(FQe,{...d,store:t,user:c}):m.jsx(MQe,{...d,store:t,user:c}):m.jsx(Jjt,{...d,store:t,user:c})})})})})})});function Jjt(e){const{defaultName:t,snapshot:r,initialData:n,shapeUtils:i,bindingUtils:o,persistenceKey:a,sessionId:s,user:l,assets:c,migrations:u}=e,d=Pjt({shapeUtils:i,bindingUtils:o,initialData:n,persistenceKey:a,sessionId:s,defaultName:t,snapshot:r,assets:c,migrations:u});return m.jsx(MQe,{...e,store:d,user:l})}const MQe=I.memo(function({store:t,user:r,...n}){const i=Yi();I.useLayoutEffect(()=>{r.userPreferences.get().colorScheme==="dark"&&(i.classList.remove("tl-theme__light"),i.classList.add("tl-theme__dark"))},[i,r]);const{LoadingScreen:o}=Un();switch(t.status){case"error":throw t.error;case"loading":return o?m.jsx(o,{}):null}return m.jsx(FQe,{...n,store:t.store,user:r})}),S4=()=>document.location.search.includes("tldraw_preserve_focus");function FQe({onMount:e,children:t,store:r,tools:n,shapeUtils:i,bindingUtils:o,user:a,initialState:s,autoFocus:l=!0,inferDarkMode:c,cameraOptions:u,options:d,licenseKey:A,deepLinks:f,isShapeHidden:h}){const{ErrorFallback:p}=Un(),v=Yi(),[y,b]=OQe(null),x=I.useRef(null),S=cv(f===!0?{}:f),C=I.useRef({autoFocus:l&&!S4(),inferDarkMode:c,initialState:s,cameraOptions:u,deepLinks:S});I.useLayoutEffect(()=>{C.current={autoFocus:l&&!S4(),inferDarkMode:c,initialState:s,cameraOptions:u,deepLinks:S}},[l,c,s,u,S]),I.useLayoutEffect(()=>{const{autoFocus:T,inferDarkMode:O,initialState:P,cameraOptions:F,deepLinks:U}=C.current,k=new yt({store:r,shapeUtils:i,bindingUtils:o,tools:n,getContainer:()=>v,user:a,initialState:P,autoFocus:T,inferDarkMode:O,cameraOptions:F,options:d,licenseKey:A,isShapeHidden:h});return k.updateViewportScreenBounds(x.current??v),U&&(U!=null&&U.getUrl?k.navigateToDeepLink({...U,url:U.getUrl(k)}):k.navigateToDeepLink(U)),b(k),()=>{k.dispose()}},[o,v,d,i,r,n,a,b,A,h]),I.useLayoutEffect(()=>{if(y&&S)return y.registerDeepLinkListener(S)},[y,S]),I.useLayoutEffect(()=>{y&&u&&y.setCameraOptions(u)},[y,u]);const _=I.useSyncExternalStore(I.useCallback(T=>y?(y.on("crash",T),()=>y.off("crash",T)):()=>{},[y]),()=>(y==null?void 0:y.getCrashingError())??null);I.useEffect(function(){if(!y)return;function O(){y&&y.focus()}function P(){y&&y.blur()}if(l&&S4())return y.getContainer().addEventListener("pointerdown",O),document.body.addEventListener("pointerdown",P),()=>{var F;(F=y.getContainer())==null||F.removeEventListener("pointerdown",O),document.body.removeEventListener("pointerdown",P)}},[y,l]);const{Canvas:B}=Un();return y?m.jsx(qw,{fallback:p,onError:T=>y.annotateError(T,{origin:"react.tldraw",willCrashApp:!0}),children:_?m.jsx(eLt,{crashingError:_}):m.jsx(Kz,{editor:y,children:m.jsxs(Zjt,{onMount:e,children:[t??(B?m.jsx(B,{},y.contextId):null),m.jsx(qjt,{})]})})}):m.jsx("div",{className:"tl-canvas",ref:x})}function Zjt({children:e,onMount:t}){return Tjt(),pjt(),gjt(),mjt(),UQe(r=>{const n=r.store.props.onMount(r),i=t==null?void 0:t(r);return()=>{n==null||n(),i==null||i()}}),e}function eLt({crashingError:e}){throw e}function KK({children:e}){return m.jsx("div",{className:"tl-loading",children:e})}function kQe({children:e}){return m.jsx("div",{className:"tl-loading",children:e})}function UQe(e){const t=Ee(),r=FP(n=>{let i;return n.run(()=>{i=e==null?void 0:e(n),n.emit("mount")},{history:"ignore"}),window.tldrawReady=!0,i});ue.useLayoutEffect(()=>{if(t)return r==null?void 0:r(t)},[t,r])}function WA({children:e,className:t="",...r}){return m.jsx("div",{...r,className:jt("tl-html-container",t),children:e})}class BC{constructor(t){this.editor=t}}K(BC,"props"),K(BC,"migrations"),K(BC,"type");function $P(e,t,r={}){const{newPoint:n,handle:i,scaleX:o,scaleY:a}=t,{minWidth:s=1,maxWidth:l=1/0,minHeight:c=1,maxHeight:u=1/0}=r;let d=e.props.w*o,A=e.props.h*a;const f=new L(0,0);if(d>0){if(d<s){switch(i){case"top_left":case"left":case"bottom_left":{f.x=d-s;break}case"top":case"bottom":{f.x=(d-s)/2;break}default:f.x=0}d=s}}else if(f.x=d,d=-d,d<s){switch(i){case"top_left":case"left":case"bottom_left":{f.x=-d;break}default:f.x=-s}d=s}if(A>0){if(A<c){switch(i){case"top_left":case"top":case"top_right":{f.y=A-c;break}case"right":case"left":{f.y=(A-c)/2;break}default:f.y=0}A=c}}else if(f.y=A,A=-A,A<c){switch(i){case"top_left":case"top":case"top_right":{f.y=-A;break}default:f.y=-c}A=c}const{x:h,y:p}=f.rot(e.rotation).add(n);return{...e,x:h,y:p,props:{w:Math.min(l,d),h:Math.min(u,A)}}}class xv extends oc{getGeometry(t){return new du({width:t.props.w,height:t.props.h,isFilled:!0})}onResize(t,r){return $P(t,r)}getHandleSnapGeometry(t){return{points:this.getGeometry(t).bounds.cornersAndCenter}}getInterpolatedProps(t,r,n){return{...r.props,w:Pr(t.props.w,r.props.w,n),h:Pr(t.props.h,r.props.h,n)}}}var lQ;let tLt=(lQ=class extends Ft{onPointerDown(t){this.parent.transition("pointing",t)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onCancel(){this.editor.setCurrentTool("select")}},K(lQ,"id","idle"),lQ);var cQ;let rLt=(cQ=class extends Ft{onPointerMove(t){if(this.editor.inputs.isDragging){const{originPagePoint:r}=this.editor.inputs,n=this.parent.shapeType,i=cn(),o=this.editor.markHistoryStoppingPoint(`creating_box:${i}`),a=sc(r,this.editor);this.editor.createShapes([{id:i,type:n,x:a.x,y:a.y,props:{w:1,h:1}}]).select(i);const s=this.parent;this.editor.setCurrentTool("select.resizing",{...t,target:"selection",handle:"bottom_right",isCreating:!0,creatingMarkId:o,creationCursorOffset:{x:1,y:1},onInteractionEnd:this.parent.id,onCreate:s.onCreate?l=>{var c;return(c=s.onCreate)==null?void 0:c.call(s,l)}:void 0})}}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.cancel()}complete(){const{originPagePoint:t}=this.editor.inputs,r=this.parent.shapeType,n=cn();this.editor.markHistoryStoppingPoint(`creating_box:${n}`),this.editor.createShapes([{id:n,type:r,x:t.x,y:t.y}]);const i=this.editor.getShape(n);if(!i){this.cancel();return}let{w:o,h:a}=i.props;const s=new L(o/2,a/2),l=this.editor.getShapeParentTransform(i);l&&s.rot(-l.rotation());let c=1;this.editor.user.getIsDynamicResizeMode()&&(c=1/this.editor.getZoomLevel(),o*=c,a*=c,s.mul(c));const u=kn(i),d=sc(new L(i.x-s.x,i.y-s.y),this.editor);u.x=d.x,u.y=d.y,u.props.w=o,u.props.h=a,"scale"in i.props&&(u.props.scale=c),this.editor.updateShape(u),this.editor.setSelectedShapes([n]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select.idle")}cancel(){this.parent.transition("idle")}},K(cQ,"id","pointing"),cQ);function sc(e,t){const r=t.getInstanceState().isGridMode,n=t.getDocumentSettings().gridSize;return r?e.clone().snapToGrid(n):e.clone()}class c5 extends Ft{static children(){return[tLt,rLt]}}K(c5,"id","box"),K(c5,"initial","idle");function nLt(e,t,r){const n=I.useRef(!1),i=I.useCallback(a=>{n.current=a,a?Gl.addOpenMenu(e):Gl.deleteOpenMenu(e),t==null||t(a)},[e,t]),o=Re("is menu open",()=>Gl.getOpenMenus().includes(e),[e]);return I.useEffect(()=>(n.current&&(r==null||r("open-menu"),Gl.addOpenMenu(e)),()=>{n.current&&(Gl.deleteOpenMenu(e),Gl.getOpenMenus().forEach(a=>{a.startsWith(e)&&(r==null||r("close-menu"),Gl.deleteOpenMenu(a))}),n.current=!1)}),[e,r]),[o,i]}function QP(e){const t=Ee();return Re("isEditing",()=>t.getEditingShapeId()===e,[t,e])}function Qc(e){const t=Ee();return I.useMemo(function(){const i=c=>{if(c.isKilled)return;if(c.button===Wz){t.dispatch({type:"pointer",target:"selection",handle:e,name:"right_click",...xs(c)});return}if(c.button!==0)return;const u=HE(c.currentTarget);function d(){u.removeEventListener("pointerup",d),zb(u,c)}qb(u,c),u.addEventListener("pointerup",d),t.dispatch({name:"pointer_down",type:"pointer",target:"selection",handle:e,...xs(c)}),Ei(c)};let o,a;function s(c){c.isKilled||c.button===0&&(c.clientX===o&&c.clientY===a||(o=c.clientX,a=c.clientY,t.dispatch({name:"pointer_move",type:"pointer",target:"selection",handle:e,...xs(c)})))}return{onPointerDown:i,onPointerMove:s,onPointerUp:c=>{c.isKilled||c.button===0&&t.dispatch({name:"pointer_up",type:"pointer",target:"selection",handle:e,...xs(c)})}}},[t,e])}function iLt(e){const[t,r]=I.useState(()=>({store:KE(e),opts:e}));if(!_ke(t.opts,e)){const n={store:KE(e),opts:e};return r(n),n.store}return t.store}const oLt=20,aLt=8;function WK(e,t=oLt){return Math.max(aLt,Math.ceil(e/t))}class Rg extends wf{constructor(r){super({...r,isFilled:!1,isClosed:!1});K(this,"_center");K(this,"radius");K(this,"start");K(this,"end");K(this,"largeArcFlag");K(this,"sweepFlag");K(this,"measure");K(this,"angleStart");K(this,"angleEnd");const{center:n,sweepFlag:i,largeArcFlag:o,start:a,end:s}=r;if(a.equals(s))throw Error("Arc must have different start and end points.");this.angleStart=L.Angle(n,a),this.angleEnd=L.Angle(n,s),this.radius=L.Dist(n,a),this.measure=I1t(this.angleStart,this.angleEnd,i,o),this.start=a,this.end=s,this.sweepFlag=i,this.largeArcFlag=o,this._center=n}nearestPoint(r){const{_center:n,measure:i,radius:o,angleEnd:a,angleStart:s,start:l,end:c}=this,u=H3(i,s,a,n.angle(r));if(u<=0)return l;if(u>=1)return c;const d=n.clone().add(r.clone().sub(n).uni().mul(o));let A,f=1/0,h;for(const p of[l,c,d])h=L.Dist2(r,p),h<f&&(A=p,f=h);if(!A)throw Error("nearest point not found");return A}hitTestLineSegment(r,n){const{_center:i,radius:o,measure:a,angleStart:s,angleEnd:l}=this,c=ix(r,n,i,o);return c===null?!1:c.some(u=>{const d=H3(a,s,l,i.angle(u));return d>=0&&d<=1})}getVertices(){const{_center:r,measure:n,length:i,radius:o,angleStart:a}=this,s=[];for(let l=0,c=WK(Math.abs(i));l<c+1;l++){const u=l/c*n,d=a+u;s.push(Mh(r,o,d))}return s}getSvgPathData(r=!0){const{start:n,end:i,radius:o,largeArcFlag:a,sweepFlag:s}=this;return`${r?`M${n.toFixed()}`:""} A${o} ${o} 0 ${a} ${s} ${i.toFixed()}`}getLength(){return this.measure*this.radius}}class VK extends wf{constructor(r){super({isClosed:!0,...r});K(this,"_center");K(this,"radius");K(this,"x");K(this,"y");this.config=r;const{x:n=0,y:i=0,radius:o}=r;this.x=n,this.y=i,this._center=new L(o+n,o+i),this.radius=o}getBounds(){return new st(this.x,this.y,this.radius*2,this.radius*2)}getVertices(){const{_center:r,radius:n}=this,i=ln*n,o=[];for(let a=0,s=WK(i);a<s;a++){const l=a/s*ln;o.push(Mh(r,n,l))}return o}nearestPoint(r){const{_center:n,radius:i}=this;return n.equals(r)?L.AddXY(n,i,0):n.clone().add(r.clone().sub(n).uni().mul(i))}hitTestLineSegment(r,n,i=0){const{_center:o,radius:a}=this;return ix(r,n,o,a+i)!==null}getSvgPathData(){const{_center:r,radius:n}=this;return`M${r.x+n},${r.y} a${n},${n} 0 1,0 ${n*2},0a${n},${n} 0 1,0 -${n*2},0`}}class Xo extends yv{constructor(r){const{start:n,cp1:i,cp2:o,end:a}=r;super({...r,points:[n,a]});K(this,"a");K(this,"b");K(this,"c");K(this,"d");this.a=n,this.b=i,this.c=o,this.d=a}getVertices(){const r=[],{a:n,b:i,c:o,d:a}=this;for(let s=0,l=10;s<=l;s++){const c=s/l;r.push(new L((1-c)*(1-c)*(1-c)*n.x+3*((1-c)*(1-c))*c*i.x+3*(1-c)*(c*c)*o.x+c*c*c*a.x,(1-c)*(1-c)*(1-c)*n.y+3*((1-c)*(1-c))*c*i.y+3*(1-c)*(c*c)*o.y+c*c*c*a.y))}return r}midPoint(){return Xo.GetAtT(this,.5)}nearestPoint(r){let n,i=1/0,o,a;for(const s of this.segments)a=s.nearestPoint(r),o=L.Dist2(a,r),o<i&&(n=a,i=o);if(!n)throw Error("nearest point not found");return n}getSvgPathData(r=!0){const{a:n,b:i,c:o,d:a}=this;return`${r?`M ${n.toFixed()} `:""} C${i.toFixed()} ${o.toFixed()} ${a.toFixed()}`}static GetAtT(r,n){const{a:i,b:o,c:a,d:s}=r;return new L((1-n)*(1-n)*(1-n)*i.x+3*((1-n)*(1-n))*n*o.x+3*(1-n)*(n*n)*a.x+n*n*n*s.x,(1-n)*(1-n)*(1-n)*i.y+3*((1-n)*(1-n))*n*o.y+3*(1-n)*(n*n)*a.y+n*n*n*s.y)}getLength(r=32){let n,i=this.a,o=0;for(let a=1;a<=r;a++)n=Xo.GetAtT(this,a/r),o+=L.Dist(i,n),i=n;return o}}class sLt extends wf{constructor(r){super({...r,isClosed:!1,isFilled:!1});K(this,"points");K(this,"_segments");const{points:n}=r;this.points=n}get segments(){if(!this._segments){this._segments=[];const{points:r}=this,n=r.length,i=n-2,o=1.25;for(let a=0;a<n-1;a++){const s=a===0?r[0]:r[a-1],l=r[a],c=r[a+1],u=a===i?c:r[a+2],d=l,A=a===0?s:new L(l.x+(c.x-s.x)/6*o,l.y+(c.y-s.y)/6*o),f=a===i?c:new L(c.x-(u.x-l.x)/6*o,c.y-(u.y-l.y)/6*o),h=c;this._segments.push(new Xo({start:d,cp1:A,cp2:f,end:h}))}}return this._segments}getLength(){return this.segments.reduce((r,n)=>r+n.length,0)}getVertices(){const r=this.segments.reduce((n,i)=>n.concat(i.vertices),[]);return r.push(this.points[this.points.length-1]),r}nearestPoint(r){let n,i=1/0,o,a;for(const s of this.segments)a=s.nearestPoint(r),o=L.Dist2(a,r),o<i&&(n=a,i=o);if(!n)throw Error("nearest point not found");return n}hitTestLineSegment(r,n){return this.segments.some(i=>i.hitTestLineSegment(r,n))}getSvgPathData(){let r=this.segments.reduce((n,i,o)=>n+i.getSvgPathData(o===0),"");return this.isClosed&&(r+="Z"),r}}class lLt extends wf{constructor(r){super({...r,isClosed:!0});K(this,"w");K(this,"h");K(this,"_edges");this.config=r;const{width:n,height:i}=r;this.w=n,this.h=i}get edges(){if(!this._edges){const{vertices:r}=this;this._edges=[];for(let n=0,i=r.length;n<i;n++){const o=r[n],a=r[(n+1)%i];this._edges.push(new ld({start:o,end:a}))}}return this._edges}getVertices(){const r=Math.max(1,this.w),n=Math.max(1,this.h),i=r/2,o=n/2,a=Math.pow(i-o,2)/Math.pow(i+o,2),s=jr*(i+o)*(1+3*a/(10+Math.sqrt(4-3*a))),l=WK(s),c=ln/l,u=Math.cos(c),d=Math.sin(c);let A=0,f=1,h=0,p=1;const v=Array(l);for(let y=0;y<l;y++)v[y]=new L(i+i*f,o+o*A),h=d*f+u*A,p=u*f-d*A,A=h,f=p;return v}nearestPoint(r){let n,i=1/0,o,a;for(const s of this.edges)a=s.nearestPoint(r),o=L.Dist2(a,r),o<i&&(n=a,i=o);if(!n)throw Error("nearest point not found");return n}hitTestLineSegment(r,n){return this.edges.some(i=>i.hitTestLineSegment(r,n))}getBounds(){return new st(0,0,this.w,this.h)}getLength(){const{w:r,h:n}=this,i=r/2,o=n/2,a=Math.max(0,i),s=Math.max(0,o);return gUe(a,s)}getSvgPathData(r=!1){const{w:n,h:i}=this,o=n/2,a=i/2,s=Math.max(0,o),l=Math.max(0,a);return`${r?`M${o-s},${a}`:""} a${s},${l},0,1,1,${s*2},0a${s},${l},0,1,1,-${s*2},0`}}class cLt extends wf{constructor(r){super({...r,isClosed:!0});K(this,"w");K(this,"h");K(this,"a");K(this,"b");K(this,"c");K(this,"d");this.config=r;const{width:n,height:i}=r;if(this.w=n,this.h=i,i>n){const o=n/2;this.a=new Rg({start:new L(0,o),end:new L(n,o),center:new L(n/2,o),sweepFlag:1,largeArcFlag:1}),this.b=new ld({start:new L(n,o),end:new L(n,i-o)}),this.c=new Rg({start:new L(n,i-o),end:new L(0,i-o),center:new L(n/2,i-o),sweepFlag:1,largeArcFlag:1}),this.d=new ld({start:new L(0,i-o),end:new L(0,o)})}else{const o=i/2;this.a=new Rg({start:new L(o,i),end:new L(o,0),center:new L(o,o),sweepFlag:1,largeArcFlag:1}),this.b=new ld({start:new L(o,0),end:new L(n-o,0)}),this.c=new Rg({start:new L(n-o,0),end:new L(n-o,i),center:new L(n-o,o),sweepFlag:1,largeArcFlag:1}),this.d=new ld({start:new L(n-o,i),end:new L(o,i)})}}nearestPoint(r){let n,i=1/0,o,a;const{a:s,b:l,c,d:u}=this;for(const d of[s,l,c,u])a=d.nearestPoint(r),o=L.Dist2(a,r),o<i&&(n=a,i=o);if(!n)throw Error("nearest point not found");return n}hitTestLineSegment(r,n){const{a:i,b:o,c:a,d:s}=this;return[i,o,a,s].some(l=>l.hitTestLineSegment(r,n))}getVertices(){const{a:r,b:n,c:i,d:o}=this;return[r,n,i,o].reduce((a,s)=>(a.push(...s.vertices),a),[])}getBounds(){return new st(0,0,this.w,this.h)}getLength(){const{h:r,w:n}=this;return r>n?(jr*(n/2)+(r-n))*2:(jr*(r/2)+(n-r))*2}getSvgPathData(){const{a:r,b:n,c:i,d:o}=this;return[r,n,i,o].map((a,s)=>a.getSvgPathData(s===0)).join(" ")+" Z"}}async function uLt({shouldReload:e=!0}={}){NSt();for(const t of TE.connectedInstances)await t.close();await Promise.all(Oz().map(t=>SUe(t))),LSt(),e&&window.location.reload()}typeof window<"u"&&(window.__tldraw__hardReset=uLt);function dLt(e,t="_blank"){eP.openWindow(e,t)}hf("@tldraw/editor","3.9.0","esm");function DQe(){const[e,t]=I.useState(!1);return I.useEffect(()=>{if(typeof window>"u"||!("matchMedia"in window))return;const r=window.matchMedia("(prefers-reduced-motion: reduce)"),n=()=>{t(r.matches)};return n(),r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e}const jQe=()=>{},LQe=I.createContext(null);function ALt({onEvent:e,children:t}){return m.jsx(LQe.Provider,{value:e??jQe,children:t})}function ko(){return I.useContext(LQe)??jQe}function Ot(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function fLt(e,t){const r=I.createContext(t),n=o=>{const{children:a,...s}=o,l=I.useMemo(()=>s,Object.values(s));return m.jsx(r.Provider,{value:l,children:a})};n.displayName=e+"Provider";function i(o){const a=I.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function Tu(e,t=[]){let r=[];function n(o,a){const s=I.createContext(a),l=r.length;r=[...r,a];const c=d=>{var y;const{scope:A,children:f,...h}=d,p=((y=A==null?void 0:A[e])==null?void 0:y[l])||s,v=I.useMemo(()=>h,Object.values(h));return m.jsx(p.Provider,{value:v,children:f})};c.displayName=o+"Provider";function u(d,A){var p;const f=((p=A==null?void 0:A[e])==null?void 0:p[l])||s,h=I.useContext(f);if(h)return h;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=r.map(a=>I.createContext(a));return function(s){const l=(s==null?void 0:s[e])||o;return I.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[n,hLt(i,...t)]}function hLt(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=n.reduce((s,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...s,...d}},{});return I.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function iBe(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function HP(...e){return t=>{let r=!1;const n=e.map(i=>{const o=iBe(i,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():iBe(e[i],null)}}}}function In(...e){return I.useCallback(HP(...e),e)}var jh=I.forwardRef((e,t)=>{const{children:r,...n}=e,i=I.Children.toArray(r),o=i.find(gLt);if(o){const a=o.props.children,s=i.map(l=>l===o?I.Children.count(a)>1?I.Children.only(null):I.isValidElement(a)?a.props.children:null:l);return m.jsx(u5,{...n,ref:t,children:I.isValidElement(a)?I.cloneElement(a,void 0,s):null})}return m.jsx(u5,{...n,ref:t,children:r})});jh.displayName="Slot";var u5=I.forwardRef((e,t)=>{const{children:r,...n}=e;if(I.isValidElement(r)){const i=vLt(r),o=mLt(n,r.props);return r.type!==I.Fragment&&(o.ref=t?HP(t,i):i),I.cloneElement(r,o)}return I.Children.count(r)>1?I.Children.only(null):null});u5.displayName="SlotClone";var pLt=({children:e})=>m.jsx(m.Fragment,{children:e});function gLt(e){return I.isValidElement(e)&&e.type===pLt}function mLt(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...s)=>{o(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function vLt(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yLt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Lr=yLt.reduce((e,t)=>{const r=I.forwardRef((n,i)=>{const{asChild:o,...a}=n,s=o?jh:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(s,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function GK(e,t){e&&Vh.flushSync(()=>e.dispatchEvent(t))}function qP(e){const t=e+"CollectionProvider",[r,n]=Tu(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=f=>{const{scope:h,children:p}=f,v=ue.useRef(null),y=ue.useRef(new Map).current;return m.jsx(i,{scope:h,itemMap:y,collectionRef:v,children:p})};a.displayName=t;const s=e+"CollectionSlot",l=ue.forwardRef((f,h)=>{const{scope:p,children:v}=f,y=o(s,p),b=In(h,y.collectionRef);return m.jsx(jh,{ref:b,children:v})});l.displayName=s;const c=e+"CollectionItemSlot",u="data-radix-collection-item",d=ue.forwardRef((f,h)=>{const{scope:p,children:v,...y}=f,b=ue.useRef(null),x=In(h,b),S=o(c,p);return ue.useEffect(()=>(S.itemMap.set(b,{ref:b,...y}),()=>void S.itemMap.delete(b))),m.jsx(jh,{[u]:"",ref:x,children:v})});d.displayName=c;function A(f){const h=o(e+"CollectionConsumer",f);return ue.useCallback(()=>{const v=h.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(h.itemMap.values()).sort((S,C)=>y.indexOf(S.ref.current)-y.indexOf(C.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:a,Slot:l,ItemSlot:d},A,n]}var wLt=I.createContext(void 0);function YK(e){const t=I.useContext(wLt);return e||t||"ltr"}function To(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bLt(e,t=globalThis==null?void 0:globalThis.document){const r=To(e);I.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var xLt="DismissableLayer",d5="dismissableLayer.update",SLt="dismissableLayer.pointerDownOutside",CLt="dismissableLayer.focusOutside",oBe,NQe=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ux=I.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,c=I.useContext(NQe),[u,d]=I.useState(null),A=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=I.useState({}),h=In(t,B=>d(B)),p=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),b=u?p.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,C=ELt(B=>{const T=B.target,O=[...c.branches].some(P=>P.contains(T));!S||O||(i==null||i(B),a==null||a(B),B.defaultPrevented||s==null||s())},A),_=ILt(B=>{const T=B.target;[...c.branches].some(P=>P.contains(T))||(o==null||o(B),a==null||a(B),B.defaultPrevented||s==null||s())},A);return bLt(B=>{b===c.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&s&&(B.preventDefault(),s()))},A),I.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(oBe=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),aBe(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(A.body.style.pointerEvents=oBe)}},[u,A,r,c]),I.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),aBe())},[u,c]),I.useEffect(()=>{const B=()=>f({});return document.addEventListener(d5,B),()=>document.removeEventListener(d5,B)},[]),m.jsx(Lr.div,{...l,ref:h,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:Ot(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ot(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ot(e.onPointerDownCapture,C.onPointerDownCapture)})});ux.displayName=xLt;var _Lt="DismissableLayerBranch",$Qe=I.forwardRef((e,t)=>{const r=I.useContext(NQe),n=I.useRef(null),i=In(t,n);return I.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),m.jsx(Lr.div,{...e,ref:i})});$Qe.displayName=_Lt;function ELt(e,t=globalThis==null?void 0:globalThis.document){const r=To(e),n=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const o=s=>{if(s.target&&!n.current){let l=function(){QQe(SLt,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ILt(e,t=globalThis==null?void 0:globalThis.document){const r=To(e),n=I.useRef(!1);return I.useEffect(()=>{const i=o=>{o.target&&!n.current&&QQe(CLt,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aBe(){const e=new CustomEvent(d5);document.dispatchEvent(e)}function QQe(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?GK(i,o):i.dispatchEvent(o)}var BLt=ux,PLt=$Qe,C4=0;function XK(){I.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sBe()),document.body.insertAdjacentElement("beforeend",e[1]??sBe()),C4++,()=>{C4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),C4--}},[])}function sBe(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _4="focusScope.autoFocusOnMount",E4="focusScope.autoFocusOnUnmount",lBe={bubbles:!1,cancelable:!0},TLt="FocusScope",zP=I.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=I.useState(null),c=To(i),u=To(o),d=I.useRef(null),A=In(t,p=>l(p)),f=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let p=function(x){if(f.paused||!s)return;const S=x.target;s.contains(S)?d.current=S:SA(d.current,{select:!0})},v=function(x){if(f.paused||!s)return;const S=x.relatedTarget;S!==null&&(s.contains(S)||SA(d.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&SA(s)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(y);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,s,f.paused]),I.useEffect(()=>{if(s){uBe.add(f);const p=document.activeElement;if(!s.contains(p)){const y=new CustomEvent(_4,lBe);s.addEventListener(_4,c),s.dispatchEvent(y),y.defaultPrevented||(OLt(ULt(HQe(s)),{select:!0}),document.activeElement===p&&SA(s))}return()=>{s.removeEventListener(_4,c),setTimeout(()=>{const y=new CustomEvent(E4,lBe);s.addEventListener(E4,u),s.dispatchEvent(y),y.defaultPrevented||SA(p??document.body,{select:!0}),s.removeEventListener(E4,u),uBe.remove(f)},0)}}},[s,c,u,f]);const h=I.useCallback(p=>{if(!r&&!n||f.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const b=p.currentTarget,[x,S]=RLt(b);x&&S?!p.shiftKey&&y===S?(p.preventDefault(),r&&SA(x,{select:!0})):p.shiftKey&&y===x&&(p.preventDefault(),r&&SA(S,{select:!0})):y===b&&p.preventDefault()}},[r,n,f.paused]);return m.jsx(Lr.div,{tabIndex:-1,...a,ref:A,onKeyDown:h})});zP.displayName=TLt;function OLt(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(SA(n,{select:t}),document.activeElement!==r)return}function RLt(e){const t=HQe(e),r=cBe(t,e),n=cBe(t.reverse(),e);return[r,n]}function HQe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function cBe(e,t){for(const r of e)if(!MLt(r,{upTo:t}))return r}function MLt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FLt(e){return e instanceof HTMLInputElement&&"select"in e}function SA(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&FLt(e)&&t&&e.select()}}var uBe=kLt();function kLt(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=dBe(e,t),e.unshift(t)},remove(t){var r;e=dBe(e,t),(r=e[0])==null||r.resume()}}}function dBe(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ULt(e){return e.filter(t=>t.tagName!=="A")}var rf=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},DLt=o_.useId||(()=>{}),jLt=0;function bd(e){const[t,r]=I.useState(DLt());return rf(()=>{r(n=>n??String(jLt++))},[e]),e||(t?`radix-${t}`:"")}const LLt=["top","right","bottom","left"],nf=Math.min,ms=Math.max,WE=Math.round,k1=Math.floor,ou=e=>({x:e,y:e}),NLt={left:"right",right:"left",bottom:"top",top:"bottom"},$Lt={start:"end",end:"start"};function A5(e,t,r){return ms(e,nf(t,r))}function Rd(e,t){return typeof e=="function"?e(t):e}function Md(e){return e.split("-")[0]}function Sv(e){return e.split("-")[1]}function JK(e){return e==="x"?"y":"x"}function ZK(e){return e==="y"?"height":"width"}function of(e){return["top","bottom"].includes(Md(e))?"y":"x"}function e8(e){return JK(of(e))}function QLt(e,t,r){r===void 0&&(r=!1);const n=Sv(e),i=e8(e),o=ZK(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=VE(a)),[a,VE(a)]}function HLt(e){const t=VE(e);return[f5(e),t,f5(t)]}function f5(e){return e.replace(/start|end/g,t=>$Lt[t])}function qLt(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:a;default:return[]}}function zLt(e,t,r,n){const i=Sv(e);let o=qLt(Md(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(f5)))),o}function VE(e){return e.replace(/left|right|bottom|top/g,t=>NLt[t])}function KLt(e){return{top:0,right:0,bottom:0,left:0,...e}}function qQe(e){return typeof e!="number"?KLt(e):{top:e,right:e,bottom:e,left:e}}function GE(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function ABe(e,t,r){let{reference:n,floating:i}=e;const o=of(t),a=e8(t),s=ZK(a),l=Md(t),c=o==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,A=n[s]/2-i[s]/2;let f;switch(l){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Sv(t)){case"start":f[a]-=A*(r&&c?-1:1);break;case"end":f[a]+=A*(r&&c?-1:1);break}return f}const WLt=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=ABe(c,n,l),A=n,f={},h=0;for(let p=0;p<s.length;p++){const{name:v,fn:y}=s[p],{x:b,y:x,data:S,reset:C}=await y({x:u,y:d,initialPlacement:n,placement:A,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=b??u,d=x??d,f={...f,[v]:{...f[v],...S}},C&&h<=50&&(h++,typeof C=="object"&&(C.placement&&(A=C.placement),C.rects&&(c=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:u,y:d}=ABe(c,A,l)),p=-1)}return{x:u,y:d,placement:A,strategy:i,middlewareData:f}};async function zw(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:A=!1,padding:f=0}=Rd(t,e),h=qQe(f),v=s[A?d==="floating"?"reference":"floating":d],y=GE(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},C=GE(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:x,strategy:l}):b);return{top:(y.top-C.top+h.top)/S.y,bottom:(C.bottom-y.bottom+h.bottom)/S.y,left:(y.left-C.left+h.left)/S.x,right:(C.right-y.right+h.right)/S.x}}const VLt=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Rd(e,t)||{};if(c==null)return{};const d=qQe(u),A={x:r,y:n},f=e8(i),h=ZK(f),p=await a.getDimensions(c),v=f==="y",y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",S=o.reference[h]+o.reference[f]-A[f]-o.floating[h],C=A[f]-o.reference[f],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let B=_?_[x]:0;(!B||!await(a.isElement==null?void 0:a.isElement(_)))&&(B=s.floating[x]||o.floating[h]);const T=S/2-C/2,O=B/2-p[h]/2-1,P=nf(d[y],O),F=nf(d[b],O),U=P,k=B-p[h]-F,M=B/2-p[h]/2+T,D=A5(U,M,k),j=!l.arrow&&Sv(i)!=null&&M!==D&&o.reference[h]/2-(M<U?P:F)-p[h]/2<0,$=j?M<U?M-U:M-k:0;return{[f]:A[f]+$,data:{[f]:D,centerOffset:M-D-$,...j&&{alignmentOffset:$}},reset:j}}}),GLt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:A,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...v}=Rd(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=Md(i),b=of(s),x=Md(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=A||(x||!p?[VE(s)]:HLt(s)),_=h!=="none";!A&&_&&C.push(...zLt(s,p,h,S));const B=[s,...C],T=await zw(t,v),O=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&O.push(T[y]),d){const M=QLt(i,a,S);O.push(T[M[0]],T[M[1]])}if(P=[...P,{placement:i,overflows:O}],!O.every(M=>M<=0)){var F,U;const M=(((F=o.flip)==null?void 0:F.index)||0)+1,D=B[M];if(D)return{data:{index:M,overflows:P},reset:{placement:D}};let j=(U=P.filter($=>$.overflows[0]<=0).sort(($,Q)=>$.overflows[1]-Q.overflows[1])[0])==null?void 0:U.placement;if(!j)switch(f){case"bestFit":{var k;const $=(k=P.filter(Q=>{if(_){const H=of(Q.placement);return H===b||H==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(H=>H>0).reduce((H,W)=>H+W,0)]).sort((Q,H)=>Q[1]-H[1])[0])==null?void 0:k[0];$&&(j=$);break}case"initialPlacement":j=s;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function fBe(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hBe(e){return LLt.some(t=>e[t]>=0)}const YLt=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Rd(e,t);switch(n){case"referenceHidden":{const o=await zw(t,{...i,elementContext:"reference"}),a=fBe(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:hBe(a)}}}case"escaped":{const o=await zw(t,{...i,altBoundary:!0}),a=fBe(o,r.floating);return{data:{escapedOffsets:a,escaped:hBe(a)}}}default:return{}}}}};async function XLt(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Md(r),s=Sv(r),l=of(r)==="y",c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=Rd(t,e);let{mainAxis:A,crossAxis:f,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof h=="number"&&(f=s==="end"?h*-1:h),l?{x:f*u,y:A*c}:{x:A*c,y:f*u}}const JLt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await XLt(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},ZLt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=Rd(e,t),c={x:r,y:n},u=await zw(t,l),d=of(Md(i)),A=JK(d);let f=c[A],h=c[d];if(o){const v=A==="y"?"top":"left",y=A==="y"?"bottom":"right",b=f+u[v],x=f-u[y];f=A5(b,f,x)}if(a){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=h+u[v],x=h-u[y];h=A5(b,h,x)}const p=s.fn({...t,[A]:f,[d]:h});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[A]:o,[d]:a}}}}}},eNt=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Rd(e,t),u={x:r,y:n},d=of(i),A=JK(d);let f=u[A],h=u[d];const p=Rd(s,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const x=A==="y"?"height":"width",S=o.reference[A]-o.floating[x]+v.mainAxis,C=o.reference[A]+o.reference[x]-v.mainAxis;f<S?f=S:f>C&&(f=C)}if(c){var y,b;const x=A==="y"?"width":"height",S=["top","left"].includes(Md(i)),C=o.reference[d]-o.floating[x]+(S&&((y=a.offset)==null?void 0:y[d])||0)+(S?0:v.crossAxis),_=o.reference[d]+o.reference[x]+(S?0:((b=a.offset)==null?void 0:b[d])||0)-(S?v.crossAxis:0);h<C?h=C:h>_&&(h=_)}return{[A]:f,[d]:h}}}},tNt=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=Rd(e,t),u=await zw(t,c),d=Md(i),A=Sv(i),f=of(i)==="y",{width:h,height:p}=o.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=A===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=d,v=A==="end"?"top":"bottom");const b=p-u.top-u.bottom,x=h-u.left-u.right,S=nf(p-u[v],b),C=nf(h-u[y],x),_=!t.middlewareData.shift;let B=S,T=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(B=b),_&&!A){const P=ms(u.left,0),F=ms(u.right,0),U=ms(u.top,0),k=ms(u.bottom,0);f?T=h-2*(P!==0||F!==0?P+F:ms(u.left,u.right)):B=p-2*(U!==0||k!==0?U+k:ms(u.top,u.bottom))}await l({...t,availableWidth:T,availableHeight:B});const O=await a.getDimensions(s.floating);return h!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function KP(){return typeof window<"u"}function Cv(e){return zQe(e)?(e.nodeName||"").toLowerCase():"#document"}function Ps(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ou(e){var t;return(t=(zQe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zQe(e){return KP()?e instanceof Node||e instanceof Ps(e).Node:!1}function lc(e){return KP()?e instanceof Element||e instanceof Ps(e).Element:!1}function Au(e){return KP()?e instanceof HTMLElement||e instanceof Ps(e).HTMLElement:!1}function pBe(e){return!KP()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ps(e).ShadowRoot}function dx(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=cc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function rNt(e){return["table","td","th"].includes(Cv(e))}function WP(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function t8(e){const t=r8(),r=lc(e)?cc(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function nNt(e){let t=af(e);for(;Au(t)&&!Em(t);){if(t8(t))return t;if(WP(t))return null;t=af(t)}return null}function r8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Em(e){return["html","body","#document"].includes(Cv(e))}function cc(e){return Ps(e).getComputedStyle(e)}function VP(e){return lc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function af(e){if(Cv(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pBe(e)&&e.host||Ou(e);return pBe(t)?t.host:t}function KQe(e){const t=af(e);return Em(t)?e.ownerDocument?e.ownerDocument.body:e.body:Au(t)&&dx(t)?t:KQe(t)}function Kw(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=KQe(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=Ps(i);if(o){const s=h5(a);return t.concat(a,a.visualViewport||[],dx(i)?i:[],s&&r?Kw(s):[])}return t.concat(i,Kw(i,[],r))}function h5(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function WQe(e){const t=cc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Au(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=WE(r)!==o||WE(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function n8(e){return lc(e)?e:e.contextElement}function Wg(e){const t=n8(e);if(!Au(t))return ou(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=WQe(t);let a=(o?WE(r.width):r.width)/n,s=(o?WE(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const iNt=ou(0);function VQe(e){const t=Ps(e);return!r8()||!t.visualViewport?iNt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oNt(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ps(e)?!1:t}function Lh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=n8(e);let a=ou(1);t&&(n?lc(n)&&(a=Wg(n)):a=Wg(e));const s=oNt(o,r,n)?VQe(o):ou(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const A=Ps(o),f=n&&lc(n)?Ps(n):n;let h=A,p=h5(h);for(;p&&n&&f!==h;){const v=Wg(p),y=p.getBoundingClientRect(),b=cc(p),x=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,S=y.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=x,c+=S,h=Ps(p),p=h5(h)}}return GE({width:u,height:d,x:l,y:c})}function i8(e,t){const r=VP(e).scrollLeft;return t?t.left+r:Lh(Ou(e)).left+r}function GQe(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:i8(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function aNt(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",a=Ou(n),s=t?WP(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=ou(1);const u=ou(0),d=Au(n);if((d||!d&&!o)&&((Cv(n)!=="body"||dx(a))&&(l=VP(n)),Au(n))){const f=Lh(n);c=Wg(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const A=a&&!d&&!o?GQe(a,l,!0):ou(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+A.x,y:r.y*c.y-l.scrollTop*c.y+u.y+A.y}}function sNt(e){return Array.from(e.getClientRects())}function lNt(e){const t=Ou(e),r=VP(e),n=e.ownerDocument.body,i=ms(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ms(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+i8(e);const s=-r.scrollTop;return cc(n).direction==="rtl"&&(a+=ms(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function cNt(e,t){const r=Ps(e),n=Ou(e),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=r8();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function uNt(e,t){const r=Lh(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Au(e)?Wg(e):ou(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=n*o.y;return{width:a,height:s,x:l,y:c}}function gBe(e,t,r){let n;if(t==="viewport")n=cNt(e,r);else if(t==="document")n=lNt(Ou(e));else if(lc(t))n=uNt(t,r);else{const i=VQe(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return GE(n)}function YQe(e,t){const r=af(e);return r===t||!lc(r)||Em(r)?!1:cc(r).position==="fixed"||YQe(r,t)}function dNt(e,t){const r=t.get(e);if(r)return r;let n=Kw(e,[],!1).filter(s=>lc(s)&&Cv(s)!=="body"),i=null;const o=cc(e).position==="fixed";let a=o?af(e):e;for(;lc(a)&&!Em(a);){const s=cc(a),l=t8(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dx(a)&&!l&&YQe(e,a))?n=n.filter(u=>u!==a):i=s,a=af(a)}return t.set(e,n),n}function ANt(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?WP(t)?[]:dNt(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((c,u)=>{const d=gBe(t,u,i);return c.top=ms(d.top,c.top),c.right=nf(d.right,c.right),c.bottom=nf(d.bottom,c.bottom),c.left=ms(d.left,c.left),c},gBe(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fNt(e){const{width:t,height:r}=WQe(e);return{width:t,height:r}}function hNt(e,t,r){const n=Au(t),i=Ou(t),o=r==="fixed",a=Lh(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=ou(0);if(n||!n&&!o)if((Cv(t)!=="body"||dx(i))&&(s=VP(t)),n){const A=Lh(t,!0,o,t);l.x=A.x+t.clientLeft,l.y=A.y+t.clientTop}else i&&(l.x=i8(i));const c=i&&!n&&!o?GQe(i,s):ou(0),u=a.left+s.scrollLeft-l.x-c.x,d=a.top+s.scrollTop-l.y-c.y;return{x:u,y:d,width:a.width,height:a.height}}function I4(e){return cc(e).position==="static"}function mBe(e,t){if(!Au(e)||cc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ou(e)===r&&(r=r.ownerDocument.body),r}function XQe(e,t){const r=Ps(e);if(WP(e))return r;if(!Au(e)){let i=af(e);for(;i&&!Em(i);){if(lc(i)&&!I4(i))return i;i=af(i)}return r}let n=mBe(e,t);for(;n&&rNt(n)&&I4(n);)n=mBe(n,t);return n&&Em(n)&&I4(n)&&!t8(n)?r:n||nNt(e)||r}const pNt=async function(e){const t=this.getOffsetParent||XQe,r=this.getDimensions,n=await r(e.floating);return{reference:hNt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gNt(e){return cc(e).direction==="rtl"}const mNt={convertOffsetParentRelativeRectToViewportRelativeRect:aNt,getDocumentElement:Ou,getClippingRect:ANt,getOffsetParent:XQe,getElementRects:pNt,getClientRects:sNt,getDimensions:fNt,getScale:Wg,isElement:lc,isRTL:gNt};function JQe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vNt(e,t){let r=null,n;const i=Ou(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:A,height:f}=c;if(s||t(),!A||!f)return;const h=k1(d),p=k1(i.clientWidth-(u+A)),v=k1(i.clientHeight-(d+f)),y=k1(u),x={rootMargin:-h+"px "+-p+"px "+-v+"px "+-y+"px",threshold:ms(0,nf(1,l))||1};let S=!0;function C(_){const B=_[0].intersectionRatio;if(B!==l){if(!S)return a();B?a(!1,B):n=setTimeout(()=>{a(!1,1e-7)},1e3)}B===1&&!JQe(c,e.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver(C,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,x)}r.observe(e)}return a(!0),o}function yNt(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=n8(e),u=i||o?[...c?Kw(c):[],...Kw(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const d=c&&s?vNt(c,r):null;let A=-1,f=null;a&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(t)})),r()}),c&&!l&&f.observe(c),f.observe(t));let h,p=l?Lh(e):null;l&&v();function v(){const y=Lh(e);p&&!JQe(p,y)&&r(),p=y,h=requestAnimationFrame(v)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const wNt=JLt,bNt=ZLt,xNt=GLt,SNt=tNt,CNt=YLt,vBe=VLt,_Nt=eNt,ENt=(e,t,r)=>{const n=new Map,i={platform:mNt,...r},o={...i.platform,_c:n};return WLt(e,t,{...i,platform:o})};var PC=typeof document<"u"?I.useLayoutEffect:I.useEffect;function YE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!YE(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!YE(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ZQe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yBe(e,t){const r=ZQe(e);return Math.round(t*r)/r}function B4(e){const t=I.useRef(e);return PC(()=>{t.current=e}),t}function INt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=I.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[A,f]=I.useState(n);YE(A,n)||f(n);const[h,p]=I.useState(null),[v,y]=I.useState(null),b=I.useCallback(Q=>{Q!==_.current&&(_.current=Q,p(Q))},[]),x=I.useCallback(Q=>{Q!==B.current&&(B.current=Q,y(Q))},[]),S=o||h,C=a||v,_=I.useRef(null),B=I.useRef(null),T=I.useRef(u),O=l!=null,P=B4(l),F=B4(i),U=B4(c),k=I.useCallback(()=>{if(!_.current||!B.current)return;const Q={placement:t,strategy:r,middleware:A};F.current&&(Q.platform=F.current),ENt(_.current,B.current,Q).then(H=>{const W={...H,isPositioned:U.current!==!1};M.current&&!YE(T.current,W)&&(T.current=W,Vh.flushSync(()=>{d(W)}))})},[A,t,r,F,U]);PC(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(Q=>({...Q,isPositioned:!1})))},[c]);const M=I.useRef(!1);PC(()=>(M.current=!0,()=>{M.current=!1}),[]),PC(()=>{if(S&&(_.current=S),C&&(B.current=C),S&&C){if(P.current)return P.current(S,C,k);k()}},[S,C,k,P,O]);const D=I.useMemo(()=>({reference:_,floating:B,setReference:b,setFloating:x}),[b,x]),j=I.useMemo(()=>({reference:S,floating:C}),[S,C]),$=I.useMemo(()=>{const Q={position:r,left:0,top:0};if(!j.floating)return Q;const H=yBe(j.floating,u.x),W=yBe(j.floating,u.y);return s?{...Q,transform:"translate("+H+"px, "+W+"px)",...ZQe(j.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:W}},[r,s,j.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:k,refs:D,elements:j,floatingStyles:$}),[u,k,D,j,$])}const BNt=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?vBe({element:n.current,padding:i}).fn(r):{}:n?vBe({element:n,padding:i}).fn(r):{}}}},PNt=(e,t)=>({...wNt(e),options:[e,t]}),TNt=(e,t)=>({...bNt(e),options:[e,t]}),ONt=(e,t)=>({..._Nt(e),options:[e,t]}),RNt=(e,t)=>({...xNt(e),options:[e,t]}),MNt=(e,t)=>({...SNt(e),options:[e,t]}),FNt=(e,t)=>({...CNt(e),options:[e,t]}),kNt=(e,t)=>({...BNt(e),options:[e,t]});var UNt="Arrow",eHe=I.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return m.jsx(Lr.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});eHe.displayName=UNt;var DNt=eHe;function tHe(e){const[t,r]=I.useState(void 0);return rf(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var o8="Popper",[rHe,GP]=Tu(o8),[jNt,nHe]=rHe(o8),iHe=e=>{const{__scopePopper:t,children:r}=e,[n,i]=I.useState(null);return m.jsx(jNt,{scope:t,anchor:n,onAnchorChange:i,children:r})};iHe.displayName=o8;var oHe="PopperAnchor",aHe=I.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=nHe(oHe,r),a=I.useRef(null),s=In(t,a);return I.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:m.jsx(Lr.div,{...i,ref:s})});aHe.displayName=oHe;var a8="PopperContent",[LNt,NNt]=rHe(a8),sHe=I.forwardRef((e,t)=>{var ae,ne,te,se,de,re;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:A=!1,updatePositionStrategy:f="optimized",onPlaced:h,...p}=e,v=nHe(a8,r),[y,b]=I.useState(null),x=In(t,he=>b(he)),[S,C]=I.useState(null),_=tHe(S),B=(_==null?void 0:_.width)??0,T=(_==null?void 0:_.height)??0,O=n+(o!=="center"?"-"+o:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(c)?c:[c],U=F.length>0,k={padding:P,boundary:F.filter(QNt),altBoundary:U},{refs:M,floatingStyles:D,placement:j,isPositioned:$,middlewareData:Q}=INt({strategy:"fixed",placement:O,whileElementsMounted:(...he)=>yNt(...he,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[PNt({mainAxis:i+T,alignmentAxis:a}),l&&TNt({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?ONt():void 0,...k}),l&&RNt({...k}),MNt({...k,apply:({elements:he,rects:ye,availableWidth:ke,availableHeight:Ue})=>{const{width:Ne,height:Ye}=ye.reference,lt=he.floating.style;lt.setProperty("--radix-popper-available-width",`${ke}px`),lt.setProperty("--radix-popper-available-height",`${Ue}px`),lt.setProperty("--radix-popper-anchor-width",`${Ne}px`),lt.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),S&&kNt({element:S,padding:s}),HNt({arrowWidth:B,arrowHeight:T}),A&&FNt({strategy:"referenceHidden",...k})]}),[H,W]=uHe(j),z=To(h);rf(()=>{$&&(z==null||z())},[$,z]);const V=(ae=Q.arrow)==null?void 0:ae.x,G=(ne=Q.arrow)==null?void 0:ne.y,X=((te=Q.arrow)==null?void 0:te.centerOffset)!==0,[Z,oe]=I.useState();return rf(()=>{y&&oe(window.getComputedStyle(y).zIndex)},[y]),m.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:$?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(se=Q.transformOrigin)==null?void 0:se.x,(de=Q.transformOrigin)==null?void 0:de.y].join(" "),...((re=Q.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(LNt,{scope:r,placedSide:H,onArrowChange:C,arrowX:V,arrowY:G,shouldHideArrow:X,children:m.jsx(Lr.div,{"data-side":H,"data-align":W,...p,ref:x,style:{...p.style,animation:$?void 0:"none"}})})})});sHe.displayName=a8;var lHe="PopperArrow",$Nt={top:"bottom",right:"left",bottom:"top",left:"right"},cHe=I.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,o=NNt(lHe,n),a=$Nt[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(DNt,{...i,ref:r,style:{...i.style,display:"block"}})})});cHe.displayName=lHe;function QNt(e){return e!==null}var HNt=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:i}=t,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,u]=uHe(r),d={start:"0%",center:"50%",end:"100%"}[u],A=(((y=i.arrow)==null?void 0:y.x)??0)+s/2,f=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let h="",p="";return c==="bottom"?(h=a?d:`${A}px`,p=`${-l}px`):c==="top"?(h=a?d:`${A}px`,p=`${n.floating.height+l}px`):c==="right"?(h=`${-l}px`,p=a?d:`${f}px`):c==="left"&&(h=`${n.floating.width+l}px`,p=a?d:`${f}px`),{data:{x:h,y:p}}}});function uHe(e){const[t,r="center"]=e.split("-");return[t,r]}var s8=iHe,l8=aHe,dHe=sHe,AHe=cHe,qNt="Portal",Ax=I.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[i,o]=I.useState(!1);rf(()=>o(!0),[]);const a=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?Ky.createPortal(m.jsx(Lr.div,{...n,ref:t}),a):null});Ax.displayName=qNt;function zNt(e,t){return I.useReducer((r,n)=>t[r][n]??r,e)}var xc=e=>{const{present:t,children:r}=e,n=KNt(t),i=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),o=In(n.ref,WNt(i));return typeof r=="function"||n.isPresent?I.cloneElement(i,{ref:o}):null};xc.displayName="Presence";function KNt(e){const[t,r]=I.useState(),n=I.useRef({}),i=I.useRef(e),o=I.useRef("none"),a=e?"mounted":"unmounted",[s,l]=zNt(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=U1(n.current);o.current=s==="mounted"?c:"none"},[s]),rf(()=>{const c=n.current,u=i.current;if(u!==e){const A=o.current,f=U1(c);e?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&A!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),rf(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=f=>{const p=U1(n.current).includes(f.animationName);if(f.target===t&&p&&(l("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},A=f=>{f.target===t&&(o.current=U1(n.current))};return t.addEventListener("animationstart",A),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",A),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:I.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function U1(e){return(e==null?void 0:e.animationName)||"none"}function WNt(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function If({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=VNt({defaultProp:t,onChange:r}),o=e!==void 0,a=o?e:n,s=To(r),l=I.useCallback(c=>{if(o){const d=typeof c=="function"?c(e):c;d!==e&&s(d)}else i(c)},[o,e,i,s]);return[a,l]}function VNt({defaultProp:e,onChange:t}){const r=I.useState(e),[n]=r,i=I.useRef(n),o=To(t);return I.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),r}var P4="rovingFocusGroup.onEntryFocus",GNt={bubbles:!1,cancelable:!0},YP="RovingFocusGroup",[p5,fHe,YNt]=qP(YP),[XNt,hHe]=Tu(YP,[YNt]),[JNt,ZNt]=XNt(YP),pHe=I.forwardRef((e,t)=>m.jsx(p5.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(p5.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(e$t,{...e,ref:t})})}));pHe.displayName=YP;var e$t=I.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,A=I.useRef(null),f=In(t,A),h=YK(o),[p=null,v]=If({prop:a,defaultProp:s,onChange:l}),[y,b]=I.useState(!1),x=To(c),S=fHe(r),C=I.useRef(!1),[_,B]=I.useState(0);return I.useEffect(()=>{const T=A.current;if(T)return T.addEventListener(P4,x),()=>T.removeEventListener(P4,x)},[x]),m.jsx(JNt,{scope:r,orientation:n,dir:h,loop:i,currentTabStopId:p,onItemFocus:I.useCallback(T=>v(T),[v]),onItemShiftTab:I.useCallback(()=>b(!0),[]),onFocusableItemAdd:I.useCallback(()=>B(T=>T+1),[]),onFocusableItemRemove:I.useCallback(()=>B(T=>T-1),[]),children:m.jsx(Lr.div,{tabIndex:y||_===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...e.style},onMouseDown:Ot(e.onMouseDown,()=>{C.current=!0}),onFocus:Ot(e.onFocus,T=>{const O=!C.current;if(T.target===T.currentTarget&&O&&!y){const P=new CustomEvent(P4,GNt);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const F=S().filter(j=>j.focusable),U=F.find(j=>j.active),k=F.find(j=>j.id===p),D=[U,k,...F].filter(Boolean).map(j=>j.ref.current);vHe(D,u)}}C.current=!1}),onBlur:Ot(e.onBlur,()=>b(!1))})})}),gHe="RovingFocusGroupItem",mHe=I.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,...a}=e,s=bd(),l=o||s,c=ZNt(gHe,r),u=c.currentTabStopId===l,d=fHe(r),{onFocusableItemAdd:A,onFocusableItemRemove:f}=c;return I.useEffect(()=>{if(n)return A(),()=>f()},[n,A,f]),m.jsx(p5.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:m.jsx(Lr.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...a,ref:t,onMouseDown:Ot(e.onMouseDown,h=>{n?c.onItemFocus(l):h.preventDefault()}),onFocus:Ot(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ot(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){c.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const p=n$t(h,c.orientation,c.dir);if(p!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let y=d().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const b=y.indexOf(h.currentTarget);y=c.loop?i$t(y,b+1):y.slice(b+1)}setTimeout(()=>vHe(y))}})})})});mHe.displayName=gHe;var t$t={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r$t(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function n$t(e,t,r){const n=r$t(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return t$t[n]}function vHe(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function i$t(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var o$t=pHe,a$t=mHe,s$t=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ag=new WeakMap,D1=new WeakMap,j1={},T4=0,yHe=function(e){return e&&(e.host||yHe(e.parentNode))},l$t=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=yHe(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},c$t=function(e,t,r,n){var i=l$t(t,Array.isArray(e)?e:[e]);j1[r]||(j1[r]=new WeakMap);var o=j1[r],a=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(A){if(s.has(A))u(A);else try{var f=A.getAttribute(n),h=f!==null&&f!=="false",p=(Ag.get(A)||0)+1,v=(o.get(A)||0)+1;Ag.set(A,p),o.set(A,v),a.push(A),p===1&&h&&D1.set(A,!0),v===1&&A.setAttribute(r,"true"),h||A.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",A,y)}})};return u(t),s.clear(),T4++,function(){a.forEach(function(d){var A=Ag.get(d)-1,f=o.get(d)-1;Ag.set(d,A),o.set(d,f),A||(D1.has(d)||d.removeAttribute(n),D1.delete(d)),f||d.removeAttribute(r)}),T4--,T4||(Ag=new WeakMap,Ag=new WeakMap,D1=new WeakMap,j1={})}},c8=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=s$t(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),c$t(n,i,r,"aria-hidden")):function(){return null}},Vc=function(){return Vc=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Vc.apply(this,arguments)};function wHe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function u$t(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var TC="right-scroll-bar-position",OC="width-before-scroll-bar",d$t="with-scroll-bars-hidden",A$t="--removed-body-scroll-bar-size";function O4(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function f$t(e,t){var r=I.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var h$t=typeof window<"u"?I.useLayoutEffect:I.useEffect,wBe=new WeakMap;function p$t(e,t){var r=f$t(null,function(n){return e.forEach(function(i){return O4(i,n)})});return h$t(function(){var n=wBe.get(r);if(n){var i=new Set(n),o=new Set(e),a=r.current;i.forEach(function(s){o.has(s)||O4(s,null)}),o.forEach(function(s){i.has(s)||O4(s,a)})}wBe.set(r,e)},[e]),r}function g$t(e){return e}function m$t(e,t){t===void 0&&(t=g$t);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var a=t(o,n);return r.push(a),function(){r=r.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(s){return o(s)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var s=r;r=[],s.forEach(o),a=r}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),r}}}};return i}function v$t(e){e===void 0&&(e={});var t=m$t(null);return t.options=Vc({async:!0,ssr:!1},e),t}var bHe=function(e){var t=e.sideCar,r=wHe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,Vc({},r))};bHe.isSideCarExport=!0;function y$t(e,t){return e.useMedium(t),bHe}var xHe=v$t(),R4=function(){},XP=I.forwardRef(function(e,t){var r=I.useRef(null),n=I.useState({onScrollCapture:R4,onWheelCapture:R4,onTouchMoveCapture:R4}),i=n[0],o=n[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,A=e.sideCar,f=e.noIsolation,h=e.inert,p=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,x=wHe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=A,C=p$t([r,t]),_=Vc(Vc({},x),i);return I.createElement(I.Fragment,null,u&&I.createElement(S,{sideCar:xHe,removeScrollBar:c,shards:d,noIsolation:f,inert:h,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:b}),a?I.cloneElement(I.Children.only(s),Vc(Vc({},_),{ref:C})):I.createElement(y,Vc({},_,{className:l,ref:C}),s))});XP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};XP.classNames={fullWidth:OC,zeroRight:TC};var w$t=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function b$t(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=w$t();return t&&e.setAttribute("nonce",t),e}function x$t(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function S$t(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var C$t=function(){var e=0,t=null;return{add:function(r){e==0&&(t=b$t())&&(x$t(t,r),S$t(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_$t=function(){var e=C$t();return function(t,r){I.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},SHe=function(){var e=_$t(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},E$t={left:0,top:0,right:0,gap:0},M4=function(e){return parseInt(e||"",10)||0},I$t=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[M4(r),M4(n),M4(i)]},B$t=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return E$t;var t=I$t(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},P$t=SHe(),Vg="data-scroll-locked",T$t=function(e,t,r,n){var i=e.left,o=e.top,a=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(d$t,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Vg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(TC,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(OC,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(TC," .").concat(TC,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(OC," .").concat(OC,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vg,`] {
    `).concat(A$t,": ").concat(s,`px;
  }
`)},bBe=function(){var e=parseInt(document.body.getAttribute(Vg)||"0",10);return isFinite(e)?e:0},O$t=function(){I.useEffect(function(){return document.body.setAttribute(Vg,(bBe()+1).toString()),function(){var e=bBe()-1;e<=0?document.body.removeAttribute(Vg):document.body.setAttribute(Vg,e.toString())}},[])},R$t=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;O$t();var o=I.useMemo(function(){return B$t(i)},[i]);return I.createElement(P$t,{styles:T$t(o,!t,i,r?"":"!important")})},g5=!1;if(typeof window<"u")try{var L1=Object.defineProperty({},"passive",{get:function(){return g5=!0,!0}});window.addEventListener("test",L1,L1),window.removeEventListener("test",L1,L1)}catch{g5=!1}var fg=g5?{passive:!1}:!1,M$t=function(e){return e.tagName==="TEXTAREA"},CHe=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!M$t(e)&&r[t]==="visible")},F$t=function(e){return CHe(e,"overflowY")},k$t=function(e){return CHe(e,"overflowX")},xBe=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=_He(e,n);if(i){var o=EHe(e,n),a=o[1],s=o[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},U$t=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},D$t=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},_He=function(e,t){return e==="v"?F$t(t):k$t(t)},EHe=function(e,t){return e==="v"?U$t(t):D$t(t)},j$t=function(e,t){return e==="h"&&t==="rtl"?-1:1},L$t=function(e,t,r,n,i){var o=j$t(e,window.getComputedStyle(t).direction),a=o*n,s=r.target,l=t.contains(s),c=!1,u=a>0,d=0,A=0;do{var f=EHe(e,s),h=f[0],p=f[1],v=f[2],y=p-v-o*h;(h||y)&&_He(e,s)&&(d+=y,A+=h),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&Math.abs(d)<1||!u&&Math.abs(A)<1)&&(c=!0),c},N1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},SBe=function(e){return[e.deltaX,e.deltaY]},CBe=function(e){return e&&"current"in e?e.current:e},N$t=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$$t=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Q$t=0,hg=[];function H$t(e){var t=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),i=I.useState(Q$t++)[0],o=I.useState(SHe)[0],a=I.useRef(e);I.useEffect(function(){a.current=e},[e]),I.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=u$t([e.lockRef.current],(e.shards||[]).map(CBe),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=I.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var y=N1(p),b=r.current,x="deltaX"in p?p.deltaX:b[0]-y[0],S="deltaY"in p?p.deltaY:b[1]-y[1],C,_=p.target,B=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in p&&B==="h"&&_.type==="range")return!1;var T=xBe(B,_);if(!T)return!0;if(T?C=B:(C=B==="v"?"h":"v",T=xBe(B,_)),!T)return!1;if(!n.current&&"changedTouches"in p&&(x||S)&&(n.current=C),!C)return!0;var O=n.current||C;return L$t(O,v,p,O==="h"?x:S)},[]),l=I.useCallback(function(p){var v=p;if(!(!hg.length||hg[hg.length-1]!==o)){var y="deltaY"in v?SBe(v):N1(v),b=t.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&N$t(C.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var x=(a.current.shards||[]).map(CBe).filter(Boolean).filter(function(C){return C.contains(v.target)}),S=x.length>0?s(v,x[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=I.useCallback(function(p,v,y,b){var x={name:p,delta:v,target:y,should:b,shadowParent:q$t(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),u=I.useCallback(function(p){r.current=N1(p),n.current=void 0},[]),d=I.useCallback(function(p){c(p.type,SBe(p),p.target,s(p,e.lockRef.current))},[]),A=I.useCallback(function(p){c(p.type,N1(p),p.target,s(p,e.lockRef.current))},[]);I.useEffect(function(){return hg.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:A}),document.addEventListener("wheel",l,fg),document.addEventListener("touchmove",l,fg),document.addEventListener("touchstart",u,fg),function(){hg=hg.filter(function(p){return p!==o}),document.removeEventListener("wheel",l,fg),document.removeEventListener("touchmove",l,fg),document.removeEventListener("touchstart",u,fg)}},[]);var f=e.removeScrollBar,h=e.inert;return I.createElement(I.Fragment,null,h?I.createElement(o,{styles:$$t(i)}):null,f?I.createElement(R$t,{gapMode:e.gapMode}):null)}function q$t(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const z$t=y$t(xHe,H$t);var JP=I.forwardRef(function(e,t){return I.createElement(XP,Vc({},e,{ref:t,sideCar:z$t}))});JP.classNames=XP.classNames;var m5=["Enter"," "],K$t=["ArrowDown","PageUp","Home"],IHe=["ArrowUp","PageDown","End"],W$t=[...K$t,...IHe],V$t={ltr:[...m5,"ArrowRight"],rtl:[...m5,"ArrowLeft"]},G$t={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fx="Menu",[Ww,Y$t,X$t]=qP(fx),[vp,ZP]=Tu(fx,[X$t,GP,hHe]),hx=GP(),BHe=hHe(),[PHe,Bf]=vp(fx),[J$t,px]=vp(fx),THe=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:o,modal:a=!0}=e,s=hx(t),[l,c]=I.useState(null),u=I.useRef(!1),d=To(o),A=YK(i);return I.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",h,{capture:!0,once:!0}),document.addEventListener("pointermove",h,{capture:!0,once:!0})},h=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",h,{capture:!0}),document.removeEventListener("pointermove",h,{capture:!0})}},[]),m.jsx(s8,{...s,children:m.jsx(PHe,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:c,children:m.jsx(J$t,{scope:t,onClose:I.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:A,modal:a,children:n})})})};THe.displayName=fx;var Z$t="MenuAnchor",u8=I.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=hx(r);return m.jsx(l8,{...i,...n,ref:t})});u8.displayName=Z$t;var d8="MenuPortal",[e4t,OHe]=vp(d8,{forceMount:void 0}),RHe=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,o=Bf(d8,t);return m.jsx(e4t,{scope:t,forceMount:r,children:m.jsx(xc,{present:r||o.open,children:m.jsx(Ax,{asChild:!0,container:i,children:n})})})};RHe.displayName=d8;var vl="MenuContent",[t4t,A8]=vp(vl),MHe=I.forwardRef((e,t)=>{const r=OHe(vl,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=Bf(vl,e.__scopeMenu),a=px(vl,e.__scopeMenu);return m.jsx(Ww.Provider,{scope:e.__scopeMenu,children:m.jsx(xc,{present:n||o.open,children:m.jsx(Ww.Slot,{scope:e.__scopeMenu,children:a.modal?m.jsx(r4t,{...i,ref:t}):m.jsx(n4t,{...i,ref:t})})})})}),r4t=I.forwardRef((e,t)=>{const r=Bf(vl,e.__scopeMenu),n=I.useRef(null),i=In(t,n);return I.useEffect(()=>{const o=n.current;if(o)return c8(o)},[]),m.jsx(f8,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ot(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),n4t=I.forwardRef((e,t)=>{const r=Bf(vl,e.__scopeMenu);return m.jsx(f8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),f8=I.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:A,onDismiss:f,disableOutsideScroll:h,...p}=e,v=Bf(vl,r),y=px(vl,r),b=hx(r),x=BHe(r),S=Y$t(r),[C,_]=I.useState(null),B=I.useRef(null),T=In(t,B,v.onContentChange),O=I.useRef(0),P=I.useRef(""),F=I.useRef(0),U=I.useRef(null),k=I.useRef("right"),M=I.useRef(0),D=h?JP:I.Fragment,j=h?{as:jh,allowPinchZoom:!0}:void 0,$=H=>{var ae,ne;const W=P.current+H,z=S().filter(te=>!te.disabled),V=document.activeElement,G=(ae=z.find(te=>te.ref.current===V))==null?void 0:ae.textValue,X=z.map(te=>te.textValue),Z=p4t(X,W,G),oe=(ne=z.find(te=>te.textValue===Z))==null?void 0:ne.ref.current;(function te(se){P.current=se,window.clearTimeout(O.current),se!==""&&(O.current=window.setTimeout(()=>te(""),1e3))})(W),oe&&setTimeout(()=>oe.focus())};I.useEffect(()=>()=>window.clearTimeout(O.current),[]),XK();const Q=I.useCallback(H=>{var z,V;return k.current===((z=U.current)==null?void 0:z.side)&&m4t(H,(V=U.current)==null?void 0:V.area)},[]);return m.jsx(t4t,{scope:r,searchRef:P,onItemEnter:I.useCallback(H=>{Q(H)&&H.preventDefault()},[Q]),onItemLeave:I.useCallback(H=>{var W;Q(H)||((W=B.current)==null||W.focus(),_(null))},[Q]),onTriggerLeave:I.useCallback(H=>{Q(H)&&H.preventDefault()},[Q]),pointerGraceTimerRef:F,onPointerGraceIntentChange:I.useCallback(H=>{U.current=H},[]),children:m.jsx(D,{...j,children:m.jsx(zP,{asChild:!0,trapped:i,onMountAutoFocus:Ot(o,H=>{var W;H.preventDefault(),(W=B.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:m.jsx(ux,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:A,onDismiss:f,children:m.jsx(o$t,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:_,onEntryFocus:Ot(l,H=>{y.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(dHe,{role:"menu","aria-orientation":"vertical","data-state":YHe(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:T,style:{outline:"none",...p.style},onKeyDown:Ot(p.onKeyDown,H=>{const z=H.target.closest("[data-radix-menu-content]")===H.currentTarget,V=H.ctrlKey||H.altKey||H.metaKey,G=H.key.length===1;z&&(H.key==="Tab"&&H.preventDefault(),!V&&G&&$(H.key));const X=B.current;if(H.target!==X||!W$t.includes(H.key))return;H.preventDefault();const oe=S().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);IHe.includes(H.key)&&oe.reverse(),f4t(oe)}),onBlur:Ot(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(O.current),P.current="")}),onPointerMove:Ot(e.onPointerMove,Vw(H=>{const W=H.target,z=M.current!==H.clientX;if(H.currentTarget.contains(W)&&z){const V=H.clientX>M.current?"right":"left";k.current=V,M.current=H.clientX}}))})})})})})})});MHe.displayName=vl;var i4t="MenuGroup",h8=I.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return m.jsx(Lr.div,{role:"group",...n,ref:t})});h8.displayName=i4t;var o4t="MenuLabel",FHe=I.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return m.jsx(Lr.div,{...n,ref:t})});FHe.displayName=o4t;var XE="MenuItem",_Be="menu.itemSelect",eT=I.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,o=I.useRef(null),a=px(XE,e.__scopeMenu),s=A8(XE,e.__scopeMenu),l=In(t,o),c=I.useRef(!1),u=()=>{const d=o.current;if(!r&&d){const A=new CustomEvent(_Be,{bubbles:!0,cancelable:!0});d.addEventListener(_Be,f=>n==null?void 0:n(f),{once:!0}),GK(d,A),A.defaultPrevented?c.current=!1:a.onClose()}};return m.jsx(kHe,{...i,ref:l,disabled:r,onClick:Ot(e.onClick,u),onPointerDown:d=>{var A;(A=e.onPointerDown)==null||A.call(e,d),c.current=!0},onPointerUp:Ot(e.onPointerUp,d=>{var A;c.current||(A=d.currentTarget)==null||A.click()}),onKeyDown:Ot(e.onKeyDown,d=>{const A=s.searchRef.current!=="";r||A&&d.key===" "||m5.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});eT.displayName=XE;var kHe=I.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...o}=e,a=A8(XE,r),s=BHe(r),l=I.useRef(null),c=In(t,l),[u,d]=I.useState(!1),[A,f]=I.useState("");return I.useEffect(()=>{const h=l.current;h&&f((h.textContent??"").trim())},[o.children]),m.jsx(Ww.ItemSlot,{scope:r,disabled:n,textValue:i??A,children:m.jsx(a$t,{asChild:!0,...s,focusable:!n,children:m.jsx(Lr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:c,onPointerMove:Ot(e.onPointerMove,Vw(h=>{n?a.onItemLeave(h):(a.onItemEnter(h),h.defaultPrevented||h.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ot(e.onPointerLeave,Vw(h=>a.onItemLeave(h))),onFocus:Ot(e.onFocus,()=>d(!0)),onBlur:Ot(e.onBlur,()=>d(!1))})})})}),a4t="MenuCheckboxItem",UHe=I.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return m.jsx($He,{scope:e.__scopeMenu,checked:r,children:m.jsx(eT,{role:"menuitemcheckbox","aria-checked":JE(r)?"mixed":r,...i,ref:t,"data-state":m8(r),onSelect:Ot(i.onSelect,()=>n==null?void 0:n(JE(r)?!0:!r),{checkForDefaultPrevented:!1})})})});UHe.displayName=a4t;var DHe="MenuRadioGroup",[s4t,l4t]=vp(DHe,{value:void 0,onValueChange:()=>{}}),jHe=I.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,o=To(n);return m.jsx(s4t,{scope:e.__scopeMenu,value:r,onValueChange:o,children:m.jsx(h8,{...i,ref:t})})});jHe.displayName=DHe;var LHe="MenuRadioItem",NHe=I.forwardRef((e,t)=>{const{value:r,...n}=e,i=l4t(LHe,e.__scopeMenu),o=r===i.value;return m.jsx($He,{scope:e.__scopeMenu,checked:o,children:m.jsx(eT,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":m8(o),onSelect:Ot(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});NHe.displayName=LHe;var p8="MenuItemIndicator",[$He,c4t]=vp(p8,{checked:!1}),QHe=I.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,o=c4t(p8,r);return m.jsx(xc,{present:n||JE(o.checked)||o.checked===!0,children:m.jsx(Lr.span,{...i,ref:t,"data-state":m8(o.checked)})})});QHe.displayName=p8;var u4t="MenuSeparator",HHe=I.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return m.jsx(Lr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});HHe.displayName=u4t;var d4t="MenuArrow",qHe=I.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=hx(r);return m.jsx(AHe,{...i,...n,ref:t})});qHe.displayName=d4t;var g8="MenuSub",[A4t,zHe]=vp(g8),KHe=e=>{const{__scopeMenu:t,children:r,open:n=!1,onOpenChange:i}=e,o=Bf(g8,t),a=hx(t),[s,l]=I.useState(null),[c,u]=I.useState(null),d=To(i);return I.useEffect(()=>(o.open===!1&&d(!1),()=>d(!1)),[o.open,d]),m.jsx(s8,{...a,children:m.jsx(PHe,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:u,children:m.jsx(A4t,{scope:t,contentId:bd(),triggerId:bd(),trigger:s,onTriggerChange:l,children:r})})})};KHe.displayName=g8;var d0="MenuSubTrigger",WHe=I.forwardRef((e,t)=>{const r=Bf(d0,e.__scopeMenu),n=px(d0,e.__scopeMenu),i=zHe(d0,e.__scopeMenu),o=A8(d0,e.__scopeMenu),a=I.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=I.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return I.useEffect(()=>u,[u]),I.useEffect(()=>{const d=s.current;return()=>{window.clearTimeout(d),l(null)}},[s,l]),m.jsx(u8,{asChild:!0,...c,children:m.jsx(kHe,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":YHe(r.open),...e,ref:HP(t,i.onTriggerChange),onClick:d=>{var A;(A=e.onClick)==null||A.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ot(e.onPointerMove,Vw(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ot(e.onPointerLeave,Vw(d=>{var f,h;u();const A=(f=r.content)==null?void 0:f.getBoundingClientRect();if(A){const p=(h=r.content)==null?void 0:h.dataset.side,v=p==="right",y=v?-5:5,b=A[v?"left":"right"],x=A[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:b,y:A.top},{x,y:A.top},{x,y:A.bottom},{x:b,y:A.bottom}],side:p}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ot(e.onKeyDown,d=>{var f;const A=o.searchRef.current!=="";e.disabled||A&&d.key===" "||V$t[n.dir].includes(d.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),d.preventDefault())})})})});WHe.displayName=d0;var VHe="MenuSubContent",GHe=I.forwardRef((e,t)=>{const r=OHe(vl,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,o=Bf(vl,e.__scopeMenu),a=px(vl,e.__scopeMenu),s=zHe(VHe,e.__scopeMenu),l=I.useRef(null),c=In(t,l);return m.jsx(Ww.Provider,{scope:e.__scopeMenu,children:m.jsx(xc,{present:n||o.open,children:m.jsx(Ww.Slot,{scope:e.__scopeMenu,children:m.jsx(f8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;a.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ot(e.onFocusOutside,u=>{u.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ot(e.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:Ot(e.onKeyDown,u=>{var f;const d=u.currentTarget.contains(u.target),A=G$t[a.dir].includes(u.key);d&&A&&(o.onOpenChange(!1),(f=s.trigger)==null||f.focus(),u.preventDefault())})})})})})});GHe.displayName=VHe;function YHe(e){return e?"open":"closed"}function JE(e){return e==="indeterminate"}function m8(e){return JE(e)?"indeterminate":e?"checked":"unchecked"}function f4t(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function h4t(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function p4t(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let a=h4t(e,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function g4t(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o].x,l=t[o].y,c=t[a].x,u=t[a].y;l>n!=u>n&&r<(c-s)*(n-l)/(u-l)+s&&(i=!i)}return i}function m4t(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return g4t(r,t)}function Vw(e){return t=>t.pointerType==="mouse"?e(t):void 0}var XHe=THe,JHe=u8,ZHe=RHe,e3e=MHe,t3e=h8,r3e=FHe,n3e=eT,i3e=UHe,o3e=jHe,a3e=NHe,s3e=QHe,l3e=HHe,c3e=qHe,u3e=KHe,d3e=WHe,A3e=GHe,v8="ContextMenu",[v4t,_Jt]=Tu(v8,[ZP]),Aa=ZP(),[y4t,f3e]=v4t(v8),h3e=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,dir:i,modal:o=!0}=e,[a,s]=I.useState(!1),l=Aa(t),c=To(n),u=I.useCallback(d=>{s(d),c(d)},[c]);return m.jsx(y4t,{scope:t,open:a,onOpenChange:u,modal:o,children:m.jsx(XHe,{...l,dir:i,open:a,onOpenChange:u,modal:o,children:r})})};h3e.displayName=v8;var p3e="ContextMenuTrigger",g3e=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:n=!1,...i}=e,o=f3e(p3e,r),a=Aa(r),s=I.useRef({x:0,y:0}),l=I.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...s.current})}),c=I.useRef(0),u=I.useCallback(()=>window.clearTimeout(c.current),[]),d=A=>{s.current={x:A.clientX,y:A.clientY},o.onOpenChange(!0)};return I.useEffect(()=>u,[u]),I.useEffect(()=>void(n&&u()),[n,u]),m.jsxs(m.Fragment,{children:[m.jsx(JHe,{...a,virtualRef:l}),m.jsx(Lr.span,{"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,...i,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:Ot(e.onContextMenu,A=>{u(),d(A),A.preventDefault()}),onPointerDown:n?e.onPointerDown:Ot(e.onPointerDown,$1(A=>{u(),c.current=window.setTimeout(()=>d(A),700)})),onPointerMove:n?e.onPointerMove:Ot(e.onPointerMove,$1(u)),onPointerCancel:n?e.onPointerCancel:Ot(e.onPointerCancel,$1(u)),onPointerUp:n?e.onPointerUp:Ot(e.onPointerUp,$1(u))})]})});g3e.displayName=p3e;var w4t="ContextMenuPortal",y8=e=>{const{__scopeContextMenu:t,...r}=e,n=Aa(t);return m.jsx(ZHe,{...n,...r})};y8.displayName=w4t;var m3e="ContextMenuContent",v3e=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=f3e(m3e,r),o=Aa(r),a=I.useRef(!1);return m.jsx(e3e,{...o,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:s=>{var l;(l=e.onCloseAutoFocus)==null||l.call(e,s),!s.defaultPrevented&&a.current&&s.preventDefault(),a.current=!1},onInteractOutside:s=>{var l;(l=e.onInteractOutside)==null||l.call(e,s),!s.defaultPrevented&&!i.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});v3e.displayName=m3e;var b4t="ContextMenuGroup",y3e=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(t3e,{...i,...n,ref:t})});y3e.displayName=b4t;var x4t="ContextMenuLabel",S4t=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(r3e,{...i,...n,ref:t})});S4t.displayName=x4t;var C4t="ContextMenuItem",w3e=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(n3e,{...i,...n,ref:t})});w3e.displayName=C4t;var _4t="ContextMenuCheckboxItem",b3e=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(i3e,{...i,...n,ref:t})});b3e.displayName=_4t;var E4t="ContextMenuRadioGroup",I4t=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(o3e,{...i,...n,ref:t})});I4t.displayName=E4t;var B4t="ContextMenuRadioItem",P4t=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(a3e,{...i,...n,ref:t})});P4t.displayName=B4t;var T4t="ContextMenuItemIndicator",O4t=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(s3e,{...i,...n,ref:t})});O4t.displayName=T4t;var R4t="ContextMenuSeparator",M4t=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(l3e,{...i,...n,ref:t})});M4t.displayName=R4t;var F4t="ContextMenuArrow",k4t=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(c3e,{...i,...n,ref:t})});k4t.displayName=F4t;var U4t="ContextMenuSub",x3e=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,open:i,defaultOpen:o}=e,a=Aa(t),[s,l]=If({prop:i,defaultProp:o,onChange:n});return m.jsx(u3e,{...a,open:s,onOpenChange:l,children:r})};x3e.displayName=U4t;var D4t="ContextMenuSubTrigger",S3e=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(d3e,{...i,...n,ref:t})});S3e.displayName=D4t;var j4t="ContextMenuSubContent",C3e=I.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=Aa(r);return m.jsx(A3e,{...i,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});C3e.displayName=j4t;function $1(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var L4t=h3e,N4t=g3e,$4t=y8,Q4t=v3e,H4t=b3e,w8="DropdownMenu",[q4t,EJt]=Tu(w8,[ZP]),fa=ZP(),[z4t,_3e]=q4t(w8),E3e=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,l=fa(t),c=I.useRef(null),[u=!1,d]=If({prop:i,defaultProp:o,onChange:a});return m.jsx(z4t,{scope:t,triggerId:bd(),triggerRef:c,contentId:bd(),open:u,onOpenChange:d,onOpenToggle:I.useCallback(()=>d(A=>!A),[d]),modal:s,children:m.jsx(XHe,{...l,open:u,onOpenChange:d,dir:n,modal:s,children:r})})};E3e.displayName=w8;var I3e="DropdownMenuTrigger",B3e=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,o=_3e(I3e,r),a=fa(r);return m.jsx(JHe,{asChild:!0,...a,children:m.jsx(Lr.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:HP(t,o.triggerRef),onPointerDown:Ot(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:Ot(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});B3e.displayName=I3e;var K4t="DropdownMenuPortal",P3e=e=>{const{__scopeDropdownMenu:t,...r}=e,n=fa(t);return m.jsx(ZHe,{...n,...r})};P3e.displayName=K4t;var T3e="DropdownMenuContent",O3e=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=_3e(T3e,r),o=fa(r),a=I.useRef(!1);return m.jsx(e3e,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...n,ref:t,onCloseAutoFocus:Ot(e.onCloseAutoFocus,s=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:Ot(e.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O3e.displayName=T3e;var W4t="DropdownMenuGroup",R3e=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(t3e,{...i,...n,ref:t})});R3e.displayName=W4t;var V4t="DropdownMenuLabel",G4t=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(r3e,{...i,...n,ref:t})});G4t.displayName=V4t;var Y4t="DropdownMenuItem",M3e=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(n3e,{...i,...n,ref:t})});M3e.displayName=Y4t;var X4t="DropdownMenuCheckboxItem",F3e=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(i3e,{...i,...n,ref:t})});F3e.displayName=X4t;var J4t="DropdownMenuRadioGroup",Z4t=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(o3e,{...i,...n,ref:t})});Z4t.displayName=J4t;var eQt="DropdownMenuRadioItem",tQt=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(a3e,{...i,...n,ref:t})});tQt.displayName=eQt;var rQt="DropdownMenuItemIndicator",nQt=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(s3e,{...i,...n,ref:t})});nQt.displayName=rQt;var iQt="DropdownMenuSeparator",oQt=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(l3e,{...i,...n,ref:t})});oQt.displayName=iQt;var aQt="DropdownMenuArrow",sQt=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(c3e,{...i,...n,ref:t})});sQt.displayName=aQt;var lQt=e=>{const{__scopeDropdownMenu:t,children:r,open:n,onOpenChange:i,defaultOpen:o}=e,a=fa(t),[s=!1,l]=If({prop:n,defaultProp:o,onChange:i});return m.jsx(u3e,{...a,open:s,onOpenChange:l,children:r})},cQt="DropdownMenuSubTrigger",k3e=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(d3e,{...i,...n,ref:t})});k3e.displayName=cQt;var uQt="DropdownMenuSubContent",U3e=I.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=fa(r);return m.jsx(A3e,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U3e.displayName=uQt;var b8=E3e,x8=B3e,tT=P3e,S8=O3e,dQt=R3e,AQt=M3e,fQt=F3e,hQt=lQt,pQt=k3e,gQt=U3e;function Sn(e,t){var i;const r=new Set;for(const o of t){const a=e.getShape(o);if(!a)continue;e.getShapeUtil(a).onDragShapesOut&&r.add(a);const s=e.getShape(a.parentId);s&&e.getShapeUtil(s).onDragShapesOut&&r.add(s)}const n=new Map;for(const o of r){const a=D3e(e,o);a.length&&n.set(o,a)}for(const[o,a]of n){const s=e.getShapeUtil(o),l=lr(a.map(c=>e.getShape(c)));(i=s.onDragShapesOut)==null||i.call(s,o,l)}}function D3e(e,t){const r=e.getSortedChildIdsForParent(t.id);if(r.length===0)return[];const n=e.getShapePageBounds(t);if(!n)return[];let i,o,a;const s=[];for(const l of r){const c=e.getShapePageBounds(l);if(!c)continue;if(!n.includes(c)){s.push(l);continue}i??(i=e.getShapeGeometry(t)),o??(o=e.getShapePageTransform(t)),a??(a=o.applyToPoints(i.vertices));const u=e.getShapePageTransform(l).clone().invert().applyToPoints(a),{vertices:d,isClosed:A}=e.getShapeGeometry(l);if(!d.some(f=>Is(f,u))){if(A){if(DK(u,d))continue}else if(jkt(u,d))continue;s.push(l)}}return s}function ZE(e,t,r=!1){e.select(t),e.setEditingShape(t),e.setCurrentTool("select.editing_shape",{target:"shape",shape:t}),r&&e.emit("select-all-text",{shapeId:t.id})}function mQt(e,t){const r=lr(t.map(i=>e.getShape(i)).filter(i=>i&&e.isShapeOfType(i,"frame")));if(!r.length)return;const n=[];e.run(()=>{r.map(i=>{const o=e.getSortedChildIdsForParent(i.id);o.length&&(e.reparentShapes(o,i.parentId,i.index),n.push(...o))}),e.setSelectedShapes(n),e.deleteShapes(t)})}const vQt=50;function yQt(e,t,r={}){const n=e.getShape(t);if(!n)return;const i=e.getSortedChildIdsForParent(n.id),o=lr(i.map(f=>e.getShape(f)));if(!o.length)return;const a=st.FromPoints(o.flatMap(f=>{const h=e.getShapeGeometry(f.id);return e.getShapeLocalTransform(f).applyToPoints(h.vertices)})),{padding:s=vQt}=r,l=a.w+2*s,c=a.h+2*s,u=s-a.minX,d=s-a.minY;if(u===0&&d===0&&n.props.w===l&&n.props.h===c)return;const A=new L(u,d).rot(n.rotation);e.run(()=>{const f=i.map(h=>{const p=e.getShape(h);return{id:p.id,type:p.type,x:p.x+u,y:p.y+d}});f.push({id:n.id,type:n.type,x:n.x-A.x,y:n.y-A.y,props:{w:l,h:c}}),e.updateShapes(f)})}const j3e=I.createContext(null);function wQt({assetUrls:e,children:t}){return I.useEffect(()=>{for(const r of Object.values(e.icons)){const n=Lw();n.src=r,n.decode()}for(const r of Object.values(e.embedIcons)){const n=Lw();n.src=r,n.decode()}},[e]),m.jsx(j3e.Provider,{value:e,children:t})}function C8(){const e=I.useContext(j3e);if(!e)throw new Error("useAssetUrls must be used within an AssetUrlsProvider");return e}const v5={"action.convert-to-bookmark":"Convert to Bookmark","action.convert-to-embed":"Convert to Embed","action.open-embed-link":"Open link","action.align-bottom":"Align bottom","action.align-center-horizontal":"Align horizontally","action.align-center-vertical":"Align vertically","action.align-center-horizontal.short":"Align H","action.align-center-vertical.short":"Align V","action.align-left":"Align left","action.align-right":"Align right","action.align-top":"Align top","action.back-to-content":"Back to content","action.bring-forward":"Bring forward","action.bring-to-front":"Bring to front","action.copy-as-png.short":"PNG","action.copy-as-png":"Copy as PNG","action.copy-as-svg.short":"SVG","action.copy-as-svg":"Copy as SVG","action.copy":"Copy","action.cut":"Cut","action.delete":"Delete","action.unlock-all":"Unlock all","action.distribute-horizontal":"Distribute horizontally","action.distribute-vertical":"Distribute vertically","action.distribute-horizontal.short":"Distribute H","action.distribute-vertical.short":"Distribute V","action.duplicate":"Duplicate","action.edit-link":"Edit link","action.exit-pen-mode":"Exit pen mode","action.export-as-png.short":"PNG","action.export-as-png":"Export as PNG","action.export-as-svg.short":"SVG","action.export-as-svg":"Export as SVG","action.export-all-as-png.short":"PNG","action.export-all-as-png":"Export as PNG","action.export-all-as-svg.short":"SVG","action.export-all-as-svg":"Export as SVG","action.fit-frame-to-content":"Fit to content","action.flip-horizontal":"Flip horizontally","action.flip-vertical":"Flip vertically","action.flip-horizontal.short":"Flip H","action.flip-vertical.short":"Flip V","action.fork-project":"Fork this project","action.fork-project-on-tldraw":"Fork project on tldraw","action.group":"Group","action.insert-embed":"Insert embed","action.insert-media":"Upload media","action.leave-shared-project":"Leave shared project","action.new-project":"New project","action.new-shared-project":"New shared project","action.open-cursor-chat":"Cursor chat","action.open-file":"Open file","action.pack":"Pack","action.paste":"Paste","action.paste-error-title":"Pasting failed","action.paste-error-description":"Could not paste due to missing clipboard permissions. Please enable the permissions and try again.","action.print":"Print","action.redo":"Redo","action.remove-frame":"Remove frame","action.rename":"Rename","action.rotate-ccw":"Rotate counterclockwise","action.rotate-cw":"Rotate clockwise","action.save-copy":"Save a copy","action.select-all":"Select all","action.select-none":"Select none","action.send-backward":"Send backward","action.send-to-back":"Send to back","action.share-project":"Share this project","action.stack-horizontal":"Stack horizontally","action.stack-vertical":"Stack vertically","action.stack-horizontal.short":"Stack H","action.stack-vertical.short":"Stack V","action.stop-following":"Stop following","action.stretch-horizontal":"Stretch horizontally","action.stretch-vertical":"Stretch vertically","action.stretch-horizontal.short":"Stretch H","action.stretch-vertical.short":"Stretch V","action.toggle-auto-size":"Toggle auto size","action.toggle-dark-mode.menu":"Dark mode","action.toggle-dark-mode":"Toggle dark mode","action.toggle-paste-at-cursor.menu":"Paste at cursor","action.toggle-paste-at-cursor":"Toggle paste at cursor","action.toggle-wrap-mode.menu":"Select on wrap","action.toggle-wrap-mode":"Toggle Select on wrap","action.toggle-reduce-motion.menu":"Reduce motion","action.toggle-reduce-motion":"Toggle reduce motion","action.toggle-edge-scrolling.menu":"Edge scrolling","action.toggle-edge-scrolling":"Toggle edge scrolling","action.toggle-debug-mode.menu":"Debug mode","action.toggle-debug-mode":"Toggle debug mode","action.toggle-focus-mode.menu":"Focus mode","action.toggle-focus-mode":"Toggle focus mode","action.toggle-dynamic-size-mode.menu":"Dynamic size","action.toggle-dynamic-size-mode":"Toggle dynamic size","action.toggle-grid.menu":"Show grid","action.toggle-grid":"Toggle grid","action.toggle-lock":"Toggle locked","action.flatten-to-image":"Flatten","action.toggle-snap-mode.menu":"Always snap","action.toggle-snap-mode":"Toggle always snap","action.toggle-tool-lock.menu":"Tool lock","action.toggle-tool-lock":"Toggle tool lock","action.toggle-transparent.context-menu":"Transparent","action.toggle-transparent.menu":"Transparent","action.toggle-transparent":"Toggle transparent background","action.undo":"Undo","action.ungroup":"Ungroup","action.zoom-in":"Zoom in","action.zoom-out":"Zoom out","action.zoom-to-100":"Zoom to 100%","action.zoom-to-fit":"Zoom to fit","action.zoom-to-selection":"Zoom to selection","assets.files.size-too-big":"File size is too big","assets.files.type-not-allowed":"File type is not allowed","assets.files.upload-failed":"Upload failed","assets.files.amount-too-many":"Too many files","assets.url.failed":"Couldnt load URL preview","theme.dark":"Dark","theme.light":"Light","theme.system":"System","color-style.white":"White","color-style.black":"Black","color-style.blue":"Blue","color-style.green":"Green","color-style.grey":"Grey","color-style.light-blue":"Light blue","color-style.light-green":"Light green","color-style.light-red":"Light red","color-style.light-violet":"Light violet","color-style.orange":"Orange","color-style.red":"Red","color-style.violet":"Violet","color-style.yellow":"Yellow","fill-style.none":"None","document.default-name":"Untitled","fill-style.semi":"Semi","fill-style.solid":"Solid","fill-style.pattern":"Pattern","fill-style.fill":"Fill","dash-style.dashed":"Dashed","dash-style.dotted":"Dotted","dash-style.draw":"Draw","dash-style.solid":"Solid","size-style.s":"Small","size-style.m":"Medium","size-style.l":"Large","size-style.xl":"Extra large","opacity-style.0.1":"10%","opacity-style.0.25":"25%","opacity-style.0.5":"50%","opacity-style.0.75":"75%","opacity-style.1":"100%","font-style.draw":"Draw","font-style.sans":"Sans","font-style.serif":"Serif","font-style.mono":"Mono","align-style.start":"Start","align-style.middle":"Middle","align-style.end":"End","align-style.justify":"Justify","verticalAlign-style.start":"Top","verticalAlign-style.middle":"Middle","verticalAlign-style.end":"Bottom","geo-style.arrow-down":"Arrow down","geo-style.arrow-left":"Arrow left","geo-style.arrow-right":"Arrow right","geo-style.arrow-up":"Arrow up","geo-style.diamond":"Diamond","geo-style.ellipse":"Ellipse","geo-style.hexagon":"Hexagon","geo-style.octagon":"Octagon","geo-style.oval":"Oval","geo-style.cloud":"Cloud","geo-style.pentagon":"Pentagon","geo-style.rectangle":"Rectangle","geo-style.rhombus-2":"Rhombus 2","geo-style.rhombus":"Rhombus","geo-style.star":"Star","geo-style.trapezoid":"Trapezoid","geo-style.triangle":"Triangle","geo-style.x-box":"X box","geo-style.check-box":"Check box","arrowheadStart-style.none":"None","arrowheadStart-style.arrow":"Arrow","arrowheadStart-style.bar":"Bar","arrowheadStart-style.diamond":"Diamond","arrowheadStart-style.dot":"Dot","arrowheadStart-style.inverted":"Inverted","arrowheadStart-style.pipe":"Pipe","arrowheadStart-style.square":"Square","arrowheadStart-style.triangle":"Triangle","arrowheadEnd-style.none":"None","arrowheadEnd-style.arrow":"Arrow","arrowheadEnd-style.bar":"Bar","arrowheadEnd-style.diamond":"Diamond","arrowheadEnd-style.dot":"Dot","arrowheadEnd-style.inverted":"Inverted","arrowheadEnd-style.pipe":"Pipe","arrowheadEnd-style.square":"Square","arrowheadEnd-style.triangle":"Triangle","spline-style.line":"Line","spline-style.cubic":"Cubic","tool.select":"Select","tool.hand":"Hand","tool.draw":"Draw","tool.eraser":"Eraser","tool.arrow-down":"Arrow down","tool.arrow-left":"Arrow left","tool.arrow-right":"Arrow right","tool.arrow-up":"Arrow up","tool.arrow":"Arrow","tool.cloud":"Cloud","tool.diamond":"Diamond","tool.ellipse":"Ellipse","tool.hexagon":"Hexagon","tool.highlight":"Highlight","tool.line":"Line","tool.octagon":"Octagon","tool.oval":"Oval","tool.pentagon":"Pentagon","tool.rectangle":"Rectangle","tool.rhombus":"Rhombus","tool.star":"Star","tool.trapezoid":"Trapezoid","tool.triangle":"Triangle","tool.x-box":"X box","tool.check-box":"Check box","tool.asset":"Asset","tool.frame":"Frame","tool.note":"Note","tool.laser":"Laser","tool.embed":"Embed","tool.text":"Text","tool.pointer-down":"Pointer down","menu.title":"Menu","menu.theme":"Theme","menu.copy-as":"Copy as","menu.edit":"Edit","menu.export-as":"Export as","menu.file":"File","menu.language":"Language","menu.preferences":"Preferences","menu.view":"View","context-menu.edit":"Edit","context-menu.arrange":"Arrange","context-menu.copy-as":"Copy as","context-menu.export-as":"Export as","context-menu.export-all-as":"Export","context-menu.move-to-page":"Move to page","context-menu.reorder":"Reorder","page-menu.title":"Pages","page-menu.create-new-page":"Create new page","page-menu.max-page-count-reached":"Max pages reached","page-menu.new-page-initial-name":"Page 1","page-menu.edit-start":"Edit","page-menu.edit-done":"Done","page-menu.go-to-page":"Go to page","page-menu.submenu.rename":"Rename","page-menu.submenu.duplicate-page":"Duplicate","page-menu.submenu.title":"Menu","page-menu.submenu.move-down":"Move down","page-menu.submenu.move-up":"Move up","page-menu.submenu.delete":"Delete","share-menu.title":"Share","share-menu.save-note":"Download this project to your computer as a .tldr file.","share-menu.fork-note":"Create a new shared project based on this snapshot.","share-menu.share-project":"Share this project","share-menu.copy-link":"Copy editor link","share-menu.create-snapshot-link":"Copy snapshot link","share-menu.snapshot-link-note":"Capture and share this project as a read-only snapshot link.","share-menu.copy-readonly-link":"Copy viewer link","share-menu.offline-note":"Create a new shared project based on your current project.","share-menu.copy-link-note":"Anyone with the link will be able to view and edit this project.","share-menu.copy-readonly-link-note":"Anyone with the link will be able to access this project.","share-menu.project-too-large":"Sorry, this project cant be shared because its too large. Were working on it!","share-menu.upload-failed":"Sorry, we couldnt upload your project at the moment. Please try again or let us know if the problem persists.","share-menu.creating-project":"Creating the new project","share-menu.copied":"Copied link","document-name-menu.copy-link":"Copy link","status.offline":"Offline","people-menu.title":"People","people-menu.change-name":"Change name","people-menu.change-color":"Change color","people-menu.follow":"Following","people-menu.following":"Following","people-menu.leading":"Following You","people-menu.user":"(You)","people-menu.invite":"Invite others","help-menu.import-tldr-file":"Import file","help-menu.title":"Help and resources","help-menu.about":"About tldraw","help-menu.discord":"Discord","help-menu.github":"GitHub","help-menu.keyboard-shortcuts":"Keyboard shortcuts","help-menu.twitter":"Twitter","help-menu.terms":"Terms of service","help-menu.privacy":"Privacy policy","actions-menu.title":"Actions","edit-link-dialog.title":"Edit link","edit-link-dialog.invalid-url":"A link must be a valid URL.","edit-link-dialog.detail":"Links will open in a new tab.","edit-link-dialog.url":"URL","edit-link-dialog.clear":"Clear","edit-link-dialog.save":"Continue","edit-link-dialog.cancel":"Cancel","embed-dialog.title":"Insert embed","embed-dialog.back":"Back","embed-dialog.create":"Create","embed-dialog.cancel":"Cancel","embed-dialog.url":"URL","embed-dialog.instruction":"Paste in the sites URL to create the embed.","embed-dialog.invalid-url":"We could not create an embed from that URL.","shortcuts-dialog.title":"Keyboard shortcuts","shortcuts-dialog.edit":"Edit","shortcuts-dialog.file":"File","shortcuts-dialog.preferences":"Preferences","shortcuts-dialog.tools":"Tools","shortcuts-dialog.transform":"Transform","shortcuts-dialog.view":"View","shortcuts-dialog.collaboration":"Collaboration","style-panel.title":"Styles","style-panel.align":"Align","style-panel.label-align":"Label align","style-panel.vertical-align":"Vertical align","style-panel.position":"Position","style-panel.arrowheads":"Arrows","style-panel.arrowhead-start":"Start","style-panel.arrowhead-end":"End","style-panel.color":"Color","style-panel.dash":"Dash","style-panel.fill":"Fill","style-panel.font":"Font","style-panel.geo":"Shape","style-panel.mixed":"Mixed","style-panel.opacity":"Opacity","style-panel.size":"Size","style-panel.spline":"Spline","tool-panel.more":"More","navigation-zone.toggle-minimap":"Toggle minimap","navigation-zone.zoom":"Zoom","focus-mode.toggle-focus-mode":"Toggle focus mode","toast.close":"Close","file-system.file-open-error.title":"Could not open file","file-system.file-open-error.not-a-tldraw-file":"The file you tried to open doesnt look like a tldraw file.","file-system.file-open-error.file-format-version-too-new":"The file you tried to open is from a newer version of tldraw. Please reload the page and try again.","file-system.file-open-error.generic-corrupted-file":"The file you tried to open is corrupted.","file-system.confirm-open.title":"Overwrite current project?","file-system.confirm-open.description":"Opening a file will replace your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-open.cancel":"Cancel","file-system.confirm-open.open":"Open file","file-system.confirm-open.dont-show-again":"Dont ask again","file-system.confirm-clear.title":"Clear current project?","file-system.confirm-clear.description":"Creating a new project will clear your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-clear.cancel":"Cancel","file-system.confirm-clear.continue":"Continue","file-system.confirm-clear.dont-show-again":"Dont ask again","file-system.shared-document-file-open-error.title":"Could not open file","file-system.shared-document-file-open-error.description":"Opening files from shared projects is not supported.","sharing.confirm-leave.title":"Leave current project?","sharing.confirm-leave.description":"Are you sure you want to leave this shared project? You can return to it by navigating to its URL.","sharing.confirm-leave.cancel":"Cancel","sharing.confirm-leave.leave":"Leave","sharing.confirm-leave.dont-show-again":"Dont ask again","toast.error.export-fail.title":"Failed export","toast.error.export-fail.desc":"Failed to export image","toast.error.copy-fail.title":"Failed copy","toast.error.copy-fail.desc":"Failed to copy image","context.pages.new-page":"New page","vscode.file-open.desc":"Weve updated this document to work with the current version of tldraw. If youd like to keep the original version (which will work on old.tldraw.com), click below to create a backup.","vscode.file-open.open":"Continue","vscode.file-open.backup":"Backup","vscode.file-open.backup-saved":"Backup saved","vscode.file-open.backup-failed":"Backup failed: this is not a .tldr file.","vscode.file-open.dont-show-again":"Dont ask again","cursor-chat.type-to-chat":"Type to chat"},bQt=new Set(["ar","fa","he","ur","ku"]),pg={locale:"en",label:"English",messages:v5,dir:"ltr"};async function xQt(e,t){if(!(await lu(t.translations.en)).ok)return console.warn("No main translations found."),pg;if(e==="en")return pg;const n=Hw.find(a=>a.locale===e);if(!n)return console.warn(`No translation found for locale ${e}`),pg;const o=await(await lu(t.translations[n.locale])).json();if(!o)return console.warn(`No messages found for locale ${e}`),pg;for(const a in pg.messages)o[a];return{locale:e,label:n.label,dir:bQt.has(n.locale)?"rtl":"ltr",messages:{...pg.messages,...o}}}const L3e=I.createContext(null);function N3e(){const e=I.useContext(L3e);if(!e)throw new Error("useCurrentTranslation must be used inside of <TldrawUiContextProvider />");return e}function SQt({overrides:e,locale:t,children:r}){const n=C8(),[i,o]=I.useState(()=>e&&e.en?{locale:"en",label:"English",dir:"ltr",messages:{...v5,...e.en}}:{locale:"en",label:"English",dir:"ltr",messages:v5});return I.useEffect(()=>{let a=!1;async function s(){const l=await xQt(t,n);l&&!a&&(e&&e[t]?o({...l,messages:{...l.messages,...e[t]}}):o(l))}return s(),()=>{a=!0}},[n,t,e]),m.jsx(L3e.Provider,{value:i,children:r})}function Or(){const e=N3e();return I.useCallback(function(r){return e.messages[r]??r},[e])}const Qt=I.forwardRef(function({children:t,type:r,...n},i){return m.jsx("button",{ref:i,type:"button",draggable:!1,...n,className:jt("tlui-button",`tlui-button__${r}`,n.className),children:t})});function Si({children:e}){return m.jsx("span",{className:"tlui-button__label",children:e})}var _8="Dialog",[$3e,IJt]=Tu(_8),[CQt,Sc]=$3e(_8),Q3e=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=I.useRef(null),l=I.useRef(null),[c=!1,u]=If({prop:n,defaultProp:i,onChange:o});return m.jsx(CQt,{scope:t,triggerRef:s,contentRef:l,contentId:bd(),titleId:bd(),descriptionId:bd(),open:c,onOpenChange:u,onOpenToggle:I.useCallback(()=>u(d=>!d),[u]),modal:a,children:r})};Q3e.displayName=_8;var H3e="DialogTrigger",_Qt=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Sc(H3e,r),o=In(t,i.triggerRef);return m.jsx(Lr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":B8(i.open),...n,ref:o,onClick:Ot(e.onClick,i.onOpenToggle)})});_Qt.displayName=H3e;var E8="DialogPortal",[EQt,q3e]=$3e(E8,{forceMount:void 0}),z3e=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=Sc(E8,t);return m.jsx(EQt,{scope:t,forceMount:r,children:I.Children.map(n,a=>m.jsx(xc,{present:r||o.open,children:m.jsx(Ax,{asChild:!0,container:i,children:a})}))})};z3e.displayName=E8;var eI="DialogOverlay",K3e=I.forwardRef((e,t)=>{const r=q3e(eI,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=Sc(eI,e.__scopeDialog);return o.modal?m.jsx(xc,{present:n||o.open,children:m.jsx(IQt,{...i,ref:t})}):null});K3e.displayName=eI;var IQt=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Sc(eI,r);return m.jsx(JP,{as:jh,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Lr.div,{"data-state":B8(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Nh="DialogContent",W3e=I.forwardRef((e,t)=>{const r=q3e(Nh,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=Sc(Nh,e.__scopeDialog);return m.jsx(xc,{present:n||o.open,children:o.modal?m.jsx(BQt,{...i,ref:t}):m.jsx(PQt,{...i,ref:t})})});W3e.displayName=Nh;var BQt=I.forwardRef((e,t)=>{const r=Sc(Nh,e.__scopeDialog),n=I.useRef(null),i=In(t,r.contentRef,n);return I.useEffect(()=>{const o=n.current;if(o)return c8(o)},[]),m.jsx(V3e,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ot(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:Ot(e.onFocusOutside,o=>o.preventDefault())})}),PQt=I.forwardRef((e,t)=>{const r=Sc(Nh,e.__scopeDialog),n=I.useRef(!1),i=I.useRef(!1);return m.jsx(V3e,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),V3e=I.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=Sc(Nh,r),l=I.useRef(null),c=In(t,l);return XK(),m.jsxs(m.Fragment,{children:[m.jsx(zP,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:m.jsx(ux,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":B8(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(OQt,{titleId:s.titleId}),m.jsx(MQt,{contentRef:l,descriptionId:s.descriptionId})]})]})}),I8="DialogTitle",G3e=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Sc(I8,r);return m.jsx(Lr.h2,{id:i.titleId,...n,ref:t})});G3e.displayName=I8;var Y3e="DialogDescription",TQt=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Sc(Y3e,r);return m.jsx(Lr.p,{id:i.descriptionId,...n,ref:t})});TQt.displayName=Y3e;var X3e="DialogClose",J3e=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Sc(X3e,r);return m.jsx(Lr.button,{type:"button",...n,ref:t,onClick:Ot(e.onClick,()=>i.onOpenChange(!1))})});J3e.displayName=X3e;function B8(e){return e?"open":"closed"}var Z3e="DialogTitleWarning",[BJt,e5e]=fLt(Z3e,{contentName:Nh,titleName:I8,docsSlug:"dialog"}),OQt=({titleId:e})=>{const t=e5e(Z3e),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return I.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},RQt="DialogDescriptionWarning",MQt=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e5e(RQt).contentName}}.`;return I.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},FQt=Q3e,kQt=z3e,UQt=K3e,DQt=W3e,jQt=G3e;const fu=I.memo(function({small:t,invertIcon:r,icon:n,color:i,className:o,...a}){const s=C8(),l=s.icons[n]??s.icons["question-mark-circle"],c=I.useRef(null);return I.useLayoutEffect(()=>{l||console.error(`Icon not found: ${n}. Add it to the assetUrls.icons object.`),c!=null&&c.current&&(c.current.style.webkitMask=`url(${l}) center 100% / 100% no-repeat`)},[c,l,n]),n==="none"?m.jsx("div",{className:jt("tlui-icon tlui-icon__placeholder",{"tlui-icon__small":t},o)}):m.jsx("div",{...a,ref:c,className:jt("tlui-icon",{"tlui-icon__small":t},o),style:{color:i,mask:`url(${l}) center 100% / 100% no-repeat`,transform:r?"scale(-1, 1)":void 0}})});function _r({icon:e,small:t,invertIcon:r}){return m.jsx(fu,{className:"tlui-button__icon",icon:e,small:t,invertIcon:r})}function rT({className:e,children:t}){return m.jsx("div",{className:jt("tlui-dialog__header",e),children:t})}function nT({className:e,children:t,style:r}){return m.jsx(jQt,{dir:"ltr",className:jt("tlui-dialog__header__title",e),style:r,children:t})}function iT(){return m.jsx("div",{className:"tlui-dialog__header__close",children:m.jsx(J3e,{"data-testid":"dialog.close",dir:"ltr",asChild:!0,children:m.jsx(Qt,{type:"icon","aria-label":"Close",onTouchEnd:e=>e.target.click(),children:m.jsx(_r,{small:!0,icon:"cross-2"})})})})}function Gw({className:e,children:t,style:r}){return m.jsx("div",{className:jt("tlui-dialog__body",e),style:r,children:t})}function P8({className:e,children:t}){return m.jsx("div",{className:jt("tlui-dialog__footer",e),children:t})}const oT=I.forwardRef(function({className:t,label:r,icon:n,iconLeft:i,autoSelect:o=!1,autoFocus:a=!1,defaultValue:s,placeholder:l,onComplete:c,onValueChange:u,onCancel:d,onFocus:A,onBlur:f,shouldManuallyMaintainScrollPositionWhenFocused:h=!1,children:p,value:v,"data-testid":y},b){const x=yf(),S=I.useRef(null);I.useImperativeHandle(b,()=>S.current);const C=Or(),_=I.useRef(s??""),B=I.useRef(s??""),[T,O]=I.useState(!1),P=I.useCallback(M=>{O(!0);const D=M.currentTarget;B.current=D.value,x?x.timers.requestAnimationFrame(()=>{o&&D.select()}):i5.requestAnimationFrame("anon",()=>{o&&D.select()}),A==null||A()},[o,x,A]),F=I.useCallback(M=>{const D=M.currentTarget.value;B.current=D,u==null||u(D)},[u]),U=I.useCallback(M=>{switch(M.key){case"Enter":{M.currentTarget.blur(),Ei(M),c==null||c(M.currentTarget.value);break}case"Escape":{M.currentTarget.value=_.current,d==null||d(M.currentTarget.value),M.currentTarget.blur(),Ei(M);break}}},[c,d]),k=I.useCallback(M=>{O(!1);const D=M.currentTarget.value;f==null||f(D)},[f]);return I.useEffect(()=>{if(!an.isIos)return;const M=window.visualViewport;if(T&&h&&M){const D=()=>{var j;(j=S.current)==null||j.scrollIntoView({block:"center"})};return M.addEventListener("resize",D),M.addEventListener("scroll",D),x?x.timers.requestAnimationFrame(()=>{var j;(j=S.current)==null||j.scrollIntoView({block:"center"})}):i5.requestAnimationFrame("anon",()=>{var j;(j=S.current)==null||j.scrollIntoView({block:"center"})}),()=>{M.removeEventListener("resize",D),M.removeEventListener("scroll",D)}}},[T,x,h]),m.jsxs("div",{draggable:!1,className:"tlui-input__wrapper",children:[p,r&&m.jsx("label",{children:C(r)}),i&&m.jsx(fu,{icon:i,className:"tlui-icon-left",small:!0}),m.jsx("input",{ref:S,className:jt("tlui-input",t),type:"text",defaultValue:s,onKeyDownCapture:U,onChange:F,onFocus:P,onBlur:k,autoFocus:a,placeholder:l,value:v,"data-testid":y}),n&&m.jsx(fu,{icon:n,small:!!r})]})});function EBe(e){return Ts.isValid(e)?{isValid:!0,hasProtocol:!0}:Ts.isValid("https://"+e)?{isValid:!0,hasProtocol:!1}:{isValid:!1,hasProtocol:!1}}const LQt=Ro(function({onClose:t}){const n=Ee().getOnlySelectedShape();return n&&"url"in n.props&&typeof n.props.url=="string"?m.jsx(NQt,{onClose:t,selectedShape:n}):null}),NQt=Ro(function({onClose:t,selectedShape:r}){const n=Ee(),i=Or(),o=I.useRef(null);I.useEffect(()=>{n.timers.requestAnimationFrame(()=>{var h;return(h=o.current)==null?void 0:h.focus()})},[n]);const a=I.useRef(r.props.url),[s,l]=I.useState(()=>{const h=EBe(r.props.url),p=h.isValid===!0?h.hasProtocol?r.props.url:"https://"+r.props.url:"https://";return{actual:p,safe:p,valid:!0}}),c=I.useCallback(h=>{const p=h.replace(/https?:\/\/(https?:\/\/)/,(b,x)=>x),v=EBe(p),y=v.isValid===!0?v.hasProtocol?p:"https://"+p:"https://";l({actual:p,safe:y,valid:v.isValid})},[]),u=I.useCallback(()=>{const h=n.getOnlySelectedShape();h&&(n.updateShapes([{id:h.id,type:h.type,props:{url:""}}]),t())},[n,t]),d=I.useCallback(()=>{const h=n.getOnlySelectedShape();h&&(h&&"url"in h.props&&h.props.url!==s.safe&&n.updateShapes([{id:h.id,type:h.type,props:{url:s.safe}}]),t())},[n,t,s]),A=I.useCallback(()=>{t()},[t]);if(!r)return t(),null;const f=a.current&&!s.valid;return m.jsxs(m.Fragment,{children:[m.jsxs(rT,{children:[m.jsx(nT,{children:i("edit-link-dialog.title")}),m.jsx(iT,{})]}),m.jsx(Gw,{children:m.jsxs("div",{className:"tlui-edit-link-dialog",children:[m.jsx(oT,{ref:o,className:"tlui-edit-link-dialog__input",label:"edit-link-dialog.url",autoFocus:!0,value:s.actual,onValueChange:c,onComplete:d,onCancel:A}),m.jsx("div",{children:s.valid?i("edit-link-dialog.detail"):i("edit-link-dialog.invalid-url")})]})}),m.jsxs(P8,{className:"tlui-dialog__footer__actions",children:[m.jsx(Qt,{type:"normal",onClick:A,onTouchEnd:A,children:m.jsx(Si,{children:i("edit-link-dialog.cancel")})}),f?m.jsx(Qt,{type:"danger",onTouchEnd:u,onClick:u,children:m.jsx(Si,{children:i("edit-link-dialog.clear")})}):m.jsx(Qt,{type:"primary",disabled:!s.valid,onTouchEnd:d,onClick:d,children:m.jsx(Si,{children:i("edit-link-dialog.save")})})]})]})});var $Qt={};const IBe=/(^\/r\/[^/]+\/?$)/,T8=[{type:"tldraw",title:"tldraw",hostnames:["beta.tldraw.com","tldraw.com","localhost:3000"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,overridePermissions:{"allow-top-navigation":!0},toEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(IBe))return e},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(IBe))return e}},{type:"figma",title:"Figma",hostnames:["figma.com"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{if(e.match(/https:\/\/([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/)&&!e.includes("figma.com/embed"))return`https://www.figma.com/embed?embed_host=share&url=${e}`},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/embed\/?$/)){const r=t.searchParams.get("url");if(r)return r}}},{type:"google_maps",title:"Google Maps",hostnames:["google.*"],width:720,height:500,doesResize:!0,overridePermissions:{"allow-presentation":!0},toEmbedUrl:e=>{if(e.includes("/maps/embed?"))return e;if(e.includes("/maps/")){const t=e.match(/@(.*?),(.*?),(.*?)z/);let r;if(t){const[,n,i,o]=t;r=`https://${new URL(e).host.replace("www.","")}/maps/embed/v1/view?key=${$Qt.NEXT_PUBLIC_GC_API_KEY}&center=${n},${i}&zoom=${o}`}else r="";return r}},fromEmbedUrl:e=>{const t=Zt(e);if(!t)return;if(t.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&t.searchParams.has("center")&&t.searchParams.get("zoom")){const n=t.searchParams.get("zoom"),[i,o]=t.searchParams.get("center").split(",");return`https://www.google.com/maps/@${i},${o},${n}z`}}},{type:"val_town",title:"Val Town",hostnames:["val.town"],minWidth:260,minHeight:100,width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Zt(e),r=t&&t.pathname.match(/\/v\/(.+)\/?/);if(r)return`https://www.val.town/embed/${r[1]}`},fromEmbedUrl:e=>{const t=Zt(e),r=t&&t.pathname.match(/\/embed\/(.+)\/?/);if(r)return`https://www.val.town/v/${r[1]}`}},{type:"codesandbox",title:"CodeSandbox",hostnames:["codesandbox.io"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Zt(e),r=t&&t.pathname.match(/\/s\/([^/]+)\/?/);if(r)return`https://codesandbox.io/embed/${r[1]}`},fromEmbedUrl:e=>{const t=Zt(e),r=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(r)return`https://codesandbox.io/s/${r[1]}`}},{type:"codepen",title:"Codepen",hostnames:["codepen.io"],minWidth:300,minHeight:300,width:520,height:400,doesResize:!0,toEmbedUrl:e=>{const t=/https:\/\/codepen.io\/([^/]+)\/pen\/([^/]+)/,r=e.match(t);if(r){const[n,i,o]=r;return`https://codepen.io/${i}/embed/${o}`}},fromEmbedUrl:e=>{const t=/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/,r=e.match(t);if(r){const[n,i,o]=r;return`https://codepen.io/${i}/pen/${o}`}}},{type:"scratch",title:"Scratch",hostnames:["scratch.mit.edu"],width:520,height:400,doesResize:!1,toEmbedUrl:e=>{const t=/https?:\/\/scratch.mit.edu\/projects\/([^/]+)/,r=e.match(t);if(r){const[n,i]=r;return`https://scratch.mit.edu/projects/embed/${i}`}},fromEmbedUrl:e=>{const t=/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/,r=e.match(t);if(r){const[n,i]=r;return`https://scratch.mit.edu/projects/${i}`}}},{type:"youtube",title:"YouTube",hostnames:["*.youtube.com","youtube.com","youtu.be"],width:800,height:450,doesResize:!0,overridePermissions:{"allow-presentation":!0,"allow-popups-to-escape-sandbox":!0},isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=Zt(e);if(!t)return;const r=t.hostname.replace(/^www./,"");if(r==="youtu.be")return`https://www.youtube.com/embed/${t.pathname.split("/").filter(Boolean)[0]}`;if((r==="youtube.com"||r==="m.youtube.com")&&t.pathname.match(/^\/watch/))return`https://www.youtube.com/embed/${t.searchParams.get("v")}`},fromEmbedUrl:e=>{const t=Zt(e);if(!t)return;if(t.hostname.replace(/^www./,"")==="youtube.com"){const n=t.pathname.match(/^\/embed\/([^/]+)\/?/);if(n)return`https://www.youtube.com/watch?v=${n[1]}`}}},{type:"google_calendar",title:"Google Calendar",hostnames:["calendar.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,instructionLink:"https://support.google.com/calendar/answer/41207?hl=en",overridePermissions:{"allow-popups-to-escape-sandbox":!0},toEmbedUrl:e=>{const t=Zt(e),r=t==null?void 0:t.searchParams.get("cid");if(t!=null&&t.pathname.match(/\/calendar\/u\/0/)&&r){t.pathname="/calendar/embed";const n=Array.from(t.searchParams.keys());for(const i of n)t.searchParams.delete(i);return t.searchParams.set("src",r),t.href}},fromEmbedUrl:e=>{const t=Zt(e),r=t==null?void 0:t.searchParams.get("src");if(t!=null&&t.pathname.match(/\/calendar\/embed/)&&r){t.pathname="/calendar/u/0";const n=Array.from(t.searchParams.keys());for(const i of n)t.searchParams.delete(i);return t.searchParams.set("cid",r),t.href}}},{type:"google_slides",title:"Google Slides",hostnames:["docs.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,overridePermissions:{"allow-popups-to-escape-sandbox":!0},toEmbedUrl:e=>{const t=Zt(e);if(t!=null&&t.pathname.match(/^\/presentation/)&&(t!=null&&t.pathname.match(/\/pub\/?$/))){t.pathname=t.pathname.replace(/\/pub$/,"/embed");const r=Array.from(t.searchParams.keys());for(const n of r)t.searchParams.delete(n);return t.href}},fromEmbedUrl:e=>{const t=Zt(e);if(t!=null&&t.pathname.match(/^\/presentation/)&&(t!=null&&t.pathname.match(/\/embed\/?$/))){t.pathname=t.pathname.replace(/\/embed$/,"/pub");const r=Array.from(t.searchParams.keys());for(const n of r)t.searchParams.delete(n);return t.href}}},{type:"github_gist",title:"GitHub Gist",hostnames:["gist.github.com"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/\/([^/]+)\/([0-9a-f]+)$/))return e.split("/").pop()?e:void 0},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/\/([^/]+)\/([0-9a-f]+)$/))return e.split("/").pop()?e:void 0}},{type:"replit",title:"Replit",hostnames:["replit.com"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/))return`${e}?embed=true`},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/)&&t.searchParams.has("embed"))return t.searchParams.delete("embed"),t.href}},{type:"felt",title:"Felt",hostnames:["felt.com"],width:720,height:500,doesResize:!0,toEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/map\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/embed\/map\//))return t.pathname=t.pathname.replace(/^\/embed/,""),t.href}},{type:"spotify",title:"Spotify",hostnames:["open.spotify.com"],width:720,height:500,minHeight:500,overrideOutlineRadius:12,doesResize:!0,toEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/(artist|album)\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/embed\/(artist|album)\//))return t.origin+t.pathname.replace(/^\/embed/,"")}},{type:"vimeo",title:"Vimeo",hostnames:["vimeo.com","player.vimeo.com"],width:640,height:360,doesResize:!0,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=Zt(e);if(t&&t.hostname==="vimeo.com"&&t.pathname.match(/^\/[0-9]+/))return"https://player.vimeo.com/video/"+t.pathname.split("/")[1]+"?title=0&byline=0"},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.hostname==="player.vimeo.com"){const r=t.pathname.match(/^\/video\/([^/]+)\/?$/);if(r)return"https://vimeo.com/"+r[1]}}},{type:"excalidraw",title:"Excalidraw",hostnames:["excalidraw.com"],width:720,height:500,doesResize:!0,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=Zt(e);if(t&&t.hash.match(/#room=/))return e},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.hash.match(/#room=/))return e}},{type:"observable",title:"Observable",hostnames:["observablehq.com"],width:720,height:500,doesResize:!0,isAspectRatioLocked:!1,backgroundColor:"#fff",toEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}/embed${t.pathname}?cell=*`;if(t&&t.pathname.match(/^\/d\/([^/]+)\/?$/)){const r=t.pathname.replace(/^\/d/,"");return`${t.origin}/embed${r}?cell=*`}},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}${t.pathname.replace("/embed","")}#cell-*`;if(t&&t.pathname.match(/^\/embed\/([^/]+)\/?$/))return`${t.origin}${t.pathname.replace("/embed","/d")}#cell-*`}},{type:"desmos",title:"Desmos",hostnames:["desmos.com"],width:700,height:450,doesResize:!0,toEmbedUrl:e=>{const t=Zt(e);if(t&&t.hostname==="www.desmos.com"&&t.pathname.match(/^\/calculator\/([^/]+)\/?$/)&&t.search===""&&t.hash==="")return`${e}?embed`},fromEmbedUrl:e=>{const t=Zt(e);if(t&&t.hostname==="www.desmos.com"&&t.pathname.match(/^\/calculator\/([^/]+)\/?$/)&&t.search==="?embed"&&t.hash==="")return e.replace("?embed","")}}],QQt={"allow-downloads-without-user-activation":!1,"allow-downloads":!1,"allow-modals":!1,"allow-orientation-lock":!1,"allow-pointer-lock":!1,"allow-popups":!0,"allow-popups-to-escape-sandbox":!1,"allow-presentation":!1,"allow-storage-access-by-user-activation":!1,"allow-top-navigation":!1,"allow-top-navigation-by-user-activation":!1,"allow-scripts":!0,"allow-same-origin":!0,"allow-forms":!0},HQt=T8.map(e=>e.type);function qQt(e){return HQt.includes(e)}function zQt(e){return"icon"in e}function t5e(){const e=Ee();if(e.hasShapeUtil("embed"))return e.getShapeUtil("embed")}function O8(){const e=t5e();return t=>e?e.getEmbedDefinition(t):void 0}function KQt(){const e=t5e();return e?e.getEmbedDefinitions():[]}const r5e=Ro(function({onClose:t}){const r=Ee(),n=Or(),i=C8(),[o,a]=I.useState(null),[s,l]=I.useState(""),[c,u]=I.useState(null),[d,A]=I.useState(!1),f=I.useRef(-1),h=KQt(),p=O8();return m.jsxs(m.Fragment,{children:[m.jsxs(rT,{children:[m.jsx(nT,{children:o?`${n("embed-dialog.title")}  ${o.title}`:n("embed-dialog.title")}),m.jsx(iT,{})]}),o?m.jsxs(m.Fragment,{children:[m.jsxs(Gw,{className:"tlui-embed-dialog__enter",children:[m.jsx(oT,{className:"tlui-embed-dialog__input",label:"embed-dialog.url",placeholder:"https://example.com",autoFocus:!0,onValueChange:v=>{l(v);const y=p(v);u(y&&y.definition.type===o.type?y:null),A(!1),clearTimeout(f.current),f.current=r.timers.setTimeout(()=>A(!y),320)}}),s===""?m.jsxs("div",{className:"tlui-embed-dialog__instruction",children:[m.jsx("span",{children:n("embed-dialog.instruction")})," ",o.instructionLink&&m.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:o.instructionLink,className:"tlui-embed-dialog__instruction__link",children:["Learn more.",m.jsx(fu,{icon:"external-link",small:!0})]})]}):m.jsx("div",{className:"tlui-embed-dialog__warning",children:d?n("embed-dialog.invalid-url"):""})]}),m.jsxs(P8,{className:"tlui-dialog__footer__actions",children:[m.jsx(Qt,{type:"normal",onClick:()=>{a(null),u(null),l("")},children:m.jsx(Si,{children:n("embed-dialog.back")})}),m.jsx("div",{className:"tlui-embed__spacer"}),m.jsx(Qt,{type:"normal",onClick:t,children:m.jsx(Si,{children:n("embed-dialog.cancel")})}),m.jsx(Qt,{type:"primary",disabled:!c,onClick:()=>{c&&(r.putExternalContent({type:"embed",url:s,point:r.getViewportPageBounds().center,embed:c.definition}),t())},children:m.jsx(Si,{children:n("embed-dialog.create")})})]})]}):m.jsx(m.Fragment,{children:m.jsx(Gw,{className:"tlui-embed-dialog__list",children:h.map(v=>{const y=qQt(v.type)?i.embedIcons[v.type]:zQt(v)?v.icon:void 0;return m.jsxs(Qt,{type:"menu",onClick:()=>a(v),children:[m.jsx(Si,{children:v.title}),y&&m.jsx("div",{className:"tlui-embed-dialog__item__image",style:{backgroundImage:`url(${y})`}})]},v.type)})})})]})});async function WQt(e,t,r){const n=lr(t.map(s=>{const l=e.getShape(s);if(!(!l||e.getShapeUtil(l.type).toSvg===void 0))return l}));if(n.length===0)return;if(n.length===1){const s=n[0];if(!s||e.isShapeOfType(s,"image"))return}const i=[];if(r!==void 0){const s=n.map(l=>({shape:l,bounds:e.getShapeMaskedPageBounds(l).clone().expandBy(r)}));for(let l=0;l<s.length;l++){const c=s[l];if(l===0){i[0]={shapes:[c.shape],bounds:c.bounds};continue}let u=!1;for(const d of i)if(d.bounds.includes(c.bounds)){d.shapes.push(c.shape),d.bounds.expand(c.bounds),u=!0;break}u||i.push({shapes:[c.shape],bounds:c.bounds})}}else{const s=st.Common(n.map(l=>e.getShapeMaskedPageBounds(l)));i.push({shapes:n,bounds:s})}const o=e.options.flattenImageBoundsPadding;for(const s of i){r!==void 0&&s.bounds.expandBy(-r);const l=await e.getSvgString(s.shapes,{padding:o});if(!(l!=null&&l.svg))continue;const c=await e.getAssetForExternalContent({type:"file",file:new File([l.svg],"asset.svg",{type:"image/svg+xml"})});c&&(s.asset=c)}const a=[];return Ca(()=>{for(const s of i){const{asset:l,bounds:c,shapes:u}=s;if(!l)continue;const d=e.findCommonAncestor(u)??e.getCurrentPageId();if(!d)continue;let A="a1";for(const y of u)if(y.parentId===d){y.index>A&&(A=y.index);break}let f,h,p;if(Wa(d)){const y=e.getShape(d);if(!y)continue;const b=e.getPointInShapeSpace(y,{x:c.x,y:c.y});p=e.getShapePageTransform(d).rotation(),b.sub(new L(o,o).rot(-p)),f=b.x,h=b.y}else f=c.x-o,h=c.y-o,p=0;e.deleteShapes(u),e.createAssets([{...l,id:l.id}]);const v=cn();e.createShape({id:v,type:"image",index:A,parentId:d,x:f,y:h,rotation:-p,props:{assetId:l.id,w:c.w+o*2,h:c.h+o*2}}),a.push(v)}}),a}function aT(){const e=yf();return(e==null?void 0:e.store.props.collaboration)!==void 0}function VQt(){const e=yf();return Re("sync status",()=>{var t;return(t=e==null?void 0:e.store.props.collaboration)!=null&&t.status?e.store.props.collaboration.status.get():null},[e])}const F4=[0,389,436,476,580,640,840,1023];var fi=(e=>(e[e.ZERO=0]="ZERO",e[e.MOBILE_XXS=1]="MOBILE_XXS",e[e.MOBILE_XS=2]="MOBILE_XS",e[e.MOBILE_SM=3]="MOBILE_SM",e[e.MOBILE=4]="MOBILE",e[e.TABLET_SM=5]="TABLET_SM",e[e.TABLET=6]="TABLET",e[e.DESKTOP=7]="DESKTOP",e))(fi||{});const n5e=ue.createContext(null);function GQt({forceMobile:e=!1,children:t}){const r=yf(),n=Re("breakpoint",()=>{const{width:i}=(r==null?void 0:r.getViewportScreenBounds())??{width:window.innerWidth},o=e?fi.MOBILE_SM:F4.length-1;for(let a=0;a<o;a++)if(i>F4[a]&&i<=F4[a+1])return a;return o},[r]);return m.jsx(n5e.Provider,{value:n,children:t})}function Ma(){const e=I.useContext(n5e);if(e===null)throw new Error("useBreakpoint must be used inside of the <BreakpointProvider /> component");return e}const y5=I.createContext(null);function YQt({context:e,children:t}){const r=I.useContext(y5),n=ko(),i=Bz("dialogs",[]),o=I.useMemo(()=>({dialogs:i,addDialog(a){const s=a.id??tn();return i.update(l=>[...l.filter(c=>c.id!==a.id),{...a,id:s}]),n("open-menu",{source:"dialog",id:s}),Gl.addOpenMenu(s,e),s},removeDialog(a){var l;const s=i.get().find(c=>c.id===a);return s&&((l=s.onClose)==null||l.call(s),n("close-menu",{source:"dialog",id:a}),Gl.deleteOpenMenu(a,e),i.update(c=>c.filter(u=>u!==s))),a},clearDialogs(){const a=i.get();a.length!==0&&(a.forEach(s=>{var l;(l=s.onClose)==null||l.call(s),n("close-menu",{source:"dialog",id:s.id}),Gl.deleteOpenMenu(s.id,e)}),i.set([]))}}),[n,i,e]);return r?m.jsx(m.Fragment,{children:t}):m.jsx(y5.Provider,{value:o,children:t})}function gx(){const e=I.useContext(y5);if(!e)throw new Error("useDialogs must be used within a DialogsProvider");return e}var XQt="VisuallyHidden",R8=I.forwardRef((e,t)=>m.jsx(Lr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));R8.displayName=XQt;var M8="ToastProvider",[F8,JQt,ZQt]=qP("Toast"),[i5e,PJt]=Tu("Toast",[ZQt]),[eHt,sT]=i5e(M8),o5e=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=e,[s,l]=I.useState(null),[c,u]=I.useState(0),d=I.useRef(!1),A=I.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${M8}\`. Expected non-empty \`string\`.`),m.jsx(F8.Provider,{scope:t,children:m.jsx(eHt,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:I.useCallback(()=>u(f=>f+1),[]),onToastRemove:I.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:A,children:a})})};o5e.displayName=M8;var a5e="ToastViewport",tHt=["F8"],w5="toast.viewportPause",b5="toast.viewportResume",s5e=I.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=tHt,label:i="Notifications ({hotkey})",...o}=e,a=sT(a5e,r),s=JQt(r),l=I.useRef(null),c=I.useRef(null),u=I.useRef(null),d=I.useRef(null),A=In(t,d,a.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=a.toastCount>0;I.useEffect(()=>{const v=y=>{var x;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),I.useEffect(()=>{const v=l.current,y=d.current;if(h&&v&&y){const b=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(w5);y.dispatchEvent(_),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(b5);y.dispatchEvent(_),a.isClosePausedRef.current=!1}},S=_=>{!v.contains(_.relatedTarget)&&x()},C=()=>{v.contains(document.activeElement)||x()};return v.addEventListener("focusin",b),v.addEventListener("focusout",S),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[h,a.isClosePausedRef]);const p=I.useCallback(({tabbingDirection:v})=>{const b=s().map(x=>{const S=x.ref.current,C=[S,...hHt(S)];return v==="forwards"?C:C.reverse()});return(v==="forwards"?b.reverse():b).flat()},[s]);return I.useEffect(()=>{const v=d.current;if(v){const y=b=>{var C,_,B;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const T=document.activeElement,O=b.shiftKey;if(b.target===v&&O){(C=c.current)==null||C.focus();return}const U=p({tabbingDirection:O?"backwards":"forwards"}),k=U.findIndex(M=>M===T);k4(U.slice(k+1))?b.preventDefault():O?(_=c.current)==null||_.focus():(B=u.current)==null||B.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[s,p]),m.jsxs(PLt,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&m.jsx(x5,{ref:c,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});k4(v)}}),m.jsx(F8.Slot,{scope:r,children:m.jsx(Lr.ol,{tabIndex:-1,...o,ref:A})}),h&&m.jsx(x5,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});k4(v)}})]})});s5e.displayName=a5e;var l5e="ToastFocusProxy",x5=I.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,o=sT(l5e,r);return m.jsx(R8,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var c;const s=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(s))&&n()}})});x5.displayName=l5e;var lT="Toast",rHt="toast.swipeStart",nHt="toast.swipeMove",iHt="toast.swipeCancel",oHt="toast.swipeEnd",c5e=I.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:o,...a}=e,[s=!0,l]=If({prop:n,defaultProp:i,onChange:o});return m.jsx(xc,{present:r||s,children:m.jsx(lHt,{open:s,...a,ref:t,onClose:()=>l(!1),onPause:To(e.onPause),onResume:To(e.onResume),onSwipeStart:Ot(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ot(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ot(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ot(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});c5e.displayName=lT;var[aHt,sHt]=i5e(lT,{onClose(){}}),lHt=I.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:A,onSwipeEnd:f,...h}=e,p=sT(lT,r),[v,y]=I.useState(null),b=In(t,M=>y(M)),x=I.useRef(null),S=I.useRef(null),C=i||p.duration,_=I.useRef(0),B=I.useRef(C),T=I.useRef(0),{onToastAdd:O,onToastRemove:P}=p,F=To(()=>{var D;(v==null?void 0:v.contains(document.activeElement))&&((D=p.viewport)==null||D.focus()),a()}),U=I.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),_.current=new Date().getTime(),T.current=window.setTimeout(F,M))},[F]);I.useEffect(()=>{const M=p.viewport;if(M){const D=()=>{U(B.current),c==null||c()},j=()=>{const $=new Date().getTime()-_.current;B.current=B.current-$,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(w5,j),M.addEventListener(b5,D),()=>{M.removeEventListener(w5,j),M.removeEventListener(b5,D)}}},[p.viewport,C,l,c,U]),I.useEffect(()=>{o&&!p.isClosePausedRef.current&&U(C)},[o,C,p.isClosePausedRef,U]),I.useEffect(()=>(O(),()=>P()),[O,P]);const k=I.useMemo(()=>v?g5e(v):null,[v]);return p.viewport?m.jsxs(m.Fragment,{children:[k&&m.jsx(cHt,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),m.jsx(aHt,{scope:r,onClose:F,children:Vh.createPortal(m.jsx(F8.ItemSlot,{scope:r,children:m.jsx(BLt,{asChild:!0,onEscapeKeyDown:Ot(s,()=>{p.isFocusedToastEscapeKeyDownRef.current||F(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Lr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...h,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ot(e.onKeyDown,M=>{M.key==="Escape"&&(s==null||s(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Ot(e.onPointerDown,M=>{M.button===0&&(x.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ot(e.onPointerMove,M=>{if(!x.current)return;const D=M.clientX-x.current.x,j=M.clientY-x.current.y,$=!!S.current,Q=["left","right"].includes(p.swipeDirection),H=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,W=Q?H(0,D):0,z=Q?0:H(0,j),V=M.pointerType==="touch"?10:2,G={x:W,y:z},X={originalEvent:M,delta:G};$?(S.current=G,Q1(nHt,d,X,{discrete:!1})):BBe(G,p.swipeDirection,V)?(S.current=G,Q1(rHt,u,X,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(D)>V||Math.abs(j)>V)&&(x.current=null)}),onPointerUp:Ot(e.onPointerUp,M=>{const D=S.current,j=M.target;if(j.hasPointerCapture(M.pointerId)&&j.releasePointerCapture(M.pointerId),S.current=null,x.current=null,D){const $=M.currentTarget,Q={originalEvent:M,delta:D};BBe(D,p.swipeDirection,p.swipeThreshold)?Q1(oHt,f,Q,{discrete:!0}):Q1(iHt,A,Q,{discrete:!0}),$.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),cHt=e=>{const{__scopeToast:t,children:r,...n}=e,i=sT(lT,t),[o,a]=I.useState(!1),[s,l]=I.useState(!1);return AHt(()=>a(!0)),I.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:m.jsx(Ax,{asChild:!0,children:m.jsx(R8,{...n,children:o&&m.jsxs(m.Fragment,{children:[i.label," ",r]})})})},uHt="ToastTitle",u5e=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return m.jsx(Lr.div,{...n,ref:t})});u5e.displayName=uHt;var dHt="ToastDescription",d5e=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return m.jsx(Lr.div,{...n,ref:t})});d5e.displayName=dHt;var A5e="ToastAction",f5e=I.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?m.jsx(p5e,{altText:r,asChild:!0,children:m.jsx(k8,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${A5e}\`. Expected non-empty \`string\`.`),null)});f5e.displayName=A5e;var h5e="ToastClose",k8=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=sHt(h5e,r);return m.jsx(p5e,{asChild:!0,children:m.jsx(Lr.button,{type:"button",...n,ref:t,onClick:Ot(e.onClick,i.onClose)})})});k8.displayName=h5e;var p5e=I.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return m.jsx(Lr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function g5e(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),fHt(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...g5e(n))}}),t}function Q1(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?GK(i,o):i.dispatchEvent(o)}var BBe=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),o=n>i;return t==="left"||t==="right"?o&&n>r:!o&&i>r};function AHt(e=()=>{}){const t=To(e);rf(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function fHt(e){return e.nodeType===e.ELEMENT_NODE}function hHt(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function k4(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var pHt=c5e,gHt=u5e,mHt=d5e,vHt=f5e,PBe=k8;const S5=I.createContext(null);function yHt({children:e}){const t=Bz("toasts",[]),r=I.useContext(S5),n=I.useMemo(()=>({toasts:t,addToast(i){const o=i.id??tn();return t.update(a=>[...a.filter(s=>s.id!==i.id),{...i,id:o}]),o},removeToast(i){return t.update(o=>o.filter(a=>a.id!==i)),i},clearToasts(){t.set([])}}),[t]);return r?m.jsx(m.Fragment,{children:e}):m.jsx(o5e,{children:m.jsx(S5.Provider,{value:n,children:e})})}function zd(){const e=I.useContext(S5);if(!e)throw new Error("useToasts must be used within a ToastsProvider");return e}var U4={exports:{}},TBe;function wHt(){return TBe||(TBe=1,function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(l,c){if(!o[l]){o[l]={};for(var u=0;u<l.length;u++)o[l][l.charAt(u)]=u}return o[l][c]}var s={compressToBase64:function(l){if(l==null)return"";var c=s._compress(l,6,function(u){return n.charAt(u)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(c){return a(n,l.charAt(c))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(c){return r(c+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(c){return l.charCodeAt(c)-32})},compressToUint8Array:function(l){for(var c=s.compress(l),u=new Uint8Array(c.length*2),d=0,A=c.length;d<A;d++){var f=c.charCodeAt(d);u[d*2]=f>>>8,u[d*2+1]=f%256}return u},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var c=new Array(l.length/2),u=0,d=c.length;u<d;u++)c[u]=l[u*2]*256+l[u*2+1];var A=[];return c.forEach(function(f){A.push(r(f))}),s.decompress(A.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(c){return i.charAt(c)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(c){return a(i,l.charAt(c))}))},compress:function(l){return s._compress(l,16,function(c){return r(c)})},_compress:function(l,c,u){if(l==null)return"";var d,A,f={},h={},p="",v="",y="",b=2,x=3,S=2,C=[],_=0,B=0,T;for(T=0;T<l.length;T+=1)if(p=l.charAt(T),Object.prototype.hasOwnProperty.call(f,p)||(f[p]=x++,h[p]=!0),v=y+p,Object.prototype.hasOwnProperty.call(f,v))y=v;else{if(Object.prototype.hasOwnProperty.call(h,y)){if(y.charCodeAt(0)<256){for(d=0;d<S;d++)_=_<<1,B==c-1?(B=0,C.push(u(_)),_=0):B++;for(A=y.charCodeAt(0),d=0;d<8;d++)_=_<<1|A&1,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=A>>1}else{for(A=1,d=0;d<S;d++)_=_<<1|A,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=0;for(A=y.charCodeAt(0),d=0;d<16;d++)_=_<<1|A&1,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=A>>1}b--,b==0&&(b=Math.pow(2,S),S++),delete h[y]}else for(A=f[y],d=0;d<S;d++)_=_<<1|A&1,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=A>>1;b--,b==0&&(b=Math.pow(2,S),S++),f[v]=x++,y=String(p)}if(y!==""){if(Object.prototype.hasOwnProperty.call(h,y)){if(y.charCodeAt(0)<256){for(d=0;d<S;d++)_=_<<1,B==c-1?(B=0,C.push(u(_)),_=0):B++;for(A=y.charCodeAt(0),d=0;d<8;d++)_=_<<1|A&1,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=A>>1}else{for(A=1,d=0;d<S;d++)_=_<<1|A,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=0;for(A=y.charCodeAt(0),d=0;d<16;d++)_=_<<1|A&1,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=A>>1}b--,b==0&&(b=Math.pow(2,S),S++),delete h[y]}else for(A=f[y],d=0;d<S;d++)_=_<<1|A&1,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=A>>1;b--,b==0&&(b=Math.pow(2,S),S++)}for(A=2,d=0;d<S;d++)_=_<<1|A&1,B==c-1?(B=0,C.push(u(_)),_=0):B++,A=A>>1;for(;;)if(_=_<<1,B==c-1){C.push(u(_));break}else B++;return C.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(c){return l.charCodeAt(c)})},_decompress:function(l,c,u){var d=[],A=4,f=4,h=3,p="",v=[],y,b,x,S,C,_,B,T={val:u(0),position:c,index:1};for(y=0;y<3;y+=1)d[y]=y;for(x=0,C=Math.pow(2,2),_=1;_!=C;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=c,T.val=u(T.index++)),x|=(S>0?1:0)*_,_<<=1;switch(x){case 0:for(x=0,C=Math.pow(2,8),_=1;_!=C;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=c,T.val=u(T.index++)),x|=(S>0?1:0)*_,_<<=1;B=r(x);break;case 1:for(x=0,C=Math.pow(2,16),_=1;_!=C;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=c,T.val=u(T.index++)),x|=(S>0?1:0)*_,_<<=1;B=r(x);break;case 2:return""}for(d[3]=B,b=B,v.push(B);;){if(T.index>l)return"";for(x=0,C=Math.pow(2,h),_=1;_!=C;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=c,T.val=u(T.index++)),x|=(S>0?1:0)*_,_<<=1;switch(B=x){case 0:for(x=0,C=Math.pow(2,8),_=1;_!=C;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=c,T.val=u(T.index++)),x|=(S>0?1:0)*_,_<<=1;d[f++]=r(x),B=f-1,A--;break;case 1:for(x=0,C=Math.pow(2,16),_=1;_!=C;)S=T.val&T.position,T.position>>=1,T.position==0&&(T.position=c,T.val=u(T.index++)),x|=(S>0?1:0)*_,_<<=1;d[f++]=r(x),B=f-1,A--;break;case 2:return v.join("")}if(A==0&&(A=Math.pow(2,h),h++),d[B])p=d[B];else if(B===f)p=b+b.charAt(0);else return null;v.push(p),d[f++]=b+p.charAt(0),A--,b=p,A==0&&(A=Math.pow(2,h),h++)}}};return s}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})}(U4)),U4.exports}var bHt=wHt();const m5e=kr(bHt),U8="web image/vnd.tldraw+png",xHt={png:U8},SHt={[U8]:"image/png"};function CHt(e){return na(xHt,e)??null}function _Ht(e){return na(SHt,e)??e}function EHt(e){return typeof ClipboardItem<"u"&&"supports"in ClipboardItem&&ClipboardItem.supports(e)}function IHt(e){const t=Object.entries(e);for(const[r,n]of t)n.catch(i=>console.error(i));return navigator.clipboard.write([new ClipboardItem(e)]).catch(r=>(console.error(r),Promise.all(t.map(async([n,i])=>[n,await i])).then(n=>{const i=Cke(n);return navigator.clipboard.write([new ClipboardItem(i)])})))}async function BHt(e,t,r,n){const i=t.map(o=>o instanceof File?o:new File([o],"tldrawFile",{type:o.type}));e.markHistoryStoppingPoint("paste"),await e.putExternalContent({type:"files",files:i,point:r,ignoreParent:!1,sources:n})}async function C5(e,t,r,n){return e.markHistoryStoppingPoint("paste"),await e.putExternalContent({type:"url",point:r,url:t,sources:n})}const PHt=[U8,"image/png","image/jpeg","image/webp","image/svg+xml"];function THt(e){const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e.trim(),t.body.textContent||t.body.innerText||""}const OHt=e=>{try{const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},RHt=e=>{const t=e.split(/[\n\s]/);for(const r of t)try{const n=new URL(r);if(!(n.protocol==="http:"||n.protocol==="https:"))return}catch{return}return ODe(t)},MHt=e=>/^<svg/.test(e),FHt=["input","select","textarea"];function D4(e){const{activeElement:t}=document;return e.menus.hasAnyOpenMenus()||t&&(t.getAttribute("contenteditable")||FHt.indexOf(t.tagName.toLowerCase())>-1)}const H1=(e,t,r,n)=>{const i=RHt(t);if(i)for(const o of i)C5(e,o,r);else OHt(t)?C5(e,t,r):MHt(t)?(e.markHistoryStoppingPoint("paste"),e.putExternalContent({type:"svg-text",text:t,point:r,sources:n})):(e.markHistoryStoppingPoint("paste"),e.putExternalContent({type:"text",text:t,point:r,sources:n}))},kHt=async(e,t,r)=>{if(e.getEditingShapeId()!==null)return;if(!t)throw Error("No clipboard data");const n=[];for(const i of Object.values(t.items))switch(i.kind){case"file":{n.push({type:"file",source:new Promise(o=>o(i.getAsFile()))});break}case"string":{i.type==="text/html"?n.push({type:"html",source:new Promise(o=>i.getAsString(o))}):i.type==="text/plain"?n.push({type:"text",source:new Promise(o=>i.getAsString(o))}):n.push({type:i.type,source:new Promise(o=>i.getAsString(o))});break}}y5e(e,n,r)},v5e=async({editor:e,clipboardItems:t,point:r,fallbackFiles:n})=>{const i=[];for(const o of t){for(const a of PHt)if(o.types.includes(a)){const s=o.getType(a).then(l=>fl.rewriteMimeType(l,_Ht(a)));i.push({type:"blob",source:s});break}o.types.includes("text/html")&&i.push({type:"html",source:(async()=>{const a=await o.getType("text/html");return await fl.blobToText(a)})()}),o.types.includes("text/uri-list")&&i.push({type:"url",source:(async()=>{const a=await o.getType("text/uri-list");return await fl.blobToText(a)})()}),o.types.includes("text/plain")&&i.push({type:"text",source:(async()=>{const a=await o.getType("text/plain");return await fl.blobToText(a)})()})}return n!=null&&n.length&&i.length===1&&i[0].type==="text"&&(i.pop(),i.push(...n.map(o=>({type:"file",source:Promise.resolve(o)})))),await y5e(e,i,r)};async function y5e(e,t,r){const n=t.filter(o=>(o.type==="file"||o.type==="blob")&&o.source!==null);if(n.length){if(n.length>e.options.maxFilesAtOnce)throw Error("Too many files");const o=lr(await Promise.all(n.map(a=>a.source)));return await BHt(e,o,r)}const i=await Promise.all(t.filter(o=>o.type!=="file").map(o=>new Promise(a=>{const s=o;if(s.type==="file"){a({type:"error",data:null,reason:"unexpected file"});return}s.source.then(l=>{var u;const c=(u=l.match(/<div data-tldraw[^>]*>(.*)<\/div>/))==null?void 0:u[1];if(c)try{const d=m5e.decompressFromBase64(c);if(d===null){a({type:"error",data:d,reason:"found tldraw data comment but could not parse base64"});return}else{const A=JSON.parse(d);if(A.type!=="application/tldraw"&&a({type:"error",data:A,reason:`found tldraw data comment but JSON was of a different type: ${A.type}`}),typeof A.data=="string"){a({type:"error",data:A,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"});return}a({type:"tldraw",data:A.data});return}}catch{a({type:"error",data:c,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"});return}else{if(s.type==="html"){a({type:"text",data:l,subtype:"html"});return}if(s.type==="url"){a({type:"text",data:l,subtype:"url"});return}try{const d=JSON.parse(l);if(d.type==="excalidraw/clipboard"){a({type:"excalidraw",data:d});return}else{a({type:"text",data:l,subtype:"json"});return}}catch{a({type:"text",data:l,subtype:"text"});return}}a({type:"error",data:l,reason:"unhandled case"})})})));for(const o of i)if(o.type==="tldraw"){e.markHistoryStoppingPoint("paste"),e.putExternalContent({type:"tldraw",content:o.data,point:r});return}for(const o of i)if(o.type==="excalidraw"){e.markHistoryStoppingPoint("paste"),e.putExternalContent({type:"excalidraw",content:o.data,point:r});return}for(const o of i){if(o.type==="text"&&o.subtype==="html"){const s=new DOMParser().parseFromString(o.data,"text/html").querySelector("body");if(s&&Array.from(s.children).filter(c=>c.nodeType===1).length===1&&s.firstElementChild&&s.firstElementChild.tagName==="A"&&s.firstElementChild.hasAttribute("href")&&s.firstElementChild.getAttribute("href")!==""){const c=s.firstElementChild.getAttribute("href");H1(e,c,r,i);return}if(!i.some(c=>c.type==="text"&&c.subtype!=="html")&&o.data.trim()){H1(e,THt(o.data),r,i);return}}if(o.type==="text"&&o.subtype==="text"&&o.data.startsWith("<iframe ")){const s=new DOMParser().parseFromString(o.data,"text/html").querySelector("body");if(s&&Array.from(s.children).filter(c=>c.nodeType===1).length===1&&s.firstElementChild&&s.firstElementChild.tagName==="IFRAME"&&s.firstElementChild.hasAttribute("src")&&s.firstElementChild.getAttribute("src")!==""){const c=s.firstElementChild.getAttribute("src");H1(e,c,r,i);return}}}for(const o of i)if(o.type==="text"&&o.subtype==="url"){C5(e,o.data,r,i);return}for(const o of i)if(o.type==="text"&&o.subtype==="text"&&o.data.trim()){H1(e,o.data,r,i);return}}const tI=async e=>{var n;const t=await e.resolveAssetsInContent(e.getContentFromCurrentPage(e.getSelectedShapeIds()));if(!t){navigator&&navigator.clipboard&&navigator.clipboard.writeText("");return}const r=m5e.compressToBase64(JSON.stringify({type:"application/tldraw",kind:"content",data:t}));if(!(typeof navigator>"u")){const i=t.shapes.map(o=>e.getShapeUtil(o).getText(o)).filter(qSt);if((n=navigator.clipboard)!=null&&n.write){const o=new Blob([`<div data-tldraw>${r}</div>`],{type:"text/html"});let a=i.join(" ");a===""&&(a=" "),navigator.clipboard.write([new ClipboardItem({"text/html":o,"text/plain":new Blob([a],{type:"text/plain"})})])}else navigator.clipboard.writeText&&navigator.clipboard.writeText(`<div data-tldraw>${r}</div>`)}};function UHt(){const e=Ee(),t=ko(),r=I.useCallback(async function(a){e.getSelectedShapeIds().length!==0&&(await tI(e),t("copy",{source:a}))},[e,t]),n=I.useCallback(async function(a){e.getSelectedShapeIds().length!==0&&(await tI(e),e.deleteShapes(e.getSelectedShapeIds()),t("cut",{source:a}))},[e,t]),i=I.useCallback(async function(a,s,l){e.getEditingShapeId()===null&&(Array.isArray(a)&&a[0]instanceof ClipboardItem?(v5e({editor:e,clipboardItems:a,point:l}),t("paste",{source:"menu"})):navigator.clipboard.read().then(c=>{i(c,s,l)}))},[e,t]);return{copy:r,cut:n,paste:i}}function DHt(){const e=Ee(),t=ko(),r=Re("editor.isFocused",()=>e.getInstanceState().isFocused,[e]);I.useEffect(()=>{if(!r)return;const n=async l=>{e.getSelectedShapeIds().length===0||e.getEditingShapeId()!==null||D4(e)||(hr(l),await tI(e),t("copy",{source:"kbd"}))};async function i(l){e.getSelectedShapeIds().length===0||e.getEditingShapeId()!==null||D4(e)||(hr(l),await tI(e),e.deleteShapes(e.getSelectedShapeIds()),t("cut",{source:"kbd"}))}let o=!1;const a=l=>{l.button===1&&(o=!0,e.timers.requestAnimationFrame(()=>{o=!1}))},s=l=>{var A,f;if(o){Ei(l);return}if(e.getEditingShapeId()!==null||D4(e))return;let c,u=!1;e.inputs.shiftKey&&(u=!0),e.user.getIsPasteAtCursorMode()&&(u=!u),u&&(c=e.inputs.currentPagePoint);const d=()=>{l.clipboardData&&kHt(e,l.clipboardData,c)};if((A=navigator.clipboard)!=null&&A.read){const h=Array.from(((f=l.clipboardData)==null?void 0:f.files)||[]);navigator.clipboard.read().then(p=>{Array.isArray(p)&&p[0]instanceof ClipboardItem&&v5e({editor:e,clipboardItems:p,point:c,fallbackFiles:h})},()=>{d()})}else d();hr(l),t("paste",{source:"kbd"})};return document.addEventListener("copy",n),document.addEventListener("cut",i),document.addEventListener("paste",s),document.addEventListener("pointerup",a),()=>{document.removeEventListener("copy",n),document.removeEventListener("cut",i),document.removeEventListener("paste",s),document.removeEventListener("pointerup",a)}},[e,t,r])}const OBe={jpeg:"image/jpeg",png:"image/png",webp:"image/webp",svg:"text/plain"};function jHt(e,t,r={}){const n=t!=null&&t.length?t:[...e.getCurrentPageShapeIds()],i=r.format??"png";return{blobPromise:e.toImage(n,r).then(o=>fl.rewriteMimeType(o.blob,OBe[i])),mimeType:OBe[i]}}function LHt(...e){const[t,r,n]=typeof e[2]=="string"?[e[0],e[1],{...e[3],format:e[2]}]:e;if(!navigator.clipboard)return Promise.reject(new Error("Copy not supported"));if(navigator.clipboard.write){const{blobPromise:i,mimeType:o}=jHt(t,r,n),a={[o]:i},s=CHt(n.format);return s&&EHt(s)&&(a[s]=i.then(l=>fl.rewriteMimeType(l,s))),IHt(a)}switch(n.format){case"svg":return NHt(async()=>{const i=await t.getSvgString(r,n);if(!i)throw new Error("Failed to copy");return i.svg});case"png":throw new Error("Copy not supported");default:Di(n.format)}}async function NHt(e){var t,r;await((r=(t=navigator.clipboard)==null?void 0:t.writeText)==null?void 0:r.call(t,await e()))}function $Ht(){const e=Ee(),{addToast:t}=zd(),r=Or();return I.useCallback((n,i="svg")=>{LHt(e,n,{format:i}).catch(()=>{t({id:"copy-fail",severity:"warning",title:r("toast.error.copy-fail.title"),description:r("toast.error.copy-fail.desc")})})},[e,t,r])}async function QHt(...e){const[t,r,n]=typeof e[2]=="object"?e:[e[0],e[1],{...e[4],format:e[2]??"png",name:e[3]}];let i=n.name;if(!i&&(i=`shapes at ${RBe()}`,r.length===1)){const s=t.getShape(r[0]);t.isShapeOfType(s,"frame")?i=s.props.name||"frame":i=`${JB(s.id)} at ${RBe()}`}i+=`.${n.format}`;const{blob:o}=await t.toImage(r,n),a=new File([o],i,{type:o.type});HHt(a)}function RBe(){const e=new Date,t=String(e.getFullYear()).slice(2),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0");return`${t}-${r}-${n} ${i}.${o}.${a}`}function HHt(e){const t=document.createElement("a"),r=URL.createObjectURL(e);t.href=r,t.download=e.name,t.click(),URL.revokeObjectURL(r)}function qHt(){const e=Ee(),{addToast:t}=zd(),r=Or();return I.useCallback((n,i="png",o)=>{QHt(e,n,{format:i,name:o,scale:1}).catch(a=>{console.error(a.message),t({id:"export-fail",title:r("toast.error.export-fail.title"),description:r("toast.error.export-fail.desc"),severity:"error"})})},[e,t,r])}const w5e=ue.createContext([]);function zHt(){const e=Ee(),t=I.useRef(),r=PA(ue.useContext(w5e));return I.useEffect(()=>{const n=window.document.createElement("input");n.type="file",n.accept=(r==null?void 0:r.join(","))??ySt,n.multiple=!0,t.current=n;async function i(o){const a=o.target.files;!a||a.length===0||(e.markHistoryStoppingPoint("insert media"),await e.putExternalContent({type:"files",files:Array.from(a),point:e.getViewportPageBounds().center,ignoreParent:!1}),n.value="")}return n.addEventListener("change",i),()=>{t.current=void 0,n.removeEventListener("change",i)}},[e,r]),I.useCallback(()=>{var n;(n=t.current)==null||n.click()},[t])}function KHt(){const e=Ee(),t=I.useRef(null),r=I.useRef(null);return I.useCallback(async function(){const i=document.createElement("div"),o=document.createElement("style"),a=(y,b)=>{y&&(y.innerHTML=""),b&&document.head.contains(b)&&document.head.removeChild(b),y&&document.body.contains(y)&&document.body.removeChild(y)};a(t.current,r.current),t.current=i,r.current=o;const s=`tl-print-surface-${tn()}`;i.className=s,o.innerHTML=`
			.${s} {
				display: none;
			}

			.${s} svg {
				max-width: 100%;
				height: 100%;
				display: block;
			}

			@media print {				  
				html, body {
					min-height: 100%;
					height: 100%;
					margin: 0;
				}

				body {
					position: relative;
				}

				body > * {
					display: none;
				}

				.tldraw__editor {
					display: none;
				}

				.${s} {
					display: block !important;
					background: white;
					min-height: 100%;
					height: 100%;
					max-width: 100%;
				}

				.${s}__item {
					padding: 10mm;
					display: flex;
					min-height: 100%;
					flex-direction: column;
					page-break-after: always;
					position: relative;
					overflow: hidden;
					height: 100%;
				}

				.${s}__item__main {
					flex: 1;
					display: flex;
					align-items: center;
					justify-content: center;
					max-height: 100%;
				}

				.${s}__item__header {
					display: none;
				}

				.${s}__item__footer {
					display: none;
					text-align: right;
				}

				.${s}__item__footer__hide {
					display: none;
				}

				
			}

		`;const l=()=>{document.head.appendChild(o),document.body.appendChild(i)},c=()=>{e.once("tick",()=>{a(i,o)})};window.addEventListener("beforeprint",l),window.addEventListener("afterprint",c);function u(y,b,x){try{i.innerHTML+=`<div class="${s}__item">
        <div class="${s}__item__header">
          ${y.replace(/</g,"&lt;").replace(/>/g,"&gt;")}
        </div>
        <div class="${s}__item__main">
          ${x}
        </div>
        <div class="${s}__item__footer ${s}__item__footer__${b?"":"hide"}">
          ${b??""}
        </div>
      </div>`}catch(S){console.error(S)}}function d(){an.isChromeForIos?(l(),window.print()):an.isSafari?(l(),document.execCommand("print",!1)):window.print()}const A=e.getSelectedShapeIds(),f=e.getCurrentPageId(),h=e.getPages(),v={scale:1,background:!1,darkMode:!1,preserveAspectRatio:"xMidYMid meet"};if(e.getSelectedShapeIds().length>0){const y=await e.getSvgString(A,v);if(y){const b=h.find(x=>x.id===f);u(`tldraw  ${b==null?void 0:b.name}`,null,y.svg),d()}}else{const y=e.getCurrentPage(),b=await e.getSvgString(e.getSortedChildIdsForParent(y.id),v);b&&(u(`tldraw  ${y.name}`,null,b.svg),d())}window.removeEventListener("beforeprint",l),window.removeEventListener("afterprint",c)},[e])}function D8(){const{addToast:e,removeToast:t,clearToasts:r}=zd(),{addDialog:n,clearDialogs:i,removeDialog:o}=gx(),a=Or(),s=zHt(),l=KHt(),{cut:c,copy:u,paste:d}=UHt(),A=$Ht(),f=qHt(),h=O8(),v=Ma()<fi.TABLET_SM;return I.useMemo(()=>({addToast:e,removeToast:t,clearToasts:r,addDialog:n,removeDialog:o,clearDialogs:i,msg:a,isMobile:v,insertMedia:s,printSelectionOrPages:l,cut:c,copy:u,paste:d,copyAs:A,exportAs:f,getEmbedDefinition:h}),[e,t,r,n,o,i,a,v,s,l,c,u,d,A,f,h])}function WHt(e,t){const r={};for(const n of e)if(n.translations)for(const[i,o]of _s(n.translations)){let a=r[i];a||(a=r[i]={}),Object.assign(a,o)}return{actions:(n,i,o)=>{for(const a of e)a.actions&&(i=a.actions(n,i,o));return i},tools:(n,i,o)=>{for(const a of e)a.tools&&(i=a.tools(n,i,{...t,...o}));return i},translations:r}}function b5e(e){return I.useMemo(()=>e,e)}function VHt(e){const t=b5e(e==null?[]:Array.isArray(e)?e:[e]);return I.useMemo(()=>{const r={};for(const n of t)if(n.translations)for(const[i,o]of _s(n.translations)){let a=r[i];a||(a=r[i]={}),Object.assign(a,o)}return r},[t])}function GHt(e){const t=D8(),r=b5e(e==null?[]:Array.isArray(e)?e:[e]);return I.useMemo(()=>WHt(r,t),[r,t])}const x5e=I.createContext(null);function YHt(e){return Object.fromEntries(e.map(t=>[t.id,t]))}function q1(e,t){if(e.getSelectedShapes().length===0)return e.getDocumentSettings().name||t}function XHt({overrides:e,children:t}){const r=Ee(),n=aT(),i=D8(),o=ko(),a=i.msg("document.default-name"),s=I.useMemo(()=>{function l(){return r.isIn("select")||(r.complete(),r.setCurrentTool("select")),!1}function c(){return r.isIn("select")&&r.getSelectedShapeIds().length>0}const u=[{id:"edit-link",label:"action.edit-link",icon:"link",onSelect(A){c()&&(l()||(o("edit-link",{source:A}),r.markHistoryStoppingPoint("edit-link"),i.addDialog({component:LQt})))}},{id:"insert-embed",label:"action.insert-embed",kbd:"$i",onSelect(A){o("insert-embed",{source:A}),i.addDialog({component:r5e})}},{id:"insert-media",label:"action.insert-media",kbd:"$u",onSelect(A){o("insert-media",{source:A}),i.insertMedia()}},{id:"undo",label:"action.undo",icon:"undo",kbd:"$z",onSelect(A){o("undo",{source:A}),r.undo()}},{id:"redo",label:"action.redo",icon:"redo",kbd:"$!z",onSelect(A){o("redo",{source:A}),r.redo()}},{id:"export-as-svg",label:{default:"action.export-as-svg",menu:"action.export-as-svg.short","context-menu":"action.export-as-svg.short"},readonlyOk:!0,onSelect(A){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(o("export-as",{format:"svg",source:A}),i.exportAs(f,"svg",q1(r,a)))}},{id:"export-as-png",label:{default:"action.export-as-png",menu:"action.export-as-png.short","context-menu":"action.export-as-png.short"},readonlyOk:!0,onSelect(A){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(o("export-as",{format:"png",source:A}),i.exportAs(f,"png",q1(r,a)))}},{id:"export-all-as-svg",label:{default:"action.export-all-as-svg",menu:"action.export-all-as-svg.short","context-menu":"action.export-all-as-svg.short"},readonlyOk:!0,onSelect(A){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(o("export-all-as",{format:"svg",source:A}),i.exportAs(Array.from(r.getCurrentPageShapeIds()),"svg",q1(r,a)))}},{id:"export-all-as-png",label:{default:"action.export-all-as-png",menu:"action.export-all-as-png.short","context-menu":"action.export-all-as-png.short"},readonlyOk:!0,onSelect(A){const f=Array.from(r.getCurrentPageShapeIds().values());f.length!==0&&(o("export-all-as",{format:"png",source:A}),i.exportAs(f,"png",q1(r,a)))}},{id:"copy-as-svg",label:{default:"action.copy-as-svg",menu:"action.copy-as-svg.short","context-menu":"action.copy-as-svg.short"},kbd:"$!c",readonlyOk:!0,onSelect(A){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(o("copy-as",{format:"svg",source:A}),i.copyAs(f,"svg"))}},{id:"copy-as-png",label:{default:"action.copy-as-png",menu:"action.copy-as-png.short","context-menu":"action.copy-as-png.short"},readonlyOk:!0,onSelect(A){let f=r.getSelectedShapeIds();f.length===0&&(f=Array.from(r.getCurrentPageShapeIds().values())),f.length!==0&&(o("copy-as",{format:"png",source:A}),i.copyAs(f,"png"))}},{id:"toggle-auto-size",label:"action.toggle-auto-size",onSelect(A){c()&&(l()||(o("toggle-auto-size",{source:A}),r.markHistoryStoppingPoint("toggling auto size"),r.run(()=>{const f=r.getSelectedShapes().filter(h=>r.isShapeOfType(h,"text")&&h.props.autoSize===!1);r.updateShapes(f.map(h=>({id:h.id,type:h.type,props:{...h.props,w:8,autoSize:!0}}))),Sn(r,f.map(h=>h.id))})))}},{id:"open-embed-link",label:"action.open-embed-link",readonlyOk:!0,onSelect(A){o("open-embed-link",{source:A});const f=r.getSelectedShapeIds(),h="No embed shapes selected";if(f.length!==1){console.error(h);return}const p=r.getShape(f[0]);if(!p||!r.isShapeOfType(p,"embed")){console.error(h);return}dLt(p.props.url,"_blank")}},{id:"select-zoom-tool",readonlyOk:!0,kbd:"z",onSelect(A){var f,h;if(((f=r.root.getCurrent())==null?void 0:f.id)!=="zoom"&&(o("zoom-tool",{source:A}),!(r.inputs.shiftKey||r.inputs.ctrlKey))){const p=r.root.getCurrent();p&&((h=p.getCurrent())==null?void 0:h.id)==="idle"&&r.setCurrentTool("zoom",{onInteractionEnd:p.id,maskAs:"zoom"})}}},{id:"convert-to-bookmark",label:"action.convert-to-bookmark",onSelect(A){c()&&(l()||r.run(()=>{o("convert-to-bookmark",{source:A});const f=r.getSelectedShapes(),h=[],p=[];for(const v of f){if(!v||!r.isShapeOfType(v,"embed")||!v.props.url)continue;const y=new L(v.x,v.y);y.rot(-v.rotation),y.add(new L(v.props.w/2-300/2,v.props.h/2-320/2)),y.rot(v.rotation);const b={id:cn(),type:"bookmark",rotation:v.rotation,x:y.x,y:y.y,opacity:1,props:{url:v.props.url}};h.push(b),p.push(v.id)}r.markHistoryStoppingPoint("convert shapes to bookmark"),r.deleteShapes(p),r.createShapes(h)}))}},{id:"convert-to-embed",label:"action.convert-to-embed",onSelect(A){c()&&(l()||(o("convert-to-embed",{source:A}),r.run(()=>{const f=r.getSelectedShapeIds(),h=lr(f.map(y=>r.getShape(y))),p=[],v=[];for(const y of h){if(!r.isShapeOfType(y,"bookmark"))continue;const{url:b}=y.props,x=i.getEmbedDefinition(b);if(!x||!x.definition)continue;const{width:S,height:C}=x.definition,_=new L(y.x,y.y);_.rot(-y.rotation),_.add(new L(y.props.w/2-S/2,y.props.h/2-C/2)),_.rot(y.rotation);const B={id:cn(),type:"embed",x:_.x,y:_.y,rotation:y.rotation,props:{url:b,w:S,h:C}};p.push(B),v.push(y.id)}r.markHistoryStoppingPoint("convert shapes to embed"),r.deleteShapes(v),r.createShapes(p)})))}},{id:"duplicate",kbd:"$d",label:"action.duplicate",icon:"duplicate",onSelect(A){if(!c()||l())return;o("duplicate-shapes",{source:A});const f=r.getInstanceState();let h,p;if(f.duplicateProps)h=f.duplicateProps.shapeIds,p=f.duplicateProps.offset;else{h=r.getSelectedShapeIds();const v=st.Common(lr(h.map(y=>r.getShapePageBounds(y))));p=r.getCameraOptions().isLocked?{x:r.options.adjacentShapeMargin,y:r.options.adjacentShapeMargin}:{x:v.width+r.options.adjacentShapeMargin,y:0}}r.markHistoryStoppingPoint("duplicate shapes"),r.duplicateShapes(h,p),f.duplicateProps&&r.updateInstanceState({duplicateProps:{...f.duplicateProps,shapeIds:r.getSelectedShapeIds()}})}},{id:"ungroup",label:"action.ungroup",kbd:"$!g",icon:"ungroup",onSelect(A){c()&&(l()||(o("ungroup-shapes",{source:A}),r.markHistoryStoppingPoint("ungroup"),r.ungroupShapes(r.getSelectedShapeIds())))}},{id:"group",label:"action.group",kbd:"$g",icon:"group",onSelect(A){if(!c()||l())return;o("group-shapes",{source:A});const f=r.getOnlySelectedShape();f&&r.isShapeOfType(f,"group")?(r.markHistoryStoppingPoint("ungroup"),r.ungroupShapes(r.getSelectedShapeIds())):(r.markHistoryStoppingPoint("group"),r.groupShapes(r.getSelectedShapeIds()))}},{id:"remove-frame",label:"action.remove-frame",kbd:"$!f",onSelect(A){if(!c())return;o("remove-frame",{source:A});const f=r.getSelectedShapes();f.length>0&&f.every(h=>r.isShapeOfType(h,"frame"))&&(r.markHistoryStoppingPoint("remove-frame"),mQt(r,f.map(h=>h.id)))}},{id:"fit-frame-to-content",label:"action.fit-frame-to-content",onSelect(A){if(!c())return;o("fit-frame-to-content",{source:A});const f=r.getOnlySelectedShape();f&&r.isShapeOfType(f,"frame")&&(r.markHistoryStoppingPoint("fit-frame-to-content"),yQt(r,f.id))}},{id:"align-left",label:"action.align-left",kbd:"?A",icon:"align-left",onSelect(A){c()&&(l()||(o("align-shapes",{operation:"left",source:A}),r.markHistoryStoppingPoint("align left"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"left"),Sn(r,f)})))}},{id:"align-center-horizontal",label:{default:"action.align-center-horizontal","context-menu":"action.align-center-horizontal.short"},kbd:"?H",icon:"align-center-horizontal",onSelect(A){c()&&(l()||(o("align-shapes",{operation:"center-horizontal",source:A}),r.markHistoryStoppingPoint("align center horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"center-horizontal"),Sn(r,f)})))}},{id:"align-right",label:"action.align-right",kbd:"?D",icon:"align-right",onSelect(A){c()&&(l()||(o("align-shapes",{operation:"right",source:A}),r.markHistoryStoppingPoint("align right"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"right"),Sn(r,f)})))}},{id:"align-center-vertical",label:{default:"action.align-center-vertical","context-menu":"action.align-center-vertical.short"},kbd:"?V",icon:"align-center-vertical",onSelect(A){c()&&(l()||(o("align-shapes",{operation:"center-vertical",source:A}),r.markHistoryStoppingPoint("align center vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"center-vertical"),Sn(r,f)})))}},{id:"align-top",label:"action.align-top",icon:"align-top",kbd:"?W",onSelect(A){c()&&(l()||(o("align-shapes",{operation:"top",source:A}),r.markHistoryStoppingPoint("align top"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"top"),Sn(r,f)})))}},{id:"align-bottom",label:"action.align-bottom",icon:"align-bottom",kbd:"?S",onSelect(A){c()&&(l()||(o("align-shapes",{operation:"bottom",source:A}),r.markHistoryStoppingPoint("align bottom"),r.run(()=>{const f=r.getSelectedShapeIds();r.alignShapes(f,"bottom"),Sn(r,f)})))}},{id:"distribute-horizontal",label:{default:"action.distribute-horizontal","context-menu":"action.distribute-horizontal.short"},icon:"distribute-horizontal",kbd:"?!h",onSelect(A){c()&&(l()||(o("distribute-shapes",{operation:"horizontal",source:A}),r.markHistoryStoppingPoint("distribute horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.distributeShapes(f,"horizontal"),Sn(r,f)})))}},{id:"distribute-vertical",label:{default:"action.distribute-vertical","context-menu":"action.distribute-vertical.short"},icon:"distribute-vertical",kbd:"?!V",onSelect(A){c()&&(l()||(o("distribute-shapes",{operation:"vertical",source:A}),r.markHistoryStoppingPoint("distribute vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.distributeShapes(f,"vertical"),Sn(r,f)})))}},{id:"stretch-horizontal",label:{default:"action.stretch-horizontal","context-menu":"action.stretch-horizontal.short"},icon:"stretch-horizontal",onSelect(A){c()&&(l()||(o("stretch-shapes",{operation:"horizontal",source:A}),r.markHistoryStoppingPoint("stretch horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.stretchShapes(f,"horizontal"),Sn(r,f)})))}},{id:"stretch-vertical",label:{default:"action.stretch-vertical","context-menu":"action.stretch-vertical.short"},icon:"stretch-vertical",onSelect(A){c()&&(l()||(o("stretch-shapes",{operation:"vertical",source:A}),r.markHistoryStoppingPoint("stretch vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.stretchShapes(f,"vertical"),Sn(r,f)})))}},{id:"flip-horizontal",label:{default:"action.flip-horizontal","context-menu":"action.flip-horizontal.short"},kbd:"!h",onSelect(A){c()&&(l()||(o("flip-shapes",{operation:"horizontal",source:A}),r.markHistoryStoppingPoint("flip horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.flipShapes(f,"horizontal"),Sn(r,f)})))}},{id:"flip-vertical",label:{default:"action.flip-vertical","context-menu":"action.flip-vertical.short"},kbd:"!v",onSelect(A){c()&&(l()||(o("flip-shapes",{operation:"vertical",source:A}),r.markHistoryStoppingPoint("flip vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.flipShapes(f,"vertical"),Sn(r,f)})))}},{id:"pack",label:"action.pack",icon:"pack",onSelect(A){c()&&(l()||(o("pack-shapes",{source:A}),r.markHistoryStoppingPoint("pack"),r.run(()=>{const f=r.getSelectedShapeIds();r.packShapes(f,r.options.adjacentShapeMargin),Sn(r,f)})))}},{id:"stack-vertical",label:{default:"action.stack-vertical","context-menu":"action.stack-vertical.short"},icon:"stack-vertical",onSelect(A){c()&&(l()||(o("stack-shapes",{operation:"vertical",source:A}),r.markHistoryStoppingPoint("stack-vertical"),r.run(()=>{const f=r.getSelectedShapeIds();r.stackShapes(f,"vertical",16),Sn(r,f)})))}},{id:"stack-horizontal",label:{default:"action.stack-horizontal","context-menu":"action.stack-horizontal.short"},icon:"stack-horizontal",onSelect(A){c()&&(l()||(o("stack-shapes",{operation:"horizontal",source:A}),r.markHistoryStoppingPoint("stack-horizontal"),r.run(()=>{const f=r.getSelectedShapeIds();r.stackShapes(f,"horizontal",16),Sn(r,f)})))}},{id:"bring-to-front",label:"action.bring-to-front",kbd:"]",icon:"bring-to-front",onSelect(A){c()&&(l()||(o("reorder-shapes",{operation:"toFront",source:A}),r.markHistoryStoppingPoint("bring to front"),r.bringToFront(r.getSelectedShapeIds())))}},{id:"bring-forward",label:"action.bring-forward",icon:"bring-forward",kbd:"?]",onSelect(A){c()&&(l()||(o("reorder-shapes",{operation:"forward",source:A}),r.markHistoryStoppingPoint("bring forward"),r.bringForward(r.getSelectedShapeIds())))}},{id:"send-backward",label:"action.send-backward",icon:"send-backward",kbd:"?[",onSelect(A){c()&&(l()||(o("reorder-shapes",{operation:"backward",source:A}),r.markHistoryStoppingPoint("send backward"),r.sendBackward(r.getSelectedShapeIds())))}},{id:"send-to-back",label:"action.send-to-back",icon:"send-to-back",kbd:"[",onSelect(A){c()&&(l()||(o("reorder-shapes",{operation:"toBack",source:A}),r.markHistoryStoppingPoint("send to back"),r.sendToBack(r.getSelectedShapeIds())))}},{id:"cut",label:"action.cut",kbd:"$x",onSelect(A){c()&&(l()||(r.markHistoryStoppingPoint("cut"),i.cut(A)))}},{id:"copy",label:"action.copy",kbd:"$c",readonlyOk:!0,onSelect(A){c()&&(l()||i.copy(A))}},{id:"paste",label:"action.paste",kbd:"$v",onSelect(A){var f;(f=navigator.clipboard)==null||f.read().then(h=>{i.paste(h,A,A==="context-menu"?r.inputs.currentPagePoint:void 0)}).catch(()=>{i.addToast({title:i.msg("action.paste-error-title"),description:i.msg("action.paste-error-description"),severity:"error"})})}},{id:"select-all",label:"action.select-all",kbd:"$a",readonlyOk:!0,onSelect(A){r.run(()=>{l()||(o("select-all-shapes",{source:A}),r.markHistoryStoppingPoint("select all kbd"),r.selectAll())})}},{id:"select-none",label:"action.select-none",readonlyOk:!0,onSelect(A){c()&&(l()||(o("select-none-shapes",{source:A}),r.markHistoryStoppingPoint("select none"),r.selectNone()))}},{id:"delete",label:"action.delete",kbd:",del,backspace",icon:"trash",onSelect(A){c()&&(l()||(o("delete-shapes",{source:A}),r.markHistoryStoppingPoint("delete"),r.deleteShapes(r.getSelectedShapeIds())))}},{id:"rotate-cw",label:"action.rotate-cw",icon:"rotate-cw",onSelect(A){c()&&(l()||(o("rotate-cw",{source:A}),r.markHistoryStoppingPoint("rotate-cw"),r.run(()=>{const f=r.getSelectionRotation()%(En/2),h=KA(f,0)||KA(f,En/2),p=r.getSelectedShapeIds();r.rotateShapesBy(p,En/2-(h?0:f)),Sn(r,p)})))}},{id:"rotate-ccw",label:"action.rotate-ccw",icon:"rotate-ccw",onSelect(A){c()&&(l()||(o("rotate-ccw",{source:A}),r.markHistoryStoppingPoint("rotate-ccw"),r.run(()=>{const f=r.getSelectionRotation()%(En/2),h=KA(f,0),p=r.getSelectedShapeIds();r.rotateShapesBy(p,h?-(En/2):-f),Sn(r,p)})))}},{id:"zoom-in",label:"action.zoom-in",kbd:"$=,=",readonlyOk:!0,onSelect(A){o("zoom-in",{source:A}),r.zoomIn(void 0,{animation:{duration:r.options.animationMediumMs}})}},{id:"zoom-out",label:"action.zoom-out",kbd:"$-,-",readonlyOk:!0,onSelect(A){o("zoom-out",{source:A}),r.zoomOut(void 0,{animation:{duration:r.options.animationMediumMs}})}},{id:"zoom-to-100",label:"action.zoom-to-100",icon:"reset-zoom",kbd:"!0",readonlyOk:!0,onSelect(A){o("reset-zoom",{source:A}),r.resetZoom(void 0,{animation:{duration:r.options.animationMediumMs}})}},{id:"zoom-to-fit",label:"action.zoom-to-fit",kbd:"!1",readonlyOk:!0,onSelect(A){o("zoom-to-fit",{source:A}),r.zoomToFit({animation:{duration:r.options.animationMediumMs}})}},{id:"zoom-to-selection",label:"action.zoom-to-selection",kbd:"!2",readonlyOk:!0,onSelect(A){c()&&(l()||(o("zoom-to-selection",{source:A}),r.zoomToSelection({animation:{duration:r.options.animationMediumMs}})))}},{id:"toggle-snap-mode",label:{default:"action.toggle-snap-mode",menu:"action.toggle-snap-mode.menu"},onSelect(A){o("toggle-snap-mode",{source:A}),r.user.updateUserPreferences({isSnapMode:!r.user.getIsSnapMode()})},checkbox:!0},{id:"toggle-dark-mode",label:{default:"action.toggle-dark-mode",menu:"action.toggle-dark-mode.menu"},kbd:"$/",readonlyOk:!0,onSelect(A){const f=r.user.getIsDarkMode()?"light":"dark";o("color-scheme",{source:A,value:f}),r.user.updateUserPreferences({colorScheme:f})},checkbox:!0},{id:"toggle-wrap-mode",label:{default:"action.toggle-wrap-mode",menu:"action.toggle-wrap-mode.menu"},readonlyOk:!0,onSelect(A){o("toggle-wrap-mode",{source:A}),r.user.updateUserPreferences({isWrapMode:!r.user.getIsWrapMode()})},checkbox:!0},{id:"toggle-dynamic-size-mode",label:{default:"action.toggle-dynamic-size-mode",menu:"action.toggle-dynamic-size-mode.menu"},readonlyOk:!1,onSelect(A){o("toggle-dynamic-size-mode",{source:A}),r.user.updateUserPreferences({isDynamicSizeMode:!r.user.getIsDynamicResizeMode()})},checkbox:!0},{id:"toggle-paste-at-cursor",label:{default:"action.toggle-paste-at-cursor",menu:"action.toggle-paste-at-cursor.menu"},readonlyOk:!1,onSelect(A){o("toggle-paste-at-cursor",{source:A}),r.user.updateUserPreferences({isPasteAtCursorMode:!r.user.getIsPasteAtCursorMode()})},checkbox:!0},{id:"toggle-reduce-motion",label:{default:"action.toggle-reduce-motion",menu:"action.toggle-reduce-motion.menu"},readonlyOk:!0,onSelect(A){o("toggle-reduce-motion",{source:A}),r.user.updateUserPreferences({animationSpeed:r.user.getAnimationSpeed()===0?1:0})},checkbox:!0},{id:"toggle-edge-scrolling",label:{default:"action.toggle-edge-scrolling",menu:"action.toggle-edge-scrolling.menu"},readonlyOk:!0,onSelect(A){o("toggle-edge-scrolling",{source:A}),r.user.updateUserPreferences({edgeScrollSpeed:r.user.getEdgeScrollSpeed()===0?1:0})},checkbox:!0},{id:"toggle-transparent",label:{default:"action.toggle-transparent",menu:"action.toggle-transparent.menu","context-menu":"action.toggle-transparent.context-menu"},readonlyOk:!0,onSelect(A){o("toggle-transparent",{source:A}),r.updateInstanceState({exportBackground:!r.getInstanceState().exportBackground})},checkbox:!0},{id:"toggle-tool-lock",label:{default:"action.toggle-tool-lock",menu:"action.toggle-tool-lock.menu"},kbd:"q",onSelect(A){o("toggle-tool-lock",{source:A}),r.updateInstanceState({isToolLocked:!r.getInstanceState().isToolLocked})},checkbox:!0},{id:"unlock-all",label:"action.unlock-all",onSelect(A){o("unlock-all",{source:A});const f=[];for(const h of r.getCurrentPageShapes())h.isLocked&&f.push({id:h.id,type:h.type,isLocked:!1});f.length>0&&r.updateShapes(f)}},{id:"toggle-focus-mode",label:{default:"action.toggle-focus-mode",menu:"action.toggle-focus-mode.menu"},readonlyOk:!0,kbd:"$.",checkbox:!0,onSelect(A){r.timers.requestAnimationFrame(()=>{r.run(()=>{o("toggle-focus-mode",{source:A}),i.clearDialogs(),i.clearToasts(),r.updateInstanceState({isFocusMode:!r.getInstanceState().isFocusMode})})})}},{id:"toggle-grid",label:{default:"action.toggle-grid",menu:"action.toggle-grid.menu"},readonlyOk:!0,kbd:"$'",onSelect(A){o("toggle-grid-mode",{source:A}),r.updateInstanceState({isGridMode:!r.getInstanceState().isGridMode})},checkbox:!0},{id:"toggle-debug-mode",label:{default:"action.toggle-debug-mode",menu:"action.toggle-debug-mode.menu"},readonlyOk:!0,onSelect(A){o("toggle-debug-mode",{source:A}),r.updateInstanceState({isDebugMode:!r.getInstanceState().isDebugMode})},checkbox:!0},{id:"print",label:"action.print",kbd:"$p",readonlyOk:!0,onSelect(A){o("print",{source:A}),i.printSelectionOrPages()}},{id:"exit-pen-mode",label:"action.exit-pen-mode",icon:"cross-2",readonlyOk:!0,onSelect(A){o("exit-pen-mode",{source:A}),r.updateInstanceState({isPenMode:!1})}},{id:"stop-following",label:"action.stop-following",icon:"cross-2",readonlyOk:!0,onSelect(A){o("stop-following",{source:A}),r.stopFollowingUser()}},{id:"back-to-content",label:"action.back-to-content",icon:"arrow-left",readonlyOk:!0,onSelect(A){o("zoom-to-content",{source:A});const f=r.getSelectionPageBounds()??r.getCurrentPageBounds();f&&r.zoomToBounds(f,{targetZoom:Math.min(1,r.getZoomLevel()),animation:{duration:220}})}},{id:"toggle-lock",label:"action.toggle-lock",kbd:"!l",onSelect(A){r.markHistoryStoppingPoint("locking"),o("toggle-lock",{source:A}),r.toggleLock(r.getSelectedShapeIds())}},{id:"move-to-new-page",label:"context.pages.new-page",onSelect(A){const f=Rs.createId(),h=r.getSelectedShapeIds();r.run(()=>{r.markHistoryStoppingPoint("move_shapes_to_page"),r.createPage({name:i.msg("page-menu.new-page-initial-name"),id:f}),r.moveShapesToPage(h,f)}),o("move-to-new-page",{source:A})}},{id:"select-white-color",label:"color-style.white",kbd:"?t",onSelect(A){const f=Os;r.run(()=>{r.markHistoryStoppingPoint("change-color"),r.isIn("select")&&r.setStyleForSelectedShapes(f,"white"),r.setStyleForNextShapes(f,"white")}),o("set-style",{source:A,id:f.id,value:"white"})}},{id:"select-fill-fill",label:"fill-style.fill",kbd:"?f",onSelect(A){const f=Dh;r.run(()=>{r.markHistoryStoppingPoint("change-fill"),r.isIn("select")&&r.setStyleForSelectedShapes(f,"fill"),r.setStyleForNextShapes(f,"fill")}),o("set-style",{source:A,id:f.id,value:"fill"})}},{id:"flatten-to-image",label:"action.flatten-to-image",kbd:"!f",onSelect:async A=>{const f=r.getSelectedShapeIds();if(f.length===0)return;r.markHistoryStoppingPoint("flattening to image"),o("flatten-to-image",{source:A});const h=await WQt(r,f,r.options.flattenImageBoundsExpand);h!=null&&h.length&&r.setSelectedShapes(h)}},{id:"select-geo-tool",kbd:"g",onSelect:async A=>{o("select-tool",{source:A,id:"geo-previous"}),r.setCurrentTool("geo")}}];n&&u.push({id:"open-cursor-chat",label:"action.open-cursor-chat",readonlyOk:!0,kbd:"/",onSelect(A){o("open-cursor-chat",{source:A}),!r.getInstanceState().isCoarsePointer&&r.timers.requestAnimationFrame(()=>{r.updateInstanceState({isChatting:!0})})}});const d=YHt(u);return e?e(r,d,i):d},[i,r,o,e,a,n]);return m.jsx(x5e.Provider,{value:s,children:t})}function yp(){const e=I.useContext(x5e);if(!e)throw new Error("useTools must be used within a ToolProvider");return e}function Yw(e,t){return e?typeof e=="string"?e:t?e[t]??e.default:void 0:void 0}function $s(){const e=yf();return Re("isReadonlyMode",()=>!!(e!=null&&e.getIsReadonly()),[e])}const JHt=an.isDarwin?"":"Ctrl",ZHt=an.isDarwin?"":"Alt";function S5e(e){return e===","?[","]:e.split(",")[0].split("").map(t=>{const r=t.replace(/\$/g,JHt).replace(/\?/g,ZHt).replace(/!/g,"");return r[0].toUpperCase()+r.slice(1)})}function _5(e){return" "+S5e(e).join("")}function D0({children:e,visibleOnMobileLayout:t=!1}){const r=Ma();return!t&&r<fi.MOBILE?null:m.jsx("kbd",{className:"tlui-kbd",children:S5e(e).map((n,i)=>m.jsx("span",{children:n},i))})}const C5e=I.createContext(null);function cT(){const e=I.useContext(C5e);if(!e)throw new Error("useTldrawUiMenuContext must be used within a TldrawUiMenuContextProvider");return e}function xl({type:e,sourceId:t,children:r}){return m.jsx(C5e.Provider,{value:{type:e,sourceId:t},children:r})}function uT({id:e,kbd:t,label:r,readonlyOk:n,onSelect:i,toggle:o=!1,disabled:a=!1,checked:s=!1}){const{type:l,sourceId:c}=cT(),u=$s(),d=Or();if(u&&!n)return null;const A=Yw(r,l),f=A?d(A):void 0;switch(l){case"menu":return m.jsxs(fQt,{dir:"ltr",className:"tlui-button tlui-button__menu tlui-button__checkbox",title:f,onSelect:h=>{i==null||i(c),hr(h)},disabled:a,checked:s,children:[m.jsx(fu,{small:!0,icon:o?s?"toggle-on":"toggle-off":s?"check":"none"}),f&&m.jsx("span",{className:"tlui-button__label",draggable:!1,children:f}),t&&m.jsx(D0,{children:t})]});case"context-menu":return m.jsxs(H4t,{className:"tlui-button tlui-button__menu tlui-button__checkbox",dir:"ltr",title:f,onSelect:h=>{i(c),hr(h)},disabled:a,checked:s,children:[m.jsx(fu,{small:!0,icon:o?s?"toggle-on":"toggle-off":s?"check":"none"}),f&&m.jsx("span",{className:"tlui-button__label",draggable:!1,children:f}),t&&m.jsx(D0,{children:t})]},e);default:return null}}function Kd(e,t){const r=yf(),n=I.useCallback(a=>{a&&(r==null||r.complete()),t==null||t(a)},[r,t]),i=ko(),o=I.useCallback(a=>{i(a,{source:"unknown",id:e})},[e,i]);return nLt(r?`${e}-${r.contextId}`:e,n,o)}function $h({id:e,children:t,modal:r=!1,debugOpen:n=!1}){const[i,o]=Kd(e);return m.jsx(b8,{open:n||i,dir:"ltr",modal:r,onOpenChange:o,children:t})}function Qh({children:e,...t}){return m.jsx(x8,{dir:"ltr",asChild:!0,onTouchEnd:r=>hr(r),...t,children:e})}function Hh({className:e,side:t="bottom",align:r="start",sideOffset:n=8,alignOffset:i=8,children:o}){const a=Yi();return m.jsx(tT,{container:a,children:m.jsx(S8,{className:jt("tlui-menu",e),side:t,sideOffset:n,align:r,alignOffset:i,collisionPadding:4,children:o})})}function e3t({id:e,children:t}){const[r,n]=Kd(e);return m.jsx(hQt,{open:r,onOpenChange:n,children:t})}function t3t({id:e,label:t,title:r,disabled:n}){return m.jsx(pQt,{dir:"ltr",asChild:!0,disabled:n,children:m.jsxs(Qt,{"data-testid":e,type:"menu",className:"tlui-menu__submenu__trigger",disabled:n,title:r,children:[m.jsx(Si,{children:t}),m.jsx(_r,{icon:"chevron-right",small:!0})]})})}function r3t({id:e,alignOffset:t=-1,sideOffset:r=-6,size:n="small",children:i}){const o=Yi();return m.jsx(tT,{container:o,children:m.jsx(gQt,{"data-testid":e,className:"tlui-menu tlui-menu__submenu__content",alignOffset:t,sideOffset:r,collisionPadding:4,"data-size":n,children:i})})}function n3t({children:e}){return m.jsx(dQt,{dir:"ltr",className:"tlui-menu__group",children:e})}function Xw({noClose:e,children:t}){return m.jsx(AQt,{dir:"ltr",asChild:!0,onClick:e?hr:void 0,children:t})}function ur({id:e,label:t,children:r}){const{type:n,sourceId:i}=cT(),o=Or(),a=Yw(t,n),s=a?o(a):void 0;switch(n){case"panel":return m.jsx("div",{className:"tlui-menu__group","data-testid":`${i}-group.${e}`,children:r});case"menu":return m.jsx(n3t,{"data-testid":`${i}-group.${e}`,children:r});case"context-menu":return m.jsx(y3e,{dir:"ltr",className:"tlui-menu__group","data-testid":`${i}-group.${e}`,children:r});case"keyboard-shortcuts":return m.jsxs("div",{className:"tlui-shortcuts-dialog__group","data-testid":`${i}-group.${e}`,children:[m.jsx("h2",{className:"tlui-shortcuts-dialog__group__title",children:s}),m.jsx("div",{className:"tlui-shortcuts-dialog__group__content",children:r})]});default:return r}}function ss({id:e,disabled:t=!1,label:r,size:n="small",children:i}){const{type:o,sourceId:a}=cT(),s=Yi(),l=Or(),c=r?typeof r=="string"?r:r[o]??r.default:void 0,u=c?l(c):void 0;switch(o){case"menu":return m.jsxs(e3t,{id:`${a}-sub.${e}`,children:[m.jsx(t3t,{id:`${a}-sub.${e}-button`,disabled:t,label:u,title:u}),m.jsx(r3t,{id:`${a}-sub.${e}-content`,size:n,children:i})]});case"context-menu":return t?null:m.jsxs(i3t,{id:`${a}-sub.${e}`,children:[m.jsx(S3e,{dir:"ltr",disabled:t,asChild:!0,children:m.jsxs(Qt,{"data-testid":`${a}-sub.${e}-button`,type:"menu",className:"tlui-menu__submenu__trigger",children:[m.jsx(Si,{children:u}),m.jsx(_r,{icon:"chevron-right",small:!0})]})}),m.jsx(y8,{container:s,children:m.jsx(C3e,{"data-testid":`${a}-sub.${e}-content`,className:"tlui-menu tlui-menu__submenu__content",alignOffset:-1,sideOffset:-4,collisionPadding:4,"data-size":n,children:i})})]});default:return i}}function i3t({id:e,children:t}){const[r,n]=Kd(e);return m.jsx(x3e,{open:r,onOpenChange:n,children:t})}const o3t=[{colorScheme:"light",label:"theme.light"},{colorScheme:"dark",label:"theme.dark"},{colorScheme:"system",label:"theme.system"}];function a3t(){const e=Ee(),t=ko(),r=Re("colorScheme",()=>e.user.getUserPreferences().colorScheme??(e.user.getIsDarkMode()?"dark":"light"),[e]);return m.jsx(ss,{id:"help menu color-scheme",label:"menu.theme",children:m.jsx(ur,{id:"theme",children:o3t.map(({colorScheme:n,label:i})=>m.jsx(uT,{id:`color-scheme-${n}`,label:i,checked:n===r,readonlyOk:!0,onSelect:()=>{e.user.updateUserPreferences({colorScheme:n}),t("color-scheme",{source:"menu",value:n})}},n))})})}const s3t=({id:e,component:t,onClose:r,preventBackgroundClose:n})=>{const{removeDialog:i}=gx(),o=I.useRef(!1),a=Yi(),s=I.useCallback(l=>{if(!l){if(r)try{r()}catch(c){console.warn(c)}i(e)}},[e,r,i]);return m.jsx(FQt,{onOpenChange:s,defaultOpen:!0,children:m.jsx(kQt,{container:a,children:m.jsx(UQt,{dir:"ltr",className:"tlui-dialog__overlay",onClick:l=>{o.current||!n&&l.target===l.currentTarget&&s(!1)},children:m.jsx(DQt,{dir:"ltr",className:"tlui-dialog__content","aria-describedby":void 0,onMouseDown:()=>o.current=!0,onMouseUp:()=>o.current=!1,onInteractOutside:l=>{o.current=!1,n&&l.preventDefault()},children:m.jsx(t,{onClose:()=>{o.current=!1,s(!1)}})})})})})},l3t=I.memo(function(){const{dialogs:t}=gx();return Re("dialogs",()=>t.get(),[t]).map(n=>m.jsx(s3t,{...n},n.id))}),c3t=4e3,u3t={success:"check-circle",warning:"warning-triangle",error:"cross-circle",info:"info-circle"};function d3t({toast:e}){const{removeToast:t}=zd(),r=Or(),n=a=>{a||t(e.id)},i=e.actions&&e.actions.length>0,o=e.icon||e.severity&&u3t[e.severity];return m.jsxs(pHt,{onOpenChange:n,className:"tlui-toast__container",duration:e.keepOpen?1/0:c3t,"data-severity":e.severity,children:[o&&m.jsx("div",{className:"tlui-toast__icon",children:m.jsx(fu,{icon:o})}),m.jsxs("div",{className:"tlui-toast__main","data-title":!!e.title,"data-description":!!e.description,"data-actions":!!e.actions,children:[m.jsxs("div",{className:"tlui-toast__content",children:[e.title&&m.jsx(gHt,{className:"tlui-toast__title",children:e.title}),e.description&&m.jsx(mHt,{className:"tlui-toast__description",children:e.description})]}),e.actions&&m.jsxs("div",{className:"tlui-toast__actions",children:[e.actions.map((a,s)=>m.jsx(vHt,{altText:a.label,asChild:!0,onClick:a.onClick,children:m.jsx(Qt,{type:a.type,children:m.jsx(Si,{children:a.label})})},s)),m.jsx(PBe,{asChild:!0,children:m.jsx(Qt,{type:"normal",className:"tlui-toast__close",style:{marginLeft:"auto"},children:m.jsx(Si,{children:e.closeLabel??r("toast.close")})})})]})]}),!i&&m.jsx(PBe,{asChild:!0,children:m.jsx(Qt,{type:"normal",className:"tlui-toast__close",children:m.jsx(Si,{children:e.closeLabel??r("toast.close")})})})]})}const A3t=I.memo(function(){const{toasts:t}=zd(),r=Re("toasts",()=>t.get(),[]);return m.jsxs(m.Fragment,{children:[r.map(n=>m.jsx(d3t,{toast:n},n.id)),m.jsx(s5e,{className:"tlui-toast__viewport"})]})});function Cc({actionId:e="",...t}){const n=yp()[e];return n?m.jsx(uT,{...n,...t}):null}function MBe(e){return m.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",...e,children:m.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[m.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"currentColor"}),m.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"currentColor",children:m.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}function So({disabled:e=!1,spinner:t=!1,readonlyOk:r=!1,id:n,kbd:i,label:o,icon:a,onSelect:s,noClose:l,isSelected:c}){const{type:u,sourceId:d}=cT(),A=Or(),[f,h]=I.useState(!1);if($s()&&!r)return null;const v=Yw(o,u),y=i?_5(i):void 0,b=v?A(v):void 0,x=b&&y?`${b} ${y}`:b;switch(u){case"menu":return m.jsx(Xw,{children:m.jsxs(Qt,{type:"menu","data-testid":`${d}.${n}`,disabled:e,title:x,onClick:S=>{l&&hr(S),f?h(!1):s(d)},children:[m.jsx(Si,{children:b}),i&&m.jsx(D0,{children:i})]})});case"context-menu":return e?null:m.jsxs(w3e,{dir:"ltr",title:x,draggable:!1,className:"tlui-button tlui-button__menu","data-testid":`${d}.${n}`,onSelect:S=>{l&&hr(S),f?h(!1):s(d)},children:[m.jsx("span",{className:"tlui-button__label",draggable:!1,children:b}),i&&m.jsx(D0,{children:i}),t&&m.jsx(MBe,{})]});case"panel":return m.jsxs(Qt,{"data-testid":`${d}.${n}`,type:"menu",title:x,disabled:e,onClick:()=>s(d),children:[m.jsx(Si,{children:b}),t?m.jsx(MBe,{}):a&&m.jsx(_r,{icon:a})]});case"small-icons":case"icons":return m.jsx(Qt,{"data-testid":`${d}.${n}`,type:"icon",title:x,disabled:e,onClick:()=>s(d),children:m.jsx(_r,{icon:a,small:u==="small-icons"})});case"keyboard-shortcuts":return i?m.jsxs("div",{className:"tlui-shortcuts-dialog__key-pair","data-testid":`${d}.${n}`,children:[m.jsx("div",{className:"tlui-shortcuts-dialog__key-pair__key",children:b}),m.jsx("div",{className:"tlui-shortcuts-dialog__key-pair__value",children:m.jsx(D0,{visibleOnMobileLayout:!0,children:i})})]}):(console.warn(`Menu item '${o}' isn't shown in the keyboard shortcuts dialog because it doesn't have a keyboard shortcut.`),null);case"helper-buttons":return m.jsxs(Qt,{type:"low",onClick:()=>s(d),children:[m.jsx(_r,{icon:a}),m.jsx(Si,{children:b})]});case"toolbar":return m.jsx(Qt,{type:"tool","data-testid":`tools.${n}`,"aria-label":v,"data-value":n,onClick:()=>s("toolbar"),title:x,disabled:e,onTouchStart:S=>{hr(S),s("toolbar")},role:"radio","aria-checked":c?"true":"false",children:m.jsx(_r,{icon:a})});case"toolbar-overflow":return m.jsx(Xw,{"aria-label":o,children:m.jsx(Qt,{type:"icon",className:"tlui-button-grid__button",onClick:()=>{s("toolbar")},"data-testid":`tools.more.${n}`,title:x,disabled:e,role:"radio","aria-checked":c?"true":"false","data-value":n,children:m.jsx(_r,{icon:a})})});default:throw Di(u)}}function He({actionId:e="",...t}){const n=yp()[e];return n?m.jsx(So,{...n,...t}):null}const _5e=I.createContext(null);function f3t({overrides:e,children:t}){const r=Ee(),n=ko(),i=D8(),o=I.useMemo(()=>{const a=[{id:"select",label:"tool.select",icon:"tool-pointer",kbd:"v",readonlyOk:!0,onSelect(l){if(r.isIn("select")){const c=r.root.getCurrent();c.exit({},c.id),c.enter({},c.id)}r.setCurrentTool("select"),n("select-tool",{source:l,id:"select"})}},{id:"hand",label:"tool.hand",icon:"tool-hand",kbd:"h",readonlyOk:!0,onSelect(l){r.setCurrentTool("hand"),n("select-tool",{source:l,id:"hand"})}},{id:"eraser",label:"tool.eraser",icon:"tool-eraser",kbd:"e",onSelect(l){r.setCurrentTool("eraser"),n("select-tool",{source:l,id:"eraser"})}},{id:"draw",label:"tool.draw",icon:"tool-pencil",kbd:"d,b,x",onSelect(l){r.setCurrentTool("draw"),n("select-tool",{source:l,id:"draw"})}},...[...rc.values].map(l=>({id:l,label:`tool.${l}`,meta:{geo:l},kbd:l==="rectangle"?"r":l==="ellipse"?"o":void 0,icon:"geo-"+l,onSelect(c){r.run(()=>{r.setStyleForNextShapes(rc,l),r.setCurrentTool("geo"),n("select-tool",{source:c,id:`geo-${l}`})})}})),{id:"arrow",label:"tool.arrow",icon:"tool-arrow",kbd:"a",onSelect(l){r.setCurrentTool("arrow"),n("select-tool",{source:l,id:"arrow"})}},{id:"line",label:"tool.line",icon:"tool-line",kbd:"l",onSelect(l){r.setCurrentTool("line"),n("select-tool",{source:l,id:"line"})}},{id:"frame",label:"tool.frame",icon:"tool-frame",kbd:"f",onSelect(l){r.setCurrentTool("frame"),n("select-tool",{source:l,id:"frame"})}},{id:"text",label:"tool.text",icon:"tool-text",kbd:"t",onSelect(l){r.setCurrentTool("text"),n("select-tool",{source:l,id:"text"})}},{id:"asset",label:"tool.asset",icon:"tool-media",kbd:"$u",onSelect(l){i.insertMedia(),n("select-tool",{source:l,id:"media"})}},{id:"note",label:"tool.note",icon:"tool-note",kbd:"n",onSelect(l){r.setCurrentTool("note"),n("select-tool",{source:l,id:"note"})}},{id:"laser",label:"tool.laser",readonlyOk:!0,icon:"tool-laser",kbd:"k",onSelect(l){r.setCurrentTool("laser"),n("select-tool",{source:l,id:"laser"})}},{id:"embed",label:"tool.embed",icon:"dot",onSelect(l){i.addDialog({component:r5e}),n("select-tool",{source:l,id:"embed"})}},{id:"highlight",label:"tool.highlight",icon:"tool-highlight",kbd:"!d",onSelect(l){r.setCurrentTool("highlight"),n("select-tool",{source:l,id:"highlight"})}}];a.push();const s=Object.fromEntries(a.map(l=>[l.id,l]));return e?e(r,s,i):s},[e,r,n,i]);return m.jsx(_5e.Provider,{value:o,children:t})}function j8(){const e=I.useContext(_5e);if(!e)throw new Error("useTools must be used within a ToolProvider");return e}function qa({toolId:e="",...t}){const n=j8()[e];return n?m.jsx(So,{...n,...t}):null}function h3t({children:e}){const t=Ee();return Re("shouldDisplayHandles",()=>{if(t.isInAny("select.idle","select.pointing_handle","select.pointing_shape"))return!0;if(t.isInAny("select.editing_shape")){const n=t.getOnlySelectedShape();return n&&t.isShapeOfType(n,"note")}return!1},[t])?m.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:e}):null}const{PI:p3t}=Math,Gg=p3t+1e-4;function E5e(e,t={}){const{size:r=16,smoothing:n=.5}=t;if(e.length===0||r<=0)return{left:[],right:[]};const i=e[0],o=e[e.length-1],a=o.runningLength,s=Math.pow(r*n,2),l=[],c=[];let u=e[0].vector,d=e[0].point,A=d,f=d,h=A,p=!1,v;for(let y=0;y<e.length;y++){v=e[y];const{point:b,vector:x}=e[y],S=v.vector.dpr(u),C=(y<e.length-1?e[y+1]:e[y]).vector,_=y<e.length-1?C.dpr(v.vector):1,B=S<0&&!p,T=_!==null&&_<.2;if(B||T){if(_>-.62&&a-v.runningLength>v.radius){const P=u.clone().mul(v.radius);u.clone().cpr(C)<0?(f=L.Add(b,P),h=L.Sub(b,P)):(f=L.Sub(b,P),h=L.Add(b,P)),l.push(f),c.push(h)}else{const P=u.clone().mul(v.radius).per(),F=L.Sub(v.input,P);for(let U=1/13,k=0;k<1;k+=U)f=L.RotWith(F,v.input,Gg*k),l.push(f),h=L.RotWith(F,v.input,Gg+Gg*-k),c.push(h)}d=f,A=h,T&&(p=!0);continue}if(p=!1,v===i||v===o){const P=L.Per(x).mul(v.radius);l.push(L.Sub(b,P)),c.push(L.Add(b,P));continue}const O=L.Lrp(C,x,_).per().mul(v.radius);f=L.Sub(b,O),(y<=1||L.Dist2(d,f)>s)&&(l.push(f),d=f),h=L.Add(b,O),(y<=1||L.Dist2(A,h)>s)&&(c.push(h),A=h),u=x}return{left:l,right:c}}function L8(e,t={}){const{size:r=16,start:n={},end:i={},last:o=!1}=t,{cap:a=!0}=n,{cap:s=!0}=i;if(e.length===0||r<=0)return[];const l=e[0],c=e[e.length-1],u=c.runningLength,d=n.taper===!1?0:n.taper===!0?Math.max(r,u):n.taper,A=i.taper===!1?0:i.taper===!0?Math.max(r,u):i.taper,{left:f,right:h}=E5e(e,t),p=l.point,v=e.length>1?e[e.length-1].point:L.AddXY(l.point,1,1);if(e.length===1&&(!(d||A)||o)){const S=L.Add(p,L.Sub(p,v).uni().per().mul(-l.radius)),C=[];for(let _=1/13,B=_;B<=1;B+=_)C.push(L.RotWith(S,p,Gg*2*B));return C}const y=[];if(!(d||A&&e.length===1))if(a)for(let S=1/8,C=S;C<=1;C+=S){const _=L.RotWith(h[0],p,Gg*C);y.push(_)}else{const S=L.Sub(f[0],h[0]),C=L.Mul(S,.5),_=L.Mul(S,.51);y.push(L.Sub(p,C),L.Sub(p,_),L.Add(p,_),L.Add(p,C))}const b=[],x=c.vector.clone().per().neg();if(A||d&&e.length===1)b.push(v);else if(s){const S=L.Add(v,L.Mul(x,c.radius));for(let C=1/29,_=C;_<1;_+=C)b.push(L.RotWith(S,v,Gg*3*_))}else b.push(L.Add(v,L.Mul(x,c.radius)),L.Add(v,L.Mul(x,c.radius*.99)),L.Sub(v,L.Mul(x,c.radius*.99)),L.Sub(v,L.Mul(x,c.radius)));return f.concat(b,h.reverse(),y)}const g3t=.025,m3t=.01;function hu(e,t={}){var v;const{streamline:r=.5,size:n=16,simulatePressure:i=!1}=t;if(e.length===0)return[];const o=.15+(1-r)*.85;let a=e.map(L.From),s=0;if(!i){let y=a[0];for(;y&&!(y.z>=g3t);)a.shift(),y=a[0]}if(!i){let y=a[a.length-1];for(;y&&!(y.z>=m3t);)a.pop(),y=a[a.length-1]}if(a.length===0)return[{point:L.From(e[0]),input:L.From(e[0]),pressure:i?.5:.15,vector:new L(1,1),distance:0,runningLength:0,radius:1}];let l=a[1];for(;l&&!(L.Dist2(l,a[0])>(n/3)**2);)a[0].z=Math.max(a[0].z,l.z),a.splice(1,1),l=a[1];const c=a.pop();for(l=a[a.length-1];l&&!(L.Dist2(l,c)>(n/3)**2);)a.pop(),l=a[a.length-1],s++;a.push(c);const u=t.last||!t.simulatePressure||a.length>1&&L.Dist2(a[a.length-1],a[a.length-2])<n**2||s>0;if(a.length===2&&t.simulatePressure){const y=a[1];a=a.slice(0,-1);for(let b=1;b<5;b++){const x=L.Lrp(a[0],y,b/4);x.z=(a[0].z+(y.z-a[0].z))*b/4,a.push(x)}}const d=[{point:a[0],input:a[0],pressure:i?.5:a[0].z,vector:new L(1,1),distance:0,runningLength:0,radius:1}];let A=0,f=d[0],h,p;u&&r>0&&a.push(a[a.length-1].clone());for(let y=1,b=a.length;y<b;y++)h=!o||t.last&&y===b-1?a[y].clone():a[y].clone().lrp(f.point,1-o),!f.point.equals(h)&&(p=L.Dist(h,f.point),A+=p,!(y<4&&A<n)&&(f={input:a[y],point:h,pressure:i?.5:a[y].z,vector:L.Sub(f.point,h).uni(),distance:p,runningLength:A,radius:1},d.push(f)));if((v=d[1])!=null&&v.vector&&(d[0].vector=d[1].vector.clone()),A<1){const y=Math.max(.5,...d.map(b=>b.pressure));d.forEach(b=>b.pressure=y)}return d}const{min:mA}=Math,j4=.275;function dT(e,t){const{size:r=16,thinning:n=.5,simulatePressure:i=!0,easing:o=v=>v,start:a={},end:s={}}=t,{easing:l=so.easeOutQuad}=a,{easing:c=so.easeOutCubic}=s,u=e[e.length-1].runningLength;let d,A=e[0].pressure,f;if(!i&&u<r){const v=e.reduce((y,b)=>Math.max(y,b.pressure),.5);return e.forEach(y=>{y.pressure=v,y.radius=r*o(.5-n*(.5-y.pressure))}),e}else{let v;for(let y=0,b=e.length;y<b&&(f=e[y],!(f.runningLength>r*5));y++){const x=mA(1,f.distance/r);if(i){const S=mA(1,1-x);v=mA(1,A+(S-A)*(x*j4))}else v=mA(1,A+(f.pressure-A)*.5);A=A+(v-A)*.5}for(let y=0;y<e.length;y++){if(f=e[y],n){let{pressure:b}=f;const x=mA(1,f.distance/r);if(i){const S=mA(1,1-x);b=mA(1,A+(S-A)*(x*j4))}else b=mA(1,A+(b-A)*(x*j4));f.radius=r*o(.5-n*(.5-b)),A=b}else f.radius=r/2;d===void 0&&(d=f.radius)}}const h=a.taper===!1?0:a.taper===!0?Math.max(r,u):a.taper,p=s.taper===!1?0:s.taper===!0?Math.max(r,u):s.taper;if(h||p)for(let v=0;v<e.length;v++){f=e[v];const{runningLength:y}=f,b=y<h?l(y/h):1,x=u-y<p?c((u-y)/p):1;f.radius=Math.max(.01,f.radius*Math.min(b,x))}return e}function v3t(e,t={}){return L8(dT(hu(e,t),t),t)}function FBe({scribble:e,zoom:t,color:r,opacity:n,className:i}){if(!e.points.length)return null;const o=v3t(e.points,{size:e.size/t,start:{taper:e.taper,easing:so.linear},last:e.state==="stopping",simulatePressure:!1,streamline:.32});let a;if(o.length<4){const s=e.size/t/2,{x:l,y:c}=e.points[e.points.length-1];a=`M ${l-s},${c} a ${s},${s} 0 1,0 ${s*2},0 a ${s},${s} 0 1,0 ${-s*2},0`}else a=Yz(o);return m.jsx("svg",{className:i&&jt("tl-overlays__item",i),children:m.jsx("path",{className:"tl-scribble",d:a,fill:r??`var(--color-${e.color})`,opacity:n??e.opacity})})}const y3t=({bounds:e,rotation:t})=>{const r=Ee();return Re("should display",()=>r.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_shape","select.pointing_selection","text.resizing"),[r])?m.jsx(UDe,{bounds:e,rotation:t}):null};function w3t({size:e,width:t,height:r,hideAlternateHandles:n}){const i=_e(e/3),o=i/2;return m.jsxs("svg",{className:"tl-overlays__item",children:[m.jsx("polyline",{className:"tl-corner-crop-handle",points:`
						${_e(0-o)},${_e(e)} 
						${_e(0-o)},${_e(0-o)} 
						${_e(e)},${_e(0-o)}`,strokeWidth:i,"data-testid":"selection.crop.top_left","aria-label":"top_left handle"}),m.jsx("line",{className:jt("tl-corner-crop-edge-handle",{"tl-hidden":n}),x1:_e(t/2-e),y1:_e(0-o),x2:_e(t/2+e),y2:_e(0-o),strokeWidth:i,"data-testid":"selection.crop.top","aria-label":"top handle"}),m.jsx("polyline",{className:jt("tl-corner-crop-handle",{"tl-hidden":n}),points:`
						${_e(t-e)},${_e(0-o)} 
						${_e(t+o)},${_e(0-o)} 
						${_e(t+o)},${_e(e)}`,strokeWidth:i,"data-testid":"selection.crop.top_right","aria-label":"top_right handle"}),m.jsx("line",{className:jt("tl-corner-crop-edge-handle",{"tl-hidden":n}),x1:_e(t+o),y1:_e(r/2-e),x2:_e(t+o),y2:_e(r/2+e),strokeWidth:i,"data-testid":"selection.crop.right","aria-label":"right handle"}),m.jsx("polyline",{className:"tl-corner-crop-handle",points:`
						${_e(t+o)},${_e(r-e)} 
						${_e(t+o)},${_e(r+o)}
						${_e(t-e)},${_e(r+o)}`,strokeWidth:i,"data-testid":"selection.crop.bottom_right","aria-label":"bottom_right handle"}),m.jsx("line",{className:jt("tl-corner-crop-edge-handle",{"tl-hidden":n}),x1:_e(t/2-e),y1:_e(r+o),x2:_e(t/2+e),y2:_e(r+o),strokeWidth:i,"data-testid":"selection.crop.bottom","aria-label":"bottom handle"}),m.jsx("polyline",{className:jt("tl-corner-crop-handle",{"tl-hidden":n}),points:`
						${_e(0+e)},${_e(r+o)} 
						${_e(0-o)},${_e(r+o)}
						${_e(0-o)},${_e(r-e)}`,strokeWidth:i,"data-testid":"selection.crop.bottom_left","aria-label":"bottom_left handle"}),m.jsx("line",{className:jt("tl-corner-crop-edge-handle",{"tl-hidden":n}),x1:_e(0-o),y1:_e(r/2-e),x2:_e(0-o),y2:_e(r/2+e),strokeWidth:i,"data-testid":"selection.crop.left","aria-label":"left handle"})]})}const b3t=Ro(function({bounds:t,rotation:r}){const n=Ee(),i=I.useRef(null),o=$s(),a=Qc("top"),s=Qc("right"),l=Qc("bottom"),c=Qc("left"),u=Qc("top_left"),d=Qc("top_right"),A=Qc("bottom_right"),f=Qc("bottom_left"),h=n.getInstanceState().cursor.type==="default",p=n.getInstanceState().isCoarsePointer,v=n.getOnlySelectedShape(),y=v&&n.isShapeOrAncestorLocked(v),b=v?n.getShapeUtil(v).expandSelectionOutlinePx(v):0,x=b instanceof st?t.clone().expand(b).zeroFix():t.clone().expandBy(b).zeroFix();if(lv(i,t==null?void 0:t.x,t==null?void 0:t.y,1,n.getSelectionRotation(),{x:x.x-t.x,y:x.y-t.y}),v&&n.isShapeHidden(v))return null;const S=n.getZoomLevel(),C=n.getInstanceState().isChangingStyle,_=x.width,B=x.height,T=8/S,O=_<T*2,P=B<T*2,F=_<T*4,U=B<T*4,k=_<T*5,M=B<T*5,D=p?1.75:1,j=6/S*D,$=(F?j/2:j)*(D*.75),Q=(U?j/2:j)*(D*.75),H=(v?!n.getShapeUtil(v).hideSelectionBoundsFg(v):!0)&&!C;let W=H&&n.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_canvas","select.pointing_selection","select.pointing_shape","select.crop.idle","select.crop.pointing_crop","select.crop.pointing_crop_handle","select.pointing_resize_handle")||H&&n.isIn("select.resizing")&&v&&n.isShapeOfType(v,"text");v&&W&&an.isFirefox&&n.isShapeOfType(v,"embed")&&(W=!1);const z=n.isInAny("select.crop.idle","select.crop.pointing_crop","select.crop.pointing_crop_handle")&&!C&&!o,V=n.isInAny("select.idle","select.pointing_selection","select.pointing_shape","select.crop.idle")&&!C&&!o,G=!p&&!(O||P)&&(V||z)&&(v?!n.getShapeUtil(v).hideRotateHandle(v):!0)&&!y,X=p&&(!F||!U)&&(V||z)&&(v?!n.getShapeUtil(v).hideRotateHandle(v):!0)&&!y,Z=V&&(v?n.getShapeUtil(v).canResize(v)&&!n.getShapeUtil(v).hideResizeHandles(v):!0)&&!z&&!y,oe=O||P,ae=O&&P,ne=k||M,te=Z||z,se=!G,de=!V||!X,re=!V||!te,he=!V||!te||oe,ye=!V||!te||oe,ke=!V||!te||ae&&!z;let Ue=!0,Ne=!0;if(z)Ue=ne,Ne=ne;else if(Z){Ue=oe||ae||p;const Ve=p&&v&&v.type==="text";Ne=Ue&&!Ve}const Ye=Math.min(24/S,B-Q*3),lt=V&&p&&v&&n.isShapeOfType(v,"text")&&Ye*S>=4;return m.jsx("svg",{className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:m.jsxs("g",{ref:i,children:[W&&m.jsx("rect",{className:"tl-selection__fg__outline",width:_e(_),height:_e(B)}),m.jsx(z1,{"data-testid":"selection.rotate.top-left",cx:0,cy:0,targetSize:j,corner:"top_left_rotate",cursor:h?hs("nwse-rotate",r):void 0,isHidden:se}),m.jsx(z1,{"data-testid":"selection.rotate.top-right",cx:_+j*3,cy:0,targetSize:j,corner:"top_right_rotate",cursor:h?hs("nesw-rotate",r):void 0,isHidden:se}),m.jsx(z1,{"data-testid":"selection.rotate.bottom-left",cx:0,cy:B+j*3,targetSize:j,corner:"bottom_left_rotate",cursor:h?hs("swne-rotate",r):void 0,isHidden:se}),m.jsx(z1,{"data-testid":"selection.rotate.bottom-right",cx:_+j*3,cy:B+j*3,targetSize:j,corner:"bottom_right_rotate",cursor:h?hs("senw-rotate",r):void 0,isHidden:se}),m.jsx(S3t,{"data-testid":"selection.rotate.mobile",cx:F?-j*1.5:_/2,cy:F?B/2:-j*1.5,size:T,isHidden:de}),m.jsx("rect",{className:jt("tl-transparent",{"tl-hidden":Ue}),"data-testid":"selection.resize.top","aria-label":"top target",pointerEvents:"all",x:0,y:_e(0-(U?Q*2:Q)),width:_e(_),height:_e(Math.max(1,Q*2)),style:h?{cursor:hs("ns-resize",r)}:void 0,...a}),m.jsx("rect",{className:jt("tl-transparent",{"tl-hidden":Ne}),"data-testid":"selection.resize.right","aria-label":"right target",pointerEvents:"all",x:_e(_-(F?0:$)),y:0,height:_e(B),width:_e(Math.max(1,$*2)),style:h?{cursor:hs("ew-resize",r)}:void 0,...s}),m.jsx("rect",{className:jt("tl-transparent",{"tl-hidden":Ue}),"data-testid":"selection.resize.bottom","aria-label":"bottom target",pointerEvents:"all",x:0,y:_e(B-(U?0:Q)),width:_e(_),height:_e(Math.max(1,Q*2)),style:h?{cursor:hs("ns-resize",r)}:void 0,...l}),m.jsx("rect",{className:jt("tl-transparent",{"tl-hidden":Ne}),"data-testid":"selection.resize.left","aria-label":"left target",pointerEvents:"all",x:_e(0-(F?$*2:$)),y:0,height:_e(B),width:_e(Math.max(1,$*2)),style:h?{cursor:hs("ew-resize",r)}:void 0,...c}),m.jsx("rect",{className:jt("tl-transparent",{"tl-hidden":re}),"data-testid":"selection.target.top-left","aria-label":"top-left target",pointerEvents:"all",x:_e(0-(F?$*2:$*1.5)),y:_e(0-(U?Q*2:Q*1.5)),width:_e($*3),height:_e(Q*3),style:h?{cursor:hs("nwse-resize",r)}:void 0,...u}),m.jsx("rect",{className:jt("tl-transparent",{"tl-hidden":he}),"data-testid":"selection.target.top-right","aria-label":"top-right target",pointerEvents:"all",x:_e(_-(F?0:$*1.5)),y:_e(0-(U?Q*2:Q*1.5)),width:_e($*3),height:_e(Q*3),style:h?{cursor:hs("nesw-resize",r)}:void 0,...d}),m.jsx("rect",{className:jt("tl-transparent",{"tl-hidden":ke}),"data-testid":"selection.target.bottom-right","aria-label":"bottom-right target",pointerEvents:"all",x:_e(_-(F?$:$*1.5)),y:_e(B-(U?Q:Q*1.5)),width:_e($*3),height:_e(Q*3),style:h?{cursor:hs("nwse-resize",r)}:void 0,...A}),m.jsx("rect",{className:jt("tl-transparent",{"tl-hidden":ye}),"data-testid":"selection.target.bottom-left","aria-label":"bottom-left target",pointerEvents:"all",x:_e(0-(F?$*3:$*1.5)),y:_e(B-(U?0:Q*1.5)),width:_e($*3),height:_e(Q*3),style:h?{cursor:hs("nesw-resize",r)}:void 0,...f}),Z&&m.jsxs(m.Fragment,{children:[m.jsx("rect",{"data-testid":"selection.resize.top-left",className:jt("tl-corner-handle",{"tl-hidden":re}),"aria-label":"top_left handle",x:_e(0-T/2),y:_e(0-T/2),width:_e(T),height:_e(T)}),m.jsx("rect",{"data-testid":"selection.resize.top-right",className:jt("tl-corner-handle",{"tl-hidden":he}),"aria-label":"top_right handle",x:_e(_-T/2),y:_e(0-T/2),width:_e(T),height:_e(T)}),m.jsx("rect",{"data-testid":"selection.resize.bottom-right",className:jt("tl-corner-handle",{"tl-hidden":ke}),"aria-label":"bottom_right handle",x:_e(_-T/2),y:_e(B-T/2),width:_e(T),height:_e(T)}),m.jsx("rect",{"data-testid":"selection.resize.bottom-left",className:jt("tl-corner-handle",{"tl-hidden":ye}),"aria-label":"bottom_left handle",x:_e(0-T/2),y:_e(B-T/2),width:_e(T),height:_e(T)})]}),lt&&m.jsxs(m.Fragment,{children:[m.jsx("rect",{"data-testid":"selection.text-resize.left.handle",className:"tl-text-handle","aria-label":"bottom_left handle",x:_e(0-T/4),y:_e(B/2-Ye/2),rx:T/4,width:_e(T/2),height:_e(Ye)}),m.jsx("rect",{"data-testid":"selection.text-resize.right.handle",className:"tl-text-handle","aria-label":"bottom_left handle",rx:T/4,x:_e(_-T/4),y:_e(B/2-Ye/2),width:_e(T/2),height:_e(Ye)})]}),z&&m.jsx(w3t,{size:T,width:_,height:B,hideAlternateHandles:ne})]})})}),z1=function({cx:t,cy:r,targetSize:n,corner:i,cursor:o,isHidden:a,"data-testid":s}){const l=Qc(i);return m.jsx("rect",{className:jt("tl-transparent","tl-rotate-corner",{"tl-hidden":a}),"data-testid":s,"aria-label":`${i} target`,pointerEvents:"all",x:_e(t-n*3),y:_e(r-n*3),width:_e(Math.max(1,n*3)),height:_e(Math.max(1,n*3)),cursor:o,...l})},x3t=Math.sqrt(Math.PI),S3t=function({cx:t,cy:r,size:n,isHidden:i,"data-testid":o}){const a=Qc("mobile_rotate"),s=Ee(),l=Re("zoom level",()=>s.getZoomLevel(),[s]),c=Math.max(14*(1/l),20/Math.max(1,l));return m.jsxs("g",{children:[m.jsx("circle",{"data-testid":o,pointerEvents:"all",className:jt("tl-transparent","tl-mobile-rotate__bg",{"tl-hidden":i}),cx:t,cy:r,r:c,...a}),m.jsx("circle",{className:jt("tl-mobile-rotate__fg",{"tl-hidden":i}),cx:t,cy:r,r:n/x3t})]})};function C3t(){const e=Ee();return Re("is in a valid select state",()=>e.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle"),[e])?m.jsx(DDe,{}):null}function E5(e,t,r){const{arrowheadStart:n,arrowheadEnd:i}=t.props,o=Mg(e,t,r),a=o.start.clone(),s=o.end.clone(),l=L.Med(a,s);if(L.Equals(a,s))return{bindings:r,isStraight:!0,start:{handle:a,point:a,arrowhead:t.props.arrowheadStart},end:{handle:s,point:s,arrowhead:t.props.arrowheadEnd},middle:l,isValid:!1,length:0};const c=L.Sub(s,a).uni(),u=rI(e,t,"start"),d=rI(e,t,"end"),A=e.getShapePageTransform(t);kBe(s,o.start,A,d),kBe(a,o.end,A,u);let f=0,h=0,p=0,v=0,y=j0*t.props.scale;const b=u&&d&&u.shape===d.shape,x=u&&d?N8(e,u.shape.id,d.shape.id):"safe";x==="safe"&&u&&d&&!b&&!u.isExact&&!d.isExact&&(d.didIntersect&&!u.didIntersect?u.isClosed&&a.setTo(s.clone().add(c.clone().mul(j0*t.props.scale))):d.didIntersect||d.isClosed&&s.setTo(a.clone().sub(c.clone().mul(j0*t.props.scale))));const S=L.Sub(s,a),C=L.Len(S)?S.uni():L.From(S),_=!L.Equals(C,c);b||(x!=="start-contains-end"&&u&&n!=="none"&&!u.isExact&&(p=Zc[t.props.size]/2+("size"in u.shape.props?Zc[u.shape.props.size]/2:0),f=(nI+p)*t.props.scale,y+=p*t.props.scale),x!=="end-contains-start"&&d&&i!=="none"&&!d.isExact&&(v=Zc[t.props.size]/2+("size"in d.shape.props?Zc[d.shape.props.size]/2:0),h=(nI+v)*t.props.scale,y+=v*t.props.scale));const B=a.clone().add(C.clone().mul(f*(_?-1:1))),T=s.clone().sub(C.clone().mul(h*(_?-1:1)));L.DistMin(B,T,y)&&(f!==0&&h!==0?(f*=-1.5,h*=-1.5):f!==0?f*=-1:h!==0&&(h*=-1)),a.add(C.clone().mul(f*(_?-1:1))),s.sub(C.clone().mul(h*(_?-1:1))),_?(u&&d&&s.setTo(L.Add(a,C.clone().mul(-10*t.props.scale))),l.setTo(L.Med(o.start,o.end))):l.setTo(L.Med(a,s));const O=L.Dist(a,s);return{bindings:r,isStraight:!0,start:{handle:o.start,point:a,arrowhead:t.props.arrowheadStart},end:{handle:o.end,point:s,arrowhead:t.props.arrowheadEnd},middle:l,isValid:O>0,length:O}}function kBe(e,t,r,n){if(n===void 0||n.isExact)return;const i=ct.applyToPoint(r,t),o=ct.applyToPoint(r,e),a=ct.applyToPoint(ct.Inverse(n.transform),i),s=ct.applyToPoint(ct.Inverse(n.transform),o),l=n.isClosed,u=(l?kK:kkt)(a,s,n.outline);let d;if(u!==null&&(d=u.sort((h,p)=>L.Dist2(h,a)-L.Dist2(p,a))[0]??(l?void 0:s)),d===void 0)return;const A=ct.applyToPoint(n.transform,d),f=ct.applyToPoint(ct.Inverse(r),A);e.setTo(f),n.didIntersect=!0}function _3t(e,t,r){const{arrowheadEnd:n,arrowheadStart:i}=t.props,o=t.props.bend;if(Math.abs(o)>Math.abs(t.props.bend*(T3t*t.props.scale)))return E5(e,t,r);const a=Mg(e,t,r),s=L.Med(a.start,a.end),l=L.Sub(a.end,a.start),c=L.Len(l)?l.uni():L.From(l),u=L.Add(s,c.per().mul(-o)),d=rI(e,t,"start"),A=rI(e,t,"end"),f=a.start.clone(),h=a.end.clone(),p=u.clone();if(L.Equals(f,h))return{bindings:r,isStraight:!0,start:{handle:f,point:f,arrowhead:t.props.arrowheadStart},end:{handle:h,point:h,arrowhead:t.props.arrowheadEnd},middle:p,isValid:!1,length:0};const v=t.props.bend<0,y=v?Hb:mUe,b=UBe(f,h,p),x=L.Angle(b.center,f),S=L.Angle(b.center,h),C=y(x,S);if(b.length===0||b.size===0||!Ioe(b.length)||!Ioe(b.size))return E5(e,t,r);const _=f.clone(),B=h.clone(),T=p.clone(),O=e.getShapePageTransform(t);let P=0,F=0,U=j0*t.props.scale;if(d&&!d.isExact){const W=ct.applyToPoint(O,_),z=ct.applyToPoint(O,b.center),V=ct.applyToPoint(O,B),G=ct.Inverse(d.transform),X=ct.applyToPoint(G,W),Z=ct.applyToPoint(G,z),oe=ct.applyToPoint(G,V),{isClosed:ae}=d,ne=ae?t5:kIe;let te,se=ne(Z,b.radius,d.outline);if(se){const de=Z.angle(X),re=Z.angle(oe),he=y(de,re);se=se.filter(ke=>y(de,Z.angle(ke))<=he);const ye=he*.25;se.sort(ae?(ke,Ue)=>Math.abs(y(de,Z.angle(ke))-ye)<Math.abs(y(de,Z.angle(Ue))-ye)?-1:1:(ke,Ue)=>y(de,Z.angle(ke))<y(de,Z.angle(Ue))?-1:1),te=se[0]??(ae?void 0:X)}else te=ae?void 0:X;if(te&&(_.setTo(e.getPointInShapeSpace(t,ct.applyToPoint(d.transform,te))),d.didIntersect=!0,i!=="none")){const de=Zc[t.props.size]/2+("size"in d.shape.props?Zc[d.shape.props.size]/2:0);P=(nI+de)*t.props.scale,U+=de*t.props.scale}}if(A&&!A.isExact){const W=ct.applyToPoint(O,_),z=ct.applyToPoint(O,B),V=ct.applyToPoint(O,b.center),G=ct.Inverse(A.transform),X=ct.applyToPoint(G,W),Z=ct.applyToPoint(G,V),oe=ct.applyToPoint(G,z),ae=A.isClosed,ne=ae?t5:kIe;let te,se=ne(Z,b.radius,A.outline);if(se){const de=Z.angle(X),re=Z.angle(oe),he=y(de,re),ye=he*.75;se=se.filter(ke=>y(de,Z.angle(ke))<=he),se.sort(ae?(ke,Ue)=>Math.abs(y(de,Z.angle(ke))-ye)<Math.abs(y(de,Z.angle(Ue))-ye)?-1:1:(ke,Ue)=>y(de,Z.angle(ke))<y(de,Z.angle(Ue))?-1:1),se[0]?te=se[0]:te=ae?void 0:oe}else te=ae?void 0:oe;if(te&&(B.setTo(e.getPointInShapeSpace(t,ct.applyToPoint(A.transform,te))),A.didIntersect=!0,n!=="none")){const de=Zc[t.props.size]/2+("size"in A.shape.props?Zc[A.shape.props.size]/2:0);F=(nI+de)*t.props.scale,U+=de*t.props.scale}}let k=L.Angle(b.center,_),M=L.Angle(b.center,B),D=y(k,M),j=D*b.radius;const $=_.clone(),Q=B.clone();if(P!==0&&$.setTo(b.center).add(L.FromAngle(k+D*(P/j*(v?1:-1))).mul(b.radius)),F!==0&&Q.setTo(b.center).add(L.FromAngle(M+D*(F/j*(v?-1:1))).mul(b.radius)),L.DistMin($,Q,U)&&(P!==0&&F!==0?(P*=-1.5,F*=-1.5):P!==0?P*=-2:F!==0&&(F*=-2)),P!==0&&_.setTo(b.center).add(L.FromAngle(k+D*(P/j*(v?1:-1))).mul(b.radius)),F!==0&&B.setTo(b.center).add(L.FromAngle(M+D*(F/j*(v?-1:1))).mul(b.radius)),d&&A&&!d.isExact&&!A.isExact){k=L.Angle(b.center,_),M=L.Angle(b.center,B),D=y(k,M),j=D*b.radius;const W=N8(e,d.shape.id,A.shape.id);W==="double-bound"&&j<30?(_.setTo(f),B.setTo(h),T.setTo(p)):W==="safe"&&(d&&!d.didIntersect&&_.setTo(f),(A&&!A.didIntersect||y(x,k)>y(x,M))&&B.setTo(b.center).add(L.FromAngle(k+D*(Math.min(.9,j0*t.props.scale/j)*(v?1:-1))).mul(b.radius)))}E3t(b.center,b.radius,_,B,T,C,v),_.equals(B)&&(_.setTo(T.clone().addXY(1,1)),B.setTo(T.clone().subXY(1,1))),f.setTo(_),h.setTo(B),p.setTo(T);const H=UBe(f,h,p);return{bindings:r,isStraight:!1,start:{point:f,handle:a.start,arrowhead:t.props.arrowheadStart},end:{point:h,handle:a.end,arrowhead:t.props.arrowheadEnd},middle:p,handleArc:b,bodyArc:H,isValid:H.length!==0&&isFinite(H.center.x)&&isFinite(H.center.y)}}function UBe(e,t,r){const n=Pz(e,t,r)??L.Med(e,t),i=L.Dist(n,e),o=+L.Clockwise(e,r,t),a=((e.y-t.y)**2+(e.x-t.x)**2)**.5,s=((t.y-r.y)**2+(t.x-r.x)**2)**.5,l=((r.y-e.y)**2+(r.x-e.x)**2)**.5,c=Math.acos((s*s+l*l-a*a)/(2*s*l))*2,u=+(jr>c),d=(ln-c)*(o?1:-1),A=d*i;return{center:n,radius:i,size:d,length:A,largeArcFlag:u,sweepFlag:o}}function E3t(e,t,r,n,i,o,a){const s=L.Angle(e,r),l=L.Angle(e,n);let c=Hb(s,l);if(a||(c=ln-c),i.setTo(e).add(L.FromAngle(s+c*(.5*(a?1:-1))).mul(t)),c>o){i.rotWith(e,jr);const u=n.clone();n.setTo(r),r.setTo(u)}}const I3t=8;function B3t(e){return Math.abs(e.props.bend)<I3t*e.props.scale}function rI(e,t,r){const n=e.getBindingsFromShape(t,"arrow").find(l=>l.props.terminal===r);if(!n)return;const i=e.getShape(n.toId);if(!i)return;const o=e.getShapePageTransform(i),a=e.getShapeGeometry(i,r==="start"?{context:"@tldraw/arrow-start"}:void 0),s=a instanceof bl?a.children[0].vertices:a.vertices;return{shape:i,transform:o,isClosed:a.isClosed,isExact:n.props.isExact,didIntersect:!1,outline:s}}function DBe(e,t,r,n){const i=e.getShape(r.toId);if(i){const{point:o,size:a}=e.getShapeGeometry(i).bounds,s=L.Add(o,L.MulV(r.props.isPrecise||n?r.props.normalizedAnchor:{x:.5,y:.5},a)),l=ct.applyToPoint(e.getShapePageTransform(i),s);return ct.applyToPoint(ct.Inverse(t),l)}else return new L(0,0)}function Ya(e,t){const r=e.getBindingsFromShape(t,"arrow");return{start:r.find(n=>n.props.terminal==="start"),end:r.find(n=>n.props.terminal==="end")}}const P3t=J1t("arrow info",(e,t)=>{const r=Ya(e,t);return B3t(t)?E5(e,t,r):_3t(e,t,r)});function Jc(e,t){const r=typeof t=="string"?t:t.id;return P3t.get(e,r)}function Mg(e,t,r){var s,l;const n=e.getShapePageTransform(t),i=N8(e,(s=r.start)==null?void 0:s.toId,(l=r.end)==null?void 0:l.toId),o=r.start?DBe(e,n,r.start,i==="double-bound"||i==="start-contains-end"):L.From(t.props.start),a=r.end?DBe(e,n,r.end,i==="double-bound"||i==="end-contains-start"):L.From(t.props.end);return{start:o,end:a}}function jy(e,t,r,n){const i=typeof t=="string"?t:t.id,o=typeof r=="string"?r:r.id,a=e.getBindingsFromShape(i,"arrow").filter(l=>l.props.terminal===n.terminal);a.length>1&&e.deleteBindings(a.slice(1));const s=a[0];s?e.updateBinding({...s,toId:o,props:n}):e.createBinding({type:"arrow",fromId:i,toId:o,props:n})}function RC(e,t,r){const n=e.getBindingsFromShape(t,"arrow").filter(i=>i.props.terminal===r);e.deleteBindings(n)}const j0=10,nI=10,T3t=10,Zc={s:2,m:3.5,l:5,xl:10};function N8(e,t,r){if(!t||!r)return"safe";if(t===r)return"double-bound";const n=e.getShapePageBounds(t),i=e.getShapePageBounds(r);if(n&&i){if(n.contains(i))return"start-contains-end";if(i.contains(n))return"end-contains-start"}return"safe"}class MC extends BC{getDefaultProps(){return{isPrecise:!1,isExact:!1,normalizedAnchor:{x:.5,y:.5}}}onAfterCreate({binding:t}){const r=this.editor.getShape(t.fromId);r&&L4(this.editor,r)}onAfterChange({bindingAfter:t}){const r=this.editor.getShape(t.fromId);r&&L4(this.editor,r)}onAfterChangeFromShape({shapeAfter:t}){L4(this.editor,t)}onAfterChangeToShape({binding:t}){I5e(this.editor,t.fromId)}onBeforeIsolateFromShape({binding:t}){const r=this.editor.getShape(t.fromId);r&&iI({editor:this.editor,arrow:r,terminal:t.props.terminal})}}K(MC,"type","arrow"),K(MC,"props",LUe),K(MC,"migrations",NUe);function I5e(e,t){var v;const r=e.getShape(t);if(!r)return;const n=Ya(e,r),{start:i,end:o}=n,a=i?e.getShape(i.toId):void 0,s=o?e.getShape(o.toId):void 0,l=e.getAncestorPageId(r);if(!l)return;let c;if(a&&s)c=e.findCommonAncestor([a,s])??l;else if(a||s){const y=(v=a||s)==null?void 0:v.parentId;y&&y===r.parentId?c=r.parentId:c=l}else return;c&&c!==r.parentId&&e.reparentShapes([t],c);const u=e.getShape(t);if(!u)throw Error("no reparented arrow");const d=e.getShapeNearestSibling(u,a),A=e.getShapeNearestSibling(u,s);let f;if(d&&A)f=d.index>A.index?d:A;else if(d&&!A)f=d;else if(A&&!d)f=A;else return;let h;const p=e.getSortedChildIdsForParent(f.parentId).map(y=>e.getShape(y)).filter(y=>y.index>f.index);if(p.length){const y=p.find(b=>b.type!=="arrow");if(u.index>f.index&&(!y||u.index<y.index))return;h=Nw(f.index,p[0].index)}else h=Yc(f.index);h!==u.index&&e.updateShapes([{id:t,type:"arrow",index:h}])}function L4(e,t){const r=Ya(e,t);for(const n of["start","end"]){const i=r[n];if(!i)continue;const o=e.getShape(i.toId),a=e.getAncestorPageId(t)===e.getAncestorPageId(o);(!o||!a)&&iI({editor:e,arrow:t,terminal:n,unbind:!0})}I5e(e,t.id)}function iI({editor:e,arrow:t,terminal:r,unbind:n=!1,useHandle:i=!1}){const o=Jc(e,t);if(!o)throw new Error("expected arrow info");const a=i?o.start.handle:o.start.point,s=i?o.end.handle:o.end.point,l=r==="start"?a:s,c={id:t.id,type:"arrow",props:{[r]:{x:l.x,y:l.y},bend:t.props.bend}};if(!o.isStraight){const u=r==="start"?a:o.start.handle,d=r==="end"?s:o.end.handle,A=L.Med(u,d),f=L.Sub(u,d).per().uni().mul(o.handleArc.radius*2*Math.sign(t.props.bend)),h=ix(o.handleArc.center,L.Add(A,f),o.handleArc.center,o.handleArc.radius);vr((h==null?void 0:h.length)===1);const p=L.Dist(A,h[0])*Math.sign(t.props.bend);KA(p,c.props.bend)||(c.props.bend=p)}e.updateShape(c),n&&RC(e,t,r)}const B5e=[MC],aa={lineHeight:1.35,fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",padding:"0px"},ia={s:2,m:3.5,l:5,xl:10},Im={s:18,m:24,l:36,xl:44},xd={s:18,m:22,l:26,xl:32},O3t={s:18,m:20,l:24,xl:28},Fd={draw:"var(--tl-font-draw)",sans:"var(--tl-font-sans)",serif:"var(--tl-font-serif)",mono:"var(--tl-font-mono)"},R3t=20,$8=4.25,ol=16;function M3t(e,t){const r=e.w/t.w,n=e.h/t.h;return r<=1&&n<=1?e:r>n?{w:e.w/r,h:e.h/r}:{w:e.w/n,h:e.h/n}}async function F3t(e,t,r){var y,b,x;const{elements:n,files:i}=t,o={shapes:[],bindings:[],rootShapeIds:[],assets:[],schema:e.store.schema.serialize()},a=new Map,s=new Map,l=e.getCurrentPageId(),c=new Map,u=[],d=new Set;n.forEach(S=>{if(c.set(S.id,cn()),S.boundElements!==null)for(const C of S.boundElements)C.type==="text"&&d.add(C.id)});let A=Dke;for(const S of n){if(d.has(S.id))continue;const C=c.get(S.id),_={id:C,typeName:"shape",parentId:l,index:A,x:S.x,y:S.y,rotation:0,isLocked:S.locked,opacity:k3t(S.opacity),meta:{}};switch(S.angle!==0&&s.set(C,S.angle),S.groupIds&&S.groupIds.length>0?a.has(S.groupIds[0])?(y=a.get(S.groupIds[0]))==null||y.push(C):a.set(S.groupIds[0],[C]):u.push(C),S.type){case"rectangle":case"ellipse":case"diamond":{let B="",T="middle";if(S.boundElements!==null){for(const P of S.boundElements)if(P.type==="text"){const F=n.find(U=>U.id===P.id);F&&(B=F.text,T=Q3t[F.textAlign])}}const O=S.backgroundColor==="transparent"?S.strokeColor:S.backgroundColor;o.shapes.push({..._,type:"geo",props:{geo:S.type,url:S.link??"",w:S.width,h:S.height,size:K1[S.strokeWidth]??"draw",color:Ly[O]??"black",text:B,align:T,dash:W1(S),fill:z3t(S)}});break}case"freedraw":{o.shapes.push({..._,type:"draw",props:{dash:W1(S),size:K1[S.strokeWidth],color:Ly[S.strokeColor]??"black",segments:[{type:"free",points:S.points.map(([B,T,O=.5])=>({x:B,y:T,z:O}))}]}});break}case"line":{if(S.points.slice().length<2)break;const T=$w(S.points.length);o.shapes.push({..._,type:"line",props:{dash:W1(S),size:K1[S.strokeWidth],color:Ly[S.strokeColor]??"black",spline:S.roundness?"cubic":"line",points:{...Object.fromEntries(S.points.map(([O,P],F)=>{const U=T[F];return[U,{id:U,index:U,x:O,y:P}]}))}}});break}case"arrow":{let B="";if(S.boundElements!==null){for(const U of S.boundElements)if(U.type==="text"){const k=n.find(M=>M.id===U.id);k&&(B=k.text)}}const T=S.points[0],O=S.points[S.points.length-1],P=c.get((b=S.startBinding)==null?void 0:b.elementId),F=c.get((x=S.endBinding)==null?void 0:x.elementId);o.shapes.push({..._,type:"arrow",props:{text:B,bend:q3t(S,T,O),dash:W1(S),size:K1[S.strokeWidth]??"m",color:Ly[S.strokeColor]??"black",start:{x:T[0],y:T[1]},end:{x:O[0],y:O[1]},arrowheadEnd:jBe[S.endArrowhead]??"none",arrowheadStart:jBe[S.startArrowhead]??"none"}}),P&&o.bindings.push({id:Ch(),typeName:"binding",type:"arrow",fromId:C,toId:P,props:{terminal:"start",normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1},meta:{}}),F&&o.bindings.push({id:Ch(),typeName:"binding",type:"arrow",fromId:C,toId:F,props:{terminal:"end",normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1},meta:{}});break}case"text":{const{size:B,scale:T}=D3t(S.fontSize);o.shapes.push({..._,type:"text",props:{size:B,scale:T,font:j3t[S.fontFamily]??"draw",color:Ly[S.strokeColor]??"black",text:S.text,textAlign:H3t[S.textAlign]}});break}case"image":{const B=i[S.fileId];if(!B)break;const T=ef.createId();o.assets.push({id:T,typeName:"asset",type:"image",props:{w:S.width,h:S.height,fileSize:B.size,name:S.id??"Untitled",isAnimated:!1,mimeType:B.mimeType,src:B.dataURL},meta:{}}),o.shapes.push({..._,type:"image",props:{w:S.width,h:S.height,assetId:T}})}}A=Yc(A)}const f=r??(e.inputs.shiftKey?e.inputs.currentPagePoint:void 0);e.putContentOntoCurrentPage(o,{point:f,select:!1,preserveIds:!0});for(const S of a.values())if(S.length>1){e.groupShapes(S);const C=e.getShape(S[0]);C!=null&&C.parentId&&Wa(C.parentId)&&u.push(C.parentId)}for(const[S,C]of s)e.select(S),e.rotateShapesBy([S],C);const h=lr(u.map(S=>e.getShape(S))),p=st.Common(h.map(S=>e.getShapePageBounds(S))),v=e.getViewportPageBounds().center;e.updateShapes(h.map(S=>{const C={x:(S.x??0)-(p.x+p.w/2),y:(S.y??0)-(p.y+p.h/2)};return{id:S.id,type:S.type,x:v.x+C.x,y:v.y+C.y}})),e.setSelectedShapes(u)}const k3t=e=>{const t=e/100;return t<.2?.1:t<.4?.25:t<.6?.5:t<.8?.75:1},K1={1:"s",2:"m",3:"l",4:"xl"},U3t={16:"s",20:"m",28:"l",36:"xl"};function D3t(e){const t=U3t[e];return t?{size:t,scale:1}:e<16?{size:"s",scale:e/16}:e>36?{size:"xl",scale:e/36}:{size:"m",scale:1}}const j3t={1:"draw",2:"sans",3:"mono"},L3t={gray:["#f8f9fa","#e9ecef","#ced4da","#868e96","#343a40"],red:["#fff5f5","#ffc9c9","#ff8787","#fa5252","#e03131"],pink:["#fff0f6","#fcc2d7","#f783ac","#e64980","#c2255c"],grape:["#f8f0fc","#eebefa","#da77f2","#be4bdb","#9c36b5"],violet:["#f3f0ff","#d0bfff","#9775fa","#7950f2","#6741d9"],indigo:["#edf2ff","#bac8ff","#748ffc","#4c6ef5","#3b5bdb"],blue:["#e7f5ff","#a5d8ff","#4dabf7","#228be6","#1971c2"],cyan:["#e3fafc","#99e9f2","#3bc9db","#15aabf","#0c8599"],teal:["#e6fcf5","#96f2d7","#38d9a9","#12b886","#099268"],green:["#ebfbee","#b2f2bb","#69db7c","#40c057","#2f9e44"],lime:["#f4fce3","#d8f5a2","#a9e34b","#82c91e","#66a80f"],yellow:["#fff9db","#ffec99","#ffd43b","#fab005","#f08c00"],orange:["#fff4e6","#ffd8a8","#ffa94d","#fd7e14","#e8590c"]};function Nc(e,t,r){const n=[0,1,2,3,4].map(i=>L3t[e][i]);return Object.fromEntries(n.map((i,o)=>[i,o<3?t:r]))}const Ly={...Nc("gray","grey","black"),...Nc("red","light-red","red"),...Nc("pink","light-red","red"),...Nc("grape","light-violet","violet"),...Nc("blue","light-blue","blue"),...Nc("cyan","light-blue","blue"),...Nc("teal","light-green","green"),...Nc("green","light-green","green"),...Nc("yellow","yellow","orange"),...Nc("orange","yellow","orange"),"#ffffff":"white","#000000":"black"},N3t={solid:"draw",dashed:"dashed",dotted:"dotted"},$3t={"cross-hatch":"pattern",hachure:"pattern",solid:"solid"},Q3t={left:"start",center:"middle",right:"end"},H3t={left:"start",center:"middle",right:"end"},jBe={arrow:"arrow",dot:"dot",triangle:"triangle",bar:"pipe"};function q3t(e,t,r){let n=0;if(e.points.length>2){const i=new L(t[0],t[1]),o=new L(r[0],r[1]),a=new L(e.points[1][0],e.points[1][1]),s=L.Sub(o,i),l=L.Per(s),c=L.Med(o,i),u=L.Sub(c,l),d=L.Add(c,l),A=L.NearestPointOnLineSegment(u,d,a,!1);n=L.Dist(A,c),L.Clockwise(A,o,c)&&(n*=-1)}return n}const W1=e=>{let t=N3t[e.strokeStyle]??"draw";return t==="draw"&&e.roughness===0&&(t="solid"),t},z3t=e=>e.backgroundColor==="transparent"?"none":$3t[e.fillStyle]??"solid";/*!
 * MIT License
 * Adapted (mostly copied) the work of https://github.com/fregante/text-field-edit
 * Copyright (c) Federico Brigante <opensource@bfred.it> (bfred.it)
 */const Fg="  ",ba=class ba{static insertTextFirefox(t,r){t.setRangeText(r,t.selectionStart||0,t.selectionEnd||0,"end"),t.dispatchEvent(new InputEvent("input",{data:r,inputType:"insertText",isComposing:!1}))}static insert(t,r){const n=t.ownerDocument,i=n.activeElement;i!==t&&t.focus(),n.execCommand("insertText",!1,r)||ba.insertTextFirefox(t,r),i===n.body?t.blur():i instanceof HTMLElement&&i!==t&&i.focus()}static set(t,r){t.select(),ba.insert(t,r)}static getSelection(t){const{selectionStart:r,selectionEnd:n}=t;return t.value.slice(r||void 0,n||void 0)}static wrapSelection(t,r,n){const{selectionStart:i,selectionEnd:o}=t,a=ba.getSelection(t);ba.insert(t,r+a+(n??r)),t.selectionStart=(i||0)+r.length,t.selectionEnd=(o||0)+r.length}static replace(t,r,n){let i=0;t.value.replace(r,(...o)=>{const a=i+o[o.length-2],s=o[0].length;t.selectionStart=a,t.selectionEnd=a+s;const l=typeof n=="string"?n:n(...o);return ba.insert(t,l),t.selectionStart=a,i+=l.length-s,l})}static findLineEnd(t,r){const n=t.lastIndexOf(`
`,r-1)+1;return t.charAt(n)!=="	"?r:n+1}static indent(t){var s;const{selectionStart:r,selectionEnd:n,value:i}=t,o=i.slice(r,n),a=(s=/\n/g.exec(o))==null?void 0:s.length;if(a&&a>0){const l=i.lastIndexOf(`
`,r-1)+1,c=t.value.slice(l,n-1),u=c.replace(/^|\n/g,`$&${Fg}`),d=u.length-c.length;t.setSelectionRange(l,n-1),ba.insert(t,u),t.setSelectionRange(r+1,n+d)}else ba.insert(t,Fg)}static unindent(t){const{selectionStart:r,selectionEnd:n,value:i}=t,o=i.lastIndexOf(`
`,r-1)+1,a=ba.findLineEnd(i,n),s=t.value.slice(o,a),l=s.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=s.length-l.length;t.setSelectionRange(o,a),ba.insert(t,l);const u=/\t| {1,2}/.exec(i.slice(o,r)),d=u?u[0].length:0,A=r-d;t.setSelectionRange(r-d,Math.max(A,n-c))}static indentCE(t){var l;const r=window.getSelection(),n=t.innerText,i=V1(t)??0,o=V1(t)??0,a=n.slice(i,o),s=(l=/\n/g.exec(a))==null?void 0:l.length;if(s&&s>0){const c=n.lastIndexOf(`
`,i-1)+1,u=n.slice(c,o-1),A=u.replace(/^|\n/g,`$&${Fg}`).length-u.length;r&&r.setBaseAndExtent(t,i+1,t,o+A)}else{const c=window.getSelection();t.innerText=n.slice(0,i)+Fg+n.slice(i),c==null||c.setBaseAndExtent(t,i+1,t,i+2)}}static unindentCE(t){const r=window.getSelection(),n=t.innerText,i=V1(t)??0,o=V1(t)??0,a=n.lastIndexOf(`
`,i-1)+1,s=ba.findLineEnd(n,o),l=n.slice(a,s),c=l.replace(/(^|\n)(\t| {1,2})/g,"$1"),u=l.length-c.length;if(r){r.setBaseAndExtent(t,a,t,s);const d=/\t| {1,2}/.exec(n.slice(a,i)),A=d?d[0].length:0,f=i-A;r.setBaseAndExtent(t,i-A,t,Math.max(f,o-u))}}static normalizeText(t){return t.replace(ba.fixNewLines,`
`)}static normalizeTextForDom(t){return t.replace(ba.fixNewLines,`
`).split(`
`).map(r=>r||" ").join(`
`)}};K(ba,"fixNewLines",/\r?\n|\r/g);let Bm=ba;function V1(e){if(typeof window.getSelection>"u")return;const t=window.getSelection();if(!t)return;let r=0;if(t.rangeCount!==0){const n=t.getRangeAt(0),i=n.cloneRange();i.selectNodeContents(e),i.setEnd(n.endContainer,n.endOffset),r=i.toString().length}return r}const K3t=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/;function P5e(e){return K3t.test(e)}function W3t(e){return e.replace(/\t/g,Fg)}function V3t(e){const t=e.split(`
`);for(;t[0]&&t[0].trim().length===0;)t.shift();let r=1/0;for(const n of t)if(n.trim().length>0){const i=n.length-n.trimStart().length;r=Math.min(r,i)}return t.map(n=>n.slice(r)).join(`
`)}const T5e={"&amp;":"&","&quot;":'"',"&apos;":"'","&#34;":'"',"&#38;":"&","&#39;":"'","&#8211;":"","&#8212;":"","&#8216;":"","&#8217;":"","&#8220;":"","&#8221;":"","&#8230;":""},G3t=new RegExp(Object.keys(T5e).join("|"),"g");function Y3t(e){return e.replace(G3t,t=>T5e[t])}function X3t(e){return e.replace(/[ \t]+$/gm,"").replace(/\n+$/,"")}function J3t(e){return X3t(V3t(W3t(e)))}const O5e=5e3,R5e=10*1024*1024;function Z3t(e,t){e.registerExternalAssetHandler("file",async r=>e5t(e,r,t)),e.registerExternalAssetHandler("url",async r=>t5t(e,r,t)),e.registerExternalContentHandler("svg-text",async r=>r5t(e,r)),e.registerExternalContentHandler("embed",r=>n5t(e,r)),e.registerExternalContentHandler("files",async r=>i5t(e,r,t)),e.registerExternalContentHandler("text",async r=>o5t(e,r)),e.registerExternalContentHandler("url",async r=>a5t(e,r,t)),e.registerExternalContentHandler("tldraw",async r=>s5t(e,r)),e.registerExternalContentHandler("excalidraw",async r=>l5t(e,r))}async function e5t(e,{file:t,assetId:r},{acceptedImageMimeTypes:n=Mb,acceptedVideoMimeTypes:i=TB,maxAssetSize:o=R5e,maxImageDimension:a=O5e,toasts:s,msg:l}){const c=n.includes(t.type),u=i.includes(t.type);!c&&!u&&s.addToast({title:l("assets.files.type-not-allowed"),severity:"error"}),vr(c||u,`File type not allowed: ${t.type}`),t.size>o&&s.addToast({title:l("assets.files.size-too-big"),severity:"error"}),vr(t.size<=o,`File size too big: ${(t.size/1024).toFixed()}kb > ${(o/1024).toFixed()}kb`);const d=wke(await t.arrayBuffer());r=r??ef.createId(d);const A=await M5e(t,r,c,u,a),f=await e.uploadAsset(A,t);return A.props.src=f.src,f.meta&&(A.meta={...A.meta,...f.meta}),ef.create(A)}async function t5t(e,{url:t},{toasts:r,msg:n}){var o,a,s,l,c;let i;try{const d=await(await lu(t,{method:"GET",mode:"no-cors"})).text(),A=new DOMParser().parseFromString(d,"text/html");i={image:((o=A.head.querySelector('meta[property="og:image"]'))==null?void 0:o.getAttribute("content"))??"",favicon:((a=A.head.querySelector('link[rel="apple-touch-icon"]'))==null?void 0:a.getAttribute("href"))??((s=A.head.querySelector('link[rel="icon"]'))==null?void 0:s.getAttribute("href"))??"",title:((l=A.head.querySelector('meta[property="og:title"]'))==null?void 0:l.getAttribute("content"))??t,description:((c=A.head.querySelector('meta[property="og:description"]'))==null?void 0:c.getAttribute("content"))??""},i.image.startsWith("http")||(i.image=new URL(i.image,t).href),i.favicon.startsWith("http")||(i.favicon=new URL(i.favicon,t).href)}catch(u){console.error(u),r.addToast({title:n("assets.url.failed"),severity:"error"}),i={image:"",favicon:"",title:"",description:""}}return{id:ef.createId(cz(t)),typeName:"asset",type:"bookmark",props:{src:t,description:i.description,image:i.image,favicon:i.favicon,title:i.title},meta:{}}}async function r5t(e,{point:t,text:r}){const n=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageBounds().center),i=new DOMParser().parseFromString(r,"image/svg+xml").querySelector("svg");if(!i)throw new Error("No <svg/> element present");let o=parseFloat(i.getAttribute("width")||"0"),a=parseFloat(i.getAttribute("height")||"0");if(!(o&&a)){document.body.appendChild(i);const l=i.getBoundingClientRect();document.body.removeChild(i),o=l.width,a=l.height}const s=await e.getAssetForExternalContent({type:"file",file:new File([r],"asset.svg",{type:"image/svg+xml"})});if(!s)throw Error("Could not create an asset");F5e(e,[s],n)}function n5t(e,{point:t,url:r,embed:n}){const i=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageBounds().center),{width:o,height:a}=n,s=cn(),l={id:s,type:"embed",x:i.x-(o||450)/2,y:i.y-(a||450)/2,props:{w:o,h:a,url:r}};e.createShapes([l]).select(s)}async function i5t(e,{point:t,files:r},{maxAssetSize:n=R5e,maxImageDimension:i=O5e,acceptedImageMimeTypes:o=Mb,acceptedVideoMimeTypes:a=TB,toasts:s,msg:l}){if(r.length>e.options.maxFilesAtOnce){s.addToast({title:l("assets.files.amount-too-big"),severity:"error"});return}const c=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageBounds().center),u=new L(c.x,c.y),d=[],A=[];for(const f of r){if(f.size>n){s.addToast({title:l("assets.files.size-too-big"),severity:"error"}),console.warn(`File size too big: ${(f.size/1024).toFixed()}kb > ${(n/1024).toFixed()}kb`);continue}if(!f.type){s.addToast({title:l("assets.files.upload-failed"),severity:"error"}),console.error("No mime type");continue}if(![...o,...a].includes(f.type)){s.addToast({title:l("assets.files.type-not-allowed"),severity:"error"}),console.warn(`${f.name} not loaded - Mime type not allowed ${f.type}.`);continue}const p=o.includes(f.type),v=a.includes(f.type),y=wke(await f.arrayBuffer()),b=ef.createId(y),x=await M5e(f,b,p,v,i);let S;p&&(S=e.createTemporaryAssetPreview(b,f)),d.push(x),A.push({asset:x,file:f,temporaryAssetPreview:S})}Promise.allSettled(A.map(async f=>{try{const h=await e.getAssetForExternalContent({type:"file",file:f.file});if(!h)throw Error("Could not create an asset");e.updateAssets([{...h,id:f.asset.id}])}catch(h){s.addToast({title:l("assets.files.upload-failed"),severity:"error"}),console.error(h);return}})),F5e(e,d,u)}async function o5t(e,{point:t,text:r}){const n=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageBounds().center),i=e.getShapeUtil("text").getDefaultProps(),o=J3t(r),a=e.getOnlySelectedShape();if(a&&"text"in a.props){e.updateShapes([{id:a.id,type:a.type,props:{text:o}}]);return}let s,l,c,u="middle";const d=o.split(`
`).length>1,A=P5e(o);d&&(u=d?A?"end":"start":"middle");const f=e.textMeasure.measureText(o,{...aa,fontFamily:Fd[i.font],fontSize:Im[i.size],maxWidth:null}),h=Math.min(d?e.getViewportPageBounds().width*.9:920,Math.max(200,e.getViewportPageBounds().width*.9));if(f.w>h){const p=e.textMeasure.measureText(o,{...aa,fontFamily:Fd[i.font],fontSize:Im[i.size],maxWidth:h});s=p.w,l=p.h,c=!1,u=A?"end":"start"}else s=f.w,l=f.h,c=!0;n.y-l/2<e.getViewportPageBounds().minY+40&&(n.y=e.getViewportPageBounds().minY+40+l/2),e.createShapes([{id:cn(),type:"text",x:n.x-s/2,y:n.y-l/2,props:{text:o,textAlign:u,autoSize:c,w:s}}])}async function a5t(e,{point:t,url:r},{toasts:n,msg:i}){const o=e.getShapeUtil("embed"),a=o==null?void 0:o.getEmbedDefinition(r);if(a)return e.putExternalContent({type:"embed",url:a.url,point:t,embed:a.definition});const s=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageBounds().center),l=ef.createId(cz(r)),c=c5t(e,r,s);let u=e.getAsset(l),d=!1;if(!u){d=!0;try{const A=await e.getAssetForExternalContent({type:"url",url:r});if(!A)throw Error("Could not create an asset");u=A}catch{n.addToast({title:i("assets.url.failed"),severity:"error"});return}}e.run(()=>{d&&e.createAssets([u]),e.updateShapes([{id:c.id,type:c.type,props:{assetId:u.id}}])})}async function s5t(e,{point:t,content:r}){e.run(()=>{const n=e.getSelectionPageBounds();e.markHistoryStoppingPoint("paste"),e.putContentOntoCurrentPage(r,{point:t,select:!0});const i=e.getSelectionPageBounds();n&&i&&(n!=null&&n.collides(i))&&(e.updateInstanceState({isChangingStyle:!0}),e.timers.setTimeout(()=>{e.updateInstanceState({isChangingStyle:!1})},150))})}async function l5t(e,{point:t,content:r}){e.run(()=>{F3t(e,r,t)})}async function M5e(e,t,r,n,i){let o=e.type;e.type==="video/quicktime"&&(o="video/mp4");const a=r?await bs.getImageSize(e):await bs.getVideoSize(e),s=await bs.isAnimated(e)||n,l={id:t,type:r?"image":"video",typeName:"asset",props:{name:e.name,src:"",w:a.w,h:a.h,fileSize:e.size,mimeType:o,isAnimated:s},meta:{}};if(i&&isFinite(i)){const c={w:l.props.w,h:l.props.h},u=M3t(c,{w:i,h:i});c!==u&&bs.isStaticImageType(e.type)&&(l.props.w=u.w,l.props.h=u.h)}return l}async function F5e(e,t,r){if(!t.length)return[];const n=L.From(r),i=[];for(let o=0;o<t.length;o++){const a=t[o];switch(a.type){case"image":{i.push({id:cn(),type:"image",x:n.x,y:n.y,opacity:1,props:{assetId:a.id,w:a.props.w,h:a.props.h}}),n.x+=a.props.w;break}case"video":i.push({id:cn(),type:"video",x:n.x,y:n.y,opacity:1,props:{assetId:a.id,w:a.props.w,h:a.props.h}}),n.x+=a.props.w}}return e.run(()=>{const o=t.filter(a=>!e.getAsset(a.id));o.length&&e.createAssets(o),e.createShapes(i).select(...i.map(a=>a.id)),k5e(e,r)}),i.map(o=>o.id)}function k5e(e,t){const r=e.getViewportPageBounds();let n=e.getSelectionPageBounds();if(n){const i=n.center.sub(t);e.updateShapes(e.getSelectedShapes().map(o=>{const a=e.getShapeParentTransform(o).decompose().rotation,s=L.Rot(i,-a);return{id:o.id,type:o.type,x:o.x-s.x,y:o.y-s.y}}))}if(n=e.getSelectionPageBounds(),n&&e.getInstanceState().isGridMode){const i=e.getDocumentSettings().gridSize,o=new L(n.minX,n.minY),a=o.clone().snapToGrid(i),s=L.Sub(o,a);e.updateShapes(e.getSelectedShapes().map(l=>{const c={x:l.x-s.x,y:l.y-s.y};return{id:l.id,type:l.type,x:c.x,y:c.y}}))}n=e.getSelectionPageBounds(),n&&!r.contains(n)&&e.zoomToSelection({animation:{duration:e.options.animationMediumMs}})}function c5t(e,t,r){const n={id:cn(),type:"bookmark",x:r.x-150,y:r.y-160,opacity:1,props:{assetId:null,url:t}};return e.run(()=>{e.createShapes([n]).select(n.id),k5e(e,r)}),e.getShape(n.id)}var uQ;let u5t=(uQ=class extends Ft{onPointerDown(t){this.parent.transition("pointing",t)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onCancel(){this.editor.setCurrentTool("select")}onKeyUp(t){var r;if(t.key==="Enter"){if(this.editor.getIsReadonly())return null;const n=this.editor.getOnlySelectedShape();n&&this.editor.getShapeUtil(n).canEdit(n)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(n.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...t,target:"shape",shape:n}))}}},K(uQ,"id","idle"),uQ);var dQ;let d5t=(dQ=class extends Ft{constructor(){super(...arguments);K(this,"shape");K(this,"markId","");K(this,"preciseTimeout",-1);K(this,"didTimeout",!1)}onEnter(){this.markId="",this.didTimeout=!1;const r=this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{filter:n=>!n.isLocked&&this.editor.canBindShapes({fromShape:"arrow",toShape:n,binding:"arrow"}),margin:0,hitInside:!0,renderingOnly:!0});r?this.editor.setHintingShapes([r.id]):this.createArrowShape(),this.startPreciseTimeout()}onExit(){this.shape=void 0,this.editor.setHintingShapes([]),this.clearPreciseTimeout()}onPointerMove(){if(this.editor.inputs.isDragging){if(this.shape||this.createArrowShape(),!this.shape)throw Error("expected shape");this.updateArrowShapeEndHandle(),this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,handle:{id:"end",type:"vertex",index:"a3",x:0,y:0},isCreating:!0,creatingMarkId:this.markId||void 0,onInteractionEnd:"arrow"})}}onPointerUp(){this.cancel()}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.shape&&this.editor.bailToMark(this.markId),this.editor.setHintingShapes([]),this.parent.transition("idle")}createArrowShape(){var d;const{originPagePoint:r}=this.editor.inputs,n=cn();this.markId=this.editor.markHistoryStoppingPoint(`creating_arrow:${n}`);const i=sc(r,this.editor);this.editor.createShape({id:n,type:"arrow",x:i.x,y:i.y,props:{scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1}});const o=this.editor.getShape(n);if(!o)throw Error("expected shape");const a=this.editor.getShapeHandles(o);if(!a)throw Error("expected handles for arrow");const s=this.editor.getShapeUtil("arrow"),l=this.shape,c=a.find(A=>A.id==="start"),u=(d=s.onHandleDrag)==null?void 0:d.call(s,o,{handle:{...c,x:0,y:0},isPrecise:!0,initial:l});u&&this.editor.updateShapes([u]),this.shape=this.editor.getShape(n),this.editor.select(n)}updateArrowShapeEndHandle(){var i,o;const r=this.shape;if(!r)throw Error("expected shape");const n=this.editor.getShapeHandles(r);if(!n)throw Error("expected handles for arrow");{const a=this.editor.getShapeUtil("arrow"),s=this.shape,l=n.find(u=>u.id==="start"),c=(i=a.onHandleDrag)==null?void 0:i.call(a,r,{handle:{...l,x:0,y:0},isPrecise:this.didTimeout,initial:s});c&&this.editor.updateShapes([c])}{const a=this.editor.getShapeUtil("arrow"),s=this.shape,l=this.editor.getPointInShapeSpace(r,this.editor.inputs.currentPagePoint),c=n.find(d=>d.id==="end"),u=(o=a.onHandleDrag)==null?void 0:o.call(a,this.editor.getShape(r),{handle:{...c,x:l.x,y:l.y},isPrecise:!1,initial:s});u&&this.editor.updateShapes([u])}this.shape=this.editor.getShape(r.id)}startPreciseTimeout(){this.preciseTimeout=this.editor.timers.setTimeout(()=>{this.getIsActive()&&(this.didTimeout=!0)},320)}clearPreciseTimeout(){clearTimeout(this.preciseTimeout)}},K(dQ,"id","pointing"),dQ);class I5 extends Ft{constructor(){super(...arguments);K(this,"shapeType","arrow")}static children(){return[u5t,d5t]}}K(I5,"id","arrow"),K(I5,"initial","idle");class Q8 extends Ft{constructor(){super(...arguments);K(this,"info",{});K(this,"initialShape");K(this,"shapeType",this.parent.id==="highlight"?"highlight":"draw");K(this,"util",this.editor.getShapeUtil(this.shapeType));K(this,"isPen",!1);K(this,"isPenOrStylus",!1);K(this,"segmentMode","free");K(this,"didJustShiftClickToExtendPreviousShapeLine",!1);K(this,"pagePointWhereCurrentSegmentChanged",{});K(this,"pagePointWhereNextSegmentChanged",null);K(this,"lastRecordedPoint",{});K(this,"mergeNextPoint",!1);K(this,"currentLineLength",0);K(this,"markId",null)}onEnter(r){this.markId=null,this.info=r,this.lastRecordedPoint=this.editor.inputs.currentPagePoint.clone(),this.startShape()}onPointerMove(){const{inputs:r}=this.editor;if(this.isPen&&!r.isPen&&this.markId){this.editor.bailToMark(this.markId),this.startShape();return}this.isPenOrStylus?L.Dist(r.currentPagePoint,this.lastRecordedPoint)>=1/this.editor.getZoomLevel()?(this.lastRecordedPoint=r.currentPagePoint.clone(),this.mergeNextPoint=!1):this.mergeNextPoint=!0:this.mergeNextPoint=!1,this.updateDrawingShape()}onKeyDown(r){if(r.key==="Shift")switch(this.segmentMode){case"free":{this.segmentMode="starting_straight",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break}case"starting_free":this.segmentMode="starting_straight"}this.updateDrawingShape()}onKeyUp(r){if(r.key==="Shift")switch(this.editor.snaps.clearIndicators(),this.segmentMode){case"straight":{this.segmentMode="starting_free",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break}case"starting_straight":{this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";break}}this.updateDrawingShape()}onExit(){this.editor.snaps.clearIndicators(),this.pagePointWhereCurrentSegmentChanged=this.editor.inputs.currentPagePoint.clone()}canClose(){return this.shapeType!=="highlight"}getIsClosed(r,n,i){if(!this.canClose())return!1;const o=ia[n],a=r[0].points[0],s=r[r.length-1],l=s.points[s.points.length-1];return a!==l&&this.currentLineLength>o*4*i&&L.DistMin(a,l,o*2*i)}startShape(){const{inputs:{originPagePoint:r,isPen:n}}=this.editor;this.markId=this.editor.markHistoryStoppingPoint("draw start");const{z:i=.5}=this.info.point;this.isPen=n,this.isPenOrStylus=n||i>0&&i<.5||i>.5&&i<1;const o=this.isPenOrStylus?i*1.25:.5;if(this.segmentMode=this.editor.inputs.shiftKey?"straight":"free",this.didJustShiftClickToExtendPreviousShapeLine=!1,this.lastRecordedPoint=r.clone(),this.initialShape){const s=this.editor.getShape(this.initialShape.id);if(s&&this.segmentMode==="straight"){this.didJustShiftClickToExtendPreviousShapeLine=!0;const l=xo(s.props.segments);if(!l)throw Error("Expected a previous segment!");const c=xo(l.points);if(!c)throw Error("Expected a previous point!");const{x:u,y:d}=this.editor.getPointInShapeSpace(s,r).toFixed(),A={type:this.segmentMode,points:[{x:c.x,y:c.y,z:+o.toFixed(2)},{x:u,y:d,z:+o.toFixed(2)}]},f=ct.applyToPoint(this.editor.getShapePageTransform(s.id),c);this.pagePointWhereCurrentSegmentChanged=f,this.pagePointWhereNextSegmentChanged=null;const h=[...s.props.segments,A];this.currentLineLength<ia[s.props.size]*4&&(this.currentLineLength=this.getLineLength(h));const p={id:s.id,type:this.shapeType,props:{segments:h}};this.canClose()&&(p.props.isClosed=this.getIsClosed(h,s.props.size,s.props.scale)),this.editor.updateShapes([p]);return}}this.pagePointWhereCurrentSegmentChanged=r.clone();const a=cn();this.editor.createShapes([{id:a,type:this.shapeType,x:r.x,y:r.y,props:{isPen:this.isPenOrStylus,scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1,segments:[{type:this.segmentMode,points:[{x:0,y:0,z:+o.toFixed(2)}]}]}}]),this.currentLineLength=0,this.initialShape=this.editor.getShape(a)}updateDrawingShape(){const{initialShape:r}=this,{inputs:n}=this.editor;if(!r)return;const{id:i,props:{size:o,scale:a}}=r,s=this.editor.getShape(i);if(!s)return;const{segments:l}=s.props,{x:c,y:u,z:d}=this.editor.getPointInShapeSpace(s,n.currentPagePoint).toFixed(),A=this.isPenOrStylus?+(n.currentPagePoint.z*1.25).toFixed(2):.5,f={x:c,y:u,z:A};switch(this.segmentMode){case"starting_straight":{const{pagePointWhereNextSegmentChanged:h}=this;if(h===null)throw Error("We should have a point where the segment changed");if(L.Dist2(h,n.currentPagePoint)>this.editor.options.dragDistanceSquared){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="straight";const v=xo(l);if(!v)throw Error("Expected a previous segment!");const y=xo(v.points);if(!y)throw Error("Expected a previous last point!");let b;const x=this.editor.getPointInShapeSpace(s,this.pagePointWhereCurrentSegmentChanged).toFixed().toJson();if(v.type==="straight"){this.currentLineLength+=L.Dist(y,x),b={type:"straight",points:[{...y},x]};const C=this.editor.getShapePageTransform(s);this.pagePointWhereCurrentSegmentChanged=ct.applyToPoint(C,y)}else b={type:"straight",points:[x,f]};const S={id:i,type:this.shapeType,props:{segments:[...l,b]}};this.canClose()&&(S.props.isClosed=this.getIsClosed(l,o,a)),this.editor.updateShapes([S])}break}case"starting_free":{const{pagePointWhereNextSegmentChanged:h}=this;if(h===null)throw Error("We should have a point where the segment changed");if(L.Dist2(h,n.currentPagePoint)>this.editor.options.dragDistanceSquared){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";const v=l.slice(),y=v[v.length-1],b=xo(y.points);if(!b)throw Error("No previous point!");const x={type:"free",points:[...L.PointsBetween(b,f,6).map(_=>({x:id(_.x),y:id(_.y),z:id(_.z)}))]},S=[...v,x];this.currentLineLength<ia[s.props.size]*4&&(this.currentLineLength=this.getLineLength(S));const C={id:i,type:this.shapeType,props:{segments:S}};this.canClose()&&(C.props.isClosed=this.getIsClosed(S,o,a)),this.editor.updateShapes([C])}break}case"straight":{const h=l.slice(),p=h[h.length-1],{pagePointWhereCurrentSegmentChanged:v}=this,{ctrlKey:y,currentPagePoint:b}=this.editor.inputs;if(!v)throw Error("We should have a point where the segment changed");let x,S=!1;this.didJustShiftClickToExtendPreviousShapeLine?this.editor.inputs.isDragging&&(S=!y,this.didJustShiftClickToExtendPreviousShapeLine=!1):S=!y;let C=this.editor.getPointInShapeSpace(s,b).toFixed().toJson(),_=!1,B;if((this.editor.user.getIsSnapMode()?!y:y)&&h.length>2){let P,F=8/this.editor.getZoomLevel();for(let U=0,k=l.length-2;U<k;U++){const M=l[U];if(!M)break;if(M.type==="free")continue;const D=M.points[0],j=xo(M.points);if(!(D&&j))continue;const $=L.NearestPointOnLineSegment(D,j,C);if(L.DistMin($,C,F)){P=$.toFixed().toJson(),F=L.Dist($,C),B=M;break}}P&&(_=!0,C=P)}if(_&&B){const P=this.editor.getShapePageTransform(s),F=B.points[0],U=xo(B.points);if(!U)throw Error("Expected a last point!");const k=ct.applyToPoint(P,F),M=ct.applyToPoint(P,U),D=ct.applyToPoint(P,C);this.editor.snaps.setIndicators([{id:tn(),type:"points",points:[k,D,M]}])}else{if(this.editor.snaps.clearIndicators(),S){const P=L.Angle(v,b),U=PE(P,24)-P;x=L.RotWith(b,v,U)}else x=b;C=this.editor.getPointInShapeSpace(s,x).toFixed().toJson()}this.currentLineLength+=L.Dist(p.points[0],C),h[h.length-1]={...p,type:"straight",points:[p.points[0],C]};const O={id:i,type:this.shapeType,props:{segments:h}};this.canClose()&&(O.props.isClosed=this.getIsClosed(l,o,a)),this.editor.updateShapes([O]);break}case"free":{const h=l.slice(),p=h[h.length-1],v=[...p.points];if(v.length&&this.mergeNextPoint){const{z:b}=v[v.length-1];v[v.length-1]={x:f.x,y:f.y,z:b?Math.max(b,f.z):f.z}}else this.currentLineLength+=L.Dist(v[v.length-1],f),v.push(f);h[h.length-1]={...p,points:v},this.currentLineLength<ia[s.props.size]*4&&(this.currentLineLength=this.getLineLength(h));const y={id:i,type:this.shapeType,props:{segments:h}};if(this.canClose()&&(y.props.isClosed=this.getIsClosed(h,o,a)),this.editor.updateShapes([y]),v.length>this.util.options.maxPointsPerShape){this.editor.updateShapes([{id:i,type:this.shapeType,props:{isComplete:!0}}]);const b=cn(),x=this.editor.getShape(i).props;this.editor.createShapes([{id:b,type:this.shapeType,x:id(n.currentPagePoint.x),y:id(n.currentPagePoint.y),props:{isPen:this.isPenOrStylus,scale:x.scale,segments:[{type:"free",points:[{x:0,y:0,z:this.isPenOrStylus?+(d*1.25).toFixed():.5}]}]}}]),this.initialShape=kn(this.editor.getShape(b)),this.mergeNextPoint=!1,this.lastRecordedPoint=n.currentPagePoint.clone(),this.currentLineLength=0}break}}}getLineLength(r){let n=0;for(const i of r)for(let o=0;o<i.points.length-1;o++){const a=i.points[o],s=i.points[o+1];n+=L.Dist2(s,a)}return Math.sqrt(n)}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.editor.inputs.isDragging||(this.markId&&this.editor.bailToMark(this.markId),this.cancel())}complete(){const{initialShape:r}=this;r&&(this.editor.updateShapes([{id:r.id,type:r.type,props:{isComplete:!0}}]),this.parent.transition("idle"))}cancel(){this.parent.transition("idle",this.info)}}K(Q8,"id","drawing");var AQ;let U5e=(AQ=class extends Ft{onPointerDown(t){this.parent.transition("drawing",t)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onCancel(){this.editor.setCurrentTool("select")}},K(AQ,"id","idle"),AQ);class FC extends Ft{constructor(){super(...arguments);K(this,"shapeType","draw")}static children(){return[U5e,Q8]}onExit(){const r=this.children.drawing;r.initialShape=void 0}}K(FC,"id","draw"),K(FC,"initial","idle"),K(FC,"isLockable",!1);class B5 extends c5{constructor(){super(...arguments);K(this,"shapeType","frame")}onCreate(r){if(!r)return;const n=this.editor.getShapePageBounds(r),i=[],o=this.editor.getShapeAncestors(r).map(a=>a.id);this.editor.getSortedChildIdsForParent(r.parentId).map(a=>{const s=this.editor.getShape(a);if(!s||s.id===r.id||s.isLocked)return;const l=this.editor.getShapePageBounds(s);l&&n.contains(l)&&A5t(s,o,r)&&i.push(s.id)}),this.editor.reparentShapes(i,r.id),this.editor.getInstanceState().isToolLocked?this.editor.setCurrentTool("frame"):this.editor.setCurrentTool("select.idle")}}K(B5,"id","frame"),K(B5,"initial","idle");function A5t(e,t,r){return t.includes(e.id)?!1:e.parentId===r.parentId}var fQ;let f5t=(fQ=class extends Ft{onPointerDown(t){this.parent.transition("pointing",t)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onKeyUp(t){var r;if(t.key==="Enter"){if(this.editor.getIsReadonly())return null;const n=this.editor.getOnlySelectedShape();n&&this.editor.getShapeUtil(n).canEdit(n)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(n.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...t,target:"shape",shape:n}))}}onCancel(){this.editor.setCurrentTool("select")}},K(fQ,"id","idle"),fQ);var hQ;let h5t=(hQ=class extends Ft{onPointerUp(){this.complete()}onPointerMove(t){if(this.editor.inputs.isDragging){const{originPagePoint:r}=this.editor.inputs,n=cn(),i=this.editor.markHistoryStoppingPoint(`creating_geo:${n}`),o=sc(r,this.editor);this.editor.createShapes([{id:n,type:"geo",x:o.x,y:o.y,props:{w:1,h:1,geo:this.editor.getStyleForNextShape(rc),scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1}}]).select(n).setCurrentTool("select.resizing",{...t,target:"selection",handle:"bottom_right",isCreating:!0,creatingMarkId:i,creationCursorOffset:{x:1,y:1},onInteractionEnd:"geo"})}}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.cancel()}complete(){const{originPagePoint:t}=this.editor.inputs,r=cn();this.editor.markHistoryStoppingPoint(`creating_geo:${r}`);const n=this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1,i=this.editor.getStyleForNextShape(rc),o=i==="star"?{w:200,h:190}:i==="cloud"?{w:300,h:180}:{w:200,h:200};this.editor.createShapes([{id:r,type:"geo",x:t.x,y:t.y,props:{geo:this.editor.getStyleForNextShape(rc),scale:n,...o}}]);const a=this.editor.getShape(r);if(!a)return;const{w:s,h:l}=a.props,c=new L(s/2,l/2).mul(n),u=this.editor.getShapeParentTransform(a);u&&c.rot(-u.rotation());const d=sc(new L(a.x-c.x,a.y-c.y),this.editor);this.editor.select(r),this.editor.updateShape({id:a.id,type:"geo",x:d.x,y:d.y,props:{geo:this.editor.getStyleForNextShape(rc),w:s*n,h:l*n}}),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select",{})}cancel(){this.parent.transition("idle")}},K(hQ,"id","pointing"),hQ);class P5 extends Ft{constructor(){super(...arguments);K(this,"shapeType","geo")}static children(){return[f5t,h5t]}}K(P5,"id","geo"),K(P5,"initial","idle");class kC extends Ft{constructor(){super(...arguments);K(this,"shapeType","highlight")}static children(){return[U5e,Q8]}onExit(){const r=this.children.drawing;r.initialShape=void 0}}K(kC,"id","highlight"),K(kC,"initial","idle"),K(kC,"isLockable",!1);var pQ;let p5t=(pQ=class extends Ft{constructor(){super(...arguments);K(this,"shapeId","")}onEnter(r){this.shapeId=r.shapeId,this.editor.setCursor({type:"cross",rotation:0})}onPointerDown(){this.parent.transition("pointing",{shapeId:this.shapeId})}onCancel(){this.editor.setCurrentTool("select")}},K(pQ,"id","idle"),pQ);const LBe=2;var gQ;let g5t=(gQ=class extends Ft{constructor(){super(...arguments);K(this,"shape",{});K(this,"markId")}onEnter(r){const{inputs:n}=this.editor,{currentPagePoint:i}=n;this.markId=void 0;const o=r.shapeId&&this.editor.getShape(r.shapeId);if(o&&n.shiftKey){this.markId=this.editor.markHistoryStoppingPoint(`creating_line:${o.id}`),this.shape=o;const a=this.editor.getShapeHandles(this.shape);if(!a)return;const s=a.filter(h=>h.type==="vertex").sort(ta),l=s[s.length-1],c=s[s.length-2],u=ct.applyToPoint(this.editor.getShapeParentTransform(this.shape),new L(this.shape.x,this.shape.y)),d=L.Sub(i,u).addXY(.1,.1),A=sc(d,this.editor),f=kn(this.shape.props.points);if(L.DistMin(l,c,LBe)||L.DistMin(A,l,LBe))f[l.id]={id:l.id,index:l.index,x:A.x,y:A.y};else{const h=Yc(l.index);f[h]={id:h,index:h,x:A.x,y:A.y}}this.editor.updateShapes([{id:this.shape.id,type:this.shape.type,props:{points:f}}])}else{const a=cn();this.markId=this.editor.markHistoryStoppingPoint(`creating_line:${a}`);const s=sc(i,this.editor);this.editor.createShapes([{id:a,type:"line",x:s.x,y:s.y,props:{scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1}}]),this.editor.select(a),this.shape=this.editor.getShape(a)}}onPointerMove(){if(this.shape&&this.editor.inputs.isDragging){const r=this.editor.getShapeHandles(this.shape);if(!r)throw this.markId&&this.editor.bailToMark(this.markId),Error("No handles found");const n=xo(r);this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,isCreating:!0,creatingMarkId:this.markId,handle:{...n,x:n.x-.1,y:n.y-.1},onInteractionEnd:"line"})}}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.parent.transition("idle"),this.markId&&this.editor.bailToMark(this.markId),this.editor.snaps.clearIndicators()}complete(){this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clearIndicators()}cancel(){this.markId&&this.editor.bailToMark(this.markId),this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clearIndicators()}},K(gQ,"id","pointing"),gQ);class T5 extends Ft{constructor(){super(...arguments);K(this,"shapeType","line")}static children(){return[p5t,g5t]}}K(T5,"id","line"),K(T5,"initial","idle");var mQ;let m5t=(mQ=class extends Ft{onPointerDown(t){this.parent.transition("pointing",t)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onCancel(){this.editor.setCurrentTool("select")}},K(mQ,"id","idle"),mQ);const v5t=0,on=200,AT=new L(on/2,on/2),D5e=10,y5t=e=>[[["a1"],new L(on*.5,on*-.5-e.options.adjacentShapeMargin)],[["a2"],new L(on*1.5+e.options.adjacentShapeMargin,on*.5)],[["a3"],new L(on*.5,on*1.5+e.options.adjacentShapeMargin)],[["a4"],new L(on*-.5-e.options.adjacentShapeMargin,on*.5)]];function w5t(e,t){if(t===1)return y5t(e);const r=on*t,n=e.options.adjacentShapeMargin*t;return[[["a1"],new L(r*.5,r*-.5-n)],[["a2"],new L(r*1.5+n,r*.5)],[["a3"],new L(r*.5,r*1.5+n)],[["a4"],new L(r*-.5-n,r*.5)]]}function j5e(e,t,r,n,i,o){return Object.fromEntries(w5t(e,o).map(([a,s],l)=>{const c=s.clone();return l===0&&i?c.y-=i:l===2&&n&&(c.y+=n),[a,c.rot(r).add(t)]}))}function L5e(e,t,r,n){const i=new Set(e.getSelectedShapeIds()),o=(on+e.options.adjacentShapeMargin+n)**2,a=new Map,s=[];for(const u of e.getCurrentPageShapes()){if(!e.isShapeOfType(u,"note")||r!==u.props.scale||i.has(u.id))continue;const d=e.getShapePageTransform(u.id);t===d.rotation()&&(a.set(u,e.getShapePageBounds(u).center),s.push(...Object.values(j5e(e,d.point(),t,u.props.growY,n,r))))}const l=s.length;let c;for(const[u,d]of a)for(let A=0;A<l;A++)c=s[A],c&&(L.Dist2(d,c)>o||e.isPointInShape(u,c)&&(s[A]=void 0));return lr(s)}function N5e(e,t,r,n,i=!1){let o;const a=e.getCurrentPageShapesSorted(),s=(on+e.options.adjacentShapeMargin**2)**t.props.scale;for(let l=a.length-1;l>=0;l--){const c=a[l];if(c.type==="note"&&c.id!==t.id){const u=e.getShapePageBounds(c);if(u&&L.Dist2(u.center,r)<s&&e.isPointInShape(c,r)){o=c;break}}}if(e.complete(),!o||i){e.markHistoryStoppingPoint("creating note shape");const l=cn();e.createShape({id:l,type:"note",x:r.x,y:r.y,rotation:n,opacity:t.opacity,props:{...t.props,text:"",growY:0,fontSizeAdjustment:0,url:""}});const c=e.getShape(l);if(!c)return;const u=e.getPointInParentSpace(c,L.Sub(r,L.Rot(AT.clone().mul(c.props.scale),n)));e.updateShape({id:l,type:"note",x:u.x,y:u.y}),o=e.getShape(l)}return x5t(e),o}const b5t=16;function x5t(e){const t=e.getSelectionPageBounds(),r=e.getViewportPageBounds();if(t&&!r.contains(t)){const n=t.clone().expandBy(b5t/e.getZoomLevel()).expand(r),i=r.clone().translate({x:(n.center.x-r.center.x)*2,y:(n.center.y-r.center.y)*2});e.zoomToBounds(i,{animation:{duration:e.options.animationMediumMs},inset:0})}}var vQ;let S5t=(vQ=class extends Ft{constructor(){super(...arguments);K(this,"dragged",!1);K(this,"info",{});K(this,"markId","");K(this,"shape",{})}onEnter(){const{editor:r}=this,n=cn();this.markId=r.markHistoryStoppingPoint(`creating_note:${n}`);const i=this.editor.inputs.originPagePoint.clone(),o=C5t(this.editor,i,this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1);o&&i.sub(o),this.shape=_5t(this.editor,n,i)}onPointerMove(r){this.editor.inputs.isDragging&&this.editor.setCurrentTool("select.translating",{...r,target:"shape",shape:this.shape,onInteractionEnd:"note",isCreating:!0,creatingMarkId:this.markId,onCreate:()=>{this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape")}})}onPointerUp(){this.complete()}onInterrupt(){this.cancel()}onComplete(){this.complete()}onCancel(){this.cancel()}complete(){this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):(this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape",{...this.info,target:"shape",shape:this.shape}))}cancel(){this.editor.bailToMark(this.markId),this.parent.transition("idle",this.info)}},K(vQ,"id","pointing"),vQ);function C5t(e,t,r){let n=D5e/e.getZoomLevel(),i;for(const o of L5e(e,0,r,0)){const a=L.Sub(t,o),s=a.len();s<n&&(n=s,i=a)}return i}function _5t(e,t,r){e.createShape({id:t,type:"note",x:r.x,y:r.y,props:{scale:e.user.getIsDynamicResizeMode()?1/e.getZoomLevel():1}}).select(t);const n=e.getShape(t),i=e.getShapeGeometry(n).bounds,o=sc(new L(n.x-i.width/2,n.y-i.height/2),e);return e.updateShapes([{id:t,type:"note",x:o.x,y:o.y}]),e.getShape(t)}class O5 extends Ft{constructor(){super(...arguments);K(this,"shapeType","note")}static children(){return[m5t,S5t]}}K(O5,"id","note"),K(O5,"initial","idle");function E5t(e){const t=e.getShapeAtPoint(e.inputs.currentPagePoint,{hitInside:!1,hitLabels:!1,margin:e.options.hitTestMargin/e.getZoomLevel(),renderingOnly:!0});if(!t)return e.setHoveredShape(null);let r;const n=e.getOutermostSelectableShape(t);return n===t||n.id===e.getFocusedGroupId()||e.getSelectedShapeIds().includes(n.id)?r=t:r=n,e.setHoveredShape(r.id)}const cd=gke(E5t,32);var yQ;let I5t=(yQ=class extends Ft{onPointerMove(t){switch(t.target){case"shape":case"canvas":cd(this.editor)}}onPointerDown(t){this.parent.transition("pointing",t)}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}onExit(){cd.cancel()}onKeyDown(t){var r;if(t.key==="Enter"){if(this.editor.getIsReadonly())return null;const n=this.editor.getOnlySelectedShape();n&&this.editor.getShapeUtil(n).canEdit(n)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(n.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...t,target:"shape",shape:n}))}}onCancel(){this.editor.setCurrentTool("select")}},K(yQ,"id","idle"),yQ);var wQ;let B5t=(wQ=class extends Ft{constructor(){super(...arguments);K(this,"shape");K(this,"markId","");K(this,"enterTime",0)}onEnter(){this.enterTime=Date.now()}onExit(){this.editor.setHintingShapes([])}onPointerMove(r){if(Date.now()-this.enterTime<150)return;const{editor:n}=this,{isPointing:i}=n.inputs;if(!i)return;const{originPagePoint:o,currentPagePoint:a}=n.inputs,s=Math.abs(o.x-a.x),c=Math.sqrt(n.getInstanceState().isCoarsePointer?n.options.coarseDragDistanceSquared:n.options.dragDistanceSquared)*6/n.getZoomLevel();if(s>c){const u=cn();this.markId=n.markHistoryStoppingPoint(`creating_text:${u}`);const d=this.createTextShape(u,o,!1,s);if(!d){this.cancel();return}this.shape=n.getShape(d),n.select(u),n.setCurrentTool("select.resizing",{...r,target:"selection",handle:"right",isCreating:!0,creatingMarkId:this.markId,creationCursorOffset:{x:s,y:1},onInteractionEnd:"text",onCreate:()=>{n.setEditingShape(d.id)}})}}onPointerUp(){this.complete()}onComplete(){this.cancel()}onCancel(){this.cancel()}onInterrupt(){this.cancel()}complete(){this.editor.markHistoryStoppingPoint("creating text shape");const r=cn(),{originPagePoint:n}=this.editor.inputs;this.createTextShape(r,n,!0,20)&&(this.editor.select(r),this.editor.setEditingShape(r))}cancel(){this.parent.transition("idle"),this.editor.bailToMark(this.markId)}createTextShape(r,n,i,o){this.editor.createShape({id:r,type:"text",x:n.x,y:n.y,props:{text:"",autoSize:i,w:o,scale:this.editor.user.getIsDynamicResizeMode()?1/this.editor.getZoomLevel():1}});const a=this.editor.getShape(r);if(!a){this.cancel();return}const s=this.editor.getShapePageBounds(a),l=new L;if(i)switch(a.props.textAlign){case"start":{l.x=0;break}case"middle":{l.x=-s.width/2;break}case"end":{l.x=-s.width;break}}else l.x=0;if(l.y=-s.height/2,Wa(a.parentId)){const d=this.editor.getShapeParentTransform(a);l.rot(-d.rotation())}const c=a.x+l.x,u=a.y+l.y;if(this.editor.getInstanceState().isGridMode){const d=new L(c,u),A=sc(d,this.editor),f=L.Sub(d,A);this.editor.updateShape({...a,x:c-f.x,y:u-f.y})}else this.editor.updateShape({...a,x:c,y:u});return a}},K(wQ,"id","pointing"),wQ);class R5 extends Ft{constructor(){super(...arguments);K(this,"shapeType","text")}static children(){return[I5t,B5t]}}K(R5,"id","text"),K(R5,"initial","idle");const P5t=[R5,FC,P5,O5,T5,B5,I5,kC];function Bl(){return Nd({isDarkMode:cx()})}function fT(e){return{key:`${cu.id}:${e}`,async getElement(){const t=T5t(e);if(!t)return null;const{url:r,fontFaceRule:n}=t,i=await(await lu(r)).blob(),o=await fl.blobToDataUrl(i),a=n.replace(r,o);return m.jsx("style",{children:a})}}}function T5t(e){const t=kUe[e];for(const r of document.fonts)if(t.includes(r.family)&&"$$_url"in r&&typeof r.$$_url=="string"&&"$$_fontface"in r&&typeof r.$$_fontface=="string")return{url:r.$$_url,fontFaceRule:r.$$_fontface};return null}function H8(e){return{key:`${cu.id}:${e}`,async getElement(){return e!=="pattern"?null:m.jsx(O5t,{})}}}function O5t(){const e=z8(),t=sv(),r=Bl(),n=8/12;return m.jsxs(m.Fragment,{children:[m.jsxs("mask",{id:t,children:[m.jsx("rect",{x:"0",y:"0",width:"8",height:"8",fill:"white"}),m.jsxs("g",{strokeLinecap:"round",stroke:"black",children:[m.jsx("line",{x1:n*1,y1:n*3,x2:n*3,y2:n*1}),m.jsx("line",{x1:n*5,y1:n*7,x2:n*7,y2:n*5}),m.jsx("line",{x1:n*9,y1:n*11,x2:n*11,y2:n*9})]})]}),m.jsx("pattern",{id:e(1,r.id),width:"8",height:"8",patternUnits:"userSpaceOnUse",children:m.jsx("rect",{x:"0",y:"0",width:"8",height:"8",fill:r.solid,mask:`url(#${t})`})})]})}function q8(){return{key:`${cu.id}:pattern`,component:k5t}}const A0=8,NBe=(e,t,r)=>new Promise((n,i)=>{const o=A0*t*e,a=document.createElement("canvas");a.width=o,a.height=o;const s=a.getContext("2d");if(!s)return;s.fillStyle=r?UE.darkMode.solid:UE.lightMode.solid,s.fillRect(0,0,o,o),s.globalCompositeOperation="destination-out",s.lineCap="round",s.lineWidth=1.25*t*e;const l=8/12,c=u=>u*t*e;s.beginPath(),s.moveTo(c(l*1),c(l*3)),s.lineTo(c(l*3),c(l*1)),s.moveTo(c(l*5),c(l*7)),s.lineTo(c(l*7),c(l*5)),s.moveTo(c(l*9),c(l*11)),s.lineTo(c(l*11),c(l*9)),s.stroke(),a.toBlob(u=>{!u||xi.throwToBlob.get()?i():n(u)})}),$Be=(e,t)=>{const r=document.createElement("canvas");r.width=e[0],r.height=e[1];const n=r.getContext("2d");return n?(t(n),r.toDataURL()):""};let N4=null;function R5t(){return N4||(N4={white:$Be([1,1],e=>{e.fillStyle="#f8f9fa",e.fillRect(0,0,1,1)}),black:$Be([1,1],e=>{e.fillStyle="#212529",e.fillRect(0,0,1,1)})}),N4}function $5e(e){return Math.ceil(Math.log2(Math.max(1,e)))}function z8(){const e=ic("hash_pattern");return I.useCallback((t,r)=>{const n=$5e(t);return qz(e,`${r}_${n}`)},[e])}function Q5e(e){const t=[],n=$5e(e);for(let i=0;i<=n;i++)t.push(Math.pow(2,i));return t}function M5t(e){const t=R5t();return Q5e(e).flatMap(r=>[{zoom:r,url:t.white,theme:"light"},{zoom:r,url:t.black,theme:"dark"}])}function F5t(){const e=Ee(),t=Re("devicePixelRatio",()=>e.getInstanceState().devicePixelRatio,[e]),r=Re("maxZoom",()=>Math.ceil(xo(e.getCameraOptions().zoomSteps)),[e]),[n,i]=I.useState(!1),[o,a]=I.useState(()=>M5t(r)),s=z8();return I.useEffect(()=>{const c=Promise.all(Q5e(r).flatMap(d=>[NBe(t,d,!1).then(A=>({zoom:d,theme:"light",url:URL.createObjectURL(A)})),NBe(t,d,!0).then(A=>({zoom:d,theme:"dark",url:URL.createObjectURL(A)}))]));let u=!1;return c.then(d=>{u||(a(d),i(!0))}),()=>{u=!0,i(!1),c.then(d=>{for(const{url:A}of d)URL.revokeObjectURL(A)})}},[t,r]),{defs:m.jsx(m.Fragment,{children:o.map(c=>{const u=s(c.zoom,c.theme);return m.jsx("pattern",{id:u,width:A0,height:A0,patternUnits:"userSpaceOnUse",children:m.jsx("image",{href:c.url,width:A0,height:A0})},u)})}),isReady:n}}function k5t(){const e=Ee(),t=I.useRef(null),{defs:r,isReady:n}=F5t();return I.useEffect(()=>{if(n&&an.isSafari){const i=H5e(t.current);i&&e.timers.requestAnimationFrame(()=>{i.style.display="none",e.timers.requestAnimationFrame(()=>{i.style.display=""})})}},[e,n]),m.jsx("g",{ref:t,"data-testid":n?"ready-pattern-fill-defs":void 0,children:r})}function H5e(e){return e.classList.contains("tl-html-layer")?e:e.parentElement?H5e(e.parentElement):null}const Wo=ue.memo(function({theme:t,d:r,color:n,fill:i,scale:o}){switch(i){case"none":return null;case"solid":return m.jsx("path",{fill:t[n].semi,d:r});case"semi":return m.jsx("path",{fill:t.solid,d:r});case"fill":return m.jsx("path",{fill:t[n].fill,d:r});case"pattern":return m.jsx(U5t,{theme:t,color:n,fill:i,d:r,scale:o})}});function U5t({d:e,color:t,theme:r}){const n=Ee(),i=ox(),o=Re("zoomLevel",()=>n.getZoomLevel(),[n]),a=z8(),s=n.getZoomLevel()<=.18;return m.jsxs(m.Fragment,{children:[m.jsx("path",{fill:r[t].pattern,d:e}),m.jsx("path",{fill:i?`url(#${a(1,r.id)})`:s?r[t].semi:`url(#${a(o,r.id)})`,d:e})]})}function D5t(e){return e.replace(/\s/g,"")}function M5(e,t,r){const{padding:n=0}=r;if(t.length===0)return null;const i=st.From(t[0].box);for(const{box:c}of t)i.union(c);const o=n+(r.offsetX??0),a=(r.offsetY??0)+r.fontSize/2+(r.verticalTextAlign==="start"?n:r.verticalTextAlign==="end"?r.height-n-i.height:(Math.ceil(r.height)-i.height)/2);let s=null;const l=[];for(const{text:c,box:u}of t)s!==null&&u.y>s&&l.push(m.jsx("tspan",{alignmentBaseline:"mathematical",x:o,y:u.y+a,children:`
`},l.length)),l.push(m.jsx("tspan",{alignmentBaseline:"mathematical",x:u.x+o,y:u.y+a,unicodeBidi:"plaintext",children:D5t(c)},l.length)),s=u.y;return m.jsx("text",{fontSize:r.fontSize,fontFamily:r.fontFamily,fontStyle:r.fontStyle,fontWeight:r.fontWeight,dominantBaseline:"mathematical",alignmentBaseline:"mathematical",stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,children:l})}function j5t(e,t,r,n){if((e==="start-legacy"||e==="end-legacy")&&r.length!==0){const i=st.From(r[0].box);for(const{box:o}of r)i.union(o);if(e==="start-legacy")return(n-2*t-i.width)/2;if(e==="end-legacy")return-(n-2*t-i.width)/2}}function L5t(e){return e==="start-legacy"||e==="middle-legacy"||e==="end-legacy"}function hT({fontSize:e,font:t,align:r,verticalAlign:n,text:i,labelColor:o,bounds:a,padding:s=16,stroke:l=!0}){const c=Ee(),u=Bl(),d={fontSize:e,fontFamily:kUe[t],textAlign:r,verticalTextAlign:n,width:Math.ceil(a.width),height:Math.ceil(a.height),padding:s,lineHeight:aa.lineHeight,fontStyle:"normal",fontWeight:"normal",overflow:"wrap",offsetX:0,offsetY:0,fill:o,stroke:void 0,strokeWidth:void 0},A=c.textMeasure.measureTextSpans(i,d),f=j5t(r,s,A,a.width);f&&(d.offsetX=f),d.offsetX+=a.x,d.offsetY+=a.y;const h=M5(c,A,d);let p=null;return l&&(d.fill=u.background,d.stroke=u.background,d.strokeWidth=2,p=M5(c,A,d)),m.jsxs(m.Fragment,{children:[p,h]})}const N5t=I.forwardRef(function({isEditing:t,text:r,handleFocus:n,handleChange:i,handleKeyDown:o,handleBlur:a,handleInputPointerDown:s,handleDoubleClick:l},c){return m.jsx("textarea",{ref:c,className:"tl-text tl-text-input",name:"text",tabIndex:-1,disabled:!t,readOnly:!t,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",autoSave:"off",placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",defaultValue:r,onFocus:n,onChange:i,onKeyDown:o,onBlur:a,onTouchEnd:Ei,onContextMenu:t?Ei:void 0,onPointerDown:s,onDoubleClick:l,onDragStart:hr})});function $5t(e,t,r){const n=Ee(),i=I.useRef(null),o=Re("isEditing",()=>n.getEditingShapeId()===e,[n]),a=Re("isEditingAnything",()=>!!n.getEditingShapeId(),[n]);I.useEffect(()=>{function u(d){var A;d.shapeId===e&&((A=i.current)==null||A.select())}return n.on("select-all-text",u),()=>{n.off("select-all-text",u)}},[n,e,o]),I.useEffect(()=>{var u,d,A,f;o&&(document.activeElement!==i.current&&((u=i.current)==null||u.focus()),n.getInstanceState().isCoarsePointer&&((d=i.current)==null||d.select()),an.isSafari&&((A=i.current)==null||A.blur(),(f=i.current)==null||f.focus()))},[n,o]);const s=I.useCallback(u=>{if(n.getEditingShapeId()===e)switch(u.key){case"Enter":{(u.ctrlKey||u.metaKey)&&n.complete();break}}},[n,e]),l=I.useCallback(u=>{if(n.getEditingShapeId()!==e)return;let d=Bm.normalizeText(u.currentTarget.value);const A=d.replace(/\t/g,Fg);if(A!==d){const f=u.currentTarget.selectionStart;u.currentTarget.value=A,u.currentTarget.selectionStart=f+(A.length-d.length),u.currentTarget.selectionEnd=f+(A.length-d.length),d=A}n.updateShape({id:e,type:t,props:{text:d}})},[n,e,t]),c=I.useCallback(u=>{n.dispatch({...xs(u),type:"pointer",name:"pointer_down",target:"shape",shape:n.getShape(e)}),Ei(u)},[n,e]);return{rInput:i,handleFocus:jw,handleBlur:jw,handleKeyDown:s,handleChange:l,handleInputPointerDown:c,handleDoubleClick:Ei,isEmpty:r.trim().length===0,isEditing:o,isEditingAnything:a}}const pT=ue.memo(function({shapeId:t,type:r,text:n,labelColor:i,font:o,fontSize:a,lineHeight:s,align:l,verticalAlign:c,wrap:u,isSelected:d,padding:A=0,onKeyDown:f,classNamePrefix:h,style:p,textWidth:v,textHeight:y}){const{rInput:b,isEmpty:x,isEditing:S,isEditingAnything:C,..._}=$5t(t,r,n),[B,T]=I.useState(n);I.useEffect(()=>{S||T(n)},[S,n]);const O=Bm.normalizeTextForDom(n),P=O.length>0,F=L5t(l);if(!S&&!P)return null;const U=h||"tl-text";return m.jsx("div",{className:`${U}-label tl-text-wrapper`,"data-font":o,"data-align":l,"data-hastext":!x,"data-isediting":S,"data-iseditinganything":C,"data-textwrap":!!u,"data-isselected":d,style:{justifyContent:l==="middle"||F?"center":l,alignItems:c==="middle"?"center":c,padding:A,...p},children:m.jsxs("div",{className:`${U}-label__inner tl-text-content__wrapper`,style:{fontSize:a,lineHeight:Math.floor(a*s)+"px",minHeight:Math.floor(a*s)+"px",minWidth:Math.ceil(v||0),color:i,width:v?Math.ceil(v):void 0,height:y?Math.ceil(y):void 0},children:[m.jsx("div",{className:`${U} tl-text tl-text-content`,dir:"auto",children:O.split(`
`).map((k,M)=>m.jsx("div",{dir:"auto",children:k},M))}),(C||d)&&m.jsx(N5t,{ref:b,text:n,isEditing:S,..._,handleKeyDown:f??_.handleKeyDown},B)]})})}),Q5t=new hc;function H5t(e){return Q5t.get(e,()=>e.store.createComputedCache("arrowLabelSize",t=>{const r=Jc(e,t);let n=0,i=0;const o=r.isStraight?new ld({start:L.From(r.start.point),end:L.From(r.end.point)}):new Rg({center:L.Cast(r.handleArc.center),start:L.Cast(r.start.point),end:L.Cast(r.end.point),sweepFlag:r.bodyArc.sweepFlag,largeArcFlag:r.bodyArc.largeArcFlag});if(t.props.text.trim()){const a=o.bounds,s=F5(t),{w:l,h:c}=e.textMeasure.measureText(t.props.text,{...aa,fontFamily:Fd[t.props.font],fontSize:s,maxWidth:null});n=l,i=c;let u=!1;if(a.width>a.height?(n=Math.max(Math.min(l,64),Math.min(a.width-64,l)),u=!0):n>16*s&&(n=16*s,u=!0),u){const{w:d,h:A}=e.textMeasure.measureText(t.props.text,{...aa,fontFamily:Fd[t.props.font],fontSize:s,maxWidth:n});n=d,i=A}}return new L(n,i).addScalar($8*2*t.props.scale)}))}function K8(e,t){return t.props.text.trim()===""?new L(0,0).addScalar($8*2*t.props.scale):H5t(e).get(t.id)??new L(0,0)}function q5e(e){const t=ia[e.props.size];return(R3t+(t-ia.s)*2+(t===ia.xl?20:0))*e.props.scale}function q5t(e,t,r){const n=K8(e,t),i=q5e(t),o=L.Nudge(r.start.point,r.end.point,i),a=L.Nudge(r.end.point,r.start.point,i),s=kK(o,a,st.FromCenter(r.middle,n).corners);if(!s||s.length!==2)return{start:.5,end:.5};let[l,c]=s;L.Dist2(l,o)>L.Dist2(c,o)&&([c,l]=s);const u=o.add(L.Sub(r.middle,l)),d=a.add(L.Sub(r.middle,c)),A=L.Dist(r.start.point,u)/r.length,f=L.Dist(r.start.point,d)/r.length;return{start:A,end:f}}function z5t(e,t,r){const n=K8(e,t),i=q5e(t),o=Math.sign(t.props.bend),a=i/r.handleArc.radius*o,s=L.Angle(r.bodyArc.center,r.start.point)-a,l=L.Angle(r.bodyArc.center,r.end.point)+a,c=Mh(r.bodyArc.center,r.bodyArc.radius,s),u=Mh(r.bodyArc.center,r.bodyArc.radius,l),d=[],A=HBe(r.bodyArc.center,r.bodyArc.radius,s,l,o,st.FromCenter(c,n).corners);d.push(new wi({points:st.FromCenter(c,n).corners,debugColor:"lime",isFilled:!1,ignore:!0}));const f=HBe(r.bodyArc.center,r.bodyArc.radius,s,l,o,st.FromCenter(u,n).corners);d.push(new wi({points:st.FromCenter(u,n).corners,debugColor:"lime",isFilled:!1,ignore:!0}));for(const B of[...A??[],...f??[],c,u])d.push(new VK({x:B.x-3,y:B.y-3,radius:3,isFilled:!1,debugColor:"magenta",ignore:!0}));const h=(A&&qBe(r.start.point,A))??r.middle,p=(f&&qBe(r.end.point,f))??r.middle,v=L.Angle(r.bodyArc.center,r.start.point),y=L.Angle(r.bodyArc.center,r.end.point),b=L.Angle(r.bodyArc.center,h),x=L.Angle(r.bodyArc.center,p);if(BA(v,b,o)>BA(v,x,o))return{start:.5,end:.5,dbg:d};const S=BA(v,y,o),C=BA(v,b,o)/S,_=BA(v,x,o)/S;return{start:C,end:_,dbg:d}}function UC(e,t){let r;const n=[],i=Jc(e,t),o={hasStartBinding:!!i.bindings.start,hasEndBinding:!!i.bindings.end,hasStartArrowhead:i.start.arrowhead!=="none",hasEndArrowhead:i.end.arrowhead!=="none"};if(i.isStraight){const s=q5t(e,t,i),l=QBe(e,t,s,o);r=L.Lrp(i.start.point,i.end.point,l)}else{const s=z5t(e,t,i);s.dbg&&n.push(...s.dbg);const l=QBe(e,t,s,o),c=K5t(L.Angle(i.bodyArc.center,i.start.point),L.Angle(i.bodyArc.center,i.end.point),Math.sign(t.props.bend),l);r=Mh(i.bodyArc.center,i.bodyArc.radius,c)}const a=K8(e,t);return{box:st.FromCenter(r,a),debugGeom:n}}function QBe(e,t,r,n){const{hasEndArrowhead:i,hasEndBinding:o,hasStartBinding:a,hasStartArrowhead:s}=n,l=V5e(e,t);let c=vo(t.props.labelPosition,s||a?r.start:0,i||o?r.end:1);const u=Math.min(.02,500/l*.02);return c=c>=.5-u&&c<=.5+u?.5:c,c}function HBe(e,t,r,n,i,o){const a=t5(e,t,o),s=BA(r,n,i);return a==null?void 0:a.filter(l=>{const c=BA(r,L.Angle(e,l),i);return c>=0&&c<=s})}function qBe(e,t){let r=null,n=-1/0;for(const i of t){const o=L.Dist2(e,i);o>n&&(r=i,n=o)}return r}function K5t(e,t,r,n){const i=BA(e,t,r);return e+i*n*r*-1}function F5(e){return O3t[e.props.size]*e.props.scale}function W5t(e,t,r){const n=t==="end"?e.end.point:e.start.point,i=t==="end"?e.start.point:e.end.point,o=e.isStraight?L.Dist(i,n):Math.abs(e.bodyArc.length),a=Math.max(Math.min(o/5,r*3),r);let s;if(e.isStraight)s=L.Nudge(n,i,a);else{const l=Ukt(n,a,e.handleArc.center,e.handleArc.radius);s=t==="end"?e.handleArc.sweepFlag?l[0]:l[1]:e.handleArc.sweepFlag?l[1]:l[0]}return L.IsNaN(s)&&(s=e.start.point),{point:n,int:s}}function V5t({point:e,int:t}){const r=L.RotWith(t,e,jr/6),n=L.RotWith(t,e,-jr/6);return`M ${r.x} ${r.y} L ${e.x} ${e.y} L ${n.x} ${n.y}`}function G5t({point:e,int:t}){const r=L.RotWith(t,e,jr/6),n=L.RotWith(t,e,-jr/6);return`M ${r.x} ${r.y} L ${n.x} ${n.y} L ${e.x} ${e.y} Z`}function Y5t({point:e,int:t}){const r=L.Sub(t,e).div(2),n=L.Add(e,L.Rot(r,En)),i=L.Sub(e,L.Rot(r,En));return`M ${n.x} ${n.y} L ${t.x} ${t.y} L ${i.x} ${i.y} Z`}function X5t({point:e,int:t}){const r=L.Lrp(e,t,.45),n=L.Dist(r,e);return`M ${r.x-n},${r.y}
  a ${n},${n} 0 1,0 ${n*2},0
  a ${n},${n} 0 1,0 -${n*2},0 `}function J5t({point:e,int:t}){const r=L.Lrp(e,t,.75),n=L.RotWith(r,e,jr/4),i=L.RotWith(r,e,-jr/4),o=L.Lrp(n,i,.5);return o.add(L.Sub(o,e)),`M ${o.x} ${o.y} L ${i.x} ${i.y} ${e.x} ${e.y} L ${n.x} ${n.y} Z`}function Z5t({int:e,point:t}){const r=L.Lrp(t,e,.85),n=L.Sub(r,t).div(2),i=L.Add(t,L.Rot(n,En)),o=L.Sub(t,L.Rot(n,En)),a=L.Add(r,L.Rot(n,En)),s=L.Sub(r,L.Rot(n,En));return`M ${i.x} ${i.y} L ${a.x} ${a.y} L ${s.x} ${s.y} L ${o.x} ${o.y} Z`}function eqt({int:e,point:t}){const r=L.Sub(e,t).div(2),n=L.Add(t,L.Rot(r,En)),i=L.Sub(t,L.Rot(r,En));return`M ${n.x} ${n.y} L ${i.x} ${i.y}`}function oI(e,t,r){const n=t==="end"?e.end.arrowhead:e.start.arrowhead;if(n==="none")return;const i=W5t(e,t,r);if(i){switch(n){case"bar":return eqt(i);case"square":return Z5t(i);case"diamond":return J5t(i);case"dot":return X5t(i);case"inverted":return Y5t(i);case"arrow":return V5t(i);case"triangle":return G5t(i)}return""}}function tqt(e){const{start:t,end:r,handleArc:{radius:n,largeArcFlag:i,sweepFlag:o}}=e;return`M${t.handle.x},${t.handle.y} A${n} ${n} 0 ${i} ${o} ${r.handle.x},${r.handle.y}`}function z5e(e){const{start:t,end:r,bodyArc:{radius:n,largeArcFlag:i,sweepFlag:o}}=e;return`M${t.point.x},${t.point.y} A${n} ${n} 0 ${i} ${o} ${r.point.x},${r.point.y}`}function K5e(e,t){return`M${e.x},${e.y}L${t.x},${t.y}`}function rqt(e){return K5e(e.start.handle,e.end.handle)}function W5e(e){return K5e(e.start.point,e.end.point)}class DC extends oc{constructor(){super(...arguments);K(this,"_resizeInitialBindings",new hc)}canEdit(){return!0}canBind({toShapeType:r}){return r!=="arrow"}canSnap(){return!1}hideResizeHandles(){return!0}hideRotateHandle(){return!0}hideSelectionBoundsBg(){return!0}hideSelectionBoundsFg(){return!0}canBeLaidOut(r,n){if(n.type==="flip"){const i=Ya(this.editor,r),{start:o,end:a}=i,{shapes:s=[]}=n;if(o&&!s.find(l=>l.id===o.toId)||a&&!s.find(l=>l.id===a.toId))return!1}return!0}getDefaultProps(){return{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{x:0,y:0},end:{x:2,y:0},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",scale:1}}getGeometry(r){const n=Jc(this.editor,r),i=[],o=n.isStraight?new ld({start:L.From(n.start.point),end:L.From(n.end.point)}):new Rg({center:L.Cast(n.handleArc.center),start:L.Cast(n.start.point),end:L.Cast(n.end.point),sweepFlag:n.bodyArc.sweepFlag,largeArcFlag:n.bodyArc.largeArcFlag});let a;if(r.props.text.trim()){const s=UC(this.editor,r);i.push(...s.debugGeom),a=new du({x:s.box.x,y:s.box.y,width:s.box.w,height:s.box.h,isFilled:!0,isLabel:!0})}return new bl({children:[...a?[o,a]:[o],...i]})}getHandles(r){const n=Jc(this.editor,r);return[{id:"start",type:"vertex",index:"a0",x:n.start.handle.x,y:n.start.handle.y},{id:"middle",type:"virtual",index:"a2",x:n.middle.x,y:n.middle.y},{id:"end",type:"vertex",index:"a3",x:n.end.handle.x,y:n.end.handle.y}].filter(Boolean)}getText(r){return r.props.text}onHandleDrag(r,{handle:n,isPrecise:i}){const o=n.id,a=Ya(this.editor,r);if(o==="middle"){const{start:_,end:B}=Mg(this.editor,r,a),T=L.Sub(B,_),O=L.Per(T),P=L.Med(B,_),F=L.Sub(P,O),U=L.Add(P,O),k=L.NearestPointOnLineSegment(F,U,n,!1);let M=L.Dist(k,P);return L.Clockwise(k,B,P)&&(M*=-1),{id:r.id,type:r.type,props:{bend:M}}}const s={id:r.id,type:"arrow",props:{}},l=a[o],u=a[o==="start"?"end":"start"];if(this.editor.inputs.ctrlKey)return RC(this.editor,r,o),s.props[o]={x:n.x,y:n.y},s;const d=this.editor.getShapePageTransform(r.id).applyToPoint(n),A=this.editor.getShapeAtPoint(d,{hitInside:!0,hitFrameInside:!0,margin:0,filter:_=>!_.isLocked&&this.editor.canBindShapes({fromShape:r,toShape:_,binding:"arrow"})});if(!A){RC(this.editor,r,o);const _=sc(new L(n.x,n.y),this.editor);return s.props[o]={x:_.x,y:_.y},s}const f=this.editor.getShapeGeometry(A),h=st.ZeroFix(f.bounds),v=this.editor.getShapePageTransform(s.id).applyToPoint(n),y=this.editor.getPointInShapeSpace(A,v);let b=i;b||(!l||l&&A.id!==l.toId)&&(b=this.editor.inputs.pointerVelocity.len()<.5),i||(f.isClosed||(b=!0),u&&A.id===u.toId&&u.props.isPrecise&&(b=!0));const x={x:(y.x-h.minX)/h.width,y:(y.y-h.minY)/h.height};b&&L.Dist(y,h.center)<Math.max(4,Math.min(Math.min(h.width,h.height)*.15,16))/this.editor.getZoomLevel()&&(x.x=.5,x.y=.5);const S={terminal:o,normalizedAnchor:x,isPrecise:b,isExact:this.editor.inputs.altKey};jy(this.editor,r,A.id,S),this.editor.setHintingShapes([A.id]);const C=Ya(this.editor,r);return C.start&&C.end&&C.start.toId===C.end.toId&&L.Equals(C.start.props.normalizedAnchor,C.end.props.normalizedAnchor)&&jy(this.editor,r,C.end.toId,{...C.end.props,normalizedAnchor:{x:C.end.props.normalizedAnchor.x+.05,y:C.end.props.normalizedAnchor.y}}),s}onTranslateStart(r){const n=Ya(this.editor,r),i=Mg(this.editor,r,n),o=this.editor.getShapePageTransform(r.id),a=this.editor.getSelectedShapeIds();if(!(n.start&&(a.includes(n.start.toId)||this.editor.isAncestorSelected(n.start.toId))||n.end&&(a.includes(n.end.toId)||this.editor.isAncestorSelected(n.end.toId)))){KBe.set(r,{pagePosition:o.applyToPoint(r),terminalBindings:Fb(i,(s,l)=>{const c=n[s];return c?{binding:c,shapePosition:l,pagePosition:o.applyToPoint(l)}:null})}),n.start&&(iI({editor:this.editor,arrow:r,terminal:"start",useHandle:!0}),r=this.editor.getShape(r.id)),n.end&&iI({editor:this.editor,arrow:r,terminal:"end",useHandle:!0});for(const s of["start","end"]){const l=n[s];l&&this.editor.updateBinding({...l,props:{...l.props,isPrecise:!0}})}}}onTranslate(r,n){const i=KBe.get(r);if(!i)return;const o=this.editor.getShapePageTransform(n.id),a=L.Sub(o.applyToPoint(n),i.pagePosition);for(const s of Object.values(i.terminalBindings)){if(!s)continue;const l=L.Add(s.pagePosition,L.Mul(a,.5)),c=this.editor.getShapeAtPoint(l,{hitInside:!0,hitFrameInside:!0,margin:0,filter:u=>!u.isLocked&&this.editor.canBindShapes({fromShape:n,toShape:u,binding:"arrow"})});if((c==null?void 0:c.id)===s.binding.toId){const u=st.ZeroFix(this.editor.getShapeGeometry(c).bounds),d=this.editor.getPointInShapeSpace(c,l),A={x:(d.x-u.minX)/u.width,y:(d.y-u.minY)/u.height};jy(this.editor,n,c.id,{...s.binding.props,normalizedAnchor:A,isPrecise:!0})}else RC(this.editor,n,s.binding.props.terminal)}}onResize(r,n){const{scaleX:i,scaleY:o}=n,a=this._resizeInitialBindings.get(r,()=>Ya(this.editor,r)),s=Mg(this.editor,r,a),{start:l,end:c}=kn(r.props);let{bend:u}=r.props;a.start||(l.x=s.start.x*i,l.y=s.start.y*o),a.end||(c.x=s.end.x*i,c.y=s.end.y*o);const d=Math.abs(i),A=Math.abs(o),f=a!=null&&a.start?L.From(a.start.props.normalizedAnchor):null,h=a!=null&&a.end?L.From(a.end.props.normalizedAnchor):null;return i<0&&o>=0?(u!==0&&(u*=-1,u*=Math.max(d,A)),f&&(f.x=1-f.x),h&&(h.x=1-h.x)):i>=0&&o<0?(u!==0&&(u*=-1,u*=Math.max(d,A)),f&&(f.y=1-f.y),h&&(h.y=1-h.y)):i>=0&&o>=0?u!==0&&(u*=Math.max(d,A)):i<0&&o<0&&(u!==0&&(u*=Math.max(d,A)),f&&(f.x=1-f.x,f.y=1-f.y),h&&(h.x=1-h.x,h.y=1-h.y)),a.start&&f&&jy(this.editor,r,a.start.toId,{...a.start.props,normalizedAnchor:f.toJson()}),a.end&&h&&jy(this.editor,r,a.end.toId,{...a.end.props,normalizedAnchor:h.toJson()}),{props:{start:l,end:c,bend:u}}}onDoubleClickHandle(r,n){switch(n.id){case"start":return{id:r.id,type:r.type,props:{...r.props,arrowheadStart:r.props.arrowheadStart==="none"?"arrow":"none"}};case"end":return{id:r.id,type:r.type,props:{...r.props,arrowheadEnd:r.props.arrowheadEnd==="none"?"arrow":"none"}}}}component(r){const n=Bl(),i=this.editor.getOnlySelectedShape(),o=this.editor.isInAny("select.idle","select.pointing_handle","select.dragging_handle","select.translating","arrow.dragging")&&!this.editor.getIsReadonly(),a=Jc(this.editor,r);if(!(a!=null&&a.isValid))return null;const s=UC(this.editor,r),l=r.id===this.editor.getOnlySelectedShapeId(),u=this.editor.getEditingShapeId()===r.id||r.props.text;return m.jsxs(m.Fragment,{children:[m.jsx(tf,{style:{minWidth:50,minHeight:50},children:m.jsx(zBe,{shape:r,shouldDisplayHandles:o&&(i==null?void 0:i.id)===r.id})}),u&&m.jsx(pT,{shapeId:r.id,classNamePrefix:"tl-arrow",type:"arrow",font:r.props.font,fontSize:F5(r),lineHeight:aa.lineHeight,align:"middle",verticalAlign:"middle",text:r.props.text,labelColor:n[r.props.labelColor].solid,textWidth:s.box.w-$8*2*r.props.scale,isSelected:l,padding:0,style:{transform:`translate(${s.box.center.x}px, ${s.box.center.y}px)`}})]})}indicator(r){const n=QP(r.id),i=ic(r.id+"_clip"),o=Jc(this.editor,r);if(!o)return null;const{start:a,end:s}=Mg(this.editor,r,o==null?void 0:o.bindings),l=this.editor.getShapeGeometry(r),c=l.bounds,u=r.props.text.trim()?l.children[1]:null;if(L.Equals(a,s))return null;const d=ia[r.props.size]*r.props.scale,A=o.start.arrowhead&&oI(o,"start",d),f=o.end.arrowhead&&oI(o,"end",d),h=o.isStraight?W5e(o):z5e(o),p=A&&o.start.arrowhead!=="arrow"||f&&o.end.arrowhead!=="arrow"||!!u;if(n&&u)return m.jsx("rect",{x:_e(u.x),y:_e(u.y),width:u.w,height:u.h,rx:3.5*r.props.scale,ry:3.5*r.props.scale});const v=!(o.start.arrowhead==="none"||o.start.arrowhead==="arrow"),y=!(o.end.arrowhead==="none"||o.end.arrowhead==="arrow");return m.jsxs("g",{children:[p&&m.jsx("defs",{children:m.jsx(G5e,{hasText:r.props.text.trim().length>0,bounds:c,labelBounds:u?u.getBounds():new st(0,0,0,0),as:v&&A?A:"",ae:y&&f?f:""})}),m.jsxs("g",{style:{clipPath:p?`url(#${i})`:void 0,WebkitClipPath:p?`url(#${i})`:void 0},children:[p&&m.jsx("rect",{x:c.minX-100,y:c.minY-100,width:c.width+200,height:c.height+200,opacity:0}),m.jsx("path",{d:h})]}),A&&m.jsx("path",{d:A}),f&&m.jsx("path",{d:f}),u&&m.jsx("rect",{x:_e(u.x),y:_e(u.y),width:u.w,height:u.h,rx:3.5,ry:3.5})]})}onEditEnd(r){const{id:n,type:i,props:{text:o}}=r;o.trimEnd()!==r.props.text&&this.editor.updateShapes([{id:n,type:i,props:{text:o.trimEnd()}}])}toSvg(r,n){n.addExportDef(H8(r.props.fill)),r.props.text&&n.addExportDef(fT(r.props.font));const i=Nd(n),o=1/r.props.scale;return m.jsxs("g",{transform:`scale(${o})`,children:[m.jsx(zBe,{shape:r,shouldDisplayHandles:!1}),m.jsx(hT,{fontSize:F5(r),font:r.props.font,align:"middle",verticalAlign:"middle",text:r.props.text,labelColor:i[r.props.labelColor].solid,bounds:UC(this.editor,r).box.clone().expandBy(-4.25*r.props.scale),padding:0})]})}getCanvasSvgDefs(){return[q8(),{key:"arrow:dot",component:nqt},{key:"arrow:cross",component:iqt}]}getInterpolatedProps(r,n,i){return{...i>.5?n.props:r.props,scale:Pr(r.props.scale,n.props.scale,i),start:{x:Pr(r.props.start.x,n.props.start.x,i),y:Pr(r.props.start.y,n.props.start.y,i)},end:{x:Pr(r.props.end.x,n.props.end.x,i),y:Pr(r.props.end.y,n.props.end.y,i)},bend:Pr(r.props.bend,n.props.bend,i),labelPosition:Pr(r.props.labelPosition,n.props.labelPosition,i)}}}K(DC,"type","arrow"),K(DC,"props",DUe),K(DC,"migrations",jUe);function V5e(e,t){const r=Jc(e,t);return r.isStraight?L.Dist(r.start.handle,r.end.handle):Math.abs(r.handleArc.length)}const zBe=Ro(function({shape:t,shouldDisplayHandles:r}){const n=Ee(),i=Bl(),o=Jc(n,t),a=st.ZeroFix(n.getShapeGeometry(t).bounds),s=Ya(n,t),l=Re("force solid",()=>n.getZoomLevel()<.2,[n]),c=ic(t.id+"_clip"),u=ic("arrowhead-dot"),d=ic("arrowhead-cross");if(!(o!=null&&o.isValid))return null;const A=ia[t.props.size]*t.props.scale,f=o.start.arrowhead&&oI(o,"start",A),h=o.end.arrowhead&&oI(o,"end",A),p=o.isStraight?W5e(o):z5e(o);let v=null;if(r){const _=2/n.getZoomLevel(),{strokeDasharray:B,strokeDashoffset:T}=Jl(V5e(n,t),_,{end:"skip",start:"skip",lengthRatio:2.5});v=s.start||s.end?m.jsx("path",{className:"tl-arrow-hint",d:o.isStraight?rqt(o):tqt(o),strokeDasharray:B,strokeDashoffset:T,strokeWidth:_,markerStart:s.start?s.start.props.isExact?"":s.start.props.isPrecise?`url(#${d})`:`url(#${u})`:"",markerEnd:s.end?s.end.props.isExact?"":s.end.props.isPrecise?`url(#${d})`:`url(#${u})`:"",opacity:.16}):null}const{strokeDasharray:y,strokeDashoffset:b}=Jl(o.isStraight?o.length:Math.abs(o.bodyArc.length),A,{style:t.props.dash,forceSolid:l}),x=UC(n,t),S=!(o.start.arrowhead==="none"||o.start.arrowhead==="arrow"),C=!(o.end.arrowhead==="none"||o.end.arrowhead==="arrow");return m.jsxs(m.Fragment,{children:[m.jsx("defs",{children:m.jsx("clipPath",{id:c,children:m.jsx(G5e,{hasText:t.props.text.trim().length>0,bounds:a,labelBounds:x.box,as:S&&f?f:"",ae:C&&h?h:""})})}),m.jsxs("g",{fill:"none",stroke:i[t.props.color].solid,strokeWidth:A,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none",children:[v,m.jsxs("g",{style:{clipPath:`url(#${c})`,WebkitClipPath:`url(#${c})`},children:[m.jsx("rect",{x:_e(a.minX-100),y:_e(a.minY-100),width:_e(a.width+200),height:_e(a.height+200),opacity:0}),m.jsx("path",{d:p,strokeDasharray:y,strokeDashoffset:b})]}),f&&S&&t.props.fill!=="none"&&m.jsx(Wo,{theme:i,d:f,color:t.props.color,fill:t.props.fill,scale:t.props.scale}),h&&C&&t.props.fill!=="none"&&m.jsx(Wo,{theme:i,d:h,color:t.props.color,fill:t.props.fill,scale:t.props.scale}),f&&m.jsx("path",{d:f}),h&&m.jsx("path",{d:h})]})]})});function G5e({hasText:e,bounds:t,labelBounds:r,as:n,ae:i}){const o=`M${_e(t.minX-100)},${_e(t.minY-100)} h${t.width+200} v${t.height+200} h-${t.width+200} Z`,a=`M${_e(r.minX)},${_e(r.minY)} v${r.height} h${r.width} v-${r.height} Z`;return m.jsx("path",{d:`${o}${e?a:""}${n}${i}`})}const KBe=new WeakMap;function nqt(){const e=ic("arrowhead-dot");return m.jsx("marker",{id:e,className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"0",children:m.jsx("circle",{cx:"3",cy:"3",r:"2",strokeDasharray:"100%"})})}function iqt(){const e=ic("arrowhead-cross");return m.jsxs("marker",{id:e,className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"auto",children:[m.jsx("line",{x1:"1.5",y1:"1.5",x2:"4.5",y2:"4.5",strokeDasharray:"100%"}),m.jsx("line",{x1:"1.5",y1:"4.5",x2:"4.5",y2:"1.5",strokeDasharray:"100%"})]})}const WBe="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='none'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 5H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6M19 5h6m0 0v6m0-6L13 17'/%3E%3C/svg%3E";function Pm({url:e}){const t=Ee(),r=Re("zoomLevel",()=>t.getZoomLevel()<.32,[t]);return m.jsx("a",{className:jt("tl-hyperlink-button",{"tl-hyperlink-button__hidden":r}),href:e,target:"_blank",rel:"noopener noreferrer",onPointerDown:Ei,onPointerUp:Ei,title:e,draggable:!1,children:m.jsx("div",{className:"tl-hyperlink__icon",style:{mask:`url("${WBe}") center 100% / 100% no-repeat`,WebkitMask:`url("${WBe}") center 100% / 100% no-repeat`}})})}const VBe="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='none'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 5H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6M19 5h6m0 0v6m0-6L13 17'/%3E%3C/svg%3E",oqt=[{offsetX:0,offsetY:2,blur:4,spread:0,color:"#00000029"},{offsetX:0,offsetY:3,blur:6,spread:0,color:"#0000001f"}];function aI(e){return oqt.map(r=>{const{offsetX:n,offsetY:i,blur:o,spread:a,color:s}=r,l=new L(n,i),{x:c,y:u}=l.rot(-e);return`${c}px ${u}px ${o}px ${a}px ${s}`}).join(", ")}const aqt=300,Y5e=320,sqt=46,lqt=101;class jC extends xv{canResize(){return!1}hideSelectionBoundsFg(){return!0}getText(t){return t.props.url}getDefaultProps(){return{url:"",w:aqt,h:Y5e,assetId:null}}component(t){return m.jsx(cqt,{shape:t,util:this})}indicator(t){return m.jsx("rect",{width:_e(t.props.w),height:_e(t.props.h),rx:"6",ry:"6"})}onBeforeCreate(t){return GBe(this.editor,t)}onBeforeUpdate(t,r){if(t.props.url!==r.props.url)if(Ts.isValid(r.props.url))dqt(this.editor,r);else return{...r,props:{...r.props,url:t.props.url}};if(t.props.assetId!==r.props.assetId)return GBe(this.editor,r)}getInterpolatedProps(t,r,n){return{...n>.5?r.props:t.props,w:Pr(t.props.w,r.props.w,n),h:Pr(t.props.h,r.props.h,n)}}}K(jC,"type","bookmark"),K(jC,"props",qUe),K(jC,"migrations",zUe);function cqt({shape:e,util:t}){const r=e.props.assetId?t.editor.getAsset(e.props.assetId):null,n=!!ox()&&an.isSafari,i=t.editor.getShapePageTransform(e).rotation(),o=uqt(e),[a,s]=I.useState(!0),l=()=>s(!1);return m.jsx(WA,{children:m.jsxs("div",{className:jt("tl-bookmark__container",n&&"tl-bookmark__container--safariExport"),style:{boxShadow:n?void 0:aI(i),maxHeight:e.props.h},children:[(!r||r.props.image)&&m.jsxs("div",{className:"tl-bookmark__image_container",children:[r?m.jsx("img",{className:"tl-bookmark__image",draggable:!1,referrerPolicy:"strict-origin-when-cross-origin",src:r==null?void 0:r.props.image,alt:(r==null?void 0:r.props.title)||""}):m.jsx("div",{className:"tl-bookmark__placeholder"}),(r==null?void 0:r.props.image)&&m.jsx(Pm,{url:e.props.url})]}),m.jsxs("div",{className:"tl-bookmark__copy_container",children:[r!=null&&r.props.title?m.jsx("h2",{className:"tl-bookmark__heading",children:Y3t(r.props.title)}):null,r!=null&&r.props.description&&(r!=null&&r.props.image)?m.jsx("p",{className:"tl-bookmark__description",children:r.props.description}):null,m.jsxs("a",{className:"tl-bookmark__link",href:e.props.url||"",target:"_blank",rel:"noopener noreferrer",onPointerDown:Ei,onPointerUp:Ei,onClick:Ei,children:[a&&(r!=null&&r.props.favicon)?m.jsx("img",{className:"tl-bookmark__favicon",src:r==null?void 0:r.props.favicon,referrerPolicy:"strict-origin-when-cross-origin",onError:l,alt:`favicon of ${o}`}):m.jsx("div",{className:"tl-hyperlink__icon",style:{mask:`url("${VBe}") center 100% / 100% no-repeat`,WebkitMask:`url("${VBe}") center 100% / 100% no-repeat`}}),m.jsx("span",{children:o})]})]})]})})}function GBe(e,t){const r=t.props.assetId?e.getAsset(t.props.assetId):null;let n=Y5e;return r&&(r.props.image||(r.props.title?n=lqt:n=sqt)),{...t,props:{...t.props,h:n}}}const uqt=e=>{try{return new URL(e.props.url).hostname.replace(/^www\./,"")}catch{return e.props.url}};function dqt(e,t){const{url:r}=t.props,n=ef.createId(cz(r));e.getAsset(n)?t.props.assetId!==n&&e.updateShapes([{id:t.id,type:t.type,props:{assetId:n}}]):(e.updateShapes([{id:t.id,type:t.type,props:{assetId:null}}]),Aqt(e,t))}const Aqt=sz(async(e,t)=>{if(e.isDisposed)return;const{url:r}=t.props,n=await e.getAssetForExternalContent({type:"url",url:r});n&&e.run(()=>{e.createAssets([n]),e.updateShapes([{id:t.id,type:t.type,props:{assetId:n.id}}])})},500);function qh(e,t=!1){const r=e.length;if(r<2)return"";let n=e[0].point,i=e[1].point;if(r===2)return`M${$r(n)}L${$r(i)}`;let o="";for(let a=2,s=r-1;a<s;a++)n=e[a].point,i=e[a+1].point,o+=Ga(n,i);return t?`M${Ga(e[0].point,e[1].point)}Q${$r(e[1].point)}${Ga(e[1].point,e[2].point)}T${o}${Ga(e[r-1].point,e[0].point)}${Ga(e[0].point,e[1].point)}Z`:`M${$r(e[0].point)}Q${$r(e[1].point)}${Ga(e[1].point,e[2].point)}${e.length>3?"T":""}${o}L${$r(e[r-1].point)}`}function fqt(e,t={}){const{start:r={},end:n={}}=t,{cap:i=!0}=r,{cap:o=!0}=n;vr(!r.taper&&!n.taper,"cap taper not supported here"),vr(!r.easing&&!n.easing,"cap easing not supported here"),vr(i&&o,"cap must be true");const a=hu(e,t);dT(a,t);const s=hqt(a);let l="";for(const c of s)l+=gqt(c,t);return l}function hqt(e){if(e.length<=2)return[e];const t=[];let r=[e[0]],n=L.Sub(e[1].point,e[0].point).uni(),i,o,a,s,l;for(let c=1,u=e.length;c<u-1;c++){if(a=e[c-1],s=e[c],l=e[c+1],i=L.Sub(l.point,s.point).uni(),o=L.Dpr(n,i),n=i,o<-.8){const d={...s,point:s.input};r.push(d),t.push($4(r)),r=[d];continue}if(r.push(s),!(o>.7)&&(L.Dist2(a.point,s.point)+L.Dist2(s.point,l.point))/((a.radius+s.radius+l.radius)/3)**2<1.5){r.push(s),t.push($4(r)),r=[s];continue}}return r.push(e[e.length-1]),t.push($4(r)),t}function $4(e){const t=e[0];let r;for(;e.length>2&&(r=e[1],L.Dist2(t.point,r.point)<((t.radius+r.radius)/2*.5)**2);)e.splice(1,1);const n=e[e.length-1];let i;for(;e.length>2&&(i=e[e.length-2],L.Dist2(n.point,i.point)<((n.radius+i.radius)/2*.5)**2);)e.splice(e.length-2,1);return e.length>1&&(e[0]={...e[0],vector:L.Sub(e[0].point,e[1].point).uni()},e[e.length-1]={...e[e.length-1],vector:L.Sub(e[e.length-2].point,e[e.length-1].point).uni()}),e}function pqt(e,t,r){return"M "+e+" "+t+" m -"+r+", 0 a "+r+","+r+" 0 1,1 "+r*2+",0 a "+r+","+r+" 0 1,1 -"+r*2+",0"}function gqt(e,t={}){if(e.length===0)return"";if(e.length===1)return pqt(e[0].point.x,e[0].point.y,e[0].radius);const{left:r,right:n}=E5e(e,t);n.reverse();let i=`M${$r(r[0])}T`;for(let o=1;o<r.length;o++)i+=Ga(r[o-1],r[o]);{const o=e[e.length-1],a=o.radius,s=o.vector.clone().per().neg(),l=L.Add(o.point,L.Mul(s,a)),c=L.Add(o.point,L.Mul(s,-a));i+=`${$r(l)}A${_e(a)},${_e(a)} 0 0 1 ${$r(c)}T`}for(let o=1;o<n.length;o++)i+=Ga(n[o-1],n[o]);{const o=e[0],a=o.radius,s=o.vector.clone().per(),l=L.Add(o.point,L.Mul(s,a)),c=L.Add(o.point,L.Mul(s,-a));i+=`${$r(l)}A${_e(a)},${_e(a)} 0 0 1 ${$r(c)}Z`}return i}const X5e=(e,t,r)=>{const n=[],i=[];e.forEach(c=>n.push(...c.points)),t.forEach(c=>i.push(...c.points));const o=Math.max(n.length,i.length),a=[],s=[];for(let c=0;c<o;c++)a.push(n[c]||n[n.length-1]),s.push(i[c]||i[i.length-1]);return[{type:"free",points:a.map((c,u)=>{let d=.5;return s[u].z!==void 0&&c.z!==void 0&&(d=Pr(c.z,s[u].z,r)),{x:Pr(c.x,s[u].x,r),y:Pr(c.y,s[u].y,r),z:d}})}]},mqt=e=>e*.65+C1t(e*jr/2)*.35,vqt=e=>({size:e,thinning:.5,streamline:Cm(e,[9,16],[.64,.74],!0),smoothing:.62,easing:so.easeOutSine,simulatePressure:!0}),yqt=e=>({size:1+e*1.2,thinning:.62,streamline:.62,smoothing:.62,simulatePressure:!1,easing:mqt}),YBe=e=>({size:e,thinning:0,streamline:Cm(e,[9,16],[.64,.74],!0),smoothing:.62,simulatePressure:!1,easing:so.linear}),wqt=e=>({size:e,thinning:0,streamline:.62,smoothing:.62,simulatePressure:!1,easing:so.linear});function W8({strokeWidth:e,showAsComplete:t}){return{size:1+e,thinning:0,streamline:.5,smoothing:.5,simulatePressure:!1,easing:so.easeOutSine,last:t}}function k5(e,t,r,n){const i=e.isComplete||r;return n?e.isPen?{...wqt(t),last:i}:{...YBe(t),last:i}:e.dash==="draw"?e.isPen?{...yqt(t),last:i}:{...vqt(t),last:i}:{...YBe(t),last:i}}function Tm(e){const t=[];for(const r of e)if(r.type==="free"||r.points.length<2)t.push(...r.points.map(L.Cast));else{const n=Math.max(4,Math.floor(L.Dist(r.points[0],r.points[1])/16));t.push(...L.PointsBetween(r.points[0],r.points[1],n))}return t}function bqt(e,t,r){return{draw:"none",solid:"none",dotted:`${r} ${t*2}`,dashed:`${t*2} ${t*2}`}[e.props.dash]}class LC extends oc{constructor(){super(...arguments);K(this,"options",{maxPointsPerShape:600})}hideResizeHandles(r){return Q4(r)}hideRotateHandle(r){return Q4(r)}hideSelectionBoundsFg(r){return Q4(r)}getDefaultProps(){return{segments:[],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!1,isClosed:!1,isPen:!1,scale:1}}getGeometry(r){const n=Tm(r.props.segments),i=(ia[r.props.size]+1)*r.props.scale;if(r.props.segments.length===1){const a=st.FromPoints(n);if(a.width<i*2&&a.height<i*2)return new VK({x:-i,y:-i,radius:i,isFilled:!0})}const o=hu(n,k5(r.props,i,r.props.isPen,!0)).map(a=>a.point);return r.props.isClosed?new wi({points:o,isFilled:r.props.fill!=="none"}):new yv({points:o})}component(r){return m.jsx(tf,{children:m.jsx(XBe,{shape:r})})}indicator(r){var u;const n=Tm(r.props.segments);let i=(ia[r.props.size]+1)*r.props.scale;!Re("force solid",()=>{const d=this.editor.getZoomLevel();return d<.5&&d<1.5/i},[this.editor,i])&&!r.props.isPen&&r.props.dash==="draw"&&n.length===1&&(i+=pc(r.id)()*(i/6));const a=r.props.isComplete||((u=xo(r.props.segments))==null?void 0:u.type)==="straight",s=k5(r.props,i,a,!0),l=hu(n,s),c=l.length>1?qh(l,r.props.isClosed):J5e(n[0],i);return m.jsx("path",{d:c})}toSvg(r,n){n.addExportDef(H8(r.props.fill));const i=1/r.props.scale;return m.jsx("g",{transform:`scale(${i})`,children:m.jsx(XBe,{shape:r,zoomOverride:1})})}getCanvasSvgDefs(){return[q8()]}onResize(r,n){const{scaleX:i,scaleY:o}=n,a=[];for(const s of r.props.segments)a.push({...s,points:s.points.map(({x:l,y:c,z:u})=>({x:id(i*l),y:id(o*c),z:u}))});return{props:{segments:a}}}expandSelectionOutlinePx(r){const n=r.props.dash==="draw"?1.6:1;return ia[r.props.size]*n/2*r.props.scale}getInterpolatedProps(r,n,i){return{...i>.5?n.props:r.props,segments:X5e(r.props.segments,n.props.segments,i),scale:Pr(r.props.scale,n.props.scale,i)}}}K(LC,"type","draw"),K(LC,"props",WUe),K(LC,"migrations",VUe);function J5e(e,t){const r=(t+1)*.5;return`M ${e.x} ${e.y} m -${r}, 0 a ${r},${r} 0 1,0 ${r*2},0 a ${r},${r} 0 1,0 -${r*2},0`}function Q4(e){return e.props.segments.length===1&&e.props.segments[0].points.length<2}function XBe({shape:e,zoomOverride:t}){var f;const r=Bl(),n=Ee(),i=Tm(e.props.segments),o=e.props.isComplete||((f=xo(e.props.segments))==null?void 0:f.type)==="straight";let a=(ia[e.props.size]+1)*e.props.scale;const s=Re("force solid",()=>{const h=t??n.getZoomLevel();return h<.5&&h<1.5/a},[n,a,t]),l=Re("dot adjustment",()=>(t??n.getZoomLevel())<.2?0:.1,[n,t]);!s&&!e.props.isPen&&e.props.dash==="draw"&&i.length===1&&(a+=pc(e.id)()*(a/6));const c=k5(e.props,a,o,s);if(!s&&e.props.dash==="draw")return m.jsxs(m.Fragment,{children:[e.props.isClosed&&e.props.fill&&i.length>1?m.jsx(Wo,{d:qh(hu(i,c),e.props.isClosed),theme:r,color:e.props.color,fill:e.props.isClosed?e.props.fill:"none",scale:e.props.scale}):null,m.jsx("path",{d:fqt(i,c),strokeLinecap:"round",fill:r[e.props.color].solid})]});const u=hu(i,c),d=u.length<2,A=d?J5e(i[0],0):qh(u,e.props.isClosed);return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{d:A,theme:r,color:e.props.color,fill:d||e.props.isClosed?e.props.fill:"none",scale:e.props.scale}),m.jsx("path",{d:A,strokeLinecap:"round",fill:d?r[e.props.color].solid:"none",stroke:r[e.props.color].solid,strokeWidth:a,strokeDasharray:d?"none":bqt(e,a,l),strokeDashoffset:"0"})]})}function xqt(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Sqt(e,t){const r=Zt(t);if(!r)return;const n=r.host.replace("www.","");for(const i of e)if(Z5e(i.hostnames,n)){const o=i.fromEmbedUrl(t);if(o)return{definition:i,url:o,embedUrl:t}}}const Cqt=e=>e.split("*").map(t=>xqt(t)).join(".+"),Z5e=(e,t)=>!!e.find(r=>{const n=new RegExp(Cqt(r));return t.match(n)});function _qt(e,t){const r=Zt(t);if(!r)return;const n=r.host.replace("www.","");for(const i of e)if(Z5e(i.hostnames,n)){const o=i.toEmbedUrl(t);if(o)return{definition:i,embedUrl:o,url:t}}}function Eqt(e,t){try{return _qt(e,t)??Sqt(e,t)}catch{return}}const Iqt=e=>Object.entries(e).filter(([t,r])=>r).map(([t])=>t).join(" "),nd=class nd extends xv{static setEmbedDefinitions(t){nd.embedDefinitions=t}getEmbedDefinitions(){return nd.embedDefinitions}getEmbedDefinition(t){return Eqt(nd.embedDefinitions,t)}getText(t){return t.props.url}hideSelectionBoundsFg(t){return!this.canResize(t)}canEdit(){return!0}canResize(t){var r,n;return!!((n=(r=this.getEmbedDefinition(t.props.url))==null?void 0:r.definition)!=null&&n.doesResize)}canEditInReadOnly(){return!0}getDefaultProps(){return{w:300,h:300,url:""}}isAspectRatioLocked(t){const r=this.getEmbedDefinition(t.props.url);return(r==null?void 0:r.definition.isAspectRatioLocked)??!1}onResize(t,r){const n=this.isAspectRatioLocked(t),i=this.getEmbedDefinition(t.props.url);let o=(i==null?void 0:i.definition.minWidth)??200,a=(i==null?void 0:i.definition.minHeight)??200;if(n){const s=t.props.w/t.props.h;s>1?o*=s:a/=s}return $P(t,r,{minWidth:o,minHeight:a})}component(t){const r=ox(),{w:n,h:i,url:o}=t.props,a=QP(t.id),s=this.getEmbedDefinition(o),l=Re("is hovering",()=>{const{editingShapeId:f,hoveredShapeId:h}=this.editor.getCurrentPageState();if(f&&h!==f){const p=this.editor.getShape(f);if(p&&this.editor.isShapeOfType(p,"embed"))return!0}return!1},[]),c=this.editor.getShapePageTransform(t).rotation();if(r)return m.jsx(WA,{className:"tl-embed-container",id:t.id,children:m.jsx("div",{className:"tl-embed",style:{border:0,boxShadow:aI(c),borderRadius:(s==null?void 0:s.definition.overrideOutlineRadius)??8,background:(s==null?void 0:s.definition.backgroundColor)??"var(--color-background)",width:n,height:i}})});const u=a||l;if(typeof window<"u"&&(window!==window.top||window.self!==window.parent)&&(s==null?void 0:s.definition.type)==="tldraw")return null;if((s==null?void 0:s.definition.type)==="github_gist"){const f=s.url.split("/").pop();if(!f)throw Error("No gist id!");return m.jsx(WA,{className:"tl-embed-container",id:t.id,children:m.jsx(Bqt,{id:f,width:_e(n),height:_e(i),isInteractive:u,pageRotation:c})})}const A=Iqt({...QQt,...(s==null?void 0:s.definition.overridePermissions)??{}});return m.jsx(WA,{className:"tl-embed-container",id:t.id,children:s!=null&&s.definition?m.jsx("iframe",{className:"tl-embed",sandbox:A,src:s.embedUrl,width:_e(n),height:_e(i),draggable:!1,frameBorder:"0",referrerPolicy:"no-referrer-when-downgrade",style:{border:0,pointerEvents:u?"auto":"none",zIndex:u?"":"-1",boxShadow:aI(c),borderRadius:(s==null?void 0:s.definition.overrideOutlineRadius)??8,background:s==null?void 0:s.definition.backgroundColor}}):null})}indicator(t){const r=this.getEmbedDefinition(t.props.url);return m.jsx("rect",{width:_e(t.props.w),height:_e(t.props.h),rx:(r==null?void 0:r.definition.overrideOutlineRadius)??8,ry:(r==null?void 0:r.definition.overrideOutlineRadius)??8})}getInterpolatedProps(t,r,n){return{...n>.5?r.props:t.props,w:Pr(t.props.w,r.props.w,n),h:Pr(t.props.h,r.props.h,n)}}};K(nd,"type","embed"),K(nd,"props",GUe),K(nd,"migrations",YUe),K(nd,"embedDefinitions",T8);let sI=nd;function Bqt({id:e,isInteractive:t,width:r,height:n,style:i,pageRotation:o}){if(!e.match(/^[0-9a-f]+$/))throw Error("No gist id!");return m.jsx("iframe",{className:"tl-embed",draggable:!1,width:_e(r),height:_e(n),frameBorder:"0",scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",style:{...i,pointerEvents:t?"all":"none",zIndex:t?"":"-1",boxShadow:aI(o)},srcDoc:`
			<html>
				<head>
					<base target="_blank">
				</head>
				<body>
					<script src=${`https://gist.github.com/${e}.js`}><\/script>
					<style type="text/css">
						* { margin: 0px; }
						table { height: 100%; background-color: red; }
						.gist { background-color: none; height: 100%;  }
						.gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
					</style>
				</body>
			</html>`})}function U5(e,t){const i=((Sh(e.getShapePageTransform(t.id).rotation())+Math.PI/4)*(2/Math.PI)+4)%4;return Math.floor(i)}const JBe=new WeakMap;function ZBe(e,t,r){let n=JBe.get(t.props);if(!n){const i=V8(t.props.name,"Frame")+"",o=e.textMeasure.measureTextSpans(i,r),a=o[0],s=xo(o);n=s.box.w+s.box.x-a.box.x,JBe.set(t.props,n)}return new st(0,-r.height,n,r.height)}function ePe(e,t){return{fontSize:12,fontFamily:"Inter, sans-serif",textAlign:"start",width:e.props.w,height:32,padding:0,lineHeight:1,fontStyle:"normal",fontWeight:"normal",overflow:"truncate-ellipsis",verticalTextAlign:"middle",fill:t,offsetY:-34,offsetX:2}}function eqe(e,t,r){const n=r?"":"px",i=r?"":"deg";let o;switch(t){case 0:o="";break;case 3:o=`translate(${_e(e.props.w)}${n}, 0${n}) rotate(90${i})`;break;case 2:o=`translate(${_e(e.props.w)}${n}, ${_e(e.props.h)}${n}) rotate(180${i})`;break;case 1:o=`translate(0${n}, ${_e(e.props.h)}${n}) rotate(270${i})`;break;default:throw Error("labelSide out of bounds")}return o}const Pqt=I.forwardRef(({id:e,name:t,isEditing:r},n)=>{const i=Ee(),o=I.useCallback(l=>{l.key==="Enter"&&!l.nativeEvent.isComposing&&(Ei(l),l.currentTarget.blur(),i.setEditingShape(null))},[i]),a=I.useCallback(l=>{const c=i.getShape(e);if(!c)return;const u=c.props.name,d=l.currentTarget.value.trim();u!==d&&i.updateShapes([{id:e,type:"frame",props:{name:d}}])},[e,i]),s=I.useCallback(l=>{const c=i.getShape(e);if(!c)return;const u=c.props.name,d=l.currentTarget.value;u!==d&&i.updateShapes([{id:e,type:"frame",props:{name:d}}])},[e,i]);return m.jsxs("div",{className:`tl-frame-label ${r?"tl-frame-label__editing":""}`,children:[m.jsx("input",{className:"tl-frame-name-input",ref:n,disabled:!r,readOnly:!r,style:{display:r?void 0:"none"},value:t,autoFocus:!0,onKeyDown:o,onBlur:a,onChange:s}),V8(t,"Frame")+""]})}),Tqt=I.memo(function({id:t,name:r,width:n,height:i}){const o=Ee(),{side:a,translation:s}=Re("shape rotation",()=>{const u=o.getShape(t);if(!u)return{side:0,translation:"translate(0, 0)"};const d=U5(o,u);return{side:d,translation:eqe(u,d,!1)}},[o,t]),l=I.useRef(null),c=QP(t);return I.useEffect(()=>{const u=l.current;u&&c&&(u.focus(),u.select())},[l,c]),m.jsx("div",{className:"tl-frame-heading",style:{overflow:c?"visible":"hidden",maxWidth:`calc(var(--tl-zoom) * ${Math.ceil(a===0||a===2?n:i)}px + var(--space-5))`,bottom:"100%",transform:`${s} scale(var(--tl-scale)) translateX(calc(-1 * var(--space-3))`},children:m.jsx("div",{className:"tl-frame-heading-hit-area",children:m.jsx(Pqt,{ref:l,id:t,name:r,isEditing:c})})})});function V8(e,t){return e.match(/^\s*$/)?t:e}class NC extends xv{canEdit(){return!0}getDefaultProps(){return{w:160*2,h:90*2,name:""}}getGeometry(t){const{editor:r}=this,n=r.getZoomLevel(),i=ePe(t,"black"),o=ZBe(r,t,i),a=U5(r,t);let s,l,c,u;const{w:d,h:A}=o,f=Math.min(d,t.props.w*n),h=Math.min(A,t.props.h*n);switch(a){case 0:{s=-8/n,l=(-A-4)/n,c=(f+16)/n,u=A/n;break}case 1:{s=(-A-4)/n,u=(h+16)/n,l=t.props.h-u+8/n,c=A/n;break}case 2:{s=t.props.w-(f+8)/n,l=t.props.h+4/n,c=(h+16)/n,u=A/n;break}case 3:{s=t.props.w+4/n,u=(h+16)/n,l=-8/n,c=A/n;break}}return new bl({children:[new du({width:t.props.w,height:t.props.h,isFilled:!1}),new du({x:s,y:l,width:c,height:u,isFilled:!0,isLabel:!0})]})}getText(t){return t.props.name}component(t){const r=Bl(),n=Re("is creating this shape",()=>{const i=this.editor.getStateDescendant("select.resizing");if(!i||!i.getIsActive())return!1;const o=i==null?void 0:i.info;return o?o.isCreating&&this.editor.getOnlySelectedShapeId()===t.id:!1},[t.id]);return m.jsxs(m.Fragment,{children:[m.jsx(tf,{children:m.jsx("rect",{className:jt("tl-frame__body",{"tl-frame__creating":n}),width:t.props.w,height:t.props.h,fill:r.solid,stroke:r.text})}),n?null:m.jsx(Tqt,{id:t.id,name:t.props.name,width:t.props.w,height:t.props.h})]})}toSvg(t,r){const n=Nd({isDarkMode:r.isDarkMode}),i=U5(this.editor,t),o=eqe(t,i,!0),a=ePe(t,n.text),s=V8(t.props.name,"Frame")+"",l=ZBe(this.editor,t,a),c=this.editor.textMeasure.measureTextSpans(s,a),u=M5(this.editor,c,a);return m.jsxs(m.Fragment,{children:[m.jsx("rect",{width:t.props.w,height:t.props.h,fill:n.solid,stroke:n.black.solid,strokeWidth:1,rx:1,ry:1}),m.jsxs("g",{transform:o,children:[m.jsx("rect",{x:l.x-8,y:l.y-4,width:l.width+20,height:l.height,fill:n.background,rx:4,ry:4}),u]})]})}indicator(t){return m.jsx("rect",{width:_e(t.props.w),height:_e(t.props.h),className:"tl-frame-indicator"})}canReceiveNewChildrenOfType(t,r){return!t.isLocked}providesBackgroundForChildren(){return!0}canDropShapes(t,r){return!t.isLocked}onDragShapesOver(t,r){r.every(n=>n.parentId===t.id)||this.editor.reparentShapes(r,t.id)}onDragShapesOut(t,r){const n=this.editor.getShape(t.parentId);n&&this.editor.isShapeOfType(n,"group")?this.editor.reparentShapes(r,n.id):this.editor.reparentShapes(r,this.editor.getCurrentPageId())}onResize(t,r){return $P(t,r)}getInterpolatedProps(t,r,n){return{...n>.5?r.props:t.props,w:Pr(t.props.w,r.props.w,n),h:Pr(t.props.h,r.props.h,n)}}}K(NC,"type","frame"),K(NC,"props",XUe),K(NC,"migrations",JUe);function tPe(e,t){return e>t?(jr*(t/2)+(e-t))*2:(jr*(e/2)+(t-e))*2}function tqe(e,t){return G8(e,t).map((r,n)=>r.getSvgPathData(n===0)).join(" ")+" Z"}function Oqt(e,t,r,n){const i=e/4,o=t/4,a=pc(n),s=r*.75,l=b=>b.addXY(a()*s,a()*s),c=new L(e/2,t),u=new L(0,o*1.2),d=new L(e/2,o*.9),A=new L(e,o*1.2),f=l(new L(e/2,t)),h=l(new L(0,o*1.2)),p=l(new L(e/2,o*.9)),v=l(new L(e,o*1.2));return[new Xo({start:c,cp1:new L(i*1.5,o*3),cp2:new L(0,o*2.5),end:u}),new Xo({start:u,cp1:new L(0,-o*.32),cp2:new L(i*1.85,-o*.32),end:d}),new Xo({start:d,cp1:new L(i*2.15,-o*.32),cp2:new L(e,-o*.32),end:A}),new Xo({start:A,cp1:new L(e,o*2.5),cp2:new L(i*2.5,o*3),end:f}),new Xo({start:f,cp1:new L(i*1.5,o*3),cp2:new L(0,o*2.5),end:h}),new Xo({start:h,cp1:new L(0,-o*.32),cp2:new L(i*1.85,-o*.32),end:p}),new Xo({start:p,cp1:new L(i*2.15,-o*.32),cp2:new L(e,-o*.32),end:v}),new Xo({start:v,cp1:new L(e,o*2.5),cp2:new L(i*2.5,o*3),end:c})].map((b,x)=>b.getSvgPathData(x===0)).join(" ")+" Z"}function G8(e,t){const r=e/4,n=t/4;return[new Xo({start:new L(e/2,t),cp1:new L(r*1.5,n*3),cp2:new L(0,n*2.5),end:new L(0,n*1.2)}),new Xo({start:new L(0,n*1.2),cp1:new L(0,-n*.32),cp2:new L(r*1.85,-n*.32),end:new L(e/2,n*.9)}),new Xo({start:new L(e/2,n*.9),cp1:new L(r*2.15,-n*.32),cp2:new L(e,-n*.32),end:new L(e,n*1.2)}),new Xo({start:new L(e,n*1.2),cp1:new L(e,n*2.5),cp2:new L(r*2.5,n*3),end:new L(e/2,t)})]}function Rqt(e){return{size:1+e,thinning:.25,end:{taper:e},start:{taper:e},streamline:0,smoothing:1,simulatePressure:!1}}function Mqt(e,t,r,n){const i=pc(e),o=t/2,a=r/2,s=gUe(o,a),l=[],c=ln*i(),u=ln+En/2+Math.abs(i())*En,d=Math.max(16,s/10);for(let A=0;A<d;A++){const f=A/(d-1),h=c+f*u,p=Math.cos(h),v=Math.sin(h);l.push(new L(o*p+t*.5+.05*i(),a*v+r/2+.05*i(),Math.min(1,.5+Math.abs(.5-(i()>0?so.easeInOutSine(f):so.easeInExpo(f)))/2)))}return hu(l,Rqt(n))}function Fqt(e,t,r,n){return qh(Mqt(e,t,r,n))}function D5(e){let t="M";const r=e.length;let n,i,o;for(let a=0,s=r;a<s;a+=3)n=e[a],i=e[a+1],o=e[a+2],t+=`${$r(n)}L${$r(i)}Q${$r(o)}`;return t+=`${$r(e[0])}`,t}function j5(e,t,r,n,i){const o=[],a=pc(e);let s=t[0],l;const c=t.length;for(let u=0,d=c*i;u<d;u++){l=L.AddXY(t[(u+1)%c],a()*r,a()*r);const A=L.Sub(l,s),f=L.Len(A),h=L.Div(A,f).mul(Math.min(f/4,n));o.push(L.Add(s,h),L.Add(l,h.neg()),l),s=l}return o}function kqt(e,t,r){const n=Math.min(e,t)/2,i=Math.max(e,t)-n*2,a=(Math.PI*(n*2)+2*i)/r,s=e>t?[{type:"straight",start:new L(n,0),delta:new L(1,0)},{type:"arc",center:new L(e-n,n),startAngle:-jr/2},{type:"straight",start:new L(e-n,t),delta:new L(-1,0)},{type:"arc",center:new L(n,n),startAngle:jr/2}]:[{type:"straight",start:new L(e,n),delta:new L(0,1)},{type:"arc",center:new L(n,t-n),startAngle:0},{type:"straight",start:new L(0,t-n),delta:new L(0,-1)},{type:"arc",center:new L(n,n),startAngle:jr}];let l=0;const c=[];for(let u=0;u<r;u++){const d=s[0];d.type==="straight"?c.push(L.Add(d.start,L.Mul(d.delta,l))):c.push(Mh(d.center,n,d.startAngle+l/n)),l+=a;let A=d.type==="straight"?i:jr*n;for(;l>A;)l-=A,s.push(s.shift()),A=s[0].type==="straight"?i:jr*n}return c}const Uqt={s:50,m:70,l:100,xl:130},Dqt=.2;function gT(e,t,r,n,i){const o=pc(r),a=tPe(e,t),s=Math.max(Math.ceil(a/Uqt[n]),6,Math.ceil(a/Math.min(e,t))),l=a/s*Dqt,c=Math.max(e-l*2,1),u=Math.max(t-l*2,1),A=tPe(c,u)/s,f=(e-c)/2,h=(t-u)/2,p=kqt(c,u,s).map(S=>S.addXY(f,h)),v=e<20?0:l*.3,y=t<20?0:l*.3,b=p.slice(0);for(let S=0;S<Math.floor(s/2);S++)b[S]=L.AddXY(b[S],o()*v*i,o()*y*i),b[s-S-1]=L.AddXY(b[s-S-1],o()*v*i,o()*y*i);const x=[];for(let S=0;S<b.length;S++){const C=S===b.length-1?0:S+1,_=b[S],B=b[C],T=p[S],O=p[C],P=L.Dist(T,O),F=A-P,k=L.Dist(_,B)/P,M=(Math.max(f,h)+F)*k,D=L.Lrp(T,O,.5).add(L.Sub(O,T).uni().per().mul(M));D.x<0?D.x=0:D.x>e&&(D.x=e),D.y<0?D.y=0:D.y>t&&(D.y=t);const j=Pz(_,B,D),$=L.Dist(j||L.Average([_,B]),_);x.push({leftPoint:_,rightPoint:B,arcPoint:D,center:j,radius:$})}return x}function jqt(e,t,r,n,i){const o=[],a=gT(e,t,r,n,i);for(const{center:s,radius:l,leftPoint:c,rightPoint:u}of a)o.push(...B1t(c,u,s,l,10));return o}function L5(e,t,r,n,i){const o=gT(e,t,r,n,i);let a=`M${o[0].leftPoint.toFixed()}`;for(const{leftPoint:s,rightPoint:l,radius:c,center:u}of o){if(u===null){a+=` L${l.toFixed()}`;continue}const d=L.Clockwise(s,l,u)?"0":"1";a+=` A${_e(c)},${_e(c)} 0 ${d},1 ${l.toFixed()}`}return a+=" Z",a}const Lqt={s:.5,m:.7,l:.9,xl:1.6};function Nqt(e,t,r,n,i){const o=pc(r),a=Lqt[n]*i,s=gT(e,t,r,n,i),u=s.reduce((h,p)=>h+L.Dist2(p.leftPoint,p.rightPoint),0)/s.length>(a*15)**2?h=>L.AddXY(h,o()*a*2,o()*a*2):h=>h;let d=`M${s[0].leftPoint.toFixed()}`,A=u(s[0].leftPoint),f=`M${A.toFixed()}`;for(const{leftPoint:h,center:p,rightPoint:v,radius:y,arcPoint:b}of s){if(p===null){d+=` L${v.toFixed()}`;const T=u(v);f+=` L${T.toFixed()}`,A=T;continue}const x=L.Clockwise(h,v,p)?"0":"1";d+=` A${_e(y)},${_e(y)} 0 ${x},1 ${v.toFixed()}`;const S=u(v),C=u(b),_=Pz(A,S,C);if(!_){f+=` L${S.toFixed()}`,A=S;continue}const B=Math.abs(L.Dist(_,A));f+=` A${_e(B)},${_e(B)} 0 ${x},1 ${S.toFixed()}`,A=S}return d+f+" Z"}function N5(e,t){switch(e.geo){case"x-box":return $qt(e.w,e.h,t,e.dash);case"check-box":return Qqt(e.w,e.h);default:return}}function $qt(e,t,r,n){const i=n==="draw"?.62:0;if(n==="dashed")return[[new L(0,0),new L(e/2,t/2)],[new L(e,t),new L(e/2,t/2)],[new L(0,t),new L(e/2,t/2)],[new L(e,0),new L(e/2,t/2)]];const o=s=>Math.max(0,Math.min(e,s)),a=s=>Math.max(0,Math.min(t,s));return[[new L(o(r*i),a(r*i)),new L(o(e-r*i),a(t-r*i))],[new L(o(r*i),a(t-r*i)),new L(o(e-r*i),a(r*i))]]}function Qqt(e,t){const r=Math.min(e,t)*.82,n=(e-r)/2,i=(t-r)/2,o=s=>Math.max(0,Math.min(e,s)),a=s=>Math.max(0,Math.min(t,s));return[[new L(o(n+r*.25),a(i+r*.52)),new L(o(n+r*.45),a(i+r*.82))],[new L(o(n+r*.45),a(i+r*.82)),new L(o(n+r*.82),a(i+r*.22))]]}function rPe({shape:e,shouldScale:t,forceSolid:r}){const n=t?e.props.scale:1,i=Ee(),o=Bl(),{id:a,props:s}=e,{w:l,color:c,fill:u,dash:d,growY:A,size:f,scale:h}=s,p=ia[f]*n,v=s.h+A;switch(s.geo){case"cloud":if(d==="solid"){const y=L5(l,v,a,f,h);return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:y,color:c,fill:u,scale:n}),m.jsx("path",{d:y,stroke:o[c].solid,strokeWidth:p,fill:"none"})]})}else if(d==="draw"){const y=Nqt(l,v,a,f,h);return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:y,color:c,fill:u,scale:n}),m.jsx("path",{d:y,stroke:o[c].solid,strokeWidth:p,fill:"none"})]})}else{const y=L5(l,v,a,f,h),b=gT(l,v,a,f,h);return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:y,color:c,fill:u,scale:n}),m.jsx("g",{strokeWidth:p,stroke:o[c].solid,fill:"none",pointerEvents:"all",children:b.map(({leftPoint:x,rightPoint:S,center:C,radius:_},B)=>{const T=C?_*Sh(Sh(L.Angle(C,S))-Sh(L.Angle(C,x))):L.Dist(x,S),{strokeDasharray:O,strokeDashoffset:P}=Jl(T,p,{style:d,start:"outset",end:"outset",forceSolid:r});return m.jsx("path",{d:C?`M${x.x},${x.y}A${_},${_},0,0,1,${S.x},${S.y}`:`M${x.x},${x.y}L${S.x},${S.y}`,strokeDasharray:O,strokeDashoffset:P},B)})})]})}case"ellipse":{const y=t?i.getShapeGeometry(e):i.getShapeUtil(e).getGeometry(e),b=y.getSvgPathData(!0);if(d==="dashed"||d==="dotted"){const x=y.length,{strokeDasharray:S,strokeDashoffset:C}=Jl(x<64?x*2:x,p,{style:d,snap:4,closed:!0,forceSolid:r});return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:b,color:c,fill:u,scale:n}),m.jsx("path",{d:b,strokeWidth:p,fill:"none",stroke:o[c].solid,strokeDasharray:S,strokeDashoffset:C})]})}else{const S=(t?i.getShapeGeometry(e):i.getShapeUtil(e).getGeometry(e)).getSvgPathData(!0);return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:S,color:c,fill:u,scale:n}),m.jsx("path",{d:S,stroke:o[c].solid,strokeWidth:p,fill:"none"})]})}}case"oval":{const y=t?i.getShapeGeometry(e):i.getShapeUtil(e).getGeometry(e),b=y.getSvgPathData(!0);if(d==="dashed"||d==="dotted"){const x=y.getLength(),{strokeDasharray:S,strokeDashoffset:C}=Jl(x<64?x*2:x,p,{style:d,snap:4,start:"outset",end:"outset",closed:!0,forceSolid:r});return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:b,color:c,fill:u,scale:n}),m.jsx("path",{d:b,strokeWidth:p,fill:"none",stroke:o[c].solid,strokeDasharray:S,strokeDashoffset:C})]})}else return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:b,color:c,fill:u,scale:n}),m.jsx("path",{d:b,stroke:o[c].solid,strokeWidth:p,fill:"none"})]})}case"heart":if(d==="dashed"||d==="dotted"||d==="solid"){const y=tqe(l,v),b=G8(l,v);return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:y,color:c,fill:u,scale:n}),b.map((x,S)=>{const{strokeDasharray:C,strokeDashoffset:_}=Jl(x.length,p,{style:d,snap:1,start:"outset",end:"outset",closed:!0,forceSolid:r});return m.jsx("path",{d:x.getSvgPathData(),strokeWidth:p,fill:"none",stroke:o[c].solid,strokeDasharray:C,strokeDashoffset:_,pointerEvents:"all"},`curve_${S}`)})]})}else{const y=Oqt(l,v,p,e.id);return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:y,color:c,fill:u,scale:n}),m.jsx("path",{d:y,stroke:o[c].solid,strokeWidth:p,fill:"none"})]})}default:{const y=t?i.getShapeGeometry(e):i.getShapeUtil(e).getGeometry(e),b=y instanceof bl?y.children[0].vertices:y.vertices,x=N5(e.props,p);if(d==="solid"){let S="M"+b[0]+"L"+b.slice(1)+"Z";if(x)for(const[C,_]of x)S+=`M${C.x},${C.y}L${_.x},${_.y}`;return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:S,color:c,fill:u,scale:n}),m.jsx("path",{d:S,stroke:o[c].solid,strokeWidth:p,fill:"none"})]})}else if(d==="dashed"||d==="dotted"){const S="M"+b[0]+"L"+b.slice(1)+"Z";return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:S,color:c,fill:u,scale:n}),m.jsxs("g",{strokeWidth:p,stroke:o[c].solid,fill:"none",pointerEvents:"all",children:[Array.from(Array(b.length)).map((C,_)=>{const B=L.ToFixed(b[_]),T=L.ToFixed(b[(_+1)%b.length]),O=L.Dist(B,T),{strokeDasharray:P,strokeDashoffset:F}=Jl(O,p,{style:d,start:"outset",end:"outset",forceSolid:r});return m.jsx("line",{x1:B.x,y1:B.y,x2:T.x,y2:T.y,strokeDasharray:P,strokeDashoffset:F},_)}),x&&x.map(([C,_],B)=>{const T=L.Dist(C,_),{strokeDasharray:O,strokeDashoffset:P}=Jl(T,p,{style:d,start:"skip",end:"skip",snap:d==="dotted"?4:void 0,forceSolid:r});return m.jsx("path",{d:`M${C.x},${C.y}L${_.x},${_.y}`,stroke:o[c].solid,strokeWidth:p,fill:"none",strokeDasharray:O,strokeDashoffset:P},`line_fg_${B}`)})]})]})}else if(d==="draw"){let S=D5(j5(a,b,p/3,p*2,2));if(x)for(const[_,B]of x)S+=`M${_.toFixed()}L${B.toFixed()}`;const C=D5(j5(a,b,0,p*2,1));return m.jsxs(m.Fragment,{children:[m.jsx(Wo,{theme:o,d:C,color:c,fill:u,scale:n}),m.jsx("path",{d:S,stroke:o[c].solid,strokeWidth:p,fill:"none"})]})}}}}const nPe=17*3;class $C extends xv{canEdit(){return!0}getDefaultProps(){return{w:100,h:100,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",scale:1}}getGeometry(t){const r=Math.max(1,t.props.w),n=Math.max(1,t.props.h+t.props.growY),i=r/2,o=n/2,a=t.props.fill!=="none";let s;switch(t.props.geo){case"cloud":{s=new wi({points:jqt(r,n,t.id,t.props.size,t.props.scale),isFilled:a});break}case"triangle":{s=new wi({points:[new L(i,0),new L(r,n),new L(0,n)],isFilled:a});break}case"diamond":{s=new wi({points:[new L(i,0),new L(r,o),new L(i,n),new L(0,o)],isFilled:a});break}case"pentagon":{s=new wi({points:JD(r,n,5),isFilled:a});break}case"hexagon":{s=new wi({points:JD(r,n,6),isFilled:a});break}case"octagon":{s=new wi({points:JD(r,n,8),isFilled:a});break}case"ellipse":{s=new lLt({width:r,height:n,isFilled:a});break}case"oval":{s=new cLt({width:r,height:n,isFilled:a});break}case"star":{const b=ln/5/2,x=Math.floor(5/4)*2,S=5*2-x,C=0,_=Math.floor(5/2)*2,B=Math.cos(-En+x*b)*r/2,T=Math.cos(-En+S*b)*r/2,O=Math.sin(-En+C*b)*n/2,P=Math.sin(-En+_*b)*n/2,F=r-Math.abs(B-T),U=n-Math.abs(P-O),k=r/2+T-(r/2-B),M=n/2+O-(n/2-P),D=1,j=(r-k)/2,$=(n-M)/2,Q=(r+F)/2,H=(n+U)/2,W=Q*D/2,z=H*D/2;s=new wi({points:Array.from(Array(5*2)).map((V,G)=>{const X=-En+G*b;return new L(j+(G%2?W:Q)*Math.cos(X),$+(G%2?z:H)*Math.sin(X))}),isFilled:a});break}case"rhombus":{const y=Math.min(r*.38,n*.38);s=new wi({points:[new L(y,0),new L(r,0),new L(r-y,n),new L(0,n)],isFilled:a});break}case"rhombus-2":{const y=Math.min(r*.38,n*.38);s=new wi({points:[new L(0,0),new L(r-y,0),new L(r,n),new L(y,n)],isFilled:a});break}case"trapezoid":{const y=Math.min(r*.38,n*.38);s=new wi({points:[new L(y,0),new L(r-y,0),new L(r,n),new L(0,n)],isFilled:a});break}case"arrow-right":{const y=Math.min(r,n)*.38,b=n*.16;s=new wi({points:[new L(0,b),new L(r-y,b),new L(r-y,0),new L(r,n/2),new L(r-y,n),new L(r-y,n-b),new L(0,n-b)],isFilled:a});break}case"arrow-left":{const y=Math.min(r,n)*.38,b=n*.16;s=new wi({points:[new L(y,0),new L(y,b),new L(r,b),new L(r,n-b),new L(y,n-b),new L(y,n),new L(0,n/2)],isFilled:a});break}case"arrow-up":{const y=r*.16,b=Math.min(r,n)*.38;s=new wi({points:[new L(r/2,0),new L(r,b),new L(r-y,b),new L(r-y,n),new L(y,n),new L(y,b),new L(0,b)],isFilled:a});break}case"arrow-down":{const y=r*.16,b=Math.min(r,n)*.38;s=new wi({points:[new L(y,0),new L(r-y,0),new L(r-y,n-b),new L(r,n-b),new L(r/2,n),new L(0,n-b),new L(y,n-b)],isFilled:a});break}case"check-box":case"x-box":case"rectangle":{s=new du({width:r,height:n,isFilled:a});break}case"heart":{const b=G8(r,n).reduce((x,S)=>(x.push(...S.vertices),x),[]);s=new wi({points:b,isFilled:a});break}default:Di(t.props.geo)}const l=G1(this.editor,t),c=r/t.props.scale,u=n/t.props.scale,d=Math.min(100,c/2),A=Math.min(xd[t.props.size]*aa.lineHeight+ol*2,u/2),f=Math.min(c,Math.max(l.w,Math.min(d,Math.max(1,c-8)))),h=Math.min(u,Math.max(l.h,Math.min(A,Math.max(1,u-8)))),p=N5(t.props,ia[t.props.size]*t.props.scale),v=p?p.map(y=>new yv({points:y})):[];return new bl({children:[s,new du({x:t.props.align==="start"?0:t.props.align==="end"?(c-f)*t.props.scale:(c-f)/2*t.props.scale,y:t.props.verticalAlign==="start"?0:t.props.verticalAlign==="end"?(u-h)*t.props.scale:(u-h)/2*t.props.scale,width:f*t.props.scale,height:h*t.props.scale,isFilled:!0,isLabel:!0}),...v]})}getHandleSnapGeometry(t){const r=this.getGeometry(t),n=r.children[0];switch(t.props.geo){case"arrow-down":case"arrow-left":case"arrow-right":case"arrow-up":case"check-box":case"diamond":case"hexagon":case"octagon":case"pentagon":case"rectangle":case"rhombus":case"rhombus-2":case"star":case"trapezoid":case"triangle":case"x-box":return{outline:n,points:[...n.getVertices(),r.bounds.center]};case"cloud":case"ellipse":case"heart":case"oval":return{outline:n,points:[r.bounds.center]};default:Di(t.props.geo)}}getText(t){return t.props.text}onEditEnd(t){const{id:r,type:n,props:{text:i}}=t;i.trimEnd()!==t.props.text&&this.editor.updateShapes([{id:r,type:n,props:{text:i.trimEnd()}}])}component(t){const{id:r,type:n,props:i}=t,{fill:o,font:a,align:s,verticalAlign:l,size:c,text:u}=i,d=Bl(),{editor:A}=this,f=Re("isGeoOnlySelected",()=>t.id===A.getOnlySelectedShapeId(),[]),p=A.getEditingShapeId()!==null||t.props.text,v=Re("force solid",()=>A.getZoomLevel()<.2,[A]);return m.jsxs(m.Fragment,{children:[m.jsx(tf,{children:m.jsx(rPe,{shape:t,shouldScale:!0,forceSolid:v})}),p&&m.jsx(WA,{style:{overflow:"hidden",width:t.props.w,height:t.props.h+i.growY},children:m.jsx(pT,{shapeId:r,type:n,font:a,fontSize:xd[c]*t.props.scale,lineHeight:aa.lineHeight,padding:ol*t.props.scale,fill:o,align:s,verticalAlign:l,text:u,isSelected:f,labelColor:d[i.labelColor].solid,wrap:!0})}),t.props.url&&m.jsx(Pm,{url:t.props.url})]})}indicator(t){const{id:r,props:n}=t,{w:i,size:o}=n,a=n.h+n.growY,s=ia[o],l=this.editor.getShapeGeometry(t);switch(n.geo){case"ellipse":return n.dash==="draw"?m.jsx("path",{d:Fqt(r,i,a,s)}):m.jsx("path",{d:l.getSvgPathData(!0)});case"heart":return m.jsx("path",{d:tqe(i,a)});case"oval":return m.jsx("path",{d:l.getSvgPathData(!0)});case"cloud":return m.jsx("path",{d:L5(i,a,r,o,t.props.scale)});default:{const c=this.editor.getShapeGeometry(t),u=c instanceof bl?c.children[0].vertices:c.vertices;let d;if(n.dash==="draw"){const f=j5(r,u,0,s*2*t.props.scale,1);d=D5(f)}else d="M"+u[0]+"L"+u.slice(1)+"Z";const A=N5(t.props,s);if(A)for(const[f,h]of A)d+=`M${f.x},${f.y}L${h.x},${h.y}`;return m.jsx("path",{d})}}}toSvg(t,r){const n={...t,props:{...t.props,w:t.props.w/t.props.scale,h:t.props.h/t.props.scale}},i=n.props;r.addExportDef(H8(i.fill));let o;if(i.text){r.addExportDef(fT(i.font));const a=Nd(r),s=new st(0,0,i.w,i.h+i.growY);o=m.jsx(hT,{fontSize:xd[i.size],font:i.font,align:i.align,verticalAlign:i.verticalAlign,text:i.text,labelColor:a[i.labelColor].solid,bounds:s,padding:16})}return m.jsxs(m.Fragment,{children:[m.jsx(rPe,{shouldScale:!1,shape:n,forceSolid:!1}),o]})}getCanvasSvgDefs(){return[q8()]}onResize(t,{handle:r,newPoint:n,scaleX:i,scaleY:o,initialShape:a}){const s=a.props.w/a.props.scale,l=a.props.h/a.props.scale,c=a.props.growY/a.props.scale;let u=s*i,d=(l+c)*o,A=0,f=0;const h=nPe;if(t.props.text.trim()){let S=Math.max(Math.abs(u),h),C=Math.max(Math.abs(d),h);S<h&&C===h&&(S=h),S===h&&C<h&&(C=h);const _=G1(this.editor,{...t,props:{...t.props,w:S*t.props.scale,h:C*t.props.scale}}),B=Math.max(Math.abs(u),_.w)*Math.sign(u),T=Math.max(Math.abs(d),_.h)*Math.sign(d);A=Math.abs(B)-Math.abs(u),f=Math.abs(T)-Math.abs(d),u=B,d=T}const p=u*t.props.scale,v=d*t.props.scale,y=new L(0,0);i<0&&(y.x+=p),(r==="left"||r==="top_left"||r==="bottom_left")&&(y.x+=i<0?A:-A),o<0&&(y.y+=v),(r==="top"||r==="top_left"||r==="top_right")&&(y.y+=o<0?f:-f);const{x:b,y:x}=y.rot(t.rotation).add(n);return{x:b,y:x,props:{w:Math.max(Math.abs(p),1),h:Math.max(Math.abs(v),1),growY:0}}}onBeforeCreate(t){if(!t.props.text)return t.props.growY?{...t,props:{...t.props,growY:0}}:void 0;const r=t.props.h/t.props.scale,n=G1(this.editor,t).h;let i=null;if(n>r?i=n-r:t.props.growY&&(i=0),i!==null)return{...t,props:{...t.props,growY:i*t.props.scale}}}onBeforeUpdate(t,r){const n=t.props.text,i=r.props.text;if(n===i&&t.props.font===r.props.font&&t.props.size===r.props.size)return;if(n&&!i)return{...r,props:{...r.props,growY:0}};const o=t.props.w/t.props.scale,a=t.props.h/t.props.scale,s=t.props.growY/t.props.scale,l=G1(this.editor,r);if(!n&&i&&i.length===1){let u=Math.max(o,l.w),d=Math.max(a,l.h);const A=nPe;return o<A&&a<A&&(u=Math.max(u,A),d=Math.max(d,A),u=Math.max(u,d),d=Math.max(u,d)),{...r,props:{...r.props,w:u*r.props.scale,h:d*r.props.scale,growY:0}}}let c=null;if(l.h>a?c=l.h-a:s&&(c=0),c!==null){const u=r.props.w/r.props.scale;return{...r,props:{...r.props,growY:c*r.props.scale,w:Math.max(u,l.w)*r.props.scale}}}if(l.w>o)return{...r,props:{...r.props,w:l.w*r.props.scale}}}onDoubleClick(t){if(this.editor.inputs.altKey)switch(t.props.geo){case"rectangle":return{...t,props:{geo:"check-box"}};case"check-box":return{...t,props:{geo:"rectangle"}}}}getInterpolatedProps(t,r,n){return{...n>.5?r.props:t.props,w:Pr(t.props.w,r.props.w,n),h:Pr(t.props.h,r.props.h,n),scale:Pr(t.props.scale,r.props.scale,n)}}}K($C,"type","geo"),K($C,"props",ZUe),K($C,"migrations",eDe);function G1(e,t){const{text:r,font:n,size:i,w:o}=t.props;if(!r)return{w:0,h:0};const a=e.textMeasure.measureText("w",{...aa,fontFamily:Fd[n],fontSize:xd[i],maxWidth:100}),s={s:2,m:3.5,l:5,xl:10},l=e.textMeasure.measureText(r,{...aa,fontFamily:Fd[n],fontSize:xd[i],minWidth:a.w,maxWidth:Math.max(0,Math.ceil(a.w+s[i]),Math.ceil(o/t.props.scale-ol*2))});return{w:l.w+ol*2,h:l.h+ol*2}}function Hqt(){const[e,t]=I.useState(!1);return I.useEffect(()=>{const n=CSS.supports("color","color(display-p3 1 1 1)"),i=matchMedia("(color-gamut: p3)");t(n&&i.matches);const o=()=>t(n&&i.matches);return i.addEventListener("change",o),()=>i.removeEventListener("change",o)},[]),Re(xi.forceSrgb)||!e?"srgb":"p3"}class QC extends oc{constructor(){super(...arguments);K(this,"options",{maxPointsPerShape:600,underlayOpacity:.82,overlayOpacity:.35})}hideResizeHandles(r){return Y1(r)}hideRotateHandle(r){return Y1(r)}hideSelectionBoundsFg(r){return Y1(r)}getDefaultProps(){return{segments:[],color:"black",size:"m",isComplete:!1,isPen:!1,scale:1}}getGeometry(r){const n=nh(r);if(Y1(r))return new VK({x:-n/2,y:-n/2,radius:n/2,isFilled:!0});const{strokePoints:i,sw:o}=iPe(r,n,!0),a=W8({strokeWidth:o,showAsComplete:!0});return dT(i,a),new wi({points:L8(i,a),isFilled:!0})}component(r){const n=H4(this.editor,r),i=nh(r);return m.jsx(tf,{children:m.jsx(X1,{shape:r,forceSolid:n,strokeWidth:i,opacity:this.options.overlayOpacity})})}backgroundComponent(r){const n=H4(this.editor,r),i=nh(r);return m.jsx(tf,{children:m.jsx(X1,{shape:r,forceSolid:n,strokeWidth:i,opacity:this.options.underlayOpacity})})}indicator(r){const n=H4(this.editor,r),i=nh(r),{strokePoints:o,sw:a}=iPe(r,i,n),s=Tm(r.props.segments);let l;return o.length<2?l=zqt(s[0],a):l=qh(o,!1),m.jsx("path",{d:l})}toSvg(r){const n=nh(r),i=n<1.5,o=1/r.props.scale;return m.jsx("g",{transform:`scale(${o})`,children:m.jsx(X1,{forceSolid:i,strokeWidth:n,shape:r,opacity:this.options.overlayOpacity})})}toBackgroundSvg(r){const n=nh(r),i=n<1.5,o=1/r.props.scale;return m.jsx("g",{transform:`scale(${o})`,children:m.jsx(X1,{forceSolid:i,strokeWidth:n,shape:r,opacity:this.options.underlayOpacity})})}onResize(r,n){const{scaleX:i,scaleY:o}=n,a=[];for(const s of r.props.segments)a.push({...s,points:s.points.map(({x:l,y:c,z:u})=>({x:i*l,y:o*c,z:u}))});return{props:{segments:a}}}getInterpolatedProps(r,n,i){return{...i>.5?n.props:r.props,...n.props,segments:X5e(r.props.segments,n.props.segments,i),scale:Pr(r.props.scale,n.props.scale,i)}}}K(QC,"type","highlight"),K(QC,"props",nDe),K(QC,"migrations",iDe);function qqt(e){return`M ${e.x} ${e.y} m -${.1}, 0 a ${.1},${.1} 0 1,0 ${.1*2},0 a ${.1},${.1} 0 1,0 -${.1*2},0`}function zqt(e,t){const r=t/2;return`M ${e.x} ${e.y} m -${r}, 0 a ${r},${r} 0 1,0 ${r*2},0 a ${r},${r} 0 1,0 -${r*2},0`}function iPe(e,t,r){var l;const n=Tm(e.props.segments),i=e.props.isComplete||((l=xo(e.props.segments))==null?void 0:l.type)==="straight";let o=t;!r&&!e.props.isPen&&n.length===1&&(o+=pc(e.id)()*(t/6));const a=W8({strokeWidth:o,showAsComplete:i});return{strokePoints:hu(n,a),sw:o}}function nh(e){return Im[e.props.size]*1.12*e.props.scale}function Y1(e){return e.props.segments.length===1&&e.props.segments[0].points.length<2}function X1({strokeWidth:e,forceSolid:t,shape:r,opacity:n}){var A;const i=Bl(),o=Tm(r.props.segments);let a=e;!t&&!r.props.isPen&&o.length===1&&(a+=pc(r.id)()*(a/6));const s=W8({strokeWidth:a,showAsComplete:r.props.isComplete||((A=xo(r.props.segments))==null?void 0:A.type)==="straight"}),l=hu(o,s),c=l.length>1?qh(l,!1):qqt(r.props.segments[0].points[0]),u=Hqt(),d=i[r.props.color].highlight[u];return m.jsx("path",{d:c,strokeLinecap:"round",fill:"none",pointerEvents:"all",stroke:d,strokeWidth:a,opacity:n})}function H4(e,t){return Re("forceSolid",()=>{const r=nh(t),n=e.getZoomLevel();return r/n<1.5},[e])}function rqe(){return m.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M3,11 L3,3 11,3",strokeWidth:"2"}),m.jsx("path",{d:"M19,27 L27,27 L27,19",strokeWidth:"2"}),m.jsx("path",{d:"M27,3 L3,27",strokeWidth:"2"})]})}const oPe=8;function Kqt(){return{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}}}function Jw(e,t){if(!t)return{w:e.w,h:e.h};const r=e.w/(t.bottomRight.x-t.topLeft.x),n=e.h/(t.bottomRight.y-t.topLeft.y);return{w:r,h:n}}function Wqt(e,t,r={}){const{handle:n,change:i,crop:o}=t,{w:a,h:s}=t.uncroppedSize,{minWidth:l=oPe,minHeight:c=oPe}=r,u=kn(o),d=new L(e.x,e.y),A=new L(0,0);let f=!1;switch(n){case"top":case"top_left":case"top_right":{if(s<c)break;f=!0,u.topLeft.y=u.topLeft.y+i.y/s,s*(u.bottomRight.y-u.topLeft.y)<c?(u.topLeft.y=u.bottomRight.y-c/s,A.y=(u.topLeft.y-o.topLeft.y)*s):u.topLeft.y<=0?(u.topLeft.y=0,A.y=(u.topLeft.y-o.topLeft.y)*s):A.y=i.y;break}case"bottom":case"bottom_left":case"bottom_right":{if(s<c)break;f=!0,u.bottomRight.y=Math.min(1,u.bottomRight.y+i.y/s),s*(u.bottomRight.y-u.topLeft.y)<c&&(u.bottomRight.y=u.topLeft.y+c/s);break}}switch(n){case"left":case"top_left":case"bottom_left":{if(a<l)break;f=!0,u.topLeft.x=u.topLeft.x+i.x/a,a*(u.bottomRight.x-u.topLeft.x)<l?(u.topLeft.x=u.bottomRight.x-l/a,A.x=(u.topLeft.x-o.topLeft.x)*a):u.topLeft.x<=0?(u.topLeft.x=0,A.x=(u.topLeft.x-o.topLeft.x)*a):A.x=i.x;break}case"right":case"top_right":case"bottom_right":{if(a<l)break;f=!0,u.bottomRight.x=Math.min(1,u.bottomRight.x+i.x/a),a*(u.bottomRight.x-u.topLeft.x)<l&&(u.bottomRight.x=u.topLeft.x+l/a);break}}if(f)return d.add(A.rot(e.rotation)),{id:e.id,type:e.type,x:d.x,y:d.y,props:{w:(u.bottomRight.x-u.topLeft.x)*a,h:(u.bottomRight.y-u.topLeft.y)*s,crop:u}}}function nqe({shapeId:e,assetId:t,width:r}){const n=Ee(),i=ox(),o=mUt(),[a,s]=I.useState(()=>({asset:t?n.getAsset(t)??null:null,url:null})),l=I.useRef(!1),c=I.useRef(null);return I.useEffect(()=>{if(!t)return;let u=!1,d;const A=iu("update state",()=>{if(!i&&e&&n.getCulledShapes().has(e))return;const f=n.getAsset(t);if(!f)return;if(!f.props.src){const v=n.getTemporaryAssetPreview(f.id);if(v){c.current!==v&&(c.current=v,s(y=>({...y,isPlaceholder:!0,url:v})),o());return}}const h=i?i.scale*(r/f.props.w):n.getZoomLevel()*(r/f.props.w);function p(v,y){u||c.current!==y&&(l.current=!0,c.current=y,s({asset:v,url:y}),o())}if(l.current){let v=0;const y=()=>{v++,v>500/16&&(aPe(n,t,h,i,b=>p(f,b)),d==null||d())};d==null||d(),n.on("tick",y),d=()=>n.off("tick",y)}else aPe(n,t,h,i,v=>p(f,v))});return()=>{A(),d==null||d(),u=!0}},[n,t,i,o,e,r]),a}function aPe(e,t,r,n,i){e.resolveAssetUrl(t,{screenScale:r,shouldResolveToOriginal:n?n.pixelRatio===null:!1,dpr:(n==null?void 0:n.pixelRatio)??void 0}).then(o=>{i(o)})}async function Vqt(e){const r=await(await lu(e)).blob();return fl.blobToDataUrl(r)}const Gqt=new hc;class HC extends xv{isAspectRatioLocked(){return!0}canCrop(){return!0}getDefaultProps(){return{w:100,h:100,assetId:null,playing:!0,url:"",crop:null,flipX:!1,flipY:!1}}onResize(t,r){let n=$P(t,r);const{flipX:i,flipY:o}=r.initialShape.props,{scaleX:a,scaleY:s,mode:l}=r;if(n={...n,props:{...n.props,flipX:a<0!==i,flipY:s<0!==o}},!t.props.crop)return n;const c=l==="scale_shape"&&a===-1||l==="resize_bounds"&&i!==n.props.flipX,u=l==="scale_shape"&&s===-1||l==="resize_bounds"&&o!==n.props.flipY,{topLeft:d,bottomRight:A}=t.props.crop;return n.props.crop={topLeft:{x:c?1-A.x:d.x,y:u?1-A.y:d.y},bottomRight:{x:c?1-d.x:A.x,y:u?1-d.y:A.y}},n}component(t){return m.jsx(Yqt,{shape:t})}indicator(t){return this.editor.getCroppingShapeId()===t.id?null:m.jsx("rect",{width:_e(t.props.w),height:_e(t.props.h)})}async toSvg(t,r){if(!t.props.assetId)return null;const n=this.editor.getAsset(t.props.assetId);if(!n)return null;const{w:i}=Jw(t.props,t.props.crop),o=await Gqt.get(n,async()=>{let a=await r.resolveAssetUrl(n.id,i);if(!a)return null;if((a.startsWith("blob:")||a.startsWith("http")||a.startsWith("/")||a.startsWith("./"))&&(a=await Vqt(a)||""),iqe(this.editor,n.id)){const{promise:s}=aqe(a);a=await s}return a});return o?m.jsx(Xqt,{shape:t,src:o}):null}onDoubleClickEdge(t){const r=t.props;if(!r||this.editor.getCroppingShapeId()!==t.id)return;const n=kn(r.crop)||{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},{w:i,h:o}=Jw(t.props,n),a=new L(n.topLeft.x*i,n.topLeft.y*o).rot(t.rotation),s={id:t.id,type:t.type,x:t.x-a.x,y:t.y-a.y,props:{crop:{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},w:i,h:o}};this.editor.updateShapes([s])}getInterpolatedProps(t,r,n){function i(o,a){var d,A,f,h;if(o.props.crop===null&&a.props.crop===null)return null;const s=((d=o.props.crop)==null?void 0:d.topLeft)||{x:0,y:0},l=((A=o.props.crop)==null?void 0:A.bottomRight)||{x:1,y:1},c=((f=a.props.crop)==null?void 0:f.topLeft)||{x:0,y:0},u=((h=a.props.crop)==null?void 0:h.bottomRight)||{x:1,y:1};return{topLeft:{x:Pr(s.x,c.x,n),y:Pr(s.y,c.y,n)},bottomRight:{x:Pr(l.x,u.x,n),y:Pr(l.y,u.y,n)}}}return{...n>.5?r.props:t.props,w:Pr(t.props.w,r.props.w,n),h:Pr(t.props.h,r.props.h,n),crop:i(t,r)}}}K(HC,"type","image"),K(HC,"props",oDe),K(HC,"migrations",aDe);const Yqt=I.memo(function({shape:t}){var b;const r=Ee(),{w:n}=Jw(t.props,t.props.crop),{asset:i,url:o}=nqe({shapeId:t.id,assetId:t.props.assetId,width:n}),a=DQe(),[s,l]=I.useState(""),[c,u]=I.useState(null),d=i&&iqe(r,i.id);I.useEffect(()=>{if(o&&d){const{promise:x,cancel:S}=aqe(o);return x.then(C=>{l(C),u(o)}),()=>{S()}}},[r,d,a,o]);const A=Re("show crop preview",()=>t.id===r.getOnlySelectedShapeId()&&r.getCroppingShapeId()===t.id&&r.isIn("select.crop"),[r,t.id]),f=a&&(((b=i==null?void 0:i.props.mimeType)==null?void 0:b.includes("video"))||d),h=oqe(t),p=o===c?null:o,v=f?s:c;if(!o&&!(i!=null&&i.props.src))return m.jsxs(WA,{id:t.id,style:{overflow:"hidden",width:t.props.w,height:t.props.h,color:"var(--color-text-3)",backgroundColor:"var(--color-low)",border:"1px solid var(--color-low-border)"},children:[m.jsx("div",{className:jt("tl-image-container",i&&"tl-image-container-loading"),style:h,children:i?null:m.jsx(rqe,{})}),"url"in t.props&&t.props.url&&m.jsx(Pm,{url:t.props.url})]});const y=d?"anonymous":void 0;return m.jsxs(m.Fragment,{children:[A&&v&&m.jsx("div",{style:h,children:m.jsx("img",{className:"tl-image",style:{...L0(t),opacity:.1},crossOrigin:y,src:v,referrerPolicy:"strict-origin-when-cross-origin",draggable:!1})}),m.jsxs(WA,{id:t.id,style:{overflow:"hidden",width:t.props.w,height:t.props.h},children:[m.jsxs("div",{className:jt("tl-image-container"),style:h,children:[v&&m.jsx("img",{className:"tl-image",style:L0(t),crossOrigin:y,src:v,referrerPolicy:"strict-origin-when-cross-origin",draggable:!1},v),p&&m.jsx("img",{className:"tl-image",style:L0(t),crossOrigin:y,src:p,referrerPolicy:"strict-origin-when-cross-origin",draggable:!1,onLoad:()=>u(p)},p)]}),t.props.url&&m.jsx(Pm,{url:t.props.url})]})]})});function iqe(e,t){const r=t?e.getAsset(t):void 0;return r?"mimeType"in r.props&&bs.isAnimatedImageType(r==null?void 0:r.props.mimeType)||"isAnimated"in r.props&&r.props.isAnimated:!1}function oqe(e){const t=e.props.crop,r=t==null?void 0:t.topLeft;if(!r)return{width:e.props.w,height:e.props.h};const{w:n,h:i}=Jw(e.props,t),o=-r.x*n,a=-r.y*i;return{transform:`translate(${o}px, ${a}px)`,width:n,height:i}}function L0(e,t){const{flipX:r,flipY:n}=e.props;if(!r&&!n)return;const i=`scale(${r?-1:1}, ${n?-1:1})`;return{transform:`${t?`translate(${r?t.width:0}px, ${n?t.height:0}px)`:""} ${i}`,transformOrigin:t?"0 0":"center center"}}function Xqt({shape:e,src:t}){const r=sv(),n=oqe(e),i=e.props.crop;if(n.transform&&i){const{transform:o,width:a,height:s}=n,l=(i.bottomRight.x-i.topLeft.x)*a,c=(i.bottomRight.y-i.topLeft.y)*s,u=[new L(0,0),new L(l,0),new L(l,c),new L(0,c)],d=L0(e,{width:a,height:s});return m.jsxs(m.Fragment,{children:[m.jsx("defs",{children:m.jsx("clipPath",{id:r,children:m.jsx("polygon",{points:u.map(A=>`${A.x},${A.y}`).join(" ")})})}),m.jsx("g",{clipPath:`url(#${r})`,children:m.jsx("image",{href:t,width:a,height:s,style:d?{...d,transform:`${o} ${d.transform}`}:{transform:o}})})]})}else return m.jsx("image",{href:t,width:e.props.w,height:e.props.h,style:L0(e,{width:e.props.w,height:e.props.h})})}function aqe(e){let t=!1;return{promise:new Promise(n=>{const i=Lw();i.onload=()=>{if(t)return;const o=document.createElement("canvas");o.width=i.width,o.height=i.height;const a=o.getContext("2d");a&&(a.drawImage(i,0,0),n(o.toDataURL()))},i.crossOrigin="anonymous",i.src=e}),cancel:()=>t=!0}}function sqe(e){return{size:e,thinning:.4,streamline:0,smoothing:.5,simulatePressure:!0,last:!0}}function lqe(e,t,r){const n=t.vertices,i=sqe(r);return hu(n,i)}function Jqt(e,t,r){const n=sqe(r);return L8(dT(lqe(e,t,r),n),n)}function Zqt(e,t,r){const n=Jqt(e,t,r);return Yz(n)}function e6t(e,t,r){if(e.props.dash==="draw"){const n=lqe(e,t,r);return qh(n)}return t.getSvgPathData()}function cqe(e,t,r){let n=`M ${$r(t[0])}L`,i=`M ${$r(t[0])}L`;const o=r/3,a=r*2,s=pc(e);let l=t[0],c,u=t[0],d;const A=t.length;for(let f=0,h=A-1;f<h;f++){c=t[f+1],d=L.AddXY(t[f+1],s()*o,s()*o);const p=L.Sub(c,l),v=L.Len(p),y=L.Div(p,v).mul(Math.min(v/4,a)),b=L.Add(l,y),x=L.Add(c,y.neg()),S=L.Sub(d,u),C=L.Len(S),_=L.Div(S,C).mul(Math.min(C/4,a)),B=L.Add(u,_),T=L.Add(d,_.neg());f===h-1?(n+=`${$r(b)}L ${$r(c)}`,i+=`${$r(B)}L ${$r(d)}`):(n+=`${$r(b)}L ${$r(x)}Q ${$r(c)}`,i+=`${$r(B)}L ${$r(T)}Q ${$r(d)}`,l=c,u=d)}return[n,n+i]}const t6t=new hc;class qC extends oc{hideResizeHandles(){return!0}hideRotateHandle(){return!0}hideSelectionBoundsFg(){return!0}hideSelectionBoundsBg(){return!0}getDefaultProps(){const[t,r]=$w(2);return{dash:"draw",size:"m",color:"black",spline:"line",points:{[t]:{id:t,index:t,x:0,y:0},[r]:{id:r,index:r,x:.1,y:.1}},scale:1}}getGeometry(t){return h0(t)}getHandles(t){return t6t.get(t.props,()=>{const r=h0(t),n=f0(t),i=n.map(o=>({...o,id:o.index,type:"vertex",canSnap:!0}));for(let o=0;o<n.length-1;o++){const a=Nw(n[o].index,n[o+1].index),l=r.segments[o].midPoint();i.push({id:a,type:"create",index:a,x:l.x,y:l.y,canSnap:!0})}return i.sort(ta)})}onResize(t,r){const{scaleX:n,scaleY:i}=r;return{props:{points:Fb(t.props.points,(o,{id:a,index:s,x:l,y:c})=>({id:a,index:s,x:l*n,y:c*i}))}}}onBeforeCreate(t){const{props:{points:r}}=t,n=Object.keys(r);if(n.length<2)return;const i=r[n[0]];if(n.every(a=>{const s=r[a];return s.x===i.x&&s.y===i.y})){const a=n[n.length-1];return r[a]={...r[a],x:r[a].x+.1,y:r[a].y+.1},t}}onHandleDrag(t,{handle:r}){if(r.type!=="vertex")return;const n=sc(new L(r.x,r.y),this.editor);return{...t,props:{...t.props,points:{...t.props.points,[r.id]:{id:r.id,index:r.index,x:n.x,y:n.y}}}}}component(t){return m.jsx(tf,{style:{minWidth:50,minHeight:50},children:m.jsx(sPe,{shape:t})})}indicator(t){const r=Zc[t.props.size]*t.props.scale,n=h0(t),{dash:i}=t.props;let o;if(t.props.spline==="line"){const a=n.points;if(i==="solid"||i==="dotted"||i==="dashed")o="M"+a[0]+"L"+a.slice(1);else{const[s]=cqe(t.id,a,r);o=s}}else o=e6t(t,n,r);return m.jsx("path",{d:o})}toSvg(t){return m.jsx(sPe,{shouldScale:!0,shape:t})}getHandleSnapGeometry(t){const r=f0(t);return{points:r,getSelfSnapPoints:n=>{const i=this.getHandles(t).filter(o=>o.type==="vertex").findIndex(o=>o.id===n.id);return r.filter((o,a)=>Math.abs(a-i)>1).map(L.From)},getSelfSnapOutline:n=>{const i=this.getHandles(t).filter(a=>a.type==="vertex").findIndex(a=>a.id===n.id),o=h0(t).segments.filter((a,s)=>s!==i-1&&s!==i);return o.length?new bl({children:o}):null}}}getInterpolatedProps(t,r,n){const i=f0(t),o=f0(r),a=[],s=[];let l=Dke;if(i.length>o.length)for(let c=0;c<i.length;c++)a[c]={...i[c]},o[c]===void 0?s[c]={...o[o.length-1],id:l}:s[c]={...o[c],id:l},l=Yc(l);else if(o.length>i.length)for(let c=0;c<o.length;c++)s[c]={...o[c]},i[c]===void 0?a[c]={...i[i.length-1],id:l}:a[c]={...i[c],id:l},l=Yc(l);else for(let c=0;c<o.length;c++)a[c]=i[c],s[c]=o[c];return{...n>.5?r.props:t.props,points:Object.fromEntries(a.map((c,u)=>{const d=s[u];return[c.id,{...c,x:Pr(c.x,d.x,n),y:Pr(c.y,d.y,n)}]})),scale:Pr(t.props.scale,r.props.scale,n)}}}K(qC,"type","line"),K(qC,"props",sDe),K(qC,"migrations",lDe);function f0(e){return Object.values(e.props.points).sort(ta)}function h0(e){const t=f0(e).map(L.From);switch(e.props.spline){case"cubic":return new sLt({points:t});case"line":return new yv({points:t})}}function sPe({shape:e,shouldScale:t=!1,forceSolid:r=!1}){const n=Bl(),i=h0(e),{dash:o,color:a,size:s}=e.props,l=1/e.props.scale,c=t?l:1,u=Zc[s]*e.props.scale;if(e.props.spline==="line"){if(o==="solid"){const d=i.points,A="M"+d[0]+"L"+d.slice(1);return m.jsx("path",{d:A,stroke:n[a].solid,strokeWidth:u,fill:"none",transform:`scale(${c})`})}if(o==="dashed"||o==="dotted")return m.jsx("g",{stroke:n[a].solid,strokeWidth:u,transform:`scale(${c})`,children:i.segments.map((d,A)=>{const{strokeDasharray:f,strokeDashoffset:h}=r?{strokeDasharray:"none",strokeDashoffset:"none"}:Jl(d.length,u,{style:o,start:A>0?"outset":"none",end:A<i.segments.length-1?"outset":"none"});return m.jsx("path",{strokeDasharray:f,strokeDashoffset:h,d:d.getSvgPathData(!0),fill:"none"},A)})});if(o==="draw"){const d=i.points,[A,f]=cqe(e.id,d,u);return m.jsx("path",{d:f,stroke:n[a].solid,strokeWidth:u,fill:"none",transform:`scale(${c})`})}}if(e.props.spline==="cubic"){const d=i.getSvgPathData();if(o==="solid")return m.jsx("path",{strokeWidth:u,stroke:n[a].solid,fill:"none",d,transform:`scale(${c})`});if(o==="dashed"||o==="dotted")return m.jsx("g",{stroke:n[a].solid,strokeWidth:u,transform:`scale(${c})`,children:i.segments.map((A,f)=>{const{strokeDasharray:h,strokeDashoffset:p}=Jl(A.length,u,{style:o,start:f>0?"outset":"none",end:f<i.segments.length-1?"outset":"none",forceSolid:r});return m.jsx("path",{strokeDasharray:h,strokeDashoffset:p,d:A.getSvgPathData(),fill:"none"},f)})});if(o==="draw")return m.jsx("path",{d:Zqt(e,i,u),strokeWidth:1,stroke:n[a].solid,fill:n[a].solid,transform:`scale(${c})`})}}class zC extends oc{constructor(){super(...arguments);K(this,"options",{resizeMode:"none"})}canEdit(){return!0}hideResizeHandles(){const{resizeMode:r}=this.options;switch(r){case"none":return!0;case"scale":return!1;default:throw Di(r)}}isAspectRatioLocked(){return this.options.resizeMode==="scale"}hideSelectionBoundsFg(){return!1}getDefaultProps(){return{color:"black",size:"m",text:"",font:"draw",align:"middle",verticalAlign:"middle",labelColor:"black",growY:0,fontSizeAdjustment:0,url:"",scale:1}}getGeometry(r){const{labelHeight:n,labelWidth:i}=uqe(this.editor,r),{scale:o}=r.props,a=n*o,s=i*o,l=on*o,c=J1(r);return new bl({children:[new du({width:l,height:c,isFilled:!0}),new du({x:r.props.align==="start"?0:r.props.align==="end"?l-s:(l-s)/2,y:r.props.verticalAlign==="start"?0:r.props.verticalAlign==="end"?c-a:(c-a)/2,width:s,height:a,isFilled:!0,isLabel:!0})]})}getHandles(r){const{scale:n}=r.props;if(this.editor.getInstanceState().isCoarsePointer)return[];const o=this.editor.getZoomLevel();if(o*n<.25)return[];const a=J1(r),s=on*n,l=v5t/o*n;return o*n<.5?[{id:"bottom",index:"a3",type:"clone",x:s/2,y:a+l}]:[{id:"top",index:"a1",type:"clone",x:s/2,y:-l},{id:"right",index:"a2",type:"clone",x:s+l,y:a/2},{id:"bottom",index:"a3",type:"clone",x:s/2,y:a+l},{id:"left",index:"a4",type:"clone",x:-l,y:a/2}]}onResize(r,n){const{resizeMode:i}=this.options;switch(i){case"none":return;case"scale":return yUe(r,n);default:throw Di(i)}}getText(r){return r.props.text}component(r){const{id:n,type:i,props:{labelColor:o,scale:a,color:s,font:l,size:c,align:u,text:d,verticalAlign:A,fontSizeAdjustment:f}}=r,h=i6t(n),p=Bl(),v=on*a,y=J1(r),b=Re("shape rotation",()=>{var _;return((_=this.editor.getShapePageTransform(n))==null?void 0:_.rotation())??0},[this.editor]),x=Re("zoom",()=>this.editor.getZoomLevel()<.35/a,[a,this.editor]),S=Re("dark mode",()=>this.editor.user.getIsDarkMode(),[this.editor]),C=r.id===this.editor.getOnlySelectedShapeId();return m.jsxs(m.Fragment,{children:[m.jsx("div",{id:n,className:"tl-note__container",style:{width:v,height:y,backgroundColor:p[s].note.fill,borderBottom:x?S?`${2*a}px solid rgb(20, 20, 20)`:`${2*a}px solid rgb(144, 144, 144)`:"none",boxShadow:x?"none":o6t(r.id,b,a)},children:m.jsx(pT,{shapeId:n,type:i,font:l,fontSize:(f||xd[c])*a,lineHeight:aa.lineHeight,align:u,verticalAlign:A,text:d,isNote:!0,isSelected:C,labelColor:o==="black"?p[s].note.text:p[o].fill,wrap:!0,padding:16*a,onKeyDown:h})}),"url"in r.props&&r.props.url&&m.jsx(Pm,{url:r.props.url})]})}indicator(r){const{scale:n}=r.props;return m.jsx("rect",{rx:n,width:_e(on*n),height:_e(J1(r))})}toSvg(r,n){r.props.text&&n.addExportDef(fT(r.props.font));const i=Nd({isDarkMode:n.isDarkMode}),o=a6t(r);return m.jsxs(m.Fragment,{children:[m.jsx("rect",{x:5,y:5,rx:1,width:on-10,height:o.h,fill:"rgba(0,0,0,.1)"}),m.jsx("rect",{rx:1,width:on,height:o.h,fill:i[r.props.color].note.fill}),m.jsx(hT,{fontSize:r.props.fontSizeAdjustment||xd[r.props.size],font:r.props.font,align:r.props.align,verticalAlign:r.props.verticalAlign,text:r.props.text,labelColor:i[r.props.color].note.text,bounds:o,stroke:!1})]})}onBeforeCreate(r){return lPe(this.editor,r)}onBeforeUpdate(r,n){if(!(r.props.text===n.props.text&&r.props.font===n.props.font&&r.props.size===n.props.size))return lPe(this.editor,n)}onEditEnd(r){const{id:n,type:i,props:{text:o}}=r;o.trimEnd()!==r.props.text&&this.editor.updateShapes([{id:n,type:i,props:{text:o.trimEnd()}}])}getInterpolatedProps(r,n,i){return{...i>.5?n.props:r.props,scale:Pr(r.props.scale,n.props.scale,i)}}}K(zC,"type","note"),K(zC,"props",cDe),K(zC,"migrations",uDe);function lPe(e,t){const{labelHeight:r,fontSizeAdjustment:n}=uqe(e,t),i=Math.max(0,r-on);if(i!==t.props.growY||n!==t.props.fontSizeAdjustment)return{...t,props:{...t.props,growY:i,fontSizeAdjustment:n}}}function r6t(e,t){const{text:r}=t.props;if(!r)return{labelHeight:xd[t.props.size]*aa.lineHeight+ol*2,labelWidth:100,fontSizeAdjustment:0};const n=xd[t.props.size];let i=0,o=0,a=on,s=on;const l=1;do{i=Math.min(n,n-o);const c=e.textMeasure.measureText(r,{...aa,fontFamily:Fd[t.props.font],fontSize:i,maxWidth:on-ol*2-l,disableOverflowWrapBreaking:!0});if(a=c.h+ol*2,s=c.w+ol*2,i<=14){const u=e.textMeasure.measureText(r,{...aa,fontFamily:Fd[t.props.font],fontSize:i,maxWidth:on-ol*2-l});a=u.h+ol*2,s=u.w+ol*2;break}if(c.scrollWidth.toFixed(0)===c.w.toFixed(0))break}while(o++<50);return{labelHeight:a,labelWidth:s,fontSizeAdjustment:i}}const n6t=new hc;function uqe(e,t){return n6t.get(t,()=>r6t(e,t))}function i6t(e){const t=Ee(),r=N3e();return I.useCallback(n=>{const i=t.getShape(e);if(!i)return;const o=n.key==="Tab",a=(n.metaKey||n.ctrlKey)&&n.key==="Enter";if(o||a){n.preventDefault();const s=t.getShapePageTransform(e),l=s.rotation(),c=!!(r.dir==="rtl"||P5e(i.props.text)),u=(on+t.options.adjacentShapeMargin+(a&&!n.shiftKey?i.props.growY:0))*i.props.scale,d=new L(o?n.shiftKey!=c?-1:1:0,a?n.shiftKey?-1:1:0).mul(u).add(AT.clone().mul(i.props.scale)).rot(l).add(s.point()),A=N5e(t,i,d,l);A&&(t.markHistoryStoppingPoint("editing adjacent shape"),ZE(t,A,!0))}},[e,t,r.dir])}function J1(e){return(on+e.props.growY)*e.props.scale}function o6t(e,t,r){const n=pc(e),i=Math.abs(n())+.5,o=Math.cos(t),a=5*r,s=4*r,l=6*r,c=7*r;return`0px ${a-i}px ${a}px -${a}px rgba(15, 23, 31, .6),
	0px ${(s+i*c)*Math.max(0,o)}px ${l+i*c}px -${s+i*l}px rgba(15, 23, 31, ${(.3+i*.1).toFixed(2)}), 
	0px ${48*r}px ${10*r}px -${10*r}px inset rgba(15, 23, 44, ${((.022+n()*.005)*((1+o)/2)).toFixed(2)})`}function a6t(e){return new st(0,0,on,on+e.props.growY)}const s6t=new hc;class KC extends oc{constructor(){super(...arguments);K(this,"options",{extraArrowHorizontalPadding:10})}getDefaultProps(){return{color:"black",size:"m",w:8,text:"",font:"draw",textAlign:"start",autoSize:!0,scale:1}}getMinDimensions(r){return s6t.get(r.props,n=>cPe(this.editor,n))}getGeometry(r,n){const{scale:i}=r.props,{width:o,height:a}=this.getMinDimensions(r),s=(n==null?void 0:n.context)??"none";return new du({x:(s==="@tldraw/arrow-start"?-this.options.extraArrowHorizontalPadding:0)*i,width:(o+(s==="@tldraw/arrow-start"?this.options.extraArrowHorizontalPadding*2:0))*i,height:a*i,isFilled:!0,isLabel:!0})}getText(r){return r.props.text}canEdit(){return!0}isAspectRatioLocked(){return!0}component(r){const{id:n,props:{font:i,size:o,text:a,color:s,scale:l,textAlign:c}}=r,{width:u,height:d}=this.getMinDimensions(r),A=r.id===this.editor.getOnlySelectedShapeId(),f=Bl(),h=l6t(n);return m.jsx(pT,{shapeId:n,classNamePrefix:"tl-text-shape",type:"text",font:i,fontSize:Im[o],lineHeight:aa.lineHeight,align:c,verticalAlign:"middle",text:a,labelColor:f[s].solid,isSelected:A,textWidth:u,textHeight:d,style:{transform:`scale(${l})`,transformOrigin:"top left"},wrap:!0,onKeyDown:h})}indicator(r){const n=this.editor.getShapeGeometry(r).bounds,i=Ee();return r.props.autoSize&&i.getEditingShapeId()===r.id?null:m.jsx("rect",{width:_e(n.width),height:_e(n.height)})}toSvg(r,n){r.props.text&&n.addExportDef(fT(r.props.font));const i=this.editor.getShapeGeometry(r).bounds,o=i.width/(r.props.scale??1),a=i.height/(r.props.scale??1),s=Nd(n);return m.jsx(hT,{fontSize:Im[r.props.size],font:r.props.font,align:r.props.textAlign,verticalAlign:"middle",text:r.props.text,labelColor:s[r.props.color].solid,bounds:new st(0,0,o,a),padding:0})}onResize(r,n){const{newPoint:i,initialBounds:o,initialShape:a,scaleX:s,handle:l}=n;if(n.mode==="scale_shape"||l!=="right"&&l!=="left")return{id:r.id,type:r.type,...yUe(r,n)};{const c=Math.max(1,Math.abs(o.width*s)),{x:u,y:d}=s<0?L.Sub(i,L.FromAngle(r.rotation).mul(c)):i;return{id:r.id,type:r.type,x:u,y:d,props:{w:c/a.props.scale,autoSize:!1}}}}onEditEnd(r){const{id:n,type:i,props:{text:o}}=r,a=r.props.text.trimEnd();a.length===0?this.editor.deleteShapes([r.id]):a!==r.props.text&&this.editor.updateShapes([{id:n,type:i,props:{text:o.trimEnd()}}])}onBeforeUpdate(r,n){if(!n.props.autoSize)return;const i=r.props.size!==n.props.size||r.props.textAlign!==n.props.textAlign||r.props.font!==n.props.font||r.props.scale!==1&&n.props.scale===1,o=r.props.text!==n.props.text;if(!i&&!o)return;const a=this.getMinDimensions(r),s=cPe(this.editor,n.props),l=a.width*r.props.scale,c=a.height*r.props.scale,u=s.width*n.props.scale,d=s.height*n.props.scale;let A;switch(n.props.textAlign){case"middle":{A=new L((u-l)/2,o?0:(d-c)/2);break}case"end":{A=new L(u-l,o?0:(d-c)/2);break}default:{if(o)break;A=new L(0,(d-c)/2);break}}if(A){A.rot(n.rotation);const{x:f,y:h}=n;return{...n,x:f-A.x,y:h-A.y,props:{...n.props,w:u}}}else return{...n,props:{...n.props,w:u}}}}K(KC,"type","text"),K(KC,"props",dDe),K(KC,"migrations",ADe);function cPe(e,t){const{font:r,text:n,autoSize:i,size:o,w:a}=t,s=i?16:Math.max(16,a),l=Im[o],c=i?null:Math.floor(Math.max(s,a)),u=e.textMeasure.measureText(n,{...aa,fontFamily:Fd[r],fontSize:l,maxWidth:c});return i&&(u.w+=1),{width:Math.max(s,u.w),height:Math.max(l,u.h)}}function l6t(e){const t=Ee();return I.useCallback(r=>{if(t.getEditingShapeId()===e)switch(r.key){case"Enter":{(r.ctrlKey||r.metaKey)&&t.complete();break}case"Tab":{hr(r),r.shiftKey?Bm.unindent(r.currentTarget):Bm.indent(r.currentTarget);break}}},[t,e])}const c6t=new hc;class WC extends xv{canEdit(){return!0}isAspectRatioLocked(){return!0}getDefaultProps(){return{w:100,h:100,assetId:null,time:0,playing:!0,url:""}}component(t){return m.jsx(u6t,{shape:t})}indicator(t){return m.jsx("rect",{width:_e(t.props.w),height:_e(t.props.h)})}async toSvg(t,r){if(!t.props.assetId)return null;const n=this.editor.getAsset(t.props.assetId);if(!n)return null;const i=await c6t.get(n,async()=>{const o=await r.resolveAssetUrl(n.id,t.props.w);if(!o)return null;const a=await bs.loadVideo(o);return await bs.getVideoFrameAsDataUrl(a,0)});return i?m.jsx("image",{href:i,width:t.props.w,height:t.props.h}):null}}K(WC,"type","video"),K(WC,"props",fDe),K(WC,"migrations",hDe);const u6t=I.memo(function({shape:t}){const r=Ee(),n=r.getShapeGeometry(t).bounds.w*r.getZoomLevel()>=110,i=QP(t.id),o=DQe(),{Spinner:a}=Un(),{asset:s,url:l}=nqe({shapeId:t.id,assetId:t.props.assetId,width:t.props.w}),c=I.useRef(null),[u,d]=I.useState(!1),[A,f]=I.useState(!1);I.useEffect(()=>{const p=()=>f(document.fullscreenElement===c.current);return document.addEventListener("fullscreenchange",p),()=>document.removeEventListener("fullscreenchange",p)});const h=I.useCallback(p=>{p.currentTarget&&d(!0)},[]);return I.useEffect(()=>{const p=c.current;p&&i&&document.activeElement!==p&&p.focus()},[i,u]),I.useEffect(()=>{if(o){const p=c.current;if(!p)return;p.pause(),p.currentTime=0}},[c,o]),m.jsxs(m.Fragment,{children:[m.jsx(WA,{id:t.id,style:{color:"var(--color-text-3)",backgroundColor:s?"transparent":"var(--color-low)",border:s?"none":"1px solid var(--color-low-border)"},children:m.jsx("div",{className:"tl-counter-scaled",children:m.jsx("div",{className:"tl-video-container",children:s?a&&!s.props.src?m.jsx(a,{}):l?m.jsxs(m.Fragment,{children:[m.jsx("video",{ref:c,style:i?{pointerEvents:"all"}:u?void 0:{display:"none"},className:jt("tl-video",`tl-video-shape-${t.id.split(":")[1]}`,{"tl-video-is-fullscreen":A}),width:"100%",height:"100%",draggable:!1,playsInline:!0,autoPlay:!0,muted:!0,loop:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:i&&n,onLoadedData:h,hidden:!u,children:m.jsx("source",{src:l})}),!u&&a&&m.jsx(a,{})]}):null:m.jsx(rqe,{})})})}),"url"in t.props&&t.props.url&&m.jsx(Pm,{url:t.props.url})]})}),dqe=[KC,jC,LC,$C,zC,qC,NC,DC,QC,sI,HC,WC];function d6t(e){return e.sideEffects.register({instance_page_state:{afterChange:(t,r)=>{if(t.croppingShapeId!==r.croppingShapeId){const n=e.isIn("select.crop");!t.croppingShapeId&&r.croppingShapeId?n||e.setCurrentTool("select.crop.idle"):t.croppingShapeId&&!r.croppingShapeId&&n&&e.setCurrentTool("select.idle")}if(t.editingShapeId!==r.editingShapeId)if(!t.editingShapeId&&r.editingShapeId){if(!e.isIn("select.editing_shape")){const n=e.getEditingShape();n&&n.type==="text"&&e.isInAny("text.pointing","select.resizing")&&e.getInstanceState().isToolLocked?e.setCurrentTool("select.editing_shape",{isCreatingTextWhileToolLocked:!0}):e.setCurrentTool("select.editing_shape")}}else t.editingShapeId&&!r.editingShapeId&&e.isIn("select.editing_shape")&&e.setCurrentTool("select.idle")}}})}class Aqe extends Ft{constructor(){super(...arguments);K(this,"info",{});K(this,"scribbleId","id");K(this,"markId","");K(this,"excludedShapeIds",new Set)}onEnter(r){this.markId=this.editor.markHistoryStoppingPoint("erase scribble begin"),this.info=r;const{originPagePoint:n}=this.editor.inputs;this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter(o=>{if(this.editor.isShapeOrAncestorLocked(o))return!0;if(this.editor.isShapeOfType(o,"group")||this.editor.isShapeOfType(o,"frame")){const a=this.editor.getPointInShapeSpace(o,n);return this.editor.getShapeGeometry(o).bounds.containsPoint(a)}return!1}).map(o=>o.id));const i=this.editor.scribbles.addScribble({color:"muted-1",size:12});this.scribbleId=i.id,this.update()}pushPointToScribble(){const{x:r,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,r,n)}onExit(){this.editor.setErasingShapes([]),this.editor.scribbles.stop(this.scribbleId)}onPointerMove(){this.update()}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}update(){const{editor:r,excludedShapeIds:n}=this,i=r.getErasingShapeIds(),o=r.getZoomLevel(),a=r.getCurrentPageRenderingShapesSorted(),{inputs:{currentPagePoint:s,previousPagePoint:l}}=r;this.pushPointToScribble();const c=new Set(i),u=this.editor.options.hitTestMargin/o;for(const d of a){if(r.isShapeOfType(d,"group"))continue;const A=r.getShapeMask(d.id);if(A&&!Is(s,A))continue;const f=r.getShapeGeometry(d),h=r.getShapePageTransform(d);if(!f||!h)continue;const p=h.clone().invert(),v=p.applyToPoint(l),y=p.applyToPoint(s),{bounds:b}=f;b.minX-u>Math.max(v.x,y.x)||b.minY-u>Math.max(v.y,y.y)||b.maxX+u<Math.min(v.x,y.x)||b.maxY+u<Math.min(v.y,y.y)||f.hitTestLineSegment(v,y,u)&&c.add(r.getOutermostSelectableShape(d).id)}this.editor.setErasingShapes([...c].filter(d=>!n.has(d)))}complete(){const{editor:r}=this;r.deleteShapes(r.getCurrentPageState().erasingShapeIds),this.parent.transition("idle")}cancel(){const{editor:r}=this;r.bailToMark(this.markId),this.parent.transition("idle",this.info)}}K(Aqe,"id","erasing");var bQ;let A6t=(bQ=class extends Ft{onPointerDown(t){this.parent.transition("pointing",t)}onCancel(){this.editor.setCurrentTool("select")}},K(bQ,"id","idle"),bQ);var xQ;let f6t=(xQ=class extends Ft{onEnter(){const t=this.editor.getZoomLevel(),r=this.editor.getCurrentPageRenderingShapesSorted(),{inputs:{currentPagePoint:n}}=this.editor,i=new Set,o=i.size;for(let a=r.length,s=a-1;s>=0;s--){const l=r[s];if(!(this.editor.isShapeOrAncestorLocked(l)||this.editor.isShapeOfType(l,"group"))&&this.editor.isPointInShape(l,n,{hitInside:!1,margin:this.editor.options.hitTestMargin/t})){const c=this.editor.getOutermostSelectableShape(l);if(this.editor.isShapeOfType(c,"frame")&&i.size>o)break;i.add(c.id)}}this.editor.setErasingShapes([...i])}onLongPress(t){this.startErasing(t)}onExit(t,r){r!=="erasing"&&this.editor.setErasingShapes([])}onPointerMove(t){this.editor.inputs.isDragging&&this.startErasing(t)}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.complete()}onInterrupt(){this.cancel()}startErasing(t){this.parent.transition("erasing",t)}complete(){const t=this.editor.getErasingShapeIds();t.length&&(this.editor.markHistoryStoppingPoint("erase end"),this.editor.deleteShapes(t)),this.parent.transition("idle")}cancel(){this.parent.transition("idle")}},K(xQ,"id","pointing"),xQ);class VC extends Ft{static children(){return[A6t,f6t,Aqe]}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}}K(VC,"id","eraser"),K(VC,"initial","idle"),K(VC,"isLockable",!1);class fqe extends Ft{constructor(){super(...arguments);K(this,"initialCamera",new L)}onEnter(){this.initialCamera=L.From(this.editor.getCamera()),this.update()}onPointerMove(){this.update()}onPointerUp(){this.complete()}onCancel(){this.parent.transition("idle")}onComplete(){this.complete()}update(){const{initialCamera:r,editor:n}=this,{currentScreenPoint:i,originScreenPoint:o}=n.inputs,a=L.Sub(i,o).div(n.getZoomLevel());a.len2()!==0&&n.setCamera(r.clone().add(a))}complete(){const{editor:r}=this,{pointerVelocity:n}=r.inputs,i=Math.min(n.len(),2);i>.1&&this.editor.slideCamera({speed:i,direction:n}),this.parent.transition("idle")}}K(fqe,"id","dragging");var SQ;let h6t=(SQ=class extends Ft{onEnter(){this.editor.setCursor({type:"grab",rotation:0})}onPointerDown(t){this.parent.transition("pointing",t)}onCancel(){this.editor.setCurrentTool("select")}},K(SQ,"id","idle"),SQ);var CQ;let p6t=(CQ=class extends Ft{onEnter(){this.editor.stopCameraAnimation(),this.editor.setCursor({type:"grabbing",rotation:0})}onLongPress(){this.startDragging()}onPointerMove(){this.editor.inputs.isDragging&&this.startDragging()}startDragging(){this.parent.transition("dragging")}onPointerUp(){this.complete()}onCancel(){this.complete()}onComplete(){this.complete()}onInterrupt(){this.complete()}complete(){this.parent.transition("idle")}},K(CQ,"id","pointing"),CQ);class GC extends Ft{static children(){return[h6t,p6t,fqe]}onDoubleClick(t){if(t.phase==="settle"){const{currentScreenPoint:r}=this.editor.inputs;this.editor.zoomIn(r,{animation:{duration:220,easing:so.easeOutQuint}})}}onTripleClick(t){if(t.phase==="settle"){const{currentScreenPoint:r}=this.editor.inputs;this.editor.zoomOut(r,{animation:{duration:320,easing:so.easeOutQuint}})}}onQuadrupleClick(t){if(t.phase==="settle"){const r=this.editor.getZoomLevel(),{inputs:{currentScreenPoint:n}}=this.editor;r===1?this.editor.zoomToFit({animation:{duration:400,easing:so.easeOutQuint}}):this.editor.resetZoom(n,{animation:{duration:320,easing:so.easeOutQuint}})}}}K(GC,"id","hand"),K(GC,"initial","idle"),K(GC,"isLockable",!1);var _Q;let g6t=(_Q=class extends Ft{onPointerDown(t){this.parent.transition("lasering",t)}},K(_Q,"id","idle"),_Q);class hqe extends Ft{constructor(){super(...arguments);K(this,"scribbleId","id")}onEnter(){const r=this.editor.scribbles.addScribble({color:"laser",opacity:.7,size:4,delay:this.editor.options.laserDelayMs,shrink:.05,taper:!0});this.scribbleId=r.id,this.pushPointToScribble()}onExit(){this.editor.scribbles.stop(this.scribbleId)}onPointerMove(){this.pushPointToScribble()}onPointerUp(){this.complete()}pushPointToScribble(){const{x:r,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,r,n)}onCancel(){this.cancel()}onComplete(){this.complete()}complete(){this.parent.transition("idle")}cancel(){this.parent.transition("idle")}}K(hqe,"id","lasering");class YC extends Ft{static children(){return[g6t,hqe]}onEnter(){this.editor.setCursor({type:"cross",rotation:0})}}K(YC,"id","laser"),K(YC,"initial","idle"),K(YC,"isLockable",!1);class pqe extends Ft{constructor(){super(...arguments);K(this,"info",{});K(this,"initialSelectedShapeIds",[]);K(this,"excludedShapeIds",new Set);K(this,"isWrapMode",!1);K(this,"initialStartShape",null)}onEnter(r){const{altKey:n,currentPagePoint:i}=this.editor.inputs;if(this.isWrapMode=this.editor.user.getIsWrapMode(),n){this.parent.transition("scribble_brushing",r);return}this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter(o=>this.editor.isShapeOfType(o,"group")||this.editor.isShapeOrAncestorLocked(o)).map(o=>o.id)),this.info=r,this.initialSelectedShapeIds=this.editor.getSelectedShapeIds().slice(),this.initialStartShape=this.editor.getShapesAtPoint(i)[0],this.hitTestShapes()}onExit(){this.initialSelectedShapeIds=[],this.editor.updateInstanceState({brush:null})}onTick({elapsed:r}){const{editor:n}=this;n.edgeScrollManager.updateEdgeScrolling(r)}onPointerMove(){this.hitTestShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(r){this.editor.setSelectedShapes(this.initialSelectedShapeIds),this.parent.transition("idle",r)}onKeyDown(r){this.editor.inputs.altKey?this.parent.transition("scribble_brushing",r):this.hitTestShapes()}onKeyUp(){this.hitTestShapes()}complete(){this.hitTestShapes(),this.parent.transition("idle")}hitTestShapes(){const{editor:r,excludedShapeIds:n,isWrapMode:i}=this,{inputs:{originPagePoint:o,currentPagePoint:a,shiftKey:s,ctrlKey:l}}=r,c=new Set(s?this.initialSelectedShapeIds:[]),u=i?!l:l,d=st.FromPoints([o,a]),{corners:A}=d;let f,h,p,v,y,b;const x=r.getCurrentPageRenderingShapesSorted(),S=r.getCurrentPageId();e:for(let B=0,T=x.length;B<T;B++){if(p=x[B],n.has(p.id)||c.has(p.id)||(v=r.getShapePageBounds(p),!v))continue e;if(d.contains(v)){this.handleHit(p,a,S,c,A);continue e}if(u||r.isShapeOfType(p,"frame"))continue e;if(d.collides(v)){if(y=r.getShapePageTransform(p),!y)continue e;b=y.clone().invert().applyToPoints(A);const O=r.getShapeGeometry(p);t:for(let P=0;P<4;P++)if(f=b[P],h=b[(P+1)%4],O.hitTestLineSegment(f,h,0)){this.handleHit(p,a,S,c,A);break t}}}const C=r.getInstanceState().brush;(!C||!d.equals(C))&&r.updateInstanceState({brush:{...d.toJson()}});const _=r.getSelectedShapeIds();(_.length!==c.size||_.some(B=>!c.has(B)))&&r.setSelectedShapes(Array.from(c))}onInterrupt(){this.editor.updateInstanceState({brush:null})}handleHit(r,n,i,o,a){if(r.parentId===i){o.add(r.id);return}const s=this.editor.getOutermostSelectableShape(r),l=this.editor.getShapeMask(s.id);l&&!DK(l,a)&&!Is(n,l)||o.add(s.id)}}K(pqe,"id","brushing");const Om={bottom:"ns-resize",top:"ns-resize",left:"ew-resize",right:"ew-resize",bottom_left:"nesw-resize",bottom_right:"nwse-resize",top_left:"nwse-resize",top_right:"nesw-resize",bottom_left_rotate:"swne-rotate",bottom_right_rotate:"senw-rotate",top_left_rotate:"nwse-rotate",top_right_rotate:"nesw-rotate",mobile_rotate:"grabbing"};class gqe extends Ft{constructor(){super(...arguments);K(this,"info",{})}updateCursor(){const r=this.editor.getSelectedShapes(),n=Om[this.info.handle];this.editor.setCursor({type:n,rotation:r.length===1?this.editor.getSelectionRotation():0})}onEnter(r){this.info=r,this.updateCursor()}onPointerMove(){this.editor.inputs.isDragging&&this.startResizing()}onLongPress(){this.startResizing()}startResizing(){this.editor.getIsReadonly()||this.parent.transition("resizing",this.info)}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}K(gqe,"id","pointing_resize_handle");class Y8 extends Ft{constructor(){super(...arguments);K(this,"info",{});K(this,"markId","");K(this,"snapshot",{})}onEnter(r){this.info=r,this.markId=this.editor.markHistoryStoppingPoint("cropping"),this.snapshot=this.createSnapshot(),this.updateShapes()}onPointerMove(){this.updateShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}updateCursor(){if(!this.editor.getSelectedShapes()[0])return;const n=Om[this.info.handle];this.editor.setCursor({type:n,rotation:this.editor.getSelectionRotation()})}updateShapes(){var A;const{shape:r,cursorHandleOffset:n}=this.snapshot;if(!r)return;const i=this.editor.getShapeUtil(r.type);if(!i)return;const o=this.editor.inputs.currentPagePoint.clone().sub(n),a=this.editor.inputs.originPagePoint.clone().sub(n),s=o.clone().sub(a).rot(-r.rotation),l=r.props.crop??Kqt(),c={w:1/(l.bottomRight.x-l.topLeft.x)*r.props.w,h:1/(l.bottomRight.y-l.topLeft.y)*r.props.h},d=(((A=i.onCrop)==null?void 0:A.bind(i))??Wqt)(r,{handle:this.info.handle,change:s,crop:l,uncroppedSize:c,initialShape:this.snapshot.shape});d&&(this.editor.updateShapes([{id:r.id,type:r.type,...d}]),this.updateCursor())}complete(){this.updateShapes(),Sn(this.editor,[this.snapshot.shape.id]),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle"))}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle"))}createSnapshot(){const r=this.editor.getSelectionRotation(),{inputs:{originPagePoint:n}}=this.editor,i=this.editor.getOnlySelectedShape(),o=this.editor.getSelectionRotatedPageBounds(),a=L.RotWith(o.getHandlePoint(this.info.handle),o.point,r),s=L.Sub(n,a);return{shape:i,cursorHandleOffset:s}}}K(Y8,"id","cropping");function mqe(e,t=!1){const r=e.getZoomLevel(),{inputs:{currentPagePoint:n}}=e;return e.getShapeAtPoint(n,{hitInside:!1,hitLabels:t,margin:e.options.hitTestMargin/r,renderingOnly:!0})??e.getSelectedShapeAtPoint(n)}function vqe(e,t,r){if(!t)throw Error("Needs to translate a cropped shape!");const{crop:n}=t.props;if(!n)return;const i=e.inputs.shiftKey?Math.abs(r.x)<Math.abs(r.y)?"x":"y":null;i==="x"?r.x=0:i==="y"&&(r.y=0),r.rot(-t.rotation);const{w:o,h:a}=Jw(t.props,n),s=n.bottomRight.y-n.topLeft.y,l=n.bottomRight.x-n.topLeft.x,c=kn(n);return c.topLeft.x=Math.min(1-l,Math.max(0,c.topLeft.x-r.x/o)),c.topLeft.y=Math.min(1-s,Math.max(0,c.topLeft.y-r.y/a)),c.bottomRight.x=c.topLeft.x+l,c.bottomRight.y=c.topLeft.y+s,{id:t.id,type:t.type,props:{crop:c}}}var EQ;let m6t=(EQ=class extends Ft{onEnter(){this.editor.setCursor({type:"default",rotation:0});const t=this.editor.getOnlySelectedShape();t&&this.editor.setCroppingShape(t.id)}onExit(){this.editor.setCursor({type:"default",rotation:0})}onCancel(){this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})}onPointerDown(t){var r;if(t.accelKey){this.cancel(),this.editor.root.handleEvent(t);return}switch(t.target){case"canvas":{const n=mqe(this.editor);if(n&&!this.editor.isShapeOfType(n,"group")){this.onPointerDown({...t,shape:n,target:"shape"});return}this.cancel(),this.editor.root.handleEvent(t);break}case"shape":{if(t.shape.id===this.editor.getCroppingShapeId()){this.editor.setCurrentTool("select.crop.pointing_crop",t);return}else(r=this.editor.getShapeUtil(t.shape))!=null&&r.canCrop(t.shape)?(this.editor.setCroppingShape(t.shape.id),this.editor.setSelectedShapes([t.shape.id]),this.editor.setCurrentTool("select.crop.pointing_crop",t)):(this.cancel(),this.editor.root.handleEvent(t));break}case"selection":{switch(t.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":{this.editor.setCurrentTool("select.pointing_rotate_handle",{...t,onInteractionEnd:"select.crop.idle"});break}case"top":case"right":case"bottom":case"left":case"top_left":case"top_right":case"bottom_left":case"bottom_right":{this.editor.setCurrentTool("select.crop.pointing_crop_handle",{...t,onInteractionEnd:"select.crop.idle"});break}default:this.cancel()}break}}}onDoubleClick(t){var o;if(this.editor.inputs.shiftKey||t.phase!=="up")return;const r=this.editor.getCroppingShapeId();if(!r)return;const n=this.editor.getShape(r);if(!n)return;const i=this.editor.getShapeUtil(n);if(i){if(t.target==="selection"){(o=i.onDoubleClickEdge)==null||o.call(i,n);return}this.cancel(),this.editor.root.handleEvent(t)}}onKeyDown(){this.nudgeCroppingImage(!1)}onKeyRepeat(){this.nudgeCroppingImage(!0)}onKeyUp(t){switch(t.code){case"Enter":{this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{});break}}}cancel(){this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})}nudgeCroppingImage(t=!1){const{editor:{inputs:{keys:r}}}=this,n=r.has("ShiftLeft"),i=new L(0,0);if(r.has("ArrowLeft")&&(i.x+=1),r.has("ArrowRight")&&(i.x-=1),r.has("ArrowUp")&&(i.y+=1),r.has("ArrowDown")&&(i.y-=1),i.equals(new L(0,0)))return;n&&i.mul(10);const o=this.editor.getShape(this.editor.getCroppingShapeId());if(!o)return;const a=vqe(this.editor,o,i);a&&(t||this.editor.markHistoryStoppingPoint("translate crop"),this.editor.updateShapes([a]))}},K(EQ,"id","idle"),EQ);class yqe extends Ft{onCancel(){this.editor.setCurrentTool("select.crop.idle",{})}onPointerMove(t){this.editor.inputs.isDragging&&this.editor.setCurrentTool("select.crop.translating_crop",t)}onPointerUp(t){this.editor.setCurrentTool("select.crop.idle",t)}}K(yqe,"id","pointing_crop");class X8 extends Ft{constructor(){super(...arguments);K(this,"info",{})}onEnter(r){this.info=r,this.parent.setCurrentToolIdMask(r.onInteractionEnd);const n=this.editor.getSelectedShapes()[0];if(!n)return;const i=Om[this.info.handle];this.editor.setCursor({type:i,rotation:this.editor.getSelectionRotation()}),this.editor.setCroppingShape(n.id)}onExit(){this.editor.setCursor({type:"default",rotation:0}),this.parent.setCurrentToolIdMask(void 0)}onPointerMove(){this.editor.inputs.isDragging&&this.startCropping()}onLongPress(){this.startCropping()}startCropping(){this.editor.getIsReadonly()||this.parent.transition("cropping",{...this.info,onInteractionEnd:this.info.onInteractionEnd})}onPointerUp(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle"))}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle"))}}K(X8,"id","pointing_crop_handle");class wqe extends Ft{constructor(){super(...arguments);K(this,"info",{});K(this,"markId","");K(this,"snapshot",{})}onEnter(r){this.info=r,this.snapshot=this.createSnapshot(),this.markId=this.editor.markHistoryStoppingPoint("translating_crop"),this.editor.setCursor({type:"move",rotation:0}),this.updateShapes()}onExit(){this.editor.setCursor({type:"default",rotation:0})}onPointerMove(){this.updateShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}onKeyDown(r){switch(r.key){case"Alt":case"Shift":{this.updateShapes();return}}}onKeyUp(r){switch(r.key){case"Enter":{this.complete();return}case"Alt":case"Shift":this.updateShapes()}}complete(){this.updateShapes(),this.editor.setCurrentTool("select.crop.idle",this.info)}cancel(){this.editor.bailToMark(this.markId),this.editor.setCurrentTool("select.crop.idle",this.info)}createSnapshot(){return{shape:this.editor.getOnlySelectedShape()}}updateShapes(){const r=this.snapshot.shape;if(!r)return;const{originPagePoint:n,currentPagePoint:i}=this.editor.inputs,o=i.clone().sub(n),a=vqe(this.editor,r,o);a&&this.editor.updateShapes([a])}}K(wqe,"id","translating_crop");class $5 extends Ft{constructor(){super(...arguments);K(this,"markId","");K(this,"didExit",!1)}static children(){return[m6t,wqe,yqe,X8,Y8]}onEnter(){this.didExit=!1,this.markId=this.editor.markHistoryStoppingPoint("crop")}onExit(){this.didExit||(this.didExit=!0,this.editor.squashToMark(this.markId))}onCancel(){this.didExit||(this.didExit=!0,this.editor.bailToMark(this.markId))}}K($5,"id","crop"),K($5,"initial","idle");class bqe extends Ft{constructor(){super(...arguments);K(this,"shapeId","");K(this,"initialHandle",{});K(this,"initialAdjacentHandle",null);K(this,"initialPagePoint",{});K(this,"markId","");K(this,"initialPageTransform");K(this,"initialPageRotation");K(this,"info",{});K(this,"isPrecise",!1);K(this,"isPreciseId",null);K(this,"pointingId",null);K(this,"exactTimeout",-1)}onEnter(r){const{shape:n,isCreating:i,creatingMarkId:o,handle:a}=r;if(this.info=r,this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.shapeId=n.id,this.markId="",i)if(o)this.markId=o;else{const c=this.editor.getMarkIdMatching(`creating:${this.editor.getOnlySelectedShapeId()}`);c&&(this.markId=c)}else this.markId=this.editor.markHistoryStoppingPoint("dragging handle");if(this.initialHandle=kn(a),this.editor.isShapeOfType(n,"line")&&this.initialHandle.type==="create"){this.editor.updateShape({...n,props:{points:{...n.props.points,[a.index]:{id:a.index,index:a.index,x:a.x,y:a.y}}}});const u=this.editor.getShapeHandles(n).find(d=>d.index===a.index);this.initialHandle=kn(u)}this.initialPageTransform=this.editor.getShapePageTransform(n),this.initialPageRotation=this.initialPageTransform.rotation(),this.initialPagePoint=this.editor.inputs.originPagePoint.clone(),this.editor.setCursor({type:i?"cross":"grabbing",rotation:0});const s=this.editor.getShapeHandles(n).sort(ta),l=s.findIndex(c=>c.id===r.handle.id);this.initialAdjacentHandle=null;for(let c=l+1;c<s.length;c++){const u=s[c];if(u.type==="vertex"&&u.id!=="middle"&&u.id!==r.handle.id){this.initialAdjacentHandle=u;break}}if(!this.initialAdjacentHandle)for(let c=s.length-1;c>=0;c--){const u=s[c];if(u.type==="vertex"&&u.id!=="middle"&&u.id!==r.handle.id){this.initialAdjacentHandle=u;break}}if(this.editor.isShapeOfType(n,"arrow")){const c=Ya(this.editor,n)[r.handle.id];this.isPrecise=!1,c?(this.editor.setHintingShapes([c.toId]),this.isPrecise=c.props.isPrecise,this.isPrecise?this.isPreciseId=c.toId:this.resetExactTimeout()):this.editor.setHintingShapes([])}this.update(),this.editor.select(this.shapeId)}resetExactTimeout(){this.exactTimeout!==-1&&this.clearExactTimeout(),this.exactTimeout=this.editor.timers.setTimeout(()=>{this.getIsActive()&&!this.isPrecise&&(this.isPrecise=!0,this.isPreciseId=this.pointingId,this.update()),this.exactTimeout=-1},750)}clearExactTimeout(){this.exactTimeout!==-1&&(clearTimeout(this.exactTimeout),this.exactTimeout=-1)}onPointerMove(){this.update()}onKeyDown(){this.update()}onKeyUp(){this.update()}onPointerUp(){this.complete()}onComplete(){this.update(),this.complete()}onCancel(){this.cancel()}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.setHintingShapes([]),this.editor.snaps.clearIndicators(),this.editor.setCursor({type:"default",rotation:0})}complete(){this.editor.snaps.clearIndicators(),Sn(this.editor,[this.shapeId]);const{onInteractionEnd:r}=this.info;if(this.editor.getInstanceState().isToolLocked&&r){this.editor.setCurrentTool(r,{shapeId:this.shapeId});return}this.parent.transition("idle")}cancel(){this.editor.bailToMark(this.markId),this.editor.snaps.clearIndicators();const{onInteractionEnd:r}=this.info;if(r){this.editor.setCurrentTool(r,{shapeId:this.shapeId});return}this.parent.transition("idle")}update(){var B;const{editor:r,shapeId:n,initialPagePoint:i}=this,{initialHandle:o,initialPageRotation:a,initialAdjacentHandle:s}=this,l=this.editor.getHintingShapeIds(),c=this.editor.user.getIsSnapMode(),{snaps:u,inputs:{currentPagePoint:d,shiftKey:A,ctrlKey:f,altKey:h,pointerVelocity:p}}=r,v=this.info.shape,y=r.getShape(n);if(!y)return;const b=r.getShapeUtil(y);let x=d.clone().sub(i).rot(-a).add(o);if(A&&s&&o.id!=="middle"){const T=L.Angle(s,x),P=PE(T,24)-T;x=L.RotWith(x,s,P)}r.snaps.clearIndicators();let S={...o,x:x.x,y:x.y};if(o.canSnap&&(c?!f:f)){if(!r.getShapePageTransform(y.id))throw Error("Expected a page transform");const O=u.handles.snapHandle({currentShapeId:n,handle:S});O&&(O.nudge.rot(-r.getShapeParentTransform(y).rotation()),x.add(O.nudge),S={...o,x:x.x,y:x.y})}const C=(B=b.onHandleDrag)==null?void 0:B.call(b,y,{handle:S,isPrecise:this.isPrecise||h,initial:v}),_={id:y.id,type:y.type,...C};if(o.type==="vertex"&&this.editor.isShapeOfType(y,"arrow")){const T=Ya(r,y)[o.id];T?l[0]!==T.toId&&(r.setHintingShapes([T.toId]),this.pointingId=T.toId,this.isPrecise=p.len()<.5||h,this.isPreciseId=this.isPrecise?T.toId:null,this.resetExactTimeout()):l.length>0&&(r.setHintingShapes([]),this.pointingId=null,this.isPrecise=!1,this.isPreciseId=null,this.resetExactTimeout())}C&&r.updateShapes([_])}}K(bqe,"id","dragging_handle");function xqe(e){return e.isLabel?[e]:e instanceof bl?e.children.filter(t=>t.isLabel):[]}class Sqe extends Ft{constructor(){super(...arguments);K(this,"hitShapeForPointerUp",null);K(this,"info",{})}onEnter(r){const n=this.editor.getEditingShape();if(!n)throw Error("Entered editing state without an editing shape");this.hitShapeForPointerUp=null,this.info=r,r.isCreatingTextWhileToolLocked&&this.parent.setCurrentToolIdMask("text"),cd(this.editor),this.editor.select(n)}onExit(){var o;const{editingShapeId:r}=this.editor.getCurrentPageState();if(!r)return;this.editor.setEditingShape(null),cd.cancel();const n=this.editor.getShape(r),i=this.editor.getShapeUtil(n);(o=i.onEditEnd)==null||o.call(i,n),this.info.isCreatingTextWhileToolLocked&&(this.parent.setCurrentToolIdMask(void 0),this.editor.setCurrentTool("text",{}))}onPointerMove(r){if(this.hitShapeForPointerUp&&this.editor.inputs.isDragging){if(this.editor.getIsReadonly()||this.hitShapeForPointerUp.isLocked)return;this.editor.select(this.hitShapeForPointerUp),this.parent.transition("translating",r),this.hitShapeForPointerUp=null;return}switch(r.target){case"shape":case"canvas":{cd(this.editor);return}}}onPointerDown(r){switch(this.hitShapeForPointerUp=null,r.target){case"shape":{const{shape:n}=r,i=this.editor.getEditingShape();if(!i)throw Error("Expected an editing shape!");const o=this.editor.getShapeUtil(n).getGeometry(n),a=xqe(o),s=a.length===1?a[0]:void 0,l=this.editor.isShapeOfType(i,"text")&&i.props.text.trim()==="";if(s&&!l){const c=this.editor.getPointInShapeSpace(n,this.editor.inputs.currentPagePoint);if(s.bounds.containsPoint(c,0)&&s.hitTestPoint(c)){if(n.id===i.id)return;this.hitShapeForPointerUp=n,this.editor.markHistoryStoppingPoint("editing on pointer up"),this.editor.select(n.id);return}}else{if(n.id===i.id)this.editor.isShapeOfType(n,"frame")&&(this.editor.setEditingShape(null),this.parent.transition("idle",r));else{this.parent.transition("pointing_shape",r);return}return}break}}this.parent.transition("idle",r),this.editor.root.handleEvent(r)}onPointerUp(r){const n=this.hitShapeForPointerUp;if(!n)return;this.hitShapeForPointerUp=null;const i=this.editor.getShapeUtil(n);if(!n.isLocked){if(this.editor.getIsReadonly()&&!i.canEditInReadOnly(n)){this.parent.transition("pointing_shape",r);return}this.editor.select(n.id),this.editor.setEditingShape(n.id),cd(this.editor)}}onComplete(r){this.parent.transition("idle",r)}onCancel(r){this.parent.transition("idle",r)}}K(Sqe,"id","editing_shape");function uPe(e){const t=e.getOnlySelectedShape();return!!(t&&!e.isShapeOrAncestorLocked(t)&&e.getShapeUtil(t).canCrop(t))}function lI(e,t){const r=e.getSelectedShapeIds(),{currentPagePoint:n}=e.inputs,{shiftKey:i,altKey:o,accelKey:a}=t,s=i||a,l=e.getShapeAtPoint(n,{hitInside:!1,margin:e.options.hitTestMargin/e.getZoomLevel(),hitLabels:!0,renderingOnly:!0,filter:c=>!c.isLocked});if(l){const c=e.getOutermostSelectableShape(l);if(s&&!o)e.cancelDoubleClick(),r.includes(c.id)?(e.markHistoryStoppingPoint("deselecting shape"),e.deselect(c)):(e.markHistoryStoppingPoint("shift selecting shape"),e.setSelectedShapes([...r,c.id]));else{let u;c===l||c.id===e.getFocusedGroupId()||r.includes(c.id)?u=l:u=c,u&&!r.includes(u.id)&&(e.markHistoryStoppingPoint("selecting shape"),e.select(u.id))}}else{if(s)return;{r.length>0&&(e.markHistoryStoppingPoint("selecting none"),e.selectNone());const c=e.getFocusedGroupId();if(Wa(c)){const u=e.getShape(c);e.isPointInShape(u,n,{margin:0,hitInside:!0})||e.setFocusedGroup(null)}}}}const v6t=["Delete","Backspace","[","]","Enter"," ","Shift","Tab"];var IQ;let y6t=(IQ=class extends Ft{onEnter(){this.parent.setCurrentToolIdMask(void 0),cd(this.editor),this.editor.setCursor({type:"default",rotation:0})}onExit(){cd.cancel()}onPointerMove(){cd(this.editor)}onPointerDown(t){const r=t.ctrlKey&&uPe(this.editor);switch(t.target){case"canvas":{const n=mqe(this.editor);if(n&&!n.isLocked){this.onPointerDown({...t,shape:n,target:"shape"});return}const i=this.editor.getSelectedShapeIds(),o=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:a}}=this.editor;if((i.length>1||o&&!this.editor.getShapeUtil(o).hideSelectionBoundsBg(o))&&dPe(this.editor,a)){this.onPointerDown({...t,target:"selection"});return}this.parent.transition("pointing_canvas",t);break}case"shape":{const{shape:n}=t;if(this.isOverArrowLabelTest(n)){this.parent.transition("pointing_arrow_label",t);break}if(this.editor.isShapeOrAncestorLocked(n)){this.parent.transition("pointing_canvas",t);break}this.parent.transition("pointing_shape",t);break}case"handle":{if(this.editor.getIsReadonly())break;this.editor.inputs.altKey?this.parent.transition("pointing_shape",t):this.parent.transition("pointing_handle",t);break}case"selection":{switch(t.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":{if(t.accelKey){this.parent.transition("brushing",t);break}this.parent.transition("pointing_rotate_handle",t);break}case"top":case"right":case"bottom":case"left":case"top_left":case"top_right":case"bottom_left":case"bottom_right":{if(r)this.parent.transition("crop.pointing_crop_handle",t);else{if(t.accelKey){this.parent.transition("brushing",t);break}this.parent.transition("pointing_resize_handle",t)}break}default:{const n=this.editor.getHoveredShape();if(n&&!this.editor.getSelectedShapeIds().includes(n.id)&&!n.isLocked){this.onPointerDown({...t,shape:n,target:"shape"});return}this.parent.transition("pointing_selection",t)}}break}}}onDoubleClick(t){var r,n,i,o;if(!(this.editor.inputs.shiftKey||t.phase!=="up")&&!(t.ctrlKey||t.shiftKey))switch(t.target){case"canvas":{const a=this.editor.getHoveredShape(),s=a&&!this.editor.isShapeOfType(a,"group")?a:this.editor.getSelectedShapeAtPoint(this.editor.inputs.currentPagePoint)??this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:this.editor.options.hitTestMargin/this.editor.getZoomLevel(),hitInside:!1}),l=this.editor.getFocusedGroupId();if(s){if(this.editor.isShapeOfType(s,"group")){lI(this.editor,t);return}else{const c=this.editor.getShape(s.parentId);if(c&&this.editor.isShapeOfType(c,"group")&&!(l&&c.id===l)){lI(this.editor,t);return}}this.onDoubleClick({...t,shape:s,target:"shape"});return}this.editor.inputs.shiftKey||this.handleDoubleClickOnCanvas(t);break}case"selection":{if(this.editor.getIsReadonly())break;const a=this.editor.getOnlySelectedShape();if(a){const s=this.editor.getShapeUtil(a);if(!this.canInteractWithShapeInReadOnly(a))return;if(t.handle==="right"||t.handle==="left"||t.handle==="top"||t.handle==="bottom"){const l=(r=s.onDoubleClickEdge)==null?void 0:r.call(s,a);if(l){this.editor.markHistoryStoppingPoint("double click edge"),this.editor.updateShapes([l]),Sn(this.editor,[a.id]);return}}if(s.canCrop(a)&&!this.editor.isShapeOrAncestorLocked(a)){this.parent.transition("crop",t);return}this.shouldStartEditingShape(a)&&this.startEditingShape(a,t,!0)}break}case"shape":{const{shape:a}=t,s=this.editor.getShapeUtil(a);if(a.type!=="video"&&a.type!=="embed"&&this.editor.getIsReadonly())break;if(s.onDoubleClick){const l=(n=s.onDoubleClick)==null?void 0:n.call(s,a);if(l){this.editor.updateShapes([l]);return}}if(s.canCrop(a)&&!this.editor.isShapeOrAncestorLocked(a)){this.editor.markHistoryStoppingPoint("select and crop"),this.editor.select((i=t.shape)==null?void 0:i.id),this.parent.transition("crop",t);return}this.shouldStartEditingShape(a)?this.startEditingShape(a,t,!0):this.handleDoubleClickOnCanvas(t);break}case"handle":{if(this.editor.getIsReadonly())break;const{shape:a,handle:s}=t,l=this.editor.getShapeUtil(a),c=(o=l.onDoubleClickHandle)==null?void 0:o.call(l,a,s);c?this.editor.updateShapes([c]):this.shouldStartEditingShape(a)&&this.startEditingShape(a,t,!0)}}}onRightClick(t){switch(t.target){case"canvas":{const r=this.editor.getHoveredShape(),n=r&&!this.editor.isShapeOfType(r,"group")?r:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:this.editor.options.hitTestMargin/this.editor.getZoomLevel(),hitInside:!1,hitLabels:!0,hitLocked:!0,hitFrameInside:!0,renderingOnly:!0});if(n){this.onRightClick({...t,shape:n,target:"shape"});return}const i=this.editor.getSelectedShapeIds(),o=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:a}}=this.editor;if((i.length>1||o&&!this.editor.getShapeUtil(o).hideSelectionBoundsBg(o))&&dPe(this.editor,a)){this.onRightClick({...t,target:"selection"});return}this.editor.selectNone();break}case"shape":{const{selectedShapeIds:r}=this.editor.getCurrentPageState(),{shape:n}=t,i=this.editor.getOutermostSelectableShape(n,o=>!r.includes(o.id));!r.includes(i.id)&&!this.editor.findShapeAncestor(i,o=>r.includes(o.id))&&(this.editor.markHistoryStoppingPoint("selecting shape"),this.editor.setSelectedShapes([i.id]));break}}}onCancel(){this.editor.getFocusedGroupId()!==this.editor.getCurrentPageId()&&this.editor.getSelectedShapeIds().length>0?this.editor.popFocusedGroupId():(this.editor.markHistoryStoppingPoint("clearing selection"),this.editor.selectNone())}onKeyDown(t){switch(t.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{this.nudgeSelectedShapes(!1);return}}if(xi.editOnType.get()&&!v6t.includes(t.key)&&!t.altKey&&!t.ctrlKey){const r=this.editor.getOnlySelectedShape();if(r&&this.editor.isShapeOfType(r,"note")&&this.shouldStartEditingShape(r)){this.startEditingShape(r,{...t,target:"shape",shape:r},!0);return}}}onKeyRepeat(t){switch(t.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{this.nudgeSelectedShapes(!0);break}}}onKeyUp(t){switch(t.code){case"Enter":{const r=this.editor.getSelectedShapes();if(r.every(i=>this.editor.isShapeOfType(i,"group"))){this.editor.setSelectedShapes(r.flatMap(i=>this.editor.getSortedChildIdsForParent(i.id)));return}const n=this.editor.getOnlySelectedShape();if(n&&this.shouldStartEditingShape(n)){this.startEditingShape(n,{...t,target:"shape",shape:n},!0);return}uPe(this.editor)&&this.parent.transition("crop",t);break}}}shouldStartEditingShape(t=this.editor.getOnlySelectedShape()){return!t||this.editor.isShapeOrAncestorLocked(t)&&t.type!=="embed"||!this.canInteractWithShapeInReadOnly(t)?!1:this.editor.getShapeUtil(t).canEdit(t)}startEditingShape(t,r,n){this.editor.isShapeOrAncestorLocked(t)&&t.type!=="embed"||(this.editor.markHistoryStoppingPoint("editing shape"),ZE(this.editor,t,n),this.parent.transition("editing_shape",r))}isOverArrowLabelTest(t){if(!t)return!1;const r=this.editor.getPointInShapeSpace(t,this.editor.inputs.currentPagePoint);if(this.editor.isShapeOfType(t,"arrow")){const n=this.editor.getShapeGeometry(t).children[1];if(n&&Is(r,n.vertices))return!0}return!1}handleDoubleClickOnCanvas(t){if(this.editor.getIsReadonly()||!this.editor.options.createTextOnCanvasDoubleClick)return;this.editor.markHistoryStoppingPoint("creating text shape");const r=cn(),{x:n,y:i}=this.editor.inputs.currentPagePoint;this.editor.createShapes([{id:r,type:"text",x:n,y:i,props:{text:"",autoSize:!0}}]);const o=this.editor.getShape(r);if(!o)return;const a=this.editor.getShapeUtil(o);this.editor.getIsReadonly()&&!a.canEditInReadOnly(o)||(this.editor.setEditingShape(r),this.editor.select(r),this.parent.transition("editing_shape",t))}nudgeSelectedShapes(t=!1){const{editor:{inputs:{keys:r}}}=this,n=r.has("ShiftLeft"),i=new L(0,0);if(r.has("ArrowLeft")&&(i.x-=1),r.has("ArrowRight")&&(i.x+=1),r.has("ArrowUp")&&(i.y-=1),r.has("ArrowDown")&&(i.y+=1),i.equals(new L(0,0)))return;t||this.editor.markHistoryStoppingPoint("nudge shapes");const{gridSize:o}=this.editor.getDocumentSettings(),a=this.editor.getInstanceState().isGridMode?n?o*x6t:o:n?w6t:b6t,s=this.editor.getSelectedShapeIds();this.editor.nudgeShapes(s,i.mul(a)),Sn(this.editor,s)}canInteractWithShapeInReadOnly(t){return!!(!this.editor.getIsReadonly()||this.editor.getShapeUtil(t).canEditInReadOnly(t))}},K(IQ,"id","idle"),IQ);const w6t=10,b6t=1,x6t=5;function dPe(e,t){const r=e.getSelectionRotatedPageBounds();if(!r)return!1;const n=e.getSelectionRotation();return n?Is(t,r.corners.map(i=>L.RotWith(i,r.point,n))):r.containsPoint(t)}class Cqe extends Ft{constructor(){super(...arguments);K(this,"shapeId","");K(this,"markId","");K(this,"wasAlreadySelected",!1);K(this,"didDrag",!1);K(this,"didCtrlOnEnter",!1);K(this,"info",{});K(this,"_labelDragOffset",new L(0,0))}updateCursor(){this.editor.setCursor({type:"grabbing",rotation:0})}onEnter(r){const{shape:n}=r;this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.info=r,this.shapeId=n.id,this.didDrag=!1,this.didCtrlOnEnter=r.accelKey,this.wasAlreadySelected=this.editor.getOnlySelectedShapeId()===n.id,this.updateCursor();const o=this.editor.getShapeGeometry(n).children[1];if(!o)throw Error(`Expected to find an arrow label geometry for shape: ${n.id}`);const{currentPagePoint:a}=this.editor.inputs,s=this.editor.getPointInShapeSpace(n,a);if(this._labelDragOffset=L.Sub(o.center,s),this.markId=this.editor.markHistoryStoppingPoint("label-drag start"),r.shiftKey||r.accelKey){const c=this.editor.getSelectedShapeIds();this.editor.setSelectedShapes([...c,this.shapeId]);return}this.editor.setSelectedShapes([this.shapeId])}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.setCursor({type:"default",rotation:0})}onPointerMove(){const{isDragging:r}=this.editor.inputs;if(!r)return;if(this.didCtrlOnEnter){this.parent.transition("brushing",this.info);return}const n=this.editor.getShape(this.shapeId);if(!n)return;const i=Jc(this.editor,n),o=this.editor.getShapeGeometry(n),a=o.children[0],s=this.editor.getPointInShapeSpace(n,this.editor.inputs.currentPagePoint),l=a.nearestPoint(L.Add(s,this._labelDragOffset));let c;if(i.isStraight){const u=L.Dist(i.start.point,i.end.point);c=1-L.Dist(i.end.point,l)/u}else{const{_center:u,measure:d,angleEnd:A,angleStart:f}=o.children[0];c=H3(d,f,A,u.angle(l))}isNaN(c)&&(c=.5),this.didDrag=!0,this.editor.updateShape({id:n.id,type:n.type,props:{labelPosition:c}})}onPointerUp(){const r=this.editor.getShape(this.shapeId);r&&(this.didDrag||!this.wasAlreadySelected?this.complete():this.editor.getIsReadonly()||(this.editor.setEditingShape(r.id),this.editor.setCurrentTool("select.editing_shape")))}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}K(Cqe,"id","pointing_arrow_label");class _qe extends Ft{onEnter(t){t.shiftKey||t.accelKey||this.editor.getSelectedShapeIds().length>0&&(this.editor.markHistoryStoppingPoint("selecting none"),this.editor.selectNone())}onPointerMove(t){this.editor.inputs.isDragging&&this.parent.transition("brushing",t)}onPointerUp(t){lI(this.editor,t),this.complete()}onComplete(){this.complete()}onInterrupt(){this.parent.transition("idle")}complete(){this.parent.transition("idle")}}K(_qe,"id","pointing_canvas");class Eqe extends Ft{constructor(){super(...arguments);K(this,"didCtrlOnEnter",!1);K(this,"info",{})}onEnter(r){this.info=r,this.didCtrlOnEnter=r.accelKey;const{shape:n}=r;if(this.editor.isShapeOfType(n,"arrow")){const i=Ya(this.editor,n)[r.handle.id];i&&this.editor.setHintingShapes([i.toId])}this.editor.setCursor({type:"grabbing",rotation:0})}onExit(){this.editor.setHintingShapes([]),this.editor.setCursor({type:"default",rotation:0})}onPointerUp(){const{shape:r,handle:n}=this.info;if(this.editor.isShapeOfType(r,"note")){const{editor:i}=this,o=APe(i,r,n,!1);if(o){ZE(i,o,!0);return}}this.parent.transition("idle",this.info)}onPointerMove(r){const{editor:n}=this;n.inputs.isDragging&&(this.didCtrlOnEnter?this.parent.transition("brushing",r):this.startDraggingHandle())}onLongPress(){this.startDraggingHandle()}startDraggingHandle(){const{editor:r}=this;if(r.getIsReadonly())return;const{shape:n,handle:i}=this.info;if(r.isShapeOfType(n,"note")){const o=APe(r,n,i,!0);if(o){const a=r.getPointInParentSpace(o,r.inputs.originPagePoint).sub(L.Rot(AT.clone().mul(n.props.scale),o.rotation));r.updateShape({...o,x:a.x,y:a.y}),r.setHoveredShape(o.id).select(o.id).setCurrentTool("select.translating",{...this.info,target:"shape",shape:r.getShape(o),onInteractionEnd:"note",isCreating:!0,onCreate:()=>{ZE(r,o,!0)}});return}}this.parent.transition("dragging_handle",this.info)}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.parent.transition("idle")}}K(Eqe,"id","pointing_handle");function APe(e,t,r,n){const i=e.getShapePageTransform(t.id),o=i.point(),a=i.rotation(),l=j5e(e,o,a,t.props.growY*t.props.scale,0,t.props.scale)[r.index];if(l)return N5e(e,t,l,a,n)}class Iqe extends Ft{constructor(){super(...arguments);K(this,"info",{})}updateCursor(){this.editor.setCursor({type:Om[this.info.handle],rotation:this.editor.getSelectionRotation()})}onEnter(r){this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.info=r,this.updateCursor()}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.setCursor({type:"default",rotation:0})}onPointerMove(){this.editor.inputs.isDragging&&this.startRotating()}onLongPress(){this.startRotating()}startRotating(){this.editor.getIsReadonly()||this.parent.transition("rotating",this.info)}onPointerUp(){this.complete()}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}K(Iqe,"id","pointing_rotate_handle");class Bqe extends Ft{constructor(){super(...arguments);K(this,"info",{})}onEnter(r){this.info=r}onPointerUp(r){lI(this.editor,r),this.parent.transition("idle",r)}onPointerMove(r){this.editor.inputs.isDragging&&this.startTranslating(r)}onLongPress(r){this.startTranslating(r)}startTranslating(r){this.editor.getIsReadonly()||this.parent.transition("translating",r)}onDoubleClick(r){var o,a;const n=this.editor.getHoveredShape(),i=n&&!this.editor.isShapeOfType(n,"group")?n:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{hitInside:!0,margin:0,renderingOnly:!0});if(i){this.parent.transition("idle"),(a=(o=this.parent).onDoubleClick)==null||a.call(o,{...r,target:"shape",shape:this.editor.getShape(i)});return}}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.parent.transition("idle")}}K(Bqe,"id","pointing_selection");class Pqe extends Ft{constructor(){super(...arguments);K(this,"hitShape",{});K(this,"hitShapeForPointerUp",{});K(this,"isDoubleClick",!1);K(this,"didCtrlOnEnter",!1);K(this,"didSelectOnEnter",!1)}onEnter(r){const n=this.editor.getSelectedShapeIds(),i=this.editor.getSelectionRotatedPageBounds(),o=this.editor.getFocusedGroupId(),{inputs:{currentPagePoint:a}}=this.editor,{shiftKey:s,altKey:l,accelKey:c}=r;this.hitShape=r.shape,this.isDoubleClick=!1,this.didCtrlOnEnter=c;const u=this.editor.getOutermostSelectableShape(r.shape),d=this.editor.findShapeAncestor(u,A=>n.includes(A.id));if(this.didCtrlOnEnter||this.editor.getShapeUtil(r.shape).onClick||u.id===o||n.includes(u.id)||d||n.length>1&&(i!=null&&i.containsPoint(a))){this.didSelectOnEnter=!1,this.hitShapeForPointerUp=u;return}this.didSelectOnEnter=!0,s&&!l?(this.editor.cancelDoubleClick(),n.includes(u.id)||(this.editor.markHistoryStoppingPoint("shift selecting shape"),this.editor.setSelectedShapes([...n,u.id]))):(this.editor.markHistoryStoppingPoint("selecting shape"),this.editor.setSelectedShapes([u.id]))}onPointerUp(r){var u;const n=this.editor.getSelectedShapeIds(),i=this.editor.getFocusedGroupId(),o=this.editor.getZoomLevel(),{inputs:{currentPagePoint:a}}=this.editor,s=r.shiftKey||r.accelKey,l=this.editor.getShapeAtPoint(a,{margin:this.editor.options.hitTestMargin/o,hitInside:!0,renderingOnly:!0})??this.hitShape,c=l?this.editor.getOutermostSelectableShape(l):this.hitShapeForPointerUp;if(c){const d=this.editor.getShapeUtil(c);if(d.onClick){const A=(u=d.onClick)==null?void 0:u.call(d,c);if(A){this.editor.markHistoryStoppingPoint("shape on click"),this.editor.updateShapes([A]),this.parent.transition("idle",r);return}}if(c.id===i){n.length>0?(this.editor.markHistoryStoppingPoint("clearing shape ids"),this.editor.setSelectedShapes([])):this.editor.popFocusedGroupId(),this.parent.transition("idle",r);return}}if(!this.didSelectOnEnter){const d=this.editor.getOutermostSelectableShape(l,A=>!n.includes(A.id));if(n.includes(d.id))if(s)this.editor.markHistoryStoppingPoint("deselecting on pointer up"),this.editor.deselect(c);else if(n.includes(c.id)){if(n.length===1){const A=this.editor.getShapeUtil(c).getGeometry(c),f=xqe(A),h=f.length===1?f[0]:void 0;if(h){const p=this.editor.getPointInShapeSpace(c,a);if(h.bounds.containsPoint(p,0)&&h.hitTestPoint(p)){this.editor.run(()=>{this.editor.markHistoryStoppingPoint("editing on pointer up"),this.editor.select(c.id);const v=this.editor.getShapeUtil(c);this.editor.getIsReadonly()&&!v.canEditInReadOnly(c)||(this.editor.setEditingShape(c.id),this.editor.setCurrentTool("select.editing_shape"),this.isDoubleClick&&this.editor.emit("select-all-text",{shapeId:c.id}))});return}}}this.editor.markHistoryStoppingPoint("selecting on pointer up"),this.editor.select(c.id)}else this.editor.markHistoryStoppingPoint("selecting on pointer up"),this.editor.select(c);else if(s){const A=this.editor.getShapeAncestors(d);this.editor.markHistoryStoppingPoint("shift deselecting on pointer up"),this.editor.setSelectedShapes([...this.editor.getSelectedShapeIds().filter(f=>!A.find(h=>h.id===f)),d.id])}else this.editor.markHistoryStoppingPoint("selecting on pointer up"),this.editor.setSelectedShapes([d.id])}this.parent.transition("idle",r)}onDoubleClick(){this.isDoubleClick=!0}onPointerMove(r){this.editor.inputs.isDragging&&(this.didCtrlOnEnter?this.parent.transition("brushing",r):this.startTranslating(r))}onLongPress(r){this.startTranslating(r)}startTranslating(r){this.editor.getIsReadonly()||(this.editor.focus(),this.parent.transition("translating",r))}onCancel(){this.cancel()}onComplete(){this.cancel()}onInterrupt(){this.cancel()}cancel(){this.parent.transition("idle")}}K(Pqe,"id","pointing_shape");class Tqe extends Ft{constructor(){super(...arguments);K(this,"info",{});K(this,"markId","");K(this,"didHoldCommand",!1);K(this,"creationCursorOffset",{x:0,y:0});K(this,"snapshot",{})}onEnter(r){const{isCreating:n=!1,creatingMarkId:i,creationCursorOffset:o={x:0,y:0}}=r;if(this.info=r,this.didHoldCommand=!1,this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.creationCursorOffset=o,this.snapshot=this._createSnapshot(),this.markId="",n)if(i)this.markId=i;else{const a=this.editor.getMarkIdMatching(`creating:${this.editor.getOnlySelectedShapeId()}`);a&&(this.markId=a)}else this.markId=this.editor.markHistoryStoppingPoint("starting resizing");n&&this.editor.setCursor({type:"cross",rotation:0}),this.handleResizeStart(),this.updateShapes()}onTick({elapsed:r}){const{editor:n}=this;n.edgeScrollManager.updateEdgeScrolling(r)}onPointerMove(){this.updateShapes()}onKeyDown(){this.updateShapes()}onKeyUp(){this.updateShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}complete(){var r,n;if(Sn(this.editor,this.snapshot.selectedShapeIds),this.handleResizeEnd(),this.info.isCreating&&this.info.onCreate){(n=(r=this.info).onCreate)==null||n.call(r,this.editor.getOnlySelectedShape());return}if(this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd){this.editor.setCurrentTool(this.info.onInteractionEnd,{});return}this.parent.transition("idle")}handleResizeStart(){const{shapeSnapshots:r}=this.snapshot,n=[];r.forEach(({shape:i})=>{var s;const o=this.editor.getShapeUtil(i),a=(s=o.onResizeStart)==null?void 0:s.call(o,i);a&&n.push(a)}),n.length>0&&this.editor.updateShapes(n)}handleResizeEnd(){const{shapeSnapshots:r}=this.snapshot,n=[];r.forEach(({shape:i})=>{var l;const o=this.editor.getShape(i.id),a=this.editor.getShapeUtil(i),s=(l=a.onResizeEnd)==null?void 0:l.call(a,i,o);s&&n.push(s)}),n.length>0&&this.editor.updateShapes(n)}updateShapes(){const{altKey:r,shiftKey:n}=this.editor.inputs,{frames:i,shapeSnapshots:o,selectionBounds:a,cursorHandleOffset:s,selectedShapeIds:l,selectionRotation:c,canShapesDeform:u}=this.snapshot;let d=n||!u;if(o.size===1){const T=[...o.values()][0];this.editor.isShapeOfType(T.shape,"text")&&(d=!(this.info.handle==="left"||this.info.handle==="right"))}const{ctrlKey:A}=this.editor.inputs,f=this.editor.inputs.currentPagePoint.clone().sub(s).sub(this.creationCursorOffset),h=this.editor.inputs.originPagePoint.clone().sub(s);if(this.editor.getInstanceState().isGridMode&&!A){const{gridSize:T}=this.editor.getDocumentSettings();f.snapToGrid(T)}const p=this.info.handle,v=fPe(p,Math.PI);if(this.editor.snaps.clearIndicators(),(this.editor.user.getIsSnapMode()?!A:A)&&c%En===0){const{nudge:T}=this.editor.snaps.shapeBounds.snapResizeShapes({dragDelta:L.Sub(f,h),initialSelectionPageBounds:this.snapshot.initialSelectionPageBounds,handle:fPe(p,c),isAspectRatioLocked:d,isResizingFromCenter:r});f.add(T)}const b=L.RotWith(r?a.center:a.getHandlePoint(v),a.point,c),x=L.Sub(f,b).rot(-c),S=L.Sub(h,b).rot(-c),C=L.DivV(x,S);Number.isFinite(C.x)||(C.x=1),Number.isFinite(C.y)||(C.y=1);const _=p==="top"||p==="bottom",B=p==="left"||p==="right";d?B?C.y=Math.abs(C.x):_?C.x=Math.abs(C.y):Math.abs(C.x)>Math.abs(C.y)?C.y=Math.abs(C.x)*(C.y<0?-1:1):C.x=Math.abs(C.y)*(C.x<0?-1:1):(_&&(C.x=1),B&&(C.y=1)),this.info.isCreating||this.updateCursor({dragHandle:p,isFlippedX:C.x<0,isFlippedY:C.y<0,rotation:c});for(const T of o.keys()){const O=o.get(T);this.editor.resizeShape(T,C,{initialShape:O.shape,initialBounds:O.bounds,initialPageTransform:O.pageTransform,dragHandle:p,mode:l.length===1&&T===l[0]?"resize_bounds":"scale_shape",scaleOrigin:b,isAspectRatioLocked:d,scaleAxisRotation:c,skipStartAndEndCallbacks:!0})}if(this.editor.inputs.ctrlKey){this.didHoldCommand=!0;for(const{id:T,children:O}of i){if(!O.length)continue;const P=o.get(T).shape,F=this.editor.getShape(T);if(!(P&&F))continue;const U=F.x-P.x,k=F.y-P.y,M=new L(U,k).rot(-P.rotation);if(M.x!==0||M.y!==0)for(const D of O)this.editor.updateShape({id:D.id,type:D.type,x:D.x-M.x,y:D.y-M.y})}}else if(this.didHoldCommand){this.didHoldCommand=!1;for(const{children:T}of i)if(T.length)for(const O of T)this.editor.updateShape({id:O.id,type:O.type,x:O.x,y:O.y})}}updateCursor({dragHandle:r,isFlippedX:n,isFlippedY:i,rotation:o}){const a={...this.editor.getInstanceState().cursor};switch(r){case"top_left":case"bottom_right":{a.type="nwse-resize",n!==i&&(a.type="nesw-resize");break}case"top_right":case"bottom_left":{a.type="nesw-resize",n!==i&&(a.type="nwse-resize");break}}a.rotation=o,this.editor.setCursor(a)}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.setCursor({type:"default",rotation:0}),this.editor.snaps.clearIndicators()}_createSnapshot(){const r=this.editor.getSelectedShapeIds(),n=this.editor.getSelectionRotation(),{inputs:{originPagePoint:i}}=this.editor,o=this.editor.getSelectionRotatedPageBounds(),a=L.RotWith(o.getHandlePoint(this.info.handle),o.point,n),s=L.Sub(i,a),l=new Map,c=[];r.forEach(d=>{const A=this.editor.getShape(d);if(A){if(A.type==="frame"&&c.push({id:d,children:lr(this.editor.getSortedChildIdsForParent(A).map(f=>this.editor.getShape(f)))}),l.set(A.id,this._createShapeSnapshot(A)),this.editor.isShapeOfType(A,"frame")&&r.length===1)return;this.editor.visitDescendants(A.id,f=>{const h=this.editor.getShape(f);if(h&&(l.set(h.id,this._createShapeSnapshot(h)),this.editor.isShapeOfType(h,"frame")))return!1})}});const u=![...l.values()].some(d=>!vUe(d.pageRotation,n)||d.isAspectRatioLocked);return{shapeSnapshots:l,selectionBounds:o,cursorHandleOffset:s,selectionRotation:n,selectedShapeIds:r,canShapesDeform:u,initialSelectionPageBounds:this.editor.getSelectionPageBounds(),frames:c}}_createShapeSnapshot(r){const n=this.editor.getShapePageTransform(r),i=this.editor.getShapeUtil(r);return{shape:r,bounds:this.editor.getShapeGeometry(r).bounds,pageTransform:n,pageRotation:ct.Decompose(n).rotation,isAspectRatioLocked:i.isAspectRatioLocked(r)}}}K(Tqe,"id","resizing");const q4=["top","top_right","right","bottom_right","bottom","bottom_left","left","top_left"];function fPe(e,t){t=t%ln;const r=Math.round(t/(jr/4)),n=q4.indexOf(e);return q4[(n+r)%q4.length]}const hPe=Math.PI/180;class Oqe extends Ft{constructor(){super(...arguments);K(this,"snapshot",{});K(this,"info",{});K(this,"markId","")}onEnter(r){this.info=r,this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.markId=this.editor.markHistoryStoppingPoint("rotate start");const n=i$e({editor:this.editor,ids:this.editor.getSelectedShapeIds()});if(!n)return this.parent.transition("idle",this.info);this.snapshot=n;const i=this._getRotationFromPointerPosition({snapToNearestDegree:!1});IC({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!1}),snapshot:this.snapshot,stage:"start"}),this.editor.setCursor({type:Om[this.info.handle],rotation:i+this.snapshot.initialShapesRotation})}onExit(){this.editor.setCursor({type:"default",rotation:0}),this.parent.setCurrentToolIdMask(void 0),this.snapshot={}}onPointerMove(){this.update()}onKeyDown(){this.update()}onKeyUp(){this.update()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}update(){const r=this._getRotationFromPointerPosition({snapToNearestDegree:!1});IC({editor:this.editor,delta:r,snapshot:this.snapshot,stage:"update"}),this.editor.setCursor({type:Om[this.info.handle],rotation:r+this.snapshot.initialShapesRotation})}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)}complete(){IC({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!0}),snapshot:this.snapshot,stage:"end"}),Sn(this.editor,this.snapshot.shapeSnapshots.map(r=>r.shape.id)),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)}_getRotationFromPointerPosition({snapToNearestDegree:r}){const n=this.editor.getSelectionRotation(),i=this.editor.getSelectionRotatedPageBounds(),{inputs:{shiftKey:o,currentPagePoint:a}}=this.editor,{initialCursorAngle:s,initialShapesRotation:l}=this.snapshot;if(!i)return l;const u=i.center.clone().rotWith(i.point,n).angle(a)-s;let d=l+u;if(o)d=PE(d,24);else if(r&&(d=Math.round(d/hPe)*hPe,this.editor.getInstanceState().isCoarsePointer)){const A=PE(d,4),f=xC(d,A);Math.abs(f)<_1t(5)&&(d=A)}return d-l}}K(Oqe,"id","rotating");class Rqe extends Ft{constructor(){super(...arguments);K(this,"hits",new Set);K(this,"size",0);K(this,"scribbleId","id");K(this,"initialSelectedShapeIds",new Set);K(this,"newlySelectedShapeIds",new Set)}onEnter(){this.initialSelectedShapeIds=new Set(this.editor.inputs.shiftKey?this.editor.getSelectedShapeIds():[]),this.newlySelectedShapeIds=new Set,this.size=0,this.hits.clear();const r=this.editor.scribbles.addScribble({color:"selection-stroke",opacity:.32,size:12});this.scribbleId=r.id,this.updateScribbleSelection(!0),this.editor.updateInstanceState({brush:null})}onExit(){this.editor.scribbles.stop(this.scribbleId)}onPointerMove(){this.updateScribbleSelection(!0)}onPointerUp(){this.complete()}onKeyDown(){this.updateScribbleSelection(!1)}onKeyUp(){this.editor.inputs.altKey?this.updateScribbleSelection(!1):this.parent.transition("brushing")}onCancel(){this.cancel()}onComplete(){this.complete()}pushPointToScribble(){const{x:r,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,r,n)}updateScribbleSelection(r){const{editor:n}=this,i=this.editor.getCurrentPageRenderingShapesSorted(),{inputs:{shiftKey:o,originPagePoint:a,previousPagePoint:s,currentPagePoint:l}}=this.editor,{newlySelectedShapeIds:c,initialSelectedShapeIds:u}=this;r&&this.pushPointToScribble();const d=i;let A,f,h,p;const v=0;for(let x=0,S=d.length;x<S;x++){if(A=d[x],n.isShapeOfType(A,"group")||c.has(A.id)||n.isShapeOrAncestorLocked(A)||(f=n.getShapeGeometry(A),n.isShapeOfType(A,"frame")&&f.bounds.containsPoint(n.getPointInShapeSpace(A,a))))continue;const C=n.getShapePageTransform(A);if(!f||!C)continue;const _=C.clone().invert();h=_.applyToPoint(s),p=_.applyToPoint(l);const{bounds:B}=f;if(!(B.minX-v>Math.max(h.x,p.x)||B.minY-v>Math.max(h.y,p.y)||B.maxX+v<Math.min(h.x,p.x)||B.maxY+v<Math.min(h.y,p.y))&&f.hitTestLineSegment(h,p,v)){const T=this.editor.getOutermostSelectableShape(A),O=this.editor.getShapeMask(T.id);if(O&&kK(s,l,O)!==null&&!Is(l,O))continue;c.add(T.id)}}const y=n.getSelectedShapeIds(),b=new Set(o?[...c,...u]:[...c]);(y.length!==b.size||y.some(x=>!b.has(x)))&&this.editor.setSelectedShapes(Array.from(b))}complete(){this.updateScribbleSelection(!0),this.parent.transition("idle")}cancel(){this.editor.setSelectedShapes([...this.initialSelectedShapeIds]),this.parent.transition("idle")}}K(Rqe,"id","scribble_brushing");var S6t=Object.create,Mqe=Object.defineProperty,C6t=Object.getOwnPropertyDescriptor,_6t=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Fqe=e=>{throw TypeError(e)},kqe=(e,t,r)=>t in e?Mqe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E6t=e=>[,,,S6t(null)],Uqe=["class","method","getter","setter","accessor","field","value","get","set"],Dqe=e=>e!==void 0&&typeof e!="function"?Fqe("Function expected"):e,I6t=(e,t,r,n,i)=>({kind:Uqe[e],name:t,metadata:n,addInitializer:o=>r._?Fqe("Already initialized"):i.push(Dqe(o||null))}),B6t=(e,t)=>kqe(t,_6t("metadata"),e[3]),P6t=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},T6t=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=Uqe[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,C6t(i,r)),y=n.length-1;y>=0;y--)l=I6t(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,Dqe(a)&&(v[h]=a);return v&&Mqe(i,r,v),i},z4=(e,t,r)=>kqe(e,typeof t!="symbol"?t+"":t,r),jqe,mT;const O6t=20,R6t=100;jqe=[Ja];class J8{constructor(t){this.editor=t,P6t(mT,5,this),z4(this,"prevDroppingShapeId",null),z4(this,"droppingNodeTimer",null),z4(this,"first",!0),t.disposables.add(this.dispose)}updateDroppingNode(t,r){var n;this.first&&(this.editor.setHintingShapes(t.map(i=>this.editor.findShapeAncestor(i,o=>o.type!=="group")).filter(i=>i)),this.prevDroppingShapeId=((n=this.editor.getDroppingOverShape(this.editor.inputs.originPagePoint,t))==null?void 0:n.id)??null,this.first=!1),this.droppingNodeTimer===null?this.setDragTimer(t,O6t,r):this.editor.inputs.pointerVelocity.len()>.5&&(clearTimeout(this.droppingNodeTimer),this.setDragTimer(t,R6t,r))}setDragTimer(t,r,n){this.droppingNodeTimer=this.editor.timers.setTimeout(()=>{this.editor.run(()=>{this.handleDrag(this.editor.inputs.currentPagePoint,t,n)}),this.droppingNodeTimer=null},r)}handleDrag(t,r,n){var l,c,u,d,A;r=lr(r.map(f=>this.editor.getShape(f.id)));const i=((l=this.editor.getDroppingOverShape(t,r))==null?void 0:l.id)??null;if(i===this.prevDroppingShapeId){this.hintParents(r);return}const{prevDroppingShapeId:o}=this,a=o&&this.editor.getShape(o),s=i&&this.editor.getShape(i);a&&((u=(c=this.editor.getShapeUtil(a)).onDragShapesOut)==null||u.call(c,a,r)),s&&((A=(d=this.editor.getShapeUtil(s)).onDragShapesOver)==null||A.call(d,s,r)),this.hintParents(r),n==null||n(),this.prevDroppingShapeId=i}hintParents(t){const r=new Map;for(const i of t){const o=this.editor.findShapeAncestor(i,a=>a.type!=="group");o&&(r.has(o.id)||r.set(o.id,[]),r.get(o.id).push(i.id))}const n=[];for(const[i,o]of r){const a=this.editor.getShape(i);a&&D3e(this.editor,a).length<o.length&&n.push(a.id)}this.editor.setHintingShapes(n)}dropShapes(t){var n,i;const{prevDroppingShapeId:r}=this;if(this.handleDrag(this.editor.inputs.currentPagePoint,t),r){const o=this.editor.getShape(r);if(!o)return;(i=(n=this.editor.getShapeUtil(o)).onDropShapesOver)==null||i.call(n,o,t)}}clear(){this.prevDroppingShapeId=null,this.droppingNodeTimer!==null&&clearTimeout(this.droppingNodeTimer),this.droppingNodeTimer=null,this.editor.setHintingShapes([]),this.first=!0}dispose(){this.clear()}}mT=E6t();T6t(mT,1,"dispose",jqe,J8);B6t(mT,J8);var M6t=Object.create,Lqe=Object.defineProperty,F6t=Object.getOwnPropertyDescriptor,Nqe=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),$qe=e=>{throw TypeError(e)},Qqe=(e,t,r)=>t in e?Lqe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k6t=e=>[,,,M6t((e==null?void 0:e[Nqe("metadata")])??null)],Hqe=["class","method","getter","setter","accessor","field","value","get","set"],qqe=e=>e!==void 0&&typeof e!="function"?$qe("Function expected"):e,U6t=(e,t,r,n,i)=>({kind:Hqe[e],name:t,metadata:n,addInitializer:o=>r._?$qe("Already initialized"):i.push(qqe(o||null))}),D6t=(e,t)=>Qqe(t,Nqe("metadata"),e[3]),j6t=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},L6t=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=Hqe[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,F6t(i,r)),y=n.length-1;y>=0;y--)l=U6t(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,qqe(a)&&(v[h]=a);return v&&Lqe(i,r,v),i},CA=(e,t,r)=>Qqe(e,typeof t!="symbol"?t+"":t,r),zqe,Q5,vT;class yT extends(Q5=Ft,zqe=[Ja],Q5){constructor(){super(...arguments),j6t(vT,5,this),CA(this,"info",{}),CA(this,"selectionSnapshot",{}),CA(this,"snapshot",{}),CA(this,"markId",""),CA(this,"isCloning",!1),CA(this,"isCreating",!1),CA(this,"dragAndDropManager",new J8(this.editor))}onCreate(t){}onEnter(t){var o;const{isCreating:r=!1,creatingMarkId:n,onCreate:i=()=>{}}=t;if(!((o=this.editor.getSelectedShapeIds())!=null&&o.length)){this.parent.transition("idle");return}if(this.info=t,this.parent.setCurrentToolIdMask(t.onInteractionEnd),this.isCreating=r,this.markId="",r)if(n)this.markId=n;else{const a=this.editor.getMarkIdMatching(`creating:${this.editor.getOnlySelectedShapeId()}`);a&&(this.markId=a)}else this.markId=this.editor.markHistoryStoppingPoint("translating");if(this.onCreate=i,this.isCloning=!1,this.info=t,this.editor.setCursor({type:"move",rotation:0}),this.selectionSnapshot=pPe(this.editor),!this.isCreating&&this.editor.inputs.altKey){this.startCloning();return}this.snapshot=this.selectionSnapshot,this.handleStart(),this.updateShapes()}onExit(){this.parent.setCurrentToolIdMask(void 0),this.selectionSnapshot={},this.snapshot={},this.editor.snaps.clearIndicators(),this.editor.setCursor({type:"default",rotation:0}),this.dragAndDropManager.clear()}onTick({elapsed:t}){const{editor:r}=this;this.dragAndDropManager.updateDroppingNode(this.snapshot.movingShapes,this.updateParentTransforms),r.edgeScrollManager.updateEdgeScrolling(t)}onPointerMove(){this.updateShapes()}onKeyDown(){if(this.editor.inputs.altKey&&!this.isCloning){this.startCloning();return}this.updateShapes()}onKeyUp(){if(!this.editor.inputs.altKey&&this.isCloning){this.stopCloning();return}this.updateShapes()}onPointerUp(){this.complete()}onComplete(){this.complete()}onCancel(){this.cancel()}startCloning(){this.isCreating||(this.isCloning=!0,this.reset(),this.markId=this.editor.markHistoryStoppingPoint("translate cloning"),this.editor.duplicateShapes(Array.from(this.editor.getSelectedShapeIds())),this.snapshot=pPe(this.editor),this.handleStart(),this.updateShapes())}stopCloning(){this.isCloning=!1,this.snapshot=this.selectionSnapshot,this.reset(),this.markId=this.editor.markHistoryStoppingPoint("translate"),this.updateShapes()}reset(){this.editor.bailToMark(this.markId)}complete(){var t;this.updateShapes(),this.dragAndDropManager.dropShapes(this.snapshot.movingShapes),Sn(this.editor,this.snapshot.movingShapes.map(r=>r.id)),this.handleEnd(),this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.isCreating?(t=this.onCreate)==null||t.call(this,this.editor.getOnlySelectedShape()):this.parent.transition("idle")}cancel(){this.reset(),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.parent.transition("idle",this.info)}handleStart(){const{movingShapes:t}=this.snapshot,r=[];t.forEach(n=>{var a;const i=this.editor.getShapeUtil(n),o=(a=i.onTranslateStart)==null?void 0:a.call(i,n);o&&r.push(o)}),r.length>0&&this.editor.updateShapes(r),this.editor.setHoveredShape(null)}handleEnd(){const{movingShapes:t}=this.snapshot;if(this.isCloning&&t.length>0){const n=L.Average(t.map(o=>this.editor.getShapePageTransform(o.id).point())),i=L.Sub(n,this.selectionSnapshot.averagePagePoint);L.IsNaN(i)||this.editor.updateInstanceState({duplicateProps:{shapeIds:t.map(o=>o.id),offset:{x:i.x,y:i.y}}})}const r=[];t.forEach(n=>{var s;const i=this.editor.getShape(n.id),o=this.editor.getShapeUtil(n),a=(s=o.onTranslateEnd)==null?void 0:s.call(o,n,i);a&&r.push(a)}),r.length>0&&this.editor.updateShapes(r)}updateShapes(){const{snapshot:t}=this;this.dragAndDropManager.updateDroppingNode(t.movingShapes,this.updateParentTransforms),N6t({editor:this.editor,snapshot:t});const{movingShapes:r}=t,n=[];r.forEach(i=>{var l;const o=this.editor.getShape(i.id),a=this.editor.getShapeUtil(i),s=(l=a.onTranslate)==null?void 0:l.call(a,i,o);s&&n.push(s)}),n.length>0&&this.editor.updateShapes(n)}updateParentTransforms(){const{editor:t,snapshot:{shapeSnapshots:r}}=this;r.forEach(n=>{const i=t.getShape(n.shape.id);if(!i)return null;const o=Ha(i.parentId)?null:ct.Inverse(t.getShapePageTransform(i.parentId));n.parentTransform=o})}}vT=k6t(Q5);L6t(vT,1,"updateParentTransforms",zqe,yT);D6t(vT,yT);CA(yT,"id","translating");function pPe(e){var d;const t=[],r=[],n=e.getSelectedShapeIds(),i=lr(n.map(A=>{const f=e.getShape(A);if(!f)return null;t.push(f);const h=e.getShapePageTransform(A),p=h.point(),v=h.rotation();r.push(p);const y=Rs.isId(f.parentId)?null:ct.Inverse(e.getShapePageTransform(f.parentId));return{shape:f,pagePoint:p,pageRotation:v,parentTransform:y}})),o=e.getOnlySelectedShape();let a=[];if(o)a=e.snaps.shapeBounds.getSnapPoints(o.id);else{const A=e.getSelectionPageBounds();A&&(a=A.cornersAndCenter.map((f,h)=>({id:"selection:"+h,x:f.x,y:f.y})))}let s,l;const{originPagePoint:c}=e.inputs,u=i.filter(A=>e.isShapeOfType(A.shape,"note")&&e.isPointInShape(A.shape,c));if(u.length!==0)if(u.length===1)l=u[0];else{const A=e.getCurrentPageShapesSorted();l=(d=u.map(f=>({snapshot:f,index:A.findIndex(h=>h.id===f.shape.id)})).sort((f,h)=>h.index-f.index)[0])==null?void 0:d.snapshot}return l&&(s=L5e(e,l.pageRotation,l.shape.props.scale,l.shape.props.growY??0)),{averagePagePoint:L.Average(r),movingShapes:t,shapeSnapshots:i,initialPageBounds:e.getSelectionPageBounds(),initialSnapPoints:a,noteAdjacentPositions:s,noteSnapshot:l}}function N6t({editor:e,snapshot:t}){const{inputs:r}=e,{noteSnapshot:n,noteAdjacentPositions:i,initialPageBounds:o,initialSnapPoints:a,shapeSnapshots:s,averagePagePoint:l}=t,c=e.getInstanceState().isGridMode,u=e.getDocumentSettings().gridSize,d=L.Sub(r.currentPagePoint,r.originPagePoint),A=e.inputs.shiftKey?Math.abs(d.x)<Math.abs(d.y)?"x":"y":null;A==="x"?d.x=0:A==="y"&&(d.y=0),e.snaps.clearIndicators();const f=e.user.getIsSnapMode()?!r.ctrlKey:r.ctrlKey;let h=!1;if(f&&e.inputs.pointerVelocity.len()<.5){const{nudge:b}=e.snaps.shapeBounds.snapTranslateShapes({dragDelta:d,initialSelectionPageBounds:o,lockedAxis:A,initialSelectionSnapPoints:a});d.add(b)}else if(n&&i){const{scale:b}=n.shape.props,x=n.pagePoint.clone().add(d).add(AT.clone().mul(b).rot(n.pageRotation));let S=D5e/e.getZoomLevel(),C=new L(0,0);for(const _ of i){const B=L.Sub(x,_),T=B.len();T<S&&(h=!0,S=T,C=B)}d.sub(C)}const p=L.Add(l,d),v=e.snaps.getIndicators();c&&!r.ctrlKey&&!h&&v.length===0&&p.snapToGrid(u);const y=L.Sub(p,l);e.updateShapes(lr(s.map(({shape:b,pagePoint:x,parentTransform:S})=>{const C=L.Add(x,y),_=S?ct.applyToPoint(S,C):C;return{id:b.id,type:b.type,x:_.x,y:_.y}})))}class XC extends Ft{constructor(){super(...arguments);K(this,"reactor")}static children(){return[$5,Y8,y6t,_qe,Pqe,yT,pqe,Rqe,X8,Bqe,gqe,Sqe,Tqe,Oqe,Iqe,Cqe,Eqe,bqe]}cleanUpDuplicateProps(){const r=this.editor.getSelectedShapeIds(),n=this.editor.getInstanceState();if(!n.duplicateProps)return;const i=new Set(n.duplicateProps.shapeIds);r.length===i.size&&r.every(o=>i.has(o))||this.editor.updateInstanceState({duplicateProps:null})}onEnter(){this.reactor=iu("clean duplicate props",()=>{try{this.cleanUpDuplicateProps()}catch(r){console.error(r)}})}onExit(){var r;(r=this.reactor)==null||r.call(this),this.editor.getCurrentPageState().editingShapeId&&this.editor.setEditingShape(null)}}K(XC,"id","select"),K(XC,"initial","idle"),K(XC,"isLockable",!1);class Kqe extends Ft{constructor(){super(...arguments);K(this,"info",{})}onEnter(r){this.info=r}onPointerDown(){this.parent.transition("pointing",this.info)}}K(Kqe,"id","idle");class Wqe extends Ft{constructor(){super(...arguments);K(this,"info",{})}onEnter(r){this.info=r}onPointerUp(){this.complete()}onPointerMove(){this.editor.inputs.isDragging&&this.parent.transition("zoom_brushing",this.info)}onCancel(){this.cancel()}complete(){const{currentScreenPoint:r}=this.editor.inputs;this.editor.inputs.altKey?this.editor.zoomOut(r,{animation:{duration:220}}):this.editor.zoomIn(r,{animation:{duration:220}}),this.parent.transition("idle",this.info)}cancel(){this.parent.transition("idle",this.info)}}K(Wqe,"id","pointing");class Vqe extends Ft{constructor(){super(...arguments);K(this,"info",{});K(this,"zoomBrush",new st)}onEnter(r){this.info=r,this.update()}onExit(){this.editor.updateInstanceState({zoomBrush:null})}onPointerMove(){this.update()}onPointerUp(){this.complete()}onCancel(){this.cancel()}update(){const{inputs:{originPagePoint:r,currentPagePoint:n}}=this.editor;this.zoomBrush.setTo(st.FromPoints([r,n])),this.editor.updateInstanceState({zoomBrush:this.zoomBrush.toJson()})}cancel(){this.parent.transition("idle",this.info)}complete(){const{zoomBrush:r}=this,n=8/this.editor.getZoomLevel();if(r.width<n&&r.height<n){const i=this.editor.inputs.currentScreenPoint;this.editor.inputs.altKey?this.editor.zoomOut(i,{animation:{duration:220}}):this.editor.zoomIn(i,{animation:{duration:220}})}else{const i=this.editor.inputs.altKey?this.editor.getZoomLevel()/2:void 0;this.editor.zoomToBounds(r,{targetZoom:i,animation:{duration:220}})}this.parent.transition("idle",this.info)}}K(Vqe,"id","zoom_brushing");class JC extends Ft{constructor(){super(...arguments);K(this,"info",{})}static children(){return[Kqe,Vqe,Wqe]}onEnter(r){this.info=r,this.parent.setCurrentToolIdMask(r.onInteractionEnd),this.updateCursor()}onExit(){this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({zoomBrush:null,cursor:{type:"default",rotation:0}}),this.parent.setCurrentToolIdMask(void 0)}onKeyDown(){this.updateCursor()}onKeyUp(r){this.updateCursor(),r.code==="KeyZ"&&this.complete()}onInterrupt(){this.complete()}complete(){this.info.onInteractionEnd&&this.info.onInteractionEnd!=="select"?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("select")}updateCursor(){this.editor.inputs.altKey?this.editor.setCursor({type:"zoom-out",rotation:0}):this.editor.setCursor({type:"zoom-in",rotation:0})}}K(JC,"id","zoom"),K(JC,"initial","idle"),K(JC,"isLockable",!1);const $6t=[VC,GC,YC,JC,XC];function Q6t(){const e=Ee(),t=Re("follow",()=>e.getInstanceState().followingUserId,[e]);return t?m.jsx(H6t,{userId:t}):null}function H6t({userId:e}){const t=ZB(e);return t?m.jsx("div",{className:"tlui-following-indicator",style:{borderColor:t.color}}):null}let H5={fonts:{draw:`${jA()}/fonts/Shantell_Sans-Tldrawish.woff2`,serif:`${jA()}/fonts/IBMPlexSerif-Medium.woff2`,sansSerif:`${jA()}/fonts/IBMPlexSans-Medium.woff2`,monospace:`${jA()}/fonts/IBMPlexMono-Medium.woff2`}};function Gqe(e){return I.useMemo(()=>e?{fonts:{...H5.fonts,...e==null?void 0:e.fonts}}:H5,[e])}const q6t=["align-bottom","align-center-horizontal","align-center-vertical","align-left","align-right","align-top","arrow-left","arrowhead-arrow","arrowhead-bar","arrowhead-diamond","arrowhead-dot","arrowhead-none","arrowhead-square","arrowhead-triangle-inverted","arrowhead-triangle","blob","bring-forward","bring-to-front","broken","check-circle","check","chevron-down","chevron-left","chevron-right","chevron-up","chevrons-ne","chevrons-sw","clipboard-copied","clipboard-copy","color","cross-2","cross-circle","dash-dashed","dash-dotted","dash-draw","dash-solid","disconnected","discord","distribute-horizontal","distribute-vertical","dot","dots-horizontal","dots-vertical","drag-handle-dots","duplicate","edit","external-link","fill-fill","fill-none","fill-pattern","fill-semi","fill-solid","follow","following","font-draw","font-mono","font-sans","font-serif","geo-arrow-down","geo-arrow-left","geo-arrow-right","geo-arrow-up","geo-check-box","geo-cloud","geo-diamond","geo-ellipse","geo-heart","geo-hexagon","geo-octagon","geo-oval","geo-pentagon","geo-rectangle","geo-rhombus-2","geo-rhombus","geo-star","geo-trapezoid","geo-triangle","geo-x-box","github","group","horizontal-align-end","horizontal-align-middle","horizontal-align-start","info-circle","leading","link","lock","menu","minus","mixed","pack","plus","question-mark-circle","question-mark","redo","reset-zoom","rotate-ccw","rotate-cw","send-backward","send-to-back","share-1","size-extra-large","size-large","size-medium","size-small","spline-cubic","spline-line","stack-horizontal","stack-vertical","status-offline","stretch-horizontal","stretch-vertical","text-align-center","text-align-left","text-align-right","toggle-off","toggle-on","tool-arrow","tool-eraser","tool-frame","tool-hand","tool-highlight","tool-laser","tool-line","tool-media","tool-note","tool-pencil","tool-pointer","tool-screenshot","tool-text","trash","twitter","undo","ungroup","unlock","vertical-align-end","vertical-align-middle","vertical-align-start","warning-triangle","zoom-in","zoom-out"];let Ny={...H5,icons:Object.fromEntries(q6t.map(e=>[e,`${jA()}/icons/icon/0_merged.svg#${e}`])),translations:Object.fromEntries(Hw.map(e=>[e.locale,`${jA()}/translations/${e.locale}.json`])),embedIcons:Object.fromEntries(T8.map(e=>[e.type,`${jA()}/embed-icons/${e.type}.png`]))};function z6t(e){return e?{fonts:Object.assign({...Ny.fonts},{...e==null?void 0:e.fonts}),icons:Object.assign({...Ny.icons},{...e==null?void 0:e.icons}),embedIcons:Object.assign({...Ny.embedIcons},{...e==null?void 0:e.embedIcons}),translations:Object.assign({...Ny.translations},{...e==null?void 0:e.translations})}:Ny}var Z8="Popover",[Yqe,VJt]=Tu(Z8,[GP]),mx=GP(),[K6t,Pf]=Yqe(Z8),Xqe=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,s=mx(t),l=I.useRef(null),[c,u]=I.useState(!1),[d=!1,A]=If({prop:n,defaultProp:i,onChange:o});return m.jsx(s8,{...s,children:m.jsx(K6t,{scope:t,contentId:bd(),triggerRef:l,open:d,onOpenChange:A,onOpenToggle:I.useCallback(()=>A(f=>!f),[A]),hasCustomAnchor:c,onCustomAnchorAdd:I.useCallback(()=>u(!0),[]),onCustomAnchorRemove:I.useCallback(()=>u(!1),[]),modal:a,children:r})})};Xqe.displayName=Z8;var Jqe="PopoverAnchor",W6t=I.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Pf(Jqe,r),o=mx(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=i;return I.useEffect(()=>(a(),()=>s()),[a,s]),m.jsx(l8,{...o,...n,ref:t})});W6t.displayName=Jqe;var Zqe="PopoverTrigger",e6e=I.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Pf(Zqe,r),o=mx(r),a=In(t,i.triggerRef),s=m.jsx(Lr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":o6e(i.open),...n,ref:a,onClick:Ot(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:m.jsx(l8,{asChild:!0,...o,children:s})});e6e.displayName=Zqe;var eW="PopoverPortal",[V6t,G6t]=Yqe(eW,{forceMount:void 0}),t6e=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,o=Pf(eW,t);return m.jsx(V6t,{scope:t,forceMount:r,children:m.jsx(xc,{present:r||o.open,children:m.jsx(Ax,{asChild:!0,container:i,children:n})})})};t6e.displayName=eW;var Rm="PopoverContent",r6e=I.forwardRef((e,t)=>{const r=G6t(Rm,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,o=Pf(Rm,e.__scopePopover);return m.jsx(xc,{present:n||o.open,children:o.modal?m.jsx(Y6t,{...i,ref:t}):m.jsx(X6t,{...i,ref:t})})});r6e.displayName=Rm;var Y6t=I.forwardRef((e,t)=>{const r=Pf(Rm,e.__scopePopover),n=I.useRef(null),i=In(t,n),o=I.useRef(!1);return I.useEffect(()=>{const a=n.current;if(a)return c8(a)},[]),m.jsx(JP,{as:jh,allowPinchZoom:!0,children:m.jsx(n6e,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),o.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ot(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ot(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),X6t=I.forwardRef((e,t)=>{const r=Pf(Rm,e.__scopePopover),n=I.useRef(!1),i=I.useRef(!1);return m.jsx(n6e,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),n6e=I.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,A=Pf(Rm,r),f=mx(r);return XK(),m.jsx(zP,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:m.jsx(ux,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>A.onOpenChange(!1),children:m.jsx(dHe,{"data-state":o6e(A.open),role:"dialog",id:A.contentId,...f,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),i6e="PopoverClose",J6t=I.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Pf(i6e,r);return m.jsx(Lr.button,{type:"button",...n,ref:t,onClick:Ot(e.onClick,()=>i.onOpenChange(!1))})});J6t.displayName=i6e;var Z6t="PopoverArrow",ezt=I.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=mx(r);return m.jsx(AHe,{...i,...n,ref:t})});ezt.displayName=Z6t;function o6e(e){return e?"open":"closed"}var tW=Xqe,rW=e6e,nW=t6e,iW=r6e;function oW({id:e,children:t,onOpenChange:r,open:n}){const[i,o]=Kd(e,r);return m.jsx(tW,{onOpenChange:o,open:n||i,children:m.jsx("div",{className:"tlui-popover",children:t})})}function aW({children:e}){return m.jsx(rW,{asChild:!0,dir:"ltr",children:e})}function sW({side:e,children:t,align:r="center",sideOffset:n=8,alignOffset:i=0,disableEscapeKeyDown:o=!1}){const a=Yi();return m.jsx(nW,{container:a,children:m.jsx(iW,{className:"tlui-popover__content",side:e,sideOffset:n,align:r,alignOffset:i,dir:"ltr",onEscapeKeyDown:s=>o&&s.preventDefault(),children:t})})}function tzt(e){return e.getSelectedShapeIds().map(n=>e.getShape(n)).filter(n=>{if(!n)return!1;if(e.isShapeOfType(n,"arrow")){const i=Ya(e,n);if(i.start||i.end)return!1}return!0})}const a6e=()=>{const e=Ee();return Re("threeStackableItems",()=>tzt(e).length>2,[e])},Wd=()=>{const e=Ee();return Re("isInSelectState",()=>e.isIn("select"),[e])},s6e=()=>{const e=Ee();return Re("allow group",()=>{const t=e.getSelectedShapes();if(t.length<2)return!1;for(const r of t)if(e.isShapeOfType(r,"arrow")){const n=Ya(e,r);if(n.start&&!t.some(i=>i.id===n.start.toId)||n.end&&!t.some(i=>i.id===n.end.toId))return!1}return!0},[e])},l6e=()=>{const e=Ee();return Re("allowUngroup",()=>e.getSelectedShapeIds().some(t=>{var r;return((r=e.getShape(t))==null?void 0:r.type)==="group"}),[e])},rzt=typeof window<"u"&&"navigator"in window&&!!navigator.clipboard&&!!navigator.clipboard.read;function c6e(e,t){const r=Ee();return Re("selectedShapes",()=>r.getSelectedShapes().length>=e,[r,e,t])}function Fa(e,t){const r=Ee();return Re("selectedShapes",()=>{const n=r.getSelectedShapes().filter(i=>!r.isShapeOrAncestorLocked(i)).length;return e===void 0?n:n>=e},[r])}function nzt(){const e=Ee();return Re("showAutoSizeToggle",()=>{const t=e.getSelectedShapes();return t.length===1&&e.isShapeOfType(t[0],"text")&&t[0].props.autoSize===!1},[e])}function u6e(){const e=Ee();return Re("hasLinkShapeSelected",()=>{const t=e.getOnlySelectedShape();return!!(t&&t.type!=="embed"&&"url"in t.props&&!t.isLocked)},[e])}function izt(){const e=Ee();return Re("onlyFlippableShape",()=>{const t=e.getOnlySelectedShape();return t&&(e.isShapeOfType(t,"group")||e.isShapeOfType(t,"image")||e.isShapeOfType(t,"arrow")||e.isShapeOfType(t,"line")||e.isShapeOfType(t,"draw"))},[e])}function d6e(){const e=Ee();return Re("useCanRedo",()=>e.getCanRedo(),[e])}function A6e(){const e=Ee();return Re("useCanUndo",()=>e.getCanUndo(),[e])}function ozt(){return m.jsxs(m.Fragment,{children:[m.jsx(azt,{}),m.jsx(szt,{}),m.jsx(lzt,{}),m.jsx(czt,{}),m.jsx(uzt,{}),m.jsx(fzt,{}),m.jsx(hzt,{}),m.jsx(pzt,{})]})}function azt(){const e=Fa(2),t=Wd(),r=e&&t;return m.jsxs(m.Fragment,{children:[m.jsx(He,{actionId:"align-left",disabled:!r}),m.jsx(He,{actionId:"align-center-horizontal",disabled:!r}),m.jsx(He,{actionId:"align-right",disabled:!r}),m.jsx(He,{actionId:"stretch-horizontal",disabled:!r}),m.jsx(He,{actionId:"align-top",disabled:!r}),m.jsx(He,{actionId:"align-center-vertical",disabled:!r}),m.jsx(He,{actionId:"align-bottom",disabled:!r}),m.jsx(He,{actionId:"stretch-vertical",disabled:!r})]})}function szt(){const e=Fa(3),t=Wd(),r=e&&t;return m.jsxs(m.Fragment,{children:[m.jsx(He,{actionId:"distribute-horizontal",disabled:!r}),m.jsx(He,{actionId:"distribute-vertical",disabled:!r})]})}function lzt(){const e=a6e(),t=Wd(),r=e&&t;return m.jsxs(m.Fragment,{children:[m.jsx(He,{actionId:"stack-horizontal",disabled:!r}),m.jsx(He,{actionId:"stack-vertical",disabled:!r})]})}function czt(){const e=Fa(1),t=Wd(),r=e&&t;return m.jsxs(m.Fragment,{children:[m.jsx(He,{actionId:"send-to-back",disabled:!r}),m.jsx(He,{actionId:"send-backward",disabled:!r}),m.jsx(He,{actionId:"bring-forward",disabled:!r}),m.jsx(He,{actionId:"bring-to-front",disabled:!r})]})}function uzt(){return Ma()<fi.TABLET_SM?m.jsx(dzt,{}):m.jsx(Azt,{})}function dzt(){const e=Ee(),t=Re("zoom is 1",()=>e.getZoomLevel()===1,[e]);return m.jsx(He,{actionId:"zoom-to-100",disabled:t})}function Azt(){const e=Fa(1),t=Wd(),r=e&&t;return m.jsx(He,{actionId:"rotate-ccw",disabled:!r})}function fzt(){const e=Fa(1),t=Wd(),r=e&&t;return m.jsx(He,{actionId:"rotate-cw",disabled:!r})}function hzt(){const e=u6e(),t=Wd(),r=e&&t;return m.jsx(He,{actionId:"edit-link",disabled:!r})}function pzt(){const e=s6e(),t=l6e();return e?m.jsx(gPe,{}):t?m.jsx(gzt,{}):m.jsx(gPe,{})}function gPe(){const e=Fa(2),t=Wd(),r=e&&t;return m.jsx(He,{actionId:"group",disabled:!r})}function gzt(){return m.jsx(He,{actionId:"ungroup"})}const mzt=I.memo(function({children:t}){const r=Or(),n=Ma(),i=$s(),o=I.useRef(null);Ef(o);const a=Ee(),s=Re("should display quick actions when in readonly",()=>a.isInAny("hand","zoom"),[a]),l=t??m.jsx(ozt,{});if(!(i&&!s))return m.jsxs(oW,{id:"actions-menu",children:[m.jsx(aW,{children:m.jsx(Qt,{type:"icon","data-testid":"actions-menu.button",title:r("actions-menu.title"),children:m.jsx(_r,{icon:"dots-vertical",small:!0})})}),m.jsx(sW,{side:n>=fi.TABLET?"bottom":"top",sideOffset:6,children:m.jsx("div",{ref:o,className:"tlui-actions-menu tlui-buttons__grid","data-testid":"actions-menu.content",children:m.jsx(xl,{type:"icons",sourceId:"actions-menu",children:l})})})]})});function f6e(){return nzt()?m.jsx(He,{actionId:"toggle-auto-size"}):null}function h6e(){return u6e()?m.jsx(He,{actionId:"edit-link"}):null}function vzt(){return Fa(1)?m.jsx(He,{actionId:"duplicate"}):null}function p6e(){const e=Ee();return Re("should display flatten option",()=>{if(e.getSelectedShapeIds().length===0)return!1;const n=e.getOnlySelectedShape();return!(n&&e.isShapeOfType(n,"image"))},[e])?m.jsx(He,{actionId:"flatten-to-image"}):null}function g6e(){return s6e()?m.jsx(He,{actionId:"group"}):null}function m6e(){return l6e()?m.jsx(He,{actionId:"ungroup"}):null}function v6e(){const e=Ee();return Re("allow unframe",()=>{const r=e.getSelectedShapes();return r.length===0?!1:r.every(n=>e.isShapeOfType(n,"frame"))},[e])?m.jsx(He,{actionId:"remove-frame"}):null}function y6e(){const e=Ee();return Re("allow fit frame to content",()=>{const r=e.getOnlySelectedShape();return r?e.isShapeOfType(r,"frame")&&e.getSortedChildIdsForParent(r).length>0:!1},[e])?m.jsx(He,{actionId:"fit-frame-to-content"}):null}function w6e(){const e=Ee();return Re("selected shapes",()=>e.getSelectedShapes().length>0,[e])?m.jsx(He,{actionId:"toggle-lock"}):null}function lW(){const e=Ee(),t=Re("isTransparentBg",()=>!e.getInstanceState().exportBackground,[e]);return m.jsx(Cc,{actionId:"toggle-transparent",checked:t,toggle:!0})}function yzt(){const e=Ee(),t=Re("any shapes",()=>e.getCurrentPageShapeIds().size>0,[e]);return m.jsx(He,{actionId:"unlock-all",disabled:!t})}function b6e(){const e=Ee(),t=Re("zoomed to 100",()=>e.getZoomLevel()===1,[e]);return m.jsx(He,{actionId:"zoom-to-100",noClose:!0,disabled:t})}function x6e(){const e=Ee(),t=Re("has shapes",()=>e.getCurrentPageShapeIds().size>0,[e]);return m.jsx(He,{actionId:"zoom-to-fit",disabled:!t,"data-testid":"minimap.zoom-menu.zoom-to-fit",noClose:!0})}function S6e(){const e=Ee(),t=Re("has shapes",()=>e.getSelectedShapeIds().length>0,[e]);return m.jsx(He,{actionId:"zoom-to-selection",disabled:!t,"data-testid":"minimap.zoom-menu.zoom-to-selection",noClose:!0})}function C6e(){return m.jsxs(ur,{id:"clipboard",children:[m.jsx(bzt,{}),m.jsx(xzt,{}),m.jsx(Szt,{}),m.jsx(vzt,{}),m.jsx(Czt,{})]})}function wzt(){var r;const e=Ee(),t=Re("atLeastOneShapeOnPage",()=>e.getCurrentPageShapeIds().size>0,[e]);return m.jsxs(ss,{id:"copy-as",label:"context-menu.copy-as",size:"small",disabled:!t,children:[m.jsxs(ur,{id:"copy-as-group",children:[m.jsx(He,{actionId:"copy-as-svg"}),!!((r=window.navigator.clipboard)!=null&&r.write)&&m.jsx(He,{actionId:"copy-as-png"})]}),m.jsx(ur,{id:"copy-as-bg",children:m.jsx(lW,{})})]})}function bzt(){const e=Fa(1);return m.jsx(He,{actionId:"cut",disabled:!e})}function xzt(){const e=c6e(1);return m.jsx(He,{actionId:"copy",disabled:!e})}function Szt(){const e=rzt;return m.jsx(He,{actionId:"paste",disabled:!e})}function _6e(){const e=Ee();return Re("atLeastOneShapeOnPage",()=>e.getCurrentPageShapeIds().size>0,[e])?m.jsxs(ur,{id:"conversions",children:[m.jsx(wzt,{}),m.jsxs(ss,{id:"export-as",label:"context-menu.export-as",size:"small",children:[m.jsxs(ur,{id:"export-as-group",children:[m.jsx(He,{actionId:"export-as-svg"}),m.jsx(He,{actionId:"export-as-png"})]}),m.jsx(ur,{id:"export-as-bg",children:m.jsx(lW,{})})]})]}):null}function E6e(){const e=Ee(),t=Re("atLeastOneShapeOnPage",()=>e.getCurrentPageShapeIds().size>0,[e]);return m.jsx(He,{actionId:"select-all",disabled:!t})}function Czt(){const e=Fa(1);return m.jsx(He,{actionId:"delete",disabled:!e})}function _zt(){const e=$s();return!c6e(1)||e?null:m.jsxs(ss,{id:"edit",label:"context-menu.edit",size:"small",children:[m.jsx(g6e,{}),m.jsx(m6e,{}),m.jsx(p6e,{}),m.jsx(h6e,{}),m.jsx(y6e,{}),m.jsx(v6e,{}),m.jsx(B6e,{}),m.jsx(I6e,{}),m.jsx(f6e,{}),m.jsx(w6e,{})]})}function Ezt(){const e=Fa(2),t=izt();return $s()||!(e||t)?null:m.jsxs(ss,{id:"arrange",label:"context-menu.arrange",size:"small",children:[e&&m.jsxs(ur,{id:"align",children:[m.jsx(He,{actionId:"align-left"}),m.jsx(He,{actionId:"align-center-horizontal"}),m.jsx(He,{actionId:"align-right"}),m.jsx(He,{actionId:"align-top"}),m.jsx(He,{actionId:"align-center-vertical"}),m.jsx(He,{actionId:"align-bottom"})]}),m.jsx(Izt,{}),e&&m.jsxs(ur,{id:"stretch",children:[m.jsx(He,{actionId:"stretch-horizontal"}),m.jsx(He,{actionId:"stretch-vertical"})]}),(e||t)&&m.jsxs(ur,{id:"flip",children:[m.jsx(He,{actionId:"flip-horizontal"}),m.jsx(He,{actionId:"flip-vertical"})]}),m.jsx(Bzt,{})]})}function Izt(){return Fa(3)?m.jsxs(ur,{id:"distribute",children:[m.jsx(He,{actionId:"distribute-horizontal"}),m.jsx(He,{actionId:"distribute-vertical"})]}):null}function Bzt(){const e=Fa(2),t=a6e();return e?m.jsxs(ur,{id:"order",children:[m.jsx(He,{actionId:"pack"}),t&&m.jsx(He,{actionId:"stack-horizontal"}),t&&m.jsx(He,{actionId:"stack-vertical"})]}):null}function Pzt(){const e=$s(),t=Fa(1);return e||!t?null:m.jsx(ss,{id:"reorder",label:"context-menu.reorder",size:"small",children:m.jsxs(ur,{id:"reorder",children:[m.jsx(He,{actionId:"bring-to-front"}),m.jsx(He,{actionId:"bring-forward"}),m.jsx(He,{actionId:"send-backward"}),m.jsx(He,{actionId:"send-to-back"})]})})}function Tzt(){const e=Ee(),t=Re("pages",()=>e.getPages(),[e]),r=Re("current page id",()=>e.getCurrentPageId(),[e]),{addToast:n}=zd(),i=ko(),o=$s();return!Fa(1)||o?null:m.jsxs(ss,{id:"move-to-page",label:"context-menu.move-to-page",size:"small",children:[m.jsx(ur,{id:"pages",children:t.map(s=>m.jsx(So,{id:s.id,disabled:r===s.id,label:s.name.length>30?`${s.name.slice(0,30)}`:s.name,onSelect:()=>{e.markHistoryStoppingPoint("move_shapes_to_page"),e.moveShapesToPage(e.getSelectedShapeIds(),s.id);const l=e.getPage(s.id);l&&n({title:"Changed Page",description:`Moved to ${l.name}.`,actions:[{label:"Go Back",type:"primary",onClick:()=>{e.markHistoryStoppingPoint("change-page"),e.setCurrentPage(r)}}]}),i("move-to-page",{source:"context-menu"})}},s.id))}),m.jsx(ur,{id:"new-page",children:m.jsx(He,{actionId:"move-to-new-page"})})]})}function I6e(){const e=Ee();return Re("oneEmbedSelected",()=>{const r=e.getOnlySelectedShape();return r?!!(e.isShapeOfType(r,"embed")&&r.props.url&&!e.isShapeOrAncestorLocked(r)):!1},[e])?m.jsx(He,{actionId:"convert-to-bookmark"}):null}function B6e(){const e=Ee(),t=O8();return Re("oneEmbeddableBookmarkSelected",()=>{const n=e.getOnlySelectedShape();return n?!!(e.isShapeOfType(n,"bookmark")&&n.props.url&&t(n.props.url)&&!e.isShapeOrAncestorLocked(n)):!1},[e])?m.jsx(He,{actionId:"convert-to-embed"}):null}function Ozt(){const e=Ee(),t=Re("isSnapMode",()=>e.user.getIsSnapMode(),[e]);return m.jsx(Cc,{actionId:"toggle-snap-mode",checked:t})}function Rzt(){const e=Ee(),t=Re("isToolLock",()=>e.getInstanceState().isToolLocked,[e]);return m.jsx(Cc,{actionId:"toggle-tool-lock",checked:t})}function Mzt(){const e=Ee(),t=Re("isGridMode",()=>e.getInstanceState().isGridMode,[e]);return m.jsx(Cc,{actionId:"toggle-grid",checked:t})}function Fzt(){const e=Ee(),t=Re("isWrapMode",()=>e.user.getIsWrapMode(),[e]);return m.jsx(Cc,{actionId:"toggle-wrap-mode",checked:t})}function kzt(){const e=Ee(),t=Re("isFocusMode",()=>e.getInstanceState().isFocusMode,[e]);return m.jsx(Cc,{actionId:"toggle-focus-mode",checked:t})}function Uzt(){const e=Ee(),t=Re("edgeScrollSpeed",()=>e.user.getEdgeScrollSpeed(),[e]);return m.jsx(Cc,{actionId:"toggle-edge-scrolling",checked:t===1})}function Dzt(){const e=Ee(),t=Re("animationSpeed",()=>e.user.getAnimationSpeed(),[e]);return m.jsx(Cc,{actionId:"toggle-reduce-motion",checked:t===0})}function jzt(){const e=Ee(),t=Re("isDebugMode",()=>e.getInstanceState().isDebugMode,[e]);return m.jsx(Cc,{actionId:"toggle-debug-mode",checked:t})}function Lzt(){const e=Ee(),t=Re("dynamic resize",()=>e.user.getIsDynamicResizeMode(),[e]);return m.jsx(Cc,{actionId:"toggle-dynamic-size-mode",checked:t})}function Nzt(){const e=Ee(),t=Re("paste at cursor",()=>e.user.getIsPasteAtCursorMode(),[e]);return m.jsx(Cc,{actionId:"toggle-paste-at-cursor",checked:t})}function $zt(){const e=Ee();return Re("show cursor chat",()=>e.getCurrentToolId()==="select"&&!e.getInstanceState().isCoarsePointer,[e])?m.jsx(He,{actionId:"open-cursor-chat"}):null}function Qzt(){const e=Ee(),t=aT(),r=Re("isSelectToolActive",()=>e.getCurrentToolId()==="select",[e]),n=Re("isSinglePageMode",()=>e.options.maxPages<=1,[e]);return r?m.jsxs(m.Fragment,{children:[t&&m.jsx($zt,{}),m.jsxs(ur,{id:"modify",children:[m.jsx(_zt,{}),m.jsx(Ezt,{}),m.jsx(Pzt,{}),!n&&m.jsx(Tzt,{})]}),m.jsx(C6e,{}),m.jsx(_6e,{}),m.jsx(ur,{id:"select-all",children:m.jsx(E6e,{})})]}):null}const Hzt=I.memo(function({children:t,disabled:r=!1}){const n=Ee(),{Canvas:i}=Un(),o=I.useCallback(u=>{if(u){if(n.getInstanceState().isCoarsePointer){const d=n.getSelectedShapes(),{inputs:{currentPagePoint:A}}=n,f=n.getShapesAtPoint(A);if(!n.getSelectedShapes().length||!f.some(h=>d.includes(h))){const h=f.filter(p=>n.isShapeOrAncestorLocked(p));h.length&&n.select(...h.map(p=>p.id))}}}else{const d=n.getOnlySelectedShape();d&&n.isShapeOrAncestorLocked(d)&&n.setSelectedShapes([])}},[n]),a=Yi(),[s,l]=Kd("context menu",o),c=t??m.jsx(Qzt,{});return m.jsxs(L4t,{dir:"ltr",onOpenChange:l,modal:!1,children:[m.jsx(N4t,{onContextMenu:void 0,dir:"ltr",disabled:r,children:i?m.jsx(i,{}):null}),s&&m.jsx($4t,{container:a,children:m.jsx(Q4t,{className:"tlui-menu scrollable","data-testid":"context-menu",alignOffset:-4,collisionPadding:4,onContextMenu:hr,children:m.jsx(xl,{type:"context-menu",sourceId:"context-menu",children:c})})})]})}),qzt=2e3,zzt=5e3,Kzt=Ro(function(){const t=Ee(),{isChatting:r,chatMessage:n}=t.getInstanceState(),i=I.useRef(-1),[o,a]=I.useState("");return I.useEffect(()=>{if(!r&&n||r){const l=r?zzt:qzt;i.current=t.timers.setTimeout(()=>{t.updateInstanceState({chatMessage:"",isChatting:!1}),a(""),t.focus()},l)}return()=>{clearTimeout(i.current)}},[t,n,r]),r?m.jsx(Vzt,{value:o,setValue:a,chatMessage:n}):n.trim()?m.jsx(Wzt,{chatMessage:n}):null});function P6e(e){const t=Ee();I.useLayoutEffect(()=>{var a;if(!e.current)return;const{x:n,y:i}=t.inputs.currentScreenPoint;(a=e.current)==null||a.style.setProperty("transform",`translate(${n}px, ${i}px)`);function o(s){var u;const{minX:l,minY:c}=t.getViewportScreenBounds();(u=e.current)==null||u.style.setProperty("transform",`translate(${s.clientX-l}px, ${s.clientY-c}px)`)}return window.addEventListener("pointermove",o),()=>{window.removeEventListener("pointermove",o)}},[e,t])}const Wzt=({chatMessage:e})=>{const t=Ee(),r=I.useRef(null);return P6e(r),m.jsx("div",{ref:r,className:"tl-cursor-chat tl-cursor-chat__bubble",style:{backgroundColor:t.user.getColor()},children:e})},Vzt=Ro(function({chatMessage:t,value:r,setValue:n}){const i=Ee(),o=Or(),a=I.useRef(null),s=t||o("cursor-chat.type-to-chat");P6e(a),I.useLayoutEffect(()=>{const A=a.current;if(!A)return;const f=i.textMeasure.measureText(r||s,{fontFamily:"var(--font-body)",fontSize:12,fontWeight:"500",fontStyle:"normal",maxWidth:null,lineHeight:1,padding:"6px"});A.style.setProperty("width",f.w+"px")},[i,r,s]),I.useLayoutEffect(()=>{const A=i.timers.requestAnimationFrame(()=>{var f;(f=a.current)==null||f.focus()});return()=>{cancelAnimationFrame(A)}},[i]);const l=I.useCallback(()=>{i.updateInstanceState({isChatting:!1}),i.focus()},[i]),c=I.useCallback(A=>{const{value:f}=A.target;n(f.slice(0,64)),i.updateInstanceState({chatMessage:f})},[i,n]),u=I.useCallback(A=>{const f=a.current;if(!f)return;const{value:h}=f;switch(A.key){case"Enter":{if(hr(A),A.stopPropagation(),!h){l();return}n("");break}case"Escape":{hr(A),A.stopPropagation(),l();break}}},[l,n]),d=I.useCallback(A=>{A.stopPropagation()},[]);return m.jsx("input",{ref:a,className:"tl-cursor-chat",style:{backgroundColor:i.user.getColor()},onBlur:l,onChange:c,onKeyDown:u,onPaste:d,value:r,placeholder:s,spellCheck:!1})});function q5({checked:e}){return m.jsx(fu,{icon:e?"check":"none",className:"tlui-button__icon",small:!0})}function Gzt(){const e=Ee(),{addToast:t}=zd(),{addDialog:r}=gx(),[n,i]=ue.useState(!1);return m.jsxs(m.Fragment,{children:[m.jsxs(ur,{id:"items",children:[m.jsx(So,{id:"add-toast",onSelect:()=>{t({id:tn(),title:"Something good happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,severity:"success"}),t({id:tn(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,severity:"info",actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]}),t({id:tn(),title:"Something maybe bad happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,severity:"warning",actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]}),t({id:tn(),title:"Something bad happened",severity:"error",keepOpen:!0})},label:"Show toast"}),m.jsx(So,{id:"show-dialog",label:"Show dialog",onSelect:()=>{r({component:({onClose:o})=>m.jsx(Jzt,{displayDontShowAgain:!0,onCancel:()=>o(),onContinue:()=>o()}),onClose:()=>{}})}}),m.jsx(So,{id:"create-shapes",label:"Create 100 shapes",onSelect:()=>Zzt(e,100)}),m.jsx(So,{id:"count-nodes",label:"Count shapes / nodes",onSelect:()=>{var s;const o=e.getSelectedShapes(),a=o.length===0?e.getRenderingShapes():o;window.alert(`Shapes ${a.length}, DOM nodes:${(s=document.querySelector(".tl-shapes").querySelectorAll("*"))==null?void 0:s.length}`)}}),(()=>{if(n)throw Error("oh no!");return null})(),m.jsx(So,{id:"throw-error",onSelect:()=>i(!0),label:"Throw error"}),m.jsx(So,{id:"hard-reset",onSelect:NDe,label:"Hard reset"})]}),m.jsxs(ur,{id:"flags",children:[m.jsx(Yzt,{}),m.jsx(Xzt,{})]})]})}function Yzt(){const e=Object.values(xi);return e.length?m.jsx(ss,{id:"debug flags",label:"Debug Flags",children:m.jsx(ur,{id:"debug flags",children:e.map(t=>m.jsx(T6e,{flag:t},t.name))})}):null}function Xzt(){const e=Object.values(b_t);return e.length?m.jsx(ss,{id:"feature flags",label:"Feature Flags",children:m.jsx(ur,{id:"feature flags",children:e.map(t=>m.jsx(T6e,{flag:t},t.name))})}):null}function Jzt({title:e="title",body:t="hello hello hello",cancel:r="Cancel",confirm:n="Continue",displayDontShowAgain:i=!1,onCancel:o,onContinue:a}){const[s,l]=ue.useState(!1);return m.jsxs(m.Fragment,{children:[m.jsxs(rT,{children:[m.jsx(nT,{children:e}),m.jsx(iT,{})]}),m.jsx(Gw,{style:{maxWidth:350},children:t}),m.jsxs(P8,{className:"tlui-dialog__footer__actions",children:[i&&m.jsxs(Qt,{type:"normal",onClick:()=>l(!s),style:{marginRight:"auto"},children:[m.jsx(q5,{checked:s}),m.jsx(Si,{children:"Dont show again"})]}),m.jsx(Qt,{type:"normal",onClick:o,children:m.jsx(Si,{children:r})}),m.jsx(Qt,{type:"primary",onClick:async()=>a(),children:m.jsx(Si,{children:n})})]})]})}const T6e=Ro(function({flag:t,onChange:r}){const n=t.get();return m.jsx(uT,{id:t.name,title:t.name,label:t.name.replace(/([a-z0-9])([A-Z])/g,i=>`${i[0]} ${i[1].toLowerCase()}`).replace(/^[a-z]/,i=>i.toUpperCase()),checked:n,onSelect:()=>{t.set(!n),r==null||r(!n)}})});let mPe=0;function Zzt(e,t){const r=Array(t),n=Math.floor(Math.sqrt(t));for(let i=0;i<t;i++)mPe++,r[i]={id:cn("box"+mPe),type:"geo",x:i%n*132,y:Math.floor(i/n)*132};e.run(()=>{e.createShapes(r).setSelectedShapes(r.map(i=>i.id))})}function eKt({children:e}){const t=e??m.jsx(Gzt,{});return m.jsxs($h,{id:"debug",children:[m.jsx(Qh,{children:m.jsx(Qt,{type:"icon",title:"Debug menu",children:m.jsx(_r,{icon:"dots-horizontal"})})}),m.jsx(Hh,{side:"top",align:"end",alignOffset:0,children:m.jsx(xl,{type:"menu",sourceId:"debug-panel",children:t})})]})}const tKt=I.memo(function(){const{DebugMenu:t}=Tf(),r=I.useRef(null);return Ef(r),m.jsxs("div",{ref:r,className:"tlui-debug-panel",children:[m.jsx(nKt,{}),m.jsx(iKt,{}),t&&m.jsx(t,{})]})});function rKt(e=!0){const[t,r]=I.useState(0),n=Ee();I.useEffect(()=>{if(!e)return;const i=()=>r(o=>o+1);return n.on("tick",i),()=>{n.off("tick",i)}},[n,e])}const nKt=Ro(function(){rKt();const t=Ee(),r=t.getPath(),n=t.getHoveredShape(),i=t.getOnlySelectedShape(),o=r==="select.idle"||!r.includes("select.")?n:i,a=o&&r.includes("select.")?` / ${o.type||""}${"geo"in o.props?" / "+o.props.geo:""} / [${L.ToInt(t.getPointInShapeSpace(o,t.inputs.currentPagePoint))}]`:"",s=r.startsWith("select.")&&!r.includes(".idle")?` / [${L.ToInt(t.inputs.originPagePoint)}]  [${L.ToInt(t.inputs.currentPagePoint)}] = ${L.Dist(t.inputs.originPagePoint,t.inputs.currentPagePoint).toFixed(0)}`:"";return m.jsx("div",{className:"tlui-debug-panel__current-state",children:`${r}${a}${s}`})});function iKt(){const e=Ee(),t=Re("show_fps",()=>xi.showFps.get(),[xi]),r=I.useRef(null);return I.useEffect(()=>{if(!t)return;const n=250;let i=0,o=-1,a=performance.now(),s=0,l=0,c=!1;function u(){if(l++,s=performance.now()-a,s>n){const d=Math.round(l*(n/s)*(1e3/n));d>i&&(i=d);const A=i*.75;(d<A&&!c||d>=A&&c)&&(c=!c),r.current.innerHTML=`FPS ${d.toString()}`,r.current.className="tlui-debug-panel__fps"+(c?" tlui-debug-panel__fps__slow":""),s-=n,l=0,a=performance.now()}o=e.timers.requestAnimationFrame(u)}return u(),()=>{cancelAnimationFrame(o)}},[t,e]),t?m.jsx("div",{ref:r}):null}const oKt=I.memo(function(){const t=Ma(),r=I.useRef(null);Ef(r);const{MainMenu:n,QuickActions:i,ActionsMenu:o,PageMenu:a}=Tf(),s=Ee(),l=Re("isSinglePageMode",()=>s.options.maxPages<=1,[s]),c=s.options.actionShortcutsLocation==="menu"?!0:s.options.actionShortcutsLocation==="toolbar"?!1:t>=fi.TABLET;return!n&&!a&&!c?null:m.jsx("div",{ref:r,className:"tlui-menu-zone",children:m.jsxs("div",{className:"tlui-buttons__horizontal",children:[n&&m.jsx(n,{}),a&&!l&&m.jsx(a,{}),c?m.jsxs(m.Fragment,{children:[i&&m.jsx(i,{}),o&&m.jsx(o,{})]}):null]})})});function aKt(){const e=Ee(),t=yp(),[r,n]=I.useState(!1),i=I.useRef(!1);return zA("toggle showback to content",()=>{const o=i.current,a=e.getCurrentPageShapeIds();let s=!1;a.size&&(s=a.size===e.getCulledShapes().size),o!==s&&(n(s),i.current=s)},[e]),r?m.jsx(He,{actionId:"back-to-content",onSelect:()=>{t["back-to-content"].onSelect("helper-buttons"),n(!1)}}):null}function sKt(){const e=Ee();return Re("is pen mode",()=>e.getInstanceState().isPenMode,[e])?m.jsx(He,{actionId:"exit-pen-mode"}):null}function lKt(){const e=Ee(),t=yp();return Re("is following user",()=>!!e.getInstanceState().followingUserId,[e])?m.jsx(So,{...t["stop-following"]}):null}function cKt(){return m.jsxs(m.Fragment,{children:[m.jsx(sKt,{}),m.jsx(aKt,{}),m.jsx(lKt,{})]})}function uKt({children:e}){const t=e??m.jsx(cKt,{});return m.jsx("div",{className:"tlui-helper-buttons",children:m.jsx(xl,{type:"helper-buttons",sourceId:"helper-buttons",children:t})})}function dKt(){const e=aT();return m.jsxs(m.Fragment,{children:[m.jsxs(ur,{label:"shortcuts-dialog.tools",id:"tools",children:[m.jsx(He,{actionId:"toggle-tool-lock"}),m.jsx(He,{actionId:"insert-media"}),m.jsx(qa,{toolId:"select"}),m.jsx(qa,{toolId:"draw"}),m.jsx(qa,{toolId:"eraser"}),m.jsx(qa,{toolId:"hand"}),m.jsx(qa,{toolId:"rectangle"}),m.jsx(qa,{toolId:"ellipse"}),m.jsx(qa,{toolId:"arrow"}),m.jsx(qa,{toolId:"line"}),m.jsx(qa,{toolId:"text"}),m.jsx(qa,{toolId:"frame"}),m.jsx(qa,{toolId:"note"}),m.jsx(qa,{toolId:"laser"}),m.jsx(So,{id:"pointer-down",label:"tool.pointer-down",kbd:",",onSelect:()=>{}})]}),m.jsxs(ur,{label:"shortcuts-dialog.preferences",id:"preferences",children:[m.jsx(He,{actionId:"toggle-dark-mode"}),m.jsx(He,{actionId:"toggle-focus-mode"}),m.jsx(He,{actionId:"toggle-grid"})]}),m.jsxs(ur,{label:"shortcuts-dialog.edit",id:"edit",children:[m.jsx(He,{actionId:"undo"}),m.jsx(He,{actionId:"redo"}),m.jsx(He,{actionId:"cut"}),m.jsx(He,{actionId:"copy"}),m.jsx(He,{actionId:"paste"}),m.jsx(He,{actionId:"select-all"}),m.jsx(He,{actionId:"delete"}),m.jsx(He,{actionId:"duplicate"})]}),m.jsxs(ur,{label:"shortcuts-dialog.view",id:"view",children:[m.jsx(He,{actionId:"zoom-in"}),m.jsx(He,{actionId:"zoom-out"}),m.jsx(He,{actionId:"zoom-to-100"}),m.jsx(He,{actionId:"zoom-to-fit"}),m.jsx(He,{actionId:"zoom-to-selection"})]}),m.jsxs(ur,{label:"shortcuts-dialog.transform",id:"transform",children:[m.jsx(He,{actionId:"bring-to-front"}),m.jsx(He,{actionId:"bring-forward"}),m.jsx(He,{actionId:"send-backward"}),m.jsx(He,{actionId:"send-to-back"}),m.jsx(He,{actionId:"group"}),m.jsx(He,{actionId:"ungroup"}),m.jsx(He,{actionId:"flip-horizontal"}),m.jsx(He,{actionId:"flip-vertical"}),m.jsx(He,{actionId:"align-top"}),m.jsx(He,{actionId:"align-center-vertical"}),m.jsx(He,{actionId:"align-bottom"}),m.jsx(He,{actionId:"align-left"}),m.jsx(He,{actionId:"align-center-horizontal"}),m.jsx(He,{actionId:"align-right"})]}),e&&m.jsx(ur,{label:"shortcuts-dialog.collaboration",id:"collaboration",children:m.jsx(He,{actionId:"open-cursor-chat"})})]})}const AKt=I.memo(function({children:t}){const r=Or(),n=Ma(),i=t??m.jsx(dKt,{});return m.jsxs(m.Fragment,{children:[m.jsxs(rT,{className:"tlui-shortcuts-dialog__header",children:[m.jsx(nT,{children:r("shortcuts-dialog.title")}),m.jsx(iT,{})]}),m.jsx(Gw,{className:jt("tlui-shortcuts-dialog__body",{"tlui-shortcuts-dialog__body__mobile":n<=fi.MOBILE_XS,"tlui-shortcuts-dialog__body__tablet":n<=fi.TABLET}),children:m.jsx(xl,{type:"keyboard-shortcuts",sourceId:"kbd",children:i})}),m.jsx("div",{className:"tlui-dialog__scrim"})]})});function O6e(){const e=yf(),t=ko(),r=Re("locale",()=>e==null?void 0:e.user.getLocale(),[e]);return e?m.jsx(ss,{id:"help menu language",label:"menu.language",children:m.jsx(ur,{id:"languages",children:Hw.map(({locale:n,label:i})=>m.jsx(uT,{id:`language-${n}`,title:n,label:i,checked:n===r,readonlyOk:!0,onSelect:()=>{e.user.updateUserPreferences({locale:n}),t("change-language",{source:"menu",locale:n})}},n))})}):null}function fKt(){return m.jsxs(m.Fragment,{children:[m.jsx(O6e,{}),m.jsx(R6e,{})]})}function R6e(){const{KeyboardShortcutsDialog:e}=Tf(),{addDialog:t}=gx(),r=I.useCallback(()=>{e&&t({component:e})},[t,e]);return e?m.jsx(So,{id:"keyboard-shortcuts-button",label:"help-menu.keyboard-shortcuts",readonlyOk:!0,onSelect:r}):null}function hKt(){return m.jsxs(m.Fragment,{children:[m.jsxs(ur,{id:"basic",children:[m.jsx(gKt,{}),m.jsx(wKt,{}),m.jsx(pKt,{}),m.jsx(bKt,{})]}),m.jsx(xKt,{})]})}function pKt(){return m.jsxs(ss,{id:"export-all-as",label:"context-menu.export-all-as",size:"small",children:[m.jsxs(ur,{id:"export-all-as-group",children:[m.jsx(He,{actionId:"export-all-as-svg"}),m.jsx(He,{actionId:"export-all-as-png"})]}),m.jsx(ur,{id:"export-all-as-bg",children:m.jsx(lW,{})})]})}function gKt(){return m.jsxs(ss,{id:"edit",label:"menu.edit",children:[m.jsx(yKt,{}),m.jsx(C6e,{}),m.jsx(_6e,{}),m.jsx(mKt,{}),m.jsx(vKt,{}),m.jsx(ur,{id:"select-all",children:m.jsx(E6e,{})})]})}function mKt(){return m.jsxs(ur,{id:"misc",children:[m.jsx(g6e,{}),m.jsx(m6e,{}),m.jsx(h6e,{}),m.jsx(f6e,{}),m.jsx(v6e,{}),m.jsx(y6e,{}),m.jsx(B6e,{}),m.jsx(I6e,{}),m.jsx(p6e,{})]})}function vKt(){return m.jsxs(ur,{id:"lock",children:[m.jsx(w6e,{}),m.jsx(yzt,{})]})}function yKt(){const e=A6e(),t=d6e();return m.jsxs(ur,{id:"undo-redo",children:[m.jsx(He,{actionId:"undo",disabled:!e}),m.jsx(He,{actionId:"redo",disabled:!t})]})}function wKt(){return m.jsx(ss,{id:"view",label:"menu.view",children:m.jsxs(ur,{id:"view-actions",children:[m.jsx(He,{actionId:"zoom-in"}),m.jsx(He,{actionId:"zoom-out"}),m.jsx(b6e,{}),m.jsx(x6e,{}),m.jsx(S6e,{})]})})}function bKt(){return m.jsxs(m.Fragment,{children:[m.jsx(He,{actionId:"insert-embed"}),m.jsx(He,{actionId:"insert-media"})]})}function xKt(){return m.jsxs(ur,{id:"preferences",children:[m.jsxs(ss,{id:"preferences",label:"menu.preferences",children:[m.jsxs(ur,{id:"preferences-actions",children:[m.jsx(Ozt,{}),m.jsx(Rzt,{}),m.jsx(Mzt,{}),m.jsx(Fzt,{}),m.jsx(kzt,{}),m.jsx(Uzt,{}),m.jsx(Dzt,{}),m.jsx(Lzt,{}),m.jsx(Nzt,{}),m.jsx(jzt,{})]}),m.jsx(ur,{id:"color-scheme",children:m.jsx(a3t,{})})]}),m.jsx(O6e,{}),m.jsx(R6e,{})]})}const SKt=I.memo(function({children:t}){const r=Yi(),[n,i]=Kd("main menu"),o=Or(),a=t??m.jsx(hKt,{});return m.jsxs(b8,{dir:"ltr",open:n,onOpenChange:i,modal:!1,children:[m.jsx(x8,{asChild:!0,dir:"ltr",children:m.jsx(Qt,{type:"icon","data-testid":"main-menu.button",title:o("menu.title"),children:m.jsx(_r,{icon:"menu",small:!0})})}),m.jsx(tT,{container:r,children:m.jsx(S8,{className:"tlui-menu",side:"bottom",align:"start",collisionPadding:4,alignOffset:0,sideOffset:6,children:m.jsx(xl,{type:"menu",sourceId:"main-menu",children:a})})})]})}),K4={};function $y(e){if(K4[e])return K4[e];const r=document.createElement("canvas").getContext("2d");r.fillStyle=e,r.fillRect(0,0,1,1);const[n,i,o,a]=r.getImageData(0,0,1,1).data,s=new Float32Array([n/255,i/255,o/255,a/255]);return K4[e]=s,s}const ZC=10,M6e=4*6*ZC+12+4*12;function xg(e,{center:t,radius:r,numArcSegments:n=20,startAngle:i=0,endAngle:o=ln,offset:a=0}){const s=(o-i)/n;let l=a;for(let c=i;c<o;c+=s)e[l++]=t.x,e[l++]=t.y,e[l++]=t.x+Math.cos(c)*r,e[l++]=t.y+Math.sin(c)*r,e[l++]=t.x+Math.cos(c+s)*r,e[l++]=t.y+Math.sin(c+s)*r;return e}function Sg(e,t,r,n,i,o){e[t++]=r,e[t++]=n,e[t++]=r,e[t++]=n+o,e[t++]=r+i,e[t++]=n,e[t++]=r+i,e[t++]=n,e[t++]=r,e[t++]=n+o,e[t++]=r+i,e[t++]=n+o}function CKt(e,t,r){const n=ZC;r=Math.min(r,Math.min(t.w,t.h)/2);const i=st.ExpandBy(t,-r);if(i.w<=0||i.h<=0)return xg(e,{center:t.center,radius:r,numArcSegments:ZC*4}),ZC*4*6;let o=0;return Sg(e,o,i.minX,i.minY,i.w,i.h),o+=12,Sg(e,o,i.minX,t.minY,i.w,r),o+=12,Sg(e,o,i.maxX,i.minY,r,i.h),o+=12,Sg(e,o,i.minX,i.maxY,i.w,r),o+=12,Sg(e,o,t.minX,i.minY,r,i.h),o+=12,xg(e,{numArcSegments:n,offset:o,center:i.point,radius:r,startAngle:jr,endAngle:jr*1.5}),o+=n*6,xg(e,{numArcSegments:n,offset:o,center:L.Add(i.point,new L(i.w,0)),radius:r,startAngle:jr*1.5,endAngle:ln}),o+=n*6,xg(e,{numArcSegments:n,offset:o,center:L.Add(i.point,i.size),radius:r,startAngle:0,endAngle:En}),o+=n*6,xg(e,{numArcSegments:n,offset:o,center:L.Add(i.point,new L(0,i.h)),radius:r,startAngle:En,endAngle:jr}),M6e}function _Kt(e){if(!e)throw new Error("Canvas element not found");const t=e.getContext("webgl2",{premultipliedAlpha:!1});if(!t)throw new Error("Failed to get webgl2 context");const r=`#version 300 es
  precision mediump float;
  
  in vec2 shapeVertexPosition;

	uniform vec4 canvasPageBounds;

	// taken (with thanks) from
	// https://webglfundamentals.org/webgl/lessons/webgl-2d-matrices.html
  void main() {
		// convert the position from pixels to 0.0 to 1.0
		vec2 zeroToOne = (shapeVertexPosition - canvasPageBounds.xy) / canvasPageBounds.zw;
	
		// convert from 0->1 to 0->2
		vec2 zeroToTwo = zeroToOne * 2.0;
	
		// convert from 0->2 to -1->+1 (clipspace)
		vec2 clipSpace = zeroToTwo - 1.0;
	
		gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
  }`,n=t.createShader(t.VERTEX_SHADER);if(!n)throw new Error("Failed to create vertex shader");if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Failed to compile vertex shader");const i=`#version 300 es
  precision mediump float;
  
	uniform vec4 fillColor;
  out vec4 outputColor;

  void main() {
	outputColor = fillColor;
  }`,o=t.createShader(t.FRAGMENT_SHADER);if(!o)throw new Error("Failed to create fragment shader");if(t.shaderSource(o,i),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Error("Failed to compile fragment shader");const a=t.createProgram();if(!a)throw new Error("Failed to create program");if(t.attachShader(a,n),t.attachShader(a,o),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error("Failed to link program");t.useProgram(a);const s=t.getAttribLocation(a,"shapeVertexPosition");if(s<0)throw new Error("Failed to get shapeVertexPosition attribute location");t.enableVertexAttribArray(s);const l=t.getUniformLocation(a,"canvasPageBounds"),c=t.getUniformLocation(a,"fillColor");if(!t.createBuffer())throw new Error("Failed to create buffer");if(!t.createBuffer())throw new Error("Failed to create buffer");return{context:t,selectedShapes:Z1(t,1024),unselectedShapes:Z1(t,4096),viewport:Z1(t,M6e),collaborators:Z1(t,1024),prepareTriangles(A,f){t.bindBuffer(t.ARRAY_BUFFER,A.buffer),t.bufferData(t.ARRAY_BUFFER,A.vertices,t.STATIC_DRAW,0,f),t.enableVertexAttribArray(s),t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0)},drawTrianglesTransparently(A){t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.drawArrays(t.TRIANGLES,0,A/2),t.disable(t.BLEND)},drawTriangles(A){t.drawArrays(t.TRIANGLES,0,A/2)},setFillColor(A){t.uniform4fv(c,A)},setCanvasPageBounds(A){t.uniform4fv(l,A)}}}function Z1(e,t){const r=e.createBuffer();if(!r)throw new Error("Failed to create buffer");return{buffer:r,vertices:new Float32Array(t)}}function vPe(e,t,r){let n=e.vertices.length;for(;n<t+r.length;)n*=2;if(n!=e.vertices.length){const i=new Float32Array(n);i.set(e.vertices),e.vertices=i}e.vertices.set(r,t)}var EKt=Object.create,F6e=Object.defineProperty,IKt=Object.getOwnPropertyDescriptor,BKt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),k6e=e=>{throw TypeError(e)},U6e=(e,t,r)=>t in e?F6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PKt=e=>[,,,EKt(null)],D6e=["class","method","getter","setter","accessor","field","value","get","set"],j6e=e=>e!==void 0&&typeof e!="function"?k6e("Function expected"):e,TKt=(e,t,r,n,i)=>({kind:D6e[e],name:t,metadata:n,addInitializer:o=>r._?k6e("Already initialized"):i.push(j6e(o||null))}),OKt=(e,t)=>U6e(t,BKt("metadata"),e[3]),RKt=(e,t,r,n)=>{for(var i=0,o=e[t>>1],a=o&&o.length;i<a;i++)o[i].call(r);return n},Ru=(e,t,r,n,i,o)=>{for(var a,s,l,c,u=t&7,d=!1,A=!1,f=2,h=D6e[u+5],p=e[f]||(e[f]=[]),v=(i=i.prototype,IKt(i,r)),y=n.length-1;y>=0;y--)l=TKt(u,r,s={},e[3],p),l.static=d,l.private=A,c=l.access={has:b=>r in b},c.get=b=>b[r],a=(0,n[y])(v[h],l),s._=1,j6e(a)&&(v[h]=a);return v&&F6e(i,r,v),i},Xu=(e,t,r)=>U6e(e,typeof t!="symbol"?t+"":t,r),L6e,N6e,$6e,Q6e,H6e,q6e,z6e,K6e,W6e,V6e,Qs;V6e=[Ja],W6e=[qe],K6e=[qe],z6e=[qe],q6e=[qe],H6e=[qe],Q6e=[qe],$6e=[qe],N6e=[qe],L6e=[Ja];class Pl{constructor(t,r,n){this.editor=t,this.elem=r,this.container=n,RKt(Qs,5,this),Xu(this,"disposables",[]),Xu(this,"gl"),Xu(this,"shapeGeometryCache"),Xu(this,"colors"),Xu(this,"id",tn()),Xu(this,"canvasBoundingClientRect",Ci("canvasBoundingClientRect",new st)),Xu(this,"originPagePoint",new L),Xu(this,"originPageCenter",new L),Xu(this,"isInViewport",!1),this.gl=_Kt(r),this.shapeGeometryCache=t.store.createComputedCache("webgl-geometry",i=>{const o=t.getShapeMaskedPageBounds(i.id);if(!o)return null;const a=new Float32Array(12);return Sg(a,0,o.x,o.y,o.w,o.h),a}),this.colors=this._getColors(),this.disposables.push(this._listenForCanvasResize(),iu("minimap render",this.render))}close(){return this.disposables.forEach(t=>t())}_getColors(){const t=getComputedStyle(this.editor.getContainer());return{shapeFill:$y(t.getPropertyValue("--color-text-3").trim()),selectFill:$y(t.getPropertyValue("--color-selected").trim()),viewportFill:$y(t.getPropertyValue("--color-muted-1").trim()),background:$y(t.getPropertyValue("--color-low").trim())}}updateColors(){this.colors=this._getColors()}getDpr(){return this.editor.getInstanceState().devicePixelRatio}getContentPageBounds(){const t=this.editor.getViewportPageBounds(),r=this.editor.getCurrentPageBounds();return r?st.Expand(r,t):t}getContentScreenBounds(){const t=this.getContentPageBounds(),r=this.editor.pageToScreen(t.point),n=this.editor.pageToScreen(new L(t.maxX,t.maxY));return new st(r.x,r.y,n.x-r.x,n.y-r.y)}_getCanvasBoundingRect(){const{x:t,y:r,width:n,height:i}=this.elem.getBoundingClientRect();return new st(t,r,n,i)}getCanvasScreenBounds(){return this.canvasBoundingClientRect.get()}_listenForCanvasResize(){const t=new ResizeObserver(()=>{const r=this._getCanvasBoundingRect();this.canvasBoundingClientRect.set(r)});return t.observe(this.elem),t.observe(this.container),()=>t.disconnect()}getCanvasSize(){const t=this.canvasBoundingClientRect.get(),r=this.getDpr();return new L(t.width*r,t.height*r)}getCanvasClientPosition(){return this.canvasBoundingClientRect.get().point}getCanvasPageBounds(){const t=this.getCanvasScreenBounds(),r=this.getContentPageBounds(),n=t.width/t.height;let i=r.width,o=i/n;o<r.height&&(o=r.height,i=o*n);const a=new st(0,0,i,o);return a.center=r.center,a}getZoom(){return this.getCanvasPageBounds().width/this.getCanvasScreenBounds().width}getCanvasPageBoundsArray(){const{x:t,y:r,w:n,h:i}=this.getCanvasPageBounds();return new Float32Array([t,r,n,i])}getMinimapPagePoint(t,r){const n=this.getCanvasPageBounds(),i=this.getCanvasScreenBounds();let o=t-i.x,a=r-i.y;return o*=n.width/i.width,a*=n.height/i.height,o+=n.minX,a+=n.minY,new L(o,a,1)}minimapScreenPointToPagePoint(t,r,n=!1,i=!1){const{editor:o}=this,a=o.getViewportPageBounds();let{x:s,y:l}=this.getMinimapPagePoint(t,r);if(i){const c=this.editor.getCurrentPageBounds()??new st,u=c.minX-a.width/2,d=c.maxX+a.width/2,A=c.minY-a.height/2,f=c.maxY+a.height/2,h=Math.max(0,u+a.width-s),p=Math.max(0,-(d-a.width-s)),v=Math.max(0,A+a.height-l),y=Math.max(0,-(f-a.height-l));s+=(h-p)/2,l+=(v-y)/2,s=vo(s,u,d),l=vo(l,A,f)}if(n){const{originPagePoint:c}=this,u=Math.abs(s-c.x),d=Math.abs(l-c.y);u>d?l=c.y:s=c.x}return new L(s,l)}render(){const t=this.gl.context,r=this.getCanvasSize();this.gl.setCanvasPageBounds(this.getCanvasPageBoundsArray()),this.elem.width=r.x,this.elem.height=r.y,t.viewport(0,0,r.x,r.y),t.clearColor(this.colors.background[0],this.colors.background[1],this.colors.background[2],1),t.clear(t.COLOR_BUFFER_BIT);const n=new Set(this.editor.getSelectedShapeIds()),i=this.colors;let o=0,a=0;const s=this.editor.getCurrentPageShapeIdsSorted();for(let l=0,c=s.length;l<c;l++){const u=s[l],d=this.shapeGeometryCache.get(u);if(!d)continue;const A=d.length;n.has(u)?(vPe(this.gl.selectedShapes,o,d),o+=A):(vPe(this.gl.unselectedShapes,a,d),a+=A)}this.drawShapes(this.gl.unselectedShapes,a,i.shapeFill),this.drawShapes(this.gl.selectedShapes,o,i.selectFill),this.drawViewport(),this.drawCollaborators()}drawShapes(t,r,n){this.gl.prepareTriangles(t,r),this.gl.setFillColor(n),this.gl.drawTriangles(r)}drawViewport(){const t=this.editor.getViewportPageBounds(),r=CKt(this.gl.viewport.vertices,t,4*this.getZoom());this.gl.prepareTriangles(this.gl.viewport,r),this.gl.setFillColor(this.colors.viewportFill),this.gl.drawTrianglesTransparently(r),an.isSafari&&(this.gl.drawTrianglesTransparently(r),this.gl.drawTrianglesTransparently(r),this.gl.drawTrianglesTransparently(r))}drawCollaborators(){const t=this.editor.getCollaboratorsOnCurrentPage();if(!t.length)return;const r=20,n=r*6,i=n*t.length;this.gl.collaborators.vertices.length<i&&(this.gl.collaborators.vertices=new Float32Array(i));const o=this.gl.collaborators.vertices;let a=0;const s=this.getZoom();for(const{cursor:l}of t)l&&(xg(o,{center:L.From(l),radius:3*s,offset:a,numArcSegments:r}),a+=n);this.gl.prepareTriangles(this.gl.collaborators,i),a=0;for(const{color:l}of t)this.gl.setFillColor($y(l)),this.gl.context.drawArrays(this.gl.context.TRIANGLES,a/2,n/2),a+=n}}Qs=PKt();Ru(Qs,1,"close",V6e,Pl);Ru(Qs,1,"getDpr",W6e,Pl);Ru(Qs,1,"getContentPageBounds",K6e,Pl);Ru(Qs,1,"getContentScreenBounds",z6e,Pl);Ru(Qs,1,"getCanvasSize",q6e,Pl);Ru(Qs,1,"getCanvasClientPosition",H6e,Pl);Ru(Qs,1,"getCanvasPageBounds",Q6e,Pl);Ru(Qs,1,"getZoom",$6e,Pl);Ru(Qs,1,"getCanvasPageBoundsArray",N6e,Pl);Ru(Qs,1,"render",L6e,Pl);OKt(Qs,Pl);function MKt(){const e=Ee(),t=Yi(),r=I.useRef(null),n=I.useRef(!1),i=I.useRef();I.useEffect(()=>{try{const u=new Pl(e,r.current,t);return i.current=u,i.current.close}catch(u){e.annotateError(u,{origin:"minimap",willCrashApp:!1}),e.timers.setTimeout(()=>{throw u})}},[e,t]);const o=I.useCallback(u=>{if(!e.getCurrentPageShapeIds().size||!i.current)return;const d=i.current.minimapScreenPointToPagePoint(u.clientX,u.clientY,!1,!1),A=i.current.minimapScreenPointToPagePoint(u.clientX,u.clientY,!1,!0);i.current.originPagePoint.setTo(A),i.current.originPageCenter.setTo(e.getViewportPageBounds().center),e.centerOnPoint(d,{animation:{duration:e.options.animationMediumMs}})},[e]),a=I.useCallback(u=>{if(!i.current)return;const d=u.currentTarget;if(qb(d,u),!e.getCurrentPageShapeIds().size)return;n.current=!0,i.current.isInViewport=!1;const A=i.current.minimapScreenPointToPagePoint(u.clientX,u.clientY,!1,!1),f=e.getViewportPageBounds(),h=i.current.getContentPageBounds();if(new st(h.x-f.width/2,h.y-f.height/2,h.width+f.width,h.height+f.height).containsPoint(A)&&!f.containsPoint(A)){i.current.isInViewport=f.containsPoint(A);const y=L.Sub(f.center,f.point),b=L.Add(A,y);i.current.originPagePoint.setTo(b),i.current.originPageCenter.setTo(A),e.centerOnPoint(A,{animation:{duration:e.options.animationMediumMs}})}else{const y=i.current.minimapScreenPointToPagePoint(u.clientX,u.clientY,!1,!0);i.current.isInViewport=f.containsPoint(y),i.current.originPagePoint.setTo(y),i.current.originPageCenter.setTo(f.center)}function v(y){d&&zb(d,y),n.current=!1,document.body.removeEventListener("pointerup",v)}document.body.addEventListener("pointerup",v)},[e]),s=I.useCallback(u=>{if(!i.current)return;const d=i.current.minimapScreenPointToPagePoint(u.clientX,u.clientY,u.shiftKey,!0);if(n.current){if(i.current.isInViewport){const p=i.current.originPagePoint.clone().sub(i.current.originPageCenter);e.centerOnPoint(L.Sub(d,p));return}e.centerOnPoint(d)}const A=i.current.getMinimapPagePoint(u.clientX,u.clientY),f=e.pageToScreen(A),h={type:"pointer",target:"canvas",name:"pointer_move",...xs(u),point:f,isPen:e.getInstanceState().isPenMode};e.dispatch(h)},[e]),l=I.useCallback(u=>{const d=PDe(u);e.dispatch({type:"wheel",name:"wheel",delta:d,point:new L(u.clientX,u.clientY),shiftKey:u.shiftKey,altKey:u.altKey,ctrlKey:u.metaKey||u.ctrlKey,metaKey:u.metaKey,accelKey:ra(u)})},[e]),c=cx();return I.useEffect(()=>{e.timers.setTimeout(()=>{var u,d;(u=i.current)==null||u.updateColors(),(d=i.current)==null||d.render()})},[c,e]),m.jsx("div",{className:"tlui-minimap",children:m.jsx("canvas",{role:"img","aria-label":"minimap",ref:r,className:"tlui-minimap__canvas",onDoubleClick:o,onPointerMove:s,onPointerDown:a,onWheelCapture:l})})}function FKt(e,t){const[r,n]=ue.useState(t);ue.useLayoutEffect(()=>{const o=fz(e);if(o)try{n(JSON.parse(o))}catch{console.error(`Could not restore value ${e} from local storage.`)}},[e]);const i=ue.useCallback(o=>{n(a=>{const s=typeof o=="function"?o(a):o;return hz(e,JSON.stringify(s)),s})},[e]);return[r,i]}const kKt=I.memo(function(){const t=yp(),r=Or(),n=Ma(),i=I.useRef(null);Ef(i);const[o,a]=FKt("minimap",!0),s=I.useCallback(()=>{a(u=>!u)},[a]),{ZoomMenu:l,Minimap:c}=Tf();return n<fi.MOBILE?null:m.jsxs("div",{ref:i,className:"tlui-navigation-panel",children:[m.jsx("div",{className:"tlui-buttons__horizontal",children:l&&n<fi.TABLET?m.jsx(l,{}):o?m.jsxs(m.Fragment,{children:[l&&m.jsx(l,{}),c&&m.jsx(Qt,{type:"icon","data-testid":"minimap.toggle-button",title:r("navigation-zone.toggle-minimap"),className:"tlui-navigation-panel__toggle",onClick:s,children:m.jsx(_r,{icon:o?"chevrons-ne":"chevrons-sw"})})]}):m.jsxs(m.Fragment,{children:[m.jsx(Qt,{type:"icon","data-testid":"minimap.zoom-out",title:`${r(Yw(t["zoom-out"].label))} ${_5(t["zoom-out"].kbd)}`,onClick:()=>t["zoom-out"].onSelect("navigation-zone"),children:m.jsx(_r,{icon:"minus"})}),l&&m.jsx(l,{}),m.jsx(Qt,{type:"icon","data-testid":"minimap.zoom-in",title:`${r(Yw(t["zoom-in"].label))} ${_5(t["zoom-in"].kbd)}`,onClick:()=>t["zoom-in"].onSelect("navigation-zone"),children:m.jsx(_r,{icon:"plus"})}),c&&m.jsx(Qt,{type:"icon","data-testid":"minimap.toggle-button",title:r("navigation-zone.toggle-minimap"),className:"tlui-navigation-panel__toggle",onClick:s,children:m.jsx(_r,{icon:o?"chevrons-ne":"chevrons-sw"})})]})}),c&&n>=fi.TABLET&&!o&&m.jsx(c,{})]})}),UKt=function({name:t,id:r,isCurrentPage:n,onCancel:i}){const o=Ee(),a=ko(),s=I.useRef(null),l=I.useRef(null),c=I.useCallback(()=>{l.current=o.markHistoryStoppingPoint("rename page")},[o]),u=I.useCallback(A=>{o.renamePage(r,A||"New Page"),a("rename-page",{source:"page-menu"})},[o,r,a]),d=I.useCallback(()=>{l.current&&o.bailToMark(l.current),i()},[o,i]);return m.jsx(oT,{className:"tlui-page-menu__item__input",ref:A=>s.current=A,defaultValue:t,onValueChange:u,onCancel:d,onFocus:c,shouldManuallyMaintainScrollPositionWhenFocused:!0,autoFocus:n,autoSelect:!0})},z5=(e,t,r,n,i)=>{let o;const a=e.getPages(),s=r>n?a[n-1]:a[n],l=r>n?a[n]:a[n+1];s&&!l?o=Yc(s.index):!s&&l?o=DSt(a[0].index):o=Nw(s.index,l.index),o!==a[r].index&&(e.markHistoryStoppingPoint("moving page"),e.updatePage({id:t,index:o}),i("move-page",{source:"page-menu"}))},yPe=Ro(function({index:t,listSize:r,item:n,onRename:i}){const o=Ee(),a=Or(),s=o.getPages(),l=ko(),c=I.useCallback(()=>{o.markHistoryStoppingPoint("creating page");const f=Rs.createId();o.duplicatePage(n.id,f),l("duplicate-page",{source:"page-menu"})},[o,n,l]),u=I.useCallback(()=>{z5(o,n.id,t,t-1,l)},[o,n,t,l]),d=I.useCallback(()=>{z5(o,n.id,t,t+1,l)},[o,n,t,l]),A=I.useCallback(()=>{o.markHistoryStoppingPoint("deleting page"),o.deletePage(n.id),l("delete-page",{source:"page-menu"})},[o,n,l]);return m.jsxs($h,{id:`page item submenu ${t}`,children:[m.jsx(Qh,{children:m.jsx(Qt,{type:"icon",title:a("page-menu.submenu.title"),children:m.jsx(_r,{icon:"dots-vertical",small:!0})})}),m.jsx(Hh,{alignOffset:0,side:"right",sideOffset:-4,children:m.jsxs(xl,{type:"menu",sourceId:"page-menu",children:[m.jsxs(ur,{id:"modify",children:[i&&m.jsx(So,{id:"rename",label:"page-menu.submenu.rename",onSelect:i}),m.jsx(So,{id:"duplicate",label:"page-menu.submenu.duplicate-page",onSelect:c,disabled:s.length>=o.options.maxPages}),t>0&&m.jsx(So,{id:"move-up",onSelect:u,label:"page-menu.submenu.move-up"}),t<r-1&&m.jsx(So,{id:"move-down",label:"page-menu.submenu.move-down",onSelect:d})]}),r>1&&m.jsx(ur,{id:"delete",children:m.jsx(So,{id:"delete",onSelect:A,label:"page-menu.submenu.delete"})})]})})]})}),DKt=I.memo(function(){const t=Ee(),r=ko(),n=Or(),i=Ma(),o=I.useCallback(()=>y(!1),[]),[a,s]=Kd("page-menu",o),l=36,c=I.useRef(null),u=Re("pages",()=>t.getPages(),[t]),d=Re("currentPage",()=>t.getCurrentPage(),[t]),A=Re("currentPageId",()=>t.getCurrentPageId(),[t]),f=$s(),h=Re("maxPageCountReached",()=>t.getPages().length>=t.options.maxPages,[t]),p=Re("isCoarsePointer",()=>t.getInstanceState().isCoarsePointer,[t]),[v,y]=I.useState(!1),b=I.useCallback(()=>{f||y(k=>!k)},[f]),x=I.useRef({isPointing:!1,status:"idle",pointing:null,startY:0,startIndex:0,dragIndex:0}),[S,C]=I.useState(Object.fromEntries(u.map((k,M)=>[k.id,{y:M*l,offsetY:0,isSelected:!1}])));I.useLayoutEffect(()=>{C(Object.fromEntries(u.map((k,M)=>[k.id,{y:M*l,offsetY:0,isSelected:!1}])))},[l,u]),I.useEffect(()=>{a&&t.timers.requestAnimationFrame(()=>{const k=document.querySelector(`[data-testid="page-menu-item-${A}"]`);if(k){const M=c.current;if(!M)return;const D=k.offsetTop,j=M.scrollTop;D<j&&M.scrollTo({top:D});const $=D+l,Q=M.scrollTop+M.offsetHeight;$>Q&&M.scrollTo({top:$-M.offsetHeight})}})},[l,A,a,t]);const _=I.useCallback(k=>{const{clientY:M,currentTarget:D}=k,{dataset:{id:j,index:$}}=D;if(!j||!$)return;const Q=x.current;qb(k.currentTarget,k),Q.status="pointing",Q.pointing={id:j,index:+$};const W=S[j].y;Q.startY=M,Q.startIndex=Math.max(0,Math.min(Math.round(W/l),u.length-1))},[l,u.length,S]),B=I.useCallback(k=>{const M=x.current;if(M.status==="pointing"){const{clientY:D}=k,j=D-M.startY;Math.abs(j)>5&&(M.status="dragging")}if(M.status==="dragging"){const{clientY:D}=k,j=D-M.startY,$=S[M.pointing.id],{startIndex:Q,pointing:H}=M,W=$.y+j,z=Math.max(0,Math.min(Math.round(W/l),u.length-1)),V={...S};if(V[H.id]={y:$.y,offsetY:j,isSelected:!0},z!==M.dragIndex){M.dragIndex=z;for(let G=0;G<u.length;G++){const X=u[G];if(X.id===M.pointing.id)continue;let{y:Z}=V[X.id];z===Q?Z=G*l:z<Q?z<=G&&G<Q?Z=(G+1)*l:Z=G*l:z>Q&&(z>=G&&G>Q?Z=(G-1)*l:Z=G*l),Z!==V[X.id].y&&(V[X.id]={y:Z,offsetY:0,isSelected:!0})}}C(V)}},[l,u,S]),T=I.useCallback(k=>{const M=x.current;if(M.status==="dragging"){const{id:D,index:j}=M.pointing;z5(t,D,j,M.dragIndex,r)}zb(k.currentTarget,k),M.status="idle"},[t,r]),O=I.useCallback(k=>{const M=x.current;k.key==="Escape"&&(M.status==="dragging"&&C(Object.fromEntries(u.map((D,j)=>[D.id,{y:j*l,offsetY:0,isSelected:!1}]))),M.status="idle")},[l,u]),P=I.useCallback(()=>{f||(t.run(()=>{t.markHistoryStoppingPoint("creating page");const k=Rs.createId();t.createPage({name:n("page-menu.new-page-initial-name"),id:k}),t.setCurrentPage(k),y(!0)}),r("new-page",{source:"page-menu"}))},[t,n,f,r]),F=I.useCallback(k=>{t.setCurrentPage(k),r("change-page",{source:"page-menu"})},[t,r]),U=I.useCallback((k,M)=>{t.renamePage(k,M),r("rename-page",{source:"page-menu"})},[t,r]);return m.jsxs(oW,{id:"pages",onOpenChange:s,open:a,children:[m.jsx(aW,{"data-testid":"main.page-menu",children:m.jsxs(Qt,{type:"menu",title:d.name,"data-testid":"page-menu.button",className:"tlui-page-menu__trigger",children:[m.jsx("div",{className:"tlui-page-menu__name",children:d.name}),m.jsx(_r,{icon:"chevron-down",small:!0})]})}),m.jsx(sW,{side:"bottom",align:"start",sideOffset:6,disableEscapeKeyDown:v,children:m.jsxs("div",{className:"tlui-page-menu__wrapper",children:[m.jsxs("div",{className:"tlui-page-menu__header",children:[m.jsx("div",{className:"tlui-page-menu__header__title",children:n("page-menu.title")}),!f&&m.jsxs("div",{className:"tlui-buttons__horizontal",children:[m.jsx(Qt,{type:"icon","data-testid":"page-menu.edit",title:n(v?"page-menu.edit-done":"page-menu.edit-start"),onClick:b,children:m.jsx(_r,{icon:v?"check":"edit"})}),m.jsx(Qt,{type:"icon","data-testid":"page-menu.create",title:n(h?"page-menu.max-page-count-reached":"page-menu.create-new-page"),disabled:h,onClick:P,children:m.jsx(_r,{icon:"plus"})})]})]}),m.jsx("div",{"data-testid":"page-menu.list",className:"tlui-page-menu__list tlui-menu__group",style:{height:l*u.length+4},ref:c,children:u.map((k,M)=>{const D=S[k.id]??{offsetY:0};return v?m.jsxs("div",{"data-testid":"page-menu.item",className:"tlui-page_menu__item__sortable",style:{zIndex:k.id===d.id?888:M,transform:`translate(0px, ${D.y+D.offsetY}px)`},children:[m.jsx(Qt,{type:"icon",tabIndex:-1,className:"tlui-page_menu__item__sortable__handle",onPointerDown:_,onPointerUp:T,onPointerMove:B,onKeyDown:O,"data-id":k.id,"data-index":M,children:m.jsx(_r,{icon:"drag-handle-dots"})}),i<fi.TABLET_SM&&p?m.jsxs(Qt,{type:"normal",className:"tlui-page-menu__item__button",onClick:()=>{const j=window.prompt("Rename page",k.name);j&&j!==k.name&&U(k.id,j)},onDoubleClick:b,children:[m.jsx(q5,{checked:k.id===d.id}),m.jsx(Si,{children:k.name})]}):m.jsx("div",{className:"tlui-page_menu__item__sortable__title",style:{height:l},children:m.jsx(UKt,{id:k.id,name:k.name,isCurrentPage:k.id===d.id,onCancel:()=>{y(!1),t.menus.clearOpenMenus()}})}),!f&&m.jsx("div",{className:"tlui-page_menu__item__submenu","data-isediting":v,children:m.jsx(yPe,{index:M,item:k,listSize:u.length})})]},k.id+"_editing"):m.jsxs("div",{"data-testid":"page-menu.item",className:"tlui-page-menu__item",children:[m.jsxs(Qt,{type:"normal",className:"tlui-page-menu__item__button",onClick:()=>F(k.id),onDoubleClick:b,title:n("page-menu.go-to-page"),children:[m.jsx(q5,{checked:k.id===d.id}),m.jsx(Si,{children:k.name})]}),!f&&m.jsx("div",{className:"tlui-page_menu__item__submenu",children:m.jsx(yPe,{index:M,item:k,listSize:u.length,onRename:()=>{if(an.isIos){const j=window.prompt("Rename page",k.name);j&&j!==k.name&&U(k.id,j)}else y(!0),A!==k.id&&F(k.id)}})})]},k.id)})})]})})]})});function jKt(){const e=Ee(),t=$s(),r=Re("should display quick actions",()=>e.isInAny("select","hand","zoom"),[e]);if(!(t&&!r))return m.jsxs(m.Fragment,{children:[m.jsx(NKt,{}),m.jsx(LKt,{})]})}function LKt(){const e=Fa(1),t=Wd(),r=e&&t;return m.jsxs(m.Fragment,{children:[m.jsx(He,{actionId:"delete",disabled:!r}),m.jsx(He,{actionId:"duplicate",disabled:!r})]})}function NKt(){const e=A6e(),t=d6e();return m.jsxs(m.Fragment,{children:[m.jsx(He,{actionId:"undo",disabled:!e}),m.jsx(He,{actionId:"redo",disabled:!t})]})}const $Kt=I.memo(function({children:t}){const r=t??m.jsx(jKt,{});return m.jsx(xl,{type:"small-icons",sourceId:"quick-actions",children:r})});function QKt({userId:e}){const t=ZB(e);return t?m.jsx("div",{className:"tlui-people-menu__avatar",style:{backgroundColor:t.color},children:t.userName==="New User"?"":t.userName[0]??""},e):null}const HKt=Ro(function({userId:t}){const r=Ee(),n=Or(),i=ko(),o=ZB(t),a=I.useCallback(()=>{r.getInstanceState().followingUserId===t?(r.stopFollowingUser(),i("stop-following",{source:"people-menu"})):(r.startFollowingUser(t),i("start-following",{source:"people-menu"}))},[r,t,i]),s=(o==null?void 0:o.followingUserId)===r.user.getId(),l=r.getInstanceState().followingUserId===t;return o?m.jsxs("div",{className:"tlui-people-menu__item tlui-buttons__horizontal",children:[m.jsxs(Qt,{type:"menu",className:"tlui-people-menu__item__button",onClick:()=>r.zoomToUser(t),onDoubleClick:a,children:[m.jsx(fu,{icon:"color",color:o.color}),m.jsx("div",{className:"tlui-people-menu__name",children:o.userName??"New User"})]}),m.jsx(Qt,{type:"icon",className:"tlui-people-menu__item__follow",title:n(s?"people-menu.leading":l?"people-menu.following":"people-menu.follow"),onClick:a,disabled:s,"data-active":l||s,children:m.jsx(_r,{icon:s?"leading":l?"following":"follow"})})]}):null});function qKt({count:e}){return m.jsx("div",{className:"tlui-people-menu__more",children:"+"+Math.abs(e)})}const zKt=Ro(function(){const t=Ee(),r=Yi(),n=Or(),i=ko(),o=I.useRef(!1),[a,s]=I.useState(!1),l=I.useCallback(p=>{s(p)},[]),c=t.user.getColor(),u=I.useCallback(p=>{t.user.updateUserPreferences({color:p}),i("set-color",{source:"people-menu"})},[t,i]),{handleButtonClick:d,handleButtonPointerDown:A,handleButtonPointerEnter:f,handleButtonPointerUp:h}=ue.useMemo(()=>{const p=()=>{o.current=!1,window.removeEventListener("pointerup",p)};return{handleButtonClick:S=>{const{id:C}=S.currentTarget.dataset;C&&c!==C&&u(C)},handleButtonPointerDown:S=>{const{id:C}=S.currentTarget.dataset;C&&(u(C),o.current=!0,window.addEventListener("pointerup",p))},handleButtonPointerEnter:S=>{if(!o.current)return;const{id:C}=S.currentTarget.dataset;C&&u(C)},handleButtonPointerUp:S=>{const{id:C}=S.currentTarget.dataset;C&&u(C)}}},[c,u]);return m.jsxs(tW,{onOpenChange:l,open:a,children:[m.jsx(rW,{dir:"ltr",asChild:!0,children:m.jsx(Qt,{type:"icon",className:"tlui-people-menu__user__color",style:{color:t.user.getColor()},title:n("people-menu.change-color"),children:m.jsx(_r,{icon:"color"})})}),m.jsx(nW,{container:r,children:m.jsx(iW,{dir:"ltr",className:"tlui-menu tlui-people-menu__user__color-picker",align:"start",side:"left",sideOffset:8,children:m.jsx("div",{className:"tlui-buttons__grid",children:Z3.map(p=>m.jsx(Qt,{type:"icon","data-id":p,"data-testid":p,"aria-label":p,"data-state":c===p?"hinted":void 0,title:p,className:"tlui-button-grid__button",style:{color:p},onPointerEnter:f,onPointerDown:A,onPointerUp:h,onClick:d,children:m.jsx(_r,{icon:"color"})},p))})})})]})});function KKt(){const e=Ee(),t=ko(),r=Re("userName",()=>e.user.getName(),[]),n=Or(),i=I.useRef(r),o=I.useRef(r),[a,s]=I.useState(!1),l=I.useCallback(()=>{s(A=>!A)},[]),c=I.useCallback(A=>{o.current=A,e.user.updateUserPreferences({name:A})},[e]),u=I.useCallback(()=>{i.current!==o.current&&(t("change-user-name",{source:"people-menu"}),i.current=o.current)},[t]),d=I.useCallback(()=>{s(!1),e.user.updateUserPreferences({name:i.current}),e.menus.clearOpenMenus()},[e]);return m.jsxs("div",{className:"tlui-people-menu__user",children:[m.jsx(zKt,{}),a?m.jsx(oT,{className:"tlui-people-menu__user__input",defaultValue:r,onValueChange:c,onComplete:l,onCancel:d,onBlur:u,shouldManuallyMaintainScrollPositionWhenFocused:!0,autoFocus:!0,autoSelect:!0}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"tlui-people-menu__user__name",onDoubleClick:()=>{a||s(!0)},children:r}),r==="New User"?m.jsx("div",{className:"tlui-people-menu__user__label",children:n("people-menu.user")}):null]}),m.jsx(Qt,{type:"icon",className:"tlui-people-menu__user__edit","data-testid":"people-menu.change-name",title:n("people-menu.change-name"),onClick:l,children:m.jsx(_r,{icon:a?"check":"edit"})})]})}function WKt({displayUserWhenAlone:e,children:t}){const r=Or(),n=Yi(),i=Ee(),o=RDe(),a=Re("user",()=>i.user.getColor(),[i]),s=Re("user",()=>i.user.getName(),[i]),[l,c]=Kd("people menu");return m.jsxs(tW,{onOpenChange:c,open:l,children:[m.jsx(rW,{dir:"ltr",asChild:!0,children:m.jsxs("button",{className:"tlui-people-menu__avatars-button",title:r("people-menu.title"),children:[o.length>5&&m.jsx(qKt,{count:o.length-5}),m.jsxs("div",{className:"tlui-people-menu__avatars",children:[o.slice(-5).map(u=>m.jsx(QKt,{userId:u},u)),(e||o.length>0)&&m.jsx("div",{className:"tlui-people-menu__avatar",style:{backgroundColor:a},children:s==="New User"?"":s[0]??""})]})]})}),m.jsx(nW,{container:n,children:m.jsx(iW,{dir:"ltr",className:"tlui-menu",side:"bottom",sideOffset:2,collisionPadding:4,onEscapeKeyDown:hr,children:m.jsxs("div",{className:"tlui-people-menu__wrapper",children:[m.jsx("div",{className:"tlui-people-menu__section",children:m.jsx(KKt,{})}),o.length>0&&m.jsx("div",{className:"tlui-people-menu__section",children:o.map(u=>m.jsx(HKt,{userId:u},u+"_presence"))}),t]})})})]})}function VKt(){return m.jsx("div",{className:"tlui-share-zone",draggable:!1,children:m.jsx(WKt,{displayUserWhenAlone:!0})})}const GKt=Object.freeze([Os,Uh,Dh,uu]);function G6e(e=GKt){const t=Ee();return Re("getRelevantStyles",()=>{var o;const r=new o5(t.getSharedStyles()),n=!!((o=t.root.getCurrent())!=null&&o.shapeType),i=t.isIn("select")&&t.getSelectedShapeIds().length>0;if(r.size===0&&t.isIn("select")&&t.getSelectedShapeIds().length===0)for(const a of e)r.applyValue(a,t.getStyleForNextShape(a));return n||i||r.size>0?r:null},[t])}const hl={color:[{value:"black",icon:"color"},{value:"grey",icon:"color"},{value:"light-violet",icon:"color"},{value:"violet",icon:"color"},{value:"blue",icon:"color"},{value:"light-blue",icon:"color"},{value:"yellow",icon:"color"},{value:"orange",icon:"color"},{value:"green",icon:"color"},{value:"light-green",icon:"color"},{value:"light-red",icon:"color"},{value:"red",icon:"color"}],fill:[{value:"none",icon:"fill-none"},{value:"semi",icon:"fill-semi"},{value:"solid",icon:"fill-solid"},{value:"pattern",icon:"fill-pattern"}],dash:[{value:"draw",icon:"dash-draw"},{value:"dashed",icon:"dash-dashed"},{value:"dotted",icon:"dash-dotted"},{value:"solid",icon:"dash-solid"}],size:[{value:"s",icon:"size-small"},{value:"m",icon:"size-medium"},{value:"l",icon:"size-large"},{value:"xl",icon:"size-extra-large"}],font:[{value:"draw",icon:"font-draw"},{value:"sans",icon:"font-sans"},{value:"serif",icon:"font-serif"},{value:"mono",icon:"font-mono"}],textAlign:[{value:"start",icon:"text-align-left"},{value:"middle",icon:"text-align-center"},{value:"end",icon:"text-align-right"}],horizontalAlign:[{value:"start",icon:"horizontal-align-start"},{value:"middle",icon:"horizontal-align-middle"},{value:"end",icon:"horizontal-align-end"}],verticalAlign:[{value:"start",icon:"vertical-align-start"},{value:"middle",icon:"vertical-align-middle"},{value:"end",icon:"vertical-align-end"}],geo:[{value:"rectangle",icon:"geo-rectangle"},{value:"ellipse",icon:"geo-ellipse"},{value:"triangle",icon:"geo-triangle"},{value:"diamond",icon:"geo-diamond"},{value:"star",icon:"geo-star"},{value:"pentagon",icon:"geo-pentagon"},{value:"hexagon",icon:"geo-hexagon"},{value:"octagon",icon:"geo-octagon"},{value:"rhombus",icon:"geo-rhombus"},{value:"rhombus-2",icon:"geo-rhombus-2"},{value:"oval",icon:"geo-oval"},{value:"trapezoid",icon:"geo-trapezoid"},{value:"arrow-left",icon:"geo-arrow-left"},{value:"arrow-up",icon:"geo-arrow-up"},{value:"arrow-down",icon:"geo-arrow-down"},{value:"arrow-right",icon:"geo-arrow-right"},{value:"cloud",icon:"geo-cloud"},{value:"x-box",icon:"geo-x-box"},{value:"check-box",icon:"geo-check-box"},{value:"heart",icon:"geo-heart"}],arrowheadStart:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],arrowheadEnd:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],spline:[{value:"line",icon:"spline-line"},{value:"cubic",icon:"spline-cubic"}]},hh=I.memo(function(t){const{uiType:r,items:n,title:i,style:o,value:a,onValueChange:s,onHistoryMark:l,theme:c}=t,u=Or(),d=I.useRef(!1),A=I.useRef(null),{handleButtonClick:f,handleButtonPointerDown:h,handleButtonPointerEnter:p,handleButtonPointerUp:v}=I.useMemo(()=>{const y=()=>{d.current=!1,window.removeEventListener("pointerup",y);const _=A.current;_&&["TEXTAREA","INPUT"].includes(_.nodeName)&&_.focus(),A.current=null};return{handleButtonClick:_=>{const{id:B}=_.currentTarget.dataset;a.type==="shared"&&a.value===B||(l==null||l("point picker item"),s(o,B))},handleButtonPointerDown:_=>{const{id:B}=_.currentTarget.dataset;l==null||l("point picker item"),s(o,B),d.current=!0,A.current=document.activeElement,window.addEventListener("pointerup",y)},handleButtonPointerEnter:_=>{if(!d.current)return;const{id:B}=_.currentTarget.dataset;s(o,B)},handleButtonPointerUp:_=>{const{id:B}=_.currentTarget.dataset;a.type==="shared"&&a.value===B||s(o,B)}}},[a,l,s,o]);return m.jsx("div",{"data-testid":`style.${r}`,className:jt("tlui-buttons__grid"),children:n.map(y=>m.jsx(Qt,{type:"icon","data-id":y.value,"data-testid":`style.${r}.${y.value}`,"aria-label":y.value,"data-state":a.type==="shared"&&a.value===y.value?"hinted":void 0,title:i+"  "+u(`${r}-style.${y.value}`),className:jt("tlui-button-grid__button"),style:o===Os?{color:c[y.value].solid}:void 0,onPointerEnter:p,onPointerDown:h,onPointerUp:v,onClick:f,children:m.jsx(_r,{icon:y.icon})},y.value))})});function Y6e(e,[t,r]){return Math.min(r,Math.max(t,e))}function YKt(e){const t=I.useRef({value:e,previous:e});return I.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var X6e=["PageUp","PageDown"],J6e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z6e={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_v="Slider",[K5,XKt,JKt]=qP(_v),[eze,GJt]=Tu(_v,[JKt]),[ZKt,wT]=eze(_v),tze=I.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:o=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:u,onValueChange:d=()=>{},onValueCommit:A=()=>{},inverted:f=!1,form:h,...p}=e,v=I.useRef(new Set),y=I.useRef(0),x=a==="horizontal"?e8t:t8t,[S=[],C]=If({prop:u,defaultProp:c,onChange:F=>{var k;(k=[...v.current][y.current])==null||k.focus(),d(F)}}),_=I.useRef(S);function B(F){const U=a8t(S,F);P(F,U)}function T(F){P(F,y.current)}function O(){const F=_.current[y.current];S[y.current]!==F&&A(S)}function P(F,U,{commit:k}={commit:!1}){const M=u8t(o),D=d8t(Math.round((F-n)/o)*o+n,M),j=Y6e(D,[n,i]);C(($=[])=>{const Q=i8t($,j,U);if(c8t(Q,l*o)){y.current=Q.indexOf(j);const H=String(Q)!==String($);return H&&k&&A(Q),H?Q:$}else return $})}return m.jsx(ZKt,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:y,thumbs:v.current,values:S,orientation:a,form:h,children:m.jsx(K5.Provider,{scope:e.__scopeSlider,children:m.jsx(K5.Slot,{scope:e.__scopeSlider,children:m.jsx(x,{"aria-disabled":s,"data-disabled":s?"":void 0,...p,ref:t,onPointerDown:Ot(p.onPointerDown,()=>{s||(_.current=S)}),min:n,max:i,inverted:f,onSlideStart:s?void 0:B,onSlideMove:s?void 0:T,onSlideEnd:s?void 0:O,onHomeKeyDown:()=>!s&&P(n,0,{commit:!0}),onEndKeyDown:()=>!s&&P(i,S.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:U})=>{if(!s){const D=X6e.includes(F.key)||F.shiftKey&&J6e.includes(F.key)?10:1,j=y.current,$=S[j],Q=o*D*U;P($+Q,j,{commit:!0})}}})})})})});tze.displayName=_v;var[rze,nze]=eze(_v,{startEdge:"left",endEdge:"right",size:"width",direction:1}),e8t=I.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:o,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,[d,A]=I.useState(null),f=In(t,x=>A(x)),h=I.useRef(void 0),p=YK(i),v=p==="ltr",y=v&&!o||!v&&o;function b(x){const S=h.current||d.getBoundingClientRect(),C=[0,S.width],B=cW(C,y?[r,n]:[n,r]);return h.current=S,B(x-S.left)}return m.jsx(rze,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:m.jsx(ize,{dir:p,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const S=b(x.clientX);a==null||a(S)},onSlideMove:x=>{const S=b(x.clientX);s==null||s(S)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:x=>{const C=Z6e[y?"from-left":"from-right"].includes(x.key);c==null||c({event:x,direction:C?-1:1})}})})}),t8t=I.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onStepKeyDown:l,...c}=e,u=I.useRef(null),d=In(t,u),A=I.useRef(void 0),f=!i;function h(p){const v=A.current||u.current.getBoundingClientRect(),y=[0,v.height],x=cW(y,f?[n,r]:[r,n]);return A.current=v,x(p-v.top)}return m.jsx(rze,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:m.jsx(ize,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=h(p.clientY);o==null||o(v)},onSlideMove:p=>{const v=h(p.clientY);a==null||a(v)},onSlideEnd:()=>{A.current=void 0,s==null||s()},onStepKeyDown:p=>{const y=Z6e[f?"from-bottom":"from-top"].includes(p.key);l==null||l({event:p,direction:y?-1:1})}})})}),ize=I.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=e,u=wT(_v,r);return m.jsx(Lr.span,{...c,ref:t,onKeyDown:Ot(e.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):X6e.concat(J6e).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Ot(e.onPointerDown,d=>{const A=d.target;A.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(A)?A.focus():n(d)}),onPointerMove:Ot(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:Ot(e.onPointerUp,d=>{const A=d.target;A.hasPointerCapture(d.pointerId)&&(A.releasePointerCapture(d.pointerId),o(d))})})}),oze="SliderTrack",aze=I.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=wT(oze,r);return m.jsx(Lr.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});aze.displayName=oze;var W5="SliderRange",sze=I.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=wT(W5,r),o=nze(W5,r),a=I.useRef(null),s=In(t,a),l=i.values.length,c=i.values.map(A=>cze(A,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return m.jsx(Lr.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:d+"%"}})});sze.displayName=W5;var V5="SliderThumb",lze=I.forwardRef((e,t)=>{const r=XKt(e.__scopeSlider),[n,i]=I.useState(null),o=In(t,s=>i(s)),a=I.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return m.jsx(r8t,{...e,ref:o,index:a})}),r8t=I.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...o}=e,a=wT(V5,r),s=nze(V5,r),[l,c]=I.useState(null),u=In(t,b=>c(b)),d=l?a.form||!!l.closest("form"):!0,A=tHe(l),f=a.values[n],h=f===void 0?0:cze(f,a.min,a.max),p=o8t(n,a.values.length),v=A==null?void 0:A[s.size],y=v?s8t(v,h,s.direction):0;return I.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${h}% + ${y}px)`},children:[m.jsx(K5.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(Lr.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":a.min,"aria-valuenow":f,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:u,style:f===void 0?{display:"none"}:e.style,onFocus:Ot(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),d&&m.jsx(n8t,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:f},n)]})});lze.displayName=V5;var n8t=e=>{const{value:t,...r}=e,n=I.useRef(null),i=YKt(t);return I.useEffect(()=>{const o=n.current,a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==t&&l){const c=new Event("input",{bubbles:!0});l.call(o,t),o.dispatchEvent(c)}},[i,t]),m.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function i8t(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,o)=>i-o)}function cze(e,t,r){const o=100/(r-t)*(e-t);return Y6e(o,[0,100])}function o8t(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function a8t(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function s8t(e,t,r){const n=e/2,o=cW([0,50],[0,n]);return(n-o(t)*r)*r}function l8t(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function c8t(e,t){if(t>0){const r=l8t(e);return Math.min(...r)>=t}return!0}function cW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function u8t(e){return(String(e).split(".")[1]||"").length}function d8t(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var A8t=tze,f8t=aze,h8t=sze,p8t=lze;const g8t=I.memo(function({onHistoryMark:t,title:r,steps:n,value:i,label:o,onValueChange:a,["data-testid"]:s}){const l=Or(),c=I.useCallback(A=>{a(A[0])},[a]),u=I.useCallback(()=>{t("click slider")},[t]),d=I.useCallback(()=>{i&&a(i)},[i,a]);return m.jsx("div",{className:"tlui-slider__container",children:m.jsxs(A8t,{"data-testid":s,className:"tlui-slider","area-label":"Opacity",dir:"ltr",min:0,max:n,step:1,value:i?[i]:void 0,onPointerDown:u,onValueChange:c,onPointerUp:d,title:r+"  "+l(o),children:[m.jsx(f8t,{className:"tlui-slider__track",dir:"ltr",children:i!==null&&m.jsx(h8t,{className:"tlui-slider__range",dir:"ltr"})}),i!==null&&m.jsx(p8t,{className:"tlui-slider__thumb",dir:"ltr"})]})})});function m8t({label:e,uiTypeA:t,uiTypeB:r,labelA:n,labelB:i,itemsA:o,itemsB:a,styleA:s,styleB:l,valueA:c,valueB:u,onValueChange:d}){const A=Or(),f=I.useMemo(()=>{var p;return((p=o.find(v=>c.type==="shared"&&c.value===v.value))==null?void 0:p.icon)??"mixed"},[o,c]),h=I.useMemo(()=>{var p;return((p=a.find(v=>u.type==="shared"&&u.value===v.value))==null?void 0:p.icon)??"mixed"},[a,u]);return c===void 0&&u===void 0?null:m.jsxs("div",{className:"tlui-style-panel__double-select-picker",children:[m.jsx("div",{title:A(e),className:"tlui-style-panel__double-select-picker-label",children:A(e)}),m.jsxs("div",{className:"tlui-buttons__horizontal",children:[m.jsxs($h,{id:`style panel ${t} A`,children:[m.jsx(Qh,{children:m.jsx(Qt,{type:"icon","data-testid":`style.${t}`,title:A(n)+"  "+(c===null||c.type==="mixed"?A("style-panel.mixed"):A(`${t}-style.${c.value}`)),children:m.jsx(_r,{icon:f,small:!0,invertIcon:!0})})}),m.jsx(Hh,{side:"left",align:"center",sideOffset:80,alignOffset:0,children:m.jsx("div",{className:"tlui-buttons__grid",children:o.map((p,v)=>m.jsx(Xw,{"data-testid":`style.${t}.${p.value}`,children:m.jsx(Qt,{type:"icon",onClick:()=>d(s,p.value),title:`${A(n)}  ${A(`${t}-style.${p.value}`)}`,children:m.jsx(_r,{icon:p.icon,invertIcon:!0})},p.value)},v))})})]}),m.jsxs($h,{id:`style panel ${r}`,children:[m.jsx(Qh,{children:m.jsx(Qt,{type:"icon","data-testid":`style.${r}`,title:A(i)+"  "+(u===null||u.type==="mixed"?A("style-panel.mixed"):A(`${r}-style.${u.value}`)),children:m.jsx(_r,{icon:h,small:!0})})}),m.jsx(Hh,{side:"left",align:"center",sideOffset:116,alignOffset:0,children:m.jsx("div",{className:"tlui-buttons__grid",children:a.map(p=>m.jsx(Xw,{children:m.jsx(Qt,{type:"icon",title:`${A(i)}  ${A(`${r}-style.${p.value}`)}`,"data-testid":`style.${r}.${p.value}`,onClick:()=>d(l,p.value),children:m.jsx(_r,{icon:p.icon})})},p.value))})})]})]})]})}const v8t=I.memo(m8t);function y8t({id:e,label:t,uiType:r,stylePanelType:n,style:i,items:o,type:a,value:s,onValueChange:l}){const c=Or(),u=Ee(),d=I.useMemo(()=>{var p;return(p=o.find(v=>s.type==="shared"&&v.value===s.value))==null?void 0:p.icon},[o,s]),A=c(`style-panel.${n}`),f=s.type==="mixed"?c("style-panel.mixed"):A+"  "+c(`${r}-style.${s.value}`),h=t?c(t):"";return m.jsxs($h,{id:`style panel ${e}`,children:[m.jsx(Qh,{children:m.jsxs(Qt,{type:a,"data-testid":`style.${r}`,title:f,children:[h&&m.jsx(Si,{children:h}),m.jsx(_r,{icon:d??"mixed"})]})}),m.jsx(Hh,{side:"left",align:"center",alignOffset:0,children:m.jsx("div",{className:"tlui-buttons__grid",children:o.map(p=>m.jsx(Xw,{children:m.jsx(Qt,{type:"icon","data-testid":`style.${r}.${p.value}`,title:A+"  "+c(`${r}-style.${p.value}`),onClick:()=>{u.markHistoryStoppingPoint("select style dropdown item"),l(i,p.value)},children:m.jsx(_r,{icon:p.icon})})},p.value))})})]})}const uW=I.memo(y8t);function w8t({styles:e}){const t=cx();if(!e)return null;const r=e.get(rc),n=e.get(jE),i=e.get(DE),o=e.get(QE),a=e.get(cu),s=r===void 0,l=n===void 0&&i===void 0,c=o===void 0,u=a===void 0,d=Nd({isDarkMode:t});return m.jsxs(m.Fragment,{children:[m.jsx(b8t,{theme:d,styles:e}),!u&&m.jsx(x8t,{theme:d,styles:e}),!(s&&l&&c)&&m.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[m.jsx(S8t,{styles:e}),m.jsx(_8t,{styles:e}),m.jsx(C8t,{styles:e})]})]})}function vx(){const e=Ee(),t=ko();return ue.useMemo(()=>function(n,i){e.run(()=>{e.isIn("select")&&e.setStyleForSelectedShapes(n,i),e.setStyleForNextShapes(n,i),e.updateInstanceState({isChangingStyle:!0})}),t("set-style",{source:"style-panel",id:n.id,value:i})},[e,t])}function b8t({styles:e,theme:t}){const r=Or(),n=Ee(),i=I.useCallback(d=>n.markHistoryStoppingPoint(d),[n]),o=vx(),a=e.get(Os),s=e.get(Dh),l=e.get(Uh),c=e.get(uu),u=s!==void 0||l!==void 0||c!==void 0;return m.jsxs(m.Fragment,{children:[m.jsxs("div",{tabIndex:-1,className:"tlui-style-panel__section__common","aria-label":"style panel styles","data-testid":"style.panel",children:[a===void 0?null:m.jsx(hh,{title:r("style-panel.color"),uiType:"color",style:Os,items:hl.color,value:a,onValueChange:o,theme:t,onHistoryMark:i}),m.jsx(E8t,{})]}),u&&m.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[s===void 0?null:m.jsx(hh,{title:r("style-panel.fill"),uiType:"fill",style:Dh,items:hl.fill,value:s,onValueChange:o,theme:t,onHistoryMark:i}),l===void 0?null:m.jsx(hh,{title:r("style-panel.dash"),uiType:"dash",style:Uh,items:hl.dash,value:l,onValueChange:o,theme:t,onHistoryMark:i}),c===void 0?null:m.jsx(hh,{title:r("style-panel.size"),uiType:"size",style:uu,items:hl.size,value:c,onValueChange:(d,A)=>{o(d,A);const f=n.getSelectedShapeIds();f.length>0&&Sn(n,f)},theme:t,onHistoryMark:i})]})]})}function x8t({theme:e,styles:t}){const r=Or(),n=vx(),i=Ee(),o=I.useCallback(u=>i.markHistoryStoppingPoint(u),[i]),a=t.get(cu),s=t.get(Y3),l=t.get(NE),c=t.get($E);return a===void 0&&l===void 0?null:m.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel text",children:[a===void 0?null:m.jsx(hh,{title:r("style-panel.font"),uiType:"font",style:cu,items:hl.font,value:a,onValueChange:n,theme:e,onHistoryMark:o}),s===void 0?null:m.jsxs("div",{className:"tlui-style-panel__row",children:[m.jsx(hh,{title:r("style-panel.align"),uiType:"align",style:Y3,items:hl.textAlign,value:s,onValueChange:n,theme:e,onHistoryMark:o}),m.jsx("div",{className:"tlui-style-panel__row__extra-button",children:m.jsx(Qt,{type:"icon",title:r("style-panel.vertical-align"),"data-testid":"vertical-align",disabled:!0,children:m.jsx(_r,{icon:"vertical-align-middle"})})})]}),l===void 0?null:m.jsxs("div",{className:"tlui-style-panel__row",children:[m.jsx(hh,{title:r("style-panel.label-align"),uiType:"align",style:NE,items:hl.horizontalAlign,value:l,onValueChange:n,theme:e,onHistoryMark:o}),m.jsx("div",{className:"tlui-style-panel__row__extra-button",children:c===void 0?m.jsx(Qt,{type:"icon",title:r("style-panel.vertical-align"),"data-testid":"vertical-align",disabled:!0,children:m.jsx(_r,{icon:"vertical-align-middle"})}):m.jsx(uW,{type:"icon",id:"geo-vertical-alignment",uiType:"verticalAlign",stylePanelType:"vertical-align",style:$E,items:hl.verticalAlign,value:c,onValueChange:n})})]})]})}function S8t({styles:e}){const t=vx(),r=e.get(rc);return r===void 0?null:m.jsx(uW,{id:"geo",type:"menu",label:"style-panel.geo",uiType:"geo",stylePanelType:"geo",style:rc,items:hl.geo,value:r,onValueChange:t})}function C8t({styles:e}){const t=vx(),r=e.get(QE);return r===void 0?null:m.jsx(uW,{id:"spline",type:"menu",label:"style-panel.spline",uiType:"spline",stylePanelType:"spline",style:QE,items:hl.spline,value:r,onValueChange:t})}function _8t({styles:e}){const t=vx(),r=e.get(jE),n=e.get(DE);return!r||!n?null:m.jsx(v8t,{label:"style-panel.arrowheads",uiTypeA:"arrowheadStart",styleA:DE,itemsA:hl.arrowheadStart,valueA:n,uiTypeB:"arrowheadEnd",styleB:jE,itemsB:hl.arrowheadEnd,valueB:r,onValueChange:t,labelA:"style-panel.arrowhead-start",labelB:"style-panel.arrowhead-end"})}const Qy=[.1,.25,.5,.75,1];function E8t(){const e=Ee(),t=I.useCallback(s=>e.markHistoryStoppingPoint(s),[e]),r=Re("opacity",()=>e.getSharedOpacity(),[e]),n=ko(),i=Or(),o=ue.useCallback(s=>{const l=Qy[s];e.run(()=>{e.isIn("select")&&e.setOpacityForSelectedShapes(l),e.setOpacityForNextShapes(l),e.updateInstanceState({isChangingStyle:!0})}),n("set-style",{source:"style-panel",id:"opacity",value:s})},[e,n]);if(r===void 0)return null;const a=r.type==="mixed"?-1:Qy.indexOf(oSt(Qy,s=>Math.abs(s-r.value)));return m.jsx(g8t,{"data-testid":"style.opacity",value:a>=0?a:Qy.length-1,label:r.type==="mixed"?"style-panel.mixed":`opacity-style.${r.value}`,onValueChange:o,steps:Qy.length-1,title:i("style-panel.opacity"),onHistoryMark:t})}const I8t=I.memo(function({isMobile:t,children:r}){const n=Ee(),i=I.useRef(null);Ef(i);const o=G6e(),a=I.useCallback(()=>{t||n.updateInstanceState({isChangingStyle:!1})},[n,t]),s=r??m.jsx(w8t,{styles:o});return m.jsx("div",{ref:i,className:jt("tlui-style-panel",{"tlui-style-panel__wrapper":!t}),"data-ismobile":t,onPointerLeave:a,children:s})});function B8t(){const e=Ee(),t=Or(),r=G6e(),n=r==null?void 0:r.get(Os),i=Nd({isDarkMode:e.user.getIsDarkMode()}),o=((n==null?void 0:n.type)==="shared"?i[n.value]:i.black).solid,a=Re("disable style panel",()=>e.isInAny("hand","zoom","eraser","laser"),[e]),s=I.useCallback(c=>{c||e.updateInstanceState({isChangingStyle:!1})},[e]),{StylePanel:l}=Tf();return l?m.jsxs(oW,{id:"mobile style menu",onOpenChange:s,children:[m.jsx(aW,{children:m.jsx(Qt,{type:"tool","data-testid":"mobile-styles.button",style:{color:a?"var(--color-muted-1)":o},title:t("style-panel.title"),disabled:a,children:m.jsx(_r,{icon:a?"blob":(n==null?void 0:n.type)==="mixed"?"mixed":"blob"})})}),m.jsx(sW,{side:"top",align:"end",children:l&&m.jsx(l,{isMobile:!0})})]}):null}function P8t(){return m.jsxs(m.Fragment,{children:[m.jsx(O8t,{}),m.jsx(R8t,{}),m.jsx(M8t,{}),m.jsx(F8t,{}),m.jsx(k8t,{}),m.jsx(U8t,{}),m.jsx(D8t,{}),m.jsx(j8t,{}),m.jsx(L8t,{}),m.jsx(N8t,{}),m.jsx(Q8t,{}),m.jsx($8t,{}),m.jsx(z8t,{}),m.jsx(V8t,{}),m.jsx(H8t,{}),m.jsx(W8t,{}),m.jsx(K8t,{}),m.jsx(q8t,{}),m.jsx(G8t,{}),m.jsx(Y8t,{}),m.jsx(X8t,{}),m.jsx(J8t,{}),m.jsx(Z8t,{}),m.jsx(eWt,{}),m.jsx(tWt,{}),m.jsx(rWt,{}),m.jsx(iWt,{}),m.jsx(nWt,{})]})}function T8t(e){var n;const t=Ee(),r=(n=e.meta)==null?void 0:n.geo;return Re("is tool selected",()=>{const i=t.getCurrentToolId(),o=t.getSharedStyles().getAsKnownValue(rc);return r?i==="geo"&&o===r:i===e.id},[t,e.id,r])}function yn({tool:e}){const t=j8(),r=T8t(t[e]);return m.jsx(qa,{toolId:e,isSelected:r})}function O8t(){return m.jsx(yn,{tool:"select"})}function R8t(){return m.jsx(yn,{tool:"hand"})}function M8t(){return m.jsx(yn,{tool:"draw"})}function F8t(){return m.jsx(yn,{tool:"eraser"})}function k8t(){return m.jsx(yn,{tool:"arrow"})}function U8t(){return m.jsx(yn,{tool:"text"})}function D8t(){return m.jsx(yn,{tool:"note"})}function j8t(){return m.jsx(qa,{toolId:"asset"})}function L8t(){return m.jsx(yn,{tool:"rectangle"})}function N8t(){return m.jsx(yn,{tool:"ellipse"})}function $8t(){return m.jsx(yn,{tool:"diamond"})}function Q8t(){return m.jsx(yn,{tool:"triangle"})}function H8t(){return m.jsx(yn,{tool:"rhombus"})}function q8t(){return m.jsx(yn,{tool:"heart"})}function z8t(){return m.jsx(yn,{tool:"hexagon"})}function K8t(){return m.jsx(yn,{tool:"cloud"})}function W8t(){return m.jsx(yn,{tool:"star"})}function V8t(){return m.jsx(yn,{tool:"oval"})}function G8t(){return m.jsx(yn,{tool:"x-box"})}function Y8t(){return m.jsx(yn,{tool:"check-box"})}function X8t(){return m.jsx(yn,{tool:"arrow-left"})}function J8t(){return m.jsx(yn,{tool:"arrow-up"})}function Z8t(){return m.jsx(yn,{tool:"arrow-down"})}function eWt(){return m.jsx(yn,{tool:"arrow-right"})}function tWt(){return m.jsx(yn,{tool:"line"})}function rWt(){return m.jsx(yn,{tool:"highlight"})}function nWt(){return m.jsx(yn,{tool:"frame"})}function iWt(){return m.jsx(yn,{tool:"laser"})}const W4=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function V4(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on".concat(t),r)}function Hy(e,t,r,n){e.removeEventListener?e.removeEventListener(t,r,n):e.detachEvent&&e.detachEvent("on".concat(t),r)}function uze(e,t){const r=t.slice(0,t.length-1);for(let n=0;n<r.length;n++)r[n]=e[r[n].toLowerCase()];return r}function dze(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let r=t.lastIndexOf("");for(;r>=0;)t[r-1]+=",",t.splice(r,1),r=t.lastIndexOf("");return t}function oWt(e,t){const r=e.length>=t.length?e:t,n=e.length>=t.length?t:e;let i=!0;for(let o=0;o<r.length;o++)n.indexOf(r[o])===-1&&(i=!1);return i}const Zw={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":W4?173:189,"=":W4?61:187,";":W4?59:186,"'":222,"[":219,"]":221,"\\":220},pu={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},e_={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},wo={16:!1,18:!1,17:!1,91:!1},ri={};for(let e=1;e<20;e++)Zw["f".concat(e)]=111+e;let qn=[],N0=null,Aze="all";const rd=new Map,yx=e=>Zw[e.toLowerCase()]||pu[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),aWt=e=>Object.keys(Zw).find(t=>Zw[t]===e),sWt=e=>Object.keys(pu).find(t=>pu[t]===e);function fze(e){Aze=e||"all"}function eb(){return Aze||"all"}function lWt(){return qn.slice(0)}function cWt(){return qn.map(e=>aWt(e)||sWt(e)||String.fromCharCode(e))}function uWt(){const e=[];return Object.keys(ri).forEach(t=>{ri[t].forEach(r=>{let{key:n,scope:i,mods:o,shortcut:a}=r;e.push({scope:i,shortcut:a,mods:o,keys:n.split("+").map(s=>yx(s))})})}),e}function dWt(e){const t=e.target||e.srcElement,{tagName:r}=t;let n=!0;const i=r==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(i||r==="TEXTAREA"||r==="SELECT")&&!t.readOnly)&&(n=!1),n}function AWt(e){return typeof e=="string"&&(e=yx(e)),qn.indexOf(e)!==-1}function fWt(e,t){let r,n;e||(e=eb());for(const i in ri)if(Object.prototype.hasOwnProperty.call(ri,i))for(r=ri[i],n=0;n<r.length;)r[n].scope===e?r.splice(n,1).forEach(a=>{let{element:s}=a;return dW(s)}):n++;eb()===e&&fze(t||"all")}function hWt(e){let t=e.keyCode||e.which||e.charCode;const r=qn.indexOf(t);if(r>=0&&qn.splice(r,1),e.key&&e.key.toLowerCase()==="meta"&&qn.splice(0,qn.length),(t===93||t===224)&&(t=91),t in wo){wo[t]=!1;for(const n in pu)pu[n]===t&&(pl[n]=!1)}}function hze(e){if(typeof e>"u")Object.keys(ri).forEach(i=>{Array.isArray(ri[i])&&ri[i].forEach(o=>eC(o)),delete ri[i]}),dW(null);else if(Array.isArray(e))e.forEach(i=>{i.key&&eC(i)});else if(typeof e=="object")e.key&&eC(e);else if(typeof e=="string"){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let[i,o]=r;typeof i=="function"&&(o=i,i=""),eC({key:e,scope:i,method:o,splitKey:"+"})}}const eC=e=>{let{key:t,scope:r,method:n,splitKey:i="+"}=e;dze(t).forEach(a=>{const s=a.split(i),l=s.length,c=s[l-1],u=c==="*"?"*":yx(c);if(!ri[u])return;r||(r=eb());const d=l>1?uze(pu,s):[],A=[];ri[u]=ri[u].filter(f=>{const p=(n?f.method===n:!0)&&f.scope===r&&oWt(f.mods,d);return p&&A.push(f.element),!p}),A.forEach(f=>dW(f))})};function wPe(e,t,r,n){if(t.element!==n)return;let i;if(t.scope===r||t.scope==="all"){i=t.mods.length>0;for(const o in wo)Object.prototype.hasOwnProperty.call(wo,o)&&(!wo[o]&&t.mods.indexOf(+o)>-1||wo[o]&&t.mods.indexOf(+o)===-1)&&(i=!1);(t.mods.length===0&&!wo[16]&&!wo[18]&&!wo[17]&&!wo[91]||i||t.shortcut==="*")&&(t.keys=[],t.keys=t.keys.concat(qn),t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function bPe(e,t){const r=ri["*"];let n=e.keyCode||e.which||e.charCode;if(!pl.filter.call(this,e))return;if((n===93||n===224)&&(n=91),qn.indexOf(n)===-1&&n!==229&&qn.push(n),["metaKey","ctrlKey","altKey","shiftKey"].forEach(s=>{const l=e_[s];e[s]&&qn.indexOf(l)===-1?qn.push(l):!e[s]&&qn.indexOf(l)>-1?qn.splice(qn.indexOf(l),1):s==="metaKey"&&e[s]&&(qn=qn.filter(c=>c in e_||c===n))}),n in wo){wo[n]=!0;for(const s in pu)pu[s]===n&&(pl[s]=!0);if(!r)return}for(const s in wo)Object.prototype.hasOwnProperty.call(wo,s)&&(wo[s]=e[e_[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(qn.indexOf(17)===-1&&qn.push(17),qn.indexOf(18)===-1&&qn.push(18),wo[17]=!0,wo[18]=!0);const i=eb();if(r)for(let s=0;s<r.length;s++)r[s].scope===i&&(e.type==="keydown"&&r[s].keydown||e.type==="keyup"&&r[s].keyup)&&wPe(e,r[s],i,t);if(!(n in ri))return;const o=ri[n],a=o.length;for(let s=0;s<a;s++)if((e.type==="keydown"&&o[s].keydown||e.type==="keyup"&&o[s].keyup)&&o[s].key){const l=o[s],{splitKey:c}=l,u=l.key.split(c),d=[];for(let A=0;A<u.length;A++)d.push(yx(u[A]));d.sort().join("")===qn.sort().join("")&&wPe(e,l,i,t)}}function pl(e,t,r){qn=[];const n=dze(e);let i=[],o="all",a=document,s=0,l=!1,c=!0,u="+",d=!1,A=!1;for(r===void 0&&typeof t=="function"&&(r=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(o=t.scope),t.element&&(a=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey),t.single===!0&&(A=!0)),typeof t=="string"&&(o=t),A&&hze(e,o);s<n.length;s++)e=n[s].split(u),i=[],e.length>1&&(i=uze(pu,e)),e=e[e.length-1],e=e==="*"?"*":yx(e),e in ri||(ri[e]=[]),ri[e].push({keyup:l,keydown:c,scope:o,mods:i,shortcut:n[s],method:r,key:n[s],splitKey:u,element:a});if(typeof a<"u"&&window){if(!rd.has(a)){const f=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return bPe(p,a)},h=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;bPe(p,a),hWt(p)};rd.set(a,{keydownListener:f,keyupListenr:h,capture:d}),V4(a,"keydown",f,d),V4(a,"keyup",h,d)}if(!N0){const f=()=>{qn=[]};N0={listener:f,capture:d},V4(window,"focus",f,d)}}}function pWt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(ri).forEach(r=>{ri[r].filter(i=>i.scope===t&&i.shortcut===e).forEach(i=>{i&&i.method&&i.method()})})}function dW(e){const t=Object.values(ri).flat();if(t.findIndex(n=>{let{element:i}=n;return i===e})<0){const{keydownListener:n,keyupListenr:i,capture:o}=rd.get(e)||{};n&&i&&(Hy(e,"keyup",i,o),Hy(e,"keydown",n,o),rd.delete(e))}if((t.length<=0||rd.size<=0)&&(Object.keys(rd).forEach(i=>{const{keydownListener:o,keyupListenr:a,capture:s}=rd.get(i)||{};o&&a&&(Hy(i,"keyup",a,s),Hy(i,"keydown",o,s),rd.delete(i))}),rd.clear(),Object.keys(ri).forEach(i=>delete ri[i]),N0)){const{listener:i,capture:o}=N0;Hy(window,"focus",i,o),N0=null}}const G4={getPressedKeyString:cWt,setScope:fze,getScope:eb,deleteScope:fWt,getPressedKeyCodes:lWt,getAllKeyCodes:uWt,isPressed:AWt,filter:dWt,trigger:pWt,unbind:hze,keyMap:Zw,modifier:pu,modifierMap:e_};for(const e in G4)Object.prototype.hasOwnProperty.call(G4,e)&&(pl[e]=G4[e]);if(typeof window<"u"){const e=window.hotkeys;pl.noConflict=t=>(t&&window.hotkeys===pl&&(window.hotkeys=e),pl),window.hotkeys=pl}const xPe=["copy","cut","paste","asset"];function gWt(){const e=Ee(),t=$s(),r=yp(),n=j8(),i=Re("is focused",()=>e.getInstanceState().isFocused,[e]);I.useEffect(()=>{if(!i)return;const o=new Array,a=(l,c)=>{pl(l,{element:document.body},c),o.push(()=>{pl.unbind(l,c)})},s=(l,c)=>{pl(l,{element:document.body,keyup:!0,keydown:!1},c),o.push(()=>{pl.unbind(l,c)})};for(const l of Object.values(r))l.kbd&&(t&&!l.readonlyOk||xPe.includes(l.id)||a(SPe(l.kbd),c=>{p0(e)||(hr(c),l.onSelect("kbd"))}));for(const l of Object.values(n))!l.kbd||!l.readonlyOk&&e.getIsReadonly()||xPe.includes(l.id)||a(SPe(l.kbd),c=>{p0(e)||(hr(c),l.onSelect("kbd"))});return a(",",l=>{if(p0(e)||e.inputs.keys.has("Comma"))return;hr(l),e.focus(),e.inputs.keys.add("Comma");const{x:c,y:u,z:d}=e.inputs.currentPagePoint,A=e.pageToScreen({x:c,y:u}),f={type:"pointer",name:"pointer_down",point:{x:A.x,y:A.y,z:d},shiftKey:l.shiftKey,altKey:l.altKey,ctrlKey:l.metaKey||l.ctrlKey,metaKey:l.metaKey,accelKey:ra(l),pointerId:0,button:0,isPen:e.getInstanceState().isPenMode,target:"canvas"};e.dispatch(f)}),s(",",l=>{if(p0(e)||!e.inputs.keys.has("Comma"))return;e.inputs.keys.delete("Comma");const{x:c,y:u,z:d}=e.inputs.currentScreenPoint,A={type:"pointer",name:"pointer_up",point:{x:c,y:u,z:d},shiftKey:l.shiftKey,altKey:l.altKey,ctrlKey:l.metaKey||l.ctrlKey,metaKey:l.metaKey,accelKey:ra(l),pointerId:0,button:0,isPen:e.getInstanceState().isPenMode,target:"canvas"};e.dispatch(A)}),()=>{o.forEach(l=>l())}},[r,n,t,e,i])}function SPe(e){return mWt(e).map(t=>{let r="";const n=t.split("");return n.length===1?r=n[0]:n[0]==="!"?r=`shift+${n[1]}`:n[0]==="?"?n.length===3&&n[1]==="!"?r=`alt+shift+${n[2]}`:r=`alt+${n[1]}`:n[0]==="$"?n[1]==="!"?r=`cmd+shift+${n[2]},ctrl+shift+${n[2]}`:n[1]==="?"?r=`cmd++${n[2]},ctrl+alt+${n[2]}`:r=`cmd+${n[1]},ctrl+${n[1]}`:r=t,r}).join(",")}function mWt(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let r=t.lastIndexOf("");for(;r>=0;)t[r-1]+=",",t.splice(r,1),r=t.lastIndexOf("");return t}function p0(e){return e.menus.hasAnyOpenMenus()||e.getEditingShapeId()!==null||e.getCrashingError()}const vWt=I.createContext(!1),yWt={1:0,2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,0:9};function wWt({children:e}){const t=Ee(),r=sv(),n=Ma(),i=Or(),o=I.useRef([]),a=Math.min(8,5+n),[s,l]=I.useState(0),c=I.useRef(null),[u,d]=I.useState(null),A=I.useMemo(()=>{const h=u?`:not([data-value="${u}"])`:"";return`
			#${r}_main > *:nth-child(n + ${a+(u?1:2)})${h} {
				display: none;
			}
			#${r}_more > *:nth-child(-n + ${a}) {
				display: none;
			}
        `},[u,r,a]),f=FP(()=>{var y;if(!c.current)return;const h=Array.from(c.current.children);l(h.length),h.findIndex(b=>b.getAttribute("data-value")===u)<=a&&d(null);const v=Array.from(c.current.children).findIndex(b=>b.getAttribute("aria-checked")==="true");v!==-1&&(v>=a&&d(h[v].getAttribute("data-value")),o.current=Array.from(((y=c.current)==null?void 0:y.children)??[]).filter(b=>!(b instanceof HTMLElement)||b.tagName.toLowerCase()!=="button"?!1:!!(b.offsetWidth||b.offsetHeight)))});return I.useLayoutEffect(()=>{f()}),I.useLayoutEffect(()=>{if(!c.current)return;const h=new MutationObserver(f);return h.observe(c.current,{childList:!0,subtree:!0,attributeFilter:["data-value","aria-checked"]}),()=>{h.disconnect()}},[f]),I.useEffect(()=>{if(!t.options.enableToolbarKeyboardShortcuts)return;function h(p){var y;if(p0(t)||vDe()||p.ctrlKey||p.metaKey||p.altKey||p.shiftKey)return;const v=yWt[p.key];typeof v=="number"&&(hr(p),(y=o.current[v])==null||y.click())}return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[t]),m.jsxs(m.Fragment,{children:[m.jsx("style",{children:A}),m.jsxs("div",{className:jt("tlui-toolbar__tools",{"tlui-toolbar__tools__mobile":n<fi.TABLET_SM}),role:"radiogroup",children:[m.jsx("div",{id:`${r}_main`,ref:c,className:"tlui-toolbar__tools__list",children:m.jsx(xl,{type:"toolbar",sourceId:"toolbar",children:e})}),s>a+1&&m.jsx(vWt.Provider,{value:!0,children:m.jsxs($h,{id:"toolbar overflow",modal:!1,children:[m.jsx(Qh,{children:m.jsx(Qt,{title:i("tool-panel.more"),type:"tool",className:"tlui-toolbar__overflow","data-testid":"tools.more-button",children:m.jsx(_r,{icon:"chevron-up"})})}),m.jsx(Hh,{side:"top",align:"center",children:m.jsx("div",{className:"tlui-buttons__grid","data-testid":"tools.more-content",id:`${r}_more`,children:m.jsx(xl,{type:"toolbar-overflow",sourceId:"toolbar",children:e})})})]})})]})]})}function bWt({activeToolId:e}){const t=Ee(),r=Ma(),n=Or(),i=Re("is tool locked",()=>t.getInstanceState().isToolLocked,[t]),o=Re("current tool",()=>t.getCurrentTool(),[t]);return!e||!o.isLockable?null:m.jsx(Qt,{type:"normal",title:n("action.toggle-tool-lock"),"data-testid":"tool-lock",className:jt("tlui-toolbar__lock-button",{"tlui-toolbar__lock-button__mobile":r<fi.TABLET_SM}),onClick:()=>t.updateInstanceState({isToolLocked:!i}),children:m.jsx(_r,{icon:i?"lock":"unlock",small:!0})})}const xWt=I.memo(function({children:t}){const r=Ee(),n=Ma(),i=$s(),o=Re("current tool id",()=>r.getCurrentToolId(),[r]),a=I.useRef(null);Ef(a);const{ActionsMenu:s,QuickActions:l}=Tf(),c=r.options.actionShortcutsLocation==="menu"?!1:r.options.actionShortcutsLocation==="toolbar"?!0:n<fi.TABLET;return m.jsx("div",{ref:a,className:"tlui-toolbar",children:m.jsxs("div",{className:"tlui-toolbar__inner",children:[m.jsxs("div",{className:"tlui-toolbar__left",children:[!i&&m.jsxs("div",{className:"tlui-toolbar__extras",children:[c&&m.jsxs("div",{className:"tlui-toolbar__extras__controls tlui-buttons__horizontal",children:[l&&m.jsx(l,{}),s&&m.jsx(s,{})]}),m.jsx(bWt,{activeToolId:o})]}),m.jsx(wWt,{children:t??m.jsx(P8t,{})})]}),n<fi.TABLET_SM&&!i&&m.jsx("div",{className:"tlui-toolbar__tools",children:m.jsx(B8t,{})})]})})});function SWt(){const e=Or();return m.jsxs("div",{className:jt("tlui-offline-indicator"),children:[e("status.offline"),m.jsx(fu,{"aria-label":"offline",icon:"status-offline",small:!0})]})}function CWt({maxWidth:e=420,ignoreRightWidth:t=0,stylePanelWidth:r=148,marginBetweenZones:n=12,squeezeAmount:i=52,children:o}){const a=I.useRef(null),s=Ma(),l=I.useCallback(()=>{const c=a.current;if(!c)return;const u=c.parentElement.parentElement,d=u.querySelector(".tlui-layout__top__left"),A=u.querySelector(".tlui-layout__top__right"),f=u.offsetWidth,h=d.offsetWidth,p=A.offsetWidth,v=c.offsetWidth-t;let y=(f-v)/2;f%2!==0&&(y-=.5);const b=h+n,x=c.offsetLeft,S=Math.min(f-p-h-2*n,e),C=Math.max(y,b)-x;A.offsetWidth>r&&s<=6?c.style.setProperty("max-width",S-i+"px"):c.style.setProperty("max-width",S+"px"),c.style.setProperty("transform",`translate(${C}px, 0px)`)},[s,t,n,e,i,r]);return I.useLayoutEffect(()=>{const c=a.current;if(!c)return;const u=c.parentElement.parentElement,d=u.querySelector(".tlui-layout__top__left"),A=u.querySelector(".tlui-layout__top__right"),f=new ResizeObserver(l);return f.observe(d),f.observe(A),f.observe(u),f.observe(c),l(),()=>{f.disconnect()}},[l]),I.useLayoutEffect(()=>{l()}),m.jsx("div",{ref:a,className:"tlui-top-panel__container",children:o})}function _Wt(){const e=VQt()==="offline";return m.jsx(CWt,{children:e&&m.jsx(SWt,{})})}function EWt(){return m.jsxs(m.Fragment,{children:[m.jsx(He,{actionId:"zoom-in",noClose:!0}),m.jsx(He,{actionId:"zoom-out",noClose:!0}),m.jsx(b6e,{}),m.jsx(x6e,{}),m.jsx(S6e,{})]})}const IWt=I.memo(function({children:t}){const r=Yi(),[n,i]=Kd("zoom menu"),o=t??m.jsx(EWt,{});return m.jsxs(b8,{dir:"ltr",open:n,onOpenChange:i,modal:!1,children:[m.jsx(x8,{asChild:!0,dir:"ltr",children:m.jsx(BWt,{})}),m.jsx(tT,{container:r,children:m.jsx(S8,{className:"tlui-menu",side:"top",align:"start",alignOffset:0,sideOffset:8,collisionPadding:4,children:m.jsx(xl,{type:"menu",sourceId:"zoom-menu",children:o})})})]})}),BWt=I.forwardRef(function(t,r){const n=Ee(),i=Ma(),o=Re("zoom",()=>n.getZoomLevel(),[n]),a=Or(),s=I.useCallback(()=>{n.resetZoom(n.getViewportScreenCenter(),{animation:{duration:n.options.animationMediumMs}})},[n]);return m.jsx(Qt,{ref:r,...t,type:"icon",title:`${a("navigation-zone.zoom")}`,"data-testid":"minimap.zoom-menu-button",className:i<fi.TABLET_SM?"tlui-zoom-menu__button":"tlui-zoom-menu__button__pct",onDoubleClick:s,children:i<fi.MOBILE?null:m.jsxs("span",{style:{flexGrow:0,textAlign:"center"},children:[Math.floor(o*100),"%"]})})}),pze=I.createContext(null);function PWt({overrides:e={},children:t}){const r=cv(e),n=aT();return m.jsx(pze.Provider,{value:I.useMemo(()=>({ContextMenu:Hzt,ActionsMenu:mzt,HelpMenu:null,ZoomMenu:IWt,MainMenu:SKt,Minimap:MKt,StylePanel:I8t,PageMenu:DKt,NavigationPanel:kKt,Toolbar:xWt,KeyboardShortcutsDialog:AKt,QuickActions:$Kt,HelperButtons:uKt,DebugPanel:tKt,DebugMenu:eKt,MenuPanel:oKt,SharePanel:n?VKt:null,CursorChatBubble:n?Kzt:null,TopPanel:n?_Wt:null,Dialogs:l3t,Toasts:A3t,...r}),[r,n]),children:t})}function Tf(){const e=I.useContext(pze);if(!e)throw new Error("useTldrawUiComponents must be used within a TldrawUiComponentsProvider");return e}const TWt=Ro(function({overrides:t,components:r,assetUrls:n,onUiEvent:i,forceMobile:o,mediaMimeTypes:a,children:s}){const l=yf();return m.jsx(w5e.Provider,{value:a,children:m.jsx(wQt,{assetUrls:z6t(n),children:m.jsx(SQt,{overrides:VHt(t),locale:(l==null?void 0:l.user.getLocale())??$c.locale,children:m.jsx(ALt,{onEvent:i,children:m.jsx(yHt,{children:m.jsx(YQt,{context:"tla",children:m.jsx(GQt,{forceMobile:o,children:m.jsx(PWt,{overrides:r,children:l?m.jsx(OWt,{overrides:t,children:s}):s})})})})})})})})});function OWt({overrides:e,children:t}){const r=GHt(e);return m.jsx(XHt,{overrides:r.actions,children:m.jsx(f3t,{overrides:r.tools,children:t})})}function RWt(){const e=Ee(),{addToast:t}=zd();I.useEffect(()=>{function r({name:n,count:i}){t({title:"Maximum Shapes Reached",description:`You've reached the maximum number of shapes allowed on ${n} (${i}). Please delete some shapes or move to a different page to continue.`,severity:"warning"})}return e.addListener("max-shapes",r),()=>{e.removeListener("max-shapes",r)}},[e,t])}const MWt=ue.memo(function({renderDebugMenuItems:t,children:r,hideUi:n,components:i,...o}){return m.jsx(TWt,{...o,components:i,children:m.jsx(FWt,{hideUi:n,renderDebugMenuItems:t,children:r})})}),FWt=ue.memo(function({children:t,hideUi:r,...n}){return m.jsxs(m.Fragment,{children:[t,r?null:m.jsx(kWt,{...n})]})}),kWt=ue.memo(function(){const t=Ee(),r=Or(),n=Ma(),i=$s(),o=Re("focus",()=>t.getInstanceState().isFocusMode,[t]),a=Re("debug",()=>t.getInstanceState().isDebugMode,[t]),{SharePanel:s,TopPanel:l,MenuPanel:c,StylePanel:u,Toolbar:d,HelpMenu:A,NavigationPanel:f,HelperButtons:h,DebugPanel:p,CursorChatBubble:v,Toasts:y,Dialogs:b}=Tf();gWt(),DHt(),RWt();const{"toggle-focus-mode":x}=yp();return m.jsxs("div",{className:jt("tlui-layout",{"tlui-layout__mobile":n<fi.TABLET_SM}),"data-breakpoint":n,children:[o?m.jsx("div",{className:"tlui-layout__top",children:m.jsx(Qt,{type:"icon",className:"tlui-focus-button",title:r("focus-mode.toggle-focus-mode"),onClick:()=>x.onSelect("menu"),children:m.jsx(_r,{icon:"dot"})})}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"tlui-layout__top",children:[m.jsxs("div",{className:"tlui-layout__top__left",children:[c&&m.jsx(c,{}),h&&m.jsx(h,{})]}),m.jsx("div",{className:"tlui-layout__top__center",children:l&&m.jsx(l,{})}),m.jsxs("div",{className:"tlui-layout__top__right",children:[s&&m.jsx(s,{}),u&&n>=fi.TABLET_SM&&!i&&m.jsx(u,{})]})]}),m.jsxs("div",{className:"tlui-layout__bottom",children:[m.jsxs("div",{className:"tlui-layout__bottom__main",children:[f&&m.jsx(f,{}),d&&m.jsx(d,{}),A&&m.jsx(A,{})]}),a&&p&&m.jsx(p,{})]})]}),y&&m.jsx(y,{}),b&&m.jsx(b,{}),m.jsx(Q6t,{}),v&&m.jsx(v,{})]})});async function UWt(e,t){const{url:r,style:n="normal",weight:i="500",display:o,featureSettings:a,stretch:s,unicodeRange:l,variant:c,format:u}=t,d={style:n,weight:i,display:o,featureSettings:a,stretch:s,unicodeRange:l,variant:c},A=new FontFace(e,`url(${r})`,d);return await A.load(),document.fonts.add(A),A.$$_url=r,A.$$_fontface=`
@font-face {
	font-family: ${A.family};
	font-stretch: ${A.stretch};
	font-weight: ${A.weight};
	font-style: ${A.style};
	src: url("${r}") format("${u}")
}`,A}const tC=(e,t)=>{const[r,n]=I.useState(2);return I.useEffect(()=>{let i=!1;return n(2),UWt(e,t).then(()=>{i||n(0)}).catch(o=>{i||(console.error(o),n(1))}),()=>{i=!0}},[e,t]),r};function DWt(e){return{draw:{url:e.fonts.draw,format:e.fonts.draw.split(".").pop()},serif:{url:e.fonts.serif,format:e.fonts.serif.split(".").pop()},sansSerif:{url:e.fonts.sansSerif,format:e.fonts.sansSerif.split(".").pop()},monospace:{url:e.fonts.monospace,format:e.fonts.monospace.split(".").pop()}}}function gze(e){const t=I.useMemo(()=>DWt(e),[e]),r=[tC("tldraw_draw",t.draw),tC("tldraw_serif",t.serif),tC("tldraw_sans",t.sansSerif),tC("tldraw_mono",t.monospace)];return{error:r.some(n=>n===1),done:!r.some(n=>n===2)}}const jWt=[...$6t,...P5t];function LWt(e){const{children:t,maxImageDimension:r,maxAssetSize:n,acceptedImageMimeTypes:i,acceptedVideoMimeTypes:o,onMount:a,components:s={},shapeUtils:l=[],bindingUtils:c=[],tools:u=[],embeds:d,...A}=e,f=cv(s),h=I.useMemo(()=>({Scribble:FBe,ShapeIndicators:C3t,CollaboratorScribble:FBe,SelectionForeground:b3t,SelectionBackground:y3t,Handles:h3t,...f}),[f]),p=PA(l),v=I.useMemo(()=>Jk("type",p,dqe),[p]),y=PA(c),b=I.useMemo(()=>Jk("type",y,B5e),[y]),x=PA(u),S=I.useMemo(()=>Jk("id",jWt,x),[x]),C=PA(i??Mb),_=PA(o??TB),B=I.useMemo(()=>[...C,..._],[C,_]),T=Gqe(A.assetUrls),{done:O,error:P}=gze(T);return P?m.jsx(kQe,{children:"Could not load assets. Please refresh the page."}):O?(v.find(U=>U.type==="embed")&&d&&sI.setEmbedDefinitions(d),m.jsx(Xjt,{initialState:"select",...A,components:h,shapeUtils:v,bindingUtils:b,tools:S,children:m.jsxs(MWt,{...A,components:h,mediaMimeTypes:B,children:[m.jsx(NWt,{maxImageDimension:r,maxAssetSize:n,acceptedImageMimeTypes:C,acceptedVideoMimeTypes:_,onMount:a}),t]})})):m.jsx(KK,{children:m.jsx(Xz,{})})}function NWt({maxImageDimension:e,maxAssetSize:t,acceptedImageMimeTypes:r,acceptedVideoMimeTypes:n,onMount:i}){const o=Ee(),a=zd(),s=Or();UQe(()=>{const u=[];return u.push(d6t(o)),Z3t(o,{maxImageDimension:e,maxAssetSize:t,acceptedImageMimeTypes:r,acceptedVideoMimeTypes:n,toasts:a,msg:s}),u.push(o.store.props.onMount(o)),u.push(i==null?void 0:i(o)),()=>{u.forEach(d=>d==null?void 0:d())}});const{Canvas:l}=Un(),{ContextMenu:c}=Tf();return c?m.jsx(c,{}):l?m.jsx(l,{}):null}I.memo(function(t){const[r,n]=I.useState(null),[i,o]=I.useState(null),a=PA(t.shapeUtils??[]),s=I.useMemo(()=>[...dqe,...a],[a]),l=PA(t.bindingUtils??[]),c=I.useMemo(()=>[...B5e,...l],[l]),u=iLt({snapshot:t.snapshot,shapeUtils:s}),d=Gqe(t.assetUrls),{done:A,error:f}=gze(d),{pageId:h,bounds:p,scale:v,pixelRatio:y,background:b,padding:x,darkMode:S,preserveAspectRatio:C,format:_="svg",licenseKey:B}=t;return I.useLayoutEffect(()=>{if(!i||!u||!A)return;let T=!1;const O=document.createElement("div");i.appendChild(O),i.classList.add("tl-container","tl-theme__light");const P=new yt({store:u,shapeUtils:s,bindingUtils:c,tools:[],getContainer:()=>O,licenseKey:B});h&&P.setCurrentPage(h);const F=P.getCurrentPageShapeIds();async function U(){const k=await P.toImage([...F],{bounds:p,scale:v,background:b,padding:x,darkMode:S,preserveAspectRatio:C,format:_});if(!k||T)return;const M=URL.createObjectURL(k.blob);n(M),P.dispose()}return U(),()=>{T=!0}},[_,i,u,s,c,h,p,v,b,x,S,C,A,f,B,y]),I.useEffect(()=>()=>{r&&URL.revokeObjectURL(r)},[r]),f?m.jsx(kQe,{children:"Could not load assets."}):A?m.jsx("div",{ref:o,style:{position:"relative",width:"100%",height:"100%"},children:r&&m.jsx("img",{src:r,referrerPolicy:"strict-origin-when-cross-origin",style:{width:"100%",height:"100%"}})}):m.jsx(KK,{children:m.jsx(Xz,{})})});I.memo(function({children:t}){const r=Or(),n=Ma(),i=I.useRef(null);Ef(i);const o=t??m.jsx(fKt,{});return n<fi.MOBILE?null:m.jsx("div",{ref:i,className:"tlui-help-menu",children:m.jsxs($h,{id:"help menu",children:[m.jsx(Qh,{children:m.jsx(Qt,{type:"help",title:r("help-menu.title"),"data-testid":"help-menu.button",children:m.jsx(_r,{icon:"question-mark",small:!0})})}),m.jsx(Hh,{side:"top",align:"end",alignOffset:0,sideOffset:8,children:m.jsx(xl,{type:"menu",sourceId:"help-menu",children:o})})]})})});const $Wt=Er({schemaVersion:sa(1),storeVersion:CC,recordVersions:kE(or,Er({version:CC,subTypeVersions:kE(or,CC).optional(),subTypeKey:or.optional()}))}),QWt=Er({schemaVersion:sa(2),sequences:kE(or,CC)});Er({tldrawFileFormatVersion:aCt,schema:sCt("schemaVersion",{1:$Wt,2:QWt}),records:Co(Er({id:or,typeName:or}).allowUnknownProperties())});hf("tldraw","3.9.0","esm");const HWt=()=>m.jsx("div",{style:{position:"fixed",inset:0,marginTop:"80px"},children:m.jsx(LWt,{persistenceKey:"canvasPage"})}),Y4="stakeholders",qWt=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(""),[i,o]=I.useState(50),[a,s]=I.useState(50),l=f=>{t(f),localStorage.setItem(Y4,JSON.stringify(f)),window.dispatchEvent(new Event("stakeholdersUpdated"))};I.useEffect(()=>{const f=localStorage.getItem(Y4);if(f)try{t(JSON.parse(f))}catch(h){console.error("Error parsing stored stakeholders",h)}},[]),I.useEffect(()=>{const f=()=>{const h=localStorage.getItem(Y4);if(h)try{t(JSON.parse(h))}catch(p){console.error("Error parsing stored stakeholders",p)}};return window.addEventListener("stakeholdersUpdated",f),()=>{window.removeEventListener("stakeholdersUpdated",f)}},[]);const c=()=>{if(r.trim()){const f={name:r,x:i,y:a};l([...e,f]),n("")}},u=f=>{const h=e.filter(p=>p.name!==f);l(h)},d=f=>{const{active:h,payload:p}=f;if(h&&p&&p.length){const{name:v}=p[0].payload;return m.jsxs("div",{className:"bg-white border border-gray-300 p-2 rounded-md shadow-md",children:[m.jsx(Bt,{variant:"body2",className:"text-gray-800 font-semibold",children:v}),m.jsx(_a,{variant:"outlined",size:"small",color:"error",startIcon:m.jsx(k3,{}),onClick:()=>u(v),className:"mt-1",children:"Remove"})]})}return null},A=f=>{const{cx:h,cy:p,fill:v}=f;return m.jsx("circle",{cx:h,cy:p,r:8,fill:v})};return m.jsxs("div",{className:"flex flex-col space-y-6",children:[m.jsxs(ph,{className:"shadow-sm hover:shadow-md transition-shadow border border-[rgb(95,37,159)]/[0.1] rounded-xl",children:[m.jsx(CR,{title:m.jsx(Bt,{variant:"h6",className:"text-[rgb(95,37,159)] font-bold",children:"Add a Stakeholder"}),className:"pb-0"}),m.jsxs(gh,{className:"flex flex-col space-y-4",children:[m.jsx(gn,{label:"Name",variant:"outlined",fullWidth:!0,value:r,onChange:f=>n(f.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}}}),m.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsxs(Bt,{variant:"caption",className:"text-gray-600",children:["Support (",i,")"]}),m.jsx(u7,{value:i,min:0,max:100,onChange:(f,h)=>o(h),sx:{width:250,height:10,"& .MuiSlider-thumb":{width:28,height:28},"& .MuiSlider-track":{height:10},"& .MuiSlider-rail":{height:10}}})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsxs(Bt,{variant:"caption",className:"text-gray-600",children:["Influence (",a,")"]}),m.jsx(u7,{value:a,min:0,max:100,onChange:(f,h)=>s(h),sx:{width:250,height:10,"& .MuiSlider-thumb":{width:28,height:28},"& .MuiSlider-track":{height:10},"& .MuiSlider-rail":{height:10}}})]}),m.jsx(_a,{variant:"contained",onClick:c,className:"bg-[rgb(95,37,159)] hover:bg-purple-800 text-white",children:"Add"})]})]})]}),m.jsxs(ph,{className:"shadow-sm hover:shadow-md transition-shadow border border-[rgb(95,37,159)]/[0.1] rounded-xl",children:[m.jsx(CR,{title:m.jsx(Bt,{variant:"h6",className:"text-[rgb(95,37,159)] font-bold",children:"Stakeholder Map"}),className:"pb-0"}),m.jsx(gh,{children:m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(g6,{width:"100%",height:"100%",children:m.jsxs(gvt,{children:[m.jsx(z2e,{strokeDasharray:"3 3",stroke:"#ccc"}),m.jsx(Zh,{type:"number",dataKey:"x",name:"Support",domain:[0,100],tick:{fill:"#4b5563"}}),m.jsx(ep,{type:"number",dataKey:"y",name:"Influence",domain:[0,100],tick:{fill:"#4b5563"}}),m.jsx(Ow,{x:50,stroke:"purple",strokeDasharray:"3 3"}),m.jsx(Ow,{y:50,stroke:"purple",strokeDasharray:"3 3"}),m.jsx(nl,{content:d}),m.jsx(Tb,{name:"Stakeholders",data:e,fill:"rgb(95,37,159)",shape:A})]})})})})]}),m.jsxs(ph,{className:"shadow-sm hover:shadow-md transition-shadow border border-[rgb(95,37,159)]/[0.1] rounded-xl",children:[m.jsx(CR,{title:m.jsx(Bt,{variant:"h6",className:"text-[rgb(95,37,159)] font-bold",children:"Stakeholders"}),className:"pb-0"}),m.jsx(gh,{children:e.length===0?m.jsx(Bt,{variant:"body2",className:"text-gray-600",children:"No stakeholders yet. Add one above!"}):m.jsx(J0,{children:e.map(f=>m.jsxs("div",{className:"flex justify-between items-center mb-2 border-b border-gray-200 pb-2",children:[m.jsx(oh,{primary:m.jsx("span",{className:"font-medium text-gray-700",children:f.name}),secondary:`Support: ${f.x}, Influence: ${f.y}`}),m.jsx(kOe,{edge:"end",color:"error",onClick:()=>u(f.name),children:m.jsx(k3,{})})]},f.name))})})]})]})},zWt=()=>m.jsx(Kn,{className:"bg-gray-50 min-h-screen py-8",children:m.jsx(XA,{maxWidth:"md",children:m.jsx(qWt,{})})});function Li(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=Li(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var KWt={value:()=>{}};function bT(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new t_(r)}function t_(e){this._=e}function WWt(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}t_.prototype=bT.prototype={constructor:t_,on:function(e,t){var r=this._,n=WWt(e+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(e=n[o]).type)&&(i=VWt(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=n[o]).type)r[i]=CPe(r[i],e.name,t);else if(t==null)for(i in r)r[i]=CPe(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new t_(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function VWt(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function CPe(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=KWt,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var G5="http://www.w3.org/1999/xhtml";const _Pe={svg:"http://www.w3.org/2000/svg",xhtml:G5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xT(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),_Pe.hasOwnProperty(t)?{space:_Pe[t],local:e}:e}function GWt(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===G5&&t.documentElement.namespaceURI===G5?t.createElement(e):t.createElementNS(r,e)}}function YWt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mze(e){var t=xT(e);return(t.local?YWt:GWt)(t)}function XWt(){}function AW(e){return e==null?XWt:function(){return this.querySelector(e)}}function JWt(e){typeof e!="function"&&(e=AW(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Ms(n,this._parents)}function ZWt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function e9t(){return[]}function vze(e){return e==null?e9t:function(){return this.querySelectorAll(e)}}function t9t(e){return function(){return ZWt(e.apply(this,arguments))}}function r9t(e){typeof e=="function"?e=t9t(e):e=vze(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var a=t[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new Ms(n,i)}function yze(e){return function(){return this.matches(e)}}function wze(e){return function(t){return t.matches(e)}}var n9t=Array.prototype.find;function i9t(e){return function(){return n9t.call(this.children,e)}}function o9t(){return this.firstElementChild}function a9t(e){return this.select(e==null?o9t:i9t(typeof e=="function"?e:wze(e)))}var s9t=Array.prototype.filter;function l9t(){return Array.from(this.children)}function c9t(e){return function(){return s9t.call(this.children,e)}}function u9t(e){return this.selectAll(e==null?l9t:c9t(typeof e=="function"?e:wze(e)))}function d9t(e){typeof e!="function"&&(e=yze(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Ms(n,this._parents)}function bze(e){return new Array(e.length)}function A9t(){return new Ms(this._enter||this._groups.map(bze),this._parents)}function cI(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}cI.prototype={constructor:cI,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function f9t(e){return function(){return e}}function h9t(e,t,r,n,i,o){for(var a=0,s,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],n[a]=s):r[a]=new cI(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function p9t(e,t,r,n,i,o,a){var s,l,c=new Map,u=t.length,d=o.length,A=new Array(u),f;for(s=0;s<u;++s)(l=t[s])&&(A[s]=f=a.call(l,l.__data__,s,t)+"",c.has(f)?i[s]=l:c.set(f,l));for(s=0;s<d;++s)f=a.call(e,o[s],s,o)+"",(l=c.get(f))?(n[s]=l,l.__data__=o[s],c.delete(f)):r[s]=new cI(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(A[s])===l&&(i[s]=l)}function g9t(e){return e.__data__}function m9t(e,t){if(!arguments.length)return Array.from(this,g9t);var r=t?p9t:h9t,n=this._parents,i=this._groups;typeof e!="function"&&(e=f9t(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],d=i[c],A=d.length,f=v9t(e.call(u,u&&u.__data__,c,n)),h=f.length,p=s[c]=new Array(h),v=a[c]=new Array(h),y=l[c]=new Array(A);r(u,d,p,v,y,f,t);for(var b=0,x=0,S,C;b<h;++b)if(S=p[b]){for(b>=x&&(x=b+1);!(C=v[x])&&++x<h;);S._next=C||null}}return a=new Ms(a,n),a._enter=s,a._exit=l,a}function v9t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function y9t(){return new Ms(this._exit||this._groups.map(bze),this._parents)}function w9t(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function b9t(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=r[l],u=n[l],d=c.length,A=s[l]=new Array(d),f,h=0;h<d;++h)(f=c[h]||u[h])&&(A[h]=f);for(;l<i;++l)s[l]=r[l];return new Ms(s,this._parents)}function x9t(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function S9t(e){e||(e=C9t);function t(d,A){return d&&A?e(d.__data__,A.__data__):!d-!A}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(t)}return new Ms(i,this._parents).order()}function C9t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _9t(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function E9t(){return Array.from(this)}function I9t(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function B9t(){let e=0;for(const t of this)++e;return e}function P9t(){return!this.node()}function T9t(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function O9t(e){return function(){this.removeAttribute(e)}}function R9t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function M9t(e,t){return function(){this.setAttribute(e,t)}}function F9t(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function k9t(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function U9t(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function D9t(e,t){var r=xT(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?R9t:O9t:typeof t=="function"?r.local?U9t:k9t:r.local?F9t:M9t)(r,t))}function xze(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function j9t(e){return function(){this.style.removeProperty(e)}}function L9t(e,t,r){return function(){this.style.setProperty(e,t,r)}}function N9t(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function $9t(e,t,r){return arguments.length>1?this.each((t==null?j9t:typeof t=="function"?N9t:L9t)(e,t,r??"")):Mm(this.node(),e)}function Mm(e,t){return e.style.getPropertyValue(t)||xze(e).getComputedStyle(e,null).getPropertyValue(t)}function Q9t(e){return function(){delete this[e]}}function H9t(e,t){return function(){this[e]=t}}function q9t(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function z9t(e,t){return arguments.length>1?this.each((t==null?Q9t:typeof t=="function"?q9t:H9t)(e,t)):this.node()[e]}function Sze(e){return e.trim().split(/^|\s+/)}function fW(e){return e.classList||new Cze(e)}function Cze(e){this._node=e,this._names=Sze(e.getAttribute("class")||"")}Cze.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _ze(e,t){for(var r=fW(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Eze(e,t){for(var r=fW(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function K9t(e){return function(){_ze(this,e)}}function W9t(e){return function(){Eze(this,e)}}function V9t(e,t){return function(){(t.apply(this,arguments)?_ze:Eze)(this,e)}}function G9t(e,t){var r=Sze(e+"");if(arguments.length<2){for(var n=fW(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?V9t:t?K9t:W9t)(r,t))}function Y9t(){this.textContent=""}function X9t(e){return function(){this.textContent=e}}function J9t(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Z9t(e){return arguments.length?this.each(e==null?Y9t:(typeof e=="function"?J9t:X9t)(e)):this.node().textContent}function eVt(){this.innerHTML=""}function tVt(e){return function(){this.innerHTML=e}}function rVt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nVt(e){return arguments.length?this.each(e==null?eVt:(typeof e=="function"?rVt:tVt)(e)):this.node().innerHTML}function iVt(){this.nextSibling&&this.parentNode.appendChild(this)}function oVt(){return this.each(iVt)}function aVt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sVt(){return this.each(aVt)}function lVt(e){var t=typeof e=="function"?e:mze(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function cVt(){return null}function uVt(e,t){var r=typeof e=="function"?e:mze(e),n=t==null?cVt:typeof t=="function"?t:AW(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function dVt(){var e=this.parentNode;e&&e.removeChild(this)}function AVt(){return this.each(dVt)}function fVt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hVt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pVt(e){return this.select(e?hVt:fVt)}function gVt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function mVt(e){return function(t){e.call(this,t,this.__data__)}}function vVt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function yVt(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function wVt(e,t,r){return function(){var n=this.__on,i,o=mVt(t);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function bVt(e,t,r){var n=vVt(e+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=n[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=t?wVt:yVt,i=0;i<o;++i)this.each(s(n[i],t,r));return this}function Ize(e,t,r){var n=xze(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function xVt(e,t){return function(){return Ize(this,e,t)}}function SVt(e,t){return function(){return Ize(this,e,t.apply(this,arguments))}}function CVt(e,t){return this.each((typeof t=="function"?SVt:xVt)(e,t))}function*_Vt(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var Bze=[null];function Ms(e,t){this._groups=e,this._parents=t}function wx(){return new Ms([[document.documentElement]],Bze)}function EVt(){return this}Ms.prototype=wx.prototype={constructor:Ms,select:JWt,selectAll:r9t,selectChild:a9t,selectChildren:u9t,filter:d9t,data:m9t,enter:A9t,exit:y9t,join:w9t,merge:b9t,selection:EVt,order:x9t,sort:S9t,call:_9t,nodes:E9t,node:I9t,size:B9t,empty:P9t,each:T9t,attr:D9t,style:$9t,property:z9t,classed:G9t,text:Z9t,html:nVt,raise:oVt,lower:sVt,append:lVt,insert:uVt,remove:AVt,clone:pVt,datum:gVt,on:bVt,dispatch:CVt,[Symbol.iterator]:_Vt};function ws(e){return typeof e=="string"?new Ms([[document.querySelector(e)]],[document.documentElement]):new Ms([[e]],Bze)}function IVt(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Yl(e,t){if(e=IVt(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const BVt={passive:!1},tb={capture:!0,passive:!1};function X4(e){e.stopImmediatePropagation()}function Yg(e){e.preventDefault(),e.stopImmediatePropagation()}function Pze(e){var t=e.document.documentElement,r=ws(e).on("dragstart.drag",Yg,tb);"onselectstart"in t?r.on("selectstart.drag",Yg,tb):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Tze(e,t){var r=e.document.documentElement,n=ws(e).on("dragstart.drag",null);t&&(n.on("click.drag",Yg,tb),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const rC=e=>()=>e;function Y5(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Y5.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function PVt(e){return!e.ctrlKey&&!e.button}function TVt(){return this.parentNode}function OVt(e,t){return t??{x:e.x,y:e.y}}function RVt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oze(){var e=PVt,t=TVt,r=OVt,n=RVt,i={},o=bT("start","drag","end"),a=0,s,l,c,u,d=0;function A(S){S.on("mousedown.drag",f).filter(n).on("touchstart.drag",v).on("touchmove.drag",y,BVt).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(S,C){if(!(u||!e.call(this,S,C))){var _=x(this,t.call(this,S,C),S,C,"mouse");_&&(ws(S.view).on("mousemove.drag",h,tb).on("mouseup.drag",p,tb),Pze(S.view),X4(S),c=!1,s=S.clientX,l=S.clientY,_("start",S))}}function h(S){if(Yg(S),!c){var C=S.clientX-s,_=S.clientY-l;c=C*C+_*_>d}i.mouse("drag",S)}function p(S){ws(S.view).on("mousemove.drag mouseup.drag",null),Tze(S.view,c),Yg(S),i.mouse("end",S)}function v(S,C){if(e.call(this,S,C)){var _=S.changedTouches,B=t.call(this,S,C),T=_.length,O,P;for(O=0;O<T;++O)(P=x(this,B,S,C,_[O].identifier,_[O]))&&(X4(S),P("start",S,_[O]))}}function y(S){var C=S.changedTouches,_=C.length,B,T;for(B=0;B<_;++B)(T=i[C[B].identifier])&&(Yg(S),T("drag",S,C[B]))}function b(S){var C=S.changedTouches,_=C.length,B,T;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),B=0;B<_;++B)(T=i[C[B].identifier])&&(X4(S),T("end",S,C[B]))}function x(S,C,_,B,T,O){var P=o.copy(),F=Yl(O||_,C),U,k,M;if((M=r.call(S,new Y5("beforestart",{sourceEvent:_,target:A,identifier:T,active:a,x:F[0],y:F[1],dx:0,dy:0,dispatch:P}),B))!=null)return U=M.x-F[0]||0,k=M.y-F[1]||0,function D(j,$,Q){var H=F,W;switch(j){case"start":i[T]=D,W=a++;break;case"end":delete i[T],--a;case"drag":F=Yl(Q||$,C),W=a;break}P.call(j,S,new Y5(j,{sourceEvent:$,subject:M,target:A,identifier:T,active:W,x:F[0]+U,y:F[1]+k,dx:F[0]-H[0],dy:F[1]-H[1],dispatch:P}),B)}}return A.filter=function(S){return arguments.length?(e=typeof S=="function"?S:rC(!!S),A):e},A.container=function(S){return arguments.length?(t=typeof S=="function"?S:rC(S),A):t},A.subject=function(S){return arguments.length?(r=typeof S=="function"?S:rC(S),A):r},A.touchable=function(S){return arguments.length?(n=typeof S=="function"?S:rC(!!S),A):n},A.on=function(){var S=o.on.apply(o,arguments);return S===o?A:S},A.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,A):Math.sqrt(d)},A}var Fm=0,g0=0,qy=0,Rze=1e3,uI,m0,dI=0,zh=0,ST=0,rb=typeof performance=="object"&&performance.now?performance:Date,Mze=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hW(){return zh||(Mze(MVt),zh=rb.now()+ST)}function MVt(){zh=0}function AI(){this._call=this._time=this._next=null}AI.prototype=Fze.prototype={constructor:AI,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?hW():+r)+(t==null?0:+t),!this._next&&m0!==this&&(m0?m0._next=this:uI=this,m0=this),this._call=e,this._time=r,X5()},stop:function(){this._call&&(this._call=null,this._time=1/0,X5())}};function Fze(e,t,r){var n=new AI;return n.restart(e,t,r),n}function FVt(){hW(),++Fm;for(var e=uI,t;e;)(t=zh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fm}function EPe(){zh=(dI=rb.now())+ST,Fm=g0=0;try{FVt()}finally{Fm=0,UVt(),zh=0}}function kVt(){var e=rb.now(),t=e-dI;t>Rze&&(ST-=t,dI=e)}function UVt(){for(var e,t=uI,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:uI=r);m0=e,X5(n)}function X5(e){if(!Fm){g0&&(g0=clearTimeout(g0));var t=e-zh;t>24?(e<1/0&&(g0=setTimeout(EPe,e-rb.now()-ST)),qy&&(qy=clearInterval(qy))):(qy||(dI=rb.now(),qy=setInterval(kVt,Rze)),Fm=1,Mze(EPe))}}function IPe(e,t,r){var n=new AI;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var DVt=bT("start","end","cancel","interrupt"),jVt=[],kze=0,BPe=1,J5=2,r_=3,PPe=4,Z5=5,n_=6;function CT(e,t,r,n,i,o){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;LVt(e,r,{name:t,index:n,group:i,on:DVt,tween:jVt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:kze})}function pW(e,t){var r=_c(e,t);if(r.state>kze)throw new Error("too late; already scheduled");return r}function Mu(e,t){var r=_c(e,t);if(r.state>r_)throw new Error("too late; already running");return r}function _c(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function LVt(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Fze(o,0,r.time);function o(c){r.state=BPe,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var u,d,A,f;if(r.state!==BPe)return l();for(u in n)if(f=n[u],f.name===r.name){if(f.state===r_)return IPe(a);f.state===PPe?(f.state=n_,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete n[u]):+u<t&&(f.state=n_,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete n[u])}if(IPe(function(){r.state===r_&&(r.state=PPe,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=J5,r.on.call("start",e,e.__data__,r.index,r.group),r.state===J5){for(r.state=r_,i=new Array(A=r.tween.length),u=0,d=-1;u<A;++u)(f=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++d]=f);i.length=d+1}}function s(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=Z5,1),d=-1,A=i.length;++d<A;)i[d].call(e,u);r.state===Z5&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=n_,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function i_(e,t){var r=e.__transition,n,i,o=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){o=!1;continue}i=n.state>J5&&n.state<Z5,n.state=n_,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}o&&delete e.__transition}}function NVt(e){return this.each(function(){i_(this,e)})}function $Vt(e,t){var r,n;return function(){var i=Mu(this,e),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function QVt(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Mu(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function HVt(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=_c(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?$Vt:QVt)(r,e,t))}function gW(e,t,r){var n=e._id;return e.each(function(){var i=Mu(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return _c(i,n).value[t]}}function Uze(e,t){var r;return(typeof t=="number"?Xl:t instanceof Ph?F_:(r=Ph(t))?(t=r,F_):sMe)(e,t)}function qVt(e){return function(){this.removeAttribute(e)}}function zVt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KVt(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===n?o:o=t(n=a,r)}}function WVt(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?o:o=t(n=a,r)}}function VVt(e,t,r){var n,i,o;return function(){var a,s=r(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s)))}}function GVt(e,t,r){var n,i,o;return function(){var a,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s)))}}function YVt(e,t){var r=xT(e),n=r==="transform"?gst:Uze;return this.attrTween(e,typeof t=="function"?(r.local?GVt:VVt)(r,n,gW(this,"attr."+e,t)):t==null?(r.local?zVt:qVt)(r):(r.local?WVt:KVt)(r,n,t))}function XVt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function JVt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function ZVt(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&JVt(e,o)),r}return i._value=t,i}function eGt(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&XVt(e,o)),r}return i._value=t,i}function tGt(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=xT(e);return this.tween(r,(n.local?ZVt:eGt)(n,t))}function rGt(e,t){return function(){pW(this,e).delay=+t.apply(this,arguments)}}function nGt(e,t){return t=+t,function(){pW(this,e).delay=t}}function iGt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rGt:nGt)(t,e)):_c(this.node(),t).delay}function oGt(e,t){return function(){Mu(this,e).duration=+t.apply(this,arguments)}}function aGt(e,t){return t=+t,function(){Mu(this,e).duration=t}}function sGt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?oGt:aGt)(t,e)):_c(this.node(),t).duration}function lGt(e,t){if(typeof t!="function")throw new Error;return function(){Mu(this,e).ease=t}}function cGt(e){var t=this._id;return arguments.length?this.each(lGt(t,e)):_c(this.node(),t).ease}function uGt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Mu(this,e).ease=r}}function dGt(e){if(typeof e!="function")throw new Error;return this.each(uGt(this._id,e))}function AGt(e){typeof e!="function"&&(e=yze(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new kd(n,this._parents,this._name,this._id)}function fGt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var l=t[s],c=r[s],u=l.length,d=a[s]=new Array(u),A,f=0;f<u;++f)(A=l[f]||c[f])&&(d[f]=A);for(;s<n;++s)a[s]=t[s];return new kd(a,this._parents,this._name,this._id)}function hGt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function pGt(e,t,r){var n,i,o=hGt(t)?pW:Mu;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}function gGt(e,t){var r=this._id;return arguments.length<2?_c(this.node(),r).on.on(e):this.each(pGt(r,e,t))}function mGt(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function vGt(){return this.on("end.remove",mGt(this._id))}function yGt(e){var t=this._name,r=this._id;typeof e!="function"&&(e=AW(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],l=s.length,c=o[a]=new Array(l),u,d,A=0;A<l;++A)(u=s[A])&&(d=e.call(u,u.__data__,A,s))&&("__data__"in u&&(d.__data__=u.__data__),c[A]=d,CT(c[A],t,r,A,c,_c(u,r)));return new kd(o,this._parents,t,r)}function wGt(e){var t=this._name,r=this._id;typeof e!="function"&&(e=vze(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var l=n[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var A=e.call(u,u.__data__,d,l),f,h=_c(u,r),p=0,v=A.length;p<v;++p)(f=A[p])&&CT(f,t,r,p,A,h);o.push(A),a.push(u)}return new kd(o,a,t,r)}var bGt=wx.prototype.constructor;function xGt(){return new bGt(this._groups,this._parents)}function SGt(e,t){var r,n,i;return function(){var o=Mm(this,e),a=(this.style.removeProperty(e),Mm(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}function Dze(e){return function(){this.style.removeProperty(e)}}function CGt(e,t,r){var n,i=r+"",o;return function(){var a=Mm(this,e);return a===i?null:a===n?o:o=t(n=a,r)}}function _Gt(e,t,r){var n,i,o;return function(){var a=Mm(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Mm(this,e))),a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s))}}function EGt(e,t){var r,n,i,o="style."+t,a="end."+o,s;return function(){var l=Mu(this,e),c=l.on,u=l.value[o]==null?s||(s=Dze(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(a,i=u),l.on=n}}function IGt(e,t,r){var n=(e+="")=="transform"?pst:Uze;return t==null?this.styleTween(e,SGt(e,n)).on("end.style."+e,Dze(e)):typeof t=="function"?this.styleTween(e,_Gt(e,n,gW(this,"style."+e,t))).each(EGt(this._id,e)):this.styleTween(e,CGt(e,n,t),r).on("end.style."+e,null)}function BGt(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function PGt(e,t,r){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&BGt(e,a,r)),n}return o._value=t,o}function TGt(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,PGt(e,t,r??""))}function OGt(e){return function(){this.textContent=e}}function RGt(e){return function(){var t=e(this);this.textContent=t??""}}function MGt(e){return this.tween("text",typeof e=="function"?RGt(gW(this,"text",e)):OGt(e==null?"":e+""))}function FGt(e){return function(t){this.textContent=e.call(this,t)}}function kGt(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&FGt(i)),t}return n._value=e,n}function UGt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,kGt(e))}function DGt(){for(var e=this._name,t=this._id,r=jze(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=_c(l,t);CT(l,e,r,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new kd(n,this._parents,e,r)}function jGt(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};r.each(function(){var c=Mu(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&o()})}var LGt=0;function kd(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function jze(){return++LGt}var Ju=wx.prototype;kd.prototype={constructor:kd,select:yGt,selectAll:wGt,selectChild:Ju.selectChild,selectChildren:Ju.selectChildren,filter:AGt,merge:fGt,selection:xGt,transition:DGt,call:Ju.call,nodes:Ju.nodes,node:Ju.node,size:Ju.size,empty:Ju.empty,each:Ju.each,on:gGt,attr:YVt,attrTween:tGt,style:IGt,styleTween:TGt,text:MGt,textTween:UGt,remove:vGt,tween:HVt,delay:iGt,duration:sGt,ease:cGt,easeVarying:dGt,end:jGt,[Symbol.iterator]:Ju[Symbol.iterator]};function NGt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $Gt={time:null,delay:0,duration:250,ease:NGt};function QGt(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function HGt(e){var t,r;e instanceof kd?(t=e._id,e=e._name):(t=jze(),(r=$Gt).time=hW(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&CT(l,e,t,c,a,r||QGt(l,t));return new kd(n,this._parents,e,t)}wx.prototype.interrupt=NVt;wx.prototype.transition=HGt;const nC=e=>()=>e;function qGt(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function ud(e,t,r){this.k=e,this.x=t,this.y=r}ud.prototype={constructor:ud,scale:function(e){return e===1?this:new ud(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ud(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _T=new ud(1,0,0);Lze.prototype=ud.prototype;function Lze(e){for(;!e.__zoom;)if(!(e=e.parentNode))return _T;return e.__zoom}function J4(e){e.stopImmediatePropagation()}function zy(e){e.preventDefault(),e.stopImmediatePropagation()}function zGt(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function KGt(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function TPe(){return this.__zoom||_T}function WGt(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function VGt(){return navigator.maxTouchPoints||"ontouchstart"in this}function GGt(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Nze(){var e=zGt,t=KGt,r=GGt,n=WGt,i=VGt,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=wst,c=bT("start","zoom","end"),u,d,A,f=500,h=150,p=0,v=10;function y(M){M.property("__zoom",TPe).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(M,D,j,$){var Q=M.selection?M.selection():M;Q.property("__zoom",TPe),M!==Q?C(M,D,j,$):Q.interrupt().each(function(){_(this,arguments).event($).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},y.scaleBy=function(M,D,j,$){y.scaleTo(M,function(){var Q=this.__zoom.k,H=typeof D=="function"?D.apply(this,arguments):D;return Q*H},j,$)},y.scaleTo=function(M,D,j,$){y.transform(M,function(){var Q=t.apply(this,arguments),H=this.__zoom,W=j==null?S(Q):typeof j=="function"?j.apply(this,arguments):j,z=H.invert(W),V=typeof D=="function"?D.apply(this,arguments):D;return r(x(b(H,V),W,z),Q,a)},j,$)},y.translateBy=function(M,D,j,$){y.transform(M,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),a)},null,$)},y.translateTo=function(M,D,j,$,Q){y.transform(M,function(){var H=t.apply(this,arguments),W=this.__zoom,z=$==null?S(H):typeof $=="function"?$.apply(this,arguments):$;return r(_T.translate(z[0],z[1]).scale(W.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof j=="function"?-j.apply(this,arguments):-j),H,a)},$,Q)};function b(M,D){return D=Math.max(o[0],Math.min(o[1],D)),D===M.k?M:new ud(D,M.x,M.y)}function x(M,D,j){var $=D[0]-j[0]*M.k,Q=D[1]-j[1]*M.k;return $===M.x&&Q===M.y?M:new ud(M.k,$,Q)}function S(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function C(M,D,j,$){M.on("start.zoom",function(){_(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event($).end()}).tween("zoom",function(){var Q=this,H=arguments,W=_(Q,H).event($),z=t.apply(Q,H),V=j==null?S(z):typeof j=="function"?j.apply(Q,H):j,G=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),X=Q.__zoom,Z=typeof D=="function"?D.apply(Q,H):D,oe=l(X.invert(V).concat(G/X.k),Z.invert(V).concat(G/Z.k));return function(ae){if(ae===1)ae=Z;else{var ne=oe(ae),te=G/ne[2];ae=new ud(te,V[0]-ne[0]*te,V[1]-ne[1]*te)}W.zoom(null,ae)}})}function _(M,D,j){return!j&&M.__zooming||new B(M,D)}function B(M,D){this.that=M,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,D),this.taps=0}B.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,D){return this.mouse&&M!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var D=ws(this.that).datum();c.call(M,this.that,new qGt(M,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),D)}};function T(M,...D){if(!e.apply(this,arguments))return;var j=_(this,D).event(M),$=this.__zoom,Q=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,n.apply(this,arguments)))),H=Yl(M);if(j.wheel)(j.mouse[0][0]!==H[0]||j.mouse[0][1]!==H[1])&&(j.mouse[1]=$.invert(j.mouse[0]=H)),clearTimeout(j.wheel);else{if($.k===Q)return;j.mouse=[H,$.invert(H)],i_(this),j.start()}zy(M),j.wheel=setTimeout(W,h),j.zoom("mouse",r(x(b($,Q),j.mouse[0],j.mouse[1]),j.extent,a));function W(){j.wheel=null,j.end()}}function O(M,...D){if(A||!e.apply(this,arguments))return;var j=M.currentTarget,$=_(this,D,!0).event(M),Q=ws(M.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",G,!0),H=Yl(M,j),W=M.clientX,z=M.clientY;Pze(M.view),J4(M),$.mouse=[H,this.__zoom.invert(H)],i_(this),$.start();function V(X){if(zy(X),!$.moved){var Z=X.clientX-W,oe=X.clientY-z;$.moved=Z*Z+oe*oe>p}$.event(X).zoom("mouse",r(x($.that.__zoom,$.mouse[0]=Yl(X,j),$.mouse[1]),$.extent,a))}function G(X){Q.on("mousemove.zoom mouseup.zoom",null),Tze(X.view,$.moved),zy(X),$.event(X).end()}}function P(M,...D){if(e.apply(this,arguments)){var j=this.__zoom,$=Yl(M.changedTouches?M.changedTouches[0]:M,this),Q=j.invert($),H=j.k*(M.shiftKey?.5:2),W=r(x(b(j,H),$,Q),t.apply(this,D),a);zy(M),s>0?ws(this).transition().duration(s).call(C,W,$,M):ws(this).call(y.transform,W,$,M)}}function F(M,...D){if(e.apply(this,arguments)){var j=M.touches,$=j.length,Q=_(this,D,M.changedTouches.length===$).event(M),H,W,z,V;for(J4(M),W=0;W<$;++W)z=j[W],V=Yl(z,this),V=[V,this.__zoom.invert(V),z.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==V[2]&&(Q.touch1=V,Q.taps=0):(Q.touch0=V,H=!0,Q.taps=1+!!u);u&&(u=clearTimeout(u)),H&&(Q.taps<2&&(d=V[0],u=setTimeout(function(){u=null},f)),i_(this),Q.start())}}function U(M,...D){if(this.__zooming){var j=_(this,D).event(M),$=M.changedTouches,Q=$.length,H,W,z,V;for(zy(M),H=0;H<Q;++H)W=$[H],z=Yl(W,this),j.touch0&&j.touch0[2]===W.identifier?j.touch0[0]=z:j.touch1&&j.touch1[2]===W.identifier&&(j.touch1[0]=z);if(W=j.that.__zoom,j.touch1){var G=j.touch0[0],X=j.touch0[1],Z=j.touch1[0],oe=j.touch1[1],ae=(ae=Z[0]-G[0])*ae+(ae=Z[1]-G[1])*ae,ne=(ne=oe[0]-X[0])*ne+(ne=oe[1]-X[1])*ne;W=b(W,Math.sqrt(ae/ne)),z=[(G[0]+Z[0])/2,(G[1]+Z[1])/2],V=[(X[0]+oe[0])/2,(X[1]+oe[1])/2]}else if(j.touch0)z=j.touch0[0],V=j.touch0[1];else return;j.zoom("touch",r(x(W,z,V),j.extent,a))}}function k(M,...D){if(this.__zooming){var j=_(this,D).event(M),$=M.changedTouches,Q=$.length,H,W;for(J4(M),A&&clearTimeout(A),A=setTimeout(function(){A=null},f),H=0;H<Q;++H)W=$[H],j.touch0&&j.touch0[2]===W.identifier?delete j.touch0:j.touch1&&j.touch1[2]===W.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(W=Yl(W,this),Math.hypot(d[0]-W[0],d[1]-W[1])<v)){var z=ws(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return y.wheelDelta=function(M){return arguments.length?(n=typeof M=="function"?M:nC(+M),y):n},y.filter=function(M){return arguments.length?(e=typeof M=="function"?M:nC(!!M),y):e},y.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:nC(!!M),y):i},y.extent=function(M){return arguments.length?(t=typeof M=="function"?M:nC([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),y):t},y.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],y):[o[0],o[1]]},y.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(M){return arguments.length?(r=M,y):r},y.duration=function(M){return arguments.length?(s=+M,y):s},y.interpolate=function(M){return arguments.length?(l=M,y):l},y.on=function(){var M=c.on.apply(c,arguments);return M===c?y:M},y.clickDistance=function(M){return arguments.length?(p=(M=+M)*M,y):Math.sqrt(p)},y.tapDistance=function(M){return arguments.length?(v=+M,y):v},y}const gu={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},nb=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$ze=["Enter"," ","Escape"];var km;(function(e){e.Strict="strict",e.Loose="loose"})(km||(km={}));var Eh;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Eh||(Eh={}));var ib;(function(e){e.Partial="partial",e.Full="full"})(ib||(ib={}));const Qze={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var TA;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(TA||(TA={}));var fI;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(fI||(fI={}));var Lt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Lt||(Lt={}));const OPe={[Lt.Left]:Lt.Right,[Lt.Right]:Lt.Left,[Lt.Top]:Lt.Bottom,[Lt.Bottom]:Lt.Top};function Hze(e){return e===null?null:e?"valid":"invalid"}const qze=e=>"id"in e&&"source"in e&&"target"in e,YGt=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),mW=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),bx=(e,t=[0,0])=>{const{width:r,height:n}=Vd(e),i=e.origin??t,o=r*i[0],a=n*i[1];return{x:e.position.x-o,y:e.position.y-a}},XGt=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,i)=>{const o=typeof i=="string";let a=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(a=o?t.nodeLookup.get(i):mW(i)?i:t.nodeLookup.get(i.id));const s=a?hI(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ET(n,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return IT(r)},xx=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(n=>{if(t.filter===void 0||t.filter(n)){const i=hI(n);r=ET(r,i)}}),IT(r)},zze=(e,t,[r,n,i]=[0,0,1],o=!1,a=!1)=>{const s={...Sx(t,[r,n,i]),width:t.width/i,height:t.height/i},l=[];for(const c of e.values()){const{measured:u,selectable:d=!0,hidden:A=!1}=c;if(a&&!d||A)continue;const f=u.width??c.width??c.initialWidth??null,h=u.height??c.height??c.initialHeight??null,p=ob(s,Dm(c)),v=(f??0)*(h??0),y=o&&p>0;(!c.internals.handleBounds||y||p>=v||c.dragging)&&l.push(c)}return l},JGt=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function eq(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!n||n.has(i.id))&&r.set(i.id,i)}),r}async function tq({nodes:e,width:t,height:r,panZoom:n,minZoom:i,maxZoom:o},a){if(e.size===0)return Promise.resolve(!1);const s=xx(e),l=vW(s,t,r,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??o,(a==null?void 0:a.padding)??.1);return await n.setViewport(l,{duration:a==null?void 0:a.duration}),Promise.resolve(!0)}function Kze({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:i,onError:o}){const a=r.get(e),s=a.parentId?r.get(a.parentId):void 0,{x:l,y:c}=s?s.internals.positionAbsolute:{x:0,y:0},u=a.origin??n;let d=i;if(a.extent==="parent"&&!a.expandParent)if(!s)o==null||o("005",gu.error005());else{const f=s.measured.width,h=s.measured.height;f&&h&&(d=[[l,c],[l+f,c+h]])}else s&&jm(a.extent)&&(d=[[a.extent[0][0]+l,a.extent[0][1]+c],[a.extent[1][0]+l,a.extent[1][1]+c]]);const A=jm(d)?Kh(t,d,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(o==null||o("015",gu.error015())),{position:{x:A.x-l+(a.measured.width??0)*u[0],y:A.y-c+(a.measured.height??0)*u[1]},positionAbsolute:A}}async function ZGt({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:i}){const o=new Set(e.map(A=>A.id)),a=[];for(const A of r){if(A.deletable===!1)continue;const f=o.has(A.id),h=!f&&A.parentId&&a.find(p=>p.id===A.parentId);(f||h)&&a.push(A)}const s=new Set(t.map(A=>A.id)),l=n.filter(A=>A.deletable!==!1),u=JGt(a,l);for(const A of l)s.has(A.id)&&!u.find(h=>h.id===A.id)&&u.push(A);if(!i)return{edges:u,nodes:a};const d=await i({nodes:a,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:a}:{edges:[],nodes:[]}:d}const Um=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Kh=(e={x:0,y:0},t,r)=>({x:Um(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Um(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function Wze(e,t,r){const{width:n,height:i}=Vd(r),{x:o,y:a}=r.internals.positionAbsolute;return Kh(e,[[o,a],[o+n,a+i]],t)}const RPe=(e,t,r)=>e<t?Um(Math.abs(e-t),1,t)/t:e>r?-Um(Math.abs(e-r),1,t)/t:0,Vze=(e,t,r=15,n=40)=>{const i=RPe(e.x,n,t.width-n)*r,o=RPe(e.y,n,t.height-n)*r;return[i,o]},ET=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),rq=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),IT=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Dm=(e,t=[0,0])=>{var i,o;const{x:r,y:n}=mW(e)?e.internals.positionAbsolute:bx(e,t);return{x:r,y:n,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},hI=(e,t=[0,0])=>{var i,o;const{x:r,y:n}=mW(e)?e.internals.positionAbsolute:bx(e,t);return{x:r,y:n,x2:r+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:n+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},Gze=(e,t)=>IT(ET(rq(e),rq(t))),ob=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},MPe=e=>nc(e.width)&&nc(e.height)&&nc(e.x)&&nc(e.y),nc=e=>!isNaN(e)&&isFinite(e),e7t=(e,t)=>{},BT=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Sx=({x:e,y:t},[r,n,i],o=!1,a=[1,1])=>{const s={x:(e-r)/i,y:(t-n)/i};return o?BT(s,a):s},Yze=({x:e,y:t},[r,n,i])=>({x:e*i+r,y:t*i+n}),vW=(e,t,r,n,i,o)=>{const a=t/(e.width*(1+o)),s=r/(e.height*(1+o)),l=Math.min(a,s),c=Um(l,n,i),u=e.x+e.width/2,d=e.y+e.height/2,A=t/2-u*c,f=r/2-d*c;return{x:A,y:f,zoom:c}},pI=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function jm(e){return e!==void 0&&e!=="parent"}function Vd(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function Xze(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function Jze(e,t={width:0,height:0},r,n,i){const o={...e},a=n.get(r);if(a){const s=a.origin||i;o.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],o.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return o}function FPe(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function $0(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:i}){const{x:o,y:a}=Sd(e),s=Sx({x:o-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},n),{x:l,y:c}=r?BT(s,t):s;return{xSnapped:l,ySnapped:c,...s}}const PT=e=>({width:e.offsetWidth,height:e.offsetHeight}),Zze=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},t7t=["INPUT","SELECT","TEXTAREA"];function nq(e){var n,i;const t=((i=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:t7t.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const eKe=e=>"clientX"in e,Sd=(e,t)=>{var o,a;const r=eKe(e),n=r?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=r?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},kPe=(e,t,r,n,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-r.left)/n,y:(s.top-r.top)/n,...PT(a)}})};function tKe({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=e*.125+i*.375+a*.375+r*.125,c=t*.125+o*.375+s*.375+n*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function iC(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function UPe({pos:e,x1:t,y1:r,x2:n,y2:i,c:o}){switch(e){case Lt.Left:return[t-iC(t-n,o),r];case Lt.Right:return[t+iC(n-t,o),r];case Lt.Top:return[t,r-iC(r-i,o)];case Lt.Bottom:return[t,r+iC(i-r,o)]}}function rKe({sourceX:e,sourceY:t,sourcePosition:r=Lt.Bottom,targetX:n,targetY:i,targetPosition:o=Lt.Top,curvature:a=.25}){const[s,l]=UPe({pos:r,x1:e,y1:t,x2:n,y2:i,c:a}),[c,u]=UPe({pos:o,x1:n,y1:i,x2:e,y2:t,c:a}),[d,A,f,h]=tKe({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${n},${i}`,d,A,f,h]}function nKe({sourceX:e,sourceY:t,targetX:r,targetY:n}){const i=Math.abs(r-e)/2,o=r<e?r+i:r-i,a=Math.abs(n-t)/2,s=n<t?n+a:n-a;return[o,s,i,a]}function r7t({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:i=!1}){if(!i)return n;const o=r||t.selected||e.selected,a=Math.max(e.internals.z||0,t.internals.z||0,1e3);return n+(o?a:0)}function n7t({sourceNode:e,targetNode:t,width:r,height:n,transform:i}){const o=ET(hI(e),hI(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:n/i[2]};return ob(a,IT(o))>0}const i7t=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,o7t=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),iKe=(e,t)=>{if(!e.source||!e.target)return t;let r;return qze(e)?r={...e}:r={...e,id:i7t(e)},o7t(r,t)?t:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,t.concat(r))};function oKe({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[i,o,a,s]=nKe({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,i,o,a,s]}const DPe={[Lt.Left]:{x:-1,y:0},[Lt.Right]:{x:1,y:0},[Lt.Top]:{x:0,y:-1},[Lt.Bottom]:{x:0,y:1}},a7t=({source:e,sourcePosition:t=Lt.Bottom,target:r})=>t===Lt.Left||t===Lt.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},jPe=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function s7t({source:e,sourcePosition:t=Lt.Bottom,target:r,targetPosition:n=Lt.Top,center:i,offset:o}){const a=DPe[t],s=DPe[n],l={x:e.x+a.x*o,y:e.y+a.y*o},c={x:r.x+s.x*o,y:r.y+s.y*o},u=a7t({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",A=u[d];let f=[],h,p;const v={x:0,y:0},y={x:0,y:0},[b,x,S,C]=nKe({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(a[d]*s[d]===-1){h=i.x??b,p=i.y??x;const B=[{x:h,y:l.y},{x:h,y:c.y}],T=[{x:l.x,y:p},{x:c.x,y:p}];a[d]===A?f=d==="x"?B:T:f=d==="x"?T:B}else{const B=[{x:l.x,y:c.y}],T=[{x:c.x,y:l.y}];if(d==="x"?f=a.x===A?T:B:f=a.y===A?B:T,t===n){const k=Math.abs(e[d]-r[d]);if(k<=o){const M=Math.min(o-1,o-k);a[d]===A?v[d]=(l[d]>e[d]?-1:1)*M:y[d]=(c[d]>r[d]?-1:1)*M}}if(t!==n){const k=d==="x"?"y":"x",M=a[d]===s[k],D=l[k]>c[k],j=l[k]<c[k];(a[d]===1&&(!M&&D||M&&j)||a[d]!==1&&(!M&&j||M&&D))&&(f=d==="x"?B:T)}const O={x:l.x+v.x,y:l.y+v.y},P={x:c.x+y.x,y:c.y+y.y},F=Math.max(Math.abs(O.x-f[0].x),Math.abs(P.x-f[0].x)),U=Math.max(Math.abs(O.y-f[0].y),Math.abs(P.y-f[0].y));F>=U?(h=(O.x+P.x)/2,p=f[0].y):(h=f[0].x,p=(O.y+P.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...f,{x:c.x+y.x,y:c.y+y.y},r],h,p,S,C]}function l7t(e,t,r,n){const i=Math.min(jPe(e,t)/2,jPe(t,r)/2,n),{x:o,y:a}=t;if(e.x===o&&o===r.x||e.y===a&&a===r.y)return`L${o} ${a}`;if(e.y===a){const c=e.x<r.x?-1:1,u=e.y<r.y?1:-1;return`L ${o+i*c},${a}Q ${o},${a} ${o},${a+i*u}`}const s=e.x<r.x?1:-1,l=e.y<r.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function iq({sourceX:e,sourceY:t,sourcePosition:r=Lt.Bottom,targetX:n,targetY:i,targetPosition:o=Lt.Top,borderRadius:a=5,centerX:s,centerY:l,offset:c=20}){const[u,d,A,f,h]=s7t({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:i},targetPosition:o,center:{x:s,y:l},offset:c});return[u.reduce((v,y,b)=>{let x="";return b>0&&b<u.length-1?x=l7t(u[b-1],y,u[b+1],a):x=`${b===0?"M":"L"}${y.x} ${y.y}`,v+=x,v},""),d,A,f,h]}function LPe(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function c7t(e){var d;const{sourceNode:t,targetNode:r}=e;if(!LPe(t)||!LPe(r))return null;const n=t.internals.handleBounds||NPe(t.handles),i=r.internals.handleBounds||NPe(r.handles),o=$Pe((n==null?void 0:n.source)??[],e.sourceHandle),a=$Pe(e.connectionMode===km.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!a)return(d=e.onError)==null||d.call(e,"008",gu.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=(o==null?void 0:o.position)||Lt.Bottom,l=(a==null?void 0:a.position)||Lt.Top,c=ab(t,o,s),u=ab(r,a,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:s,targetPosition:l}}function NPe(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function ab(e,t,r=Lt.Left,n=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??Vd(e);if(n)return{x:i+a/2,y:o+s/2};switch((t==null?void 0:t.position)??r){case Lt.Top:return{x:i+a/2,y:o};case Lt.Right:return{x:i+a,y:o+s/2};case Lt.Bottom:return{x:i+a/2,y:o+s};case Lt.Left:return{x:i,y:o+s/2}}}function $Pe(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function oq(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function u7t(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:i}){const o=new Set;return e.reduce((a,s)=>([s.markerStart||n,s.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=oq(l,t);o.has(c)||(a.push({id:c,color:l.color||r,...l}),o.add(c))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const yW={nodeOrigin:[0,0],nodeExtent:nb,elevateNodesOnSelect:!0,defaults:{}},d7t={...yW,checkEquality:!0};function wW(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function A7t(e,t,r){const n=wW(yW,r);for(const i of e.values())if(i.parentId)bW(i,e,t,n);else{const o=bx(i,n.nodeOrigin),a=jm(i.extent)?i.extent:n.nodeExtent,s=Kh(o,a,Vd(i));i.internals.positionAbsolute=s}}function aq(e,t,r,n){var s,l;const i=wW(d7t,n),o=new Map(t),a=i!=null&&i.elevateNodesOnSelect?1e3:0;t.clear(),r.clear();for(const c of e){let u=o.get(c.id);if(i.checkEquality&&c===(u==null?void 0:u.internals.userNode))t.set(c.id,u);else{const d=bx(c,i.nodeOrigin),A=jm(c.extent)?c.extent:i.nodeExtent,f=Kh(d,A,Vd(c));u={...i.defaults,...c,measured:{width:(s=c.measured)==null?void 0:s.width,height:(l=c.measured)==null?void 0:l.height},internals:{positionAbsolute:f,handleBounds:c.measured?u==null?void 0:u.internals.handleBounds:void 0,z:aKe(c,a),userNode:c}},t.set(c.id,u)}c.parentId&&bW(u,t,r,n)}}function f7t(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function bW(e,t,r,n){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:a}=wW(yW,n),s=e.parentId,l=t.get(s);if(!l){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}f7t(e,r);const c=i?1e3:0,{x:u,y:d,z:A}=h7t(e,l,o,a,c),{positionAbsolute:f}=e.internals,h=u!==f.x||d!==f.y;(h||A!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:h?{x:u,y:d}:f,z:A}})}function aKe(e,t){return(nc(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function h7t(e,t,r,n,i){const{x:o,y:a}=t.internals.positionAbsolute,s=Vd(e),l=bx(e,r),c=jm(e.extent)?Kh(l,e.extent,s):l;let u=Kh({x:o+c.x,y:a+c.y},n,s);e.extent==="parent"&&(u=Wze(u,s,t));const d=aKe(e,i),A=t.internals.z??0;return{x:u.x,y:u.y,z:A>d?A:d}}function xW(e,t,r,n=[0,0]){var a;const i=[],o=new Map;for(const s of e){const l=t.get(s.parentId);if(!l)continue;const c=((a=o.get(s.parentId))==null?void 0:a.expandedRect)??Dm(l),u=Gze(c,s.rect);o.set(s.parentId,{expandedRect:u,parent:l})}return o.size>0&&o.forEach(({expandedRect:s,parent:l},c)=>{var x;const u=l.internals.positionAbsolute,d=Vd(l),A=l.origin??n,f=s.x<u.x?Math.round(Math.abs(u.x-s.x)):0,h=s.y<u.y?Math.round(Math.abs(u.y-s.y)):0,p=Math.max(d.width,Math.round(s.width)),v=Math.max(d.height,Math.round(s.height)),y=(p-d.width)*A[0],b=(v-d.height)*A[1];(f>0||h>0||y||b)&&(i.push({id:c,type:"position",position:{x:l.position.x-f+y,y:l.position.y-h+b}}),(x=r.get(c))==null||x.forEach(S=>{e.some(C=>C.id===S.id)||i.push({id:S.id,type:"position",position:{x:S.position.x+f,y:S.position.y+h}})})),(d.width<s.width||d.height<s.height||f||h)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:p+(f?A[0]*f-y:0),height:v+(h?A[1]*h-b:0)}})}),i}function p7t(e,t,r,n,i,o){const a=n==null?void 0:n.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const l=[],c=window.getComputedStyle(a),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const A of e.values()){const f=t.get(A.id);if(!f)continue;if(f.hidden){t.set(f.id,{...f,internals:{...f.internals,handleBounds:void 0}}),s=!0;continue}const h=PT(A.nodeElement),p=f.measured.width!==h.width||f.measured.height!==h.height;if(!!(h.width&&h.height&&(p||!f.internals.handleBounds||A.force))){const y=A.nodeElement.getBoundingClientRect(),b=jm(f.extent)?f.extent:o;let{positionAbsolute:x}=f.internals;f.parentId&&f.extent==="parent"?x=Wze(x,h,t.get(f.parentId)):b&&(x=Kh(x,b,h));const S={...f,measured:h,internals:{...f.internals,positionAbsolute:x,handleBounds:{source:kPe("source",A.nodeElement,y,u,f.id),target:kPe("target",A.nodeElement,y,u,f.id)}}};t.set(f.id,S),f.parentId&&bW(S,t,r,{nodeOrigin:i}),s=!0,p&&(l.push({id:f.id,type:"dimensions",dimensions:h}),f.expandParent&&f.parentId&&d.push({id:f.id,parentId:f.parentId,rect:Dm(S,i)}))}}if(d.length>0){const A=xW(d,t,r,i);l.push(...A)}return{changes:l,updatedInternals:s}}async function g7t({delta:e,panZoom:t,transform:r,translateExtent:n,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[i,o]],n),s=!!a&&(a.x!==r[0]||a.y!==r[1]||a.k!==r[2]);return Promise.resolve(s)}function QPe(e,t,r,n,i,o){let a=i;const s=n.get(a)||new Map;n.set(a,s.set(r,t)),a=`${i}-${e}`;const l=n.get(a)||new Map;if(n.set(a,l.set(r,t)),o){a=`${i}-${e}-${o}`;const c=n.get(a)||new Map;n.set(a,c.set(r,t))}}function sKe(e,t,r){e.clear(),t.clear();for(const n of r){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=n,l={edgeId:n.id,source:i,target:o,sourceHandle:a,targetHandle:s},c=`${i}-${a}--${o}-${s}`,u=`${o}-${s}--${i}-${a}`;QPe("source",l,u,e,i,a),QPe("target",l,c,e,o,s),t.set(n.id,n)}}function lKe(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:lKe(r,t):!1}function HPe(e,t,r){var i;let n=e;do{if((i=n==null?void 0:n.matches)!=null&&i.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function m7t(e,t,r,n){const i=new Map;for(const[o,a]of e)if((a.selected||a.id===n)&&(!a.parentId||!lKe(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:r.x-s.internals.positionAbsolute.x,y:r.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function Z4({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var a,s,l;const i=[];for(const[c,u]of t){const d=(a=r.get(c))==null?void 0:a.internals.userNode;d&&i.push({...d,position:u.position,dragging:n})}if(!e)return[i[0],i];const o=(s=r.get(e))==null?void 0:s.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:n}:i[0],i]}function v7t({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,l=!1,c={x:0,y:0},u=null,d=!1,A=null,f=!1;function h({noDragClassName:v,handleSelector:y,domNode:b,isSelectable:x,nodeId:S,nodeClickDistance:C=0}){A=ws(b);function _({x:P,y:F},U){const{nodeLookup:k,nodeExtent:M,snapGrid:D,snapToGrid:j,nodeOrigin:$,onNodeDrag:Q,onSelectionDrag:H,onError:W,updateNodePositions:z}=t();o={x:P,y:F};let V=!1,G={x:0,y:0,x2:0,y2:0};if(s.size>1&&M){const X=xx(s);G=rq(X)}for(const[X,Z]of s){if(!k.has(X))continue;let oe={x:P-Z.distance.x,y:F-Z.distance.y};j&&(oe=BT(oe,D));let ae=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];if(s.size>1&&M&&!Z.extent){const{positionAbsolute:se}=Z.internals,de=se.x-G.x+M[0][0],re=se.x+Z.measured.width-G.x2+M[1][0],he=se.y-G.y+M[0][1],ye=se.y+Z.measured.height-G.y2+M[1][1];ae=[[de,he],[re,ye]]}const{position:ne,positionAbsolute:te}=Kze({nodeId:X,nextPosition:oe,nodeLookup:k,nodeExtent:ae,nodeOrigin:$,onError:W});V=V||Z.position.x!==ne.x||Z.position.y!==ne.y,Z.position=ne,Z.internals.positionAbsolute=te}if(V&&(z(s,!0),U&&(n||Q||!S&&H))){const[X,Z]=Z4({nodeId:S,dragItems:s,nodeLookup:k});n==null||n(U,s,X,Z),Q==null||Q(U,X,Z),S||H==null||H(U,Z)}}async function B(){if(!u)return;const{transform:P,panBy:F,autoPanSpeed:U,autoPanOnNodeDrag:k}=t();if(!k){l=!1,cancelAnimationFrame(a);return}const[M,D]=Vze(c,u,U);(M!==0||D!==0)&&(o.x=(o.x??0)-M/P[2],o.y=(o.y??0)-D/P[2],await F({x:M,y:D})&&_(o,null)),a=requestAnimationFrame(B)}function T(P){var V;const{nodeLookup:F,multiSelectionActive:U,nodesDraggable:k,transform:M,snapGrid:D,snapToGrid:j,selectNodesOnDrag:$,onNodeDragStart:Q,onSelectionDragStart:H,unselectNodesAndEdges:W}=t();d=!0,(!$||!x)&&!U&&S&&((V=F.get(S))!=null&&V.selected||W()),x&&$&&S&&(e==null||e(S));const z=$0(P.sourceEvent,{transform:M,snapGrid:D,snapToGrid:j,containerBounds:u});if(o=z,s=m7t(F,k,z,S),s.size>0&&(r||Q||!S&&H)){const[G,X]=Z4({nodeId:S,dragItems:s,nodeLookup:F});r==null||r(P.sourceEvent,s,G,X),Q==null||Q(P.sourceEvent,G,X),S||H==null||H(P.sourceEvent,X)}}const O=Oze().clickDistance(C).on("start",P=>{const{domNode:F,nodeDragThreshold:U,transform:k,snapGrid:M,snapToGrid:D}=t();u=(F==null?void 0:F.getBoundingClientRect())||null,f=!1,U===0&&T(P),o=$0(P.sourceEvent,{transform:k,snapGrid:M,snapToGrid:D,containerBounds:u}),c=Sd(P.sourceEvent,u)}).on("drag",P=>{const{autoPanOnNodeDrag:F,transform:U,snapGrid:k,snapToGrid:M,nodeDragThreshold:D,nodeLookup:j}=t(),$=$0(P.sourceEvent,{transform:U,snapGrid:k,snapToGrid:M,containerBounds:u});if((P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||S&&!j.has(S))&&(f=!0),!f){if(!l&&F&&d&&(l=!0,B()),!d){const Q=$.xSnapped-(o.x??0),H=$.ySnapped-(o.y??0);Math.sqrt(Q*Q+H*H)>D&&T(P)}(o.x!==$.xSnapped||o.y!==$.ySnapped)&&s&&d&&(c=Sd(P.sourceEvent,u),_($,P.sourceEvent))}}).on("end",P=>{if(!(!d||f)&&(l=!1,d=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:F,updateNodePositions:U,onNodeDragStop:k,onSelectionDragStop:M}=t();if(U(s,!1),i||k||!S&&M){const[D,j]=Z4({nodeId:S,dragItems:s,nodeLookup:F,dragging:!1});i==null||i(P.sourceEvent,s,D,j),k==null||k(P.sourceEvent,D,j),S||M==null||M(P.sourceEvent,j)}}}).filter(P=>{const F=P.target;return!P.button&&(!v||!HPe(F,`.${v}`,b))&&(!y||HPe(F,y,b))});A.call(O)}function p(){A==null||A.on(".drag",null)}return{update:h,destroy:p}}function y7t(e,t,r){const n=[],i={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const o of t.values())ob(i,Dm(o))>0&&n.push(o);return n}const w7t=250;function b7t(e,t,r,n){var s,l;let i=[],o=1/0;const a=y7t(e,r,t+w7t);for(const c of a){const u=[...((s=c.internals.handleBounds)==null?void 0:s.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of u){if(n.nodeId===d.nodeId&&n.type===d.type&&n.id===d.id)continue;const{x:A,y:f}=ab(c,d,d.position,!0),h=Math.sqrt(Math.pow(A-e.x,2)+Math.pow(f-e.y,2));h>t||(h<o?(i=[{...d,x:A,y:f}],o=h):h===o&&i.push({...d,x:A,y:f}))}}if(!i.length)return null;if(i.length>1){const c=n.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function cKe(e,t,r,n,i,o=!1){var c,u,d;const a=n.get(e);if(!a)return null;const s=i==="strict"?(c=a.internals.handleBounds)==null?void 0:c[t]:[...((u=a.internals.handleBounds)==null?void 0:u.source)??[],...((d=a.internals.handleBounds)==null?void 0:d.target)??[]],l=(r?s==null?void 0:s.find(A=>A.id===r):s==null?void 0:s[0])??null;return l&&o?{...l,...ab(a,l,l.position,!0)}:l}function uKe(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function x7t(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const dKe=()=>!0;function S7t(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:A,cancelConnection:f,onConnectStart:h,onConnect:p,onConnectEnd:v,isValidConnection:y=dKe,onReconnectEnd:b,updateConnection:x,getTransform:S,getFromHandle:C,autoPanSpeed:_}){const B=Zze(e.target);let T=0,O;const{x:P,y:F}=Sd(e),U=B==null?void 0:B.elementFromPoint(P,F),k=uKe(o,U),M=s==null?void 0:s.getBoundingClientRect();if(!M||!k)return;const D=cKe(i,k,n,l,t);if(!D)return;let j=Sd(e,M),$=!1,Q=null,H=!1,W=null;function z(){if(!u||!M)return;const[te,se]=Vze(j,M,_);A({x:te,y:se}),T=requestAnimationFrame(z)}const V={...D,nodeId:i,type:k,position:D.position},G=l.get(i),Z={inProgress:!0,isValid:null,from:ab(G,V,Lt.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:G,to:j,toHandle:null,toPosition:OPe[V.position],toNode:null};x(Z);let oe=Z;h==null||h(e,{nodeId:i,handleId:n,handleType:k});function ae(te){if(!C()||!V){ne(te);return}const se=S();j=Sd(te,M),O=b7t(Sx(j,se,!1,[1,1]),r,l,V),$||(z(),$=!0);const de=AKe(te,{handle:O,connectionMode:t,fromNodeId:i,fromHandleId:n,fromType:a?"target":"source",isValidConnection:y,doc:B,lib:c,flowId:d,nodeLookup:l});W=de.handleDomNode,Q=de.connection,H=x7t(!!O,de.isValid);const re={...oe,isValid:H,to:O&&H?Yze({x:O.x,y:O.y},se):j,toHandle:de.toHandle,toPosition:H&&de.toHandle?de.toHandle.position:OPe[V.position],toNode:de.toHandle?l.get(de.toHandle.nodeId):null};H&&O&&oe.toHandle&&re.toHandle&&oe.toHandle.type===re.toHandle.type&&oe.toHandle.nodeId===re.toHandle.nodeId&&oe.toHandle.id===re.toHandle.id&&oe.to.x===re.to.x&&oe.to.y===re.to.y||(x(re),oe=re)}function ne(te){(O||W)&&Q&&H&&(p==null||p(Q));const{inProgress:se,...de}=oe,re={...de,toPosition:oe.toHandle?oe.toPosition:null};v==null||v(te,re),o&&(b==null||b(te,re)),f(),cancelAnimationFrame(T),$=!1,H=!1,Q=null,W=null,B.removeEventListener("mousemove",ae),B.removeEventListener("mouseup",ne),B.removeEventListener("touchmove",ae),B.removeEventListener("touchend",ne)}B.addEventListener("mousemove",ae),B.addEventListener("mouseup",ne),B.addEventListener("touchmove",ae),B.addEventListener("touchend",ne)}function AKe(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:l,isValidConnection:c=dKe,nodeLookup:u}){const d=o==="target",A=t?a.querySelector(`.${s}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:f,y:h}=Sd(e),p=a.elementFromPoint(f,h),v=p!=null&&p.classList.contains(`${s}-flow__handle`)?p:A,y={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const b=uKe(void 0,v),x=v.getAttribute("data-nodeid"),S=v.getAttribute("data-handleid"),C=v.classList.contains("connectable"),_=v.classList.contains("connectableend");if(!x||!b)return y;const B={source:d?x:n,sourceHandle:d?S:i,target:d?n:x,targetHandle:d?i:S};y.connection=B;const O=C&&_&&(r===km.Strict?d&&b==="source"||!d&&b==="target":x!==n||S!==i);y.isValid=O&&c(B),y.toHandle=cKe(x,b,S,u,r,!1)}return y}const sq={onPointerDown:S7t,isValid:AKe};function C7t({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const i=ws(e);function o({translateExtent:s,width:l,height:c,zoomStep:u=10,pannable:d=!0,zoomable:A=!0,inversePan:f=!1}){const h=x=>{const S=r();if(x.sourceEvent.type!=="wheel"||!t)return;const C=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*u,_=S[2]*Math.pow(2,C);t.scaleTo(_)};let p=[0,0];const v=x=>{(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(p=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY])},y=x=>{const S=r();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!t)return;const C=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY],_=[C[0]-p[0],C[1]-p[1]];p=C;const B=n()*Math.max(S[2],Math.log(S[2]))*(f?-1:1),T={x:S[0]-_[0]*B,y:S[1]-_[1]*B},O=[[0,0],[l,c]];t.setViewportConstrained({x:T.x,y:T.y,zoom:S[2]},O,s)},b=Nze().on("start",v).on("zoom",d?y:null).on("zoom.wheel",A?h:null);i.call(b,{})}function a(){i.on("zoom",null)}return{update:o,destroy:a,pointer:Yl}}const _7t=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,TT=e=>({x:e.x,y:e.y,zoom:e.k}),eQ=({x:e,y:t,zoom:r})=>_T.translate(e,t).scale(r),kg=(e,t)=>e.target.closest(`.${t}`),fKe=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),tQ=(e,t=0,r=()=>{})=>{const n=typeof t=="number"&&t>0;return n||r(),n?e.transition().duration(t).on("end",r):e},hKe=e=>{const t=e.ctrlKey&&pI()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function E7t({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(kg(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=r.property("__zoom").k||1;if(u.ctrlKey&&a){const v=Yl(u),y=hKe(u),b=d*Math.pow(2,y);n.scaleTo(r,b,v,u);return}const A=u.deltaMode===1?20:1;let f=i===Eh.Vertical?0:u.deltaX*A,h=i===Eh.Horizontal?0:u.deltaY*A;!pI()&&u.shiftKey&&i!==Eh.Vertical&&(f=u.deltaY*A,h=0),n.translateBy(r,-(f/d)*o,-(h/d)*o,{internal:!0});const p=TT(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,s==null||s(u,p)),e.isPanScrolling&&(l==null||l(u,p),e.panScrollTimeout=setTimeout(()=>{c==null||c(u,p),e.isPanScrolling=!1},150))}}function I7t({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,i){if(!t&&n.type==="wheel"&&!n.ctrlKey||kg(n,e))return null;n.preventDefault(),r.call(this,n,i)}}function B7t({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var o,a,s;if((o=n.sourceEvent)!=null&&o.internal)return;const i=TT(n.transform);e.mouseButton=((a=n.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((s=n.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,i))}}function P7t({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:i}){return o=>{var a,s;e.usedRightMouseButton=!!(r&&fKe(t,e.mouseButton??0)),(a=o.sourceEvent)!=null&&a.sync||n([o.transform.x,o.transform.y,o.transform.k]),i&&!((s=o.sourceEvent)!=null&&s.internal)&&(i==null||i(o.sourceEvent,TT(o.transform)))}}function T7t({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,o&&fKe(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),e.usedRightMouseButton=!1,n(!1),i&&_7t(e.prevViewport,a.transform))){const l=TT(a.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,l)},r?150:0)}}}function O7t({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:l,lib:c}){return u=>{var h;const d=e||t,A=r&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(kg(u,`${c}-flow__node`)||kg(u,`${c}-flow__edge`)))return!0;if(!n&&!d&&!i&&!o&&!r||a||kg(u,s)&&u.type==="wheel"||kg(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!e)||!r&&u.ctrlKey&&u.type==="wheel")return!1;if(!r&&u.type==="touchstart"&&((h=u.touches)==null?void 0:h.length)>1)return u.preventDefault(),!1;if(!d&&!i&&!A&&u.type==="wheel"||!n&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(n)&&!n.includes(u.button)&&u.type==="mousedown")return!1;const f=Array.isArray(n)&&n.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&f}}function R7t({domNode:e,minZoom:t,maxZoom:r,paneClickDistance:n,translateExtent:i,viewport:o,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),A=Nze().clickDistance(!nc(n)||n<0?0:n).scaleExtent([t,r]).translateExtent(i),f=ws(e).call(A);x({x:o.x,y:o.y,zoom:Um(o.zoom,t,r)},[[0,0],[d.width,d.height]],i);const h=f.on("wheel.zoom"),p=f.on("dblclick.zoom");A.wheelDelta(hKe);function v(U,k){return f?new Promise(M=>{A==null||A.transform(tQ(f,k==null?void 0:k.duration,()=>M(!0)),U)}):Promise.resolve(!1)}function y({noWheelClassName:U,noPanClassName:k,onPaneContextMenu:M,userSelectionActive:D,panOnScroll:j,panOnDrag:$,panOnScrollMode:Q,panOnScrollSpeed:H,preventScrolling:W,zoomOnPinch:z,zoomOnScroll:V,zoomOnDoubleClick:G,zoomActivationKeyPressed:X,lib:Z,onTransformChange:oe}){D&&!u.isZoomingOrPanning&&b();const ne=j&&!X&&!D?E7t({zoomPanValues:u,noWheelClassName:U,d3Selection:f,d3Zoom:A,panOnScrollMode:Q,panOnScrollSpeed:H,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:l}):I7t({noWheelClassName:U,preventScrolling:W,d3ZoomHandler:h});if(f.on("wheel.zoom",ne,{passive:!1}),!D){const se=B7t({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:s});A.on("start",se);const de=P7t({zoomPanValues:u,panOnDrag:$,onPaneContextMenu:!!M,onPanZoom:a,onTransformChange:oe});A.on("zoom",de);const re=T7t({zoomPanValues:u,panOnDrag:$,panOnScroll:j,onPaneContextMenu:M,onPanZoomEnd:l,onDraggingChange:c});A.on("end",re)}const te=O7t({zoomActivationKeyPressed:X,panOnDrag:$,zoomOnScroll:V,panOnScroll:j,zoomOnDoubleClick:G,zoomOnPinch:z,userSelectionActive:D,noPanClassName:k,noWheelClassName:U,lib:Z});A.filter(te),G?f.on("dblclick.zoom",p):f.on("dblclick.zoom",null)}function b(){A.on("zoom",null)}async function x(U,k,M){const D=eQ(U),j=A==null?void 0:A.constrain()(D,k,M);return j&&await v(j),new Promise($=>$(j))}async function S(U,k){const M=eQ(U);return await v(M,k),new Promise(D=>D(M))}function C(U){if(f){const k=eQ(U),M=f.property("__zoom");(M.k!==U.zoom||M.x!==U.x||M.y!==U.y)&&(A==null||A.transform(f,k,null,{sync:!0}))}}function _(){const U=f?Lze(f.node()):{x:0,y:0,k:1};return{x:U.x,y:U.y,zoom:U.k}}function B(U,k){return f?new Promise(M=>{A==null||A.scaleTo(tQ(f,k==null?void 0:k.duration,()=>M(!0)),U)}):Promise.resolve(!1)}function T(U,k){return f?new Promise(M=>{A==null||A.scaleBy(tQ(f,k==null?void 0:k.duration,()=>M(!0)),U)}):Promise.resolve(!1)}function O(U){A==null||A.scaleExtent(U)}function P(U){A==null||A.translateExtent(U)}function F(U){const k=!nc(U)||U<0?0:U;A==null||A.clickDistance(k)}return{update:y,destroy:b,setViewport:S,setViewportConstrained:x,getViewport:_,scaleTo:B,scaleBy:T,setScaleExtent:O,setTranslateExtent:P,syncViewport:C,setClickDistance:F}}var Q0;(function(e){e.Line="line",e.Handle="handle"})(Q0||(Q0={}));function M7t({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:i,affectsY:o}){const a=e-t,s=r-n,l=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(l[0]=l[0]*-1),s&&o&&(l[1]=l[1]*-1),l}function F7t(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:i}}function vA(e,t){return Math.max(0,t-e)}function yA(e,t){return Math.max(0,e-t)}function oC(e,t,r){return Math.max(0,t-e,e-r)}function qPe(e,t){return e?!t:t}function k7t(e,t,r,n,i,o,a,s){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:d}=t,A=u&&d,{xSnapped:f,ySnapped:h}=r,{minWidth:p,maxWidth:v,minHeight:y,maxHeight:b}=n,{x,y:S,width:C,height:_,aspectRatio:B}=e;let T=Math.floor(u?f-e.pointerX:0),O=Math.floor(d?h-e.pointerY:0);const P=C+(l?-T:T),F=_+(c?-O:O),U=-o[0]*C,k=-o[1]*_;let M=oC(P,p,v),D=oC(F,y,b);if(a){let Q=0,H=0;l&&T<0?Q=vA(x+T+U,a[0][0]):!l&&T>0&&(Q=yA(x+P+U,a[1][0])),c&&O<0?H=vA(S+O+k,a[0][1]):!c&&O>0&&(H=yA(S+F+k,a[1][1])),M=Math.max(M,Q),D=Math.max(D,H)}if(s){let Q=0,H=0;l&&T>0?Q=yA(x+T,s[0][0]):!l&&T<0&&(Q=vA(x+P,s[1][0])),c&&O>0?H=yA(S+O,s[0][1]):!c&&O<0&&(H=vA(S+F,s[1][1])),M=Math.max(M,Q),D=Math.max(D,H)}if(i){if(u){const Q=oC(P/B,y,b)*B;if(M=Math.max(M,Q),a){let H=0;!l&&!c||l&&!c&&A?H=yA(S+k+P/B,a[1][1])*B:H=vA(S+k+(l?T:-T)/B,a[0][1])*B,M=Math.max(M,H)}if(s){let H=0;!l&&!c||l&&!c&&A?H=vA(S+P/B,s[1][1])*B:H=yA(S+(l?T:-T)/B,s[0][1])*B,M=Math.max(M,H)}}if(d){const Q=oC(F*B,p,v)/B;if(D=Math.max(D,Q),a){let H=0;!l&&!c||c&&!l&&A?H=yA(x+F*B+U,a[1][0])/B:H=vA(x+(c?O:-O)*B+U,a[0][0])/B,D=Math.max(D,H)}if(s){let H=0;!l&&!c||c&&!l&&A?H=vA(x+F*B,s[1][0])/B:H=yA(x+(c?O:-O)*B,s[0][0])/B,D=Math.max(D,H)}}}O=O+(O<0?D:-D),T=T+(T<0?M:-M),i&&(A?P>F*B?O=(qPe(l,c)?-T:T)/B:T=(qPe(l,c)?-O:O)*B:u?(O=T/B,c=l):(T=O*B,l=c));const j=l?x+T:x,$=c?S+O:S;return{width:C+(l?-T:T),height:_+(c?-O:O),x:o[0]*T*(l?-1:1)+j,y:o[1]*O*(c?-1:1)+$}}const pKe={width:0,height:0,x:0,y:0},U7t={...pKe,pointerX:0,pointerY:0,aspectRatio:1};function D7t(e){return[[0,0],[e.measured.width,e.measured.height]]}function j7t(e,t,r){const n=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,a=e.measured.height??0,s=r[0]*o,l=r[1]*a;return[[n-s,i-l],[n+o-s,i+a-l]]}function L7t({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:i}){const o=ws(e);function a({controlPosition:l,boundaries:c,keepAspectRatio:u,onResizeStart:d,onResize:A,onResizeEnd:f,shouldResize:h}){let p={...pKe},v={...U7t};const y=F7t(l);let b,x=null,S=[],C,_,B;const T=Oze().on("start",O=>{const{nodeLookup:P,transform:F,snapGrid:U,snapToGrid:k,nodeOrigin:M,paneDomNode:D}=r();if(b=P.get(t),!b)return;x=(D==null?void 0:D.getBoundingClientRect())??null;const{xSnapped:j,ySnapped:$}=$0(O.sourceEvent,{transform:F,snapGrid:U,snapToGrid:k,containerBounds:x});p={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},v={...p,pointerX:j,pointerY:$,aspectRatio:p.width/p.height},C=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(C=P.get(b.parentId),_=C&&b.extent==="parent"?D7t(C):void 0),S=[],B=void 0;for(const[Q,H]of P)if(H.parentId===t&&(S.push({id:Q,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const W=j7t(H,b,H.origin??M);B?B=[[Math.min(W[0][0],B[0][0]),Math.min(W[0][1],B[0][1])],[Math.max(W[1][0],B[1][0]),Math.max(W[1][1],B[1][1])]]:B=W}d==null||d(O,{...p})}).on("drag",O=>{const{transform:P,snapGrid:F,snapToGrid:U,nodeOrigin:k}=r(),M=$0(O.sourceEvent,{transform:P,snapGrid:F,snapToGrid:U,containerBounds:x}),D=[];if(!b)return;const{x:j,y:$,width:Q,height:H}=p,W={},z=b.origin??k,{width:V,height:G,x:X,y:Z}=k7t(v,y,M,c,u,z,_,B),oe=V!==Q,ae=G!==H,ne=X!==j&&oe,te=Z!==$&&ae;if(!ne&&!te&&!oe&&!ae)return;if((ne||te||z[0]===1||z[1]===1)&&(W.x=ne?X:p.x,W.y=te?Z:p.y,p.x=W.x,p.y=W.y,S.length>0)){const he=X-j,ye=Z-$;for(const ke of S)ke.position={x:ke.position.x-he+z[0]*(V-Q),y:ke.position.y-ye+z[1]*(G-H)},D.push(ke)}if((oe||ae)&&(W.width=oe?V:p.width,W.height=ae?G:p.height,p.width=W.width,p.height=W.height),C&&b.expandParent){const he=z[0]*(W.width??0);W.x&&W.x<he&&(p.x=he,v.x=v.x-(W.x-he));const ye=z[1]*(W.height??0);W.y&&W.y<ye&&(p.y=ye,v.y=v.y-(W.y-ye))}const se=M7t({width:p.width,prevWidth:Q,height:p.height,prevHeight:H,affectsX:y.affectsX,affectsY:y.affectsY}),de={...p,direction:se};(h==null?void 0:h(O,de))!==!1&&(A==null||A(O,de),n(W,D))}).on("end",O=>{f==null||f(O,{...p}),i==null||i()});o.call(T)}function s(){o.on(".drag",null)}return{update:a,destroy:s}}var rQ={exports:{}},nQ={},iQ={exports:{}},oQ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zPe;function N7t(){if(zPe)return oQ;zPe=1;var e=lb();function t(d,A){return d===A&&(d!==0||1/d===1/A)||d!==d&&A!==A}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(d,A){var f=A(),h=n({inst:{value:f,getSnapshot:A}}),p=h[0].inst,v=h[1];return o(function(){p.value=f,p.getSnapshot=A,l(p)&&v({inst:p})},[d,f,A]),i(function(){return l(p)&&v({inst:p}),d(function(){l(p)&&v({inst:p})})},[d]),a(f),f}function l(d){var A=d.getSnapshot;d=d.value;try{var f=A();return!r(d,f)}catch{return!0}}function c(d,A){return A()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return oQ.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,oQ}var KPe;function $7t(){return KPe||(KPe=1,iQ.exports=N7t()),iQ.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WPe;function Q7t(){if(WPe)return nQ;WPe=1;var e=lb(),t=$7t();function r(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,o=e.useRef,a=e.useEffect,s=e.useMemo,l=e.useDebugValue;return nQ.useSyncExternalStoreWithSelector=function(c,u,d,A,f){var h=o(null);if(h.current===null){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=s(function(){function y(_){if(!b){if(b=!0,x=_,_=A(_),f!==void 0&&p.hasValue){var B=p.value;if(f(B,_))return S=B}return S=_}if(B=S,n(x,_))return B;var T=A(_);return f!==void 0&&f(B,T)?(x=_,B):(x=_,S=T)}var b=!1,x,S,C=d===void 0?null:d;return[function(){return y(u())},C===null?void 0:function(){return y(C())}]},[u,d,A,f]);var v=i(c,h[0],h[1]);return a(function(){p.hasValue=!0,p.value=v},[v]),l(v),v},nQ}var VPe;function H7t(){return VPe||(VPe=1,rQ.exports=Q7t()),rQ.exports}var q7t=H7t();const z7t=kr(q7t),K7t={},GPe=e=>{let t;const r=new Set,n=(u,d)=>{const A=typeof u=="function"?u(t):u;if(!Object.is(A,t)){const f=t;t=d??(typeof A!="object"||A===null)?A:Object.assign({},t,A),r.forEach(h=>h(t,f))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(K7t?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,i,l);return l},W7t=e=>e?GPe(e):GPe,{useDebugValue:V7t}=ue,{useSyncExternalStoreWithSelector:G7t}=z7t,Y7t=e=>e;function gKe(e,t=Y7t,r){const n=G7t(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return V7t(n),n}const YPe=(e,t)=>{const r=W7t(e),n=(i,o=t)=>gKe(r,i,o);return Object.assign(n,r),n},X7t=(e,t)=>e?YPe(e,t):YPe;function hi(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,i]of e)if(!Object.is(i,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const OT=I.createContext(null),J7t=OT.Provider,mKe=gu.error001();function Qr(e,t){const r=I.useContext(OT);if(r===null)throw new Error(mKe);return gKe(r,e,t)}function Yn(){const e=I.useContext(OT);if(e===null)throw new Error(mKe);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const XPe={display:"none"},Z7t={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vKe="react-flow__node-desc",yKe="react-flow__edge-desc",eYt="react-flow__aria-live",tYt=e=>e.ariaLiveMessage;function rYt({rfId:e}){const t=Qr(tYt);return m.jsx("div",{id:`${eYt}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Z7t,children:t})}function nYt({rfId:e,disableKeyboardA11y:t}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{id:`${vKe}-${e}`,style:XPe,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),m.jsx("div",{id:`${yKe}-${e}`,style:XPe,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&m.jsx(rYt,{rfId:e})]})}const iYt=e=>e.userSelectionActive?"none":"all",RT=I.forwardRef(({position:e="top-left",children:t,className:r,style:n,...i},o)=>{const a=Qr(iYt),s=`${e}`.split("-");return m.jsx("div",{className:Li(["react-flow__panel",r,...s]),style:{...n,pointerEvents:a},ref:o,...i,children:t})});RT.displayName="Panel";function oYt({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:m.jsx(RT,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const aYt=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},aC=e=>e.id;function sYt(e,t){return hi(e.selectedNodes.map(aC),t.selectedNodes.map(aC))&&hi(e.selectedEdges.map(aC),t.selectedEdges.map(aC))}function lYt({onSelectionChange:e}){const t=Yn(),{selectedNodes:r,selectedEdges:n}=Qr(aYt,sYt);return I.useEffect(()=>{const i={nodes:r,edges:n};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[r,n,e]),null}const cYt=e=>!!e.onSelectionChangeHandlers;function uYt({onSelectionChange:e}){const t=Qr(cYt);return e||t?m.jsx(lYt,{onSelectionChange:e}):null}const wKe=[0,0],dYt={x:0,y:0,zoom:1},AYt=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],JPe=[...AYt,"rfId"],fYt=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),ZPe={translateExtent:nb,nodeOrigin:wKe,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function hYt(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=Qr(fYt,hi),u=Yn();I.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{d.current=ZPe,s()}),[]);const d=I.useRef(ZPe);return I.useEffect(()=>{for(const A of JPe){const f=e[A],h=d.current[A];f!==h&&(typeof e[A]>"u"||(A==="nodes"?t(f):A==="edges"?r(f):A==="minZoom"?n(f):A==="maxZoom"?i(f):A==="translateExtent"?o(f):A==="nodeExtent"?a(f):A==="paneClickDistance"?c(f):A==="fitView"?u.setState({fitViewOnInit:f}):A==="fitViewOptions"?u.setState({fitViewOnInitOptions:f}):u.setState({[A]:f})))}d.current=e},JPe.map(A=>e[A])),null}function eTe(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function pYt(e){var n;const[t,r]=I.useState(e==="system"?null:e);return I.useEffect(()=>{if(e!=="system"){r(e);return}const i=eTe(),o=()=>r(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(n=eTe())!=null&&n.matches?"dark":"light"}const tTe=typeof document<"u"?document:null;function sb(e=null,t={target:tTe,actInsideInputWithModifier:!0}){const[r,n]=I.useState(!1),i=I.useRef(!1),o=I.useRef(new Set([])),[a,s]=I.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((d,A)=>d.concat(...A),[]);return[c,u]}return[[],[]]},[e]);return I.useEffect(()=>{const l=(t==null?void 0:t.target)||tTe;if(e!==null){const c=A=>{if(i.current=A.ctrlKey||A.metaKey||A.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&nq(A))return!1;const h=nTe(A.code,s);o.current.add(A[h]),rTe(a,o.current,!1)&&(A.preventDefault(),n(!0))},u=A=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&nq(A))return!1;const h=nTe(A.code,s);rTe(a,o.current,!0)?(n(!1),o.current.clear()):o.current.delete(A[h]),A.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),n(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,n]),r}function rTe(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(i=>t.has(i)))}function nTe(e,t){return t.includes(e)?"code":"key"}const gYt=()=>{const e=Yn();return I.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,i,o],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??n,y:t.y??i,zoom:t.zoom??o},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},fitView:t=>{const{nodeLookup:r,minZoom:n,maxZoom:i,panZoom:o,domNode:a}=e.getState();if(!o||!a)return Promise.resolve(!1);const s=eq(r,t),{width:l,height:c}=PT(a);return tq({nodes:s,width:l,height:c,minZoom:n,maxZoom:i,panZoom:o},t)},setCenter:async(t,r,n)=>{const{width:i,height:o,maxZoom:a,panZoom:s}=e.getState(),l=typeof(n==null?void 0:n.zoom)<"u"?n.zoom:a,c=i/2-t*l,u=o/2-r*l;return s?(await s.setViewport({x:c,y:u,zoom:l},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,r)=>{const{width:n,height:i,minZoom:o,maxZoom:a,panZoom:s}=e.getState(),l=vW(t,n,i,o,a,(r==null?void 0:r.padding)??.1);return s?(await s.setViewport(l,{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:i,snapToGrid:o,domNode:a}=e.getState();if(!a)return t;const{x:s,y:l}=a.getBoundingClientRect(),c={x:t.x-s,y:t.y-l},u=r.snapGrid??i,d=r.snapToGrid??o;return Sx(c,n,d,u)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:i,y:o}=n.getBoundingClientRect(),a=Yze(t,r);return{x:a.x+i,y:a.y+o}}}),[])};function bKe(e,t){const r=[],n=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")n.set(o.id,[o]);else{const a=n.get(o.id);a?a.push(o):n.set(o.id,[o])}for(const o of t){const a=n.get(o.id);if(!a){r.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){r.push({...a[0].item});continue}const s={...o};for(const l of a)mYt(l,s);r.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?r.splice(o.index,0,{...o.item}):r.push({...o.item})}),r}function mYt(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function xKe(e,t){return bKe(e,t)}function SKe(e,t){return bKe(e,t)}function ih(e,t){return{id:e,type:"select",selected:t}}function Ug(e,t=new Set,r=!1){const n=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(r&&(o.selected=a),n.push(ih(o.id,a)))}return n}function iTe({items:e=[],lookup:t}){var i;const r=[],n=new Map(e.map(o=>[o.id,o]));for(const[o,a]of e.entries()){const s=t.get(a.id),l=((i=s==null?void 0:s.internals)==null?void 0:i.userNode)??s;l!==void 0&&l!==a&&r.push({id:a.id,item:a,type:"replace"}),l===void 0&&r.push({item:a,type:"add",index:o})}for(const[o]of t)n.get(o)===void 0&&r.push({id:o,type:"remove"});return r}function oTe(e){return{id:e.id,type:"remove"}}const aTe=e=>YGt(e),vYt=e=>qze(e);function CKe(e){return I.forwardRef(e)}const yYt=typeof window<"u"?I.useLayoutEffect:I.useEffect;function sTe(e){const[t,r]=I.useState(BigInt(0)),[n]=I.useState(()=>wYt(()=>r(i=>i+BigInt(1))));return yYt(()=>{const i=n.get();i.length&&(e(i),n.reset())},[t]),n}function wYt(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const _Ke=I.createContext(null);function bYt({children:e}){const t=Yn(),r=I.useCallback(s=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:d,nodeLookup:A}=t.getState();let f=l;for(const h of s)f=typeof h=="function"?h(f):h;u?c(f):d&&d(iTe({items:f,lookup:A}))},[]),n=sTe(r),i=I.useCallback(s=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:d,edgeLookup:A}=t.getState();let f=l;for(const h of s)f=typeof h=="function"?h(f):h;u?c(f):d&&d(iTe({items:f,lookup:A}))},[]),o=sTe(i),a=I.useMemo(()=>({nodeQueue:n,edgeQueue:o}),[]);return m.jsx(_Ke.Provider,{value:a,children:e})}function xYt(){const e=I.useContext(_Ke);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const SYt=e=>!!e.panZoom;function SW(){const e=gYt(),t=Yn(),r=xYt(),n=Qr(SYt),i=I.useMemo(()=>{const o=d=>t.getState().nodeLookup.get(d),a=d=>{r.nodeQueue.push(d)},s=d=>{r.edgeQueue.push(d)},l=d=>{var y,b;const{nodeLookup:A,nodeOrigin:f}=t.getState(),h=aTe(d)?d:A.get(d.id),p=h.parentId?Jze(h.position,h.measured,h.parentId,A,f):h.position,v={...h,position:p,width:((y=h.measured)==null?void 0:y.width)??h.width,height:((b=h.measured)==null?void 0:b.height)??h.height};return Dm(v)},c=(d,A,f={replace:!1})=>{a(h=>h.map(p=>{if(p.id===d){const v=typeof A=="function"?A(p):A;return f.replace&&aTe(v)?v:{...p,...v}}return p}))},u=(d,A,f={replace:!1})=>{s(h=>h.map(p=>{if(p.id===d){const v=typeof A=="function"?A(p):A;return f.replace&&vYt(v)?v:{...p,...v}}return p}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var A;return(A=o(d))==null?void 0:A.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(A=>({...A}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:a,setEdges:s,addNodes:d=>{const A=Array.isArray(d)?d:[d];r.nodeQueue.push(f=>[...f,...A])},addEdges:d=>{const A=Array.isArray(d)?d:[d];r.edgeQueue.push(f=>[...f,...A])},toObject:()=>{const{nodes:d=[],edges:A=[],transform:f}=t.getState(),[h,p,v]=f;return{nodes:d.map(y=>({...y})),edges:A.map(y=>({...y})),viewport:{x:h,y:p,zoom:v}}},deleteElements:async({nodes:d=[],edges:A=[]})=>{const{nodes:f,edges:h,onNodesDelete:p,onEdgesDelete:v,triggerNodeChanges:y,triggerEdgeChanges:b,onDelete:x,onBeforeDelete:S}=t.getState(),{nodes:C,edges:_}=await ZGt({nodesToRemove:d,edgesToRemove:A,nodes:f,edges:h,onBeforeDelete:S}),B=_.length>0,T=C.length>0;if(B){const O=_.map(oTe);v==null||v(_),b(O)}if(T){const O=C.map(oTe);p==null||p(C),y(O)}return(T||B)&&(x==null||x({nodes:C,edges:_})),{deletedNodes:C,deletedEdges:_}},getIntersectingNodes:(d,A=!0,f)=>{const h=MPe(d),p=h?d:l(d),v=f!==void 0;return p?(f||t.getState().nodes).filter(y=>{const b=t.getState().nodeLookup.get(y.id);if(b&&!h&&(y.id===d.id||!b.internals.positionAbsolute))return!1;const x=Dm(v?y:b),S=ob(x,p);return A&&S>0||S>=p.width*p.height}):[]},isNodeIntersecting:(d,A,f=!0)=>{const p=MPe(d)?d:l(d);if(!p)return!1;const v=ob(p,A);return f&&v>0||v>=p.width*p.height},updateNode:c,updateNodeData:(d,A,f={replace:!1})=>{c(d,h=>{const p=typeof A=="function"?A(h):A;return f.replace?{...h,data:p}:{...h,data:{...h.data,...p}}},f)},updateEdge:u,updateEdgeData:(d,A,f={replace:!1})=>{u(d,h=>{const p=typeof A=="function"?A(h):A;return f.replace?{...h,data:p}:{...h,data:{...h.data,...p}}},f)},getNodesBounds:d=>{const{nodeLookup:A,nodeOrigin:f}=t.getState();return XGt(d,{nodeLookup:A,nodeOrigin:f})},getHandleConnections:({type:d,id:A,nodeId:f})=>{var h;return Array.from(((h=t.getState().connectionLookup.get(`${f}-${d}${A?`-${A}`:""}`))==null?void 0:h.values())??[])},getNodeConnections:({type:d,handleId:A,nodeId:f})=>{var h;return Array.from(((h=t.getState().connectionLookup.get(`${f}${d?A?`-${d}-${A}`:`-${d}`:""}`))==null?void 0:h.values())??[])}}},[]);return I.useMemo(()=>({...i,...e,viewportInitialized:n}),[n])}const lTe=e=>e.selected,CYt={actInsideInputWithModifier:!1},_Yt=typeof window<"u"?window:void 0;function EYt({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=Yn(),{deleteElements:n}=SW(),i=sb(e,CYt),o=sb(t,{target:_Yt});I.useEffect(()=>{if(i){const{edges:a,nodes:s}=r.getState();n({nodes:s.filter(lTe),edges:a.filter(lTe)}),r.setState({nodesSelectionActive:!1})}},[i]),I.useEffect(()=>{r.setState({multiSelectionActive:o})},[o])}function IYt(e){const t=Yn();I.useEffect(()=>{const r=()=>{var i,o;if(!e.current)return!1;const n=PT(e.current);(n.height===0||n.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",gu.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const MT={position:"absolute",width:"100%",height:"100%",top:0,left:0},BYt=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function PYt({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Eh.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:d,zoomActivationKeyCode:A,preventScrolling:f=!0,children:h,noWheelClassName:p,noPanClassName:v,onViewportChange:y,isControlledViewport:b,paneClickDistance:x}){const S=Yn(),C=I.useRef(null),{userSelectionActive:_,lib:B}=Qr(BYt,hi),T=sb(A),O=I.useRef();IYt(C);const P=I.useCallback(F=>{y==null||y({x:F[0],y:F[1],zoom:F[2]}),b||S.setState({transform:F})},[y,b]);return I.useEffect(()=>{if(C.current){O.current=R7t({domNode:C.current,minZoom:u,maxZoom:d,translateExtent:c,viewport:l,paneClickDistance:x,onDraggingChange:M=>S.setState({paneDragging:M}),onPanZoomStart:(M,D)=>{const{onViewportChangeStart:j,onMoveStart:$}=S.getState();$==null||$(M,D),j==null||j(D)},onPanZoom:(M,D)=>{const{onViewportChange:j,onMove:$}=S.getState();$==null||$(M,D),j==null||j(D)},onPanZoomEnd:(M,D)=>{const{onViewportChangeEnd:j,onMoveEnd:$}=S.getState();$==null||$(M,D),j==null||j(D)}});const{x:F,y:U,zoom:k}=O.current.getViewport();return S.setState({panZoom:O.current,transform:[F,U,k],domNode:C.current.closest(".react-flow")}),()=>{var M;(M=O.current)==null||M.destroy()}}},[]),I.useEffect(()=>{var F;(F=O.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:T,preventScrolling:f,noPanClassName:v,userSelectionActive:_,noWheelClassName:p,lib:B,onTransformChange:P})},[e,t,r,n,i,o,a,s,T,f,v,_,p,B,P]),m.jsx("div",{className:"react-flow__renderer",ref:C,style:MT,children:h})}const TYt=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function OYt(){const{userSelectionActive:e,userSelectionRect:t}=Qr(TYt,hi);return e&&t?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const aQ=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},RYt=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function MYt({isSelecting:e,selectionKeyPressed:t,selectionMode:r=ib.Full,panOnDrag:n,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:A,children:f}){const h=Yn(),{userSelectionActive:p,elementsSelectable:v,dragging:y}=Qr(RYt,hi),b=v&&(e||p),x=I.useRef(null),S=I.useRef(),C=I.useRef(new Set),_=I.useRef(new Set),B=I.useRef(!1),T=I.useRef(!1),O=j=>{if(B.current){B.current=!1;return}s==null||s(j),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},P=j=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){j.preventDefault();return}l==null||l(j)},F=c?j=>c(j):void 0,U=j=>{var z,V;const{resetSelectedElements:$,domNode:Q}=h.getState();if(S.current=Q==null?void 0:Q.getBoundingClientRect(),!v||!e||j.button!==0||j.target!==x.current||!S.current)return;(V=(z=j.target)==null?void 0:z.setPointerCapture)==null||V.call(z,j.pointerId),T.current=!0,B.current=!1;const{x:H,y:W}=Sd(j.nativeEvent,S.current);$(),h.setState({userSelectionRect:{width:0,height:0,startX:H,startY:W,x:H,y:W}}),o==null||o(j)},k=j=>{const{userSelectionRect:$,transform:Q,nodeLookup:H,edgeLookup:W,connectionLookup:z,triggerNodeChanges:V,triggerEdgeChanges:G,defaultEdgeOptions:X}=h.getState();if(!S.current||!$)return;B.current=!0;const{x:Z,y:oe}=Sd(j.nativeEvent,S.current),{startX:ae,startY:ne}=$,te={startX:ae,startY:ne,x:Z<ae?Z:ae,y:oe<ne?oe:ne,width:Math.abs(Z-ae),height:Math.abs(oe-ne)},se=C.current,de=_.current;C.current=new Set(zze(H,te,Q,r===ib.Partial,!0).map(he=>he.id)),_.current=new Set;const re=(X==null?void 0:X.selectable)??!0;for(const he of C.current){const ye=z.get(he);if(ye)for(const{edgeId:ke}of ye.values()){const Ue=W.get(ke);Ue&&(Ue.selectable??re)&&_.current.add(ke)}}if(!FPe(se,C.current)){const he=Ug(H,C.current,!0);V(he)}if(!FPe(de,_.current)){const he=Ug(W,_.current);G(he)}h.setState({userSelectionRect:te,userSelectionActive:!0,nodesSelectionActive:!1})},M=j=>{var Q,H;if(j.button!==0||!T.current)return;(H=(Q=j.target)==null?void 0:Q.releasePointerCapture)==null||H.call(Q,j.pointerId);const{userSelectionRect:$}=h.getState();!p&&$&&j.target===x.current&&(O==null||O(j)),h.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:C.current.size>0}),a==null||a(j),(t||i)&&(B.current=!1),T.current=!1},D=n===!0||Array.isArray(n)&&n.includes(0);return m.jsxs("div",{className:Li(["react-flow__pane",{draggable:D,dragging:y,selection:e}]),onClick:b?void 0:aQ(O,x),onContextMenu:aQ(P,x),onWheel:aQ(F,x),onPointerEnter:b?void 0:u,onPointerDown:b?U:d,onPointerMove:b?k:d,onPointerUp:b?M:void 0,onPointerLeave:A,ref:x,style:MT,children:[f,m.jsx(OYt,{})]})}function lq({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),c=s.get(e);if(!c){l==null||l("012",gu.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&a)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=n==null?void 0:n.current)==null?void 0:u.blur()})):i([e])}function EKe({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:i,isSelectable:o,nodeClickDistance:a}){const s=Yn(),[l,c]=I.useState(!1),u=I.useRef();return I.useEffect(()=>{u.current=v7t({getStoreItems:()=>s.getState(),onNodeMouseDown:d=>{lq({id:d,store:s,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),I.useEffect(()=>{var d,A;if(t)(d=u.current)==null||d.destroy();else if(e.current)return(A=u.current)==null||A.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:a}),()=>{var f;(f=u.current)==null||f.destroy()}},[r,n,t,o,e,i]),l}const FYt=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function IKe(){const e=Yn();return I.useCallback(r=>{const{nodeExtent:n,snapToGrid:i,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=e.getState(),d=new Map,A=FYt(a),f=i?o[0]:5,h=i?o[1]:5,p=r.direction.x*f*r.factor,v=r.direction.y*h*r.factor;for(const[,y]of c){if(!A(y))continue;let b={x:y.internals.positionAbsolute.x+p,y:y.internals.positionAbsolute.y+v};i&&(b=BT(b,o));const{position:x,positionAbsolute:S}=Kze({nodeId:y.id,nextPosition:b,nodeLookup:c,nodeExtent:n,nodeOrigin:u,onError:s});y.position=x,y.internals.positionAbsolute=S,d.set(y.id,y)}l(d)},[])}const CW=I.createContext(null),kYt=CW.Provider;CW.Consumer;const BKe=()=>I.useContext(CW),UYt=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),DYt=(e,t,r)=>n=>{const{connectionClickStartHandle:i,connectionMode:o,connection:a}=n,{fromHandle:s,toHandle:l,isValid:c}=a,u=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r;return{connectingFrom:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===r,connectingTo:u,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===r,isPossibleEndHandle:o===km.Strict?(s==null?void 0:s.type)!==r:e!==(s==null?void 0:s.nodeId)||t!==(s==null?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!i,valid:u&&c}};function jYt({type:e="source",position:t=Lt.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:d,...A},f){var D,j;const h=a||null,p=e==="target",v=Yn(),y=BKe(),{connectOnClick:b,noPanClassName:x,rfId:S}=Qr(UYt,hi),{connectingFrom:C,connectingTo:_,clickConnecting:B,isPossibleEndHandle:T,connectionInProcess:O,clickConnectionInProcess:P,valid:F}=Qr(DYt(y,h,e),hi);y||(j=(D=v.getState()).onError)==null||j.call(D,"010",gu.error010());const U=$=>{const{defaultEdgeOptions:Q,onConnect:H,hasDefaultEdges:W}=v.getState(),z={...Q,...$};if(W){const{edges:V,setEdges:G}=v.getState();G(iKe(z,V))}H==null||H(z),s==null||s(z)},k=$=>{if(!y)return;const Q=eKe($.nativeEvent);if(i&&(Q&&$.button===0||!Q)){const H=v.getState();sq.onPointerDown($.nativeEvent,{autoPanOnConnect:H.autoPanOnConnect,connectionMode:H.connectionMode,connectionRadius:H.connectionRadius,domNode:H.domNode,nodeLookup:H.nodeLookup,lib:H.lib,isTarget:p,handleId:h,nodeId:y,flowId:H.rfId,panBy:H.panBy,cancelConnection:H.cancelConnection,onConnectStart:H.onConnectStart,onConnectEnd:H.onConnectEnd,updateConnection:H.updateConnection,onConnect:U,isValidConnection:r||H.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:H.autoPanSpeed})}Q?u==null||u($):d==null||d($)},M=$=>{const{onClickConnectStart:Q,onClickConnectEnd:H,connectionClickStartHandle:W,connectionMode:z,isValidConnection:V,lib:G,rfId:X,nodeLookup:Z,connection:oe}=v.getState();if(!y||!W&&!i)return;if(!W){Q==null||Q($.nativeEvent,{nodeId:y,handleId:h,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:y,type:e,id:h}});return}const ae=Zze($.target),ne=r||V,{connection:te,isValid:se}=sq.isValid($.nativeEvent,{handle:{nodeId:y,id:h,type:e},connectionMode:z,fromNodeId:W.nodeId,fromHandleId:W.id||null,fromType:W.type,isValidConnection:ne,flowId:X,doc:ae,lib:G,nodeLookup:Z});se&&te&&U(te);const de=structuredClone(oe);delete de.inProgress,de.toPosition=de.toHandle?de.toHandle.position:null,H==null||H($,de),v.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":h,"data-nodeid":y,"data-handlepos":t,"data-id":`${S}-${y}-${h}-${e}`,className:Li(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,c,{source:!p,target:p,connectable:n,connectablestart:i,connectableend:o,clickconnecting:B,connectingfrom:C,connectingto:_,valid:F,connectionindicator:n&&(!O||T)&&(O||P?o:i)}]),onMouseDown:k,onTouchStart:k,onClick:b?M:void 0,ref:f,...A,children:l})}const mu=I.memo(CKe(jYt));function LYt({data:e,isConnectable:t,sourcePosition:r=Lt.Bottom}){return m.jsxs(m.Fragment,{children:[e==null?void 0:e.label,m.jsx(mu,{type:"source",position:r,isConnectable:t})]})}function NYt({data:e,isConnectable:t,targetPosition:r=Lt.Top,sourcePosition:n=Lt.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(mu,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,m.jsx(mu,{type:"source",position:n,isConnectable:t})]})}function $Yt(){return null}function QYt({data:e,isConnectable:t,targetPosition:r=Lt.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(mu,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const gI={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},cTe={input:LYt,default:NYt,output:QYt,group:$Yt};function HYt(e){var t,r,n,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const qYt=e=>{const{width:t,height:r,x:n,y:i}=xx(e.nodeLookup,{filter:o=>!!o.selected});return{width:nc(t)?t:null,height:nc(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${i}px)`}};function zYt({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Yn(),{width:i,height:o,transformString:a,userSelectionActive:s}=Qr(qYt,hi),l=IKe(),c=I.useRef(null);if(I.useEffect(()=>{var A;r||(A=c.current)==null||A.focus({preventScroll:!0})},[r]),EKe({nodeRef:c}),s||!i||!o)return null;const u=e?A=>{const f=n.getState().nodes.filter(h=>h.selected);e(A,f)}:void 0,d=A=>{Object.prototype.hasOwnProperty.call(gI,A.key)&&(A.preventDefault(),l({direction:gI[A.key],factor:A.shiftKey?4:1}))};return m.jsx("div",{className:Li(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:m.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:r?void 0:-1,onKeyDown:r?void 0:d,style:{width:i,height:o}})})}const uTe=typeof window<"u"?window:void 0,KYt=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function PKe({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:d,onSelectionStart:A,onSelectionEnd:f,multiSelectionKeyCode:h,panActivationKeyCode:p,zoomActivationKeyCode:v,elementsSelectable:y,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:B,panOnDrag:T,defaultViewport:O,translateExtent:P,minZoom:F,maxZoom:U,preventScrolling:k,onSelectionContextMenu:M,noWheelClassName:D,noPanClassName:j,disableKeyboardA11y:$,onViewportChange:Q,isControlledViewport:H}){const{nodesSelectionActive:W,userSelectionActive:z}=Qr(KYt),V=sb(c,{target:uTe}),G=sb(p,{target:uTe}),X=G||T,Z=G||S,oe=u&&X!==!0,ae=V||z||oe;return EYt({deleteKeyCode:l,multiSelectionKeyCode:h}),m.jsx(PYt,{onPaneContextMenu:o,elementsSelectable:y,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:Z,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:B,panOnDrag:!V&&X,defaultViewport:O,translateExtent:P,minZoom:F,maxZoom:U,zoomActivationKeyCode:v,preventScrolling:k,noWheelClassName:D,noPanClassName:j,onViewportChange:Q,isControlledViewport:H,paneClickDistance:s,children:m.jsxs(MYt,{onSelectionStart:A,onSelectionEnd:f,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:X,isSelecting:!!ae,selectionMode:d,selectionKeyPressed:V,selectionOnDrag:oe,children:[e,W&&m.jsx(zYt,{onSelectionContextMenu:M,noPanClassName:j,disableKeyboardA11y:$})]})})}PKe.displayName="FlowRenderer";const WYt=I.memo(PKe),VYt=e=>t=>e?zze(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function GYt(e){return Qr(I.useCallback(VYt(e),[e]),hi)}const YYt=e=>e.updateNodeInternals;function XYt(){const e=Qr(YYt),[t]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(i=>{const o=i.target.getAttribute("data-id");n.set(o,{id:o,nodeElement:i.target,force:!0})}),e(n)}));return I.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function JYt({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const i=Yn(),o=I.useRef(null),a=I.useRef(null),s=I.useRef(e.sourcePosition),l=I.useRef(e.targetPosition),c=I.useRef(t),u=r&&!!e.internals.handleBounds;return I.useEffect(()=>{o.current&&!e.hidden&&(!u||a.current!==o.current)&&(a.current&&(n==null||n.unobserve(a.current)),n==null||n.observe(o.current),a.current=o.current)},[u,e.hidden]),I.useEffect(()=>()=>{a.current&&(n==null||n.unobserve(a.current),a.current=null)},[]),I.useEffect(()=>{if(o.current){const d=c.current!==t,A=s.current!==e.sourcePosition,f=l.current!==e.targetPosition;(d||A||f)&&(c.current=t,s.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function ZYt({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:i,onContextMenu:o,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:d,noDragClassName:A,noPanClassName:f,disableKeyboardA11y:h,rfId:p,nodeTypes:v,nodeClickDistance:y,onError:b}){const{node:x,internals:S,isParent:C}=Qr(ae=>{const ne=ae.nodeLookup.get(e),te=ae.parentLookup.has(e);return{node:ne,internals:ne.internals,isParent:te}},hi);let _=x.type||"default",B=(v==null?void 0:v[_])||cTe[_];B===void 0&&(b==null||b("003",gu.error003(_)),_="default",B=cTe.default);const T=!!(x.draggable||s&&typeof x.draggable>"u"),O=!!(x.selectable||l&&typeof x.selectable>"u"),P=!!(x.connectable||c&&typeof x.connectable>"u"),F=!!(x.focusable||u&&typeof x.focusable>"u"),U=Yn(),k=Xze(x),M=JYt({node:x,nodeType:_,hasDimensions:k,resizeObserver:d}),D=EKe({nodeRef:M,disabled:x.hidden||!T,noDragClassName:A,handleSelector:x.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:y}),j=IKe();if(x.hidden)return null;const $=Vd(x),Q=HYt(x),H=O||T||t||r||n||i,W=r?ae=>r(ae,{...S.userNode}):void 0,z=n?ae=>n(ae,{...S.userNode}):void 0,V=i?ae=>i(ae,{...S.userNode}):void 0,G=o?ae=>o(ae,{...S.userNode}):void 0,X=a?ae=>a(ae,{...S.userNode}):void 0,Z=ae=>{const{selectNodesOnDrag:ne,nodeDragThreshold:te}=U.getState();O&&(!ne||!T||te>0)&&lq({id:e,store:U,nodeRef:M}),t&&t(ae,{...S.userNode})},oe=ae=>{if(!(nq(ae.nativeEvent)||h))if($ze.includes(ae.key)&&O){const ne=ae.key==="Escape";lq({id:e,store:U,unselect:ne,nodeRef:M})}else T&&x.selected&&Object.prototype.hasOwnProperty.call(gI,ae.key)&&(ae.preventDefault(),U.setState({ariaLiveMessage:`Moved selected node ${ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~S.positionAbsolute.x}, y: ${~~S.positionAbsolute.y}`}),j({direction:gI[ae.key],factor:ae.shiftKey?4:1}))};return m.jsx("div",{className:Li(["react-flow__node",`react-flow__node-${_}`,{[f]:T},x.className,{selected:x.selected,selectable:O,parent:C,draggable:T,dragging:D}]),ref:M,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:k?"visible":"hidden",...x.style,...Q},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:W,onMouseMove:z,onMouseLeave:V,onContextMenu:G,onClick:Z,onDoubleClick:X,onKeyDown:F?oe:void 0,tabIndex:F?0:void 0,role:F?"button":void 0,"aria-describedby":h?void 0:`${vKe}-${p}`,"aria-label":x.ariaLabel,children:m.jsx(kYt,{value:e,children:m.jsx(B,{id:e,data:x.data,type:_,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:x.selected??!1,selectable:O,draggable:T,deletable:x.deletable??!0,isConnectable:P,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:D,dragHandle:x.dragHandle,zIndex:S.z,parentId:x.parentId,...$})})})}const eXt=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function TKe(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,onError:o}=Qr(eXt,hi),a=GYt(e.onlyRenderVisibleElements),s=XYt();return m.jsx("div",{className:"react-flow__nodes",style:MT,children:a.map(l=>m.jsx(ZYt,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}TKe.displayName="NodeRenderer";const tXt=I.memo(TKe);function rXt(e){return Qr(I.useCallback(r=>{if(!e)return r.edges.map(i=>i.id);const n=[];if(r.width&&r.height)for(const i of r.edges){const o=r.nodeLookup.get(i.source),a=r.nodeLookup.get(i.target);o&&a&&n7t({sourceNode:o,targetNode:a,width:r.width,height:r.height,transform:r.transform})&&n.push(i.id)}return n},[e]),hi)}const nXt=({color:e="none",strokeWidth:t=1})=>m.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),iXt=({color:e="none",strokeWidth:t=1})=>m.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),dTe={[fI.Arrow]:nXt,[fI.ArrowClosed]:iXt};function oXt(e){const t=Yn();return I.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(dTe,e)?dTe[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",gu.error009(e)),null)},[e])}const aXt=({id:e,type:t,color:r,width:n=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=oXt(t);return l?m.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:m.jsx(l,{color:r,strokeWidth:a})}):null},OKe=({defaultColor:e,rfId:t})=>{const r=Qr(o=>o.edges),n=Qr(o=>o.defaultEdgeOptions),i=I.useMemo(()=>u7t(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return i.length?m.jsx("svg",{className:"react-flow__marker",children:m.jsx("defs",{children:i.map(o=>m.jsx(aXt,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};OKe.displayName="MarkerDefinitions";var sXt=I.memo(OKe);function RKe({x:e,y:t,label:r,labelStyle:n={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u}){const[d,A]=I.useState({x:1,y:0,width:0,height:0}),f=Li(["react-flow__edge-textwrapper",c]),h=I.useRef(null);return I.useEffect(()=>{if(h.current){const p=h.current.getBBox();A({x:p.x,y:p.y,width:p.width,height:p.height})}},[r]),typeof r>"u"||!r?null:m.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:f,visibility:d.width?"visible":"hidden",...u,children:[i&&m.jsx("rect",{width:d.width+2*a[0],x:-a[0],y:-a[1],height:d.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),m.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:h,style:n,children:r}),l]})}RKe.displayName="EdgeText";const lXt=I.memo(RKe);function FT({path:e,labelX:t,labelY:r,label:n,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...u,d:e,fill:"none",className:Li(["react-flow__edge-path",u.className])}),c&&m.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),n&&nc(t)&&nc(r)?m.jsx(lXt,{x:t,y:r,label:n,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function ATe({pos:e,x1:t,y1:r,x2:n,y2:i}){return e===Lt.Left||e===Lt.Right?[.5*(t+n),r]:[t,.5*(r+i)]}function MKe({sourceX:e,sourceY:t,sourcePosition:r=Lt.Bottom,targetX:n,targetY:i,targetPosition:o=Lt.Top}){const[a,s]=ATe({pos:r,x1:e,y1:t,x2:n,y2:i}),[l,c]=ATe({pos:o,x1:n,y1:i,x2:e,y2:t}),[u,d,A,f]=tKe({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${s} ${l},${c} ${n},${i}`,u,d,A,f]}function FKe(e){return I.memo(({id:t,sourceX:r,sourceY:n,targetX:i,targetY:o,sourcePosition:a=Lt.Bottom,targetPosition:s=Lt.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:A,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:y})=>{const[b,x,S]=MKe({sourceX:r,sourceY:n,sourcePosition:a,targetX:i,targetY:o,targetPosition:s}),C=e.isInternal?void 0:t;return m.jsx(FT,{id:C,path:b,labelX:x,labelY:S,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:A,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:y})})}const cXt=FKe({isInternal:!1}),kKe=FKe({isInternal:!0});cXt.displayName="SimpleBezierEdge";kKe.displayName="SimpleBezierEdgeInternal";function UKe(e){return I.memo(({id:t,sourceX:r,sourceY:n,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:A,sourcePosition:f=Lt.Bottom,targetPosition:h=Lt.Top,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[x,S,C]=iq({sourceX:r,sourceY:n,sourcePosition:f,targetX:i,targetY:o,targetPosition:h,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset}),_=e.isInternal?void 0:t;return m.jsx(FT,{id:_,path:x,labelX:S,labelY:C,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:A,markerEnd:p,markerStart:v,interactionWidth:b})})}const DKe=UKe({isInternal:!1}),jKe=UKe({isInternal:!0});DKe.displayName="SmoothStepEdge";jKe.displayName="SmoothStepEdgeInternal";function LKe(e){return I.memo(({id:t,...r})=>{var i;const n=e.isInternal?void 0:t;return m.jsx(DKe,{...r,id:n,pathOptions:I.useMemo(()=>{var o;return{borderRadius:0,offset:(o=r.pathOptions)==null?void 0:o.offset}},[(i=r.pathOptions)==null?void 0:i.offset])})})}const uXt=LKe({isInternal:!1}),NKe=LKe({isInternal:!0});uXt.displayName="StepEdge";NKe.displayName="StepEdgeInternal";function $Ke(e){return I.memo(({id:t,sourceX:r,sourceY:n,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:A,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[v,y,b]=oKe({sourceX:r,sourceY:n,targetX:i,targetY:o}),x=e.isInternal?void 0:t;return m.jsx(FT,{id:x,path:v,labelX:y,labelY:b,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:A,markerEnd:f,markerStart:h,interactionWidth:p})})}const dXt=$Ke({isInternal:!1}),QKe=$Ke({isInternal:!0});dXt.displayName="StraightEdge";QKe.displayName="StraightEdgeInternal";function HKe(e){return I.memo(({id:t,sourceX:r,sourceY:n,targetX:i,targetY:o,sourcePosition:a=Lt.Bottom,targetPosition:s=Lt.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:A,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[x,S,C]=rKe({sourceX:r,sourceY:n,sourcePosition:a,targetX:i,targetY:o,targetPosition:s,curvature:y==null?void 0:y.curvature}),_=e.isInternal?void 0:t;return m.jsx(FT,{id:_,path:x,labelX:S,labelY:C,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:A,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:b})})}const AXt=HKe({isInternal:!1}),qKe=HKe({isInternal:!0});AXt.displayName="BezierEdge";qKe.displayName="BezierEdgeInternal";const fTe={default:qKe,straight:QKe,step:NKe,smoothstep:jKe,simplebezier:kKe},hTe={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},fXt=(e,t,r)=>r===Lt.Left?e-t:r===Lt.Right?e+t:e,hXt=(e,t,r)=>r===Lt.Top?e-t:r===Lt.Bottom?e+t:e,pTe="react-flow__edgeupdater";function gTe({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s}){return m.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Li([pTe,`${pTe}-${s}`]),cx:fXt(t,n,e),cy:hXt(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function pXt({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:i,targetX:o,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:d,setReconnecting:A,setUpdateHover:f}){const h=Yn(),p=(S,C)=>{if(S.button!==0)return;const{autoPanOnConnect:_,domNode:B,isValidConnection:T,connectionMode:O,connectionRadius:P,lib:F,onConnectStart:U,onConnectEnd:k,cancelConnection:M,nodeLookup:D,rfId:j,panBy:$,updateConnection:Q}=h.getState(),H=C.type==="target";A(!0),u==null||u(S,r,C.type);const W=(V,G)=>{A(!1),d==null||d(V,r,C.type,G)},z=V=>c==null?void 0:c(r,V);sq.onPointerDown(S.nativeEvent,{autoPanOnConnect:_,connectionMode:O,connectionRadius:P,domNode:B,handleId:C.id,nodeId:C.nodeId,nodeLookup:D,isTarget:H,edgeUpdaterType:C.type,lib:F,flowId:j,cancelConnection:M,panBy:$,isValidConnection:T,onConnect:z,onConnectStart:U,onConnectEnd:k,onReconnectEnd:W,updateConnection:Q,getTransform:()=>h.getState().transform,getFromHandle:()=>h.getState().connection.fromHandle})},v=S=>p(S,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),y=S=>p(S,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),b=()=>f(!0),x=()=>f(!1);return m.jsxs(m.Fragment,{children:[(e===!0||e==="source")&&m.jsx(gTe,{position:s,centerX:n,centerY:i,radius:t,onMouseDown:v,onMouseEnter:b,onMouseOut:x,type:"source"}),(e===!0||e==="target")&&m.jsx(gTe,{position:l,centerX:o,centerY:a,radius:t,onMouseDown:y,onMouseEnter:b,onMouseOut:x,type:"target"})]})}function gXt({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:i,onDoubleClick:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:d,onReconnectStart:A,onReconnectEnd:f,rfId:h,edgeTypes:p,noPanClassName:v,onError:y,disableKeyboardA11y:b}){let x=Qr(re=>re.edgeLookup.get(e));const S=Qr(re=>re.defaultEdgeOptions);x=S?{...S,...x}:x;let C=x.type||"default",_=(p==null?void 0:p[C])||fTe[C];_===void 0&&(y==null||y("011",gu.error011(C)),C="default",_=fTe.default);const B=!!(x.focusable||t&&typeof x.focusable>"u"),T=typeof d<"u"&&(x.reconnectable||r&&typeof x.reconnectable>"u"),O=!!(x.selectable||n&&typeof x.selectable>"u"),P=I.useRef(null),[F,U]=I.useState(!1),[k,M]=I.useState(!1),D=Yn(),{zIndex:j,sourceX:$,sourceY:Q,targetX:H,targetY:W,sourcePosition:z,targetPosition:V}=Qr(I.useCallback(re=>{const he=re.nodeLookup.get(x.source),ye=re.nodeLookup.get(x.target);if(!he||!ye)return{zIndex:x.zIndex,...hTe};const ke=c7t({id:e,sourceNode:he,targetNode:ye,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:re.connectionMode,onError:y});return{zIndex:r7t({selected:x.selected,zIndex:x.zIndex,sourceNode:he,targetNode:ye,elevateOnSelect:re.elevateEdgesOnSelect}),...ke||hTe}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),hi),G=I.useMemo(()=>x.markerStart?`url('#${oq(x.markerStart,h)}')`:void 0,[x.markerStart,h]),X=I.useMemo(()=>x.markerEnd?`url('#${oq(x.markerEnd,h)}')`:void 0,[x.markerEnd,h]);if(x.hidden||$===null||Q===null||H===null||W===null)return null;const Z=re=>{var Ue;const{addSelectedEdges:he,unselectNodesAndEdges:ye,multiSelectionActive:ke}=D.getState();O&&(D.setState({nodesSelectionActive:!1}),x.selected&&ke?(ye({nodes:[],edges:[x]}),(Ue=P.current)==null||Ue.blur()):he([e])),i&&i(re,x)},oe=o?re=>{o(re,{...x})}:void 0,ae=a?re=>{a(re,{...x})}:void 0,ne=s?re=>{s(re,{...x})}:void 0,te=l?re=>{l(re,{...x})}:void 0,se=c?re=>{c(re,{...x})}:void 0,de=re=>{var he;if(!b&&$ze.includes(re.key)&&O){const{unselectNodesAndEdges:ye,addSelectedEdges:ke}=D.getState();re.key==="Escape"?((he=P.current)==null||he.blur(),ye({edges:[x]})):ke([e])}};return m.jsx("svg",{style:{zIndex:j},children:m.jsxs("g",{className:Li(["react-flow__edge",`react-flow__edge-${C}`,x.className,v,{selected:x.selected,animated:x.animated,inactive:!O&&!i,updating:F,selectable:O}]),onClick:Z,onDoubleClick:oe,onContextMenu:ae,onMouseEnter:ne,onMouseMove:te,onMouseLeave:se,onKeyDown:B?de:void 0,tabIndex:B?0:void 0,role:B?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||`Edge from ${x.source} to ${x.target}`,"aria-describedby":B?`${yKe}-${h}`:void 0,ref:P,children:[!k&&m.jsx(_,{id:e,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:O,deletable:x.deletable??!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:$,sourceY:Q,targetX:H,targetY:W,sourcePosition:z,targetPosition:V,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:G,markerEnd:X,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),T&&m.jsx(pXt,{edge:x,isReconnectable:T,reconnectRadius:u,onReconnect:d,onReconnectStart:A,onReconnectEnd:f,sourceX:$,sourceY:Q,targetX:H,targetY:W,sourcePosition:z,targetPosition:V,setUpdateHover:U,setReconnecting:M})]})})}const mXt=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function zKe({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:i,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:d,onEdgeDoubleClick:A,onReconnectStart:f,onReconnectEnd:h,disableKeyboardA11y:p}){const{edgesFocusable:v,edgesReconnectable:y,elementsSelectable:b,onError:x}=Qr(mXt,hi),S=rXt(t);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(sXt,{defaultColor:e,rfId:r}),S.map(C=>m.jsx(gXt,{id:C,edgesFocusable:v,edgesReconnectable:y,elementsSelectable:b,noPanClassName:i,onReconnect:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:d,onDoubleClick:A,onReconnectStart:f,onReconnectEnd:h,rfId:r,onError:x,edgeTypes:n,disableKeyboardA11y:p},C))]})}zKe.displayName="EdgeRenderer";const vXt=I.memo(zKe),yXt=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function wXt({children:e}){const t=Qr(yXt);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function bXt(e){const t=SW(),r=I.useRef(!1);I.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const xXt=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function SXt(e){const t=Qr(xXt),r=Yn();return I.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function CXt(e){return e.connection.inProgress?{...e.connection,to:Sx(e.connection.to,e.transform)}:{...e.connection}}function _Xt(e){return CXt}function EXt(e){const t=_Xt();return Qr(t,hi)}const IXt=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function BXt({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:i,width:o,height:a,isValid:s,inProgress:l}=Qr(IXt,hi);return!(o&&i&&l)?null:m.jsx("svg",{style:e,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:Li(["react-flow__connection",Hze(s)]),children:m.jsx(KKe,{style:t,type:r,CustomComponent:n,isValid:s})})})}const KKe=({style:e,type:t=TA.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:i,from:o,fromNode:a,fromHandle:s,fromPosition:l,to:c,toNode:u,toHandle:d,toPosition:A}=EXt();if(!i)return;if(r)return m.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:A,connectionStatus:Hze(n),toNode:u,toHandle:d});let f="";const h={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:A};switch(t){case TA.Bezier:[f]=rKe(h);break;case TA.SimpleBezier:[f]=MKe(h);break;case TA.Step:[f]=iq({...h,borderRadius:0});break;case TA.SmoothStep:[f]=iq(h);break;default:[f]=oKe(h)}return m.jsx("path",{d:f,fill:"none",className:"react-flow__connection-path",style:e})};KKe.displayName="ConnectionLine";const PXt={};function mTe(e=PXt){I.useRef(e),Yn(),I.useEffect(()=>{},[e])}function TXt(){Yn(),I.useRef(!1),I.useEffect(()=>{},[])}function WKe({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:d,onSelectionStart:A,onSelectionEnd:f,connectionLineType:h,connectionLineStyle:p,connectionLineComponent:v,connectionLineContainerStyle:y,selectionKeyCode:b,selectionOnDrag:x,selectionMode:S,multiSelectionKeyCode:C,panActivationKeyCode:_,zoomActivationKeyCode:B,deleteKeyCode:T,onlyRenderVisibleElements:O,elementsSelectable:P,defaultViewport:F,translateExtent:U,minZoom:k,maxZoom:M,preventScrolling:D,defaultMarkerColor:j,zoomOnScroll:$,zoomOnPinch:Q,panOnScroll:H,panOnScrollSpeed:W,panOnScrollMode:z,zoomOnDoubleClick:V,panOnDrag:G,onPaneClick:X,onPaneMouseEnter:Z,onPaneMouseMove:oe,onPaneMouseLeave:ae,onPaneScroll:ne,onPaneContextMenu:te,paneClickDistance:se,nodeClickDistance:de,onEdgeContextMenu:re,onEdgeMouseEnter:he,onEdgeMouseMove:ye,onEdgeMouseLeave:ke,reconnectRadius:Ue,onReconnect:Ne,onReconnectStart:Ye,onReconnectEnd:lt,noDragClassName:Ve,noWheelClassName:Te,noPanClassName:we,disableKeyboardA11y:Be,nodeExtent:Ze,rfId:me,viewport:Se,onViewportChange:Oe}){return mTe(e),mTe(t),TXt(),bXt(r),SXt(Se),m.jsx(WYt,{onPaneClick:X,onPaneMouseEnter:Z,onPaneMouseMove:oe,onPaneMouseLeave:ae,onPaneContextMenu:te,onPaneScroll:ne,paneClickDistance:se,deleteKeyCode:T,selectionKeyCode:b,selectionOnDrag:x,selectionMode:S,onSelectionStart:A,onSelectionEnd:f,multiSelectionKeyCode:C,panActivationKeyCode:_,zoomActivationKeyCode:B,elementsSelectable:P,zoomOnScroll:$,zoomOnPinch:Q,zoomOnDoubleClick:V,panOnScroll:H,panOnScrollSpeed:W,panOnScrollMode:z,panOnDrag:G,defaultViewport:F,translateExtent:U,minZoom:k,maxZoom:M,onSelectionContextMenu:d,preventScrolling:D,noDragClassName:Ve,noWheelClassName:Te,noPanClassName:we,disableKeyboardA11y:Be,onViewportChange:Oe,isControlledViewport:!!Se,children:m.jsxs(wXt,{children:[m.jsx(vXt,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:Ne,onReconnectStart:Ye,onReconnectEnd:lt,onlyRenderVisibleElements:O,onEdgeContextMenu:re,onEdgeMouseEnter:he,onEdgeMouseMove:ye,onEdgeMouseLeave:ke,reconnectRadius:Ue,defaultMarkerColor:j,noPanClassName:we,disableKeyboardA11y:Be,rfId:me}),m.jsx(BXt,{style:p,type:h,component:v,containerStyle:y}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(tXt,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:de,onlyRenderVisibleElements:O,noPanClassName:we,noDragClassName:Ve,disableKeyboardA11y:Be,nodeExtent:Ze,rfId:me}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}WKe.displayName="GraphView";const OXt=I.memo(WKe),vTe=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:l}={})=>{const c=new Map,u=new Map,d=new Map,A=new Map,f=n??t??[],h=r??e??[],p=s??[0,0],v=l??nb;sKe(d,A,f),aq(h,c,u,{nodeOrigin:p,nodeExtent:v,elevateNodesOnSelect:!1});let y=[0,0,1];if(a&&i&&o){const b=xx(c,{filter:_=>!!((_.width||_.initialWidth)&&(_.height||_.initialHeight))}),{x,y:S,zoom:C}=vW(b,i,o,.5,2,.1);y=[x,S,C]}return{rfId:"1",width:0,height:0,transform:y,nodes:h,nodeLookup:c,parentLookup:u,edges:f,edgeLookup:A,connectionLookup:d,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:nb,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:km.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:p,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...Qze},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:e7t,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},RXt=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:l})=>X7t((c,u)=>({...vTe({nodes:e,edges:t,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:l,defaultNodes:r,defaultEdges:n}),setNodes:d=>{const{nodeLookup:A,parentLookup:f,nodeOrigin:h,elevateNodesOnSelect:p}=u();aq(d,A,f,{nodeOrigin:h,nodeExtent:l,elevateNodesOnSelect:p,checkEquality:!0}),c({nodes:d})},setEdges:d=>{const{connectionLookup:A,edgeLookup:f}=u();sKe(A,f,d),c({edges:d})},setDefaultNodesAndEdges:(d,A)=>{if(d){const{setNodes:f}=u();f(d),c({hasDefaultNodes:!0})}if(A){const{setEdges:f}=u();f(A),c({hasDefaultEdges:!0})}},updateNodeInternals:(d,A={triggerFitView:!0})=>{const{triggerNodeChanges:f,nodeLookup:h,parentLookup:p,fitViewOnInit:v,fitViewDone:y,fitViewOnInitOptions:b,domNode:x,nodeOrigin:S,nodeExtent:C,debug:_,fitViewSync:B}=u(),{changes:T,updatedInternals:O}=p7t(d,h,p,x,S,C);if(O){if(A7t(h,p,{nodeOrigin:S,nodeExtent:C}),A.triggerFitView){let P=y;!y&&v&&(P=B({...b,nodes:b==null?void 0:b.nodes})),c({fitViewDone:P})}else c({});(T==null?void 0:T.length)>0&&(_&&console.log("React Flow: trigger node changes",T),f==null||f(T))}},updateNodePositions:(d,A=!1)=>{const f=[],h=[],{nodeLookup:p,triggerNodeChanges:v}=u();for(const[y,b]of d){const x=p.get(y),S=!!(x!=null&&x.expandParent&&(x!=null&&x.parentId)&&(b!=null&&b.position)),C={id:y,type:"position",position:S?{x:Math.max(0,b.position.x),y:Math.max(0,b.position.y)}:b.position,dragging:A};S&&x.parentId&&f.push({id:y,parentId:x.parentId,rect:{...b.internals.positionAbsolute,width:b.measured.width??0,height:b.measured.height??0}}),h.push(C)}if(f.length>0){const{parentLookup:y,nodeOrigin:b}=u(),x=xW(f,p,y,b);h.push(...x)}v(h)},triggerNodeChanges:d=>{const{onNodesChange:A,setNodes:f,nodes:h,hasDefaultNodes:p,debug:v}=u();if(d!=null&&d.length){if(p){const y=xKe(d,h);f(y)}v&&console.log("React Flow: trigger node changes",d),A==null||A(d)}},triggerEdgeChanges:d=>{const{onEdgesChange:A,setEdges:f,edges:h,hasDefaultEdges:p,debug:v}=u();if(d!=null&&d.length){if(p){const y=SKe(d,h);f(y)}v&&console.log("React Flow: trigger edge changes",d),A==null||A(d)}},addSelectedNodes:d=>{const{multiSelectionActive:A,edgeLookup:f,nodeLookup:h,triggerNodeChanges:p,triggerEdgeChanges:v}=u();if(A){const y=d.map(b=>ih(b,!0));p(y);return}p(Ug(h,new Set([...d]),!0)),v(Ug(f))},addSelectedEdges:d=>{const{multiSelectionActive:A,edgeLookup:f,nodeLookup:h,triggerNodeChanges:p,triggerEdgeChanges:v}=u();if(A){const y=d.map(b=>ih(b,!0));v(y);return}v(Ug(f,new Set([...d]))),p(Ug(h,new Set,!0))},unselectNodesAndEdges:({nodes:d,edges:A}={})=>{const{edges:f,nodes:h,nodeLookup:p,triggerNodeChanges:v,triggerEdgeChanges:y}=u(),b=d||h,x=A||f,S=b.map(_=>{const B=p.get(_.id);return B&&(B.selected=!1),ih(_.id,!1)}),C=x.map(_=>ih(_.id,!1));v(S),y(C)},setMinZoom:d=>{const{panZoom:A,maxZoom:f}=u();A==null||A.setScaleExtent([d,f]),c({minZoom:d})},setMaxZoom:d=>{const{panZoom:A,minZoom:f}=u();A==null||A.setScaleExtent([f,d]),c({maxZoom:d})},setTranslateExtent:d=>{var A;(A=u().panZoom)==null||A.setTranslateExtent(d),c({translateExtent:d})},setPaneClickDistance:d=>{var A;(A=u().panZoom)==null||A.setClickDistance(d)},resetSelectedElements:()=>{const{edges:d,nodes:A,triggerNodeChanges:f,triggerEdgeChanges:h}=u(),p=A.reduce((y,b)=>b.selected?[...y,ih(b.id,!1)]:y,[]),v=d.reduce((y,b)=>b.selected?[...y,ih(b.id,!1)]:y,[]);f(p),h(v)},setNodeExtent:d=>{const{nodes:A,nodeLookup:f,parentLookup:h,nodeOrigin:p,elevateNodesOnSelect:v,nodeExtent:y}=u();d[0][0]===y[0][0]&&d[0][1]===y[0][1]&&d[1][0]===y[1][0]&&d[1][1]===y[1][1]||(aq(A,f,h,{nodeOrigin:p,nodeExtent:d,elevateNodesOnSelect:v,checkEquality:!1}),c({nodeExtent:d}))},panBy:d=>{const{transform:A,width:f,height:h,panZoom:p,translateExtent:v}=u();return g7t({delta:d,panZoom:p,transform:A,translateExtent:v,width:f,height:h})},fitView:d=>{const{panZoom:A,width:f,height:h,minZoom:p,maxZoom:v,nodeLookup:y}=u();if(!A)return Promise.resolve(!1);const b=eq(y,d);return tq({nodes:b,width:f,height:h,panZoom:A,minZoom:p,maxZoom:v},d)},fitViewSync:d=>{const{panZoom:A,width:f,height:h,minZoom:p,maxZoom:v,nodeLookup:y}=u();if(!A)return!1;const b=eq(y,d);return tq({nodes:b,width:f,height:h,panZoom:A,minZoom:p,maxZoom:v},d),b.size>0},cancelConnection:()=>{c({connection:{...Qze}})},updateConnection:d=>{c({connection:d})},reset:()=>c({...vTe()})}),Object.is);function MXt({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:i,initialHeight:o,fitView:a,nodeOrigin:s,nodeExtent:l,children:c}){const[u]=I.useState(()=>RXt({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:l}));return m.jsx(J7t,{value:u,children:m.jsx(bYt,{children:c})})}function FXt({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:i,width:o,height:a,fitView:s,nodeOrigin:l,nodeExtent:c}){return I.useContext(OT)?m.jsx(m.Fragment,{children:e}):m.jsx(MXt,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:i,initialWidth:o,initialHeight:a,fitView:s,nodeOrigin:l,nodeExtent:c,children:e})}const kXt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function UXt({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:i,nodeTypes:o,edgeTypes:a,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:A,onConnect:f,onConnectStart:h,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:y,onNodeMouseEnter:b,onNodeMouseMove:x,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:_,onNodeDragStart:B,onNodeDrag:T,onNodeDragStop:O,onNodesDelete:P,onEdgesDelete:F,onDelete:U,onSelectionChange:k,onSelectionDragStart:M,onSelectionDrag:D,onSelectionDragStop:j,onSelectionContextMenu:$,onSelectionStart:Q,onSelectionEnd:H,onBeforeDelete:W,connectionMode:z,connectionLineType:V=TA.Bezier,connectionLineStyle:G,connectionLineComponent:X,connectionLineContainerStyle:Z,deleteKeyCode:oe="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:ne=!1,selectionMode:te=ib.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:de=pI()?"Meta":"Control",zoomActivationKeyCode:re=pI()?"Meta":"Control",snapToGrid:he,snapGrid:ye,onlyRenderVisibleElements:ke=!1,selectNodesOnDrag:Ue,nodesDraggable:Ne,nodesConnectable:Ye,nodesFocusable:lt,nodeOrigin:Ve=wKe,edgesFocusable:Te,edgesReconnectable:we,elementsSelectable:Be=!0,defaultViewport:Ze=dYt,minZoom:me=.5,maxZoom:Se=2,translateExtent:Oe=nb,preventScrolling:it=!0,nodeExtent:ft,defaultMarkerColor:ee="#b1b1b7",zoomOnScroll:ce=!0,zoomOnPinch:pe=!0,panOnScroll:xe=!1,panOnScrollSpeed:$e=.5,panOnScrollMode:ve=Eh.Free,zoomOnDoubleClick:ot=!0,panOnDrag:xt=!0,onPaneClick:De,onPaneMouseEnter:We,onPaneMouseMove:Je,onPaneMouseLeave:nt,onPaneScroll:At,onPaneContextMenu:kt,paneClickDistance:sr=0,nodeClickDistance:xr=0,children:pr,onReconnect:Pn,onReconnectStart:ai,onReconnectEnd:Ec,onEdgeContextMenu:Hs,onEdgeDoubleClick:Tl,onEdgeMouseEnter:Uo,onEdgeMouseMove:Do,onEdgeMouseLeave:ls,reconnectRadius:Ji=10,onNodesChange:Ln,onEdgesChange:Ol,noDragClassName:qs="nodrag",noWheelClassName:pi="nowheel",noPanClassName:Ni="nopan",fitView:ha,fitViewOptions:Ao,connectOnClick:Pe,attributionPosition:tt,proOptions:Fe,defaultEdgeOptions:be,elevateNodesOnSelect:ze,elevateEdgesOnSelect:$t,disableKeyboardA11y:_t=!1,autoPanOnConnect:dn,autoPanOnNodeDrag:nr,autoPanSpeed:Xn,connectionRadius:Oi,isValidConnection:Ge,onError:An,style:pa,id:Zi,nodeDragThreshold:Rl,viewport:fo,onViewportChange:Fu,width:ga,height:Ev,colorMode:Iv="light",debug:Gd,onScroll:Ml,...zs},Ic){const Fl=Zi||"1",Bv=pYt(Iv),Pv=I.useCallback(Yd=>{Yd.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ml==null||Ml(Yd)},[Ml]);return m.jsx("div",{"data-testid":"rf__wrapper",...zs,onScroll:Pv,style:{...pa,...kXt},ref:Ic,className:Li(["react-flow",i,Bv]),id:Zi,children:m.jsxs(FXt,{nodes:e,edges:t,width:ga,height:Ev,fitView:ha,nodeOrigin:Ve,nodeExtent:ft,children:[m.jsx(OXt,{onInit:c,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:b,onNodeMouseMove:x,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:_,nodeTypes:o,edgeTypes:a,connectionLineType:V,connectionLineStyle:G,connectionLineComponent:X,connectionLineContainerStyle:Z,selectionKeyCode:ae,selectionOnDrag:ne,selectionMode:te,deleteKeyCode:oe,multiSelectionKeyCode:de,panActivationKeyCode:se,zoomActivationKeyCode:re,onlyRenderVisibleElements:ke,defaultViewport:Ze,translateExtent:Oe,minZoom:me,maxZoom:Se,preventScrolling:it,zoomOnScroll:ce,zoomOnPinch:pe,zoomOnDoubleClick:ot,panOnScroll:xe,panOnScrollSpeed:$e,panOnScrollMode:ve,panOnDrag:xt,onPaneClick:De,onPaneMouseEnter:We,onPaneMouseMove:Je,onPaneMouseLeave:nt,onPaneScroll:At,onPaneContextMenu:kt,paneClickDistance:sr,nodeClickDistance:xr,onSelectionContextMenu:$,onSelectionStart:Q,onSelectionEnd:H,onReconnect:Pn,onReconnectStart:ai,onReconnectEnd:Ec,onEdgeContextMenu:Hs,onEdgeDoubleClick:Tl,onEdgeMouseEnter:Uo,onEdgeMouseMove:Do,onEdgeMouseLeave:ls,reconnectRadius:Ji,defaultMarkerColor:ee,noDragClassName:qs,noWheelClassName:pi,noPanClassName:Ni,rfId:Fl,disableKeyboardA11y:_t,nodeExtent:ft,viewport:fo,onViewportChange:Fu}),m.jsx(hYt,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:f,onConnectStart:h,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:y,nodesDraggable:Ne,nodesConnectable:Ye,nodesFocusable:lt,edgesFocusable:Te,edgesReconnectable:we,elementsSelectable:Be,elevateNodesOnSelect:ze,elevateEdgesOnSelect:$t,minZoom:me,maxZoom:Se,nodeExtent:ft,onNodesChange:Ln,onEdgesChange:Ol,snapToGrid:he,snapGrid:ye,connectionMode:z,translateExtent:Oe,connectOnClick:Pe,defaultEdgeOptions:be,fitView:ha,fitViewOptions:Ao,onNodesDelete:P,onEdgesDelete:F,onDelete:U,onNodeDragStart:B,onNodeDrag:T,onNodeDragStop:O,onSelectionDrag:D,onSelectionDragStart:M,onSelectionDragStop:j,onMove:u,onMoveStart:d,onMoveEnd:A,noPanClassName:Ni,nodeOrigin:Ve,rfId:Fl,autoPanOnConnect:dn,autoPanOnNodeDrag:nr,autoPanSpeed:Xn,onError:An,connectionRadius:Oi,isValidConnection:Ge,selectNodesOnDrag:Ue,nodeDragThreshold:Rl,onBeforeDelete:W,paneClickDistance:sr,debug:Gd}),m.jsx(uYt,{onSelectionChange:k}),pr,m.jsx(oYt,{proOptions:Fe,position:tt}),m.jsx(nYt,{rfId:Fl,disableKeyboardA11y:_t})]})})}var DXt=CKe(UXt);function jXt(e){const[t,r]=I.useState(e),n=I.useCallback(i=>r(o=>xKe(i,o)),[]);return[t,r,n]}function LXt(e){const[t,r]=I.useState(e),n=I.useCallback(i=>r(o=>SKe(i,o)),[]);return[t,r,n]}function NXt({dimensions:e,lineWidth:t,variant:r,className:n}){return m.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Li(["react-flow__background-pattern",r,n])})}function $Xt({radius:e,className:t}){return m.jsx("circle",{cx:e,cy:e,r:e,className:Li(["react-flow__background-pattern","dots",t])})}var VA;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(VA||(VA={}));const QXt={[VA.Dots]:1,[VA.Lines]:1,[VA.Cross]:6},HXt=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function VKe({id:e,variant:t=VA.Dots,gap:r=20,size:n,lineWidth:i=1,offset:o=0,color:a,bgColor:s,style:l,className:c,patternClassName:u}){const d=I.useRef(null),{transform:A,patternId:f}=Qr(HXt,hi),h=n||QXt[t],p=t===VA.Dots,v=t===VA.Cross,y=Array.isArray(r)?r:[r,r],b=[y[0]*A[2]||1,y[1]*A[2]||1],x=h*A[2],S=Array.isArray(o)?o:[o,o],C=v?[x,x]:b,_=[S[0]*A[2]||1+C[0]/2,S[1]*A[2]||1+C[1]/2],B=`${f}${e||""}`;return m.jsxs("svg",{className:Li(["react-flow__background",c]),style:{...l,...MT,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:d,"data-testid":"rf__background",children:[m.jsx("pattern",{id:B,x:A[0]%b[0],y:A[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:p?m.jsx($Xt,{radius:x/2,className:u}):m.jsx(NXt,{dimensions:C,lineWidth:i,variant:t,className:u})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${B})`})]})}VKe.displayName="Background";const qXt=I.memo(VKe);function zXt(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function KXt(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function WXt(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function VXt(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function GXt(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function sC({children:e,className:t,...r}){return m.jsx("button",{type:"button",className:Li(["react-flow__controls-button",t]),...r,children:e})}const YXt=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function GKe({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:c,children:u,position:d="bottom-left",orientation:A="vertical","aria-label":f="React Flow controls"}){const h=Yn(),{isInteractive:p,minZoomReached:v,maxZoomReached:y}=Qr(YXt,hi),{zoomIn:b,zoomOut:x,fitView:S}=SW(),C=()=>{b(),o==null||o()},_=()=>{x(),a==null||a()},B=()=>{S(i),s==null||s()},T=()=>{h.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),l==null||l(!p)},O=A==="horizontal"?"horizontal":"vertical";return m.jsxs(RT,{className:Li(["react-flow__controls",O,c]),position:d,style:e,"data-testid":"rf__controls","aria-label":f,children:[t&&m.jsxs(m.Fragment,{children:[m.jsx(sC,{onClick:C,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:m.jsx(zXt,{})}),m.jsx(sC,{onClick:_,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v,children:m.jsx(KXt,{})})]}),r&&m.jsx(sC,{className:"react-flow__controls-fitview",onClick:B,title:"fit view","aria-label":"fit view",children:m.jsx(WXt,{})}),n&&m.jsx(sC,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity",children:p?m.jsx(GXt,{}):m.jsx(VXt,{})}),u]})}GKe.displayName="Controls";const XXt=I.memo(GKe);function JXt({id:e,x:t,y:r,width:n,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,selected:A,onClick:f}){const{background:h,backgroundColor:p}=o||{},v=a||h||p;return m.jsx("rect",{className:Li(["react-flow__minimap-node",{selected:A},c]),x:t,y:r,rx:u,ry:u,width:n,height:i,style:{fill:v,stroke:s,strokeWidth:l},shapeRendering:d,onClick:f?y=>f(y,e):void 0})}const ZXt=I.memo(JXt),eJt=e=>e.nodes.map(t=>t.id),sQ=e=>e instanceof Function?e:()=>e;function tJt({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:i,nodeComponent:o=ZXt,onClick:a}){const s=Qr(eJt,hi),l=sQ(t),c=sQ(e),u=sQ(r),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:s.map(A=>m.jsx(nJt,{id:A,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:n,nodeStrokeWidth:i,NodeComponent:o,onClick:a,shapeRendering:d},A))})}function rJt({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:s,onClick:l}){const{node:c,x:u,y:d,width:A,height:f}=Qr(h=>{const p=h.nodeLookup.get(e),{x:v,y}=p.internals.positionAbsolute,{width:b,height:x}=Vd(p);return{node:p,x:v,y,width:b,height:x}},hi);return!c||c.hidden||!Xze(c)?null:m.jsx(s,{x:u,y:d,width:A,height:f,style:c.style,selected:!!c.selected,className:n(c),color:t(c),borderRadius:i,strokeColor:r(c),strokeWidth:o,shapeRendering:a,onClick:l,id:c.id})}const nJt=I.memo(rJt);var iJt=I.memo(tJt);const oJt=200,aJt=150,sJt=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Gze(xx(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},lJt="react-flow__minimap-desc";function YKe({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:d,position:A="bottom-right",onClick:f,onNodeClick:h,pannable:p=!1,zoomable:v=!1,ariaLabel:y="React Flow mini map",inversePan:b,zoomStep:x=10,offsetScale:S=5}){const C=Yn(),_=I.useRef(null),{boundingRect:B,viewBB:T,rfId:O,panZoom:P,translateExtent:F,flowWidth:U,flowHeight:k}=Qr(sJt,hi),M=(e==null?void 0:e.width)??oJt,D=(e==null?void 0:e.height)??aJt,j=B.width/M,$=B.height/D,Q=Math.max(j,$),H=Q*M,W=Q*D,z=S*Q,V=B.x-(H-B.width)/2-z,G=B.y-(W-B.height)/2-z,X=H+z*2,Z=W+z*2,oe=`${lJt}-${O}`,ae=I.useRef(0),ne=I.useRef();ae.current=Q,I.useEffect(()=>{if(_.current&&P)return ne.current=C7t({domNode:_.current,panZoom:P,getTransform:()=>C.getState().transform,getViewScale:()=>ae.current}),()=>{var de;(de=ne.current)==null||de.destroy()}},[P]),I.useEffect(()=>{var de;(de=ne.current)==null||de.update({translateExtent:F,width:U,height:k,inversePan:b,pannable:p,zoomStep:x,zoomable:v})},[p,v,b,x,F,U,k]);const te=f?de=>{var ye;const[re,he]=((ye=ne.current)==null?void 0:ye.pointer(de))||[0,0];f(de,{x:re,y:he})}:void 0,se=h?I.useCallback((de,re)=>{const he=C.getState().nodeLookup.get(re);h(de,he)},[]):void 0;return m.jsx(RT,{position:A,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*Q:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="string"?a:void 0},className:Li(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:M,height:D,viewBox:`${V} ${G} ${X} ${Z}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":oe,ref:_,onClick:te,children:[y&&m.jsx("title",{id:oe,children:y}),m.jsx(iJt,{onClick:se,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${V-z},${G-z}h${X+z*2}v${Z+z*2}h${-X-z*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}YKe.displayName="MiniMap";const cJt=I.memo(YKe);function uJt({nodeId:e,position:t,variant:r=Q0.Handle,className:n,style:i={},children:o,color:a,minWidth:s=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:d=!1,shouldResize:A,onResizeStart:f,onResize:h,onResizeEnd:p}){const v=BKe(),y=typeof e=="string"?e:v,b=Yn(),x=I.useRef(null),S=r===Q0.Line?"right":"bottom-right",C=t??S,_=I.useRef(null);I.useEffect(()=>{if(!(!x.current||!y))return _.current||(_.current=L7t({domNode:x.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:P,transform:F,snapGrid:U,snapToGrid:k,nodeOrigin:M,domNode:D}=b.getState();return{nodeLookup:P,transform:F,snapGrid:U,snapToGrid:k,nodeOrigin:M,paneDomNode:D}},onChange:(P,F)=>{const{triggerNodeChanges:U,nodeLookup:k,parentLookup:M,nodeOrigin:D}=b.getState(),j=[],$={x:P.x,y:P.y},Q=k.get(y);if(Q&&Q.expandParent&&Q.parentId){const H=Q.origin??D,W=P.width??Q.measured.width??0,z=P.height??Q.measured.height??0,V={id:Q.id,parentId:Q.parentId,rect:{width:W,height:z,...Jze({x:P.x??Q.position.x,y:P.y??Q.position.y},{width:W,height:z},Q.parentId,k,H)}},G=xW([V],k,M,D);j.push(...G),$.x=P.x?Math.max(H[0]*W,P.x):void 0,$.y=P.y?Math.max(H[1]*z,P.y):void 0}if($.x!==void 0&&$.y!==void 0){const H={id:y,type:"position",position:{...$}};j.push(H)}if(P.width!==void 0&&P.height!==void 0){const H={id:y,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:P.width,height:P.height}};j.push(H)}for(const H of F){const W={...H,type:"position"};j.push(W)}U(j)},onEnd:()=>{const P={id:y,type:"dimensions",resizing:!1};b.getState().triggerNodeChanges([P])}})),_.current.update({controlPosition:C,boundaries:{minWidth:s,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:d,onResizeStart:f,onResize:h,onResizeEnd:p,shouldResize:A}),()=>{var P;(P=_.current)==null||P.destroy()}},[C,s,l,c,u,d,f,h,p,A]);const B=C.split("-"),T=r===Q0.Line?"borderColor":"backgroundColor",O=a?{...i,[T]:a}:i;return m.jsx("div",{className:Li(["react-flow__resize-control","nodrag",...B,r,n]),ref:x,style:O,children:o})}I.memo(uJt);const dJt=({data:e,selected:t})=>{const[r,n]=I.useState(e.label||"New Node");return m.jsxs(Kn,{sx:{padding:"10px",border:"2px solid #6200ea",borderRadius:"5px",backgroundColor:"white",boxShadow:t?"0 0 10px rgba(0,0,0,0.2)":"none",minWidth:"150px",textAlign:"center"},children:[t?m.jsx(gn,{fullWidth:!0,variant:"standard",value:r,onChange:i=>n(i.target.value),autoFocus:!0}):m.jsx("strong",{children:r}),m.jsx(mu,{type:"target",position:Lt.Top}),m.jsx(mu,{type:"source",position:Lt.Bottom})]})},AJt=({data:e})=>{const t=e.label||"No Label";return m.jsxs(Kn,{sx:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:"lightblue",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontWeight:"bold"},children:[t,m.jsx(mu,{type:"source",position:Lt.Bottom}),m.jsx(mu,{type:"target",position:Lt.Top})]})},fJt=({data:e})=>{const t=e.label||"No Label";return m.jsxs(Kn,{sx:{width:"120px",height:"120px",backgroundColor:"lightcoral",transform:"rotate(45deg)",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontWeight:"bold"},children:[m.jsx("div",{style:{transform:"rotate(-45deg)"},children:t}),m.jsx(mu,{type:"source",position:Lt.Bottom}),m.jsx(mu,{type:"target",position:Lt.Top})]})},hJt=()=>`node_${+new Date}`,pJt={editable:dJt,circle:AJt,diamond:fJt},gJt=()=>{const e=(d,A)=>{try{const f=localStorage.getItem(d);return f?JSON.parse(f):A}catch{return A}},[t,r,n]=jXt(e("nodes",[])),[i,o,a]=LXt(e("edges",[])),[s,l]=I.useState(null);I.useEffect(()=>{localStorage.setItem("nodes",JSON.stringify(t)),localStorage.setItem("edges",JSON.stringify(i))},[t,i]);const c=d=>{const A={id:hJt(),position:{x:Math.random()*300,y:Math.random()*300},data:{label:"New Node"},type:d};r(f=>[...f,A]),l(null)},u=I.useCallback(d=>o(A=>iKe(d,A)),[o]);return m.jsxs(Kn,{sx:{height:"90vh",display:"flex",flexDirection:"column"},children:[m.jsxs(Kn,{sx:{display:"flex",gap:2,p:2,backgroundColor:"#f5f5f5"},children:[m.jsx(_a,{variant:"contained",color:"primary",onClick:d=>l(d.currentTarget),children:"Add Node"}),m.jsxs(zq,{anchorEl:s,open:!!s,onClose:()=>l(null),children:[m.jsx(pC,{onClick:()=>c("editable"),children:"Editable Box"}),m.jsx(pC,{onClick:()=>c("circle"),children:"Circle"}),m.jsx(pC,{onClick:()=>c("diamond"),children:"Decision Node"})]})]}),m.jsx(Kn,{sx:{flex:1},children:m.jsxs(DXt,{nodes:t,edges:i,onNodesChange:n,onEdgesChange:a,onConnect:u,fitView:!0,nodeTypes:pJt,children:[m.jsx(cJt,{}),m.jsx(XXt,{}),m.jsx(qXt,{})]})})]})},mJt=()=>{const e=[{title:"Pipeline Tool",description:"Monitor and manage sales pipelines efficiently, track progress, and forecast sales outcomes."},{title:"Rowers Overview",description:"Get a complete overview of rowers (sales representatives), their performance, and key metrics."},{title:"Rowers Chart",description:"Visualize sales data and trends with interactive charts to make informed decisions."},{title:"Sales Tool",description:"Access powerful sales data analytics, track conversions, and optimize sales strategies."},{title:"Win Room",description:"A dedicated space to analyze successful sales deals and refine winning strategies."},{title:"Canvas",description:"A flexible workspace to map out sales strategies, brainstorm, and create actionable plans."}];return m.jsx(yb,{title:"Information",children:m.jsxs(XA,{maxWidth:"md",sx:{mb:6},children:[m.jsxs(yu,{elevation:3,sx:{p:4,textAlign:"center",bgcolor:"#f5f5f5"},children:[m.jsx(Bt,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Welcome to the Sales Analysis Tool"}),m.jsx(Bt,{variant:"subtitle1",color:"text.secondary",children:"Learn how to use the platform efficiently and make data-driven sales decisions."})]}),m.jsxs(Kn,{mt:4,children:[m.jsx(Bt,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:" Features & Tools"}),m.jsx(J0,{children:e.map((t,r)=>m.jsxs(ue.Fragment,{children:[m.jsx(vg,{children:m.jsx(oh,{primary:m.jsx(Bt,{variant:"h6",fontWeight:"bold",children:t.title}),secondary:m.jsx(Bt,{variant:"body1",children:t.description})})}),r<e.length-1&&m.jsx(Ih,{})]},t.title))})]}),m.jsxs(Kn,{mt:6,p:3,sx:{bgcolor:"#e3f2fd",borderRadius:2},children:[m.jsx(Bt,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:" Technical Overview"}),m.jsxs(Bt,{variant:"body1",paragraph:!0,children:["This tool is built using ",m.jsx("strong",{children:"React"})," with"," ",m.jsx("strong",{children:"Vite"})," for fast development and performance optimization. The UI is powered by ",m.jsx("strong",{children:"MUI"}),", including specialized & tailored styling, for a modern and responsive experience. The usage of popular API's & Libraries such as"," ",m.jsx("strong",{children:"MUI & TlDraw"})," makes the tool easily developed and flexible."]}),m.jsx(Bt,{variant:"body1",paragraph:!0,children:"The architecture follows a modular approach with the following concepts:"}),m.jsxs(J0,{children:[m.jsx(vg,{children:m.jsx(oh,{primary:" Component-based structure for scalability."})}),m.jsx(vg,{children:m.jsx(oh,{primary:" State management using React hooks and context (if applicable)."})}),m.jsx(vg,{children:m.jsx(oh,{primary:" Routing handled by React Router for seamless navigation."})}),m.jsx(vg,{children:m.jsx(oh,{primary:" Optimized performance using lazy loading and efficient API calls."})})]})]}),m.jsx(Kn,{mt:4,textAlign:"center",children:m.jsx(Bt,{variant:"body2",color:"text.secondary",children:" Need help? Reach out to the development team!"})})]})})},vJt=()=>{const{login:e}=gq(),t=Wh(),[r,n]=I.useState(""),[i,o]=I.useState(""),[a,s]=I.useState(""),l=()=>{e(r,i)?t("/"):s("Invalid username or password")};return m.jsx(XA,{maxWidth:"xs",children:m.jsxs(Kn,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",children:[m.jsx("img",{src:GOe,alt:"Logo",style:{width:"150px",marginBottom:"20px"}}),m.jsx(Bt,{variant:"h5",gutterBottom:!0,children:"Login"}),m.jsx(gn,{fullWidth:!0,label:"Username",margin:"normal",onChange:c=>n(c.target.value)}),m.jsx(gn,{fullWidth:!0,type:"password",label:"Password",margin:"normal",onChange:c=>o(c.target.value)}),a&&m.jsx(Bt,{color:"error",children:a}),m.jsx(_a,{fullWidth:!0,variant:"contained",color:"primary",onClick:l,sx:{marginTop:2},children:"Login"})]})})},yJt=FI({palette:{primary:{main:"#9900cc"},secondary:{main:"#f50057"},success:{main:"#4caf50"},warning:{main:"#ff9800"},error:{main:"#f44336"},info:{main:"#2196f3"}}}),wJt=()=>m.jsx(oVe,{children:m.jsxs(G9e,{basename:"/ITM8",children:[m.jsx(gtt,{}),m.jsxs(E9e,{children:[m.jsx(As,{path:"/login",element:m.jsx(vJt,{})}),m.jsxs(As,{element:m.jsx(aVe,{}),children:[m.jsx(As,{path:"/",element:m.jsx(vtt,{})}),m.jsx(As,{path:"/PipelinePage",element:m.jsx(ytt,{})}),m.jsx(As,{path:"/RowersPage",element:m.jsx(QYe,{theme:yJt,children:m.jsx(wtt,{})})}),m.jsx(As,{path:"/RowersChartPage",element:m.jsx(Qxt,{})}),m.jsx(As,{path:"/SalestoolPage",element:m.jsx(zxt,{})}),m.jsx(As,{path:"/WinRoomPage",element:m.jsx(Yxt,{})}),m.jsx(As,{path:"/CanvasPage",element:m.jsx(HWt,{})}),m.jsx(As,{path:"/FlowPage",element:m.jsx(gJt,{})}),m.jsx(As,{path:"/StakeholderPage",element:m.jsx(zWt,{})}),m.jsx(As,{path:"/information",element:m.jsx(mJt,{})})]})]})]})});xTe.createRoot(document.getElementById("root")).render(m.jsx(I.StrictMode,{children:m.jsx(wJt,{})}));
